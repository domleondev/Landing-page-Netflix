T7u0V[218948]=(function(){var D4k=2;for(;D4k !== 9;){switch(D4k){case 5:var h3y;try{var p6M=2;for(;p6M !== 6;){switch(p6M){case 9:delete h3y['\u004a\x4b\x47\x6d\x58'];var b8Y=Object['\u0070\u0072\x6f\x74\x6f\u0074\x79\u0070\u0065'];delete b8Y['\x78\u0059\u006c\x33\x54'];p6M=6;break;case 2:Object['\u0064\x65\u0066\u0069\u006e\x65\x50\u0072\u006f\x70\u0065\x72\x74\x79'](Object['\x70\u0072\u006f\u0074\x6f\x74\x79\u0070\x65'],'\x78\u0059\x6c\x33\u0054',{'\x67\x65\x74':function(){var F_g=2;for(;F_g !== 1;){switch(F_g){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});h3y=xYl3T;h3y['\u004a\u004b\u0047\x6d\u0058']=h3y;p6M=4;break;case 4:p6M=typeof JKGmX === '\x75\x6e\u0064\x65\x66\u0069\u006e\u0065\x64'?3:9;break;case 3:throw "";p6M=9;break;}}}catch(Y$W){h3y=window;}return h3y;break;case 1:return globalThis;break;case 2:D4k=typeof globalThis === '\x6f\x62\x6a\u0065\x63\x74'?1:5;break;}}})();T7u0V[2559]=(function(J6Z){return {d0UjBRY:function(){var P4G,c7h=arguments;switch(J6Z){case 18:P4G=c7h[0] / c7h[2] - c7h[1];break;case 2:P4G=c7h[0] + c7h[2] + c7h[1];break;case 14:P4G=c7h[1] * c7h[0];break;case 21:P4G=c7h[2] / c7h[0] | c7h[1];break;case 7:P4G=c7h[1] === c7h[0];break;case 1:P4G=c7h[4] + c7h[2] + c7h[0] + c7h[1] + c7h[3];break;case 15:P4G=c7h[2] - c7h[1] + c7h[0] - c7h[3];break;case 6:P4G=c7h[0] / c7h[1] + c7h[2];break;case 12:P4G=c7h[4] / c7h[1] / c7h[2] / c7h[0] - c7h[3];break;case 8:P4G=(c7h[2] - c7h[1]) * c7h[0];break;case 9:P4G=(c7h[1] + c7h[0]) * c7h[3] - c7h[2];break;case 0:P4G=c7h[0] + c7h[1];break;case 11:P4G=c7h[3] + c7h[0] - c7h[2] - c7h[1];break;case 17:P4G=c7h[1] <= c7h[0];break;case 24:P4G=c7h[2] + c7h[0] - c7h[1];break;case 16:P4G=c7h[1] < c7h[0];break;case 3:P4G=c7h[1] - c7h[0];break;case 13:P4G=(-c7h[1] / c7h[4] - c7h[2]) / c7h[0] + c7h[3];break;case 5:P4G=c7h[1] * c7h[0] / c7h[2];break;case 22:P4G=c7h[1] / c7h[0] - c7h[2] - c7h[3];break;case 23:P4G=-c7h[1] - c7h[3] - c7h[0] + c7h[2];break;case 10:P4G=c7h[2] * c7h[1] - c7h[0];break;case 20:P4G=c7h[1] + c7h[0] / c7h[2] * c7h[3];break;case 19:P4G=(c7h[3] / c7h[1] | c7h[0]) * c7h[2];break;case 4:P4G=c7h[0] / c7h[1];break;}return P4G;},k6S03EO:function(g_f){J6Z=g_f;}};})();T7u0V.O1f=function(){return typeof T7u0V[2559].d0UjBRY === 'function'?T7u0V[2559].d0UjBRY.apply(T7u0V[2559],arguments):T7u0V[2559].d0UjBRY;};T7u0V.f9E=function(){return typeof T7u0V[2559].k6S03EO === 'function'?T7u0V[2559].k6S03EO.apply(T7u0V[2559],arguments):T7u0V[2559].k6S03EO;};T7u0V[326362]="LVp";T7u0V.T1h=function(){return typeof T7u0V[2559].d0UjBRY === 'function'?T7u0V[2559].d0UjBRY.apply(T7u0V[2559],arguments):T7u0V[2559].d0UjBRY;};T7u0V[163433]=false;function T7u0V(){}T7u0V[43605]=494;T7u0V[183036]=T7u0V[218948];T7u0V[624220]="Fs8";T7u0V[218948].i4RR=T7u0V;T7u0V[395594]=false;T7u0V[235151]="nYl";T7u0V.o8l=function(){return typeof T7u0V[2559].k6S03EO === 'function'?T7u0V[2559].k6S03EO.apply(T7u0V[2559],arguments):T7u0V[2559].k6S03EO;};T7u0V[295167]="mMD";(function(){(function(ob,Gb){var qc,Bc,Vb,kd,Lb,Mb,bc,ke,le,Tb,Sb,Kc,me,ld,ne,oe,Ed,Ga,Hb,Zc,pe,Fd,hb,yb,Ib,rc,jc,Yb,Bb,cc,Ub,ad,Ob,Cc,Rb,dc,md,sc,oc,pc,nd,Gd,qe,Dc,Ec,Mc,Hd,bd,tc,od,Jc,Id,re,Sc,Jd,Kd,Ld,Md,uc,Nd,Od,Pd,Uc,vc,wc,Vc,pd,qd,rd,lc,rf,Wb,Lc,se,sd,xc,te,sf,yc,ue,tf,td,ve,uf,Yc,we,qf,vf,Qd,ud,wf,xf,he,yf,ie,xe,kc,cd,ye,dd,ze,mc,Ae,Be,Ce,De,Af,je,Ee,Dd,Fe,zf,Ge,Rd,He,Ie,Je,Sd,Ic,Le,Ke,Bf,fd,Me,Ud,gd,Ne,Td,Oe,Pe,Vd,Re,Se,yd,Nc,Wc,Oc,Te,Ue,Ve,We,Xe,Ye,zd,Cf,Ze,$e,Xd,af,ic,ed,Tc,vd,Fc,zc,wd,Gc,$c,Qe,bf,hd,cf,Df,id,df,Ef,Ff,ef,Wd,xd,ff,Hf,Gf,Xc,jd,If,ge,Jf,Kf;function ec(jb,ib){if(!ib || "utf-8" === ib)return Ad(jb);throw Error("unsupported encoding");}function fc(jb,ib){if(!ib || "utf-8" === ib)return Bd(jb);throw Error("unsupported encoding");}function Ad(jb){for(var ib=0,gb,cb=jb.length,nb="";ib < cb;){gb=jb[ib++];if(gb & 128)if(192 === (gb & 224))gb=((gb & 31) << 6) + (jb[ib++] & 63);else if(224 === (gb & 240))gb=((gb & 15) << 12) + ((jb[ib++] & 63) << 6) + (jb[ib++] & 63);else throw Error("unsupported character");nb+=String.fromCharCode(gb);}return nb;}function Bd(jb){var ib,gb,cb,nb,xb;ib=jb.length;gb=0;nb=0;for(cb=ib;cb--;){xb=jb.charCodeAt(cb);128 > xb?gb++:gb=2048 > xb?gb + 2:gb + 3;}gb=new Uint8Array(gb);for(cb=0;cb < ib;cb++){xb=jb.charCodeAt(cb);128 > xb?gb[nb++]=xb:(2048 > xb?gb[nb++]=192 | xb >>> 6:(gb[nb++]=224 | xb >>> 12,gb[nb++]=128 | xb >>> 6 & 63),gb[nb++]=128 | xb & 63);}return gb;}function gc(jb,ib){if(jb === ib)return !0;if(!jb || !ib || jb.length != ib.length)return !1;for(var gb=0;gb < jb.length;++gb){if(jb[gb] != ib[gb])return !1;}return !0;}function hc(jb){var cb;if(!(jb && jb.constructor == Uint8Array || Array.isArray(jb)))throw new TypeError("Cannot compute the hash code of " + jb);for(var ib=1,gb=0;gb < jb.length;++gb){cb=jb[gb];if("number" !== typeof cb)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + cb);ib=31 * ib + cb & 4294967295;}return ib;}function be(jb,ib){var lb;if(jb === ib)return !0;if(!jb || !ib)return !1;ib instanceof Array || (ib=[ib]);for(var gb=0;gb < ib.length;++gb){for(var cb=ib[gb],nb=!1,xb=0;xb < jb.length;++xb){lb=jb[xb];if(cb.equals && "function" === typeof cb.equals && cb.equals(lb) || cb == lb){nb=!0;break;}}if(!nb)return !1;}return !0;}function ce(jb,ib){return be(jb,ib) && (jb.length == ib.length || be(ib,jb));}function Na(jb,ib,gb){var cb,nb;gb && (cb=gb);if("object" !== typeof jb || "function" !== typeof jb.result || "function" !== typeof jb.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{nb=ib.call(cb,jb);nb !== Gb && jb.result(nb);}catch(xb){try{jb.error(xb);}catch(lb){}}}function fb(jb,ib,gb){if("object" !== typeof jb || "function" !== typeof jb.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Na(jb,ib,gb);}function S(jb,ib,gb){1E5 > jb && (jb=1E5 + jb);Object.defineProperties(this,{internalCode:{value:jb,writable:!1,configurable:!1},responseCode:{value:ib,writable:!1,configurable:!1},message:{value:gb,writable:!1,configurable:!1}});}function Cd(jb){switch(jb){case Wb.PSK:case Wb.MGK:return !0;default:return !1;}}function de(jb){switch(jb){case Wb.PSK:case Wb.MGK:case Wb.X509:case Wb.RSA:case Wb.NPTICKET:case Wb.ECC:return !0;default:return !1;}}function mf(jb){return jb.toJSON();}function ee(jb,ib){jd?ib.result(jd):Promise.resolve().then(function(){return Rb.getKeyByName(jb);}).catch(function(){return Rb.generateKey({name:jb},!1,["wrapKey","unwrapKey"]);}).then(function(gb){jd=gb;ib.result(jd);}).catch(function(gb){ib.error(new hb(S.INTERNAL_EXCEPTION,"Unable to get system key"));});}function fe(jb,ib){var gb,cb;gb=ib.masterToken;cb=ib.userIdToken;ib=ib.serviceTokens;return {NccpMethod:jb.method,UserId:jb.userId,UT:cb && cb.serialNumber,MT:gb && gb.serialNumber + ":" + gb.sequenceNumber,STCount:ib && ib.length};}function nf(jb){return jb.uniqueKey();}function of(jb,ib,gb,cb,nb){var Qa;function xb(ua,ka){ua.errorCode === Ga.ENTITY_REAUTH || ua.errorCode === Ga.ENTITYDATA_REAUTH?(cb.clearCryptoContexts(),Ka()):ua.errorCode !== Ga.USER_REAUTH && ua.errorCode !== Ga.USERDATA_REAUTH || lb(ka);}function lb(ua){if(ua=cb.getUserIdToken(ua))(cb.removeUserIdToken(ua),Ka());}function Ca(ua,ka,ca){var W;W=[];(function U(){ua.read(-1,ka,{result:function(aa){Na(ca,function(){var V,ea,wa,sa,fa;if(aa)(W.push(aa),U());else switch(W.length){case 0:return new Uint8Array(0);case 1:return W[0];default:(wa=W.length,sa=0);for(ea=V=0;ea < wa;ea++){V+=W[ea].length;}V=new Uint8Array(V);for(ea=0;ea < wa;ea++){fa=W[ea];V.set(fa,sa);sa+=fa.length;}return V;}});},timeout:function(){ca.timeout();},error:function(aa){ca.error(aa);}});})();}function Ka(){cb.getStoreState({result:function(ua){for(var ka=Qa.slice(),ca=0;ca < ka.length;ca++){ka[ca]({storeState:ua});}},timeout:function(){jb.error("Timeout getting store state","" + e);},error:function(ua){jb.error("Error getting store state","" + ua);}});}Qa=[];this.addEventHandler=function(ua,ka){switch(ua){case "shouldpersist":Qa.push(ka);}};this.send=function(ua){return new Promise(function(ka,ca){var W,T,U;W=ua.timeout;T=new ge(jb,gb,ua,cb.getKeyRequestData());U=new he(ua.url);jb.trace("Sending MSL request");ib.request(gb,T,U,W,{result:function(aa){var V;jb.trace("Received MSL response",{Method:ua.method});if(aa){ua.allowTokenRefresh && Ka();V=aa.getErrorHeader();V?(xb(V,ua.profileGuid || ua.userId),ca({success:!1,error:V})):Ca(aa,W,{result:function(ea){ka({success:!0,body:ec(ea)});},timeout:function(){ca({success:!1,subCode:nb.MSL_READ_TIMEOUT});},error:function(ea){ca({success:!1,error:ea});}});}else ca({success:!1,error:new hb(S.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){ca({success:!1,subCode:nb.MSL_REQUEST_TIMEOUT});},error:function(aa){ca({success:!1,error:aa});}});});};this.hasUserIdToken=function(ua){return !!cb.getUserIdToken(ua);};this.getUserIdTokenKeys=function(){return cb.getUserIdTokenKeys();};this.removeUserIdToken=lb;this.clearUserIdTokens=function(){cb.clearUserIdTokens();Ka();};this.isErrorReauth=function(ua){return ua && ua.errorCode == Ga.USERDATA_REAUTH;};this.isErrorHeader=function(ua){return ua instanceof Ic;};this.getErrorCode=function(ua){return ua && ua.errorCode;};this.getStateForMdx=function(ua){var ka,ca;ka=cb.getMasterToken();ua=cb.getUserIdToken(ua);ca=cb.getCryptoContext(ka);return {masterToken:ka,userIdToken:ua,cryptoContext:ca};};this.buildPlayDataRequest=function(ua,ka){var ca;ca=new ie();ib.request(gb,new ge(jb,gb,ua),ca,ua.timeout,{result:function(){ka.result(ca.getRequest());},error:function(){ka.result(ca.getRequest());},timeout:function(){ka.timeout();}});};this.rekeyUserIdToken=function(ua,ka){cb.rekeyUserIdToken(ua,ka);Ka();};this.getServiceTokens=function(ua){var ka;ka=cb.getMasterToken();(ua=cb.getUserIdToken(ua)) && !ua.isBoundTo(ka) && (ua=Gb);return cb.getServiceTokens(ka,ua);};this.removeServiceToken=function(ua){var ka;ka=cb.getMasterToken();cb.getServiceTokens(ka).find(function(ca){return ca.name === ua;}) && (cb.removeServiceTokens(ua,ka),Ka());};}function pf(jb,ib,gb){var xb;function cb(){return Promise.resolve().then(function(){return Rb.generateKey(ib,!1,["wrapKey","unwrapKey"]);}).then(function(lb){return nb(lb.publicKey,lb.privateKey);});}function nb(lb,Ca){return Promise.all([new Promise(function(Ka,Qa){Jc(lb,{result:Ka,error:function(ua){Qa(new hb(S.INTERNAL_EXCEPTION,"Unable to create keyx public key",ua));}});}),new Promise(function(Ka,Qa){Sc(Ca,{result:Ka,error:function(ua){Qa(new hb(S.INTERNAL_EXCEPTION,"Unable to create keyx private key",ua));}});})]).then(function(Ka){Ka=new Dd("rsaKeypairId",gb,Ka[0],Ka[1]);xb && (Ka.storeData={keyxPublicKey:lb,keyxPrivateKey:Ca});return Ka;});}xb=!jb.systemKeyWrapFormat;return Promise.resolve().then(function(){var lb,Ca;lb=jb.storeState;Ca=lb && lb.keyxPublicKey;lb=lb && lb.keyxPrivateKey;return xb && Ca && lb?nb(Ca,lb):cb();}).then(function(lb){var Ca,Ka,Qa;Ca={};Ca[Wb.NONE]=new qf();Ka=new Yc(jb.esn);Qa=[new je()];return {entityAuthFactories:Ca,entityAuthData:Ka,keyExchangeFactories:Qa,keyRequestData:lb,createKeyRequestData:xb?cb:Gb};});}Bc=ob.nfCrypto || ob.msCrypto || ob.webkitCrypto || ob.crypto;Vb=Bc && (Bc.webkitSubtle || Bc.subtle);kd=ob.nfCryptokeys || ob.msCryptokeys || ob.webkitCryptokeys || ob.cryptokeys;(function(jb){var ib,gb;ib=(function(){function cb(nb,xb){nb instanceof ib?(this.abv=nb.abv,this.position=nb.position):(this.abv=nb,this.position=xb || 0);}cb.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(nb){this.abv[this.position++]=nb;},peekByte:function(nb){return this.abv[nb];},copyBytes:function(nb,xb,lb){var Ca;Ca=new Uint8Array(this.abv.buffer,this.position,lb);nb=new Uint8Array(nb.buffer,xb,lb);Ca.set(nb);this.position+=lb;},seek:function(nb){this.position=nb;},skip:function(nb){this.position+=nb;},getPosition:function(){return this.position;},setPosition:function(nb){this.position=nb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return cb;})();gb={};(function(){var aa,V,ea,wa,sa,fa,pa,Aa,ja;function cb(Y,ba){var da;ba.writeByte(Y.tagClass << 6 | Y.constructed << 5 | Y.tag);da=Y.payloadLen;if(128 > da)ba.writeByte(da);else {for(var ya=da,Ua=0;ya;){++Ua;ya>>=8;}ba.writeByte(128 | Ua);for(ya=0;ya < Ua;++ya){ba.writeByte(da >> 8 * (Ua - ya - 1) & 255);}}if(Y.child)for((Y.tag == aa.BIT_STRING && ba.writeByte(0),Y=Y._child);Y;){if(!cb(Y,ba))return !1;Y=Y.next;}else switch(Y.tag){case aa.INTEGER:Y.backingStore[Y.dataIdx] >> 7 && ba.writeByte(0);ba.copyBytes(Y.backingStore,Y.dataIdx,Y.dataLen);break;case aa.BIT_STRING:ba.writeByte(0);ba.copyBytes(Y.backingStore,Y.dataIdx,Y.dataLen);break;case aa.OCTET_STRING:ba.copyBytes(Y.backingStore,Y.dataIdx,Y.dataLen);break;case aa.OBJECT_IDENTIFIER:ba.copyBytes(Y.backingStore,Y.dataIdx,Y.dataLen);}return !0;}function nb(Y){var ba,da;ba=Y.readByte();da=ba & 127;if(da == ba)return da;if(3 < da || 0 === da)return -1;for(var ya=ba=0;ya < da;++ya){ba=ba << 8 | Y.readByte();}return ba;}function xb(Y,ba,da){var ya,Ua,Ma,Ra,Wa,ma,za;ya=Y.backingStore;Ua=new ib(ya,ba);ba+=da;da=Y;if(8 < sa++)return Gb;for(;Ua.getPosition() < ba;){Ua.getPosition();Ra=Ua.readByte();if(31 == (Ra & 31)){for(Ma=0;Ra & 128;){Ma<<=8;Ma|=Ra & 127;}Ra=Ma;}Wa=Ra;Ma=Wa & 31;if(0 > Ma || 30 < Ma)return Gb;Ra=nb(Ua);if(0 > Ra || Ra > Ua.getRemaining())return Gb;da.constructed=Wa & 32;da.tagClass=(Wa & 192) >> 6;da.tag=Ma;da.dataLen=Ra;da.dataIdx=Ua.getPosition();Ma=Ua;ma=Wa;Wa=Ra;if(ma & 32)Ma=!0;else if(ma < aa.BIT_STRING || ma > aa.OCTET_STRING)Ma=!1;else {za=new ib(Ma);ma == aa.BIT_STRING && za.skip(1);za.readByte() >> 6 & 1?Ma=!1:(ma=nb(za),Ma=za.getPosition() - Ma.getPosition() + ma == Wa);}Ma && (Ma=Ua.getPosition(),Wa=Ra,da.tag == aa.BIT_STRING && (da.dataIdx++,da.dataLen--,Ma++,Wa--),da.child=new V(ya,da),xb(da.child,Ma,Wa));da.tag == aa.INTEGER && (Ma=Ua.getPosition(),0 == Ua.peekByte(Ma) && Ua.peekByte(Ma + 1) >> 7 && (da.dataIdx++,da.dataLen--));Ua.skip(Ra);Ua.getPosition() < ba && (da.next=new V(ya,da.parent),da=da.next);}sa--;return Y;}function lb(Y,ba,da){if(9 != da)return !1;for(da=0;9 > da;++da){if(Y[ba++] != fa[da])return !1;}return !0;}function Ca(Y){var ba;if(!(Y && Y.child && Y.child.next && Y.child.child && Y.child.next.child))return !1;ba=Y.child.child;return lb(ba.backingStore,ba.dataIdx,ba.dataLen) && 2 == Y.nChildren && 2 == Y.child.nChildren && 2 == Y.child.next.child.nChildren?!0:!1;}function Ka(Y){var ba;if(!(Y && Y.child && Y.child.next && Y.child.next.child && Y.child.next.next && Y.child.next.next.child))return !1;ba=Y.child.next.child;return lb(ba.backingStore,ba.dataIdx,ba.dataLen) && 3 == Y.nChildren && 2 == Y.child.next.nChildren && 9 == Y.child.next.next.child.nChildren?!0:!1;}function Qa(Y){var ba,da;ba=ea.createSequenceNode();da=new wa(ba);da.addChild(ea.createSequenceNode());da.addChild(ea.createOidNode(fa));da.addSibling(ea.createNullNode());da.addToParent(ba,ea.createBitStringNode(null));da.addChild(ea.createSequenceNode());da.addChild(ea.createIntegerNode(Y.n));da.addSibling(ea.createIntegerNode(Y.e));return ba;}function ua(Y){var ba;Y=Y.child.next.child.child;ba=Y.data;Y=Y.next;return new pa(ba,Y.data,null,null);}function ka(Y){var ba,da;ba=ea.createSequenceNode();da=new wa(ba);da.addChild(ea.createIntegerNode(new Uint8Array([0])));da.addSibling(ea.createSequenceNode());da.addChild(ea.createOidNode(fa));da.addSibling(ea.createNullNode());da.addToParent(ba,ea.createOctetStringNode(null));da.addChild(ea.createSequenceNode());da.addChild(ea.createIntegerNode(new Uint8Array([0])));da.addSibling(ea.createIntegerNode(Y.n));da.addSibling(ea.createIntegerNode(Y.e));da.addSibling(ea.createIntegerNode(Y.d));da.addSibling(ea.createIntegerNode(Y.p));da.addSibling(ea.createIntegerNode(Y.q));da.addSibling(ea.createIntegerNode(Y.dp));da.addSibling(ea.createIntegerNode(Y.dq));da.addSibling(ea.createIntegerNode(Y.qi));return ba;}function ca(Y){var ba;ba=[];Y=Y.child.next.next.child.child.next;for(var da=0;8 > da;da++){ba.push(Y.data);Y=Y.next;}return new Aa(ba[0],ba[1],ba[2],ba[3],ba[4],ba[5],ba[6],ba[7]);}function W(Y,ba,da,ya){if(!(Y instanceof pa || Y instanceof Aa))return Gb;if(da)for(var Ua=0;Ua < da.length;++Ua){if(-1 == ja.indexOf(da[Ua]))return Gb;}ba={kty:"RSA",alg:ba,key_ops:da || [],ext:ya == Gb?!1:ya,n:Lb(Y.n,!0),e:Lb(Y.e,!0)};Y instanceof Aa && (ba.d=Lb(Y.d,!0),ba.p=Lb(Y.p,!0),ba.q=Lb(Y.q,!0),ba.dp=Lb(Y.dp,!0),ba.dq=Lb(Y.dq,!0),ba.qi=Lb(Y.qi,!0));return ba;}function T(Y){var ba,da,ya,Ua,Ma,Ra,Wa,ma,za,Ea;if(!Y.kty || "RSA" != Y.kty || !Y.n || !Y.e)return Gb;ba=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(Y.alg && -1 == ba.indexOf(Y.alg))return Gb;ba=[];Y.use?"enc" == Y.use?ba=["encrypt","decrypt","wrap","unwrap"]:"sig" == Y.use && (ba=["sign","verify"]):ba=Y.key_ops;da=Y.ext;ya=Mb(Y.n,!0);Ua=Mb(Y.e,!0);if(Y.d){Ma=Mb(Y.d,!0);Ra=Mb(Y.p,!0);Wa=Mb(Y.q,!0);ma=Mb(Y.dp,!0);za=Mb(Y.dq,!0);Ea=Mb(Y.qi,!0);return new Aa(ya,Ua,Ma,Ra,Wa,ma,za,Ea,Y.alg,ba,da);}return new pa(ya,Ua,da,ba);}function U(Y,ba,da,ya){this.der=Y;this.type=ba;this.keyOps=da;this.extractable=ya;}aa={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};V=function(Y,ba,da,ya,Ua,Ma){this._data=Y;this._parent=ba || Gb;this._constructed=da || !1;this._tagClass=0;this._tag=ya || 0;this._dataIdx=Ua || 0;this._dataLen=Ma || 0;};V.prototype={_child:Gb,_next:Gb,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(Y) {this._constructed=0 != Y?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(Y) {this._tagClass=Y;},get tag() {return this._tag;},set tag(Y) {this._tag=Y;},get dataIdx() {return this._dataIdx;},set dataIdx(Y) {this._dataIdx=Y;},get dataLen() {return this._dataLen;},set dataLen(Y) {this._dataLen=Y;},get child() {return this._child;},set child(Y) {this._child=Y;this._child.parent=this;},get next() {return this._next;},set next(Y) {this._next=Y;},get parent() {return this._parent;},set parent(Y) {this._parent=Y;},get payloadLen() {var Y;Y=0;if(this._child){for(var ba=this._child;ba;){Y+=ba.length;ba=ba.next;}this._tag == aa.BIT_STRING && Y++;}else switch(this._tag){case aa.INTEGER:Y=this._dataLen;this._data[this._dataIdx] >> 7 && Y++;break;case aa.BIT_STRING:Y=this._dataLen + 1;break;case aa.OCTET_STRING:Y=this._dataLen;break;case aa.NULL:Y=0;break;case aa.OBJECT_IDENTIFIER:lb(this._data,this._dataIdx,this._dataLen) && (Y=9);}return Y;},get length() {var Y,ba;Y=this.payloadLen;if(127 < Y)for(ba=Y;ba;){ba>>=8;++Y;}return Y + 2;},get der() {var Y,ba;Y=this.length;if(!Y)return Gb;Y=new Uint8Array(Y);ba=new ib(Y);return cb(this,ba)?Y:Gb;},get nChildren() {for(var Y=0,ba=this._child;ba;){Y++;ba=ba.next;}return Y;}};ea={createSequenceNode:function(){return new V(null,null,!0,aa.SEQUENCE,null,null);},createOidNode:function(Y){return new V(Y,null,!1,aa.OBJECT_IDENTIFIER,0,Y?Y.length:0);},createNullNode:function(){return new V(null,null,!1,aa.NULL,null,null);},createBitStringNode:function(Y){return new V(Y,null,!1,aa.BIT_STRING,0,Y?Y.length:0);},createIntegerNode:function(Y){return new V(Y,null,!1,aa.INTEGER,0,Y?Y.length:0);},createOctetStringNode:function(Y){return new V(Y,null,!1,aa.OCTET_STRING,0,Y?Y.length:0);}};wa=function(Y){this._currentNode=this._rootNode=Y;};wa.prototype={addChild:function(Y){this.addTo(this._currentNode,Y);},addSibling:function(Y){this.addTo(this._currentNode.parent,Y);},addTo:function(Y,ba){this._currentNode=ba;this._currentNode.parent=Y;if(Y.child){for(Y=Y.child;Y.next;){Y=Y.next;}Y.next=ba;}else Y.child=ba;},addToParent:function(Y,ba){this.findNode(Y) && this.addTo(Y,ba);},findNode:function(Y){for(var ba=this._currentNode;ba;){if(Y == ba)return !0;ba=ba.parent;}return !1;}};sa=0;fa=new Uint8Array([42,134,72,134,247,13,1,1,1]);pa=function(Y,ba,da,ya){this.n=Y;this.e=ba;this.ext=da;this.keyOps=ya;};Aa=function(Y,ba,da,ya,Ua,Ma,Ra,Wa,ma,za,Ea){this.n=Y;this.e=ba;this.d=da;this.p=ya;this.q=Ua;this.dp=Ma;this.dq=Ra;this.qi=Wa;this.alg=ma;this.keyOps=za;this.ext=Ea;};ja=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");U.prototype.getDer=function(){return this.der;};U.prototype.getType=function(){return this.type;};U.prototype.getKeyOps=function(){return this.keyOps;};U.prototype.getExtractable=function(){return this.extractable;};gb.parse=function(Y){sa=0;return xb(new V(Y),0,Y.length);};gb.show=function(Y,ba){};gb.isRsaSpki=Ca;gb.isRsaPkcs8=Ka;gb.NodeFactory=ea;gb.Builder=wa;gb.tagVal=aa;gb.RsaPublicKey=pa;gb.RsaPrivateKey=Aa;gb.buildRsaSpki=Qa;gb.parseRsaSpki=function(Y){Y=gb.parse(Y);return Ca?ua(Y):Gb;};gb.buildRsaPkcs8=ka;gb.parseRsaPkcs8=function(Y){Y=gb.parse(Y);return Ka(Y)?ca(Y):Gb;};gb.buildRsaJwk=W;gb.parseRsaJwk=T;gb.RsaDer=U;gb.rsaDerToJwk=function(Y,ba,da,ya){Y=gb.parse(Y);if(!Y)return Gb;if(Ca(Y))Y=ua(Y);else if(Ka(Y))Y=ca(Y);else return Gb;return W(Y,ba,da,ya);};gb.jwkToRsaDer=function(Y){var ba,da;Y=T(Y);if(!Y)return Gb;if(Y instanceof pa){ba="spki";da=Qa(Y).der;}else if(Y instanceof Aa)(ba="pkcs8",da=ka(Y).der);else return Gb;return new U(da,ba,Y.keyOps,Y.ext);};gb.webCryptoAlgorithmToJwkAlg=function(Y){return "RSAES-PKCS1-v1_5" == Y.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == Y.name?"SHA-256" == Y.hash.name?"RS256":"SHA-384" == Y.hash.name?"RS384":"SHA-512" == Y.hash.name?"RS512":Gb:Gb;};gb.webCryptoUsageToJwkKeyOps=function(Y){return Y.map(function(ba){return "wrapKey" == ba?"wrap":"unwrapKey" == ba?"unwrap":ba;});};})();jb.ASN1=gb;})(ob);(function(){for(var jb={},ib={},gb={"=":0,".":0},cb={"=":0,".":0},nb=/\s+/g,xb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,lb=64;lb--;){jb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[lb]]=262144 * lb;ib[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[lb]]=4096 * lb;gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[lb]]=64 * lb;cb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[lb]]=lb;}for(lb=64;lb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[lb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[lb];){jb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[lb]]=262144 * lb;ib[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[lb]]=4096 * lb;gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[lb]]=64 * lb;cb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[lb]]=lb;}Lb=function(Ca,Ka){for(var Qa="",ua=0,ka=Ca.length,ca=ka - 2,W=Ka?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=Ka?"":"=";ua < ca;){Ka=65536 * Ca[ua++] + 256 * Ca[ua++] + Ca[ua++];Qa+=W[Ka >>> 18] + W[Ka >>> 12 & 63] + W[Ka >>> 6 & 63] + W[Ka & 63];}ua == ca?(Ka=65536 * Ca[ua++] + 256 * Ca[ua++],Qa+=W[Ka >>> 18] + W[Ka >>> 12 & 63] + W[Ka >>> 6 & 63] + T):ua == ka - 1 && (Ka=65536 * Ca[ua++],Qa+=W[Ka >>> 18] + W[Ka >>> 12 & 63] + T + T);return Qa;};Mb=function(Ca,Ka){Ca=Ca.replace(nb,"");if(Ka && (Ka=Ca.length % 4)){Ka=4 - Ka;for(var Qa=0;Qa < Ka;++Qa){Ca+="=";}}Ka=Ca.length;if(0 != Ka % 4 || !xb.test(Ca))throw Error("bad base64: " + Ca);for(var ua=Ka / 4 * 3 - ("=" == Ca[Ka - 1]?1:0) - ("=" == Ca[Ka - 2]?1:0),ka=new Uint8Array(ua),ca=0,W=0;ca < Ka;){Qa=jb[Ca[ca++]] + ib[Ca[ca++]] + gb[Ca[ca++]] + cb[Ca[ca++]];ka[W++]=Qa >>> 16;W < ua && (ka[W++]=Qa >>> 8 & 255,W < ua && (ka[W++]=Qa & 255));}return ka;};})();bc={};(function(){var xb,lb,Ca,Qa;function jb(ua){if(!(this instanceof jb))return new jb(ua);for(var ka=0,ca=lb.length;ka < ca;ka++){this[lb[ka]]="";}this.bufferCheckPosition=bc.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=ua || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Ca.BEGIN;this.stack=new xb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;ib(this,"onready");}function ib(ua,ka,ca){if(ua[ka])ua[ka](ca);}function gb(ua,ka){var ca,W;ca=ua.opt;W=ua.textNode;ca.trim && (W=W.trim());ca.normalize && (W=W.replace(/\s+/g," "));ua.textNode=W;ua.textNode && ib(ua,ka?ka:"onvalue",ua.textNode);ua.textNode="";}function cb(ua,ka){gb(ua);ka+="\nLine: " + ua.line + "\nColumn: " + ua.column + "\nChar: " + ua.c;ka=Error(ka);ua.error=ka;ib(ua,"onerror",ka);return ua;}function nb(ua){ua.state !== Ca.VALUE && cb(ua,"Unexpected end");gb(ua);ua.c="";ua.closed=!0;ib(ua,"onend");jb.call(ua,ua.opt);return ua;}xb=Array;bc.parser=function(ua){return new jb(ua);};bc.CParser=jb;bc.MAX_BUFFER_LENGTH=65536;bc.DEBUG=!1;bc.INFO=!1;bc.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");lb=["textNode","numberNode"];bc.EVENTS.filter(function(ua){return "error" !== ua && "end" !== ua;});Ca=0;bc.STATE={BEGIN:Ca++,VALUE:Ca++,OPEN_OBJECT:Ca++,CLOSE_OBJECT:Ca++,OPEN_ARRAY:Ca++,CLOSE_ARRAY:Ca++,TEXT_ESCAPE:Ca++,STRING:Ca++,BACKSLASH:Ca++,END:Ca++,OPEN_KEY:Ca++,CLOSE_KEY:Ca++,TRUE:Ca++,TRUE2:Ca++,TRUE3:Ca++,FALSE:Ca++,FALSE2:Ca++,FALSE3:Ca++,FALSE4:Ca++,NULL:Ca++,NULL2:Ca++,NULL3:Ca++,NUMBER_DECIMAL_POINT:Ca++,NUMBER_DIGIT:Ca++};for(var Ka in bc.STATE){bc.STATE[bc.STATE[Ka]]=Ka;}Ca=bc.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(ua){return ua.__proto__;});Qa=/[\\"\n]/g;jb.prototype={end:function(){nb(this);},write:function(ua){var W,T,U;if(this.error)throw this.error;if(this.closed)return cb(this,"Cannot write after close. Assign an onready handler.");if(null === ua)return nb(this);for(var ka=ua[0],ca;ka;){ca=ka;this.c=ka=ua.charAt(this.index++);ca !== ka?this.p=ca:ca=this.p;if(!ka)break;this.position++;"\n" === ka?(this.line++,this.column=0):this.column++;switch(this.state){case Ca.BEGIN:"{" === ka?this.state=Ca.OPEN_OBJECT:"[" === ka?this.state=Ca.OPEN_ARRAY:"\r" !== ka && "\n" !== ka && " " !== ka && "\t" !== ka && cb(this,"Non-whitespace before {[.");continue;case Ca.OPEN_KEY:case Ca.OPEN_OBJECT:if("\r" === ka || "\n" === ka || " " === ka || "\t" === ka)continue;if(this.state === Ca.OPEN_KEY)this.stack.push(Ca.CLOSE_KEY);else if("}" === ka){ib(this,"onopenobject");ib(this,"oncloseobject");this.state=this.stack.pop() || Ca.VALUE;continue;}else this.stack.push(Ca.CLOSE_OBJECT);'"' === ka?this.state=Ca.STRING:cb(this,'Malformed object key should start with "');continue;case Ca.CLOSE_KEY:case Ca.CLOSE_OBJECT:if("\r" === ka || "\n" === ka || " " === ka || "\t" === ka)continue;":" === ka?(this.state === Ca.CLOSE_OBJECT?(this.stack.push(Ca.CLOSE_OBJECT),gb(this,"onopenobject")):gb(this,"onkey"),this.state=Ca.VALUE):"}" === ka?(gb(this),ib(this,"oncloseobject",void 0),this.state=this.stack.pop() || Ca.VALUE):"," === ka?(this.state === Ca.CLOSE_OBJECT && this.stack.push(Ca.CLOSE_OBJECT),gb(this),this.state=Ca.OPEN_KEY):cb(this,"Bad object");continue;case Ca.OPEN_ARRAY:case Ca.VALUE:if("\r" === ka || "\n" === ka || " " === ka || "\t" === ka)continue;if(this.state === Ca.OPEN_ARRAY)if((ib(this,"onopenarray"),this.state=Ca.VALUE,"]" === ka)){ib(this,"onclosearray");this.state=this.stack.pop() || Ca.VALUE;continue;}else this.stack.push(Ca.CLOSE_ARRAY);'"' === ka?this.state=Ca.STRING:"{" === ka?this.state=Ca.OPEN_OBJECT:"[" === ka?this.state=Ca.OPEN_ARRAY:"t" === ka?this.state=Ca.TRUE:"f" === ka?this.state=Ca.FALSE:"n" === ka?this.state=Ca.NULL:"-" === ka?this.numberNode+=ka:"0" === ka?(this.numberNode+=ka,this.state=Ca.NUMBER_DIGIT):-1 !== ("123456789").indexOf(ka)?(this.numberNode+=ka,this.state=Ca.NUMBER_DIGIT):cb(this,"Bad value");continue;case Ca.CLOSE_ARRAY:if("," === ka)(this.stack.push(Ca.CLOSE_ARRAY),gb(this,"onvalue"),this.state=Ca.VALUE);else if("]" === ka)(gb(this),ib(this,"onclosearray",void 0),this.state=this.stack.pop() || Ca.VALUE);else if("\r" === ka || "\n" === ka || " " === ka || "\t" === ka)continue;else cb(this,"Bad array");continue;case Ca.STRING:ca=this.index - 1;(W=this.slashed,T=this.unicodeI);a:for(;;){if(bc.DEBUG)for(;0 < T;){if((this.unicodeS+=ka,ka=ua.charAt(this.index++),4 === T?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),T=0,ca=this.index - 1):T++,!ka))break a;}if('"' === ka && !W){this.state=this.stack.pop() || Ca.VALUE;(this.textNode+=ua.substring(ca,this.index - 1)) || ib(this,"onvalue","");break;}if("\\" === ka && !W && (W=!0,this.textNode+=ua.substring(ca,this.index - 1),ka=ua.charAt(this.index++),!ka))break;if(W)if((W=!1,"n" === ka?this.textNode+="\n":"r" === ka?this.textNode+="\r":"t" === ka?this.textNode+="\t":"f" === ka?this.textNode+="\f":"b" === ka?this.textNode+="\b":"u" === ka?(T=1,this.unicodeS=""):this.textNode+=ka,ka=ua.charAt(this.index++),ca=this.index - 1,ka))continue;else break;Qa.lastIndex=this.index;U=Qa.exec(ua);if(null === U){this.index=ua.length + 1;this.textNode+=ua.substring(ca,this.index - 1);break;}this.index=U.index + 1;ka=ua.charAt(U.index);if(!ka){this.textNode+=ua.substring(ca,this.index - 1);break;}}this.slashed=W;this.unicodeI=T;continue;case Ca.TRUE:if("" === ka)continue;"r" === ka?this.state=Ca.TRUE2:cb(this,"Invalid true started with t" + ka);continue;case Ca.TRUE2:if("" === ka)continue;"u" === ka?this.state=Ca.TRUE3:cb(this,"Invalid true started with tr" + ka);continue;case Ca.TRUE3:if("" === ka)continue;"e" === ka?(ib(this,"onvalue",!0),this.state=this.stack.pop() || Ca.VALUE):cb(this,"Invalid true started with tru" + ka);continue;case Ca.FALSE:if("" === ka)continue;"a" === ka?this.state=Ca.FALSE2:cb(this,"Invalid false started with f" + ka);continue;case Ca.FALSE2:if("" === ka)continue;"l" === ka?this.state=Ca.FALSE3:cb(this,"Invalid false started with fa" + ka);continue;case Ca.FALSE3:if("" === ka)continue;"s" === ka?this.state=Ca.FALSE4:cb(this,"Invalid false started with fal" + ka);continue;case Ca.FALSE4:if("" === ka)continue;"e" === ka?(ib(this,"onvalue",!1),this.state=this.stack.pop() || Ca.VALUE):cb(this,"Invalid false started with fals" + ka);continue;case Ca.NULL:if("" === ka)continue;"u" === ka?this.state=Ca.NULL2:cb(this,"Invalid null started with n" + ka);continue;case Ca.NULL2:if("" === ka)continue;"l" === ka?this.state=Ca.NULL3:cb(this,"Invalid null started with nu" + ka);continue;case Ca.NULL3:if("" === ka)continue;"l" === ka?(ib(this,"onvalue",null),this.state=this.stack.pop() || Ca.VALUE):cb(this,"Invalid null started with nul" + ka);continue;case Ca.NUMBER_DECIMAL_POINT:"." === ka?(this.numberNode+=ka,this.state=Ca.NUMBER_DIGIT):cb(this,"Leading zero not followed by .");continue;case Ca.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(ka)?this.numberNode+=ka:"." === ka?(-1 !== this.numberNode.indexOf(".") && cb(this,"Invalid number has two dots"),this.numberNode+=ka):"e" === ka || "E" === ka?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || cb(this,"Invalid number has two exponential"),this.numberNode+=ka):"+" === ka || "-" === ka?("e" !== ca && "E" !== ca && cb(this,"Invalid symbol in number"),this.numberNode+=ka):(this.numberNode && ib(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Ca.VALUE);continue;default:cb(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){ua=Math.max(bc.MAX_BUFFER_LENGTH,10);ca=ka=0;for(W=lb.length;ca < W;ca++){T=this[lb[ca]].length;if(T > ua)switch(lb[ca]){case "text":break;default:cb(this,"Max buffer length exceeded: " + lb[ca]);}ka=Math.max(ka,T);}this.bufferCheckPosition=bc.MAX_BUFFER_LENGTH - ka + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var cb,nb,xb;function jb(lb,Ca){Ca || (Ca=lb.length);return lb.reduce(function(Ka,Qa,ua){return ua < Ca?Ka + String.fromCharCode(Qa):Ka;},"");}for(var ib={},gb=0;256 > gb;++gb){cb=jb([gb]);ib[cb]=gb;}nb=Object.keys(ib).length;xb=[];for(gb=0;256 > gb;++gb){xb[gb]=[gb];}ke=function(lb,Ca){var V,ea;function Ka(wa,sa){var fa;for(;0 < sa;){if(T >= W.length)return !1;if(sa > U){fa=wa;fa>>>=sa - U;W[T]|=fa & 255;sa-=U;U=8;++T;}else sa <= U && (fa=wa,fa<<=U - sa,fa&=255,fa>>>=8 - U,W[T]|=fa & 255,U-=sa,sa=0,0 == U && (U=8,++T));}return !0;}for(var Qa in ib){Ca[Qa]=ib[Qa];}for(var ua=nb,ka=[],ca=8,W=new Uint8Array(lb.length),T=0,U=8,aa=0;aa < lb.length;++aa){V=lb[aa];ka.push(V);Qa=jb(ka);ea=Ca[Qa];if(!ea){ka=jb(ka,ka.length - 1);if(!Ka(Ca[ka],ca))return null;0 != ua >> ca && ++ca;Ca[Qa]=ua++;ka=[V];}}return 0 < ka.length && (Qa=jb(ka),ea=Ca[Qa],!Ka(ea,ca))?null:W.subarray(0,8 > U?T + 1:T);};le=function(lb){var aa,V;for(var Ca=xb.slice(),Ka=0,Qa=0,ua=8,ka=new Uint8Array(Math.ceil(1.5 * lb.length)),ca=0,W,T=[];Ka < lb.length && !(8 * (lb.length - Ka) - Qa < ua);){for(var U=W=0;U < ua;){aa=Math.min(ua - U,8 - Qa);V=lb[Ka];V<<=Qa;V&=255;V>>>=8 - aa;U+=aa;Qa+=aa;8 == Qa && (Qa=0,++Ka);W|=(V & 255) << ua - U;}U=Ca[W];0 == T.length?++ua:(U?T.push(U[0]):T.push(T[0]),Ca[Ca.length]=T,T=[],Ca.length == 1 << ua && ++ua,U || (U=Ca[W]));W=ca + U.length;W >= ka.length && (aa=new Uint8Array(Math.ceil(1.5 * W)),aa.set(ka),ka=aa);ka.set(U,ca);ca=W;T=T.concat(U);}return ka.subarray(0,ca);};})();(function(){var jb,ib,gb;Tb="utf-8";Sb=9007199254740992;jb=Kc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Kc);me=function(cb){for(var nb=[jb.GZIP,jb.LZW],xb=0;xb < nb.length && 0 < cb.length;++xb){for(var lb=nb[xb],Ca=0;Ca < cb.length;++Ca){if(cb[Ca] == lb)return lb;}}return null;};ib=ld={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(ld);ne=function(cb){return ib.AES_CBC_PKCS5Padding == cb?ib.AES_CBC_PKCS5Padding:ib.RSA_ECB_PKCS1Padding == cb?ib.RSA_ECB_PKCS1Padding:ib[cb];};gb=oe={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(oe);Ed=function(cb){return gb[cb];};Ga={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Ga);})();Hb={isObjectLiteral:function(jb){return null !== jb && "object" === typeof jb && jb.constructor === Object;},extendDeep:function(){var jb,ib,gb,cb,nb,xb,lb,Ca;jb=arguments[0];ib=1;gb=arguments.length;cb=!1;"boolean" === typeof jb && (cb=jb,jb=arguments[1],ib=2);for(;ib < gb;ib++){if(null != (nb=arguments[ib]))for(xb in nb){if(!(cb && (xb in jb))){lb=nb[xb];if(jb !== lb && lb !== Gb){Ca=jb[xb];jb[xb]=null !== Ca && null !== lb && "object" === typeof Ca && "object" === typeof lb?Hb.extendDeep(cb,{},Ca,lb):lb;}}}}return jb;}};(function(){var lb,Ca;function jb(Ka,Qa){return function(){var ua,ka;ua=Ka.base;Ka.base=Qa;ka=Ka.apply(this,arguments);Ka.base=ua;return ka;};}function ib(Ka,Qa,ua){var ka,ca,W,T;ua=ua || Ca;ca=!!ua.extendAll;for(ka in Qa){W=Qa.__lookupGetter__(ka);T=Qa.__lookupSetter__(ka);W || T?(W && Ka.__defineGetter__(ka,W),T && Ka.__defineSetter__(ka,T)):(W=Qa[ka],T=Ka[ka],"function" === typeof W && "function" === typeof T && W !== T?(W.base !== Function.prototype.base && (W=jb(W,T)),W.base=T):(ca || ua[ka]) && Hb.isObjectLiteral(W) && Hb.isObjectLiteral(T) && (W=Hb.extendDeep({},T,W)),Ka[ka]=W);}}function gb(){var Ka,Qa;Ka=Array.prototype.slice;Qa=Ka.call(arguments,1);return this.extend({init:function ka(){var ca;ca=Ka.call(arguments,0);ka.base.apply(this,Qa.concat(ca));}});}function cb(Ka,Qa){var ua;ua=new this(lb);ib(ua,Ka,Qa);return xb(ua);}function nb(Ka,Qa){ib(this.prototype,Ka,Qa);return this;}function xb(Ka){var Qa;Qa=function(){var ua;ua=this.init;ua && arguments[0] !== lb && ua.apply(this,arguments);};Ka && (Qa.prototype=Ka);Qa.prototype.constructor=Qa;Qa.extend=cb;Qa.bind=gb;Qa.mixin=nb;return Qa;}lb={};Ca={actions:!0};Function.prototype.base=function(){};Hb.Class={create:xb,mixin:ib,extend:function(Ka,Qa){var ua;ua=xb();ua.prototype=new Ka();return ua.extend(Qa);}};Hb.mixin=function(){Hb.log && Hb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");ib.apply(null,arguments);};})();(function(){var lb,Ca,Ka;function jb(Qa,ua){return function(){var ka,ca;ka=Qa.base;Qa.base=ua;ca=Qa.apply(this,arguments);Qa.base=ka;return ca;};}function ib(Qa,ua,ka){var ca,W,T,U;ka=ka || Ca;W=!!ka.extendAll;for(ca in ua){T=ua.__lookupGetter__(ca);U=ua.__lookupSetter__(ca);T || U?(T && Qa.__defineGetter__(ca,T),U && Qa.__defineSetter__(ca,U)):(T=ua[ca],U=Qa[ca],"function" === typeof T && "function" === typeof U && T !== U?(T.base !== Ka && (T=jb(T,U)),T.base=U):(W || ka[ca]) && Hb.isObjectLiteral(T) && Hb.isObjectLiteral(U) && (T=Hb.extendDeep({},U,T)),Qa[ca]=T);}}function gb(){var Qa,ua;Qa=Array.prototype.slice;ua=Qa.call(arguments,1);return this.extend({init:function ca(){var W;W=Qa.call(arguments,0);ca.base.apply(this,ua.concat(W));}});}function cb(Qa,ua){var ka;ka=new this(lb);ib(ka,Qa,ua);return xb(ka);}function nb(Qa,ua){ib(this.prototype,Qa,ua);return this;}function xb(Qa){var ua;ua=function(){var ka;ka=this.init;ka && arguments[0] !== lb && ka.apply(this,arguments);};Qa && (ua.prototype=Qa);ua.prototype.constructor=ua;ua.extend=cb;ua.bind=gb;ua.mixin=nb;return ua;}lb={};Ca={actions:!0};Ka=function(){};Function.prototype.base=Ka;Hb.Class={create:xb,mixin:ib,extend:function(Qa,ua){var ka;ka=xb();ka.prototype=new Qa();return ka.extend(ua);}};Hb.mixin=function(){Hb.log && Hb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");ib.apply(null,arguments);};})();(function(){function jb(gb){return gb == Sb?1:gb + 1;}function ib(gb){if(0 === Object.keys(gb._waiters).length)return 0;for(var cb=jb(gb._nextWaiter);!gb._waiters[cb];){cb=jb(cb);}return cb;}Zc=Hb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(gb){var cb;if(this._waiters[gb]){cb=this._waiters[gb];delete this._waiters[gb];gb == this._nextWaiter && (this._nextWaiter=ib(this));cb.call(this,Gb);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(gb,cb){var nb,xb;nb=this;xb=jb(this._lastWaiter);this._lastWaiter=xb;fb(cb,function(){var lb,Ca;if(0 < this._queue.length){lb=this._queue.shift();setTimeout(function(){cb.result(lb);},0);}else {-1 != gb && (Ca=setTimeout(function(){delete nb._waiters[xb];xb == nb._nextWaiter && (nb._nextWaiter=ib(nb));cb.timeout();},gb));this._waiters[xb]=function(Ka){clearTimeout(Ca);setTimeout(function(){cb.result(Ka);},0);};this._nextWaiter || (this._nextWaiter=xb);}},nb);return xb;},add:function(gb){var cb;if(this._nextWaiter){cb=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=ib(this);cb.call(this,gb);}else this._queue.push(gb);}});})();(function(){var jb;jb=0 - Sb;pe=Hb.Class.create({nextBoolean:function(){var ib;ib=new Uint8Array(1);Bc.getRandomValues(ib);return ib[0] & 1?!0:!1;},nextInt:function(ib){var gb;if(null !== ib && ib !== Gb){if("number" !== typeof ib)throw new TypeError("n must be of type number");if(1 > ib)throw new RangeError("n must be greater than zero");--ib;gb=new Uint8Array(4);Bc.getRandomValues(gb);return Math.floor(((gb[3] & 127) << 24 | gb[2] << 16 | gb[1] << 8 | gb[0]) / 2147483648 * (ib - 0 + 1));}ib=new Uint8Array(4);Bc.getRandomValues(ib);gb=(ib[3] & 127) << 24 | ib[2] << 16 | ib[1] << 8 | ib[0];return ib[3] & 128?-gb:gb;},nextLong:function(){var gb;for(var ib=jb;ib == jb;){ib=new Uint8Array(7);Bc.getRandomValues(ib);gb=16777216 * ((ib[6] & 31) << 24 | ib[5] << 16 | ib[4] << 8 | ib[3]) + (ib[2] << 16 | ib[1] << 8 | ib[0]);ib=ib[6] & 128?-gb - 1:gb;}return ib;},nextBytes:function(ib){Bc.getRandomValues(ib);}});})();(function(){function jb(cb){return cb == Sb?1:cb + 1;}function ib(cb){if(0 === Object.keys(cb._waitingReaders).length)return 0;for(var nb=jb(cb._nextReader);!cb._waitingReaders[nb];){nb=jb(nb);}return nb;}function gb(cb){if(0 === Object.keys(cb._waitingWriters).length)return 0;for(var nb=jb(cb._nextWriter);!cb._waitingWriters[nb];){nb=jb(nb);}return nb;}Fd=Hb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(cb){var nb;if(this._waitingReaders[cb]){nb=this._waitingReaders[cb];delete this._waitingReaders[cb];cb == this._nextReader && (this._nextReader=ib(this));nb.call(this,!0);}this._waitingWriters[cb] && (nb=this._waitingWriters[cb],delete this._waitingWriters[cb],cb == this._nextWriter && (this._nextWriter=gb(this)),nb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(cb,nb){var xb,lb;xb=this;lb=jb(this._lastNumber);this._lastNumber=lb;fb(nb,function(){var Ca;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[lb]=!0,lb);-1 != cb && (Ca=setTimeout(function(){delete xb._waitingReaders[lb];lb == xb._nextReader && (xb._nextReader=ib(xb));nb.timeout();},cb));this._waitingReaders[lb]=function(Ka){clearTimeout(Ca);Ka?setTimeout(function(){nb.result(Gb);},0):(xb._readers[lb]=!0,setTimeout(function(){nb.result(lb);},0));};this._nextReader || (this._nextReader=lb);},xb);return lb;},writeLock:function(cb,nb){var xb,lb;xb=this;lb=jb(this._lastNumber);this._lastNumber=lb;fb(nb,function(){var Ca;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=lb;-1 != cb && (Ca=setTimeout(function(){delete xb._waitingWriters[lb];lb == xb._nextWriter && (xb._nextWriter=gb(xb));nb.timeout();},cb));this._waitingWriters[lb]=function(Ka){clearTimeout(Ca);Ka?setTimeout(function(){nb.result(Gb);},0):(xb._writer=lb,setTimeout(function(){nb.result(lb);},0));};this._nextWriter || (this._nextWriter=lb);},xb);return lb;},unlock:function(cb){if(cb == this._writer)this._writer=null;else {if(!this._readers[cb])throw new Bb("There is no reader or writer with ticket number " + cb + ".");delete this._readers[cb];}if(this._nextWriter)0 < Object.keys(this._readers).length || (cb=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=gb(this),cb.call(this,!1));else {for(var nb=this._nextReader;0 < Object.keys(this._waitingReaders).length;nb=jb(nb)){this._waitingReaders[nb] && (cb=this._waitingReaders[nb],delete this._waitingReaders[nb],cb.call(this,!1));}this._nextReader=0;}}});})();Hb.Class.mixin(S,{JSON_PARSE_ERROR:new S(0,Ga.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new S(1,Ga.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new S(2,Ga.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new S(3,Ga.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new S(4,Ga.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new S(5,Ga.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new S(6,Ga.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new S(7,Ga.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new S(8,Ga.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new S(9,Ga.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new S(10,Ga.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new S(11,Ga.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new S(12,Ga.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new S(13,Ga.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new S(14,Ga.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new S(15,Ga.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new S(16,Ga.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new S(17,Ga.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new S(18,Ga.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new S(19,Ga.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new S(20,Ga.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new S(21,Ga.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new S(22,Ga.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new S(23,Ga.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new S(24,Ga.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new S(25,Ga.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new S(26,Ga.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new S(27,Ga.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new S(28,Ga.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new S(29,Ga.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new S(30,Ga.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new S(31,Ga.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new S(32,Ga.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new S(33,Ga.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new S(34,Ga.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new S(35,Ga.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new S(36,Ga.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new S(37,Ga.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new S(38,Ga.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new S(39,Ga.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new S(40,Ga.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new S(41,Ga.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new S(42,Ga.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new S(43,Ga.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new S(44,Ga.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new S(45,Ga.FAIL,"Error exporting key."),DIGEST_ERROR:new S(46,Ga.FAIL,"Error in digest."),UNSUPPORTED_KEY:new S(47,Ga.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new S(48,Ga.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new S(49,Ga.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new S(50,Ga.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new S(51,Ga.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new S(52,Ga.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new S(53,Ga.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new S(54,Ga.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new S(55,Ga.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new S(56,Ga.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new S(57,Ga.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new S(58,Ga.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new S(59,Ga.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new S(60,Ga.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new S(61,Ga.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new S(62,Ga.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new S(1E3,Ga.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new S(1001,Ga.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new S(1002,Ga.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new S(1003,Ga.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new S(1004,Ga.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(1005,Ga.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new S(1006,Ga.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new S(1007,Ga.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new S(1008,Ga.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new S(1009,Ga.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new S(1010,Ga.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new S(1011,Ga.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new S(1012,Ga.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new S(1013,Ga.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new S(1014,Ga.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new S(2E3,Ga.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new S(2001,Ga.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new S(2002,Ga.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new S(2003,Ga.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new S(2004,Ga.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new S(2005,Ga.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(2006,Ga.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(2007,Ga.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new S(2008,Ga.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new S(2009,Ga.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new S(2010,Ga.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new S(2011,Ga.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new S(2012,Ga.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new S(2013,Ga.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new S(2014,Ga.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new S(2015,Ga.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new S(2016,Ga.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new S(2017,Ga.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new S(2018,Ga.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new S(2019,Ga.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new S(2020,Ga.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new S(3E3,Ga.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new S(3001,Ga.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new S(3002,Ga.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new S(3003,Ga.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new S(3004,Ga.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(3005,Ga.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(3006,Ga.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new S(3007,Ga.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new S(3008,Ga.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new S(3009,Ga.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new S(4E3,Ga.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new S(4001,Ga.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new S(4002,Ga.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new S(4003,Ga.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new S(4004,Ga.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new S(4005,Ga.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new S(4006,Ga.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new S(4007,Ga.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new S(4008,Ga.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new S(4009,Ga.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new S(4010,Ga.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new S(4011,Ga.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new S(4012,Ga.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new S(4013,Ga.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new S(4014,Ga.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new S(4015,Ga.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new S(4016,Ga.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new S(4017,Ga.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new S(4018,Ga.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new S(4019,Ga.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new S(4020,Ga.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new S(4021,Ga.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new S(4022,Ga.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new S(4023,Ga.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new S(4024,Ga.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new S(4025,Ga.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new S(4026,Ga.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new S(5E3,Ga.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new S(5001,Ga.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new S(5002,Ga.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new S(5003,Ga.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new S(5004,Ga.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new S(5005,Ga.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new S(5006,Ga.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new S(5007,Ga.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new S(5008,Ga.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new S(5009,Ga.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new S(5010,Ga.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new S(5011,Ga.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new S(5012,Ga.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new S(5013,Ga.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new S(5014,Ga.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new S(5015,Ga.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new S(5016,Ga.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new S(5017,Ga.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new S(5018,Ga.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new S(5019,Ga.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new S(5020,Ga.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new S(5021,Ga.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new S(5022,Ga.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new S(5023,Ga.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new S(5024,Ga.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new S(5025,Ga.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new S(5026,Ga.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new S(5027,Ga.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new S(5028,Ga.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new S(5029,Ga.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new S(5030,Ga.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new S(5031,Ga.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new S(5032,Ga.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new S(5033,Ga.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new S(5034,Ga.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new S(5035,Ga.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new S(5036,Ga.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new S(5037,Ga.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new S(5038,Ga.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new S(5039,Ga.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new S(5040,Ga.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new S(6E3,Ga.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new S(6001,Ga.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new S(6002,Ga.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new S(6003,Ga.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new S(6004,Ga.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new S(6005,Ga.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new S(6006,Ga.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new S(6007,Ga.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new S(6008,Ga.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new S(6009,Ga.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new S(6010,Ga.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new S(6011,Ga.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new S(6012,Ga.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new S(6013,Ga.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new S(6014,Ga.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new S(6015,Ga.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new S(6016,Ga.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new S(6017,Ga.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new S(6018,Ga.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new S(6019,Ga.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new S(6020,Ga.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new S(6021,Ga.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new S(6022,Ga.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new S(6023,Ga.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new S(6024,Ga.FAIL,"Invalid header data."),PAYLOAD_INVALID:new S(6025,Ga.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new S(6026,Ga.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new S(6027,Ga.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new S(6028,Ga.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new S(6029,Ga.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new S(6030,Ga.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new S(6031,Ga.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new S(6032,Ga.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new S(6033,Ga.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new S(6034,Ga.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new S(6035,Ga.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new S(6036,Ga.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new S(6037,Ga.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new S(7E3,Ga.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new S(7001,Ga.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new S(7002,Ga.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new S(7003,Ga.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new S(7004,Ga.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new S(7005,Ga.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new S(7006,Ga.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new S(7007,Ga.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new S(7008,Ga.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new S(7009,Ga.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new S(7010,Ga.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new S(7011,Ga.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new S(7012,Ga.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new S(7013,Ga.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new S(7014,Ga.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new S(7015,Ga.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new S(7016,Ga.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new S(8E3,Ga.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new S(8001,Ga.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new S(8002,Ga.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new S(8003,Ga.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new S(8004,Ga.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new S(8005,Ga.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new S(8006,Ga.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new S(8007,Ga.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new S(8008,Ga.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new S(8009,Ga.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new S(8010,Ga.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new S(8011,Ga.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new S(8012,Ga.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new S(9E3,Ga.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new S(9001,Ga.FAIL,"Error communicating with MSL entity."),NONE:new S(9999,Ga.FAIL,"Special unit test error.")});Object.freeze(S);(function(){hb=Hb.Class.create(Error());hb.mixin({init:function(jb,ib,gb){var nb,xb,lb;function cb(){return xb?xb:this.cause && this.cause instanceof hb?this.cause.messageId:Gb;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);nb=jb.message;ib && (nb+=" [" + ib + "]");lb=this.stack;Object.defineProperties(this,{message:{value:nb,writable:!1,configurable:!0},error:{value:jb,writable:!1,configurable:!0},cause:{value:gb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:cb,set:function(Ca){if(0 > Ca || Ca > Sb)throw new RangeError("Message ID " + Ca + " is outside the valid range.");cb() || (xb=Ca);},configurable:!0},stack:{get:function(){var Ca;Ca=this.toString();lb && (Ca+="\n" + lb);gb && gb.stack && (Ca+="\nCaused by " + gb.stack);return Ca;},configurable:!0}});},setEntity:function(jb){!jb || this.masterToken || this.entityAuthenticationData || (jb instanceof ic?this.masterToken=jb:jb instanceof Lc && (this.entityAuthenticationData=jb));return this;},setUser:function(jb){!jb || this.userIdToken || this.userAuthenticationData || (jb instanceof Tc?this.userIdToken=jb:jb instanceof $c && (this.userAuthenticationData=jb));return this;},setMessageId:function(jb){this.messageId=jb;return this;},toString:function(){return this.name + ": " + this.message;}});})();yb=hb.extend({init:function nb(ib,gb,cb){nb.base.call(this,ib,gb,cb);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});Ib=hb.extend({init:function xb(gb,cb,nb){xb.base.call(this,gb,cb,nb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});rc=hb.extend({init:function lb(cb,nb,xb){lb.base.call(this,cb,nb,xb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){jc=Hb.Class.create(Error());jc.mixin({init:function(cb,nb,xb){var lb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);lb=this.stack;Object.defineProperties(this,{message:{value:cb,writable:!1,configurable:!1},cause:{value:nb,writable:!1,configurable:!1},requestCause:{value:xb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Ca;Ca=this.toString();lb && (Ca+="\n" + lb);nb && nb.stack && (Ca+="\nCaused by " + nb.stack);return Ca;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Yb=Hb.Class.create(Error());Yb.mixin({init:function(cb,nb){var xb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);xb=this.stack;Object.defineProperties(this,{message:{value:cb,writable:!1,configurable:!1},cause:{value:nb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var lb;lb=this.toString();xb && (lb+="\n" + xb);nb && nb.stack && (lb+="\nCaused by " + nb.stack);return lb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Bb=Hb.Class.create(Error());Bb.mixin({init:function(cb,nb){var xb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);xb=this.stack;Object.defineProperties(this,{message:{value:cb,writable:!1,configurable:!1},cause:{value:nb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var lb;lb=this.toString();xb && (lb+="\n" + xb);nb && nb.stack && (lb+="\nCaused by " + nb.stack);return lb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){cc=Hb.Class.create(Error());cc.mixin({init:function(cb,nb){var xb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);xb=this.stack;Object.defineProperties(this,{message:{value:cb,writable:!1,configurable:!1},cause:{value:nb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var lb;lb=this.toString();xb && (lb+="\n" + xb);nb && nb.stack && (lb+="\nCaused by " + nb.stack);return lb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Ub=hb.extend({init:function Ca(nb,xb,lb){Ca.base.call(this,nb,xb,lb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});ad=hb.extend({init:function Ca(xb,lb){Ca.base.call(this,xb);Object.defineProperties(this,{masterToken:{value:lb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ob=hb.extend({init:function Qa(lb,Ca,Ka){Qa.base.call(this,lb,Ca,Ka);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Cc=hb.extend({init:function ua(Ca,Ka,Qa){ua.base.call(this,Ca,Ka,Qa);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var ka;function Ca(ca){return "undefined" === typeof ca?!1:ca;}function Ka(ca){return ca && ca.length?(dc === ka.V2014_02 && (ca=ca.map(function(W){return "wrap" == W?"wrapKey":"unwrap" == W?"unwrapKey":W;})),ca):dc === ka.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Qa(ca,W,T,U,aa){return Promise.resolve().then(function(){return Vb.importKey(ca,W,T,U,aa);}).catch(function(V){var ea;if("spki" !== ca && "pkcs8" !== ca)throw V;V=ASN1.webCryptoAlgorithmToJwkAlg(T);ea=ASN1.webCryptoUsageToJwkKeyOps(aa);V=ASN1.rsaDerToJwk(W,V,ea,U);if(!V)throw Error("Could not make valid JWK from DER input");V=JSON.stringify(V);return Vb.importKey("jwk",Bd(V),T,U,aa);});}function ua(ca,W){return Promise.resolve().then(function(){return Vb.exportKey(ca,W);}).catch(function(T){if("spki" !== ca && "pkcs8" !== ca)throw T;return Vb.exportKey("jwk",W).then(function(U){U=JSON.parse(Ad(new Uint8Array(U)));U=ASN1.jwkToRsaDer(U);if(!U)throw Error("Could not make valid DER from JWK input");return U.getDer().buffer;});});}ka=md={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(md);dc=ka.LATEST;Rb={encrypt:function(ca,W,T){switch(dc){case ka.LEGACY:return new Promise(function(U,aa){var V;V=Vb.encrypt(ca,W,T);V.oncomplete=function(ea){U(ea.target.result);};V.onerror=function(ea){aa(ea);};});case ka.V2014_01:case ka.V2014_02:return Vb.encrypt(ca,W,T).then(function(U){return new Uint8Array(U);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(ca,W,T){switch(dc){case ka.LEGACY:return new Promise(function(U,aa){var V;V=Vb.decrypt(ca,W,T);V.oncomplete=function(ea){U(ea.target.result);};V.onerror=function(ea){aa(ea);};});case ka.V2014_01:case ka.V2014_02:return Vb.decrypt(ca,W,T).then(function(U){return new Uint8Array(U);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(ca,W,T){switch(dc){case ka.LEGACY:return new Promise(function(U,aa){var V;V=Vb.sign(ca,W,T);V.oncomplete=function(ea){U(ea.target.result);};V.onerror=function(ea){aa(ea);};});case ka.V2014_01:case ka.V2014_02:return Vb.sign(ca,W,T).then(function(U){return new Uint8Array(U);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(ca,W,T,U){switch(dc){case ka.LEGACY:return new Promise(function(aa,V){var ea;ea=Vb.verify(ca,W,T,U);ea.oncomplete=function(wa){aa(wa.target.result);};ea.onerror=function(wa){V(wa);};});case ka.V2014_01:case ka.V2014_02:return Vb.verify(ca,W,T,U);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(ca,W){switch(dc){case ka.LEGACY:return new Promise(function(T,U){var aa;aa=Vb.digest(ca,W);aa.oncomplete=function(V){T(V.target.result);};aa.onerror=function(V){U(V);};});case ka.V2014_01:case ka.V2014_02:return Vb.digest(ca,W).then(function(T){return new Uint8Array(T);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(ca,W,T){var U,aa;U=Ca(W);aa=Ka(T);switch(dc){case ka.LEGACY:return new Promise(function(V,ea){var wa;wa=Vb.generateKey(ca,U,aa);wa.oncomplete=function(sa){V(sa.target.result);};wa.onerror=function(sa){ea(sa);};});case ka.V2014_01:case ka.V2014_02:return Vb.generateKey(ca,U,aa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(ca,W,T,U,aa){var V,ea;V=Ca(U);ea=Ka(aa);switch(dc){case ka.LEGACY:return new Promise(function(wa,sa){var fa;fa=Vb.deriveKey(ca,W,T,V,ea);fa.oncomplete=function(pa){wa(pa.target.result);};fa.onerror=function(pa){sa(pa);};});case ka.V2014_01:case ka.V2014_02:return Vb.deriveKey(ca,W,T,V,ea);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(ca,W,T,U,aa){var V,ea;V=Ca(U);ea=Ka(aa);switch(dc){case ka.LEGACY:return new Promise(function(wa,sa){var fa;fa=Vb.importKey(ca,W,T,V,ea);fa.oncomplete=function(pa){wa(pa.target.result);};fa.onerror=function(pa){sa(pa);};});case ka.V2014_01:case ka.V2014_02:return Qa(ca,W,T,V,ea);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(ca,W){switch(dc){case ka.LEGACY:return new Promise(function(T,U){var aa;aa=Vb.exportKey(ca,W);aa.oncomplete=function(V){T(V.target.result);};aa.onerror=function(V){U(V);};});case ka.V2014_01:case ka.V2014_02:return ua(ca,W).then(function(T){return new Uint8Array(T);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(ca,W,T,U){switch(dc){case ka.LEGACY:return new Promise(function(aa,V){var ea;ea=Vb.wrapKey(W,T,U);ea.oncomplete=function(wa){aa(wa.target.result);};ea.onerror=function(wa){V(wa);};});case ka.V2014_01:case ka.V2014_02:return Vb.wrapKey(ca,W,T,U).then(function(aa){return new Uint8Array(aa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(ca,W,T,U,aa,V,ea){switch(dc){case ka.LEGACY:return new Promise(function(wa,sa){var fa;fa=Vb.unwrapKey(W,aa,T);fa.oncomplete=function(pa){wa(pa.target.result);};fa.onerror=function(pa){sa(pa);};});case ka.V2014_01:case ka.V2014_02:return Vb.unwrapKey(ca,W,T,U,aa,Ca(V),Ka(ea));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};kd && kd.getKeyByName && (Rb.getKeyByName=function(ca){switch(dc){case ka.LEGACY:return new Promise(function(W,T){var U;U=kd.getKeyByName(ca);U.oncomplete=function(aa){W(aa.target.result);};U.onerror=function(aa){T(aa);};});case ka.V2014_01:case ka.V2014_02:return kd.getKeyByName(ca);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});ob.netflix=ob.netflix || ({});ob.netflix.crypto=Rb;})();sc={name:"AES-KW"};oc={name:"AES-CBC"};pc={name:"HMAC",hash:{name:"SHA-256"}};nd={name:"RSA-OAEP",hash:{name:"SHA-1"}};Gd={name:"RSAES-PKCS1-v1_5"};qe={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Dc=["encrypt","decrypt"];Ec=["wrap","unwrap"];Mc=["sign","verify"];(function(){Hd=Hb.Class.create({init:function(Ca,Ka,Qa){var ka;function ua(ca){Na(Ka,function(){var W;W=ca?Lb(ca):Gb;Object.defineProperties(ka,{rawKey:{value:Ca,writable:!1,configurable:!1},keyData:{value:ca,writable:!1,configurable:!1},keyDataB64:{value:W,writable:!1,configurable:!1}});return this;},ka);}ka=this;Na(Ka,function(){if(!Ca || "object" != typeof Ca)throw new yb(S.INVALID_SYMMETRIC_KEY);!Qa && Ca.extractable?Rb.exportKey("raw",Ca).then(function(ca){ua(new Uint8Array(ca));},function(ca){Ka.error(new yb(S.KEY_EXPORT_ERROR,"raw"));}):ua(Qa);},ka);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});bd=function(Ca,Ka){new Hd(Ca,Ka);};tc=function(Ca,Ka,Qa,ua){Na(ua,function(){try{Ca="string" == typeof Ca?Mb(Ca):Ca;}catch(ka){throw new yb(S.INVALID_SYMMETRIC_KEY,"keydata " + Ca,ka);}Rb.importKey("raw",Ca,Ka,!0,Qa).then(function(ka){new Hd(ka,ua,Ca);},function(ka){ua.error(new yb(S.INVALID_SYMMETRIC_KEY));});});};})();(function(){od=Hb.Class.create({init:function(Ca,Ka,Qa){var ka;function ua(ca){Na(Ka,function(){Object.defineProperties(ka,{rawKey:{value:Ca,writable:!1,configurable:!1},encoded:{value:ca,writable:!1,configurable:!1}});return this;},ka);}ka=this;Na(Ka,function(){if(!Ca || "object" != typeof Ca || "public" != Ca.type)throw new TypeError("Only original public crypto keys are supported.");!Qa && Ca.extractable?Rb.exportKey("spki",Ca).then(function(ca){ua(new Uint8Array(ca));},function(ca){Ka.error(new yb(S.KEY_EXPORT_ERROR,"spki"));}):ua(Qa);});},getEncoded:function(){return this.encoded;}});Jc=function(Ca,Ka){new od(Ca,Ka);};Id=function(Ca,Ka,Qa,ua){Na(ua,function(){try{Ca="string" == typeof Ca?Mb(Ca):Ca;}catch(ka){throw new yb(S.INVALID_PUBLIC_KEY,"spki " + Ca,ka);}Rb.importKey("spki",Ca,Ka,!0,Qa).then(function(ka){new od(ka,ua,Ca);},function(ka){ua.error(new yb(S.INVALID_PUBLIC_KEY));});});};})();(function(){re=Hb.Class.create({init:function(Ca,Ka,Qa){var ka;function ua(ca){Na(Ka,function(){Object.defineProperties(ka,{rawKey:{value:Ca,writable:!1,configurable:!1},encoded:{value:ca,writable:!1,configurable:!1}});return this;},ka);}ka=this;Na(Ka,function(){if(!Ca || "object" != typeof Ca || "private" != Ca.type)throw new TypeError("Only original private crypto keys are supported.");!Qa && Ca.extractable?Rb.exportKey("pkcs8",Ca).then(function(ca){ua(new Uint8Array(ca));},function(ca){Ka.error(new yb(S.KEY_EXPORT_ERROR,"pkcs8"));}):ua(Qa);});},getEncoded:function(){return this.encoded;}});Sc=function(Ca,Ka){new re(Ca,Ka);};})();(function(){var Ca;Ca=Md={V1:1,V2:2};Jd=Hb.Class.create({init:function(Ka,Qa,ua,ka){Na(ka,function(){var ca,W,T,U;ca=Ca.V1;W=Ka;T=null;for(U in ld){if(ld[U] == Ka){ca=Ca.V2;W=null;T=Ka;break;}}Object.defineProperties(this,{version:{value:ca,writable:!1,enumerable:!1,configurable:!1},keyId:{value:W,writable:!1,configurable:!1},cipherSpec:{value:T,writable:!1,configurable:!1},iv:{value:Qa,writable:!1,configurable:!1},ciphertext:{value:ua,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var Ka;Ka={};switch(this.version){case Ca.V1:Ka.keyid=this.keyId;this.iv && (Ka.iv=Lb(this.iv));Ka.ciphertext=Lb(this.ciphertext);Ka.sha256="AA==";break;case Ca.V2:Ka.version=this.version;Ka.cipherspec=this.cipherSpec;this.iv && (Ka.iv=Lb(this.iv));Ka.ciphertext=Lb(this.ciphertext);break;default:throw new Bb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return Ka;}});Kd=function(Ka,Qa,ua,ka){new Jd(Ka,Qa,ua,ka);};Ld=function(Ka,Qa,ua){Na(ua,function(){var ka,ca,W,T,U,aa,V;ka=Ka.keyid;ca=Ka.cipherspec;W=Ka.iv;T=Ka.ciphertext;U=Ka.sha256;if(!Qa)if((Qa=Ka.version) && "number" === typeof Qa && Qa === Qa){aa=!1;for(V in Ca){if(Ca[V] == Qa){aa=!0;break;}}if(!aa)throw new yb(S.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));}else Qa=Ca.V1;switch(Qa){case Ca.V1:if("string" !== typeof ka || W && "string" !== typeof W || "string" !== typeof T || "string" !== typeof U)throw new Ib(S.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ka));break;case Ca.V2:V=Ka.version;if(V != Ca.V2)throw new yb(S.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));if("string" !== typeof ca || W && "string" !== typeof W || "string" !== typeof T)throw new Ib(S.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ka));ca=ne(ca);if(!ca)throw new yb(S.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(Ka));ka=ca;break;default:throw new yb(S.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));}try{W && (W=Mb(W));T=Mb(T);}catch(ea){throw new yb(S.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(Ka),ea);}new Jd(ka,W,T,ua);});};})();(function(){var Ca;Ca=Pd={V1:1,V2:2};uc=Hb.Class.create({init:function(Ka,Qa,ua){var ka;switch(Ka){case Ca.V1:ka=ua;break;case Ca.V2:ka={};ka.version=Ka;ka.algorithm=Qa;ka.signature=Lb(ua);ka=fc(JSON.stringify(ka),Tb);break;default:throw new Bb("Signature envelope version " + Ka + " encoding unsupported.");}Object.defineProperties(this,{version:{value:Ka,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Qa,writable:!1,configurable:!1},signature:{value:ua,writable:!1,configurable:!1},bytes:{value:ka,writable:!1,configurable:!1}});}});Nd=function(){var Ka,Qa,ua,ka;if(2 == arguments.length){Ka=Ca.V1;Qa=arguments[0];ua=null;ka=arguments[1];}else 3 == arguments.length && (Ka=Ca.V2,ua=arguments[0],Qa=arguments[1],ka=arguments[2]);Na(ka,function(){return new uc(Ka,ua,Qa);});};Od=function(Ka,Qa,ua){Na(ua,function(){var ka,ca,W,T,U,aa,V;if(Qa)switch(Qa){case Ca.V1:return new uc(Ca.V1,null,Ka);case Ca.V2:try{ka=ec(Ka,Tb);ca=JSON.parse(ka);W=parseInt(ca.version);T=ca.algorithm;U=ca.signature;if(!W || "number" !== typeof W || W != W || "string" !== typeof T || "string" !== typeof U)throw new Ib(S.JSON_PARSE_ERROR,"signature envelope " + Lb(Ka));if(Ca.V2 != W)throw new yb(S.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Lb(Ka));aa=Ed(T);if(!aa)throw new yb(S.UNIDENTIFIED_ALGORITHM,"signature envelope " + Lb(Ka));V=Mb(U);if(!V)throw new yb(S.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(Ka));return new uc(Ca.V2,aa,V);}catch(ea){if(ea instanceof SyntaxError)throw new Ib(S.JSON_PARSE_ERROR,"signature envelope " + Lb(Ka),ea);throw ea;}default:throw new yb(S.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Lb(Ka));}try{ka=ec(Ka,Tb);ca=JSON.parse(ka);}catch(ea){ca=null;}if(ca && ca.version){if((ka=ca.version,"number" !== typeof ka || ka !== ka))ka=Ca.V1;}else ka=Ca.V1;switch(ka){case Ca.V1:return new uc(ka,null,Ka);case Ca.V2:aa=ca.algorithm;U=ca.signature;if("string" !== typeof aa || "string" !== typeof U)return new uc(Ca.V1,null,Ka);aa=Ed(aa);if(!aa)return new uc(Ca.V1,null,Ka);try{V=Mb(U);}catch(ea){return new uc(Ca.V1,null,Ka);}return new uc(ka,aa,V);default:throw new yb(S.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Ka);}});};})();Uc=Hb.Class.create({encrypt:function(Ca,Ka){},decrypt:function(Ca,Ka){},wrap:function(Ca,Ka){},unwrap:function(Ca,Ka,Qa,ua){},sign:function(Ca,Ka){},verify:function(Ca,Ka,Qa){}});(function(){var Ca;Ca=wc={RSA_OAEP:nd.name,A128KW:sc.name};qc="A128GCM";vc=Hb.Class.create({init:function(Ka,Qa,ua,ka,ca){switch(Qa){case Ca.RSA_OAEP:ca=ca && (ca.rawKey || ca);ka=ka && (ka.rawKey || ka);break;case Ca.A128KW:ca=ka=ka && (ka.rawKey || ka);break;default:throw new Bb("Unsupported algorithm: " + Qa);}Object.defineProperties(this,{_ctx:{value:Ka,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Qa,writable:!1,enumerable:!1,configurable:!1},_enc:{value:ua,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:ca,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:ka,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ka,Qa){Qa.error(new yb(S.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Ka,Qa){Qa.error(new yb(S.DECRYPT_NOT_SUPPORTED));},wrap:function(Ka,Qa){Na(Qa,function(){Rb.wrapKey("jwe+jwk",Ka.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(ua){Qa.result(ua);},function(ua){Qa.error(new yb(S.WRAP_ERROR));});},this);},unwrap:function(Ka,Qa,ua,ka){function ca(W){Na(ka,function(){switch(W.type){case "secret":bd(W,ka);break;case "public":Jc(W,ka);break;case "private":Sc(W,ka);break;default:throw new yb(S.UNSUPPORTED_KEY,"type: " + W.type);}});}Na(ka,function(){Rb.unwrapKey("jwe+jwk",Ka,this._unwrapKey,this._unwrapKey.algorithm,Qa,!1,ua).then(function(W){ca(W);},function(){ka.error(new yb(S.UNWRAP_ERROR));});},this);},sign:function(Ka,Qa){Qa.error(new yb(S.SIGN_NOT_SUPPORTED));},verify:function(Ka,Qa,ua){ua.error(new yb(S.VERIFY_NOT_SUPPORTED));}});})();Vc=Uc.extend({encrypt:function(Ca,Ka){Ka.result(Ca);},decrypt:function(Ca,Ka){Ka.result(Ca);},wrap:function(Ca,Ka){Ka.result(Ca);},unwrap:function(Ca,Ka,Qa,ua){ua.result(Ca);},sign:function(Ca,Ka){Ka.result(new Uint8Array(0));},verify:function(Ca,Ka,Qa){Qa.result(!0);}});(function(){var Ca;Ca=qd={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};pd=Uc.extend({init:function T(Qa,ua,ka,ca,W){T.base.call(this);ka && (ka=ka.rawKey);ca && (ca=ca.rawKey);Object.defineProperties(this,{id:{value:ua,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:ka,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:ca,writable:!1,enumerable:!1,configurable:!1},transform:{value:W == Ca.ENCRYPT_DECRYPT_PKCS1?Gd:W == Ca.ENCRYPT_DECRYPT_OAEP?nd:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:W == Ca.WRAP_UNWRAP_PKCS1?Gd:W == Ca.WRAP_UNWRAP_OAEP?nd:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:W == Ca.SIGN_VERIFY?qe:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Qa,ua){var ka;ka=this;Na(ua,function(){if("nullOp" == this.transform)return Qa;if(!this.publicKey)throw new yb(S.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Qa.length)return Qa;Rb.encrypt(ka.transform,ka.publicKey,Qa).then(function(ca){Kd(ka.id,null,ca,{result:function(W){var T;try{T=JSON.stringify(W);ua.result(fc(T,Tb));}catch(U){ua.error(new yb(S.ENCRYPT_ERROR,null,U));}},error:function(W){W instanceof hb || (W=new yb(S.ENCRYPT_ERROR,null,W));ua.error(W);}});},function(ca){ua.error(new yb(S.ENCRYPT_ERROR));});},this);},decrypt:function(Qa,ua){var ka;ka=this;Na(ua,function(){var ca,W;if("nullOp" == this.transform)return Qa;if(!this.privateKey)throw new yb(S.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Qa.length)return Qa;try{ca=ec(Qa,Tb);W=JSON.parse(ca);}catch(T){if(T instanceof SyntaxError)throw new yb(S.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,T);throw new yb(S.DECRYPT_ERROR,null,T);}Ld(W,Md.V1,{result:function(T){var U;try{if(T.keyId != ka.id)throw new yb(S.ENVELOPE_KEY_ID_MISMATCH);U=ua.result;Rb.decrypt(ka.transform,ka.privateKey,T.ciphertext).then(U,function(aa){ua.error(new yb(S.DECRYPT_ERROR));});}catch(aa){aa instanceof hb?ua.error(aa):ua.error(new yb(S.DECRYPT_ERROR,null,aa));}},error:function(T){T instanceof Ib && (T=new yb(S.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,T));T instanceof hb || (T=new yb(S.DECRYPT_ERROR,null,T));ua.error(T);}});},this);},wrap:function(Qa,ua){Na(ua,function(){var ka;if("nullOp" == this.wrapTransform || !this.publicKey)throw new yb(S.WRAP_NOT_SUPPORTED,"no public key");ka=ua.result;Rb.wrapKey("jwk",Qa.rawKey,this.publicKey,this.wrapTransform).then(ka,function(ca){ua.error(new yb(S.WRAP_ERROR));});},this);},unwrap:function(Qa,ua,ka,ca){function W(T){Na(ca,function(){switch(T.type){case "secret":bd(T,ca);break;case "public":Jc(T,ca);break;case "private":Sc(T,ca);break;default:throw new yb(S.UNSUPPORTED_KEY,"type: " + T.type);}});}Na(ca,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new yb(S.UNWRAP_NOT_SUPPORTED,"no private key");Rb.unwrapKey("jwk",Qa,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},ua,!1,ka).then(W,function(T){ca.error(new yb(S.UNWRAP_ERROR));});},this);},sign:function(Qa,ua){Na(ua,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new yb(S.SIGN_NOT_SUPPORTED,"no private key");Rb.sign(this.algo,this.privateKey,Qa).then(function(ka){Nd(ka,{result:function(ca){ua.result(ca.bytes);},error:ua.error});},function(ka){ua.error(new yb(S.SIGNATURE_ERROR));});},this);},verify:function(Qa,ua,ka){var ca;ca=this;Na(ka,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new yb(S.VERIFY_NOT_SUPPORTED,"no public key");Od(ua,Pd.V1,{result:function(W){Na(ka,function(){var T;T=ka.result;Rb.verify(this.algo,this.publicKey,W.signature,Qa).then(T,function(U){ka.error(new yb(S.SIGNATURE_ERROR));});},ca);},error:ka.error});},this);}});})();(function(){rd=Uc.extend({init:function W(Ka,Qa,ua,ka,ca){W.base.call(this);ua=ua && ua.rawKey;ka=ka && ka.rawKey;ca=ca && ca.rawKey;Object.defineProperties(this,{ctx:{value:Ka,writable:!1,enumerable:!1,configurable:!1},id:{value:Qa,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:ua,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:ka,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:ca,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ka,Qa){var ua;ua=this;Na(Qa,function(){var ka;if(!this.encryptionKey)throw new yb(S.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ka.length)return Ka;ka=new Uint8Array(16);this.ctx.getRandom().nextBytes(ka);Rb.encrypt({name:oc.name,iv:ka},ua.encryptionKey,Ka).then(function(ca){ca=new Uint8Array(ca);Kd(ua.id,ka,ca,{result:function(W){var T;try{T=JSON.stringify(W);Qa.result(fc(T,Tb));}catch(U){Qa.error(new yb(S.ENCRYPT_ERROR,null,U));}},error:function(W){W instanceof hb || (W=new yb(S.ENCRYPT_ERROR,null,W));Qa.error(W);}});},function(ca){Qa.error(new yb(S.ENCRYPT_ERROR));});},this);},decrypt:function(Ka,Qa){var ua;ua=this;Na(Qa,function(){var ka,ca;if(!this.encryptionKey)throw new yb(S.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ka.length)return Ka;try{ka=ec(Ka,Tb);ca=JSON.parse(ka);}catch(W){if(W instanceof SyntaxError)throw new yb(S.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,W);throw new yb(S.DECRYPT_ERROR,null,W);}Ld(ca,Md.V1,{result:function(W){try{if(W.keyId != ua.id)throw new yb(S.ENVELOPE_KEY_ID_MISMATCH);Rb.decrypt({name:oc.name,iv:W.iv},ua.encryptionKey,W.ciphertext).then(function(T){T=new Uint8Array(T);Qa.result(T);},function(){Qa.error(new yb(S.DECRYPT_ERROR));});}catch(T){T instanceof hb?Qa.error(T):Qa.error(new yb(S.DECRYPT_ERROR,null,T));}},error:function(W){W instanceof Ib && (W=new yb(S.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,W));W instanceof hb || (W=new yb(S.DECRYPT_ERROR,null,W));Qa.error(W);}});},this);},wrap:function(Ka,Qa){Na(Qa,function(){if(!this.wrapKey)throw new yb(S.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Rb.wrapKey("raw",Ka.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(ua){Qa.result(ua);},function(ua){Qa.error(new yb(S.WRAP_ERROR));});},this);},unwrap:function(Ka,Qa,ua,ka){function ca(W){Na(ka,function(){switch(W.type){case "secret":bd(W,ka);break;case "public":Jc(W,ka);break;case "private":Sc(W,ka);break;default:throw new yb(S.UNSUPPORTED_KEY,"type: " + W.type);}});}Na(ka,function(){if(!this.wrapKey)throw new yb(S.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Rb.unwrapKey("raw",Ka,this.wrapKey,this.wrapKey.algorithm,Qa,!1,ua).then(function(W){ca(W);},function(W){ka.error(new yb(S.UNWRAP_ERROR));});},this);},sign:function(Ka,Qa){var ua;ua=this;Na(Qa,function(){if(!this.hmacKey)throw new yb(S.SIGN_NOT_SUPPORTED,"no HMAC key.");Rb.sign(pc,this.hmacKey,Ka).then(function(ka){Na(Qa,function(){var ca;ca=new Uint8Array(ka);Nd(ca,{result:function(W){Qa.result(W.bytes);},error:Qa.error});},ua);},function(){Qa.error(new yb(S.HMAC_ERROR));});},this);},verify:function(Ka,Qa,ua){var ka;ka=this;Na(ua,function(){if(!this.hmacKey)throw new yb(S.VERIFY_NOT_SUPPORTED,"no HMAC key.");Od(Qa,Pd.V1,{result:function(ca){Na(ua,function(){Rb.verify(pc,this.hmacKey,ca.signature,Ka).then(function(W){ua.result(W);},function(W){ua.error(new yb(S.HMAC_ERROR));});},ka);},error:ua.error});},this);}});})();lc=rd.extend({init:function W(Ka,Qa,ua,ka,ca){if(ua || ka || ca)W.base.call(this,Ka,ua + "_" + Qa.sequenceNumber,ka,ca,null);else {if(!Qa.isDecrypted())throw new ad(S.MASTERTOKEN_UNTRUSTED,Qa);W.base.call(this,Ka,Qa.identity + "_" + Qa.sequenceNumber,Qa.encryptionKey,Qa.hmacKey,null);}}});rf=Uc.extend({encrypt:function(Ka,Qa){Qa.result(Ka);},decrypt:function(Ka,Qa){Qa.result(Ka);},wrap:function(Ka,Qa){Qa.error(new Bb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(Ka,Qa,ua,ka){ka.error(new Bb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(Ka,Qa){Qa.result(new Uint8Array(0));},verify:function(Ka,Qa,ua){ua.result(!1);}});Wb={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Wb);(function(){Lc=Hb.Class.create({init:function(Ka){Object.defineProperties(this,{scheme:{value:Ka,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(Ka){return this === Ka?!0:Ka instanceof Lc?this.scheme == Ka.scheme:!1;},toJSON:function(){var Ka;Ka={};Ka.scheme=this.scheme;Ka.authdata=this.getAuthData();return Ka;}});se=function(Ka,Qa){var ua,ka;ua=Qa.scheme;ka=Qa.authdata;if(!ua || !ka)throw new Ib(S.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Qa));if(!Wb[ua])throw new rc(S.UNIDENTIFIED_ENTITYAUTH_SCHEME,ua);Qa=Ka.getEntityAuthenticationFactory(ua);if(!Qa)throw new rc(S.ENTITYAUTH_FACTORY_NOT_FOUND,ua);return Qa.createData(Ka,ka);};})();sd=Hb.Class.create({init:function(Ka){Object.defineProperties(this,{scheme:{value:Ka,writable:!1,configurable:!1}});},createData:function(Ka,Qa){},getCryptoContext:function(Ka,Qa){}});(function(){xc=Lc.extend({init:function ua(Qa){ua.base.call(this,Wb.MGK);Object.defineProperties(this,{identity:{value:Qa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Qa;Qa={};Qa.identity=this.identity;return Qa;},equals:function ka(ua){return this === ua?!0:ua instanceof xc?ka.base.call(this,this,ua) && this.identity == ua.identity:!1;}});te=function(ua){var ka;ka=ua.identity;if(!ka)throw new Ib(S.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(ua));return new xc(ka);};})();sf=sd.extend({init:function ua(Qa){ua.base.call(this,Wb.MGK);Object.defineProperties(this,{localIdentity:{value:Qa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Qa,ua){return te(ua);},getCryptoContext:function(Qa,ua){if(!(ua instanceof xc))throw new Bb("Incorrect authentication data type " + JSON.stringify(ua) + ".");if(ua.identity != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"mgk " + ua.identity).setEntity(ua);return new Vc();}});(function(){yc=Lc.extend({init:function ka(ua){ka.base.call(this,Wb.PSK);Object.defineProperties(this,{identity:{value:ua,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ua;ua={};ua.identity=this.identity;return ua;},equals:function ca(ka){return this === ka?!0:ka instanceof yc?ca.base.call(this,this,ka) && this.identity == ka.identity:!1;}});ue=function(ka){var ca;ca=ka.identity;if(!ca)throw new Ib(S.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(ka));return new yc(ca);};})();tf=sd.extend({init:function ka(ua){ka.base.call(this,Wb.PSK);Object.defineProperties(this,{localIdentity:{value:ua,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ua,ka){return ue(ka);},getCryptoContext:function(ua,ka){if(!(ka instanceof yc))throw new Bb("Incorrect authentication data type " + JSON.stringify(ka) + ".");if(ka.getIdentity() != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"psk " + ka.identity).setEntity(ka);return new Vc();}});(function(){td=Lc.extend({init:function W(ka,ca){W.base.call(this,Wb.RSA);Object.defineProperties(this,{identity:{value:ka,writable:!1,configurable:!1},publicKeyId:{value:ca,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ka;ka={};ka.identity=this.identity;ka.pubkeyid=this.publicKeyId;return ka;},equals:function W(ca){return this === ca?!0:ca instanceof td?W.base.call(this,this,ca) && this.identity == ca.identity && this.publicKeyId == ca.publicKeyId:!1;}});ve=function(ca){var W,T;W=ca.identity;T=ca.pubkeyid;if(!W || "string" !== typeof W || !T || "string" !== typeof T)throw new Ib(S.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(ca));return new td(W,T);};})();uf=sd.extend({init:function ca(ka){ca.base.call(this,Wb.RSA);Object.defineProperties(this,{store:{value:ka,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ka,ca){return ve(ca);},getCryptoContext:function(ka,ca){var W,T,U;if(!(ca instanceof td))throw new Bb("Incorrect authentication data type " + ca + ".");W=ca.identity;T=ca.publicKeyId;U=this.store.getPublicKey(T);if(!U)throw new rc(S.RSA_PUBLICKEY_NOT_FOUND,T).setEntity(ca);return new pd(ka,W,null,U,qd.SIGN_VERIFY);}});(function(){Yc=Lc.extend({init:function W(ca){W.base.call(this,Wb.NONE);Object.defineProperties(this,{identity:{value:ca,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ca;ca={};ca.identity=this.identity;return ca;},equals:function T(W){return this === W?!0:W instanceof Yc?T.base.call(this,this,W) && this.identity == W.identity:!1;}});we=function(W){var T;T=W.identity;if(!T)throw new Ib(S.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(W));return new Yc(T);};})();qf=sd.extend({init:function ca(){ca.base.call(this,Wb.NONE);},createData:function(ca,W){return we(W);},getCryptoContext:function(ca,W){if(!(W instanceof Yc))throw new Bb("Incorrect authentication data type " + JSON.stringify(W) + ".");return new Vc();}});vf=Hb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(ca,W){if(!(W instanceof od))throw new Bb("Incorrect key data type " + W + ".");this.rsaKeys[ca]=W;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(ca){delete this.rsaKeys[ca];},getPublicKey:function(ca){return this.rsaKeys[ca];}});Qd=Hb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ca,W,T){}});ud=Hb.Class.create({abort:function(){},close:function(ca,W){},write:function(ca,W,T,U,aa){},flush:function(ca,W){}});wf=Hb.Class.create({init:function(ca){Object.defineProperties(this,{_data:{value:ca,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Yb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(ca,W,T){fb(T,function(){var U;if(this._closed)throw new Yb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == ca && (ca=this._data.length - this._currentPosition);U=this._data.subarray(this._currentPosition,this._currentPosition + ca);this._currentPosition+=U.length;return U;},this);}});xf=Hb.Class.create({init:function(){var ca;ca={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ca);},abort:function(){},close:function(ca,W){this._closed=!0;W.result(!0);},write:function(ca,W,T,U,aa){fb(aa,function(){var V;if(this._closed)throw new Yb("Stream is already closed.");if(0 > W)throw new RangeError("Offset cannot be negative.");if(0 > T)throw new RangeError("Length cannot be negative.");if(W + T > ca.length)throw new RangeError("Offset plus length cannot be greater than the array length.");V=ca.subarray(W,T);this._buffered.push(V);return V.length;},this);},flush:function(ca,W){var T;for(;0 < this._buffered.length;){if((ca=this._buffered.shift(),this._result)){T=new Uint8Array(this._result.length + ca.length);T.set(this._result);T.set(ca,this._result.length);this._result=T;}else this._result=new Uint8Array(ca);}W.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});yf=Hb.Class.create({getResponse:function(ca,W,T){}});(function(){var ca,W;ca=ud.extend({init:function(T,U){T={_httpLocation:{value:T,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:U,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new xf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new Zc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},setTimeout:function(T){this._timeout=T;},getResponse:function(T,U){var aa;aa=this;this._responseQueue.poll(T,{result:function(V){fb(U,function(){V && this._responseQueue.add(V);return V;},aa);},timeout:function(){fb(U,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();U.timeout();},aa);},error:function(V){fb(U,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw V;},aa);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(T,U){var aa;aa=this;fb(U,function(){var V;if(this._response)return !0;V=this._buffer.toByteArray();0 < V.length && (this._abortToken=this._httpLocation.getResponse({body:V},this._timeout,{result:function(ea){aa._response={response:ea};aa._responseQueue.add(aa._response);},timeout:function(){aa._response={isTimeout:!0};aa._responseQueue.add(aa._response);},error:function(ea){aa._response={isError:!0,error:ea};aa._responseQueue.add(aa._response);}}));return !0;},this);},write:function(T,U,aa,V,ea){fb(ea,function(){if(this._response)throw new Yb("HttpOutputStream already closed.");this._buffer.write(T,U,aa,V,ea);},this);},flush:function(T,U){fb(U,function(){if(this._response)return !0;this._buffer.flush(T,U);},this);}});W=Qd.extend({init:function(T){Object.defineProperties(this,{_out:{value:T,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Gb,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(T,U,aa){var ea;function V(wa){fb(aa,function(){if(!wa)return new Uint8Array(0);this._out.getResponse(U,{result:function(sa){fb(aa,function(){var fa;if(sa.isTimeout)(this._timedout=!0,aa.timeout());else {if(sa.isError)throw (this._exception=sa.error || new Yb("Unknown HTTP exception."),this._exception);if(!sa.response)throw (this._exception=new Yb("Missing HTTP response."),this._exception);sa.response.json !== Gb && (this._json=sa.response.json,this.getJSON=function(){return ea._json;});fa=sa.response.content || Bd("string" === typeof sa.response.body?sa.response.body:JSON.stringify(this._json));this._buffer=new wf(fa);this._buffer.read(T,U,aa);}},ea);},timeout:function(){aa.timeout();},error:function(sa){aa.error(sa);}});},ea);}ea=this;fb(aa,function(){if(this._exception)throw this._exception;if(this._timedout)aa.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(T,U,aa):this._out.close(U,{result:function(wa){V(wa);},timeout:function(){aa.timeout();},error:function(wa){aa.error(wa);}});}},ea);}});he=Hb.Class.create({init:function(T,U){Object.defineProperties(this,{_httpLocation:{value:T,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:U,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(T){this._timeout=T;},openConnection:function(){var T;T=new ca(this._httpLocation,this._timeout);return {input:new W(T),output:T};}});})();(function(){var ca,W;ca=ud.extend({init:function(){var T;T={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},setTimeout:function(){},getResponse:function(T,U){U.result({success:!1,content:null,errorHttpCode:Gb,errorSubCode:Gb});},abort:function(){},close:function(T,U){U.result(!0);},write:function(T,U,aa,V,ea){var wa,sa;try{if(0 > U)throw new RangeError("Offset cannot be negative.");if(0 > aa)throw new RangeError("Length cannot be negative.");if(U + aa > T.length)throw new RangeError("Offset plus length cannot be greater than the array length.");wa=T.subarray(U,aa);sa=new Uint8Array(this._buffer.length + wa.length);sa.set(this._buffer);sa.set(wa,this._buffer.length);this._buffer=sa;ea.result(wa.length);}catch(fa){ea.error(fa);}},flush:function(T,U){U.result(!0);},request:function(){return this._buffer;}});W=Qd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(T,U,aa){aa.result(new Uint8Array(16));}});ie=Hb.Class.create({init:function(){var T;T={output:{value:new ca(),writable:!1,enumerable:!1,configurable:!1},input:{value:new W(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return Ad(this.output.request());}});})();xe=function(ca,W,T){(function(U,aa,V){U.read(-1,aa,{result:function(ea){ea && ea.length?V(null,ea):V(null,null);},timeout:function(){T.timeout();},error:function(ea){V(ea,null);}});})(ca,W,function(U,aa){var V,ea;if(U)T.error(U);else if(aa){if(ca.getJSON !== Gb && "function" === typeof ca.getJSON)T.result(ca.getJSON());else {U=T.result;aa=new zf(ec(aa,"utf-8"));V=[];for(ea=aa.nextValue();ea !== Gb;){V.push(ea);ea=aa.nextValue();}U.call(T,V);}}else T.result(null);});};kc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(kc);(function(){cd=Hb.Class.create({init:function(ca){Object.defineProperties(this,{keyExchangeScheme:{value:ca,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ca;ca={};ca.scheme=this.keyExchangeScheme;ca.keydata=this.getKeydata();return ca;},equals:function(ca){return this === ca?!0:ca instanceof cd?this.keyExchangeScheme == ca.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});ye=function(ca,W,T){Na(T,function(){var U,aa,V;U=W.scheme;aa=W.keydata;if(!U || !aa || "object" !== typeof aa)throw new Ib(S.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(W));if(!kc[U])throw new Ub(S.UNIDENTIFIED_KEYX_SCHEME,U);V=ca.getKeyExchangeFactory(U);if(!V)throw new Ub(S.KEYX_FACTORY_NOT_FOUND,U);V.createRequestData(ca,aa,T);});};})();(function(){dd=Hb.Class.create({init:function(ca,W){Object.defineProperties(this,{masterToken:{value:ca,writable:!1,configurable:!1},keyExchangeScheme:{value:W,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ca;ca={};ca.mastertoken=this.masterToken;ca.scheme=this.keyExchangeScheme;ca.keydata=this.getKeydata();return ca;},equals:function(ca){return this === ca?!0:ca instanceof dd?this.masterToken.equals(ca.masterToken) && this.keyExchangeScheme == ca.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});ze=function(ca,W,T){Na(T,function(){var U,aa,V;U=W.mastertoken;aa=W.scheme;V=W.keydata;if(!aa || !U || "object" !== typeof U || !V || "object" !== typeof V)throw new Ib(S.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(W));if(!kc[aa])throw new Ub(S.UNIDENTIFIED_KEYX_SCHEME,aa);ed(ca,U,{result:function(ea){Na(T,function(){var wa;wa=ca.getKeyExchangeFactory(aa);if(!wa)throw new Ub(S.KEYX_FACTORY_NOT_FOUND,aa);return wa.createResponseData(ca,ea,V);});},error:function(ea){T.error(ea);}});});};})();(function(){var ca;ca=Hb.Class.create({init:function(W,T){Object.defineProperties(this,{keyResponseData:{value:W,writable:!1,configurable:!1},cryptoContext:{value:T,writable:!1,configurable:!1}});}});mc=Hb.Class.create({init:function(W){Object.defineProperties(this,{scheme:{value:W,writable:!1,configurable:!1}});},createRequestData:function(W,T,U){},createResponseData:function(W,T,U){},generateResponse:function(W,T,U,aa){},getCryptoContext:function(W,T,U,aa,V){},generateSessionKeys:function(W,T){Na(T,function(){var U,aa;U=new Uint8Array(16);aa=new Uint8Array(32);W.getRandom().nextBytes(U);W.getRandom().nextBytes(aa);tc(U,oc,Dc,{result:function(V){tc(aa,pc,Mc,{result:function(ea){T.result({encryptionKey:V,hmacKey:ea});},error:function(ea){T.error(new yb(S.SESSION_KEY_CREATION_FAILURE,null,ea));}});},error:function(V){T.error(new yb(S.SESSION_KEY_CREATION_FAILURE,null,V));}});});},importSessionKeys:function(W,T,U){tc(W,oc,Dc,{result:function(aa){tc(T,pc,Mc,{result:function(V){U.result({encryptionKey:aa,hmacKey:V});},error:function(V){U.error(V);}});},error:function(aa){U.error(aa);}});}});mc.KeyExchangeData=ca;})();(function(){var W,T,U;function ca(aa,V,ea,wa,sa){Na(sa,function(){var fa,pa;switch(V){case W.PSK:(fa=new yc(wa),pa=aa.getEntityAuthenticationFactory(Wb.PSK));if(!pa)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,V);fa=pa.getCryptoContext(aa,fa);return new vc(aa,wc.A128KW,qc,Gb);case W.MGK:fa=new xc(wa);pa=aa.getEntityAuthenticationFactory(Wb.MGK);if(!pa)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,V);fa=pa.getCryptoContext(aa,fa);return new vc(aa,wc.A128KW,qc,Gb);case W.WRAP:fa=aa.getMslCryptoContext();fa.unwrap(ea,sc,Ec,{result:function(Aa){Na(sa,function(){return new vc(aa,wc.A128KW,qc,Aa);});},error:sa.error});break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,V);}});}W={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};T=Ae=cd.extend({init:function wa(V,ea){wa.base.call(this,kc.JWE_LADDER);switch(V){case W.WRAP:if(!ea)throw new Bb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:ea=null;}Object.defineProperties(this,{mechanism:{value:V,writable:!1,configurable:!1},wrapdata:{value:ea,writable:!1,configurable:!1}});},getKeydata:function(){var V;V={};V.mechanism=this.mechanism;this.wrapdata && (V.wrapdata=Lb(this.wrapdata));return V;},equals:function wa(ea){return ea === this?!0:ea instanceof Ae?wa.base.call(this,ea) && this.mechanism == ea.mechanism && gc(this.wrapdata,ea.wrapdata):!1;},uniqueKey:function wa(){var sa;sa=wa.base.call(this) + ":" + this.mechanism;this.wrapdata && (sa+=":" + hc(this.wrapdata));return sa;}});U=Be=dd.extend({init:function Y(sa,fa,pa,Aa,ja){Y.base.call(this,sa,kc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:fa,writable:!1,configurable:!1},wrapdata:{value:pa,writable:!1,configurable:!1},encryptionKey:{value:Aa,writable:!1,configurable:!1},hmacKey:{value:ja,writable:!1,configurable:!1}});},getKeydata:function(){var sa;sa={};sa.wrapkey=Lb(this.wrapKey);sa.wrapdata=Lb(this.wrapdata);sa.encryptionkey=Lb(this.encryptionKey);sa.hmackey=Lb(this.hmacKey);return sa;},equals:function pa(fa){return this === fa?!0:fa instanceof Be?pa.base.call(this,fa) && gc(this.wrapKey,fa.wrapKey) && gc(this.wrapdata,fa.wrapdata) && gc(this.encryptionKey,fa.encryptionKey) && gc(this.hmacKey,fa.hmacKey):!1;},uniqueKey:function pa(){return pa.base.call(this) + ":" + hc(this.wrapKey) + ":" + hc(this.wrapdata) + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});mc.extend({init:function ja(Aa){ja.base.call(this,kc.JWE_LADDER);Object.defineProperties(this,{repository:{value:Aa,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(Aa,ja,Y){Na(Y,function(){var ba,da,ya;ba=ja.mechanism;da=ja.wrapdata;if(!ba || ba == W.WRAP && (!da || "string" !== typeof da))throw new Ib(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ja));if(!W[ba])throw new Ub(S.UNIDENTIFIED_KEYX_MECHANISM,ba);switch(ba){case W.WRAP:try{ya=Mb(da);}catch(Ua){throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + ja.toString());}if(null == ya || 0 == ya.length)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + ja.toString());break;default:ya=null;}return new T(ba,ya);});},createResponseData:function(Aa,ja,Y){var ba,da,ya,Ua,Ma,Ra,Wa;Aa=Y.wrapkey;ba=Y.wrapdata;da=Y.encryptionkey;ya=Y.hmackey;if(!(Aa && "string" === typeof Aa && ba && "string" === typeof ba && da && "string" === typeof da && ya) || "string" !== typeof ya)throw new Ib(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(Y));try{Ua=Mb(Aa);Ma=Mb(ba);}catch(ma){throw new yb(S.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(Y),ma);}try{Ra=Mb(da);}catch(ma){throw new yb(S.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(Y),ma);}try{Wa=Mb(ya);}catch(ma){throw new yb(S.INVALID_HMAC_KEY,"keydata " + JSON.stringify(Y),ma);}return new U(ja,Ua,Ma,Ra,Wa);},generateResponse:function(Aa,ja,Y,ba){var Ra,Wa;function da(ma,za,Ea){Ra.generateSessionKeys(Aa,{result:function(Ja){Na(ba,function(){ya(ma,za,Ea,Ja.encryptionKey,Ja.hmacKey);},Ra);},error:function(Ja){Na(ba,function(){Ja instanceof hb && Ja.setEntity(Wa);throw Ja;});}});}function ya(ma,za,Ea,Ja,Da){Na(ba,function(){ca(Aa,ja.mechanism,ja.wrapdata,ma,{result:function(Va){Va.wrap(za,{result:function(Ia){Ua(za,Ea,Ja,Da,Ia);},error:function(Ia){Na(ba,function(){Ia instanceof hb && Ia.setEntity(Wa);throw Ia;});}});},error:function(Va){Na(ba,function(){Va instanceof hb && Va.setEntity(Wa);throw Va;});}});},Ra);}function Ua(ma,za,Ea,Ja,Da){Na(ba,function(){var Va;Va=new vc(Aa,wc.A128KW,qc,ma);Va.wrap(Ea,{result:function(Ia){Va.wrap(Ja,{result:function($a){Ma(za,Da,Ea,Ia,Ja,$a);},error:function($a){Na(ba,function(){$a instanceof hb && $a.setEntity(Wa);throw $a;});}});},error:function(Ia){Na(ba,function(){Ia instanceof hb && Ia.setEntity(Wa);throw Ia;});}});},Ra);}function Ma(ma,za,Ea,Ja,Da,Va){Na(ba,function(){var Ia;Ia=Aa.getTokenFactory();Wa?Ia.renewMasterToken(Aa,Wa,Ea,Da,{result:function($a){Na(ba,function(){var db,Ya;db=new lc(Aa,$a);Ya=new U($a,za,ma,Ja,Va);return new mc.KeyExchangeData(Ya,db,ba);},Ra);},error:function($a){Na(ba,function(){$a instanceof hb && $a.setEntity(Wa);throw $a;});}}):Ia.createMasterToken(Aa,Y,Ea,Da,{result:function($a){Na(ba,function(){var db,Ya;db=new lc(Aa,$a);Ya=new U($a,za,ma,Ja,Va);return new mc.KeyExchangeData(Ya,db,ba);},Ra);},error:ba.error});},Ra);}Ra=this;Na(ba,function(){var ma,za;if(!(ja instanceof T))throw new Bb("Key request data " + JSON.stringify(ja) + " was not created by this factory.");ma=Y;if(Y instanceof ic){if(!Y.isVerified())throw new ad(S.MASTERTOKEN_UNTRUSTED,Y);Wa=Y;ma=Y.identity;}za=new Uint8Array(16);Aa.getRandom().nextBytes(za);tc(za,sc,Ec,{result:function(Ea){Na(ba,function(){Aa.getMslCryptoContext().wrap(Ea,{result:function(Ja){da(ma,Ea,Ja);},error:function(Ja){Na(ba,function(){Ja instanceof hb && Ja.setEntity(Wa);throw Ja;},Ra);}});},Ra);},error:function(Ea){Na(ba,function(){throw new yb(S.WRAP_KEY_CREATION_FAILURE,null,Ea).setEntity(Wa);},Ra);}});},Ra);},getCryptoContext:function(Aa,ja,Y,ba,da){var Ua;function ya(Ma,Ra,Wa,ma,za){Na(da,function(){var Ea;Ea=new vc(Aa,wc.A128KW,qc,za);Ea.unwrap(Ra.encryptionKey,oc,Dc,{result:function(Ja){Ea.unwrap(Ra.hmacKey,pc,Mc,{result:function(Da){Na(da,function(){this.repository.addCryptoContext(Ra.wrapdata,Ea);this.repository.removeCryptoContext(Wa);return new lc(Aa,Ra.masterToken,ma,Ja,Da);},Ua);},error:function(Da){Na(da,function(){Da instanceof hb && Da.setEntity(Ma);throw Da;});}});},error:function(Ja){Na(da,function(){Ja instanceof hb && Ja.setEntity(Ma);throw Ja;});}});},Ua);}Ua=this;Na(da,function(){var Ma,Ra;if(!(ja instanceof T))throw new Bb("Key request data " + JSON.stringify(ja) + " was not created by this factory.");if(!(Y instanceof U))throw new Bb("Key response data " + JSON.stringify(Y) + " was not created by this factory.");Ma=ja.mechanism;Ra=ja.wrapdata;Aa.getEntityAuthenticationData(null,{result:function(Wa){Na(da,function(){var ma,za,Ea;ma=Wa.getIdentity();switch(Ma){case W.PSK:za=new yc(ma);Ea=Aa.getEntityAuthenticationFactory(Wb.PSK);if(!Ea)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Wa);za=Ea.getCryptoContext(Aa,za);za=new vc(Aa,wc.A128KW,qc,Gb);break;case W.MGK:za=new xc(ma);Ea=Aa.getEntityAuthenticationFactory(Wb.MGK);if(!Ea)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Wa);za=Ea.getCryptoContext(Aa,za);za=new vc(Aa,wc.A128KW,qc,za.wrapKey);break;case W.WRAP:za=this.repository.getCryptoContext(Ra);if(!za)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,Lb(Ra)).setEntity(Wa);break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Wa);}za.unwrap(Y.wrapKey,sc,Ec,{result:function(Ja){ya(Wa,Y,Ra,ma,Ja);},error:function(Ja){Na(da,function(){Ja instanceof hb && Ja.setEntity(Wa);throw Ja;});}});},Ua);},error:da.error});},Ua);}});})();(function(){var W,T,U,aa;function ca(V,ea,wa,sa,fa){Na(fa,function(){var pa,Aa;switch(ea){case W.PSK:(pa=new yc(sa),Aa=V.getEntityAuthenticationFactory(Wb.PSK));if(!Aa)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,ea);pa=Aa.getCryptoContext(V,pa);return new aa(Gb);case W.MGK:pa=new xc(sa);Aa=V.getEntityAuthenticationFactory(Wb.MGK);if(!Aa)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,ea);pa=Aa.getCryptoContext(V,pa);return new aa(Gb);case W.WRAP:pa=V.getMslCryptoContext();pa.unwrap(wa,sc,Ec,{result:function(ja){Na(fa,function(){return new aa(ja);});},error:fa.error});break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,ea);}});}W={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};T=Ce=cd.extend({init:function sa(ea,wa){sa.base.call(this,kc.JWK_LADDER);switch(ea){case W.WRAP:if(!wa)throw new Bb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:wa=null;}Object.defineProperties(this,{mechanism:{value:ea,writable:!1,configurable:!1},wrapdata:{value:wa,writable:!1,configurable:!1}});},getKeydata:function(){var ea;ea={};ea.mechanism=this.mechanism;this.wrapdata && (ea.wrapdata=Lb(this.wrapdata));return ea;},equals:function sa(wa){return wa === this?!0:wa instanceof Ce?sa.base.call(this,wa) && this.mechanism == wa.mechanism && gc(this.wrapdata,wa.wrapdata):!1;},uniqueKey:function sa(){var fa;fa=sa.base.call(this) + ":" + this.mechanism;this.wrapdata && (fa+=":" + hc(this.wrapdata));return fa;}});U=De=dd.extend({init:function ba(fa,pa,Aa,ja,Y){ba.base.call(this,fa,kc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:pa,writable:!1,configurable:!1},wrapdata:{value:Aa,writable:!1,configurable:!1},encryptionKey:{value:ja,writable:!1,configurable:!1},hmacKey:{value:Y,writable:!1,configurable:!1}});},getKeydata:function(){var fa;fa={};fa.wrapkey=Lb(this.wrapKey);fa.wrapdata=Lb(this.wrapdata);fa.encryptionkey=Lb(this.encryptionKey);fa.hmackey=Lb(this.hmacKey);return fa;},equals:function Aa(pa){return this === pa?!0:pa instanceof De?Aa.base.call(this,pa) && gc(this.wrapKey,pa.wrapKey) && gc(this.wrapdata,pa.wrapdata) && gc(this.encryptionKey,pa.encryptionKey) && gc(this.hmacKey,pa.hmacKey):!1;},uniqueKey:function Aa(){return Aa.base.call(this) + ":" + hc(this.wrapKey) + ":" + hc(this.wrapdata) + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});aa=Uc.extend({init:function(Aa){Aa && Aa.rawKey && (Aa=Aa.rawKey);Object.defineProperties(this,{_wrapKey:{value:Aa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Aa,ja){ja.error(new yb(S.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Aa,ja){ja.error(new yb(S.DECRYPT_NOT_SUPPORTED));},wrap:function(Aa,ja){Na(ja,function(){Rb.wrapKey("jwk",Aa.rawKey,this._wrapKey,sc).then(function(Y){ja.result(Y);},function(Y){ja.error(new yb(S.WRAP_ERROR));});},this);},unwrap:function(Aa,ja,Y,ba){function da(ya){Na(ba,function(){switch(ya.type){case "secret":bd(ya,ba);break;case "public":Jc(ya,ba);break;case "private":Sc(ya,ba);break;default:throw new yb(S.UNSUPPORTED_KEY,"type: " + ya.type);}});}Na(ba,function(){Rb.unwrapKey("jwk",Aa,this._wrapKey,sc,ja,!1,Y).then(function(ya){da(ya);},function(ya){ba.error(new yb(S.UNWRAP_ERROR));});},this);},sign:function(Aa,ja){ja.error(new yb(S.SIGN_NOT_SUPPORTED));},verify:function(Aa,ja,Y){Y.error(new yb(S.VERIFY_NOT_SUPPORTED));}});mc.extend({init:function Y(ja){Y.base.call(this,kc.JWK_LADDER);Object.defineProperties(this,{repository:{value:ja,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(ja,Y,ba){Na(ba,function(){var da,ya,Ua;da=Y.mechanism;ya=Y.wrapdata;if(!da || da == W.WRAP && (!ya || "string" !== typeof ya))throw new Ib(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(Y));if(!W[da])throw new Ub(S.UNIDENTIFIED_KEYX_MECHANISM,da);switch(da){case W.WRAP:try{Ua=Mb(ya);}catch(Ma){throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + Y.toString());}if(null == Ua || 0 == Ua.length)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + Y.toString());break;default:Ua=null;}return new T(da,Ua);});},createResponseData:function(ja,Y,ba){var da,ya,Ua,Ma,Ra,Wa,ma;ja=ba.wrapkey;da=ba.wrapdata;ya=ba.encryptionkey;Ua=ba.hmackey;if(!(ja && "string" === typeof ja && da && "string" === typeof da && ya && "string" === typeof ya && Ua) || "string" !== typeof Ua)throw new Ib(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ba));try{Ma=Mb(ja);Ra=Mb(da);}catch(za){throw new yb(S.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(ba),za);}try{Wa=Mb(ya);}catch(za){throw new yb(S.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ba),za);}try{ma=Mb(Ua);}catch(za){throw new yb(S.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ba),za);}return new U(Y,Ma,Ra,Wa,ma);},generateResponse:function(ja,Y,ba,da){var Wa,ma;function ya(za,Ea,Ja){Wa.generateSessionKeys(ja,{result:function(Da){Na(da,function(){Ua(za,Ea,Ja,Da.encryptionKey,Da.hmacKey);},Wa);},error:function(Da){Na(da,function(){Da instanceof hb && Da.setEntity(ma);throw Da;});}});}function Ua(za,Ea,Ja,Da,Va){Na(da,function(){ca(ja,Y.mechanism,Y.wrapdata,za,{result:function(Ia){Ia.wrap(Ea,{result:function($a){Ma(Ea,Ja,Da,Va,$a);},error:function($a){Na(da,function(){$a instanceof hb && $a.setEntity(ma);throw $a;});}});},error:function(Ia){Na(da,function(){Ia instanceof hb && Ia.setEntity(ma);throw Ia;});}});},Wa);}function Ma(za,Ea,Ja,Da,Va){Na(da,function(){var Ia;Ia=new aa(za);Ia.wrap(Ja,{result:function($a){Ia.wrap(Da,{result:function(db){Ra(Ea,Va,Ja,$a,Da,db);},error:function(db){Na(da,function(){db instanceof hb && db.setEntity(ma);throw db;});}});},error:function($a){Na(da,function(){$a instanceof hb && $a.setEntity(ma);throw $a;});}});},Wa);}function Ra(za,Ea,Ja,Da,Va,Ia){Na(da,function(){var $a;$a=ja.getTokenFactory();ma?$a.renewMasterToken(ja,ma,Ja,Va,{result:function(db){Na(da,function(){var Ya,mb;Ya=new lc(ja,db);mb=new U(db,Ea,za,Da,Ia);return new mc.KeyExchangeData(mb,Ya,da);},Wa);},error:function(db){Na(da,function(){db instanceof hb && db.setEntity(ma);throw db;});}}):$a.createMasterToken(ja,ba,Ja,Va,{result:function(db){Na(da,function(){var Ya,mb;Ya=new lc(ja,db);mb=new U(db,Ea,za,Da,Ia);return new mc.KeyExchangeData(mb,Ya,da);},Wa);},error:da.error});},Wa);}Wa=this;Na(da,function(){var za,Ea;if(!(Y instanceof T))throw new Bb("Key request data " + JSON.stringify(Y) + " was not created by this factory.");za=ba;if(ba instanceof ic){if(!ba.isVerified())throw new ad(S.MASTERTOKEN_UNTRUSTED,ba);ma=ba;za=ba.identity;}Ea=new Uint8Array(16);ja.getRandom().nextBytes(Ea);tc(Ea,sc,Ec,{result:function(Ja){Na(da,function(){ja.getMslCryptoContext().wrap(Ja,{result:function(Da){ya(za,Ja,Da);},error:function(Da){Na(da,function(){Da instanceof hb && Da.setEntity(ma);throw Da;},Wa);}});},Wa);},error:function(Ja){Na(da,function(){throw new yb(S.WRAP_KEY_CREATION_FAILURE,null,Ja).setEntity(ma);},Wa);}});},Wa);},getCryptoContext:function(ja,Y,ba,da,ya){var Ma;function Ua(Ra,Wa,ma,za,Ea){Na(ya,function(){var Ja;Ja=new aa(Ea);Ja.unwrap(Wa.encryptionKey,oc,Dc,{result:function(Da){Ja.unwrap(Wa.hmacKey,pc,Mc,{result:function(Va){Na(ya,function(){this.repository.addCryptoContext(Wa.wrapdata,Ja);this.repository.removeCryptoContext(ma);return new lc(ja,Wa.masterToken,za,Da,Va);},Ma);},error:function(Va){Na(ya,function(){Va instanceof hb && Va.setEntity(Ra);throw Va;});}});},error:function(Da){Na(ya,function(){Da instanceof hb && Da.setEntity(Ra);throw Da;});}});},Ma);}Ma=this;Na(ya,function(){var Ra,Wa;if(!(Y instanceof T))throw new Bb("Key request data " + JSON.stringify(Y) + " was not created by this factory.");if(!(ba instanceof U))throw new Bb("Key response data " + JSON.stringify(ba) + " was not created by this factory.");Ra=Y.mechanism;Wa=Y.wrapdata;ja.getEntityAuthenticationData(null,{result:function(ma){Na(ya,function(){var za,Ea,Ja;za=ma.getIdentity();switch(Ra){case W.PSK:Ea=new yc(za);Ja=ja.getEntityAuthenticationFactory(Wb.PSK);if(!Ja)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Ra).setEntity(ma);Ea=Ja.getCryptoContext(ja,Ea);Ea=new aa(Ea.wrapKey);break;case W.MGK:Ea=new xc(za);Ja=ja.getEntityAuthenticationFactory(Wb.MGK);if(!Ja)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Ra).setEntity(ma);Ea=Ja.getCryptoContext(ja,Ea);Ea=new aa(Ea.wrapKey);break;case W.WRAP:Ea=this.repository.getCryptoContext(Wa);if(!Ea)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,Lb(Wa)).setEntity(ma);break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Ra).setEntity(ma);}Ea.unwrap(ba.wrapKey,sc,Ec,{result:function(Da){Ua(ma,ba,Wa,za,Da);},error:function(Da){Na(ya,function(){Da instanceof hb && Da.setEntity(ma);throw Da;});}});},Ma);},error:ya.error});},Ma);}});})();Af=Hb.Class.create({addCryptoContext:function(ca,W){},getCryptoContext:function(ca){},removeCryptoContext:function(ca){}});(function(){var W,T,U,aa;function ca(V,ea,wa,sa,fa){switch(wa){case W.JWE_RSA:case W.JWEJS_RSA:return new vc(V,wc.RSA_OAEP,qc,sa,fa);case W.JWK_RSA:return new pd(V,ea,sa,fa,qd.WRAP_UNWRAP_OAEP);case W.JWK_RSAES:return new pd(V,ea,sa,fa,qd.WRAP_UNWRAP_PKCS1);default:throw new yb(S.UNSUPPORTED_KEYX_MECHANISM,wa);}}W=Ee={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};T=Dd=cd.extend({init:function pa(ea,wa,sa,fa){pa.base.call(this,kc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:ea,writable:!1,configurable:!1},mechanism:{value:wa,writable:!1,configurable:!1},publicKey:{value:sa,writable:!1,configurable:!1},privateKey:{value:fa,writable:!1,configurable:!1}});},getKeydata:function(){var ea;ea={};ea.keypairid=this.keyPairId;ea.mechanism=this.mechanism;ea.publickey=Lb(this.publicKey.getEncoded());return ea;},equals:function sa(wa){var fa;if(wa === this)return !0;if(!(wa instanceof Dd))return !1;fa=this.privateKey === wa.privateKey || this.privateKey && wa.privateKey && gc(this.privateKey.getEncoded(),wa.privateKey.getEncoded());return sa.base.call(this,wa) && this.keyPairId == wa.keyPairId && this.mechanism == wa.mechanism && gc(this.publicKey.getEncoded(),wa.publicKey.getEncoded()) && fa;},uniqueKey:function sa(){var fa,pa;fa=this.publicKey.getEncoded();pa=this.privateKey && this.privateKey.getEncoded();fa=sa.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + hc(fa);pa && (fa+=":" + hc(pa));return fa;}});U=function(sa,fa){Na(fa,function(){var pa,Aa,ja,Y;pa=sa.keypairid;Aa=sa.mechanism;ja=sa.publickey;if(!pa || "string" !== typeof pa || !Aa || !ja || "string" !== typeof ja)throw new Ib(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(sa));if(!W[Aa])throw new Ub(S.UNIDENTIFIED_KEYX_MECHANISM,Aa);try{Y=Mb(ja);switch(Aa){case W.JWE_RSA:case W.JWEJS_RSA:case W.JWK_RSA:Id(Y,nd,Ec,{result:function(ba){fa.result(new T(pa,Aa,ba,null));},error:function(ba){fa.error(ba);}});break;case W.JWK_RSAES:Id(Y,Gd,Ec,{result:function(ba){fa.result(new T(pa,Aa,ba,null));},error:function(ba){fa.error(ba);}});break;default:throw new yb(S.UNSUPPORTED_KEYX_MECHANISM,Aa);}}catch(ba){if(!(ba instanceof hb))throw new yb(S.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(sa),ba);throw ba;}});};aa=Fe=dd.extend({init:function Y(fa,pa,Aa,ja){Y.base.call(this,fa,kc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:pa,writable:!1,configurable:!1},encryptionKey:{value:Aa,writable:!1,configurable:!1},hmacKey:{value:ja,writable:!1,configurable:!1}});},getKeydata:function(){var fa;fa={};fa.keypairid=this.keyPairId;fa.encryptionkey=Lb(this.encryptionKey);fa.hmackey=Lb(this.hmacKey);return fa;},equals:function Aa(pa){return this === pa?!0:pa instanceof Fe?Aa.base.call(this,pa) && this.keyPairId == pa.keyPairId && gc(this.encryptionKey,pa.encryptionKey) && gc(this.hmacKey,pa.hmacKey):!1;},uniqueKey:function Aa(){return Aa.base.call(this) + ":" + this.keyPairId + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});je=mc.extend({init:function ja(){ja.base.call(this,kc.ASYMMETRIC_WRAPPED);},createRequestData:function(ja,Y,ba){U(Y,ba);},createResponseData:function(ja,Y,ba){var da,ya,Ua,Ma;ja=ba.keypairid;da=ba.encryptionkey;ya=ba.hmackey;if(!ja || "string" !== typeof ja || !da || "string" !== typeof da || !ya || "string" !== typeof ya)throw new Ib(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ba));try{Ua=Mb(da);}catch(Ra){throw new yb(S.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ba),Ra);}try{Ma=Mb(ya);}catch(Ra){throw new yb(S.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ba),Ra);}return new aa(Y,ja,Ua,Ma);},generateResponse:function(ja,Y,ba,da){var Ma;function ya(Ra,Wa){Na(da,function(){var ma;ma=ca(ja,Y.keyPairId,Y.mechanism,null,Y.publicKey);ma.wrap(Ra,{result:function(za){Na(da,function(){ma.wrap(Wa,{result:function(Ea){Ua(Ra,za,Wa,Ea);},error:function(Ea){Na(da,function(){Ea instanceof hb && ba instanceof ic && Ea.setEntity(ba);throw Ea;},Ma);}});},Ma);},error:function(za){Na(da,function(){za instanceof hb && ba instanceof ic && za.setEntity(ba);throw za;},Ma);}});},Ma);}function Ua(Ra,Wa,ma,za){Na(da,function(){var Ea;Ea=ja.getTokenFactory();ba instanceof ic?Ea.renewMasterToken(ja,ba,Ra,ma,{result:function(Ja){Na(da,function(){var Da,Va;Da=new lc(ja,Ja);Va=new aa(Ja,Y.keyPairId,Wa,za);return new mc.KeyExchangeData(Va,Da,da);},Ma);},error:function(Ja){Na(da,function(){Ja instanceof hb && Ja.setEntity(ba);throw Ja;},Ma);}}):Ea.createMasterToken(ja,ba,Ra,ma,{result:function(Ja){Na(da,function(){var Da,Va;Da=new lc(ja,Ja);Va=new aa(Ja,Y.keyPairId,Wa,za);return new mc.KeyExchangeData(Va,Da,da);},Ma);},error:da.error});},Ma);}Ma=this;Na(da,function(){if(!(Y instanceof T))throw new Bb("Key request data " + JSON.stringify(Y) + " was not created by this factory.");this.generateSessionKeys(ja,{result:function(Ra){ya(Ra.encryptionKey,Ra.hmacKey);},error:function(Ra){Na(da,function(){Ra instanceof hb && ba instanceof ic && Ra.setEntity(ba);throw Ra;},Ma);}});},Ma);},getCryptoContext:function(ja,Y,ba,da,ya){var Ua;Ua=this;Na(ya,function(){var Ma,Ra,Wa;if(!(Y instanceof T))throw new Bb("Key request data " + JSON.stringify(Y) + " was not created by this factory.");if(!(ba instanceof aa))throw new Bb("Key response data " + JSON.stringify(ba) + " was not created by this factory.");Ma=Y.keyPairId;Ra=ba.keyPairId;if(Ma != Ra)throw new Ub(S.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Ma + "; response " + Ra).setEntity(da);Ra=Y.privateKey;if(!Ra)throw new Ub(S.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(da);Wa=ca(ja,Ma,Y.mechanism,Ra,null);Wa.unwrap(ba.encryptionKey,oc,Dc,{result:function(ma){Wa.unwrap(ba.hmacKey,pc,Mc,{result:function(za){ja.getEntityAuthenticationData(null,{result:function(Ea){Na(ya,function(){var Ja;Ja=Ea.getIdentity();return new lc(ja,ba.masterToken,Ja,ma,za);},Ua);},error:function(Ea){Na(ya,function(){Ea instanceof hb && Ea.setEntity(da);throw Ea;},Ua);}});},error:function(za){Na(ya,function(){za instanceof hb && za.setEntity(da);throw za;},Ua);}});},error:function(ma){Na(ya,function(){ma instanceof hb && ma.setEntity(da);throw ma;},Ua);}});},Ua);}});})();zf=Hb.Class.create({init:function(ca){var W,T,U,aa,V,ea,wa,sa;W=bc.parser();T=[];U=[];wa=0;sa=!1;W.onerror=function(fa){sa || (sa=!0,W.end());};W.onopenobject=function(fa){var pa;if(aa)(aa[ea]={},U.push(aa),aa=aa[ea]);else if(V){pa={};U.push(V);V.push(pa);aa=pa;V=Gb;}else aa={};ea=fa;};W.oncloseobject=function(){var fa;fa=U.pop();fa?"object" === typeof fa?aa=fa:(aa=Gb,V=fa):(T.push(aa),wa=W.index,aa=Gb);};W.onopenarray=function(){var fa;if(aa)(aa[ea]=[],U.push(aa),V=aa[ea],aa=Gb);else if(V){fa=[];U.push(V);V.push(fa);V=fa;}else V=[];};W.onclosearray=function(){var fa;fa=U.pop();fa?"object" === typeof fa?(aa=fa,V=Gb):V=fa:(T.push(V),wa=W.index,V=Gb);};W.onkey=function(fa){ea=fa;};W.onvalue=function(fa){aa?aa[ea]=fa:V?V.push(fa):(T.push(fa),wa=W.index);};W.write(ca).close();Object.defineProperties(this,{_values:{value:T,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:wa,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Gb:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var ca,W,T,U,aa;ca=Rd="entityauthdata";W=He="mastertoken";T=Ie="headerdata";U=Je="errordata";aa=Sd="signature";Ge=function(V,ea,wa,sa){Na(sa,function(){var fa,pa,Aa,ja,Y,ba;fa=ea[ca];pa=ea[W];Aa=ea[aa];if(fa && "object" !== typeof fa || pa && "object" !== typeof pa || "string" !== typeof Aa)throw new Ib(S.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ea));try{ja=Mb(Aa);}catch(da){throw new Ob(S.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(ea),da);}Y=null;fa && (Y=se(V,fa));ba=ea[T];if(ba != Gb && null != ba){if("string" !== typeof ba)throw new Ib(S.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ea));pa?ed(V,pa,{result:function(da){Td(V,ba,Y,da,ja,wa,sa);},error:function(da){sa.error(da);}}):Td(V,ba,Y,null,ja,wa,sa);}else if((fa=ea[U],fa != Gb && null != fa)){if("string" !== typeof fa)throw new Ib(S.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ea));Ke(V,fa,Y,ja,sa);}else throw new Ib(S.JSON_PARSE_ERROR,JSON.stringify(ea));});};})();(function(){function ca(W,T){this.errordata=W;this.signature=T;}Ic=Hb.Class.create({init:function(W,T,U,aa,V,ea,wa,sa,fa,pa){var Aa;Aa=this;Na(pa,function(){var ja,Y;0 > ea && (ea=-1);if(0 > aa || aa > Sb)throw new Bb("Message ID " + aa + " is out of range.");if(!T)throw new Ob(S.MESSAGE_ENTITY_NOT_FOUND);if(fa)return (Object.defineProperties(this,{entityAuthenticationData:{value:T,writable:!1,configurable:!1},recipient:{value:U,writable:!1,configurable:!1},messageId:{value:aa,writable:!1,configurable:!1},errorCode:{value:V,writable:!1,configurable:!1},internalCode:{value:ea,writable:!1,configurable:!1},errorMessage:{value:wa,writable:!1,configurable:!1},userMessage:{value:sa,writable:!1,configurable:!1},errordata:{value:fa.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:fa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);ja={};U && (ja.recipient=U);ja.messageid=aa;ja.errorcode=V;0 < ea && (ja.internalcode=ea);wa && (ja.errormsg=wa);sa && (ja.usermsg=sa);try{Y=W.getEntityAuthenticationFactory(T.scheme).getCryptoContext(W,T);}catch(ba){throw (ba instanceof hb && (ba.setEntity(T),ba.setMessageId(aa)),ba);}ja=fc(JSON.stringify(ja),Tb);Y.encrypt(ja,{result:function(ba){Na(pa,function(){Y.sign(ba,{result:function(da){Na(pa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:T,writable:!1,configurable:!1},recipient:{value:U,writable:!1,configurable:!1},messageId:{value:aa,writable:!1,configurable:!1},errorCode:{value:V,writable:!1,configurable:!1},internalCode:{value:ea,writable:!1,configurable:!1},errorMessage:{value:wa,writable:!1,configurable:!1},userMessage:{value:sa,writable:!1,configurable:!1},errordata:{value:ba,writable:!1,enumerable:!1,configurable:!1},signature:{value:da,writable:!1,enumerable:!1,configurable:!1}});return this;},Aa);},error:function(da){Na(pa,function(){da instanceof hb && (da.setEntity(T),da.setMessageId(aa));throw da;},Aa);}});},Aa);},error:function(ba){Na(pa,function(){ba instanceof hb && (ba.setEntity(T),ba.setMessageId(aa));throw ba;},Aa);}});},Aa);},toJSON:function(){var W;W={};W[Rd]=this.entityAuthenticationData;W[Je]=Lb(this.errordata);W[Sd]=Lb(this.signature);return W;}});Le=function(W,T,U,aa,V,ea,wa,sa,fa){new Ic(W,T,U,aa,V,ea,wa,sa,null,fa);};Ke=function(W,T,U,aa,V){Na(V,function(){var ea,wa,sa;if(!U)throw new Ob(S.MESSAGE_ENTITY_NOT_FOUND);try{ea=U.scheme;wa=W.getEntityAuthenticationFactory(ea);if(!wa)throw new rc(S.ENTITYAUTH_FACTORY_NOT_FOUND,ea);sa=wa.getCryptoContext(W,U);}catch(fa){throw (fa instanceof hb && fa.setEntity(U),fa);}try{T=Mb(T);}catch(fa){throw new Ob(S.HEADER_DATA_INVALID,T,fa).setEntity(U);}if(!T || 0 == T.length)throw new Ob(S.HEADER_DATA_MISSING,T).setEntity(U);sa.verify(T,aa,{result:function(fa){Na(V,function(){if(!fa)throw new yb(S.MESSAGE_VERIFICATION_FAILED).setEntity(U);sa.decrypt(T,{result:function(pa){Na(V,function(){var Aa,ja,Y,ba,da,ya,Ua,Ma;Aa=ec(pa,Tb);try{ja=JSON.parse(Aa);}catch(Wa){if(Wa instanceof SyntaxError)throw new Ib(S.JSON_PARSE_ERROR,"errordata " + Aa,Wa).setEntity(U);throw Wa;}Y=ja.recipient !== Gb?ja.recipient:null;ba=parseInt(ja.messageid);da=parseInt(ja.errorcode);ya=parseInt(ja.internalcode);Ua=ja.errormsg;Ma=ja.usermsg;if(Y && "string" !== typeof Y || !ba || ba != ba || !da || da != da || ja.internalcode && ya != ya || Ua && "string" !== typeof Ua || Ma && "string" !== typeof Ma)throw new Ib(S.JSON_PARSE_ERROR,"errordata " + Aa).setEntity(U);if(0 > ba || ba > Sb)throw new Ob(S.MESSAGE_ID_OUT_OF_RANGE,"errordata " + Aa).setEntity(U);ja=!1;for(var Ra in Ga){if(Ga[Ra] == da){ja=!0;break;}}ja || (da=Ga.FAIL);if(ya){if(0 > ya)throw new Ob(S.INTERNAL_CODE_NEGATIVE,"errordata " + Aa).setEntity(U).setMessageId(ba);}else ya=-1;Aa=new ca(T,aa);new Ic(W,U,Y,ba,da,ya,Ua,Ma,Aa,V);});},error:function(pa){Na(V,function(){pa instanceof hb && pa.setEntity(U);throw pa;});}});});},error:function(fa){Na(V,function(){fa instanceof hb && fa.setEntity(U);throw fa;});}});});};})();Bf=Hb.Class.create({getUserMessage:function(ca,W){}});(function(){Ud=function(ca,W){var T;if(!ca || !W)return null;T=ca.compressionAlgorithms.filter(function(U){for(var aa=0;aa < W.compressionAlgorithms.length;++aa){if(U == W.compressionAlgorithms[aa])return !0;}return !1;});ca=ca.languages.filter(function(U){for(var aa=0;aa < W.languages.length;++aa){if(U == W.languages[aa])return !0;}return !1;});return new fd(T,ca);};fd=Hb.Class.create({init:function(ca,W){ca || (ca=[]);W || (W=[]);ca.sort();Object.defineProperties(this,{compressionAlgorithms:{value:ca,writable:!1,enumerable:!0,configurable:!1},languages:{value:W,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var ca;ca={};ca.compressionalgos=this.compressionAlgorithms;ca.languages=this.languages;return ca;},equals:function(ca){return this === ca?!0:ca instanceof fd?ce(this.compressionAlgorithms,ca.compressionAlgorithms) && ce(this.languages,ca.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});Me=function(ca){var W,T,aa;W=ca.compressionalgos;T=ca.languages;if(W && !(W instanceof Array) || T && !(T instanceof Array))throw new Ib(S.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(ca));ca=[];for(var U=0;W && U < W.length;++U){aa=W[U];Kc[aa] && ca.push(aa);}return new fd(ca,T);};})();(function(){var pa,Aa;function ca(ja,Y,ba,da,ya){this.customer=ja;this.sender=Y;this.messageCryptoContext=ba;this.headerdata=da;this.signature=ya;}function W(ja,Y,ba,da,ya,Ua,Ma,Ra,Wa,ma,za,Ea,Ja,Da,Va,Ia,$a,db,Ya,mb){return {cryptoContext:{value:Y,writable:!1,configurable:!1},customer:{value:ba,writable:!1,configurable:!1},entityAuthenticationData:{value:da,writable:!1,configurable:!1},masterToken:{value:ya,writable:!1,configurable:!1},sender:{value:Ua,writable:!1,configurable:!1},messageId:{value:Ma,writable:!1,configurable:!1},nonReplayableId:{value:Ia,writable:!1,configurable:!1},keyRequestData:{value:Ra,writable:!1,configurable:!1},keyResponseData:{value:Wa,writable:!1,configurable:!1},userAuthenticationData:{value:ma,writable:!1,configurable:!1},userIdToken:{value:za,writable:!1,configurable:!1},serviceTokens:{value:Ea,writable:!1,configurable:!1},peerMasterToken:{value:Ja,writable:!1,configurable:!1},peerUserIdToken:{value:Da,writable:!1,configurable:!1},peerServiceTokens:{value:Va,writable:!1,configurable:!1},messageCapabilities:{value:db,writable:!1,configurable:!1},renewable:{value:$a,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Ya,writable:!1,enumerable:!1,configurable:!1},signature:{value:mb,writable:!1,enumerable:!1,configurable:!1}};}function T(ja,Y,ba){var da;if(ba){if(Y=ja.getMslStore().getCryptoContext(ba))return Y;if(!ba.isVerified() || !ba.isDecrypted())throw new ad(S.MASTERTOKEN_UNTRUSTED,ba);return new lc(ja,ba);}ba=Y.scheme;da=ja.getEntityAuthenticationFactory(ba);if(!da)throw new rc(S.ENTITYAUTH_FACTORY_NOT_FOUND,ba);return da.getCryptoContext(ja,Y);}function U(ja,Y,ba,da,ya){Na(ya,function(){Y.verify(ba,da,{result:function(Ua){Na(ya,function(){if(!Ua)throw new yb(S.MESSAGE_VERIFICATION_FAILED);Y.decrypt(ba,{result:function(Ma){Na(ya,function(){return ec(Ma,Tb);});},error:function(Ma){ya.error(Ma);}});});},error:function(Ua){ya.error(Ua);}});});}function aa(ja,Y,ba){Na(ba,function(){if(Y)ze(ja,Y,ba);else return null;});}function V(ja,Y,ba,da){Na(da,function(){if(Y)vd(ja,Y,ba,da);else return null;});}function ea(ja,Y,ba,da){Na(da,function(){if(ba)Qe(ja,Y,ba,da);else return null;});}function wa(ja,Y,ba,da,ya,Ua,Ma){var Wa;function Ra(ma,za,Ea){var Ja,Da;if(za >= ma.length){Ja=[];for(Da in Wa){Ja.push(Wa[Da]);}Ea.result(Ja);}else {Ja=ma[za];if("object" !== typeof Ja)throw new Ib(S.JSON_PARSE_ERROR,"headerdata " + Ua);wd(ja,Ja,ba,da,ya,{result:function(Va){Na(Ea,function(){Wa[Va.uniqueKey()]=Va;Ra(ma,za + 1,Ea);});},error:function(Va){Ea.error(Va);}});}}Wa={};Na(Ma,function(){if(Y){if(!(Y instanceof Array))throw new Ib(S.JSON_PARSE_ERROR,"headerdata " + Ua);Ra(Y,0,Ma);}else return [];});}function sa(ja,Y,ba,da,ya,Ua){function Ma(Wa,ma,za){Na(za,function(){var Ea;Ea=ma.peermastertoken;if(Ea && "object" !== typeof Ea)throw new Ib(S.JSON_PARSE_ERROR,"headerdata " + ya);if(!Ea)return null;ed(Wa,Ea,za);});}function Ra(Wa,ma,za,Ea){Na(Ea,function(){var Ja;Ja=ma.peeruseridtoken;if(Ja && "object" !== typeof Ja)throw new Ib(S.JSON_PARSE_ERROR,"headerdata " + ya);if(!Ja)return null;vd(Wa,Ja,za,Ea);});}Na(Ua,function(){if(!ja.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Ma(ja,Y,{result:function(Wa){Na(Ua,function(){var ma;ma=ba?ba.masterToken:Wa;Ra(ja,Y,ma,{result:function(za){Na(Ua,function(){wa(ja,Y.peerservicetokens,ma,za,da,ya,{result:function(Ea){Na(Ua,function(){return {peerMasterToken:Wa,peerUserIdToken:za,peerServiceTokens:Ea};});},error:function(Ea){Na(Ua,function(){Ea instanceof hb && (Ea.setEntity(ma),Ea.setUser(za));throw Ea;});}});});},error:function(za){Na(Ua,function(){za instanceof hb && za.setEntity(ma);throw za;});}});});},error:Ua.error});});}function fa(ja,Y,ba,da){var Ua;function ya(Ma,Ra){Na(da,function(){if(Ra >= Ma.length)return Ua;ye(ja,Ma[Ra],{result:function(Wa){Na(da,function(){Ua.push(Wa);ya(Ma,Ra + 1);});},error:function(Wa){da.error(Wa);}});});}Ua=[];Na(da,function(){var Ma;Ma=Y.keyrequestdata;if(!Ma)return Ua;if(!(Ma instanceof Array))throw new Ib(S.JSON_PARSE_ERROR,"headerdata " + ba);ya(Ma,0);});}pa=Oe=Hb.Class.create({init:function(ja,Y,ba,da,ya,Ua,Ma,Ra,Wa){Object.defineProperties(this,{messageId:{value:ja,writable:!1,configurable:!1},nonReplayableId:{value:Y,writable:!1,configurable:!1},renewable:{value:ba,writable:!1,configurable:!1},capabilities:{value:da,writable:!1,configurable:!1},keyRequestData:{value:ya,writable:!1,configurable:!1},keyResponseData:{value:Ua,writable:!1,configurable:!1},userAuthData:{value:Ma,writable:!1,configurable:!1},userIdToken:{value:Ra,writable:!1,configurable:!1},serviceTokens:{value:Wa,writable:!1,configurable:!1}});}});Aa=Pe=Hb.Class.create({init:function(ja,Y,ba){Object.defineProperties(this,{peerMasterToken:{value:ja,writable:!1,configurable:!1},peerUserIdToken:{value:Y,writable:!1,configurable:!1},peerServiceTokens:{value:ba,writable:!1,configurable:!1}});}});gd=Hb.Class.create({init:function(ja,Y,ba,da,ya,Ua,Ma){var Wa;function Ra(ma){Na(Ma,function(){var za,Ea,Ja,Da,Va,Ia,$a,db,Ya,mb,rb,tb,ub,vb,Fb,Eb,oa;Y=ba?null:Y;za=da.nonReplayableId;Ea=da.renewable;Ja=da.capabilities;Da=da.messageId;Va=da.keyRequestData?da.keyRequestData:[];Ia=da.keyResponseData;$a=da.userAuthData;db=da.userIdToken;Ya=da.serviceTokens?da.serviceTokens:[];if(ja.isPeerToPeer()){mb=ya.peerMasterToken;rb=ya.peerUserIdToken;tb=ya.peerServiceTokens?ya.peerServiceTokens:[];}else (rb=mb=null,tb=[]);if(0 > Da || Da > Sb)throw new Bb("Message ID " + Da + " is out of range.");if(!Y && !ba)throw new Bb("Message entity authentication data or master token must be provided.");if(Ia){if(ja.isPeerToPeer()){ub=ba;vb=Ia.masterToken;}else (ub=Ia.masterToken,vb=mb);}else (ub=ba,vb=mb);if(db && (!ub || !db.isBoundTo(ub)))throw new Bb("User ID token must be bound to a master token.");if(rb && (!vb || !rb.isBoundTo(vb)))throw new Bb("Peer user ID token must be bound to a peer master token.");Ya.forEach(function(Fa){if(Fa.isMasterTokenBound() && (!ub || !Fa.isBoundTo(ub)))throw new Bb("Master token bound service tokens must be bound to the provided master token.");if(Fa.isUserIdTokenBound() && (!db || !Fa.isBoundTo(db)))throw new Bb("User ID token bound service tokens must be bound to the provided user ID token.");},this);tb.forEach(function(Fa){if(Fa.isMasterTokenBound() && (!vb || !Fa.isBoundTo(vb)))throw new Bb("Master token bound peer service tokens must be bound to the provided peer master token.");if(Fa.isUserIdTokenBound() && (!rb || !Fa.isBoundTo(rb)))throw new Bb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Ua){oa=Ua.customer;Fb=Ua.messageCryptoContext;Eb=W(ja,Fb,oa,Y,ba,ma,Da,Va,Ia,$a,db,Ya,mb,rb,tb,za,Ea,Ja,Ua.headerdata,Ua.signature);Object.defineProperties(this,Eb);return this;}oa=db?db.customer:null;Eb={};ma && (Eb.sender=ma);Eb.messageid=Da;"number" === typeof za && (Eb.nonreplayableid=za);Eb.renewable=Ea;Ja && (Eb.capabilities=Ja);0 < Va.length && (Eb.keyrequestdata=Va);Ia && (Eb.keyresponsedata=Ia);$a && (Eb.userauthdata=$a);db && (Eb.useridtoken=db);0 < Ya.length && (Eb.servicetokens=Ya);mb && (Eb.peermastertoken=mb);rb && (Eb.peeruseridtoken=rb);0 < tb.length && (Eb.peerservicetokens=tb);try{Fb=T(ja,Y,ba);}catch(Fa){throw (Fa instanceof hb && (Fa.setEntity(ba),Fa.setEntity(Y),Fa.setUser(db),Fa.setUser($a),Fa.setMessageId(Da)),Fa);}Eb=fc(JSON.stringify(Eb),Tb);Fb.encrypt(Eb,{result:function(Fa){Na(Ma,function(){Fb.sign(Fa,{result:function(Pa){Na(Ma,function(){var r;r=W(ja,Fb,oa,Y,ba,ma,Da,Va,Ia,$a,db,Ya,mb,rb,tb,za,Ea,Ja,Fa,Pa);Object.defineProperties(this,r);return this;},Wa);},error:function(Pa){Na(Ma,function(){Pa instanceof hb && (Pa.setEntity(ba),Pa.setEntity(Y),Pa.setUser(db),Pa.setUser($a),Pa.setMessageId(Da));throw Pa;},Wa);}});},Wa);},error:function(Fa){Na(Ma,function(){Fa instanceof hb && (Fa.setEntity(ba),Fa.setEntity(Y),Fa.setUser(db),Fa.setUser($a),Fa.setMessageId(Da));throw Fa;},Wa);}});},Wa);}Wa=this;Na(Ma,function(){Ua?Ra(Ua.sender):ba?ja.getEntityAuthenticationData(null,{result:function(ma){ma=ma.getIdentity();Ra(ma);},error:Ma.error}):Ra(null);},Wa);},isEncrypting:function(){return this.masterToken || Cd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var ja;ja={};this.masterToken?ja[He]=this.masterToken:ja[Rd]=this.entityAuthenticationData;ja[Ie]=Lb(this.headerdata);ja[Sd]=Lb(this.signature);return ja;}});Ne=function(ja,Y,ba,da,ya,Ua){new gd(ja,Y,ba,da,ya,null,Ua);};Td=function(ja,Y,ba,da,ya,Ua,Ma){Na(Ma,function(){var Ra,Wa;ba=da?null:ba;if(!ba && !da)throw new Ob(S.MESSAGE_ENTITY_NOT_FOUND);Ra=Y;try{Y=Mb(Ra);}catch(ma){throw new Ob(S.HEADER_DATA_INVALID,Ra,ma);}if(!Y || 0 == Y.length)throw new Ob(S.HEADER_DATA_MISSING,Ra);try{Wa=T(ja,ba,da);}catch(ma){throw (ma instanceof hb && (ma.setEntity(da),ma.setEntity(ba)),ma);}U(ja,Wa,Y,ya,{result:function(ma){Na(Ma,function(){var za,Ea,Ja,Da,Va;try{za=JSON.parse(ma);}catch(Ia){if(Ia instanceof SyntaxError)throw new Ib(S.JSON_PARSE_ERROR,"headerdata " + ma,Ia).setEntity(da).setEntity(ba);throw Ia;}Ea=parseInt(za.messageid);if(!Ea || Ea != Ea)throw new Ib(S.JSON_PARSE_ERROR,"headerdata " + ma).setEntity(da).setEntity(ba);if(0 > Ea || Ea > Sb)throw new Ob(S.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + ma).setEntity(da).setEntity(ba);Ja=da?za.sender:null;if(da && (!Ja || "string" !== typeof Ja))throw new Ib(S.JSON_PARSE_ERROR,"headerdata " + ma).setEntity(da).setEntity(ba).setMessageId(Ea);Da=za.keyresponsedata;if(Da && "object" !== typeof Da)throw new Ib(S.JSON_PARSE_ERROR,"headerdata " + ma).setEntity(da).setEntity(ba).setMessageId(Ea);Va=Ma;Ma={result:function(Ia){Va.result(Ia);},error:function(Ia){Ia instanceof hb && (Ia.setEntity(da),Ia.setEntity(ba),Ia.setMessageId(Ea));Va.error(Ia);}};aa(ja,Da,{result:function(Ia){Na(Ma,function(){var $a,db;$a=!ja.isPeerToPeer() && Ia?Ia.masterToken:da;db=za.useridtoken;if(db && "object" !== typeof db)throw new Ib(S.JSON_PARSE_ERROR,"headerdata " + ma);V(ja,db,$a,{result:function(Ya){Na(Ma,function(){var mb;mb=za.userauthdata;if(mb && "object" !== typeof mb)throw new Ib(S.JSON_PARSE_ERROR,"headerdata " + ma);ea(ja,$a,mb,{result:function(rb){Na(Ma,function(){var tb,ub,vb;if(rb){tb=rb.scheme;ub=ja.getUserAuthenticationFactory(tb);if(!ub)throw new Cc(S.USERAUTH_FACTORY_NOT_FOUND,tb).setUser(Ya).setUser(rb);tb=da?da.identity:ba.getIdentity();vb=ub.authenticate(ja,tb,rb,Ya);}else vb=Ya?Ya.customer:null;wa(ja,za.servicetokens,$a,Ya,Ua,ma,{result:function(Fb){Na(Ma,function(){var Eb,oa,Fa,Pa;Eb=za.nonreplayableid !== Gb?parseInt(za.nonreplayableid):null;oa=za.renewable;if(Eb != Eb || "boolean" !== typeof oa)throw new Ib(S.JSON_PARSE_ERROR,"headerdata " + ma);if(0 > Eb || Eb > Sb)throw new Ob(S.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + ma);Fa=null;Pa=za.capabilities;if(Pa){if("object" !== typeof Pa)throw new Ib(S.JSON_PARSE_ERROR,"headerdata " + ma);Fa=Me(Pa);}fa(ja,za,ma,{result:function(r){sa(ja,za,Ia,Ua,ma,{result:function(b){Na(Ma,function(){var a,c,l,f;a=b.peerMasterToken;c=b.peerUserIdToken;l=b.peerServiceTokens;f=new pa(Ea,Eb,oa,Fa,r,Ia,rb,Ya,Fb);a=new Aa(a,c,l);c=new ca(vb,Ja,Wa,Y,ya);new gd(ja,ba,da,f,a,c,Ma);});},error:Ma.error});},error:function(r){Na(Ma,function(){r instanceof hb && (r.setUser(Ya),r.setUser(rb));throw r;});}});});},error:function(Fb){Na(Ma,function(){Fb instanceof hb && (Fb.setEntity($a),Fb.setUser(Ya),Fb.setUser(rb));throw Fb;});}});});},error:Ma.error});});},error:Ma.error});});},error:Ma.error});});},error:Ma.error});});};})();(function(){function ca(W,T){this.payload=W;this.signature=T;}Vd=Hb.Class.create({init:function(W,T,U,aa,V,ea,wa,sa){var fa;fa=this;Na(sa,function(){var pa,Aa;if(0 > W || W > Sb)throw new Bb("Sequence number " + W + " is outside the valid range.");if(0 > T || T > Sb)throw new Bb("Message ID " + T + " is outside the valid range.");if(wa)return (Object.defineProperties(this,{sequenceNumber:{value:W,writable:!1,configurable:!1},messageId:{value:T,writable:!1,configurable:!1},compressionAlgo:{value:aa,writable:!1,configurable:!1},data:{value:V,writable:!1,configurable:!1},endofmsg:{value:U,writable:!1,enumerable:!1,configurable:!1},payload:{value:wa.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:wa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(aa){pa=Wd(aa,V);pa || (aa=null,pa=V);}else (aa=null,pa=V);Aa={};Aa.sequencenumber=W;Aa.messageid=T;U && (Aa.endofmsg=U);aa && (Aa.compressionalgo=aa);Aa.data=Lb(pa);pa=fc(JSON.stringify(Aa),Tb);ea.encrypt(pa,{result:function(ja){Na(sa,function(){ea.sign(ja,{result:function(Y){Na(sa,function(){Object.defineProperties(this,{sequenceNumber:{value:W,writable:!1,configurable:!1},messageId:{value:T,writable:!1,configurable:!1},compressionAlgo:{value:aa,writable:!1,configurable:!1},data:{value:V,writable:!1,configurable:!1},endofmsg:{value:U,writable:!1,enumerable:!1,configurable:!1},payload:{value:ja,writable:!1,enumerable:!1,configurable:!1},signature:{value:Y,writable:!1,enumerable:!1,configurable:!1}});return this;},fa);},error:function(Y){sa.error(Y);}});},fa);},error:function(ja){sa.error(ja);}});},fa);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var W;W={};W.payload=Lb(this.payload);W.signature=Lb(this.signature);return W;}});Re=function(W,T,U,aa,V,ea,wa){new Vd(W,T,U,aa,V,ea,null,wa);};Se=function(W,T,U){Na(U,function(){var aa,V,ea,wa;aa=W.payload;V=W.signature;if(!aa || "string" !== typeof aa || "string" !== typeof V)throw new Ib(S.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(W));try{ea=Mb(aa);}catch(sa){throw new Ob(S.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(W),sa);}try{wa=Mb(V);}catch(sa){throw new Ob(S.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(W),sa);}T.verify(ea,wa,{result:function(sa){Na(U,function(){if(!sa)throw new yb(S.PAYLOAD_VERIFICATION_FAILED);T.decrypt(ea,{result:function(fa){Na(U,function(){var pa,Aa,ja,Y,ba,da,ya;pa=ec(fa,Tb);try{Aa=JSON.parse(pa);}catch(Ua){if(Ua instanceof SyntaxError)throw new Ib(S.JSON_PARSE_ERROR,"payload chunk payload " + pa,Ua);throw Ua;}ja=parseInt(Aa.sequencenumber);Y=parseInt(Aa.messageid);ba=Aa.endofmsg;da=Aa.compressionalgo;Aa=Aa.data;if(!ja || ja != ja || !Y || Y != Y || ba && "boolean" !== typeof ba || da && "string" !== typeof da || "string" !== typeof Aa)throw new Ib(S.JSON_PARSE_ERROR,"payload chunk payload " + pa);if(0 > ja || ja > Sb)throw new hb(S.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + pa);if(0 > Y || Y > Sb)throw new hb(S.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + pa);ba || (ba=!1);if(da && !Kc[da])throw new Ob(S.UNIDENTIFIED_COMPRESSION,da);try{ya=Mb(Aa);}catch(Ua){throw new Ob(S.PAYLOAD_DATA_CORRUPT,Aa,Ua);}if(ya && 0 != ya.length)pa=da?xd(da,ya):ya;else {if(0 < Aa.length)throw new Ob(S.PAYLOAD_DATA_CORRUPT,Aa);if(ba)pa=new Uint8Array(0);else throw new Ob(S.PAYLOAD_DATA_MISSING,Aa);}ya=new ca(ea,wa);new Vd(ja,Y,ba,da,pa,T,ya,U);});},error:function(fa){U.error(fa);}});});},error:function(sa){U.error(sa);}});});};})();(function(){var U,aa;function ca(V,ea,wa,sa,fa){var Aa,ja,Y,ba,da;function pa(){Na(fa,function(){var ya,Ua;ja >= ea.length && (ja=0,++Aa);if(Aa >= Y.length){if(ba)throw ba;throw new Ub(S.KEYX_FACTORY_NOT_FOUND,JSON.stringify(ea));}ya=Y[Aa];Ua=ea[ja];ya.scheme != Ua.keyExchangeScheme?(++ja,pa()):ya.generateResponse(V,Ua,da,{result:function(Ma){fa.result(Ma);},error:function(Ma){Na(fa,function(){if(!(Ma instanceof hb))throw Ma;ba=Ma;++ja;pa();});}});});}Aa=0;ja=0;Y=V.getKeyExchangeFactories();da=wa?wa:sa;pa();}function W(V,ea,wa,sa,fa){Na(fa,function(){var pa;pa=ea.keyRequestData;if(ea.isRenewable() && 0 < pa.length)sa?sa.isRenewable() || sa.isExpired()?ca(V,pa,sa,null,fa):V.getTokenFactory().isNewestMasterToken(V,sa,{result:function(Aa){Na(fa,function(){if(Aa)return null;ca(V,pa,sa,null,fa);});},error:fa.error}):ca(V,pa,null,wa.getIdentity(),fa);else return null;});}function T(V,ea,wa,sa){Na(sa,function(){var fa,pa,Aa,ja;fa=ea.userIdToken;pa=ea.userAuthenticationData;Aa=ea.messageId;if(fa && fa.isVerified()){if(fa.isRenewable() && ea.isRenewable() || fa.isExpired() || !fa.isBoundTo(wa)){pa=V.getTokenFactory();pa.renewUserIdToken(V,fa,wa,sa);return;}}else if(ea.isRenewable() && wa && pa){fa=ea.customer;if(!fa){fa=pa.scheme;ja=V.getUserAuthenticationFactory(fa);if(!ja)throw new Cc(S.USERAUTH_FACTORY_NOT_FOUND,fa).setEntity(wa).setUser(pa).setMessageId(Aa);fa=ja.authenticate(V,wa.identity,pa,null);}pa=V.getTokenFactory();pa.createUserIdToken(V,fa,wa,sa);return;}return fa;});}U=new Uint8Array(0);aa=Nc=function(V){if(0 > V || V > Sb)throw new Bb("Message ID " + V + " is outside the valid range.");return V == Sb?0:V + 1;};Wc=function(V){if(0 > V || V > Sb)throw new Bb("Message ID " + V + " is outside the valid range.");return 0 == V?Sb:V - 1;};Oc=function(V,ea,wa,sa,fa){Na(fa,function(){var pa;if(sa == Gb || null == sa){pa=V.getRandom();do {sa=pa.nextLong();}while(0 > sa || sa > Sb);}else if(0 > sa || sa > Sb)throw new Bb("Message ID " + sa + " is outside the valid range.");V.getEntityAuthenticationData(null,{result:function(Aa){Na(fa,function(){var ja;ja=V.getMessageCapabilities();return new yd(V,sa,ja,Aa,ea,wa,null,null,null,null,null);});},error:function(Aa){fa.error(Aa);}});});};Te=function(V,ea,wa){Na(wa,function(){var fa,pa,Aa,ja,Y,ba;function sa(da){Na(wa,function(){da instanceof hb && (da.setEntity(fa),da.setEntity(pa),da.setUser(Aa),da.setUser(ja),da.setMessageId(Y));throw da;});}fa=ea.masterToken;pa=ea.entityAuthenticationData;Aa=ea.userIdToken;ja=ea.userAuthenticationData;Y=ea.messageId;ba=aa(Y);W(V,ea,pa,fa,{result:function(da){Na(wa,function(){var ya;ya=da?da.keyResponseData.masterToken:ya=fa;V.getEntityAuthenticationData(null,{result:function(Ua){Na(wa,function(){T(V,ea,ya,{result:function(Ma){Na(wa,function(){var Ra,Wa,ma;Aa=Ma;Ra=Ud(ea.messageCapabilities,V.getMessageCapabilities());Wa=ea.keyResponseData;ma=ea.serviceTokens;return V.isPeerToPeer()?new yd(V,ba,Ra,Ua,Wa?Wa.masterToken:ea.peerMasterToken,ea.peerUserIdToken,ea.peerServiceTokens,fa,Aa,ma,da):new yd(V,ba,Ra,Ua,Wa?Wa.masterToken:fa,Aa,ma,null,null,null,da);});},error:sa});});},error:sa});});},error:sa});});};Ue=function(V,ea,wa,sa,fa){Na(fa,function(){V.getEntityAuthenticationData(null,{result:function(pa){Na(fa,function(){var Aa,ja;if(ea != Gb && null != ea)Aa=aa(ea);else {ja=V.getRandom();do {Aa=ja.nextInt();}while(0 > Aa || Aa > Sb);}Le(V,pa,Aa,wa.responseCode,wa.internalCode,wa.message,sa,fa);});},error:function(pa){fa.error(pa);}});});};yd=Hb.Class.create({init:function(V,ea,wa,sa,fa,pa,Aa,ja,Y,ba,da){var ya,Ua,Ma,Ra,Wa;if(!V.isPeerToPeer() && (ja || Y))throw new Bb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");ya=da && !V.isPeerToPeer()?da.keyResponseData.masterToken:fa;Ua=[];ya=V.getMslStore().getServiceTokens(ya,pa);Ua.push.apply(Ua,ya);Aa && Aa.forEach(function(ma){Ua.push(ma);},this);Ma=[];if(V.isPeerToPeer()){Ra=ja;Wa=Y;Aa=da?da.keyResponseData.masterToken:ja;Y=V.getMslStore().getServiceTokens(Aa,Y);Ma.push.apply(Ma,Y);ba && ba.forEach(function(ma){Ma.push(ma);},this);}Object.defineProperties(this,{_ctx:{value:V,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:sa,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:fa,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:ea,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:wa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:da,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:pa,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Ra,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Wa,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Cd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Cd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || de(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || de(this._entityAuthData.scheme);},getHeader:function(V){Na(V,function(){var ea,wa,sa;ea=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;wa=[];for(sa in this._keyRequestData){wa.push(this._keyRequestData[sa]);}if(this._nonReplayable){if(!this._masterToken)throw new Ob(S.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);sa=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else sa=null;ea=new Oe(this._messageId,sa,this._renewable,this._capabilities,wa,ea,this._userAuthData,this._userIdToken,this._serviceTokens);wa=new Pe(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);Ne(this._ctx,this._entityAuthData,this._masterToken,ea,wa,V);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(V){this._nonReplayable=V;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(V){this._renewable=V;return this;},setAuthTokens:function(V,ea){var wa,fa;if(ea && !ea.isBoundTo(V))throw new Bb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new Bb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{wa=this._ctx.getMslStore().getServiceTokens(V,ea);}catch(pa){if(pa instanceof hb)throw new Bb("Invalid master token and user ID token combination despite checking above.",pa);throw pa;}for(var sa=this._serviceTokens.length - 1;0 <= sa;--sa){fa=this._serviceTokens[sa];(fa.isUserIdTokenBound() && !fa.isBoundTo(ea) || fa.isMasterTokenBound() && !fa.isBoundTo(V)) && this._serviceTokens.splice(sa,1);}wa.forEach(function(pa){this.excludeServiceToken(pa.name,pa.isMasterTokenBound(),pa.isUserIdTokenBound());this._serviceTokens.push(pa);},this);this._masterToken=V;this._userIdToken=ea;},setUserAuthenticationData:function(V){this._userAuthData=V;return this;},setCustomer:function(V,ea){var wa;wa=this;Na(ea,function(){var sa;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new Bb("User ID token or peer user ID token already exists for the remote user.");sa=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!sa)throw new Bb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,V,sa,{result:function(fa){Na(ea,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=fa:(this._userIdToken=fa,this._userAuthData=null);return !0;},wa);},error:function(fa){ea.error(fa);}});},wa);},addKeyRequestData:function(V){this._keyRequestData[V.uniqueKey()]=V;return this;},removeKeyRequestData:function(V){delete this._keyRequestData[V.uniqueKey()];return this;},addServiceToken:function(V){var ea;ea=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(V.isMasterTokenBound() && !V.isBoundTo(ea))throw new Ob(S.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; mt " + JSON.stringify(ea)).setEntity(ea);if(V.isUserIdTokenBound() && !V.isBoundTo(this._userIdToken))throw new Ob(S.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(ea).setUser(this._userIdToken);this.excludeServiceToken(V.name,V.isMasterTokenBound(),V.isUserIdTokenBound());this._serviceTokens.push(V);return this;},addServiceTokenIfAbsent:function(V){var wa;for(var ea=this._serviceTokens.length - 1;0 <= ea;--ea){wa=this._serviceTokens[ea];if(wa.name == V.name && wa.isMasterTokenBound() == V.isMasterTokenBound() && wa.isUserIdTokenBound() == V.isUserIdTokenBound())return this;}this.addServiceToken(V);return this;},excludeServiceToken:function(){var V,ea,wa,fa;if(1 == arguments.length){V=arguments[0];ea=V.name;wa=V.isMasterTokenBound();V=V.isUserIdTokenBound();}else (arguments.length=3,ea=arguments[0],wa=arguments[1],V=arguments[2]);for(var sa=this._serviceTokens.length - 1;0 <= sa;--sa){fa=this._serviceTokens[sa];fa.name == ea && fa.isMasterTokenBound() == wa && fa.isUserIdTokenBound() == V && this._serviceTokens.splice(sa,1);}return this;},deleteServiceToken:function(){var V,ea,wa,sa;if(2 == arguments.length){V=arguments[0];ea=V.name;V.isMasterTokenBound();V.isUserIdTokenBound();wa=arguments[1];}else (arguments.length=4,ea=arguments[0],wa=arguments[3]);sa=this;Na(wa,function(){var fa,pa;fa=originalToken.isMasterTokenBound()?this._masterToken:null;pa=originalToken.isUserIdTokenBound()?this._userIdToken:null;zc(this._ctx,ea,U,fa,pa,!1,null,new Vc(),{result:function(Aa){Na(wa,function(){return this.addServiceToken(Aa);},sa);},error:function(Aa){Aa instanceof hb && (Aa=new Bb("Failed to create and add empty service token to message.",Aa));wa.error(Aa);}});},sa);},getServiceTokens:function(){var V;V=[];V.push.apply(V,this._serviceTokens);return V;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(V,ea){var wa,fa;if(!this._ctx.isPeerToPeer())throw new Bb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(ea && !V)throw new Bb("Peer master token cannot be null when setting peer user ID token.");if(ea && !ea.isBoundTo(V))throw new Ob(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + ea + "; mt " + V).setEntity(V).setUser(ea);try{wa=this._ctx.getMslStore().getServiceTokens(V,ea);}catch(pa){if(pa instanceof hb)throw new Bb("Invalid peer master token and user ID token combination despite proper check.",pa);throw pa;}for(var sa=this._peerServiceTokens.length - 1;0 <= sa;--sa){fa=this._peerServiceTokens[sa];(fa.isUserIdTokenBound() && !fa.isBoundTo(ea) || fa.isMasterTokenBound() && !fa.isBoundTo(V)) && this._peerServiceTokens.slice(sa,1);}wa.forEach(function(pa){this.excludePeerServiceToken(pa.name,pa.isMasterTokenBound(),pa.isUserIdTokenBound());this._peerServiceTokens.push(pa);},this);this._peerUserIdToken=ea;this._peerMasterToken=V;return this;},addPeerServiceToken:function(V){if(!this._ctx.isPeerToPeer())throw new Bb("Cannot set peer service tokens when not in peer-to-peer mode.");if(V.isMasterTokenBound() && !V.isBoundTo(this._peerMasterToken))throw new Ob(S.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(V.isUserIdTokenBound() && !V.isBoundTo(this._peerUserIdToken))throw new Ob(S.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(V) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(V.name,V.isMasterTokenBound(),V.isUserIdTokenBound());this._peerServiceTokens.push(V);return this;},addPeerServiceTokenIfAbsent:function(V){var wa;for(var ea=this._peerServiceTokens.length - 1;0 <= ea;--ea){wa=this._peerServiceTokens[ea];if(wa.name == V.name && wa.isMasterTokenBound() == V.isMasterTokenBound() && wa.isUserIdTokenBound() == V.isUserIdTokenBound())return this;}this.addPeerServiceToken(V);return this;},excludePeerServiceToken:function(){var V,ea,wa,fa;if(1 == arguments.length){V=arguments[0];ea=V.name;wa=V.isMasterTokenBound();V=V.isUserIdTokenBound();}else (arguments.length=3,ea=arguments[0],wa=arguments[1],V=arguments[2]);for(var sa=this._peerServiceTokens.length - 1;0 <= sa;--sa){fa=this._peerServiceTokens[sa];fa.name == ea && fa.isMasterTokenBound() == wa && fa.isUserIdTokenBound() == V && this._peerServiceTokens.splice(sa,1);}return this;},deletePeerServiceToken:function(){var V,ea,wa,sa,fa,pa;if(2 == arguments.length){V=arguments[0];ea=V.name;wa=V.isMasterTokenBound();sa=V.isUserIdTokenBound();fa=arguments[1];}else (arguments.length=4,ea=arguments[0],wa=arguments[1],sa=arguments[2],fa=arguments[3]);pa=this;Na(fa,function(){zc(this._ctx,ea,U,wa?this._peerMasterToken:null,sa?this._peerUserIdToken:null,!1,null,new Vc(),{result:function(Aa){Na(fa,function(){return this.addPeerServiceToken(Aa);},pa);},error:function(Aa){Aa instanceof hb && (Aa=new Bb("Failed to create and add empty peer service token to message.",Aa));fa.error(Aa);}});},pa);},getPeerServiceTokens:function(){var V;V=[];V.push.apply(V,this._peerServiceTokens);return V;}});})();(function(){function ca(T,U){return U[T]?U[T]:U[""];}function W(T){var U;U=T.builder.getKeyExchangeData();return U && !T.ctx.isPeerToPeer()?U.keyResponseData.masterToken:T.builder.getMasterToken();}Ve=Hb.Class.create({init:function(T,U,aa){T={ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:U.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:aa,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},isPrimaryMasterTokenAvailable:function(){return W(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(T){try{return (this.builder.addServiceToken(T),!0);}catch(U){if(U instanceof Ob)return !1;throw U;}},addPeerServiceToken:function(T){try{return (this.builder.addPeerServiceToken(T),!0);}catch(U){if(U instanceof Ob)return !1;throw U;}},addUnboundPrimaryServiceToken:function(T,U,aa,V,ea){var wa;wa=this;Na(ea,function(){var sa;sa=ca(T,this.cryptoContexts);if(!sa)return !1;zc(this.ctx,T,U,null,null,aa,V,sa,{result:function(fa){Na(ea,function(){try{this.builder.addServiceToken(fa);}catch(pa){if(pa instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite being unbound.",pa);throw pa;}return !0;},wa);},error:function(fa){ea.error(fa);}});},wa);},addUnboundPeerServiceToken:function(T,U,aa,V,ea){var wa;wa=this;Na(ea,function(){var sa;sa=ca(T,this.cryptoContexts);if(!sa)return !1;zc(this.ctx,T,U,null,null,aa,V,sa,{result:function(fa){Na(ea,function(){try{this.builder.addPeerServiceToken(fa);}catch(pa){if(pa instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite being unbound.",pa);throw pa;}return !0;},wa);},error:function(fa){ea.error(fa);}});},wa);},addMasterBoundPrimaryServiceToken:function(T,U,aa,V,ea){var wa;wa=this;Na(ea,function(){var sa,fa;sa=W(this);if(!sa)return !1;fa=ca(T,this.cryptoContexts);if(!fa)return !1;zc(this.ctx,T,U,sa,null,aa,V,fa,{result:function(pa){Na(ea,function(){try{this.builder.addServiceToken(pa);}catch(Aa){if(Aa instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite setting correct master token.",Aa);throw Aa;}return !0;},wa);},error:function(pa){ea.error(pa);}});},wa);},addMasterBoundPeerServiceToken:function(T,U,aa,V,ea){var wa;wa=this;Na(ea,function(){var sa,fa;sa=this.builder.getPeerMasterToken();if(!sa)return !1;fa=ca(T,this.cryptoContexts);if(!fa)return !1;zc(this.ctx,T,U,sa,null,aa,V,fa,{result:function(pa){Na(ea,function(){try{this.builder.addPeerServiceToken(pa);}catch(Aa){if(Aa instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite setting correct master token.",Aa);throw Aa;}return !0;},wa);},error:function(pa){ea.error(pa);}});},wa);},addUserBoundPrimaryServiceToken:function(T,U,aa,V,ea){var wa;wa=this;Na(ea,function(){var sa,fa,pa;sa=W(this);if(!sa)return !1;fa=this.builder.getUserIdToken();if(!fa)return !1;pa=ca(T,this.cryptoContexts);if(!pa)return !1;zc(this.ctx,T,U,sa,fa,aa,V,pa,{result:function(Aa){Na(ea,function(){try{this.builder.addServiceToken(Aa);}catch(ja){if(ja instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ja);throw ja;}return !0;},wa);},error:function(Aa){ea.error(Aa);}});},wa);},addUserBoundPeerServiceToken:function(T,U,aa,V,ea){var wa;wa=this;Na(ea,function(){var sa,fa,pa;sa=this.builder.getPeerMasterToken();if(!sa)return !1;fa=this.builder.getPeerUserIdToken();if(!fa)return !1;pa=ca(T,this.cryptoContexts);if(!pa)return !1;zc(this.ctx,T,U,sa,fa,aa,V,pa,{result:function(Aa){Na(ea,function(){try{this.builder.addPeerServiceToken(Aa);}catch(ja){if(ja instanceof Ob)throw new Bb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ja);throw ja;}return !0;},wa);},error:function(Aa){ea.error(Aa);}});},wa);},excludePrimaryServiceToken:function(){var T,U,aa,V;if(1 == arguments.length){T=arguments[0];U=T.name;aa=T.isMasterTokenBound();V=T.isUserIdTokenBound();}else (arguments.length=3,U=arguments[0],aa=arguments[1],V=arguments[2]);for(var ea=this.builder.getServiceTokens(),wa=0;wa < ea.length;++wa){if((T=ea[wa],T.name == U && T.isMasterTokenBound() == aa && T.isUserIdTokenBound() == V))return (this.builder.excludeServiceToken(U,aa,V),!0);}return !1;},excludePeerServiceToken:function(){var T,U,aa,V;if(1 == arguments.length){T=arguments[0];U=T.name;aa=T.isMasterTokenBound();V=T.isUserIdTokenBound();}else (arguments.length=3,U=arguments[0],aa=arguments[1],V=arguments[2]);for(var ea=this.builder.getPeerServiceTokens(),wa=0;wa < ea.length;++wa){if((T=ea[wa],T.name == U && T.isMasterTokenBound() == aa && T.isUserIdTokenBound() == V))return (this.builder.excludePeerServiceToken(U,aa,V),!0);}return !1;},deletePrimaryServiceToken:function(){var T,U,aa,V,ea;if(2 == arguments.length){T=arguments[0];U=T.name;aa=T.isMasterTokenBound();V=T.isUserIdTokenBound();ea=arguments[1];}else 4 == arguments.length && (U=arguments[0],aa=arguments[1],V=arguments[2],ea=arguments[3]);Na(ea,function(){var fa;for(var wa=this.builder.getServiceTokens(),sa=0;sa < wa.length;++sa){fa=wa[sa];if(fa.name == U && fa.isMasterTokenBound() == aa && fa.isUserIdTokenBound() == V){this.builder.deleteServiceToken(U,aa,V,{result:function(){ea.result(!0);},error:function(pa){ea.error(pa);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var T,U,aa,V,ea;if(2 == arguments.length){T=arguments[0];U=T.name;aa=T.isMasterTokenBound();V=T.isUserIdTokenBound();ea=arguments[1];}else 4 == arguments.length && (U=arguments[0],aa=arguments[1],V=arguments[2],ea=arguments[3]);Na(ea,function(){var fa;for(var wa=this.builder.getPeerServiceTokens(),sa=0;sa < wa.length;++sa){fa=wa[sa];if(fa.name == U && fa.isMasterTokenBound() == aa && fa.isUserIdTokenBound() == V){this.builder.deletePeerServiceToken(U,aa,V,{result:function(){ea.result(!0);},error:function(pa){ea.error(pa);}});return;}}return !1;},this);}});})();(function(){function ca(W,T,U,aa){Na(aa,function(){var ea,wa,sa,fa,pa,Aa;function V(){Na(aa,function(){var ja;if(Aa >= U.length){if(pa)throw pa;throw new Ub(S.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(U));}ja=U[Aa];sa != ja.keyExchangeScheme?(++Aa,V()):fa.getCryptoContext(W,ja,wa,ea,{result:aa.result,error:function(Y){Na(aa,function(){if(!(Y instanceof hb))throw Y;pa=Y;++Aa;V();});}});});}ea=T.masterToken;wa=T.keyResponseData;if(!wa)return null;sa=wa.keyExchangeScheme;fa=W.getKeyExchangeFactory(sa);if(!fa)throw new Ub(S.KEYX_FACTORY_NOT_FOUND,sa);Aa=0;V();});}We=Qd.extend({init:function(W,T,U,aa,V,ea,wa){var sa;sa=this;fb(wa,function(){var ba;function fa(){sa._ready=!0;sa._readyQueue.add(!0);}function pa(da,ya){var Ua;try{Ua=ya.masterToken;da.getTokenFactory().isMasterTokenRevoked(da,Ua,{result:function(Ma){Ma?(sa._errored=new ad(Ma,Ua).setUser(ya.userIdToken).setUser(ya.userAuthenticationData).setMessageId(ya.messageId),fa()):Aa(da,ya);},error:function(Ma){Ma instanceof hb && (Ma.setEntity(ya.masterToken),Ma.setUser(ya.userIdToken),Ma.setUser(ya.userAuthenticationData),Ma.setMessageId(ya.messageId));sa._errored=Ma;fa();}});}catch(Ma){Ma instanceof hb && (Ma.setEntity(ya.masterToken),Ma.setUser(ya.userIdToken),Ma.setUser(ya.userAuthenticationData),Ma.setMessageId(ya.messageId));sa._errored=Ma;fa();}}function Aa(da,ya){var Ua,Ma;try{Ua=ya.masterToken;Ma=ya.userIdToken;Ma?da.getTokenFactory().isUserIdTokenRevoked(da,Ua,Ma,{result:function(Ra){Ra?(sa._errored=new MslUserIdTokenException(Ra,Ma).setEntity(Ua).setUser(Ma).setMessageId(ya.messageId),fa()):ja(da,ya);},error:function(Ra){Ra instanceof hb && (Ra.setEntity(ya.masterToken),Ra.setUser(ya.userIdToken),Ra.setUser(ya.userAuthenticationData),Ra.setMessageId(ya.messageId));sa._errored=Ra;fa();}}):ja(da,ya);}catch(Ra){Ra instanceof hb && (Ra.setEntity(ya.masterToken),Ra.setUser(ya.userIdToken),Ra.setUser(ya.userAuthenticationData),Ra.setMessageId(ya.messageId));sa._errored=Ra;fa();}}function ja(da,ya){var Ua;try{Ua=ya.masterToken;Ua.isExpired()?ya.isRenewable() && 0 != ya.keyRequestData.length?da.getTokenFactory().isMasterTokenRenewable(da,Ua,{result:function(Ma){Ma?(sa._errored=new Ob(Ma,"Master token is expired and not renewable.").setEntity(Ua).setUser(ya.userIdToken).setUser(ya.userAuthenticationData).setMessageId(ya.messageId),fa()):Y(da,ya);},error:function(Ma){Ma instanceof hb && (Ma.setEntity(ya.masterToken),Ma.setUser(ya.userIdToken),Ma.setUser(ya.userAuthenticationData),Ma.setMessageId(ya.messageId));sa._errored=Ma;fa();}}):(sa._errored=new Ob(S.MESSAGE_EXPIRED,JSON.stringify(ya)).setEntity(Ua).setUser(ya.userIdToken).setUser(ya.userAuthenticationData).setMessageId(ya.messageId),fa()):Y(da,ya);}catch(Ma){Ma instanceof hb && (Ma.setEntity(ya.masterToken),Ma.setUser(ya.userIdToken),Ma.setUser(ya.userAuthenticationData),Ma.setMessageId(ya.messageId));sa._errored=Ma;fa();}}function Y(da,ya){var Ua,Ma;try{Ua=ya.masterToken;Ma=ya.nonReplayableId;"number" === typeof Ma?Ua?da.getTokenFactory().acceptNonReplayableId(da,Ua,Ma,{result:function(Ra){Ra || (sa._errored=new Ob(S.MESSAGE_REPLAYED,JSON.stringify(ya)).setEntity(Ua).setUser(ya.userIdToken).setUser(ya.userAuthenticationData).setMessageId(ya.messageId));fa();},error:function(Ra){Ra instanceof hb && (Ra.setEntity(Ua),Ra.setUser(ya.userIdToken),Ra.setUser(ya.userAuthenticationData),Ra.setMessageId(ya.messageId));sa._errored=Ra;fa();}}):(sa._errored=new Ob(S.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(ya)).setEntity(ya.entityAuthenticationData).setUser(ya.userIdToken).setUser(ya.userAuthenticationData).setMessageId(ya.messageId),fa()):fa();}catch(Ra){Ra instanceof hb && (Ra.setEntity(ya.masterToken),Ra.setEntity(ya.entityAuthenticationData),Ra.setUser(ya.userIdToken),Ra.setUser(ya.userAuthenticationData),Ra.setMessageId(ya.messageId));sa._errored=Ra;fa();}}ba={_source:{value:T,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_charset:{value:U,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ea,writable:!1,enumerable:!1,configurable:!1},_header:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Gb,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Zc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ba);xe(sa._source,ea,{result:function(da){sa._json=da;sa._jsonIndex=0;null === sa._json?(sa._errored=new Ib(S.MESSAGE_DATA_MISSING),fa()):Ge(W,sa._json[sa._jsonIndex++],V,{result:function(ya){var Ua;sa._header=ya;if(sa._header instanceof Ic)(sa._keyxCryptoContext=null,sa._cryptoContext=null,fa());else {Ua=sa._header;ca(W,Ua,aa,{result:function(Ma){var Ra;try{sa._keyxCryptoContext=Ma;W.isPeerToPeer() || !sa._keyxCryptoContext?sa._cryptoContext=Ua.cryptoContext:sa._cryptoContext=sa._keyxCryptoContext;try{Ra=Ua.masterToken;Ra && (W.isPeerToPeer() || Ra.isVerified())?pa(W,Ua):Y(W,Ua);}catch(Wa){Wa instanceof hb && (Wa.setEntity(Ua.masterToken),Wa.setUser(Ua.userIdToken),Wa.setUser(Ua.userAuthenticationData),Wa.setMessageId(Ua.messageId));sa._errored=Wa;fa();}}catch(Wa){Wa instanceof hb && (Wa.setEntity(Ua.masterToken),Wa.setEntity(Ua.entityAuthenticationData),Wa.setUser(Ua.userIdToken),Wa.setUser(Ua.userAuthenticationData),Wa.setMessageId(Ua.messageId));sa._errored=Wa;fa();}},error:function(Ma){Ma instanceof hb && (Ma.setEntity(Ua.masterToken),Ma.setEntity(Ua.entityAuthenticationData),Ma.setUser(Ua.userIdToken),Ma.setUser(Ua.userAuthenticationData),Ma.setMessageId(Ua.messageId));sa._errored=Ma;fa();}});}},error:function(ya){sa._errored=ya;fa();}});},timeout:function(){sa._timedout=!0;fa();},error:function(da){sa._errored=da;fa();}});return this;},sa);},nextData:function(W,T){var U;U=this;fb(T,function(){var V;function aa(ea){fb(ea,function(){var wa;if(this._jsonIndex < this._json.length)return wa=this._json[this._jsonIndex++];xe(this._source,this._timeout,{result:function(sa){sa && sa.length && 0 < sa.length?(sa.forEach(function(fa){this._json.push(fa);}),aa(ea)):(this._eom=!0,ea.result(null));},timeout:function(){ea.timeout();},error:function(sa){ea.error(sa);}});},U);}V=this.getMessageHeader();if(!V)throw new Bb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;aa({result:function(ea){fb(T,function(){if(!ea)return null;if("object" !== typeof ea)throw new Ib(S.MESSAGE_FORMAT_ERROR);Se(ea,this._cryptoContext,{result:function(wa){fb(T,function(){var sa,fa,pa,Aa;sa=V.masterToken;fa=V.entityAuthenticationData;pa=V.userIdToken;Aa=V.getUserAuthenticationData;if(wa.messageId != V.messageId)throw new Ob(S.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + wa.messageId + " header mid " + V.messageId).setEntity(sa).setEntity(fa).setUser(pa).setUser(Aa);if(wa.sequenceNumber != this._payloadSequenceNumber)throw new Ob(S.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + wa.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(sa).setEntity(fa).setUser(pa).setUser(Aa);++this._payloadSequenceNumber;wa.isEndOfMessage() && (this._eom=!0);sa=wa.data;this._payloads.push(sa);this._payloadIndex=-1;return sa;},U);},error:function(wa){wa instanceof SyntaxError && (wa=new Ib(S.JSON_PARSE_ERROR,"payloadchunk",wa));T.error(wa);}});},U);},timeout:function(){T.timeout();},error:function(ea){T.error(ea);}});},U);},isReady:function(W,T){var aa;function U(){fb(T,function(){if(this._aborted)return !1;if(this._timedout)T.timeout();else {if(this._errored)throw this._errored;return !0;}},aa);}aa=this;fb(T,function(){this._ready?U():this._readyQueue.poll(W,{result:function(V){fb(T,function(){if(V === Gb)return !1;U();},aa);},timeout:function(){T.timeout();},error:function(V){T.error(V);}});},aa);},getMessageHeader:function(){return this._header instanceof gd?this._header:null;},getErrorHeader:function(){return this._header instanceof Ic?this._header:null;},getIdentity:function(){var W,T;W=this.getMessageHeader();if(W){T=W.masterToken;return T?T.identity:W.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var W;W=this.getMessageHeader();return W?W.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(W){this._closeSource=W;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(W,T,U){var V;function aa(){fb(U,function(){var wa,sa,fa,pa;function ea(Aa){fb(Aa,function(){var ja,Y,ba;if(sa && pa >= sa.length)return sa.subarray(0,pa);ja=-1;if(this._currentPayload){Y=this._currentPayload.length - this._payloadOffset;if(!sa){ba=Y;if(-1 != this._payloadIndex)for(var da=this._payloadIndex;da < this._payloads.length;++da){ba+=this._payloads[da].length;}0 < ba && (sa=new Uint8Array(ba));}Y=Math.min(Y,sa?sa.length - pa:0);0 < Y && (ja=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + Y),sa.set(ja,fa),ja=Y,fa+=Y,this._payloadOffset+=Y);}-1 != ja?(pa+=ja,ea(Aa)):this.nextData(T,{result:function(ya){fb(Aa,function(){if(this._aborted)return sa?sa.subarray(0,pa):new Uint8Array(0);this._currentPayload=ya;this._payloadOffset=0;if(this._currentPayload)ea(Aa);else return 0 == pa && 0 != W?null:sa?sa.subarray(0,pa):new Uint8Array(0);},V);},timeout:function(){Aa.timeout(sa?sa.subarray(0,pa):new Uint8Array(0));},error:function(ya){fb(Aa,function(){ya instanceof hb && (ya=new Yb("Error reading the payload chunk.",ya));if(0 < pa)return (V._readException=ya,sa.subarray(0,pa));throw ya;},V);}});},V);}if(this._aborted)return new Uint8Array(0);if(this._timedout)U.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){wa=this._readException;this._readException=null;throw wa;}sa=-1 != W?new Uint8Array(W):Gb;fa=0;pa=0;ea(U);}},V);}V=this;fb(U,function(){if(-1 > W)throw new RangeError("read requested with illegal length " + W);this._ready?aa():this._readyQueue.poll(T,{result:function(ea){ea === Gb?U.result(!1):aa();},timeout:function(){U.timeout(new Uint8Array(0));},error:function(ea){U.error(ea);}});},V);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});Xe=function(W,T,U,aa,V,ea,wa){new We(W,T,U,aa,V,ea,wa);};})();(function(){Ye=ud.extend({init:function(ca,W,T,U,aa,V,ea){var wa;wa=this;fb(ea,function(){var fa,pa,Aa;function sa(){wa._ready=!0;wa._readyQueue.add(!0);}fa=Ud(ca.getMessageCapabilities(),U.messageCapabilities);pa=null;fa && (pa=me(fa.compressionAlgorithms));fa={_destination:{value:W,writable:!1,enumerable:!1,configurable:!1},_charset:{value:T,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:fa,writable:!1,enumerable:!1,configurable:!1},_header:{value:U,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:pa,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:aa,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Zc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,fa);Aa=fc(JSON.stringify(U),T);W.write(Aa,0,Aa.length,V,{result:function(ja){try{wa._aborted?sa():ja < Aa.length?(wa._timedout=!0,sa()):W.flush(V,{result:function(Y){wa._aborted || (wa._timedout=!Y);sa();},timeout:function(){wa._timedout=!0;sa();},error:function(Y){wa._errored=Y;sa();}});}catch(Y){wa._errored=Y;sa();}},timeout:function(){wa._timedout=!0;sa();},error:function(ja){wa._errored=ja;sa();}});return this;},wa);},setCompressionAlgorithm:function(ca,W,T){var aa;function U(){aa.flush(W,{result:function(V){fb(T,function(){if(!V)throw new Yb("flush() aborted");this._compressionAlgo=ca;return !0;},aa);},timeout:function(){T.timeout();},error:function(V){T.error(V);}});}aa=this;fb(T,function(){if(!this.getMessageHeader())throw new Bb("Cannot write payload data for an error message.");if(this._compressionAlgo == ca)return !0;if(ca){if(!this._capabilities)return !1;for(var V=this._capabilities.compressionAlgorithms,ea=0;ea < V.length;++ea){if(V[ea] == ca){U();return;}}return !1;}U();},aa);},getMessageHeader:function(){return this._header instanceof gd?this._header:null;},getErrorMessage:function(){return this._header instanceof Ic?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(ca,W){var T;T=this;fb(W,function(){if(this._aborted)return !1;if(this._timedout)W.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(ca,{result:function(U){fb(W,function(){U && (this._currentPayload=null);return U;},T);},timeout:function(){W.timeout();},error:function(U){W.error(U);}});}},T);},flush:function(ca,W){var U;function T(){fb(W,function(){var aa,V,fa;if(this._aborted)return !1;if(this._timedout)W.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;aa=this.getMessageHeader();if(!aa)return !0;V=0;this._currentPayload && this._currentPayload.forEach(function(pa){V+=pa.length;});for(var ea=new Uint8Array(V),wa=0,sa=0;this._currentPayload && sa < this._currentPayload.length;++sa){fa=this._currentPayload[sa];ea.set(fa,wa);wa+=fa.length;}Re(this._payloadSequenceNumber,aa.messageId,this._closed,this._compressionAlgo,ea,this._cryptoContext,{result:function(pa){fb(W,function(){var Aa;this._payloads.push(pa);Aa=fc(JSON.stringify(pa),this._charset);this._destination.write(Aa,0,Aa.length,ca,{result:function(ja){fb(W,function(){if(this._aborted)return !1;ja < pa.length?W.timeout():this._destination.flush(ca,{result:function(Y){fb(W,function(){if(this._aborted)return !1;if(Y)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);W.timeout();},U);},timeout:function(){W.timeout();},error:function(Y){Y instanceof hb && (Y=new Yb("Error encoding payload chunk [sequence number " + U._payloadSequenceNumber + "].",Y));W.error(Y);}});},U);},timeout:function(ja){W.timeout();},error:function(ja){ja instanceof hb && (ja=new Yb("Error encoding payload chunk [sequence number " + U._payloadSequenceNumber + "].",ja));W.error(ja);}});},U);},error:function(pa){pa instanceof hb && (pa=new Yb("Error encoding payload chunk [sequence number " + U._payloadSequenceNumber + "].",pa));W.error(pa);}});}},U);}U=this;fb(W,function(){this._ready?T():this._readyQueue.poll(ca,{result:function(aa){aa === Gb?W.result(!1):T();},timeout:function(){W.timeout();},error:function(aa){W.error(aa);}});},U);},write:function(ca,W,T,U,aa){fb(aa,function(){var V;if(this._aborted)return !1;if(this._timedout)aa.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Yb("Message output stream already closed.");if(0 > W)throw new RangeError("Offset cannot be negative.");if(0 > T)throw new RangeError("Length cannot be negative.");if(W + T > ca.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new Bb("Cannot write payload data for an error message.");V=ca.subarray(W,W + T);this._currentPayload.push(V);return V.length;}},this);}});zd=function(ca,W,T,U,aa,V,ea){new Ye(ca,W,T,U,aa,V,ea);};})();Cf=Hb.Class.create({sentHeader:function(ca){},receivedHeader:function(ca){}});Object.freeze({USERDATA_REAUTH:Ga.USERDATA_REAUTH,SSOTOKEN_REJECTED:Ga.SSOTOKEN_REJECTED});Ze=Hb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(ca,W,T,U){},getCustomer:function(){},getKeyRequestData:function(ca){},updateServiceTokens:function(ca,W,T){},write:function(ca,W,T){},getDebugContext:function(){}});Hb.Class.create({getInputStream:function(ca){},getOutputStream:function(ca){}});(function(){var wa,sa,fa,pa,Aa,ja,Y,ba,da,ya,Ua,Ma;function ca(Ra){return function(){Ra.abort();};}function W(Ra,Wa){Object.defineProperties(this,{masterToken:{value:Ra,writable:!1,configurable:!1},ticket:{value:Wa,writable:!1,configurable:!1}});}function T(Ra,Wa){Object.defineProperties(this,{builder:{value:Ra,writable:!1,configurable:!1},msgCtx:{value:Wa,writable:!1,configurable:!1}});}function U(Ra,Wa,ma){Object.defineProperties(this,{requestHeader:{value:Ra,writable:!1,configurable:!1},payloads:{value:Wa,writable:!1,configurable:!1},handshake:{value:ma,writable:!1,configurable:!1}});}function aa(Ra,Wa){Object.defineProperties(this,{requestHeader:{value:Wa.requestHeader,writable:!1,configurable:!1},payloads:{value:Wa.payloads,writable:!1,configurable:!1},handshake:{value:Wa.handshake,writable:!1,configurable:!1},response:{value:Ra,writable:!1,configurable:!1}});}function V(Ra){for(;Ra;){if(Ra instanceof cc)return !0;Ra=Ra instanceof hb?Ra.cause:Gb;}return !1;}function ea(Ra,Wa,ma,za,Ea,Ja,Da,Va,Ia){Ue(Wa,za,Ea,Ja,{result:function($a){ma && ma.sentHeader($a);zd(Wa,Da,Tb,$a,null,null,Va,{result:function(db){Ra.setAbort(function(){db.abort();});db.close(Va,{result:function(Ya){fb(Ia,function(){if(!Ya)throw new cc("sendError aborted.");return Ya;});},timeout:function(){Ia.timeout();},error:function(Ya){Ia.error(Ya);}});},timeout:function(){},error:function(db){Ia.error(db);}});},error:function($a){Ia.error($a);}});}wa=ud.extend({close:function(Ra,Wa){Wa.result(!0);},write:function(Ra,Wa,ma,za,Ea){Na(Ea,function(){return Math.min(Ra.length - Wa,ma);});},flush:function(Ra,Wa){Wa.result(!0);}});sa=Bf.extend({getUserMessage:function(Ra,Wa){return null;}});fa=Ze.extend({init:function(Ra){Object.defineProperties(this,{_appCtx:{value:Ra,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Ra,Wa,ma,za){this._appCtx.getUserAuthData(Ra,Wa,ma,za);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Ra){this._appCtx.getKeyRequestData(Ra);},updateServiceTokens:function(Ra,Wa,ma){this._appCtx.updateServiceTokens(Ra,Wa,ma);},write:function(Ra,Wa,ma){this._appCtx.write(Ra,Wa,ma);},getDebugContext:function(){return this._appCtx.getDebugContext();}});pa=fa.extend({init:function za(Wa,ma){za.base.call(this,ma);Object.defineProperties(this,{_payloads:{value:Wa,writable:!1,enumerable:!1,configurable:!1}});},write:function(Wa,ma,za){var Ja;function Ea(Da,Va){var Ia;if(Da == Ja._payloads.length)za.result(!0);else {Ia=Ja._payloads[Da];Wa.setCompressionAlgorithm(Ia.compressionAlgo,ma,{result:function($a){Wa.write(Ia.data,0,Ia.data.length,ma,{result:function(db){fb(za,function(){Ia.isEndOfMessage()?Ea(Da + 1,Va):Wa.flush(ma,{result:function(Ya){za.result(Ya);},timeout:function(){za.timeout();},error:function(Ya){za.error(Ya);}});},Ja);},timeout:function(db){za.timeout(db);},error:function(db){za.error(db);}});},timeout:function(){},error:function($a){za.error($a);}});}}Ja=this;Ea(0);}});Aa=fa.extend({init:function za(ma){za.base.call(this,ma);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(ma,za,Ea){Ea.result(!0);}});ja={};Y=Hb.Class.create({init:function(ma){ma || (ma=new sa());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(ma){this._filterFactory=ma;},getNewestMasterToken:function(ma,za,Ea,Ja){var Da;Da=this;fb(Ja,function(){var Va,Ia,$a,db,Ya;Va=za.getMslStore();Ia=Va.getMasterToken();if(!Ia)return null;$a=Ia.uniqueKey();db=this._masterTokenLocks[$a];db || (db=new Fd(),this._masterTokenLocks[$a]=db);Ya=db.readLock(Ea,{result:function(mb){fb(Ja,function(){var rb;if(mb === Gb)throw new cc("getNewestMasterToken aborted.");rb=Va.getMasterToken();if(Ia.equals(rb))return new W(Ia,mb);db.unlock(mb);db.writeLock(Ea,{result:function(tb){fb(Ja,function(){if(tb === Gb)throw new cc("getNewestMasterToken aborted.");delete this._masterTokenLocks[$a];db.unlock(tb);return this.getNewestMasterToken(ma,za,Ea,Ja);},Da);},timeout:function(){Ja.timeout();},error:function(tb){Ja.error(tb);}});},Da);},timeout:function(){Ja.timeout();},error:function(mb){Ja.error(mb);}});ma.setAbort(function(){Ya && (db.cancel(Ya),Ya=Gb);});},Da);},deleteMasterToken:function(ma,za){var Ea;if(za){Ea=this;setTimeout(function(){var Ja,Da;Ja=za.uniqueKey();Da=Ea._masterTokenLocks[Ja];Da || (Da=new Fd(),Ea._masterTokenLocks[Ja]=Da);Da.writeLock(-1,{result:function(Va){ma.getMslStore().removeCryptoContext(za);delete Ea._masterTokenLocks[Ja];Da.unlock(Va);},timeout:function(){throw new Bb("Unexpected timeout received.");},error:function(Va){throw Va;}});},0);}},releaseMasterToken:function(ma){var za;if(ma && ma.masterToken){za=ma.masterToken.uniqueKey();za=this._masterTokenLocks[za];if(!za)throw new Bb("Master token read/write lock does not exist when it should.");za.unlock(ma.ticket);}},updateOutgoingCryptoContexts:function(ma,za,Ea){var Ja;Ja=ma.getMslStore();!ma.isPeerToPeer() && Ea && (Ja.setCryptoContext(Ea.keyResponseData.masterToken,Ea.cryptoContext),this.deleteMasterToken(ma,za.masterToken));},updateIncomingCryptoContexts:function(ma,za,Ea){var Ja,Da;Ja=Ea.getMessageHeader();if(Ja){Da=ma.getMslStore();if(Ja=Ja.keyResponseData)(Da.setCryptoContext(Ja.masterToken,Ea.getKeyExchangeCryptoContext()),this.deleteMasterToken(ma,za.masterToken));}},storeServiceTokens:function(ma,za,Ea,Ja){var Ia,$a;ma=ma.getMslStore();for(var Da=[],Va=0;Va < Ja.length;++Va){Ia=Ja[Va];if(!Ia.isBoundTo(za) || !za.isVerified()){$a=Ia.data;$a && 0 == $a.length?ma.removeServiceTokens(Ia.name,Ia.isMasterTokenBound()?za:null,Ia.isUserIdTokenBound()?Ea:null):Da.push(Ia);}}0 < Da.length && ma.addServiceTokens(Da);},buildRequest:function(ma,za,Ea,Ja,Da){var Va;Va=this;this.getNewestMasterToken(ma,za,Ja,{result:function(Ia){Na(Da,function(){var $a,db,Ya;$a=Ia && Ia.masterToken;if($a){db=Ea.getUserId();Ya=za.getMslStore();db=(db=db?Ya.getUserIdToken(db):null) && db.isBoundTo($a)?db:null;}else db=null;Oc(za,$a,db,null,{result:function(mb){Na(Da,function(){mb.setNonReplayable(Ea.isNonReplayable());return {builder:mb,tokenTicket:Ia};});},error:function(mb){Na(Da,function(){this.releaseMasterToken(Ia);mb instanceof hb && (mb=new Bb("User ID token not bound to master token despite internal check.",mb));throw mb;},Va);}});},Va);},timeout:function(){Da.timeout();},error:function(Ia){Da.error(Ia);}});},buildResponse:function(ma,za,Ea,Ja,Da,Va){var Ia;Ia=this;Te(za,Ja,{result:function($a){fb(Va,function(){$a.setNonReplayable(Ea.isNonReplayable());if(!za.isPeerToPeer() && !Ja.keyResponseData)return {builder:$a,tokenTicket:null};this.getNewestMasterToken(ma,za,Da,{result:function(db){fb(Va,function(){var Ya,mb,rb;Ya=db && db.masterToken;if(Ya){mb=Ea.getUserId();rb=za.getMslStore();mb=(mb=mb?rb.getUserIdToken(mb):null) && mb.isBoundTo(Ya)?mb:null;}else mb=null;$a.setAuthTokens(Ya,mb);return {builder:$a,tokenTicket:db};},Ia);},timeout:function(){Va.timeout();},error:function(db){Va.error(db);}});},Ia);},error:function($a){Va.error($a);}});},buildErrorResponse:function(ma,za,Ea,Ja,Da,Va,Ia){var Ya;function $a(mb,rb){fb(Ia,function(){var tb,ub;tb=Nc(Da.messageId);ub=new pa(rb,Ea);Oc(za,null,null,tb,{result:function(vb){fb(Ia,function(){za.isPeerToPeer() && vb.setPeerAuthTokens(mb.peerMasterToken,mb.peerUserIdToken);vb.setNonReplayable(ub.isNonReplayable());return {errorResult:new T(vb,ub),tokenTicket:null};},Ya);},error:function(vb){Ia.error(vb);}});},Ya);}function db(mb,rb){Ya.getNewestMasterToken(ma,za,Va,{result:function(tb){fb(Ia,function(){var ub,vb,Fb;ub=tb && tb.masterToken;vb=Nc(Da.messageId);Fb=new pa(rb,Ea);Oc(za,ub,null,vb,{result:function(Eb){fb(Ia,function(){za.isPeerToPeer() && Eb.setPeerAuthTokens(mb.peerMasterToken,mb.peerUserIdToken);Eb.setNonReplayable(Fb.isNonReplayable());return {errorResult:new T(Eb,Fb),tokenTicket:tb};},Ya);},error:function(Eb){Ia.error(Eb);}});},Ya);},timeout:function(){Ia.timeout();},error:function(tb){Ia.error(tb);}});}Ya=this;fb(Ia,function(){var mb,rb,tb,ub;mb=Ja.requestHeader;rb=Ja.payloads;tb=Da.errorCode;switch(tb){case Ga.ENTITYDATA_REAUTH:case Ga.ENTITY_REAUTH:za.getEntityAuthenticationData(tb,{result:function(vb){fb(Ia,function(){if(!vb)return null;$a(mb,rb);},Ya);},error:function(vb){Ia.error(vb);}});break;case Ga.USERDATA_REAUTH:case Ga.SSOTOKEN_REJECTED:Ea.getUserAuthData(tb,!1,!0,{result:function(vb){fb(Ia,function(){if(!vb)return null;db(mb,rb);},Ya);},error:function(vb){Ia.error(vb);}});break;case Ga.USER_REAUTH:db(mb,rb);break;case Ga.KEYX_REQUIRED:tb=Nc(Da.messageId);ub=new pa(rb,Ea);Oc(za,null,null,tb,{result:function(vb){fb(Ia,function(){za.isPeerToPeer() && vb.setPeerAuthTokens(mb.peerMasterToken,mb.peerUserIdToken);vb.setRenewable(!0);vb.setNonReplayable(ub.isNonReplayable());return {errorResult:new T(vb,ub),tokenTicket:null};},Ya);},error:function(vb){Ia.error(vb);}});break;case Ga.EXPIRED:this.getNewestMasterToken(ma,za,Va,{result:function(vb){fb(Ia,function(){var Fb,Eb,oa,Fa;Fb=vb && vb.masterToken;Eb=mb.userIdToken;oa=Nc(Da.messageId);Fa=new pa(rb,Ea);Oc(za,Fb,Eb,oa,{result:function(Pa){fb(Ia,function(){za.isPeerToPeer() && Pa.setPeerAuthTokens(mb.peerMasterToken,mb.peerUserIdToken);mb.masterToken.equals(Fb) && Pa.setRenewable(!0);Pa.setNonReplayable(Fa.isNonReplayable());return {errorResult:new T(Pa,Fa),tokenTicket:vb};},Ya);},error:function(Pa){Ia.error(Pa);}},Ya);},Ya);},timeout:function(){Ia.timeout();},error:function(vb){Ia.error(vb);}});break;case Ga.REPLAYED:this.getNewestMasterToken(ma,za,Va,{result:function(vb){fb(Ia,function(){var Fb,Eb,oa,Fa;Fb=vb && vb.masterToken;Eb=mb.userIdToken;oa=Nc(Da.messageId);Fa=new pa(rb,Ea);Oc(za,Fb,Eb,oa,{result:function(Pa){fb(Ia,function(){za.isPeerToPeer() && Pa.setPeerAuthTokens(mb.peerMasterToken,mb.peerUserIdToken);mb.masterToken.equals(Fb)?(Pa.setRenewable(!0),Pa.setNonReplayable(!1)):Pa.setNonReplayable(Fa.isNonReplayable());return {errorResult:new T(Pa,Fa),tokenTicket:vb};},Ya);},error:function(Pa){Ia.error(Pa);}});},Ya);},timeout:function(){Ia.timeout();},error:function(vb){Ia.error(vb);}});break;default:return null;}},Ya);},cleanupContext:function(ma,za,Ea){switch(Ea.errorCode){case Ga.ENTITY_REAUTH:this.deleteMasterToken(ma,za.masterToken);break;case Ga.USER_REAUTH:(Ea=za.userIdToken,za.masterToken && Ea && ma.getMslStore().removeUserIdToken(Ea));}},send:function(ma,za,Ea,Ja,Da,Va,Ia){var tb;function $a(ub,vb,Fb){fb(Ia,function(){var Eb;Eb=Da.getPeerUserIdToken();!za.isPeerToPeer() && !vb || za.isPeerToPeer() && !Eb?(Eb=Ea.getCustomer())?Da.setCustomer(Eb,{result:function(oa){fb(Ia,function(){vb=Da.getUserIdToken();db(ub,vb,Fb);},tb);},error:function(oa){Ia.error(oa);}}):db(ub,vb,Fb):db(ub,vb,Fb);},tb);}function db(ub,vb,Fb){fb(Ia,function(){var Eb,oa;Eb=!Fb && (!Ea.isEncrypted() || Da.willEncryptPayloads()) && (!Ea.isIntegrityProtected() || Da.willIntegrityProtectPayloads()) && (!Ea.isNonReplayable() || Da.isNonReplayable() && ub);Eb || Da.setNonReplayable(!1);oa=[];Da.isRenewable() && (!ub || ub.isRenewable() || Ea.isNonReplayable())?Ea.getKeyRequestData({result:function(Fa){fb(Ia,function(){var r;for(var Pa=0;Pa < Fa.length;++Pa){r=Fa[Pa];oa.push(r);Da.addKeyRequestData(r);}Ya(ub,vb,Eb,oa);},tb);},error:function(Fa){Ia.error(Fa);}}):Ya(ub,vb,Eb,oa);},tb);}function Ya(ub,vb,Fb,Eb){fb(Ia,function(){var oa;oa=new Ve(za,Ea,Da);Ea.updateServiceTokens(oa,!Fb,{result:function(Fa){Da.getHeader({result:function(Pa){fb(Ia,function(){var r,b;r=Ea.getDebugContext();r && r.sentHeader(Pa);r=Da.getKeyExchangeData();this.updateOutgoingCryptoContexts(za,Pa,r);this.storeServiceTokens(za,ub,vb,Pa.serviceTokens);r=!za.isPeerToPeer() && r?r.cryptoContext:Pa.cryptoContext;if(ma.isAborted())throw new cc("send aborted.");b=null != this._filterFactory?this._filterFactory.getOutputStream(Ja):Ja;zd(za,b,Tb,Pa,r,Va,{result:function(a){ma.setAbort(function(){a.abort();});mb(a,Pa,Fb);},timeout:function(){Ia.timeout();},error:function(a){Ia.error(a);}});},tb);},timeout:function(){Ia.timeout();},error:function(Pa){Ia.error(Pa);}});},error:function(Fa){Ia.error(Fa);}});},tb);}function mb(ub,vb,Fb){var Eb,oa;if(Fb)Ea.write(ub,Va,{result:function(Fa){fb(Ia,function(){if(ma.isAborted())throw new cc("MessageOutputStream write aborted.");rb(ub,vb,Fb);},tb);},timeout:function(){Ia.timeout();},error:function(Fa){Ia.error(Fa);}});else {Eb=new wa();oa=new Vc();zd(za,Eb,Tb,vb,oa,Va,{result:function(Fa){Ea.write(Fa,Va,{result:function(Pa){fb(Ia,function(){if(ma.isAborted())throw new cc("MessageOutputStream proxy write aborted.");Fa.close(Va,{result:function(r){fb(Ia,function(){var b;if(!r)throw new cc("MessageOutputStream proxy close aborted.");b=Fa.getPayloads();rb(ub,vb,Fb,b);},tb);},timeout:function(){Ia.timeout();},error:function(r){Ia.error(r);}});},tb);},timeout:function(){Ia.timeout();},error:function(Pa){Ia.error(Pa);}});},timeout:function(){Ia.timeout();},error:function(Fa){Ia.error(Fa);}});}}function rb(ub,vb,Fb,Eb){ub.close(Va,{result:function(oa){fb(Ia,function(){if(!oa)throw new cc("MessageOutputStream close aborted.");Eb || (Eb=ub.getPayloads());return new U(vb,Eb,!Fb);},tb);},timeout:function(){Ia.timeout();},error:function(oa){Ia.error(oa);}});}tb=this;fb(Ia,function(){var ub,vb,Fb,Eb;ub=Da.getMasterToken();vb=Da.getUserIdToken();Fb=!1;if(Ea.getUserId()){Eb=!vb;Ea.getUserAuthData(null,Da.isRenewable(),Eb,{result:function(oa){fb(Ia,function(){oa && (Da.willEncryptHeader() && Da.willIntegrityProtectHeader()?Da.setUserAuthenticationData(oa):Fb=!0);$a(ub,vb,Fb);},tb);},error:function(oa){Ia.error(oa);}});}else $a(ub,vb,Fb);},tb);},receive:function(ma,za,Ea,Ja,Da,Va,Ia){var $a;$a=this;fb(Ia,function(){var db,Ya,mb;if(ma.isAborted())throw new cc("receive aborted.");db=[];Da && (db=Da.keyRequestData.filter(function(){return !0;}));Ya=Ea.getCryptoContexts();mb=this._filterFactory?this._filterFactory.getInputStream(Ja):Ja;Xe(za,mb,Tb,db,Ya,Va,{result:function(rb){ma.setAbort(function(){rb.abort();});rb.isReady(Va,{result:function(tb){fb(Ia,function(){var ub,vb,Fb,Eb;if(!tb)throw new cc("MessageInputStream aborted.");ub=rb.getMessageHeader();vb=rb.getErrorHeader();Fb=Ea.getDebugContext();Fb && Fb.receivedHeader(ub?ub:vb);if(Da && (Fb=vb?vb.errorCode:null,ub || Fb != Ga.FAIL && Fb != Ga.TRANSIENT_FAILURE && Fb != Ga.ENTITY_REAUTH && Fb != Ga.ENTITYDATA_REAUTH)){Fb=ub?ub.messageId:vb.messageId;Eb=Nc(Da.messageId);if(Fb != Eb)throw new Ob(S.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + Eb + "; received " + Fb);}za.getEntityAuthenticationData(null,{result:function(oa){fb(Ia,function(){var Fa,Pa,r,b;Fa=oa.getIdentity();if(ub){Pa=ub.entityAuthenticationData;r=ub.masterToken;Pa=r?ub.sender:Pa.getIdentity();if(r && r.isDecrypted() && r.identity != Pa || Fa == Pa)throw new Ob(S.UNEXPECTED_MESSAGE_SENDER,Pa);Da && this.updateIncomingCryptoContexts(za,Da,rb);Fa=ub.keyResponseData;za.isPeerToPeer()?(Fa=Fa?Fa.masterToken:ub.peerMasterToken,r=ub.peerUserIdToken,Pa=ub.peerServiceTokens):(Fa=Fa?Fa.masterToken:ub.masterToken,r=ub.userIdToken,Pa=ub.serviceTokens);b=Ea.getUserId();b && r && !r.isVerified() && za.getMslStore().addUserIdToken(b,r);this.storeServiceTokens(za,Fa,r,Pa);}else if((Pa=vb.entityAuthenticationData.getIdentity(),Fa == Pa))throw new Ob(S.UNEXPECTED_MESSAGE_SENDER,Pa);return rb;},$a);},error:Ia.error});},$a);},timeout:function(){Ia.timeout();},error:function(tb){Ia.error(tb);}});},timeout:function(){Ia.timeout();},error:function(rb){Ia.error(rb);}});},$a);},sendReceive:function(ma,za,Ea,Ja,Da,Va,Ia,$a,db){var mb;function Ya(rb,tb){fb(db,function(){Va.setRenewable(tb);this.send(ma,za,Ea,Da,Va,Ia,{result:function(ub){fb(db,function(){var vb;vb=ub.requestHeader.keyRequestData;$a || ub.handshake || !vb.isEmpty()?this.receive(ma,za,Ea,Ja,ub.requestHeader,Ia,{result:function(Fb){fb(db,function(){tb && this.releaseRenewalLock(za,rb,Fb);return new aa(Fb,ub);},mb);},timeout:function(){fb(db,function(){tb && this.releaseRenewalLock(za,rb,null);db.timeout();},mb);},error:function(Fb){fb(db,function(){tb && this.releaseRenewalLock(za,rb,null);throw Fb;},mb);}}):fb(db,function(){tb && this.releaseRenewalLock(za,rb,null);return new aa(null,ub);},mb);},mb);},timeout:function(){fb(db,function(){tb && this.releaseRenewalLock(za,rb,null);db.timeout();},mb);},error:function(ub){fb(db,function(){tb && this.releaseRenewalLock(za,rb,null);throw ub;},mb);}});},mb);}mb=this;fb(db,function(){var rb;rb=new Zc();this.acquireRenewalLock(ma,za,Ea,rb,Va,Ia,{result:function(tb){Ya(rb,tb);},timeout:function(){db.timeout();},error:function(tb){tb instanceof cc?db.result(null):db.error(tb);}});},mb);},acquireRenewalLock:function(ma,za,Ea,Ja,Da,Va,Ia){var Ya;function $a(mb,rb,tb){fb(Ia,function(){var Fb,Eb;if(ma.isAborted())throw new cc("acquireRenewalLock aborted.");for(var ub=null,vb=0;vb < this._renewingContexts.length;++vb){Fb=this._renewingContexts[vb];if(Fb.ctx === za){ub=Fb.queue;break;}}if(!ub)return (this._renewingContexts.push({ctx:za,queue:Ja}),!0);Eb=ub.poll(Va,{result:function(oa){fb(Ia,function(){var Fa;if(oa === Gb)throw new cc("acquireRenewalLock aborted.");ub.add(oa);if(oa === ja || oa.isExpired())$a(oa,rb,tb);else {if(tb && !rb || rb && !rb.isBoundTo(oa)){Fa=za.getMslStore().getUserIdToken(tb);rb=Fa && Fa.isBoundTo(oa)?Fa:null;}Da.setAuthTokens(oa,rb);Da.isRenewable() && oa.equals(mb)?$a(oa,rb,tb):Ea.isRequestingTokens() && !rb?$a(oa,rb,tb):db(oa,rb);}},Ya);},timeout:function(){},error:function(oa){}});ma.setAbort(function(){Eb && (ub.cancel(Eb),Eb=Gb);});},Ya);}function db(mb,rb){fb(Ia,function(){var vb;if(ma.isAborted())throw new cc("acquireRenewalLock aborted.");if(!mb || mb.isRenewable() || !rb && Ea.getUserId() || rb && rb.isRenewable()){for(var tb=null,ub=0;ub < this._renewingContexts.length;++ub){vb=this._renewingContexts[ub];if(vb.ctx === za){tb=vb.queue;break;}}if(!tb)return (this._renewingContexts.push({ctx:za,queue:Ja}),!0);}return !1;},Ya);}Ya=this;fb(Ia,function(){var mb,rb,tb;mb=Da.getMasterToken();rb=Da.getUserIdToken();tb=Ea.getUserId();Ea.isEncrypted() && !Da.willEncryptPayloads() || Ea.isIntegrityProtected() && !Da.willIntegrityProtectPayloads() || Da.isRenewable() || !mb && Ea.isNonReplayable() || mb && mb.isExpired() || !(rb || !tb || Da.willEncryptHeader() && Da.willIntegrityProtectHeader()) || Ea.isRequestingTokens() && (!mb || tb && !rb)?$a(mb,rb,tb):db(mb,rb);},Ya);},releaseRenewalLock:function(ma,za,Ea){var Ia;for(var Ja,Da,Va=0;Va < this._renewingContexts.length;++Va){Ia=this._renewingContexts[Va];if(Ia.ctx === ma){Ja=Va;Da=Ia.queue;break;}}if(Da !== za)throw new Bb("Attempt to release renewal lock that is not owned by this queue.");Ea?(Ea=Ea.messageHeader)?(Da=Ea.keyResponseData)?za.add(Da.masterToken):(ma=ma.isPeerToPeer()?Ea.peerMasterToken:Ea.masterToken)?za.add(ma):za.add(ja):za.add(ja):za.add(ja);this._renewingContexts.splice(Ja,1);}});$e=Hb.Class.create({init:function(){var ma;ma={_impl:{value:new Y(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ma);},setFilterFactory:function(ma){this._impl.setFilterFactory(ma);},shutdown:function(){this._shutdown=!0;},receive:function(ma,za,Ea,Ja,Da,Va){var Ia;if(this._shutdown)throw new hb("MslControl is shutdown.");Ia=new ba(this._impl,ma,za,Ea,Ja,Da);setTimeout(function(){Ia.call(Va);},0);return ca(Ia);},respond:function(ma,za,Ea,Ja,Da,Va,Ia){var $a;if(this._shutdown)throw new hb("MslControl is shutdown.");$a=new da(this._impl,ma,za,Ea,Ja,Da,Va);setTimeout(function(){$a.call(Ia);},0);return ca($a);},error:function Ea(ma,za,Ea,Ja,Da,Va,Ia){var $a;if(this._shutdown)throw new hb("MslControl is shutdown.");$a=new ya(this._impl,ma,za,Ea,Ja,Da,Va);setTimeout(function(){$a.call(Ia);},0);return ca($a);},request:function(ma,za){var Ea,Ja,Da,Va,Ia,$a;if(this._shutdown)throw new hb("MslControl is shutdown.");if(5 == arguments.length){Ja=arguments[2];Da=Ea=null;Va=arguments[3];Ia=arguments[4];if(ma.isPeerToPeer()){Ia.error(new Bb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ja=null,Ea=arguments[2],Da=arguments[3],Va=arguments[4],Ia=arguments[5],!ma.isPeerToPeer())){Ia.error(new Bb("This method cannot be used in trusted network mode."));return;}$a=new Ma(this._impl,ma,za,Ja,Ea,Da,null,0,Va);setTimeout(function(){$a.call(Ia);},0);return ca($a);}});ba=Hb.Class.create({init:function(ma,za,Ea,Ja,Da,Va){Object.defineProperties(this,{_ctrl:{value:ma,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:za,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:Da,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Va,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Gb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ma){this._abortFunc=ma;},call:function(ma){var Da;function za(Va){fb(ma,function(){var Ia;Ia=Va.messageHeader;if(!Ia)return Va;this.setAbort(function(){Va.abort();});Va.mark(Number.MAX_VALUE);Va.read(1,Da._timeout,{result:function($a){fb(ma,function(){if($a && 0 == $a.length)return null;if($a)return (Va.reset(),Va);Ea(Va);},Da);},timeout:function(){ma.timeout();},error:function($a){fb(ma,function(){var db,Ya,mb;if(V($a))return null;db=Ia?Ia.messageId:null;if($a instanceof Yb){Ya=S.MSL_COMMS_FAILURE;mb=$a;}else (Ya=S.INTERNAL_EXCEPTION,mb=new Bb("Error peeking into the message payloads."));ea(this,this._ctx,this._msgCtx.getDebugContext(),db,Ya,null,this._output,this._timeout,{result:function(rb){ma.error(mb);},timeout:function(){ma.timeout();},error:function(rb){fb(ma,function(){if(V(rb))return null;throw new jc("Error peeking into the message payloads.",rb,$a);},Da);}});},Da);}});},Da);}function Ea(Va){fb(ma,function(){Va.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Va.messageHeader,this._timeout,{result:function(Ia){fb(ma,function(){var $a,db,Ya,mb,rb;$a=Ia.builder;db=Ia.tokenTicket;Ya=Va.messageHeader;mb=new Aa(this._msgCtx);if(!this._ctx.isPeerToPeer() || Ya.isEncrypting() || Ya.keyResponseData)Ja(Ya,$a,mb,db);else {rb=new Ma(this._ctrl,this._ctx,mb,null,this._input,this._output,Ia,1,this._timeout);this.setAbort(function(){rb.abort();});rb.call(ma);}},Da);},timeout:function(){ma.timeout();},error:function(Ia){fb(ma,function(){var $a,db,Ya,mb;if(V(Ia))return null;if(Ia instanceof hb){$a=Ia.messageId;db=Ia.error;Ya=Va.messageHeader.messageCapabilities;Ya=this._ctrl.messageRegistry.getUserMessage(db,Ya?Ya.languages:null);mb=Ia;}else ($a=requestHeader?requestHeader.messageId:null,db=S.INTERNAL_EXCEPTION,Ya=null,mb=new Bb("Error creating an automatic handshake response.",Ia));ea(this,this._ctx,this._msgCtx.getDebugContext(),$a,db,Ya,this._output,this._timeout,{result:function(rb){ma.error(mb);},timeout:function(){ma.timeout();},error:function(rb){fb(ma,function(){if(V(rb))return null;throw new jc("Error creating an automatic handshake response.",rb,Ia);},Da);}});},Da);}});},Da);}function Ja(Va,Ia,$a,db){fb(ma,function(){Ia.setRenewable(!1);this._ctrl.send(this._ctx,$a,this._output,Ia,this._timeout,{result:function(Ya){fb(ma,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(db);return null;},Da);},timeout:function(){fb(ma,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(db);ma.timeout();},Da);},error:function(Ya){fb(ma,function(){var mb,rb,tb,ub;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(db);if(V(Ya))return null;if(Ya instanceof hb){mb=Ya.messageId;rb=Ya.error;tb=Va?Va.messageCapabilities:null;tb=this._ctrl.messageRegistry.getUserMessage(rb,tb?tb.languages:null);ub=Ya;}else Ya instanceof Yb?(mb=Va?Va.messageId:null,rb=S.MSL_COMMS_FAILURE,tb=null,ub=Ya):(mb=Va?Va.messageId:null,rb=S.INTERNAL_EXCEPTION,tb=null,ub=new Bb("Error sending an automatic handshake response.",Ya));ea(this,this._ctx,this._msgCtx.getDebugContext(),mb,rb,tb,this._output,this._timeout,{result:function(vb){ma.error(ub);},timeout:function(){ma.timeout();},error:function(vb){fb(ma,function(){if(V(vb))return null;throw new jc("Error sending an automatic handshake response.",vb,Ya);},Da);}});},Da);}});},Da);}Da=this;fb(ma,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Va){za(Va);},timeout:function(){ma.timeout();},error:function(Va){fb(ma,function(){var Ia,$a,db,Ya;if(V(Va))return null;if(Va instanceof hb){Ia=Va.messageId;$a=Va.error;db=this._ctrl.messageRegistry.getUserMessage($a,null);Ya=Va;}else (Ia=null,$a=S.INTERNAL_EXCEPTION,db=null,Ya=new Bb("Error receiving the message header.",Va));ea(this,this._ctx,this._msgCtx.getDebugContext(),Ia,$a,db,this._output,this._timeout,{result:function(mb){ma.error(Ya);},timeout:function(){ma.timeout();},error:function(mb){fb(ma,function(){if(V(mb))return null;throw new jc("Error receiving the message header.",mb,Va);},Da);}});},Da);}});},Da);}});da=Hb.Class.create({init:function(ma,za,Ea,Ja,Da,Va,Ia){Object.defineProperties(this,{_ctrl:{value:ma,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:za,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:Da,writable:!1,enumerable:!1,configurable:!1},_request:{value:Va,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Gb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ma){this._abortFunc=ma;},trustedNetworkExecute:function(ma,za,Ea){var Ja;Ja=this;fb(Ea,function(){var Da,Va;if(12 < za + 1)return !1;if(Da=this._msgCtx.isIntegrityProtected() && !ma.willIntegrityProtectHeader()?S.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !ma.willEncryptPayloads()?S.RESPONSE_REQUIRES_ENCRYPTION:null){Va=Wc(ma.getMessageId());ea(this,this._ctx,this._msgCtx.getDebugContext(),Va,Da,null,this._output,this._timeout,{result:function(Ia){Ea.result(!1);},timeout:function(){Ea.timeout();},error:function(Ia){fb(Ea,function(){if(V(Ia))return !1;throw new jc("Response requires encryption or integrity protection but cannot be protected: " + Da,Ia,null);},Ja);}});}else !this._msgCtx.getCustomer() || ma.getMasterToken() || ma.getKeyExchangeData()?(ma.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,ma,this._timeout,{result:function(Ia){Ea.result(!0);},timeout:function(){Ea.timeout();},error:function(Ia){Ea.error(Ia);}})):(Va=Wc(ma.getMessageId()),ea(this,this._ctx,this._msgCtx.getDebugContext(),Va,S.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ia){Ea.result(!1);},timeout:function(){Ea.timeout();},error:function(Ia){fb(Ea,function(){if(V(Ia))return !1;throw new jc("Response wishes to attach a user ID token but there is no master token.",Ia,null);},Ja);}}));},Ja);},peerToPeerExecute:function(ma,za,Ea,Ja){var Va;function Da(Ia){fb(Ja,function(){var $a;$a=Ia.response;$a.close();$a=$a.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Ia.requestHeader,$a);this._ctrl.buildErrorResponse(this,this._ctx,ma,Ia,$a,{result:function(db){fb(Ja,function(){var Ya,mb;if(!db)return !1;Ya=db.errorResult;mb=db.tokenTicket;this.peerToPeerExecute(Ya.msgCtx,Ya.builder,Ea,{result:function(rb){fb(Ja,function(){this._ctrl.releaseMasterToken(mb);return rb;},Va);},timeout:function(){fb(Ja,function(){this._ctrl.releaseMasterToken(mb);Ja.timeout();},Va);},error:function(rb){fb(Ja,function(){this._ctrl.releaseMasterToken(mb);throw rb;},Va);}});},Va);}});},Va);}Va=this;fb(Ja,function(){var Ia;if(12 < Ea + 2)return !1;if(null != ma.getCustomer() && null == za.getPeerMasterToken() && null == za.getKeyExchangeData()){Ia=Wc(za.getMessageId());ea(this,this._ctx,ma.getDebugContext(),Ia,S.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function($a){Ja.result(!1);},timeout:function(){Ja.timeout();},error:function($a){fb(Ja,function(){if(V($a))return !1;throw new jc("Response wishes to attach a user ID token but there is no master token.",$a,null);},Va);}});}else this._ctrl.sendReceive(this._ctx,ma,this._input,this._output,za,this._timeout,!1,{result:function($a){fb(Ja,function(){var mb,rb,tb;function db(){mb.read(32768,Va._timeout,{result:function(ub){fb(Ja,function(){ub?db():Ya();},Va);},timeout:function(){Ja.timeout();},error:function(ub){Ja.error(ub);}});}function Ya(){fb(Ja,function(){var ub;ub=new pa($a.payloads,ma);this._ctrl.buildResponse(this,this._ctx,ub,rb,this._timeout,{result:function(vb){fb(Ja,function(){var Fb;Fb=vb.tokenTicket;this.peerToPeerExecute(ub,vb.builder,Ea,{result:function(Eb){fb(Ja,function(){this._ctrl.releaseMasterToken(Fb);return Eb;},Va);},timeout:function(){fb(Ja,function(){this._ctrl.releaseMasterToken(Fb);Ja.timeout();},Va);},error:function(Eb){fb(Ja,function(){this._ctrl.releaseMasterToken(Fb);throw Eb;},Va);}});},Va);},timeout:function(){Ja.timeout();},error:function(vb){Ja.error(vb);}});},Va);}mb=$a.response;Ea+=2;if(!mb)return !0;rb=mb.getMessageHeader();if(rb){tb=$a.payloads;tb=0 < tb.length && 0 < tb[0].data.length;if($a.handshake && tb)db();else return !0;}else Da($a);},Va);},timeout:function(){Ja.timeout();},error:function($a){Ja.error($a);}});},Va);},call:function(ma){var za;za=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(Ea){fb(ma,function(){var Ja,Da;Ja=Ea.builder;Da=Ea.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ja,3,{result:function(Va){fb(ma,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);return Va;},za);},timeout:function(){fb(ma,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);ma.timeout();},za);},error:function(Va){fb(ma,function(){var Ia,$a,db,Ya;this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);if(V(Va))return !1;Ia=Wc(Ja.getMessageId());if(Va instanceof hb){$a=Va.error;db=this._request.messageCapabilities;db=this._ctrl.messageRegistry.getUserMessage($a,db?db.languages:null);Ya=Va;}else Va instanceof Yb?($a=S.MSL_COMMS_FAILURE,db=null,Ya=Va):($a=S.INTERNAL_EXCEPTION,db=null,Ya=new Bb("Error sending the response.",Va));ea(this,this._ctx,this._msgCtx.getDebugContext(),Ia,$a,db,this._output,this._timeout,{result:function(mb){ma.error(Ya);},timeout:function(){ma.timeout();},error:function(mb){fb(ma,function(){if(V(mb))return !1;throw new jc("Error sending the response.",mb,null);},za);}});},za);}}):this.trustedNetworkExecute(Ja,3,{result:function(Va){fb(ma,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);return Va;},za);},timeout:function(){fb(ma,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);ma.timeout();},za);},error:function(Va){fb(ma,function(){var Ia,$a,db,Ya;this._ctx.isPeerToPeer() && this.releaseMasterToken(Da);if(V(Va))return !1;Ia=Wc(Ja.getMessageId());if(Va instanceof hb){$a=Va.error;db=this._request.messageCapabilities;db=this._ctrl.messageRegistry.getUserMessage($a,db?db.languages:null);Ya=Va;}else Va instanceof Yb?($a=S.MSL_COMMS_FAILURE,db=null,Ya=Va):($a=S.INTERNAL_EXCEPTION,db=null,Ya=new Bb("Error sending the response.",Va));ea(this,this._ctx,this._msgCtx.getDebugContext(),Ia,$a,db,this._output,this._timeout,{result:function(mb){ma.error(Ya);},timeout:function(){ma.timeout();},error:function(mb){fb(ma,function(){if(V(mb))return !1;throw new jc("Error sending the response.",mb,null);},za);}});},za);}});},za);},timeout:function(){ma.timeout();},error:function(Ea){fb(ma,function(){var Ja,Da,Va,Ia;if(V(Ea))return !1;if(Ea instanceof hb){Ja=Ea.messageId;Da=Ea.error;Va=this._request.messageCapabilities;Va=this._ctrl.messageRegistry.getUserMessage(Da,Va?Va.languages:null);Ia=Ea;}else (Ja=null,Da=S.INTERNAL_EXCEPTION,Va=null,Ia=new Bb("Error building the response.",Ea));ea(this,this._ctx,this._msgCtx.getDebugContext(),Ja,Da,Va,this._output,this._timeout,{result:function($a){ma.error(Ia);},timeout:function(){ma.timeout();},error:function($a){fb(ma,function(){if(V($a))return null;throw new jc("Error building the response.",$a,Ea);},za);}});},za);}});}});ya=Hb.Class.create({init:function(ma,za,Ea,Ja,Da,Va,Ia){Object.defineProperties(this,{_ctrl:{value:ma,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:za,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Va,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Gb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ma){this._abortFunc=ma;},call:function(ma){var za;za=this;fb(ma,function(){var Ea,Ja;if(this._appError == ENTITY_REJECTED)Ea=this._request.masterToken?S.MASTERTOKEN_REJECTED_BY_APP:S.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)Ea=this._request.userIdToken?S.USERIDTOKEN_REJECTED_BY_APP:S.USER_REJECTED_BY_APP;else throw new Bb("Unhandled application error " + this._appError + ".");Ja=this._request.messageCapabilities;Ja=this._ctrl.messageRegistry.getUserMessage(Ea,Ja?Ja.languages:null);ea(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,Ea,Ja,this._output,this._timeout,{result:function(Da){ma.result(Da);},timeout:ma.timeout,error:function(Da){fb(ma,function(){if(V(Da))return !1;if(Da instanceof hb)throw Da;throw new Bb("Error building the error response.",Da);},za);}});},za);}});Ua={result:function(){},timeout:function(){},error:function(){}};Ma=Hb.Class.create({init:function(ma,za,Ea,Ja,Da,Va,Ia,$a,db){var Ya;if(Ia){Ya=Ia.builder;Ia=Ia.tokenTicket;}else Ia=Ya=null;Object.defineProperties(this,{_ctrl:{value:ma,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:za,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_input:{value:Da,writable:!0,enumerable:!1,configurable:!1},_output:{value:Va,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Ya,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Ia,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:db,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:$a,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Gb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ma){this._abortFunc=ma;},execute:function(ma,za,Ea,Ja,Da){var $a;function Va(db){function Ya(mb){fb(Da,function(){var rb;rb=db.response;return mb?mb:rb;},$a);}fb(Da,function(){var mb,rb;mb=db.response;mb.close();rb=mb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,db.requestHeader,rb);this._ctrl.buildErrorResponse(this,this._ctx,ma,db,rb,Ea,{result:function(tb){fb(Da,function(){var ub,vb,Fb,Eb;if(!tb)return mb;ub=tb.errorResult;vb=tb.tokenTicket;Fb=ub.builder;ub=ub.msgCtx;if(this._ctx.isPeerToPeer())this.execute(ub,Fb,this._timeout,Ja,{result:function(oa){fb(Da,function(){this._ctrl.releaseMasterToken(vb);Ya(oa);},$a);},timeout:function(){fb(Da,function(){this._ctrl.releaseMasterToken(vb);Da.timeout();},$a);},error:function(oa){fb(Da,function(){this._ctrl.releaseMasterToken(vb);Da.error(oa);},$a);}});else {this._openedStreams && (this._input.close(),this._output.close(Ea,Ua));Eb=new Ma(this._ctrl,this._ctx,ub,this._remoteEntity,null,null,{builder:Fb,tokenTicket:vb},Ja,this._timeout);this.setAbort(function(){Eb.abort();});Eb.call({result:function(oa){Ya(oa);},timeout:function(){Da.timeout();},error:function(oa){Da.error(oa);}});}},$a);},timeout:function(){Da.timeout();},error:function(tb){Da.error(tb);}});},$a);}function Ia(db){fb(Da,function(){var rb,tb,ub,vb,Fb;function Ya(){rb.read(32768,$a._timeout,{result:function(Eb){Eb?Ya():mb();},timeout:function(){Da.timeout();},error:function(Eb){Da.error(Eb);}});}function mb(){fb(Da,function(){var Eb;Eb=new pa(db.payloads,ma);this._ctrl.buildResponse(this,this._ctx,ma,tb,Ea,{result:function(oa){fb(Da,function(){var Fa;Fa=oa.tokenTicket;this.execute(Eb,oa.builder,this._timeout,Ja,{result:function(Pa){fb(Da,function(){this._ctrl.releaseMasterToken(Fa);return Pa;},$a);},timeout:function(){fb(Da,function(){this._ctrl.releaseMasterToken(Fa);Da.timeout();},$a);},error:function(Pa){fb(Da,function(){this._ctrl.releaseMasterToken(Fa);throw Pa;},$a);}});},$a);},timeout:function(){Da.timeout();},error:function(oa){Da.error(oa);}});},$a);}rb=db.response;tb=rb.getMessageHeader();ub=db.payloads;ub=0 < ub.length && 0 < ub[0].data.length;if(!this._ctx.isPeerToPeer()){if(!db.handshake || !ub)return rb;this._openedStreams && (this._input.close(),this._output.close(Ea,Ua));vb=new pa(db.payloads,ma);this._ctrl.buildResponse(this,this._ctx,ma,tb,Ea,{result:function(Eb){fb(Da,function(){var oa;oa=new Ma(this._ctrl,this._ctx,vb,this._remoteEntity,null,null,Eb,Ja,this._timeout);this.setAbort(function(){oa.abort();});oa.call(Da);},$a);},timeout:function(){Da.timeout();},error:function(Eb){Da.error(Eb);}});}else if(db.handshake && ub)Ya();else if(0 < tb.keyRequestData.length){Fb=new Aa(ma);this._ctrl.buildResponse(this,this._ctx,Fb,tb,Ea,{result:function(Eb){fb(Da,function(){var oa,Fa;oa=Eb.builder;Fa=Eb.tokenTicket;rb.mark();rb.read(1,this._timeout,{result:function(Pa){fb(Da,function(){function r(){rb.read(32768,$a._timeout,{result:function(a){a?r():b();},timeout:function(){Da.timeout();},error:function(a){Da.error(a);}});}function b(){$a.execute(Fb,oa,$a._timeout,Ja,{result:function(a){fb(Da,function(){this._ctrl.releaseMasterToken(Fa);return a;},$a);},timeout:function(){fb(Da,function(){this._ctrl.releaseMasterToken(Fa);Da.timeout();},$a);},error:function(a){fb(Da,function(){this._ctrl.releaseMasterToken(Fa);throw a;},$a);}});}if(Pa){if((rb.reset(),12 >= Ja + 1))(oa.setRenewable(!1),this._ctrl.send(this,this._ctx,Fb,this._output,oa,this._timeout,{result:function(a){fb(Da,function(){this.releaseMasterToken(Fa);return rb;},$a);},timeout:function(){Da.timeout();},error:function(a){Da.error(a);}}));else return (this.releaseMasterToken(Fa),rb);}else r();},$a);},timeout:function(){fb(Da,function(){this.releaseMasterToken(Fa);Da.timeout();},$a);},error:function(Pa){fb(Da,function(){this.releaseMasterToken(Fa);throw Pa;},$a);}});},$a);},timeout:function(){Da.timeout();},error:function(Eb){Da.error(Eb);}});}},$a);}$a=this;fb(Da,function(){if(12 < Ja + 2)return null;this._ctrl.sendReceive(this,this._ctx,ma,this._input,this._output,za,Ea,!0,{result:function(db){fb(Da,function(){var Ya;if(!db)return null;Ya=db.response;Ja+=2;Ya.getMessageHeader()?Ia(db):Va(db);},$a);},timeout:function(){Da.timeout();},error:function(db){Da.error(db);}});},$a);},call:function(ma){var Ea;function za(Ja,Da,Va){fb(ma,function(){this.execute(this._msgCtx,Ja,Va,this._msgCount,{result:function(Ia){fb(ma,function(){this._ctrl.releaseMasterToken(Da);this._openedStreams && this._output.close(Va,Ua);Ia && Ia.closeSource(this._openedStreams);return Ia;},Ea);},timeout:function(){fb(ma,function(){this._ctrl.releaseMasterToken(Da);this._openedStreams && (this._output.close(Va,Ua),this._input.close());ma.timeout();},Ea);},error:function(Ia){fb(ma,function(){this._ctrl.releaseMasterToken(Da);this._openedStreams && (this._output.close(Va,Ua),this._input.close());if(V(Ia))return null;throw Ia;},Ea);}});},Ea);}Ea=this;fb(ma,function(){var Ja,Da,Va;Ja=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Da=Date.now();Va=this._remoteEntity.openConnection();this._output=Va.output;this._input=Va.input;-1 != Ja && (Ja=this._timeout - (Date.now() - Da));this._openedStreams=!0;}catch(Ia){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Ua);this._input && this._input.close();if(V(Ia))return null;throw Ia;}this._builder?za(this._builder,this._tokenTicket,Ja):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Ia){fb(ma,function(){za(Ia.builder,Ia.tokenTicket,Ja);},Ea);},timeout:function(){fb(ma,function(){this._openedStreams && (this._output.close(this._timeout,Ua),this._input.close());ma.timeout();},Ea);},error:function(Ia){fb(ma,function(){this._openedStreams && (this._output.close(this._timeout,Ua),this._input.close());if(V(Ia))return null;throw Ia;},Ea);}});},Ea);}});})();(function(){Xd=Hb.Class.create({init:function(ca){Object.defineProperties(this,{id:{value:ca,writable:!1,configurable:!1}});},toJSON:function(){var ca;ca={};ca.id=this.id;return ca;},equals:function(ca){return this === ca?!0:ca instanceof Xd?this.id == ca.id:!1;},uniqueKey:function(){return this.id;}});af=function(ca){var W;W=ca.id;if(!W)throw new Ib(S.JSON_PARSE_ERROR,JSON.stringify(ca));return new Xd(W);};})();Hb.Class.create({isNewestMasterToken:function(ca,W,T){},isMasterTokenRevoked:function(ca,W){},acceptNonReplayableId:function(ca,W,T,U){},createMasterToken:function(ca,W,T,U,aa){},isMasterTokenRenewable:function(ca,W,T){},renewMasterToken:function(ca,W,T,U,aa){},isUserIdTokenRevoked:function(ca,W,T,U){},createUserIdToken:function(ca,W,T,U){},renewUserIdToken:function(ca,W,T,U){}});(function(){function ca(W,T,U,aa){this.sessiondata=W;this.tokendata=T;this.signature=U;this.verified=aa;}ic=Hb.Class.create({init:function(W,T,U,aa,V,ea,wa,sa,fa,pa,Aa){var ja;ja=this;Na(Aa,function(){var Y,ba,da,ya,Ua;if(U.getTime() < T.getTime())throw new Bb("Cannot construct a master token that expires before its renewal window opens.");if(0 > aa || aa > Sb)throw new Bb("Sequence number " + aa + " is outside the valid range.");if(0 > V || V > Sb)throw new Bb("Serial number " + V + " is outside the valid range.");Y=Math.floor(T.getTime() / 1E3);ba=Math.floor(U.getTime() / 1E3);if(pa)da=pa.sessiondata;else {ya={};ea && (ya.issuerdata=ea);ya.identity=wa;ya.encryptionkey=Lb(sa.toByteArray());ya.hmackey=Lb(fa.toByteArray());da=fc(JSON.stringify(ya),Tb);}if(pa)return (Object.defineProperties(this,{ctx:{value:W,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Y,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ba,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:aa,writable:!1,configurable:!1},serialNumber:{value:V,writable:!1,configurable:!1},issuerData:{value:ea,writable:!1,configurable:!1},identity:{value:wa,writable:!1,configurable:!1},encryptionKey:{value:sa,writable:!1,configurable:!1},hmacKey:{value:fa,writable:!1,configurable:!1},sessiondata:{value:da,writable:!1,enumerable:!1,configurable:!1},verified:{value:pa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:pa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:pa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Ua=W.getMslCryptoContext();Ua.encrypt(da,{result:function(Ma){Na(Aa,function(){var Ra,Wa;Ra={};Ra.renewalwindow=Y;Ra.expiration=ba;Ra.sequencenumber=aa;Ra.serialnumber=V;Ra.sessiondata=Lb(Ma);Wa=fc(JSON.stringify(Ra),Tb);Ua.sign(Wa,{result:function(ma){Na(Aa,function(){Object.defineProperties(this,{ctx:{value:W,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Y,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ba,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:aa,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:V,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:ea,writable:!1,configurable:!1},identity:{value:wa,writable:!1,configurable:!1},encryptionKey:{value:sa,writable:!1,configurable:!1},hmacKey:{value:fa,writable:!1,configurable:!1},sessiondata:{value:da,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Wa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ma,writable:!1,enumerable:!1,configurable:!1}});return this;},ja);},error:function(ma){Aa.error(ma);}});},ja);},error:function(Ma){Aa.error(Ma);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(W){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(W){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(W){var T;if(this.sequenceNumber == W.sequenceNumber)return this.expiration > W.expiration;if(this.sequenceNumber > W.sequenceNumber){T=this.sequenceNumber - Sb + 127;return W.sequenceNumber >= T;}T=W.sequenceNumber - Sb + 127;return this.sequenceNumber < T;},toJSON:function(){var W;W={};W.tokendata=Lb(this.tokendata);W.signature=Lb(this.signature);return W;},equals:function(W){return this === W?!0:W instanceof ic?this.serialNumber == W.serialNumber && this.sequenceNumber == W.sequenceNumber && this.expiration.getTime() == W.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});ed=function(W,T,U){Na(U,function(){var aa,V,ea,wa,sa;aa=W.getMslCryptoContext();V=T.tokendata;ea=T.signature;if("string" !== typeof V || "string" !== typeof ea)throw new Ib(S.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(T));try{wa=Mb(V);}catch(fa){throw new hb(S.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(T),fa);}if(!wa || 0 == wa.length)throw new Ib(S.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(T));try{sa=Mb(ea);}catch(fa){throw new hb(S.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(T),fa);}aa.verify(wa,sa,{result:function(fa){Na(U,function(){var pa,Aa,ja,Y,ba,da,ya,Ua,Ma,Ra;pa=ec(wa,Tb);try{Aa=JSON.parse(pa);ja=parseInt(Aa.renewalwindow);Y=parseInt(Aa.expiration);ba=parseInt(Aa.sequencenumber);da=parseInt(Aa.serialnumber);ya=Aa.sessiondata;}catch(Wa){if(Wa instanceof SyntaxError)throw new Ib(S.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + pa,Wa);throw Wa;}if(!ja || ja != ja || !Y || Y != Y || "number" !== typeof ba || ba != ba || "number" !== typeof da || da != da || "string" !== typeof ya)throw new Ib(S.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + pa);if(Y < ja)throw new hb(S.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + pa);if(0 > ba || ba > Sb)throw new hb(S.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + pa);if(0 > da || da > Sb)throw new hb(S.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + pa);Ua=new Date(1E3 * ja);Ma=new Date(1E3 * Y);try{Ra=Mb(ya);}catch(Wa){throw new hb(S.MASTERTOKEN_SESSIONDATA_INVALID,ya,Wa);}if(!Ra || 0 == Ra.length)throw new hb(S.MASTERTOKEN_SESSIONDATA_MISSING,ya);fa?aa.decrypt(Ra,{result:function(Wa){Na(U,function(){var ma,za,Ea,Ja,Da,Va;ma=ec(Wa,Tb);try{za=JSON.parse(ma);Ea=za.issuerdata;Ja=za.identity;Da=za.encryptionkey;Va=za.hmackey;}catch(Ia){if(Ia instanceof SyntaxError)throw new Ib(S.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + ma,Ia);throw Ia;}if(Ea && "object" !== typeof Ea || !Ja || "string" !== typeof Da || "string" !== typeof Va)throw new Ib(S.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + ma);tc(Da,oc,Dc,{result:function(Ia){tc(Va,pc,Mc,{result:function($a){Na(U,function(){var db;db=new ca(Wa,wa,sa,fa);new ic(W,Ua,Ma,ba,da,Ea,Ja,Ia,$a,db,U);});},error:function($a){U.error(new yb(S.MASTERTOKEN_KEY_CREATION_ERROR,$a));}});},error:function(Ia){U.error(new yb(S.MASTERTOKEN_KEY_CREATION_ERROR,Ia));}});});},error:function(Wa){U.error(Wa);}}):(ja=new ca(null,wa,sa,fa),new ic(W,Ua,Ma,ba,da,null,null,null,null,ja,U));});},error:function(fa){U.error(fa);}});});};})();(function(){function ca(W,T,U){this.tokendata=W;this.signature=T;this.verified=U;}Tc=Hb.Class.create({init:function(W,T,U,aa,V,ea,wa,sa,fa){var pa;pa=this;Na(fa,function(){var Aa,ja,Y,ba,da,ya,Ua;if(U.getTime() < T.getTime())throw new Bb("Cannot construct a user ID token that expires before its renewal window opens.");if(!aa)throw new Bb("Cannot construct a user ID token without a master token.");if(0 > V || V > Sb)throw new Bb("Serial number " + V + " is outside the valid range.");Aa=Math.floor(T.getTime() / 1E3);ja=Math.floor(U.getTime() / 1E3);Y=aa.serialNumber;if(sa){ba=sa.tokendata;da=sa.signature;ya=sa.verified;Y=aa.serialNumber;Object.defineProperties(this,{ctx:{value:W,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Aa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ja,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:Y,writable:!1,configurable:!1},serialNumber:{value:V,writable:!1,configurable:!1},issuerData:{value:ea,writable:!1,configurable:!1},customer:{value:wa,writable:!1,configurable:!1},verified:{value:ya,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ba,writable:!1,enumerable:!1,configurable:!1},signature:{value:da,writable:!1,enumerable:!1,configurable:!1}});return this;}ba={};ea && (ba.issuerdata=ea);ba.identity=wa;ba=fc(JSON.stringify(ba),Tb);Ua=W.getMslCryptoContext();Ua.encrypt(ba,{result:function(Ma){Na(fa,function(){var Ra,Wa;Ra={};Ra.renewalwindow=Aa;Ra.expiration=ja;Ra.mtserialnumber=Y;Ra.serialnumber=V;Ra.userdata=Lb(Ma);Wa=fc(JSON.stringify(Ra),Tb);Ua.sign(Wa,{result:function(ma){Na(fa,function(){Object.defineProperties(this,{ctx:{value:W,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Aa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ja,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:aa.serialNumber,writable:!1,configurable:!1},serialNumber:{value:V,writable:!1,configurable:!1},issuerData:{value:ea,writable:!1,configurable:!1},customer:{value:wa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Wa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ma,writable:!1,enumerable:!1,configurable:!1}});return this;},pa);},error:function(ma){Na(fa,function(){ma instanceof hb && ma.setEntity(aa);throw ma;},pa);}});},pa);},error:function(Ma){Na(fa,function(){Ma instanceof hb && Ma.setEntity(aa);throw Ma;},pa);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(W){return W && W.serialNumber == this.mtSerialNumber;},toJSON:function(){var W;W={};W.tokendata=Lb(this.tokendata);W.signature=Lb(this.signature);return W;},equals:function(W){return this === W?!0:W instanceof Tc?this.serialNumber == W.serialNumber && this.mtSerialNumber == W.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});vd=function(W,T,U,aa){Na(aa,function(){var V,ea,wa,sa,fa;V=W.getMslCryptoContext();ea=T.tokendata;wa=T.signature;if("string" !== typeof ea || "string" !== typeof wa)throw new Ib(S.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(T)).setEntity(U);try{sa=Mb(ea);}catch(pa){throw new hb(S.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(T),pa).setEntity(U);}if(!sa || 0 == sa.length)throw new Ib(S.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(T)).setEntity(U);try{fa=Mb(wa);}catch(pa){throw new hb(S.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(T),pa).setEntity(U);}V.verify(sa,fa,{result:function(pa){Na(aa,function(){var Aa,ja,Y,ba,da,ya,Ua,Ma,Ra,Wa;Aa=ec(sa,Tb);try{ja=JSON.parse(Aa);Y=parseInt(ja.renewalwindow);ba=parseInt(ja.expiration);da=parseInt(ja.mtserialnumber);ya=parseInt(ja.serialnumber);Ua=ja.userdata;}catch(ma){if(ma instanceof SyntaxError)throw new Ib(S.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + Aa,ma).setEntity(U);throw ma;}if(!Y || Y != Y || !ba || ba != ba || "number" !== typeof da || da != da || "number" !== typeof ya || ya != ya || "string" !== typeof Ua)throw new Ib(S.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + Aa).setEntity(U);if(ba < Y)throw new hb(S.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + Aa).setEntity(U);if(0 > da || da > Sb)throw new hb(S.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + Aa).setEntity(U);if(0 > ya || ya > Sb)throw new hb(S.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + Aa).setEntity(U);Ma=new Date(1E3 * Y);Ra=new Date(1E3 * ba);if(!U || da != U.serialNumber)throw new hb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + da + "; mt " + JSON.stringify(U)).setEntity(U);try{Wa=Mb(Ua);}catch(ma){throw new hb(S.USERIDTOKEN_USERDATA_INVALID,Ua,ma).setEntity(U);}if(!Wa || 0 == Wa.length)throw new hb(S.USERIDTOKEN_USERDATA_MISSING,Ua).setEntity(U);pa?V.decrypt(Wa,{result:function(ma){Na(aa,function(){var za,Ea,Ja,Da,Va;za=ec(ma,Tb);try{Ea=JSON.parse(za);Ja=Ea.issuerdata;Da=Ea.identity;}catch(Ia){if(Ia instanceof SyntaxError)throw new Ib(S.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + za).setEntity(U);throw Ia;}if(Ja && "object" !== typeof Ja || "object" !== typeof Da)throw new Ib(S.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + za).setEntity(U);try{Va=af(Da);}catch(Ia){throw new hb(S.USERIDTOKEN_IDENTITY_INVALID,"userdata " + za,Ia).setEntity(U);}Da=new ca(sa,fa,pa);new Tc(W,Ma,Ra,U,ya,Ja,Va,Da,aa);});},error:function(ma){Na(aa,function(){ma instanceof hb && ma.setEntity(U);throw ma;});}}):(Y=new ca(sa,fa,pa),new Tc(W,Ma,Ra,U,ya,null,null,Y,aa));});},error:function(pa){Na(aa,function(){pa instanceof hb && pa.setEntity(U);throw pa;});}});});};})();(function(){function ca(T,U){var aa,V,ea;aa=T.tokendata;if("string" !== typeof aa)throw new Ib(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(T));try{V=Mb(aa);}catch(wa){throw new hb(S.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(T),wa);}if(!V || 0 == V.length)throw new Ib(S.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(T));try{ea=JSON.parse(ec(V,Tb)).name;}catch(wa){if(wa instanceof SyntaxError)throw new Ib(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(T),wa);throw wa;}if(!ea)throw new Ib(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(T));return U[ea]?U[ea]:U[""];}function W(T,U,aa){this.tokendata=T;this.signature=U;this.verified=aa;}Fc=Hb.Class.create({init:function(T,U,aa,V,ea,wa,sa,fa,pa,Aa){var ja;ja=this;Na(Aa,function(){var Y,ba,da,ya,Ua;if(V && ea && !ea.isBoundTo(V))throw new Bb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");Y=V?V.serialNumber:-1;ba=ea?ea.serialNumber:-1;if(pa)return (Ua=pa.tokendata,Object.defineProperties(this,{ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},name:{value:U,writable:!1,configurable:!1},mtSerialNumber:{value:Y,writable:!1,configurable:!1},uitSerialNumber:{value:ba,writable:!1,configurable:!1},data:{value:aa,writable:!1,configurable:!1},encrypted:{value:wa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:sa,writable:!1,configurable:!1},verified:{value:pa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ua,writable:!1,enumerable:!1,configurable:!1},signature:{value:pa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(sa){da=Wd(sa,aa);da.length < aa.length || (sa=null,da=aa);}else (sa=null,da=aa);ya={};ya.name=U;-1 != Y && (ya.mtserialnumber=Y);-1 != ba && (ya.uitserialnumber=ba);ya.encrypted=wa;sa && (ya.compressionalgo=sa);if(wa && 0 < da.length)fa.encrypt(da,{result:function(Ma){Na(Aa,function(){var Ra;ya.servicedata=Lb(Ma);Ra=fc(JSON.stringify(ya),Tb);fa.sign(Ra,{result:function(Wa){Na(Aa,function(){Object.defineProperties(this,{ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},name:{value:U,writable:!1,configurable:!1},mtSerialNumber:{value:Y,writable:!1,configurable:!1},uitSerialNumber:{value:ba,writable:!1,configurable:!1},data:{value:aa,writable:!1,configurable:!1},encrypted:{value:wa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:sa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:Wa,writable:!1,enumerable:!1,configurable:!1}});return this;},ja);},error:function(Wa){Na(Aa,function(){Wa instanceof hb && (Wa.setEntity(V),Wa.setUser(ea));throw Wa;});}});},ja);},error:function(Ma){Na(Aa,function(){Ma instanceof hb && (Ma.setEntity(V),Ma.setUser(ea));throw Ma;});}});else {ya.servicedata=Lb(da);Ua=fc(JSON.stringify(ya),Tb);fa.sign(Ua,{result:function(Ma){Na(Aa,function(){Object.defineProperties(this,{ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},name:{value:U,writable:!1,configurable:!1},mtSerialNumber:{value:Y,writable:!1,configurable:!1},uitSerialNumber:{value:ba,writable:!1,configurable:!1},data:{value:aa,writable:!1,configurable:!1},encrypted:{value:wa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:sa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ua,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});return this;},ja);},error:function(Ma){Na(Aa,function(){Ma instanceof hb && (Ma.setEntity(V),Ma.setUser(ea));throw Ma;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(T){return T?T instanceof ic?T.serialNumber == this.mtSerialNumber:T instanceof Tc?T.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var T;T={};T.tokendata=Lb(this.tokendata);T.signature=Lb(this.signature);return T;},equals:function(T){return this === T?!0:T instanceof Fc?this.name == T.name && this.mtSerialNumber == T.mtSerialNumber && this.uitSerialNumber == T.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});zc=function(T,U,aa,V,ea,wa,sa,fa,pa){new Fc(T,U,aa,V,ea,wa,sa,fa,null,pa);};wd=function(T,U,aa,V,ea,wa){Na(wa,function(){var sa,fa,pa,Aa,ja,Y,ba,da,ya,Ua,Ma,Ra,Wa;!ea || ea instanceof Uc || (ea=ca(U,ea));sa=U.tokendata;fa=U.signature;if("string" !== typeof sa || "string" !== typeof fa)throw new Ib(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(U)).setEntity(aa).setEntity(V);try{pa=Mb(sa);}catch(ma){throw new hb(S.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(U),ma).setEntity(aa).setEntity(V);}if(!pa || 0 == pa.length)throw new Ib(S.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(U)).setEntity(aa).setEntity(V);try{Aa=Mb(fa);}catch(ma){throw new hb(S.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(U),ma).setEntity(aa).setEntity(V);}ja=ec(pa,Tb);try{Y=JSON.parse(ja);ba=Y.name;da=Y.mtserialnumber?parseInt(Y.mtserialnumber):-1;ya=Y.uitserialnumber?parseInt(Y.uitserialnumber):-1;Ua=Y.encrypted;Ma=Y.compressionalgo;Ra=Y.servicedata;}catch(ma){if(ma instanceof SyntaxError)throw new Ib(S.JSON_PARSE_ERROR,"servicetokendata " + ja,ma).setEntity(aa).setEntity(V);throw ma;}if(!ba || "number" !== typeof da || da != da || "number" !== typeof ya || ya != ya || "boolean" !== typeof Ua || Ma && "string" !== typeof Ma || "string" !== typeof Ra)throw new Ib(S.JSON_PARSE_ERROR,"servicetokendata " + ja).setEntity(aa).setEntity(V);if(Y.mtserialnumber && 0 > da || da > Sb)throw new hb(S.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ja).setEntity(aa).setEntity(V);if(Y.uitserialnumber && 0 > ya || ya > Sb)throw new hb(S.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ja).setEntity(aa).setEntity(V);if(-1 != da && (!aa || da != aa.serialNumber))throw new hb(S.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + da + "; mt " + aa).setEntity(aa).setEntity(V);if(-1 != ya && (!V || ya != V.serialNumber))throw new hb(S.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + ya + "; uit " + V).setEntity(aa).setEntity(V);Ua=!0 === Ua;if(Ma){if(!Kc[Ma])throw new hb(S.UNIDENTIFIED_COMPRESSION,Ma);Wa=Ma;}else Wa=null;ea?ea.verify(pa,Aa,{result:function(ma){Na(wa,function(){var za,Ea;if(ma){try{za=Mb(Ra);}catch(Ja){throw new hb(S.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ja,Ja).setEntity(aa).setEntity(V);}if(!za || 0 != Ra.length && 0 == za.length)throw new hb(S.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ja).setEntity(aa).setEntity(V);if(Ua && 0 < za.length)ea.decrypt(za,{result:function(Ja){Na(wa,function(){var Da,Va;Da=Wa?xd(Wa,Ja):Ja;Va=new W(pa,Aa,ma);new Fc(T,ba,Da,-1 != da?aa:null,-1 != ya?V:null,Ua,Wa,ea,Va,wa);});},error:function(Ja){Na(wa,function(){Ja instanceof hb && (Ja.setEntity(aa),Ja.setUser(V));throw Ja;});}});else {za=Wa?xd(Wa,za):za;Ea=new W(pa,Aa,ma);new Fc(T,ba,za,-1 != da?aa:null,-1 != ya?V:null,Ua,Wa,ea,Ea,wa);}}else (za="" == Ra?new Uint8Array(0):null,Ea=new W(pa,Aa,ma),new Fc(T,ba,za,-1 != da?aa:null,-1 != ya?V:null,Ua,Wa,ea,Ea,wa));});},error:function(ma){Na(wa,function(){ma instanceof hb && (ma.setEntity(aa),ma.setUser(V));throw ma;});}}):(sa="" == Ra?new Uint8Array(0):null,fa=new W(pa,Aa,!1),new Fc(T,ba,sa,-1 != da?aa:null,-1 != ya?V:null,Ua,Wa,ea,fa,wa));});};})();Gc={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(Gc);(function(){$c=Hb.Class.create({init:function(ca){Object.defineProperties(this,{scheme:{value:ca,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(ca){return this === ca?!0:ca instanceof $c?this.scheme == ca.scheme:!1;},toJSON:function(){var ca;ca={};ca.scheme=this.scheme;ca.authdata=this.getAuthData();return ca;}});Qe=function(ca,W,T,U){Na(U,function(){var aa,V,ea;aa=T.scheme;V=T.authdata;if(!aa || !V)throw new Ib(S.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(T));if(!Gc[aa])throw new Cc(S.UNIDENTIFIED_USERAUTH_SCHEME,aa);ea=ca.getUserAuthenticationFactory(aa);if(!ea)throw new Cc(S.USERAUTH_FACTORY_NOT_FOUND,aa);ea.createData(ca,W,V,U);});};})();bf=Hb.Class.create({init:function(ca){Object.defineProperties(this,{scheme:{value:ca,writable:!1,configurable:!1}});},createData:function(ca,W,T,U){},authenticate:function(ca,W,T,U){}});(function(){hd=$c.extend({init:function U(W,T){U.base.call(this,Gc.NETFLIXID);Object.defineProperties(this,{netflixId:{value:W,writable:!1,configurable:!1},secureNetflixId:{value:T,writable:!1,configurable:!1}});},getAuthData:function(){var W;W={};W.netflixid=this.netflixId;this.secureNetflixId && (W.securenetflixid=this.secureNetflixId);return W;},equals:function U(T){return this === T?!0:T instanceof hd?U.base.call(this,T) && this.netflixId == T.netflixId && this.secureNetflixId == T.secureNetflixId:!1;}});cf=function(T){var U,aa;U=T.netflixid;aa=T.securenetflixid;if(!U)throw new Ib(S.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(T));return new hd(U,aa);};})();Df=bf.extend({init:function W(){W.base.call(this,Gc.NETFLIXID);},createData:function(W,T,U,aa){Na(aa,function(){return cf(U);});},authenticate:function(W,T,U,aa){if(!(U instanceof hd))throw new Bb("Incorrect authentication data type " + U + ".");W=U.secureNetflixId;if(!U.netflixId || !W)throw new Cc(S.NETFLIXID_COOKIES_BLANK).setUser(U);throw new Cc(S.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(U);}});(function(){id=$c.extend({init:function aa(T,U){aa.base.call(this,Gc.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:T,writable:!1,configurable:!1},password:{value:U,writable:!1,configurable:!1}});},getAuthData:function(){var T;T={};T.email=this.email;T.password=this.password;return T;},equals:function aa(U){return this === U?!0:U instanceof id?aa.base.call(this,this,U) && this.email == U.email && this.password == U.password:!1;}});df=function(U){var aa,V;aa=U.email;V=U.password;if(!aa || !V)throw new Ib(S.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(U));return new id(aa,V);};})();Ef=bf.extend({init:function T(){T.base.call(this,Gc.EMAIL_PASSWORD);},createData:function(T,U,aa,V){Na(V,function(){return df(aa);});},authenticate:function(T,U,aa,V){if(!(aa instanceof id))throw new Bb("Incorrect authentication data type " + aa + ".");T=aa.password;if(!aa.email || !T)throw new Cc(S.EMAILPASSWORD_BLANK).setUser(aa);throw new Cc(S.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(aa);}});Object.freeze({ENTITY_REAUTH:Ga.ENTITY_REAUTH,ENTITYDATA_REAUTH:Ga.ENTITYDATA_REAUTH});Ff=Hb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(T,U){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(T){},getUserAuthenticationFactory:function(T){},getTokenFactory:function(){},getKeyExchangeFactory:function(T){},getKeyExchangeFactories:function(){},getMslStore:function(){}});ef=Hb.Class.create({setCryptoContext:function(T,U){},getMasterToken:function(){},getNonReplayableId:function(T){},getCryptoContext:function(T){},removeCryptoContext:function(T){},clearCryptoContexts:function(){},addUserIdToken:function(T,U){},getUserIdToken:function(T){},removeUserIdToken:function(T){},clearUserIdTokens:function(){},addServiceTokens:function(T){},getServiceTokens:function(T,U){},removeServiceTokens:function(T,U,aa){},clearServiceTokens:function(){}});(function(){var T;T=Kc;Wd=function(U,aa){var V;V={};switch(U){case T.LZW:return ke(aa,V);case T.GZIP:return gzip$compress(aa);default:throw new hb(S.UNSUPPORTED_COMPRESSION,U);}};xd=function(U,aa,V){switch(U){case T.LZW:return le(aa);case T.GZIP:return gzip$uncompress(aa);default:throw new hb(S.UNSUPPORTED_COMPRESSION,U.name());}};})();ef.extend({setCryptoContext:function(T,U){},getMasterToken:function(){return null;},getNonReplayableId:function(T){return 1;},getCryptoContext:function(T){return null;},removeCryptoContext:function(T){},clearCryptoContexts:function(){},addUserIdToken:function(T,U){},getUserIdToken:function(T){return null;},removeUserIdToken:function(T){},clearUserIdTokens:function(){},addServiceTokens:function(T){},getServiceTokens:function(T,U){if(U){if(!T)throw new hb(S.USERIDTOKEN_MASTERTOKEN_NULL);if(!U.isBoundTo(T))throw new hb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + U.mtSerialNumber + "; mt " + T.serialNumber);}return [];},removeServiceTokens:function(T,U,aa){if(aa && U && !aa.isBoundTo(U))throw new hb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + aa.masterTokenSerialNumber + "; mt " + U.serialNumber);},clearServiceTokens:function(){}});(function(){ff=ef.extend({init:function U(){U.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(U,aa){var V;if(aa){V=U.uniqueKey();this.masterTokens[V]=U;this.cryptoContexts[V]=aa;}else this.removeCryptoContext(U);},getMasterToken:function(){var U,aa,V;U=null;for(aa in this.masterTokens){V=this.masterTokens[aa];if(!U || V.isNewerThan(U))U=V;}return U;},getNonReplayableId:function(U){var aa;U=U.serialNumber;aa=this.nonReplayableIds[U] !== Gb?this.nonReplayableIds[U]:0;if(0 > aa || aa > Sb)throw new Bb("Non-replayable ID " + aa + " is outside the valid range.");aa=aa == Sb?0:aa + 1;return this.nonReplayableIds[U]=aa;},getCryptoContext:function(U){return this.cryptoContexts[U.uniqueKey()];},removeCryptoContext:function(U){var aa,V,ea,wa;aa=U.uniqueKey();if(this.masterTokens[aa]){V=U.serialNumber;for(ea in this.masterTokens){wa=this.masterTokens[ea];if(!wa.equals(U) && wa.serialNumber == V){delete this.masterTokens[aa];delete this.cryptoContexts[aa];return;}}Object.keys(this.userIdTokens).forEach(function(sa){sa=this.userIdTokens[sa];sa.isBoundTo(U) && this.removeUserIdToken(sa);},this);try{this.removeServiceTokens(null,U,null);}catch(sa){if(sa instanceof hb)throw new Bb("Unexpected exception while removing master token bound service tokens.",sa);throw sa;}delete this.nonReplayableIds[V];delete this.masterTokens[aa];delete this.cryptoContexts[aa];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(U){for(var aa in U){delete U[aa];}},this);},addUserIdToken:function(U,aa){var V,ea;V=!1;for(ea in this.masterTokens){if(aa.isBoundTo(this.masterTokens[ea])){V=!0;break;}}if(!V)throw new hb(S.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + aa.mtSerialNumber);this.userIdTokens[U]=aa;},getUserIdToken:function(U){return this.userIdTokens[U];},removeUserIdToken:function(U){var aa,V,ea;aa=null;for(V in this.masterTokens){ea=this.masterTokens[V];if(U.isBoundTo(ea)){aa=ea;break;}}Object.keys(this.userIdTokens).forEach(function(wa){if(this.userIdTokens[wa].equals(U)){try{this.removeServiceTokens(null,aa,U);}catch(sa){if(sa instanceof hb)throw new Bb("Unexpected exception while removing user ID token bound service tokens.",sa);throw sa;}delete this.userIdTokens[wa];}},this);},clearUserIdTokens:function(){for(var U in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[U]);}},addServiceTokens:function(U){U.forEach(function(aa){var V,ea;if(aa.isMasterTokenBound()){V=!1;for(ea in this.masterTokens){if(aa.isBoundTo(this.masterTokens[ea])){V=!0;break;}}if(!V)throw new hb(S.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + aa.mtSerialNumber);}if(aa.isUserIdTokenBound()){V=!1;for(var wa in this.userIdTokens){if(aa.isBoundTo(this.userIdTokens[wa])){V=!0;break;}}if(!V)throw new hb(S.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + aa.uitSerialNumber);}},this);U.forEach(function(aa){var V;if(aa.isUnbound())this.unboundServiceTokens[aa.uniqueKey()]=aa;else {if(aa.isMasterTokenBound()){V=this.mtServiceTokens[aa.mtSerialNumber];V || (V={});V[aa.uniqueKey()]=aa;this.mtServiceTokens[aa.mtSerialNumber]=V;}aa.isUserIdTokenBound() && ((V=this.uitServiceTokens[aa.uitSerialNumber]) || (V={}),V[aa.uniqueKey()]=aa,this.uitServiceTokens[aa.uitSerialNumber]=V);}},this);},getServiceTokens:function(U,aa){var V,ea,wa;if(aa){if(!U)throw new hb(S.USERIDTOKEN_MASTERTOKEN_NULL);if(!aa.isBoundTo(U))throw new hb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + aa.mtSerialNumber + "; mt " + U.serialNumber);}V={};for(ea in this.unboundServiceTokens){wa=this.unboundServiceTokens[ea];V[wa.uniqueKey()]=wa;}if(U && (ea=this.mtServiceTokens[U.serialNumber]))for(var sa in ea){wa=ea[sa];wa.isUserIdTokenBound() || (V[sa]=wa);}if(aa && (aa=this.uitServiceTokens[aa.serialNumber]))for(var fa in aa){sa=aa[fa];sa.isBoundTo(U) && (V[fa]=sa);}U=[];for(var pa in V){U.push(V[pa]);}return U;},removeServiceTokens:function(U,aa,V){var ea,wa,sa;if(V && aa && !V.isBoundTo(aa))throw new hb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + V.mtSerialNumber + "; mt " + aa.serialNumber);!U || aa || V || Object.keys(this.unboundServiceTokens).forEach(function(fa){this.unboundServiceTokens[fa].name == U && delete this.unboundServiceTokens[fa];},this);if(aa && !V && (ea=this.mtServiceTokens[aa.serialNumber])){sa=Object.keys(ea);sa.forEach(function(fa){var pa;pa=ea[fa];U && pa.name != U || delete ea[fa];},this);this.mtServiceTokens[aa.serialNumber]=ea;}V && (wa=this.uitServiceTokens[V.serialNumber]) && (aa=Object.keys(wa),aa.forEach(function(fa){var pa;pa=wa[fa];U && pa.name != U || delete wa[fa];},this),this.uitServiceTokens[V.serialNumber]=wa);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(U){for(var aa in U){delete U[aa];}},this);}});})();Af.extend({init:function U(){U.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(U,aa){aa && U && U.length && (U=Lb(U),this._contextMap[U]=aa);},getCryptoContext:function(U){return U && U.length?(U=Lb(U),this._contextMap[U] || null):null;},removeCryptoContext:function(U){U && U.length && (U=Lb(U),delete this._contextMap[U]);}});sf.extend({init:function sa(aa,V,ea,wa){sa.base.call(this,aa);Object.defineProperties(this,{_kde:{value:V,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:ea,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:wa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(aa,V){if(!(V instanceof xc))throw new Bb("Incorrect authentication data type " + JSON.stringify(V) + ".");if(V.identity != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"mgk " + V.identity);return new rd(aa,this.localIdentity,this._kde,this._kdh,this._kdw);}});tf.extend({init:function fa(V,ea,wa,sa){fa.base.call(this,V);Object.defineProperties(this,{_kpe:{value:ea,writable:!1,enumerable:!1,configurable:!1},_kph:{value:wa,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:sa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(V,ea){if(!(ea instanceof yc))throw new Bb("Incorrect authentication data type " + JSON.stringify(ea) + ".");if(ea.identity != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"psk " + ea.identity);return new rd(V,this.localIdentity,this._kpe,this._kph,this._kpw);}});Hf=ff.extend({init:function ja(ea,wa,sa,fa,pa,Aa){ja.base.call(this);this._log=ea;this._esn=wa;this._keyRequestData=sa;this._createKeyRequestData=fa;this._systemKeyName=pa;this._systemKeyWrapFormat=Aa;},setCryptoContext:function pa(wa,sa,fa){var Aa;Aa=this;Aa._log.trace("Adding MasterToken",{SequenceNumber:wa.sequenceNumber,SerialNumber:wa.serialNumber,Expiration:wa.expiration.getTime()});pa.base.call(this,wa,sa);!fa && (wa=Aa._createKeyRequestData) && (Aa._log.trace("Generating new keyx request data"),wa().then(function(ja){Aa._keyRequestData=ja;},function(ja){Aa._log.error("Unable to generate new keyx request data","" + ja);}));},addUserIdToken:function pa(sa,fa){this._log.trace("Adding UserIdToken",{UserId:sa,SerialNumber:fa.serialNumber,MTSerialNumber:fa.mtSerialNumber,Expiration:fa.expiration.getTime()});pa.base.call(this,sa,fa);},addServiceTokens:function pa(fa){pa.base.call(this,fa.filter(function(Aa){return !Gf[Aa.name];}));},getUserIdTokenKeys:function(){var fa,pa;fa=[];for(pa in this.userIdTokens){fa.push(pa);}return fa;},rekeyUserIdToken:function(fa,pa){this.userIdTokens[fa] && (this.userIdTokens[pa]=this.userIdTokens[fa],delete this.userIdTokens[fa]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(fa){var pa;pa=this;Na(fa,function(){var Aa;Aa=pa.getMasterToken();Aa?pa.getKeysForStore(Aa,{result:function(ja){Na(fa,function(){var Y,ba,da;Y=pa.userIdTokens;ba=Object.keys(Y).map(function(ya){var Ua;Ua=Y[ya];return {userId:ya,userIdTokenJSON:Y[ya].toJSON(),serviceTokenJSONList:pa.getServiceTokens(Aa,Ua).map(mf)};});ja.esn=pa._esn;ja.masterTokenJSON=Aa.toJSON();ja.userList=ba;da=pa._keyRequestData.storeData;da && Object.keys(da).forEach(function(ya){ja[ya]=da[ya];});return ja;});},timeout:fa.timeout,error:fa.error}):fa.result(null);});},getKeysForStore:function(fa,pa){var Aa;Aa=this;Na(pa,function(){var ja;ja=Aa.getCryptoContext(fa);ja={encryptionKey:ja.encryptionKey,hmacKey:ja.hmacKey};if(ja.encryptionKey && ja.hmacKey){if(Aa._systemKeyWrapFormat)Aa.wrapKeysWithSystemKey(ja,pa);else return ja;}else throw new hb(S.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(fa,pa){var Aa;Aa=this;ee(this._systemKeyName,{result:function(ja){Na(pa,function(){var Y,ba,da,ya;Y=fa.encryptionKey;ba=fa.hmacKey;da=Y[Xc];ya=ba[Xc];if(da && ya)return {wrappedEncryptionKey:da,wrappedHmacKey:ya};Promise.resolve().then(function(){return Promise.all([Rb.wrapKey(Aa._systemKeyWrapFormat,Y,ja,ja.algorithm),Rb.wrapKey(Aa._systemKeyWrapFormat,ba,ja,ja.algorithm)]);}).then(function(Ua){da=Lb(Ua[0]);Y[Xc]=da;ya=Lb(Ua[1]);ba[Xc]=ya;pa.result({wrappedEncryptionKey:da,wrappedHmacKey:ya});}).catch(function(Ua){pa.error(new hb(S.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Ua));});});},timeout:pa.timeout,error:pa.error});},unwrapKeysWithSystemKey:function(fa,pa){var Aa;Aa=this;ee(this._systemKeyName,{result:function(ja){Na(pa,function(){var Y,ba;Y=Mb(fa.wrappedEncryptionKey);ba=Mb(fa.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Rb.unwrapKey(Aa._systemKeyWrapFormat,Y,ja,ja.algorithm,oc,!1,Dc),Rb.unwrapKey(Aa._systemKeyWrapFormat,ba,ja,ja.algorithm,pc,!1,Mc)]);}).then(function(da){var ya;ya=da[0];da=da[1];ya[Xc]=fa.wrappedEncryptionKey;da[Xc]=fa.wrappedHmacKey;pa.result({encryptionKey:ya,hmacKey:da});}).catch(function(da){pa.error(new hb(S.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",da));});});},timeout:pa.timeout,error:pa.error});},loadStoreState:function(fa,pa,Aa,ja){var da,ya;function Y(Ua,Ma){var Ra;try{Ra=Aa.userList.slice();}catch(Wa){}Ra?(function ma(){var za;za=Ra.shift();za?vd(pa,za.userIdTokenJSON,Ua,{result:function(Ea){try{da.addUserIdToken(za.userId,Ea);ba(Ua,Ea,za.serviceTokenJSONList,{result:ma,timeout:ma,error:ma});}catch(Ja){ma();}},timeout:ma,error:ma}):Ma.result();})():Ma.result();}function ba(Ua,Ma,Ra,Wa){var ma,za;try{ma=Ra.slice();}catch(Ea){}if(ma){za=da.getCryptoContext(Ua);(function Ja(){var Da;Da=ma.shift();Da?wd(pa,Da,Ua,Ma,za,{result:function(Va){da.addServiceTokens([Va]);Ja();},timeout:function(){Ja();},error:function(){Ja();}}):Wa.result();})();}else Wa.result();}da=this;ya=da._log;Aa.esn != da._esn?(ya.error("Esn mismatch, starting fresh"),ja.error()):(function(Ua){var Wa,ma,za,Ea;function Ma(){var Ja;if(!Wa && ma && za && Ea){Wa=!0;Ja=new lc(pa,ma,fa.esn,{rawKey:za},{rawKey:Ea});da.setCryptoContext(ma,Ja,!0);Ua.result(ma);}}function Ra(Ja,Da){ya.error(Ja,Da && "" + Da);Wa || (Wa=!0,Ua.error());}Aa.masterTokenJSON?(ed(pa,Aa.masterTokenJSON,{result:function(Ja){ma=Ja;Ma();},timeout:function(){Ra("Timeout parsing MasterToken");},error:function(Ja){Ra("Error parsing MasterToken",Ja);}}),da._systemKeyWrapFormat?da.unwrapKeysWithSystemKey(Aa,{result:function(Ja){za=Ja.encryptionKey;Ea=Ja.hmacKey;Ma();},timeout:function(){Ra("Timeout unwrapping keys");},error:function(Ja){Ra("Error unwrapping keys",Ja);}}):Promise.resolve().then(function(){return Rb.encrypt({name:oc.name,iv:new Uint8Array(16)},Aa.encryptionKey,new Uint8Array(1));}).then(function(Ja){za=Aa.encryptionKey;}).catch(function(Ja){Ra("Error loading encryptionKey");}).then(function(){return Rb.sign(pc,Aa.hmacKey,new Uint8Array(1));}).then(function(Ja){Ea=Aa.hmacKey;Ma();}).catch(function(Ja){Ra("Error loading hmacKey");})):Ra("Persisted store is corrupt");})({result:function(Ua){Y(Ua,ja);},timeout:ja.timeout,error:ja.error});}});Gf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Xc="$netflix$msl$wrapsys";If=Ff.extend({init:function(fa,pa,Aa,ja,Y,ba){var da,ya;da=new fd([Kc.LZW]);ya=new vf();ya.addPublicKey(pa,Aa);ja[Wb.RSA]=new uf(ya);pa={};pa[Gc.EMAIL_PASSWORD]=new Ef();pa[Gc.NETFLIXID]=new Df();fa={_mslCryptoContext:{value:new rf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:da,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:Y,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:ja,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:pa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:ba,writable:!1,enumerable:!1,configurable:!1},_store:{value:fa,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,fa);},getTime:function(){return Date.now();},getRandom:function(){return new pe();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(fa,pa){pa.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(fa){return this._entityAuthFactories[fa];},getUserAuthenticationFactory:function(fa){return this._userAuthFactories[fa];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(fa){return this._keyExchangeFactories.filter(function(pa){return pa.scheme == fa;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});ge=Ze.extend({init:function(fa,pa,Aa,ja){this._log=fa;this._mslContext=pa;this._mslRequest=Aa;this._keyRequestData=ja;},getCryptoContexts:function(){return {};},isEncrypted:function(){return !!this._mslRequest.encrypted;},isNonReplayable:function(){return !!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(fa,pa,Aa,ja){var Y;Y=this._mslRequest;Na(ja,function(){return fa || !Y.shouldSendUserAuthData?null:Y.email?new id(Y.email,Y.password):Y.useNetflixUserAuthData || Aa && Y.sendUserAuthIfRequired?new hd():null;});},getCustomer:function(){return null;},getKeyRequestData:function(fa){fa.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(fa,pa,Aa){var ja,Y,ba,da,ya,Ua;ja=this._log;Y=(this._mslRequest.serviceTokens || []).slice();ba=this._mslContext;pa=ba.getMslStore();da=fa.builder.getMasterToken();ya=this.getUserId();Ua=pa.getUserIdToken(ya);(function Ra(){var Wa;Wa=Y.shift();if(Wa)try{Wa instanceof Fc?(fa.addPrimaryServiceToken(Wa),Ra()):wd(ba,Wa,da,Ua,null,{result:function(ma){try{fa.addPrimaryServiceToken(ma);}catch(za){ja.warn("Exception adding service token","" + za);}Ra();},timeout:function(){ja.warn("Timeout parsing service token");Ra();},error:function(ma){ja.warn("Error parsing service token","" + ma);Ra();}});}catch(ma){ja.warn("Exception processing service token","" + ma);Ra();}else Aa.result(!0);})();},write:function(fa,pa,Aa){var ja;ja=fc(this._mslRequest.body);fa.write(ja,0,ja.length,pa,{result:function(Y){Y != ja.length?Aa.error(new Yb("Not all data was written to output.")):fa.flush(pa,{result:function(){Aa.result(!0);},timeout:function(){Aa.timeout();},error:function(ba){Aa.error(ba);}});},timeout:function(){Aa.timeout();},error:function(Y){Aa.error(Y);}});},getDebugContext:function(){this._dc || (this._dc=new Jf(this._log,this._mslRequest));return this._dc;}});Jf=Cf.extend({init:function(fa,pa){this._log=fa;this._mslRequest=pa;},sentHeader:function(fa){this._log.trace("Sent MSL header",fe(this._mslRequest,fa),fa.serviceTokens && fa.serviceTokens.map(nf).join("\n"));},receivedHeader:function(fa){var pa,Aa;pa=fe(this._mslRequest,fa);Aa=fa.errorCode;Aa?this._log.warn("Received MSL error header",pa,{errorCode:Aa,errorMessage:fa.errorMessage,internalCode:fa.internalCode}):this._log.trace("Received MSL header",pa);}});Kf={JWK_RSA:function(fa){return pf(fa,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Ee.JWK_RSA);}};ob.netflix=ob.netflix || ({});ob.netflix.msl={createMslClient:function(fa,pa){var Aa,ja,Y,ba,da;Aa=fa.log;da=fa.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Vb && Vb.generateKey && Vb.importKey && Vb.unwrapKey))throw new hb(S.INTERNAL_EXCEPTION,"No WebCrypto");dc=Vb.generateKey({name:"AES-CBC",length:128},!0,Dc).then?md.V2014_02:md.LEGACY;da("mslisik");return Rb.importKey("spki",fa.serverIdentityKeyData,qe,!1,["verify"]);}).then(function(ya){return new Promise(function(Ua,Ma){Jc(ya,{result:Ua,error:function(){Ma(new hb(S.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(ya){ja=ya;if(ya=Kf.JWK_RSA)return (da("mslcc"),ya(fa));throw new hb(S.INTERNAL_EXCEPTION,"Invalid authenticationType: JWK_RSA");}).then(function(ya){var Ua;Y=new Hf(Aa,fa.esn,ya.keyRequestData,ya.createKeyRequestData,fa.authenticationKeyNames.s,fa.systemKeyWrapFormat);ba=new If(Y,fa.serverIdentityId,ja,ya.entityAuthFactories,ya.entityAuthData,ya.keyExchangeFactories);Ua=fa.storeState;if(Ua)return (da("mslss"),Aa.info("Loading store state"),new Promise(function(Ma,Ra){Y.loadStoreState(fa,ba,Ua,{result:Ma,timeout:Ma,error:Ma});}));Aa.info("No store state, starting fresh");}).then(function(){var ya;ya=new $e();da("msldone");pa.result(new of(Aa,ya,ba,Y,fa.ErrorSubCodes));}).catch(function(ya){pa.error(ya);});},IHttpLocation:yf,MslIoException:Yb};(function(){var db,Ya,mb,rb,tb,ub,vb,Fb,Eb;function fa(oa){var Fa;Fa=0;return function(){return Fa < oa.length?{done:!1,value:oa[Fa++]}:{done:!0};};}function pa(oa,Fa){var Pa,b;if(Fa)a:{Pa=Ya;oa=oa.split(".");for(var r=0;r < oa.length - 1;r++){b=oa[r];if(!((b in Pa)))break a;Pa=Pa[b];}oa=oa[oa.length - 1];r=Pa[oa];Fa=Fa(r);Fa != r && null != Fa && db(Pa,oa,{configurable:!0,writable:!0,value:Fa});}}function Aa(oa){oa={next:oa};oa[Symbol.iterator]=function(){return this;};return oa;}function ja(oa){var Fa;Fa="undefined" != typeof Symbol && Symbol.iterator && oa[Symbol.iterator];return Fa?Fa.call(oa):{next:fa(oa)};}function Y(oa){for(var Fa,Pa=[];!(Fa=oa.next()).done;){Pa.push(Fa.value);}return Pa;}function ba(oa){return oa instanceof Array?oa:Y(ja(oa));}function da(oa,Fa){var r;oa.prototype=mb(Fa.prototype);oa.prototype.constructor=oa;if(Fb)Fb(oa,Fa);else for(var Pa in Fa){if("prototype" != Pa)if(Object.defineProperties){r=Object.getOwnPropertyDescriptor(Fa,Pa);r && Object.defineProperty(oa,Pa,r);}else oa[Pa]=Fa[Pa];}oa.Sjc=Fa.prototype;}function ya(){this.mV=!1;this.kD=null;this.uZ=void 0;this.Uv=1;this.f_a=this.ika=0;this.PE=null;}function Ua(oa){if(oa.mV)throw new TypeError("Generator is already running");oa.mV=!0;}function Ma(oa,Fa,Pa){oa.Uv=Pa;return {value:Fa};}function Ra(oa){this.Af=new ya();this.$Zb=oa;}function Wa(oa,Fa){var Pa;Ua(oa.Af);Pa=oa.Af.kD;if(Pa)return ma(oa,("return" in Pa)?Pa["return"]:function(r){return {value:r,done:!0};},Fa,oa.Af.return);oa.Af.return(Fa);return za(oa);}function ma(oa,Fa,Pa,r){var b,a;try{b=Fa.call(oa.Af.kD,Pa);if(!(b instanceof Object))throw new TypeError("Iterator result " + b + " is not an object");if(!b.done)return (oa.Af.mV=!1,b);a=b.value;}catch(c){return (oa.Af.kD=null,oa.Af.DY(c),za(oa));}oa.Af.kD=null;r.call(oa.Af,a);return za(oa);}function za(oa){var Fa;for(;oa.Af.Uv;){try{Fa=oa.$Zb(oa.Af);if(Fa)return (oa.Af.mV=!1,{value:Fa.value,done:!1});}catch(Pa){oa.Af.uZ=void 0;oa.Af.DY(Pa);}}oa.Af.mV=!1;if(oa.Af.PE){Fa=oa.Af.PE;oa.Af.PE=null;if(Fa.RPb)throw Fa.GZa;return {value:Fa.return,done:!0};}return {value:void 0,done:!0};}function Ea(oa){this.next=function(Fa){return oa.nW(Fa);};this.throw=function(Fa){return oa.DY(Fa);};this.return=function(Fa){return Wa(oa,Fa);};this[Symbol.iterator]=function(){return this;};}function Ja(oa,Fa){Fa=new Ea(new Ra(Fa));Fb && oa.prototype && Fb(Fa,oa.prototype);return Fa;}function Da(oa,Fa){var Pa,r,b;oa instanceof String && (oa+="");Pa=0;r=!1;b={next:function(){var a;if(!r && Pa < oa.length){a=Pa++;return {value:Fa(a,oa[a]),done:!1};}r=!0;return {done:!0,value:void 0};}};b[Symbol.iterator]=function(){return b;};return b;}function Va(oa,Fa){return Object.prototype.hasOwnProperty.call(oa,Fa);}function Ia(oa,Fa,Pa){var a;oa instanceof String && (oa=String(oa));for(var r=oa.length,b=0;b < r;b++){a=oa[b];if(Fa.call(Pa,a,b,oa))return {q3a:b,Aba:a};}return {q3a:-1,Aba:void 0};}function $a(oa,Fa,Pa){if(null == oa)throw new TypeError("The 'this' value for String.prototype." + Pa + " must not be null or undefined");if(Fa instanceof RegExp)throw new TypeError("First argument to String.prototype." + Pa + " must not be a regular expression");return oa + "";}db="function" == typeof Object.defineProperties?Object.defineProperty:function(oa,Fa,Pa){if(oa == Array.prototype || oa == Object.prototype)return oa;oa[Fa]=Pa.value;return oa;};Ya=(function(oa){var Pa;oa=["object" == typeof globalThis && globalThis,oa,"object" == typeof ob && ob,"object" == typeof self && self,"object" == typeof global && global];for(var Fa=0;Fa < oa.length;++Fa){Pa=oa[Fa];if(Pa && Pa.Math == Math)return Pa;}throw Error("Cannot find global object");})(this);pa("Symbol",function(oa){var r;function Fa(b){if(this instanceof Fa)throw new TypeError("Symbol is not a constructor");return new Pa("jscomp_symbol_" + (b || "") + "_" + r++,b);}function Pa(b,a){this.Shb=b;db(this,"description",{configurable:!0,writable:!0,value:a});}if(oa)return oa;Pa.prototype.toString=function(){return this.Shb;};r=0;return Fa;});pa("Symbol.iterator",function(oa){var r;if(oa)return oa;oa=Symbol("Symbol.iterator");for(var Fa=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),Pa=0;Pa < Fa.length;Pa++){r=Ya[Fa[Pa]];"function" === typeof r && "function" != typeof r.prototype[oa] && db(r.prototype,oa,{configurable:!0,writable:!0,value:function(){return Aa(fa(this));}});}return oa;});mb="function" == typeof Object.create?Object.create:function(oa){function Fa(){}Fa.prototype=oa;return new Fa();};rb=(function(){var Fa;function oa(){function Pa(){}new Pa();Reflect.construct(Pa,[],function(){});return new Pa() instanceof Pa;}if("undefined" != typeof Reflect && Reflect.construct){if(oa())return Reflect.construct;Fa=Reflect.construct;return function(Pa,r,b){Pa=Fa(Pa,r);b && Reflect.setPrototypeOf(Pa,b.prototype);return Pa;};}return function(Pa,r,b){void 0 === b && (b=Pa);b=mb(b.prototype || Object.prototype);return Function.prototype.apply.call(Pa,b,r) || b;};})();if("function" == typeof Object.setPrototypeOf)tb=Object.setPrototypeOf;else {a:{ub={a:!0};vb={};try{vb.__proto__=ub;tb=vb.a;break a;}catch(oa){}tb=!1;}tb=tb?function(oa,Fa){oa.__proto__=Fa;if(oa.__proto__ !== Fa)throw new TypeError(oa + " is not extensible");return oa;}:null;}Fb=tb;ya.prototype.nW=function(oa){this.uZ=oa;};ya.prototype.DY=function(oa){this.PE={GZa:oa,RPb:!0};this.Uv=this.ika || this.f_a;};ya.prototype.return=function(oa){this.PE={return:oa};this.Uv=this.f_a;};Ra.prototype.nW=function(oa){Ua(this.Af);if(this.Af.kD)return ma(this,this.Af.kD.next,oa,this.Af.nW);this.Af.nW(oa);return za(this);};Ra.prototype.DY=function(oa){Ua(this.Af);if(this.Af.kD)return ma(this,this.Af.kD["throw"],oa,this.Af.nW);this.Af.DY(oa);return za(this);};pa("Reflect",function(oa){return oa?oa:{};});pa("Reflect.construct",function(){return rb;});pa("Reflect.setPrototypeOf",function(oa){return oa?oa:Fb?function(Fa,Pa){try{return (Fb(Fa,Pa),!0);}catch(r){return !1;}}:null;});pa("Array.from",function(oa){return oa?oa:function(Fa,Pa,r){var b,a;Pa=null != Pa?Pa:function(l){return l;};b=[];a="undefined" != typeof Symbol && Symbol.iterator && Fa[Symbol.iterator];if("function" == typeof a){Fa=a.call(Fa);for(var c=0;!(a=Fa.next()).done;){b.push(Pa.call(r,a.value,c++));}}else for((a=Fa.length,c=0);c < a;c++){b.push(Pa.call(r,Fa[c],c));}return b;};});pa("Promise",function(oa){var b,a;function Fa(c){var l;this.wO=0;this.GX=void 0;this.iN=[];this.K4a=!1;l=this.pla();try{c(l.resolve,l.reject);}catch(f){l.reject(f);}}function Pa(){this.UA=null;}function r(c){return c instanceof Fa?c:new Fa(function(l){l(c);});}if(oa)return oa;Pa.prototype.$Ta=function(c){var l;if(null == this.UA){this.UA=[];l=this;this.aUa(function(){l.NGb();});}this.UA.push(c);};b=Ya.setTimeout;Pa.prototype.aUa=function(c){b(c,0);};Pa.prototype.NGb=function(){var c,f;for(;this.UA && this.UA.length;){c=this.UA;this.UA=[];for(var l=0;l < c.length;++l){f=c[l];c[l]=null;try{f();}catch(k){this.yvb(k);}}}this.UA=null;};Pa.prototype.yvb=function(c){this.aUa(function(){throw c;});};Fa.prototype.pla=function(){var l,f;function c(k){return function(d){f || (f=!0,k.call(l,d));};}l=this;f=!1;return {resolve:c(this.A1b),reject:c(this.jwa)};};Fa.prototype.A1b=function(c){var l;if(c === this)this.jwa(new TypeError("A Promise cannot resolve to itself"));else if(c instanceof Fa)this.Q3b(c);else {a:switch(typeof c){case "object":l=null != c;break a;case "function":l=!0;break a;default:l=!1;}l?this.z1b(c):this.T_a(c);}};Fa.prototype.z1b=function(c){var l;l=void 0;try{l=c.then;}catch(f){this.jwa(f);return;}"function" == typeof l?this.R3b(l,c):this.T_a(c);};Fa.prototype.jwa=function(c){this.jdb(2,c);};Fa.prototype.T_a=function(c){this.jdb(1,c);};Fa.prototype.jdb=function(c,l){if(0 != this.wO)throw Error("Cannot settle(" + c + ", " + l + "): Promise already settled in state" + this.wO);this.wO=c;this.GX=l;2 === this.wO && this.m2b();this.OGb();};Fa.prototype.m2b=function(){var c;c=this;b(function(){var l;if(c.wVb()){l=Ya.console;"undefined" !== typeof l && l.error(c.GX);}},1);};Fa.prototype.wVb=function(){var c,l,f;if(this.K4a)return !1;c=Ya.CustomEvent;l=Ya.Event;f=Ya.dispatchEvent;if("undefined" === typeof f)return !0;"function" === typeof c?c=new c("unhandledrejection",{cancelable:!0}):"function" === typeof l?c=new l("unhandledrejection",{cancelable:!0}):(c=Ya.document.createEvent("CustomEvent"),c.initCustomEvent("unhandledrejection",!1,!0,c));c.promise=this;c.reason=this.GX;return f(c);};Fa.prototype.OGb=function(){if(null != this.iN){for(var c=0;c < this.iN.length;++c){a.$Ta(this.iN[c]);}this.iN=null;}};a=new Pa();Fa.prototype.Q3b=function(c){var l;l=this.pla();c.O3(l.resolve,l.reject);};Fa.prototype.R3b=function(c,l){var f;f=this.pla();try{c.call(l,f.resolve,f.reject);}catch(k){f.reject(k);}};Fa.prototype.then=function(c,l){var k,d,g;function f(n,h){return "function" == typeof n?function(m){try{k(n(m));}catch(p){d(p);}}:h;}g=new Fa(function(n,h){k=n;d=h;});this.O3(f(c,k),f(l,d));return g;};Fa.prototype.catch=function(c){return this.then(void 0,c);};Fa.prototype.O3=function(c,l){var k;function f(){switch(k.wO){case 1:c(k.GX);break;case 2:l(k.GX);break;default:throw Error("Unexpected state: " + k.wO);}}k=this;null == this.iN?a.$Ta(f):this.iN.push(f);this.K4a=!0;};Fa.resolve=r;Fa.reject=function(c){return new Fa(function(l,f){f(c);});};Fa.race=function(c){return new Fa(function(l,f){for(var k=ja(c),d=k.next();!d.done;d=k.next()){r(d.value).O3(l,f);}});};Fa.all=function(c){var l,f;l=ja(c);f=l.next();return f.done?r([]):new Fa(function(k,d){var n,h;function g(m){return function(p){n[m]=p;h--;0 == h && k(n);};}n=[];h=0;do {n.push(void 0);h++;r(f.value).O3(g(n.length - 1),d);f=l.next();}while(!f.done);});};return Fa;});pa("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});pa("Array.prototype.keys",function(oa){return oa?oa:function(){return Da(this,function(Fa){return Fa;});};});pa("WeakMap",function(oa){var c,l;function Fa(f){this.RU=(l+=Math.random() + 1).toString();if(f){f=ja(f);for(var k;!(k=f.next()).done;){k=k.value;this.set(k[0],k[1]);}}}function Pa(){}function r(f){var k;k=typeof f;return "object" === k && null !== f || "function" === k;}function b(f){var k;if(!Va(f,c)){k=new Pa();db(f,c,{value:k});}}function a(f){var k;k=Object[f];k && (Object[f]=function(d){if(d instanceof Pa)return d;Object.isExtensible(d) && b(d);return k(d);});}if((function(){var f,k,d;if(!oa || !Object.seal)return !1;try{f=Object.seal({});k=Object.seal({});d=new oa([[f,2],[k,3]]);if(2 != d.get(f) || 3 != d.get(k))return !1;d.delete(f);d.set(k,4);return !d.has(f) && 4 == d.get(k);}catch(g){return !1;}})())return oa;c="$jscomp_hidden_" + Math.random();a("freeze");a("preventExtensions");a("seal");l=0;Fa.prototype.set=function(f,k){if(!r(f))throw Error("Invalid WeakMap key");b(f);if(!Va(f,c))throw Error("WeakMap key fail: " + f);f[c][this.RU]=k;return this;};Fa.prototype.get=function(f){return r(f) && Va(f,c)?f[c][this.RU]:void 0;};Fa.prototype.has=function(f){return r(f) && Va(f,c) && Va(f[c],this.RU);};Fa.prototype.delete=function(f){return r(f) && Va(f,c) && Va(f[c],this.RU)?delete f[c][this.RU]:!1;};return Fa;});pa("Map",function(oa){var a,c;function Fa(){var l;l={};return l.dm=l.next=l.head=l;}function Pa(l,f){var k;k=l.ry;return Aa(function(){if(k){for(;k.head != l.ry;){k=k.dm;}for(;k.next != k.head;){return (k=k.next,{done:!1,value:f(k)});}k=null;}return {done:!0,value:void 0};});}function r(l,f){var k,d,g;k=f && typeof f;"object" == k || "function" == k?a.has(f)?k=a.get(f):(k="" + ++c,a.set(f,k)):k="p_" + f;d=l.by[k];if(d && Va(l.by,k))for(l=0;l < d.length;l++){g=d[l];if(f !== f && g.key !== g.key || f === g.key)return {id:k,list:d,index:l,entry:g};}return {id:k,list:d,index:-1,entry:void 0};}function b(l){this.by={};this.ry=Fa();this.size=0;if(l){l=ja(l);for(var f;!(f=l.next()).done;){f=f.value;this.set(f[0],f[1]);}}}if((function(){var l,f,k,d;if(!oa || "function" != typeof oa || !oa.prototype.entries || "function" != typeof Object.seal)return !1;try{l=Object.seal({x:4});f=new oa(ja([[l,"s"]]));if("s" != f.get(l) || 1 != f.size || f.get({x:4}) || f.set({x:4},"t") != f || 2 != f.size)return !1;k=f.entries();d=k.next();if(d.done || d.value[0] != l || "s" != d.value[1])return !1;d=k.next();return d.done || 4 != d.value[0].x || "t" != d.value[1] || !k.next().done?!1:!0;}catch(g){return !1;}})())return oa;a=new WeakMap();b.prototype.set=function(l,f){var k;l=0 === l?0:l;k=r(this,l);k.list || (k.list=this.by[k.id]=[]);k.entry?k.entry.value=f:(k.entry={next:this.ry,dm:this.ry.dm,head:this.ry,key:l,value:f},k.list.push(k.entry),this.ry.dm.next=k.entry,this.ry.dm=k.entry,this.size++);return this;};b.prototype.delete=function(l){l=r(this,l);return l.entry && l.list?(l.list.splice(l.index,1),l.list.length || delete this.by[l.id],l.entry.dm.next=l.entry.next,l.entry.next.dm=l.entry.dm,l.entry.head=null,this.size--,!0):!1;};b.prototype.clear=function(){this.by={};this.ry=this.ry.dm=Fa();this.size=0;};b.prototype.has=function(l){return !!r(this,l).entry;};b.prototype.get=function(l){return (l=r(this,l).entry) && l.value;};b.prototype.entries=function(){return Pa(this,function(l){return [l.key,l.value];});};b.prototype.keys=function(){return Pa(this,function(l){return l.key;});};b.prototype.values=function(){return Pa(this,function(l){return l.value;});};b.prototype.forEach=function(l,f){for(var k=this.entries(),d;!(d=k.next()).done;){d=d.value;l.call(f,d[1],d[0],this);}};b.prototype[Symbol.iterator]=b.prototype.entries;c=0;return b;});pa("Set",function(oa){function Fa(Pa){this.Rv=new Map();if(Pa){Pa=ja(Pa);for(var r;!(r=Pa.next()).done;){this.add(r.value);}}this.size=this.Rv.size;}if((function(){var Pa,r,b,a;if(!oa || "function" != typeof oa || !oa.prototype.entries || "function" != typeof Object.seal)return !1;try{Pa=Object.seal({x:4});r=new oa(ja([Pa]));if(!r.has(Pa) || 1 != r.size || r.add(Pa) != r || 1 != r.size || r.add({x:4}) != r || 2 != r.size)return !1;b=r.entries();a=b.next();if(a.done || a.value[0] != Pa || a.value[1] != Pa)return !1;a=b.next();return a.done || a.value[0] == Pa || 4 != a.value[0].x || a.value[1] != a.value[0]?!1:b.next().done;}catch(c){return !1;}})())return oa;Fa.prototype.add=function(Pa){Pa=0 === Pa?0:Pa;this.Rv.set(Pa,Pa);this.size=this.Rv.size;return this;};Fa.prototype.delete=function(Pa){Pa=this.Rv.delete(Pa);this.size=this.Rv.size;return Pa;};Fa.prototype.clear=function(){this.Rv.clear();this.size=0;};Fa.prototype.has=function(Pa){return this.Rv.has(Pa);};Fa.prototype.entries=function(){return this.Rv.entries();};Fa.prototype.values=function(){return this.Rv.values();};Fa.prototype.keys=Fa.prototype.values;Fa.prototype[Symbol.iterator]=Fa.prototype.values;Fa.prototype.forEach=function(Pa,r){var b;b=this;this.Rv.forEach(function(a){return Pa.call(r,a,a,b);});};return Fa;});pa("Array.prototype.find",function(oa){return oa?oa:function(Fa,Pa){return Ia(this,Fa,Pa).Aba;};});pa("Number.isFinite",function(oa){return oa?oa:function(Fa){return "number" !== typeof Fa?!1:!isNaN(Fa) && Infinity !== Fa && -Infinity !== Fa;};});Eb="function" == typeof Object.assign?Object.assign:function(oa,Fa){var r;for(var Pa=1;Pa < arguments.length;Pa++){r=arguments[Pa];if(r)for(var b in r){Va(r,b) && (oa[b]=r[b]);}}return oa;};pa("Object.assign",function(oa){return oa || Eb;});pa("Object.is",function(oa){return oa?oa:function(Fa,Pa){return Fa === Pa?0 !== Fa || 1 / Fa === 1 / Pa:Fa !== Fa && Pa !== Pa;};});pa("Array.prototype.includes",function(oa){return oa?oa:function(Fa,Pa){var r,b,a;r=this;r instanceof String && (r=String(r));b=r.length;Pa=Pa || 0;for(0 > Pa && (Pa=Math.max(Pa + b,0));Pa < b;Pa++){a=r[Pa];if(a === Fa || Object.is(a,Fa))return !0;}return !1;};});pa("String.prototype.includes",function(oa){return oa?oa:function(Fa,Pa){return -1 !== $a(this,Fa,"includes").indexOf(Fa,Pa || 0);};});pa("Object.entries",function(oa){return oa?oa:function(Fa){var Pa,r;Pa=[];for(r in Fa){Va(Fa,r) && Pa.push([r,Fa[r]]);}return Pa;};});pa("Object.values",function(oa){return oa?oa:function(Fa){var Pa,r;Pa=[];for(r in Fa){Va(Fa,r) && Pa.push(Fa[r]);}return Pa;};});pa("Array.prototype.entries",function(oa){return oa?oa:function(){return Da(this,function(Fa,Pa){return [Fa,Pa];});};});pa("Array.prototype.findIndex",function(oa){return oa?oa:function(Fa,Pa){return Ia(this,Fa,Pa).q3a;};});pa("Promise.prototype.finally",function(oa){return oa?oa:function(Fa){return this.then(function(Pa){return Promise.resolve(Fa()).then(function(){return Pa;});},function(Pa){return Promise.resolve(Fa()).then(function(){throw Pa;});});};});pa("Number.parseInt",function(oa){return oa || parseInt;});pa("Array.prototype.values",function(oa){return oa?oa:function(){return Da(this,function(Fa,Pa){return Pa;});};});pa("String.prototype.endsWith",function(oa){return oa?oa:function(Fa,Pa){var r;r=$a(this,Fa,"endsWith");Fa+="";void 0 === Pa && (Pa=r.length);Pa=Math.max(0,Math.min(Pa | 0,r.length));for(var b=Fa.length;0 < b && 0 < Pa;){if(r[--Pa] != Fa[--b])return !1;}return 0 >= b;};});pa("String.prototype.startsWith",function(oa){return oa?oa:function(Fa,Pa){var r,b,a;r=$a(this,Fa,"startsWith");Fa+="";b=r.length;a=Fa.length;Pa=Math.max(0,Math.min(Pa | 0,r.length));for(var c=0;c < a && Pa < b;){if(r[Pa++] != Fa[c++])return !1;}return c >= a;};});pa("Number.isNaN",function(oa){return oa?oa:function(Fa){return "number" === typeof Fa && isNaN(Fa);};});pa("Object.getOwnPropertySymbols",function(oa){return oa?oa:function(){return [];};});pa("Reflect.apply",function(oa){var Fa;if(oa)return oa;Fa=Function.prototype.apply;return function(Pa,r,b){return Fa.call(Pa,r,b);};});pa("Math.tanh",function(oa){return oa?oa:function(Fa){var Pa;Fa=Number(Fa);if(0 === Fa)return Fa;Pa=Math.exp(-2 * Math.abs(Fa));Pa=(1 - Pa) / (1 + Pa);return 0 > Fa?-Pa:Pa;};});pa("String.fromCodePoint",function(oa){return oa?oa:function(Fa){var b;for(var Pa="",r=0;r < arguments.length;r++){b=Number(arguments[r]);if(0 > b || 1114111 < b || b !== Math.floor(b))throw new RangeError("invalid_code_point " + b);65535 >= b?Pa+=String.fromCharCode(b):(b-=65536,Pa+=String.fromCharCode(b >>> 10 & 1023 | 55296),Pa+=String.fromCharCode(b & 1023 | 56320));}return Pa;};});pa("Object.setPrototypeOf",function(oa){return oa || Fb;});(function(){var Fa,Pa;function oa(r){var b;b=Pa[r];if(void 0 !== b)return b.exports;b=Pa[r]={exports:{}};Fa[r].call(b.exports,b,b.exports,oa);return b.exports;}Fa={60328:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.u=void 0;b.u={$:0,X:1,Ga:2};},96667:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},12043:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(96667),b);r.__exportStar(a(79348),b);r.__exportStar(a(24552),b);r.__exportStar(a(29266),b);r.__exportStar(a(927),b);r.__exportStar(a(68069),b);r.__exportStar(a(89154),b);},79348:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},24552:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},29266:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},29205:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.APb=b.i4a=void 0;b.i4a=function(a){return void 0 !== a.Ofb;};b.APb=function(a){return void 0 !== a.xml && void 0 !== a.images;};},64586:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},927:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(64586),b);r.__exportStar(a(21325),b);r.__exportStar(a(29205),b);r.__exportStar(a(79244),b);},79244:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},21325:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},68069:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.platform=void 0;b.platform={dqa:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},89154:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},45929:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(5163);l=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);return k;})(Error);b.assert=function(f,k){if(!f)throw new l(k || "Assertion failed");};},5102:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.N_a=b.eZ=b.M_a=void 0;b.M_a={23976:{ja:24E3,N:1001},24:{ja:24E3,N:1E3},25:{ja:25E3,N:1E3},2997:{ja:3E4,N:1001},30:{ja:3E4,N:1E3},50:{ja:5E4,N:1E3},5994:{ja:6E4,N:1001},60:{ja:6E4,N:1E3}};b.eZ={h264:["23976","24","25","2997","30"],h264hpl:["23976","24","25","2997","30"],"hevc-main10":("23976 24 25 2997 30 50 5994 60").split(" ")};b.N_a=function(a,c){return a.ja / a.N === c.ja / c.N;};},40138:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzgCQAAgAPgBgCAUBignwAB0gAwAADgpYBDugB4CDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgRQAg5QFAA",Ra:!0,Ta:[176,590],size:610},{data:"IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBADgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcYCG1kBhB0ALB3ABB/A/CHDAgKAAgCgBgHYCAEBIAfgAYAgAAAIBAAJAIQgBgBcY+fPnDPCfA+B8gAwBDfDzCrgBQGDHD8DqgC4Gfx/zq+gCQCgBgCB/DOCvgD4EgBgAAfgFgLgQwCcDxtttC2DbDHCPAeA7G7C4gB4BcNa1rWC1CggBABAbgCwBdvHjx4LuDggWQFB4gFQCd48ePHJ3gCQFADgCIBBtgCAACPAdHdDcgCQFAPgHIRgbgBgdIBDjgFgMAGC1CtgNgADQgOYCgCwBC3gQIAA8gKwBBwgGAFA8gFQCC8gNYBgSoAC7CAgtgFgCIBC2gPgBCOgK4BgEoFAHCNgHIQA2gAoDDxgFgMADgagBCtBogOYCgdoMgAACAeA2gCYBDegVwADxgSoADdguoAgAAEgdARgk4NgAACAbgioSABgagBDWC0gjQogdARgk4NgAACANgDYDgioOgagBgNgAgjQpgdAQgk4NgAACAGgDYDgioOhCwCCtgjQphHokBghiAJgAAEBIA4hf//hf//hf//hf//hf//hf//hf//hf//hf//hf//hf70",Ra:!0,Ta:[44],size:6252},{ja:1536,N:48E3},{ja:12288,N:48E3},"ddplus-5.1-dash",192,"5.1"];},10697:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(40138);b.fa=[{data:"hMPLAIhMIMAEhMgBDogGYGhMJ3",Ra:!0,Ta:[176,590],size:610,$a:r.fa[0]},{data:"sNY4AEsNYpAgsNYGD/htYKcD+B9lhtQChtIBhs4ChswFB9hpgJgAwThsIJgAwThuwJgAwTh3AJgAwTh5oKgQAVh2QCB3DNg0oAgCAAhEYCgAQIhEIBBAgDIdBfA+gDAMhlQEAOD5gD4AgDIvDIgoYCC+gNYADXDPCbgD4LhU4EgDIcgXIxgDIVB2gAYBAAAdDzhWIAgmgAgDgKgAQAiN4EgDIbgXIygDIVCyhPQCDvCagjQADzDmgNgMhpYBh3oBgDIbgXIxgDIWCQiBoCB8gNYAhUQAh6QCgAQIiUwEgDIcgXIxgDIVDsiV4CA7DmgjQAhWQAg2ILDbjNwEgDIbgXIygDIViJoGgAADBABZh///h///h///h///h///h///h///h///h///h///h///h///h///h//x",Ra:!0,Ta:[44],size:8300,$a:r.fa[1]},{ja:1536,N:48E3},{ja:12288,N:48E3},"ddplus-5.1hq-dash",256,"5.1"];},28922:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(40138).fa[0];a=a(10697);b.fa=[{data:"hMPLAMhMIMg8oBAFDcgGYCgEQChMJ3",Ra:!0,Ta:[176,590],size:610,$a:r},{data:"wNY4gAYAwNYoAwwNYFACiNYLcEEB+6iNYxiHgviRwwicAwiWIwgYwSgnwCA2gGwCg14BdvHjx4DxDjDHCPgAwDgB4AgCYAhBoBhaABiM4EAABvgGYBg6oCgD4FgAwCgBoADfA+gD4DgAgDgEYBANgLQBhy4CgIwIgAwAcbbbfPhUQBgEYEiFQCADBrgP4BhFICgEgbgSQBhagCDegSQJB2gB4AgCYAgEYGhs4CAADZgXwCgJ4SAegB4AgV4AA1gFQGhhgCAGgd4BDNhSwBC8gJ4IDGgJ4PgZwAhiADC3gcQIgAwAgB4AgCYAgJAHhZ4BglwTgEgPA3gsQBhgoCgSQJA3glwQiE4Cgv3/gvz8gABZBYAGi///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i//q",Ra:!0,Ta:[44],size:12396,$a:a.fa[1]},{ja:1536,N:48E3},{ja:12288,N:48E3},"ddplus-5.1hq-dash",384,"5.1"];},16658:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(40138).fa[0];a=a(28922);b.fa=[{data:"hMPLAOhMIMAHgEgBDWgGYChMJ7",Ra:!0,Ta:[176,590],size:610,$a:r},{data:"4NY4AH4NYpA44NYFADB/jNYLAoAfDMjNQAjNIAjM4AjMwFiuICDfjAwvjNozjBozjOgzjbY0jPYIAbhcwChOYEZ3gAAAhiYRhKwEgFgIA7a7C7haADCNgCgAhboAhLYIgAgAhxgDgFQCh2ADgFgqAdbdDdhvQDhkYMhWwEhpQAgFQDhbYCgFgMh0AMgFgFDwgcgCgRZwgFgcCObuDuDvidgQiF4EiQAAgFQDiKgCgFgMC7gFgSB4gcgCgRZwgFgdhJ4HiUYQisoEABC+gtIEgxICgFgLDdgFgSC8itoDgRZvgFgdhJwGC7itIDgCgAh+YAgQYJC1Cgi6oCjDgCi/IEgFgLBugFgSDeijwDgRZvgFgdhJwGDdju4RjXQEBvju4Cjl4EgFgLjOoNgFgFi5ADgRZvgFgdhJwGDuj4IRkQYEA3j4ICjvIEgFgLAbgCYBgFgQhQABgABpBhBJjf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf7m",Ra:!0,Ta:[44],size:14444,$a:a.fa[1]},{ja:1536,N:48E3},{ja:12288,N:48E3},"ddplus-5.1hq-dash",448,"5.1"];},47708:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(28922).fa[0];a=a(16658);b.fa=[{data:"hMPLAUhMIMAKgAQAAJgYQCAChMJ7",Ra:!0,Ta:[176,590],size:610,$a:r},{data:"8NY4AK8NYpBQ8NYFAED/jtYCgAAChQYBcAjgYYBhCGjQwzjfY+juA+j8o9jwo+gfwLhdACABhWwGgrgEgAAQADhkwBhWQChkYFgIYMgEACA7jcoFC4hFQWiJgBj4oDj7wEBfgQ4LhWgCAHiO4GgIAWAOhewADthhICiuAFgZYLjt4DiyIChjgCDggIAVABgb4BgIAChxwFghAMgEACAdjYgFDcgQQWgcABhxYDj3oEhG4MgnICADjFoEiLgGhxYWAHgcgAkGoBiqoHgpYLD4glYDki4FBwgRAWgcoBiCYDh/4EhQAMglYDjVIGgIAWgcwBibQDj0QEDXhC4Lgn4ChCCDglYDhCzDhCCAghQDhCzEhCCAgHIDhCzDhCCBgHIDjH0FhCA/k/xsgABrAXBQk///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k//c",Ra:!0,Ta:[44],size:20588,$a:a.fa[1]},{ja:1536,N:48E3},{ja:12288,N:48E3},"ddplus-5.1hq-dash",640,"5.1"];},94340:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(42608);b.fa=[{data:"hZniCAhZjm",Ra:!0,Ta:[176,599],size:717,$a:r.fa[0]},{data:"gXy9",Ra:!0,Ta:[44],size:191,$a:r.fa[1]},{ja:1024,N:24E3},{ja:7168,N:24E3},"heaac-2hq-dash",128,"2.0"];},42608:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYge4CEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw",Ra:!0,Ta:[176,599],size:717},{data:"IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc",Ra:!0,Ta:[44],size:191},{ja:1024,N:24E3},{ja:7168,N:24E3},"heaac-2-dash",64,"2.0"];},14613:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(42608);b.fa=[{data:"hZniBghZjm",Ra:!0,Ta:[176,599],size:717,$a:r.fa[0]},{data:"gXy9",Ra:!0,Ta:[44],size:191,$a:r.fa[1]},{ja:1024,N:24E3},{ja:7168,N:24E3},"heaac-2-dash",96,"2.0"];},52426:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Zfb=b.$fb=b.eUa=b.ehb=void 0;b.ehb={padding:{"16:9":{h264:{23976:function(){return a(77496);},24:function(){return a(49242);},25:function(){return a(2267);},2997:function(){return a(89792);},30:function(){return a(50519);}},h264hpl:{23976:function(){return a(36260);},24:function(){return a(60398);},25:function(){return a(99234);},2997:function(){return a(63029);},30:function(){return a(99477);}},"hevc-main10":{23976:function(){return a(83331);},24:function(){return a(58028);},25:function(){return a(42500);},2997:function(){return a(51930);},30:function(){return a(33298);},50:function(){return a(7166);},5994:function(){return a(5762);},60:function(){return a(50285);}}},"4:3":{h264:{23976:function(){return a(21902);},24:function(){return a(11024);},25:function(){return a(43698);},2997:function(){return a(1370);},30:function(){return a(87767);}},h264hpl:{23976:function(){return a(66101);},24:function(){return a(67200);},25:function(){return a(92443);},2997:function(){return a(53040);},30:function(){return a(28437);}},"hevc-main10":{23976:function(){return a(34896);},24:function(){return a(99109);},25:function(){return a(61988);},2997:function(){return a(1136);},30:function(){return a(62373);},50:function(){return a(30156);},5994:function(){return a(24341);},60:function(){return a(40677);}}}}};b.eUa={silence:{heaac:{64:function(){return a(42608);},96:function(){return a(14613);},128:function(){return a(94340);}},ddp:{192:function(){return a(40138);},256:function(){return a(10697);},384:function(){return a(28922);},448:function(){return a(16658);},640:function(){return a(47708);}}}};b.$fb=function(c){return {Db:c[0],Ma:c[1],Aa:c[2],duration:c[3],profile:c[4],bitrate:c[5],width:c[6],height:c[7],yua:c[8],zua:c[9]};};b.Zfb=function(c){return {Db:c[0],Ma:c[1],Aa:c[2],duration:c[3],profile:c[4],bitrate:c[5],channels:c[6]};};},21902:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(77496);b.fa=[{data:"hdjvgAgChdlACACIhdgdhNAFhdiM",Ra:!0,Ta:[176,729],size:749,$a:r.fa[0]},{data:"h/v/h/v7",Ra:!0,Ta:[44],size:1022,$a:r.fa[1]},{ja:1001,N:24E3},{ja:6006,N:24E3},"playready-h264mpl30-dash",64,320,240,1,1];},11024:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(49242);b.fa=[{data:"hdzvgAgChd1ACACIhdwfhNQFhdyM",Ra:!0,Ta:[176,731],size:751,$a:r.fa[0]},{data:"h/v/h/v7",Ra:!0,Ta:[44],size:1022,$a:r.fa[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"playready-h264mpl30-dash",64,320,240,1,1];},43698:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(2267);b.fa=[{data:"hdzvgAgChd1ACAhLABhdwdhNQFhdyM",Ra:!0,Ta:[176,731],size:751,$a:r.fa[0]},{data:"h7X/h7XY",Ra:!0,Ta:[44],size:987,$a:r.fa[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"playready-h264mpl30-dash",64,320,240,1,1];},1370:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(89792);b.fa=[{data:"hdjvgAgChdlACACIhdgdhNAFhdiM",Ra:!0,Ta:[176,729],size:749,$a:r.fa[0]},{data:"h/v/h/v7",Ra:!0,Ta:[44],size:1022,$a:r.fa[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"playready-h264mpl30-dash",64,320,240,1,1];},87767:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(50519);b.fa=[{data:"hdzvgAgChd1ACACIhdwfhNQFhdyM",Ra:!0,Ta:[176,731],size:751,$a:r.fa[0]},{data:"h/v/h/v7",Ra:!0,Ta:[44],size:1022,$a:r.fa[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"playready-h264mpl30-dash",64,320,240,1,1];},66101:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(36260);b.fa=[{data:"hdzvgAgChd1BABhdwfhNQFhdyM",Ra:!0,Ta:[176,731],size:751,$a:r.fa[0]},{data:"h/v/h/v7",Ra:!0,Ta:[44],size:1022,$a:r.fa[1]},{ja:1001,N:24E3},{ja:6006,N:24E3},"playready-h264hpl30-dash",64,320,240,1,1];},67200:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(60398);b.fa=[{data:"heDvgAgCheFBABheAhhNgFheCM",Ra:!0,Ta:[176,733],size:753,$a:r.fa[0]},{data:"h/v/h/v7",Ra:!0,Ta:[44],size:1022,$a:r.fa[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"playready-h264hpl30-dash",64,320,240,1,1];},92443:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(99234);b.fa=[{data:"heDvgAgCheFBABheAhhNgFheCM",Ra:!0,Ta:[176,733],size:753,$a:r.fa[0]},{data:"h7X/h7XY",Ra:!0,Ta:[44],size:987,$a:r.fa[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"playready-h264hpl30-dash",64,320,240,1,1];},53040:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(63029);b.fa=[{data:"hdzvgAgChd1BABhdwfhNQFhdyM",Ra:!0,Ta:[176,731],size:751,$a:r.fa[0]},{data:"h/v/h/v7",Ra:!0,Ta:[44],size:1022,$a:r.fa[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"playready-h264hpl30-dash",64,320,240,1,1];},28437:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(99477);b.fa=[{data:"heDvgAgCheFBABheAhhNgFheCM",Ra:!0,Ta:[176,733],size:753,$a:r.fa[0]},{data:"h/v/h/v7",Ra:!0,Ta:[44],size:1022,$a:r.fa[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"playready-h264hpl30-dash",64,320,240,1,1];},34896:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(83331);b.fa=[{data:"hxbvgAgChxe6DABahxYvhegFhxaf",Ra:!0,Ta:[176,888],size:908,$a:r.fa[0]},{data:"g6XR",Ra:!0,Ta:[44],size:467,$a:r.fa[1]},{ja:1001,N:24E3},{ja:6006,N:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},99109:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(58028);b.fa=[{data:"hxrvgAgChxu6DABahxoxhewFhxoeCAgAYEhxp4",Ra:!0,Ta:[176,890],size:910,$a:r.fa[0]},{data:"g6SBg4wFg6QtAcg6TCg1wCg6QBg1wJg6JA",Ra:!0,Ta:[44],size:466,$a:r.fa[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},61988:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(42500);b.fa=[{data:"hxrvgAgChxu6DABahxoxhewFhxqf",Ra:!0,Ta:[176,890],size:910,$a:r.fa[0]},{data:"g0Wh",Ra:!0,Ta:[44],size:419,$a:r.fa[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},1136:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(51930);b.fa=[{data:"hxbvgAgChxe6DABahxYvhegFhxaf",Ra:!0,Ta:[176,888],size:908,$a:r.fa[0]},{data:"g6PQ",Ra:!0,Ta:[44],size:466,$a:r.fa[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},62373:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(33298);b.fa=[{data:"hxrvgAgChxu6DABahxoxhewFhxqf",Ra:!0,Ta:[176,890],size:910,$a:r.fa[0]},{data:"g6XR",Ra:!0,Ta:[44],size:467,$a:r.fa[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},30156:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(7166);b.fa=[{data:"hxrvgAgChxu6DABahxoxhewFhxqf",Ra:!0,Ta:[176,890],size:910,$a:r.fa[0]},{data:"hRv/hRqL",Ra:!0,Ta:[44],size:654,$a:r.fa[1]},{ja:1E3,N:5E4},{ja:1E4,N:5E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},24341:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(5762);b.fa=[{data:"hxbvgAgChxe6DABahxYvhegFhxaf",Ra:!0,Ta:[176,888],size:908,$a:r.fa[0]},{data:"hvX/hvV4",Ra:!0,Ta:[44],size:891,$a:r.fa[1]},{ja:1001,N:6E4},{ja:15015,N:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},40677:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(50285);b.fa=[{data:"hxrvgAgChxu6DABahxoxhewFhxqf",Ra:!0,Ta:[176,890],size:910,$a:r.fa[0]},{data:"hvX/hvV4",Ra:!0,Ta:[44],size:891,$a:r.fa[1]},{ja:1E3,N:6E4},{ja:15E3,N:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},77496:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CHAIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgA4BAEgAYBADgcYCBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG",Ra:!0,Ta:[176,729],size:749},{data:"AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=",Ra:!1,Ta:[44],size:1022},{ja:1001,N:24E3},{ja:6006,N:24E3},"playready-h264mpl30-dash",64,320,240,4,3];},49242:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(77496);b.fa=[{data:"hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG",Ra:!0,Ta:[176,731],size:751,$a:r.fa[0]},{data:"h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP",Ra:!0,Ta:[44],size:1022,$a:r.fa[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"playready-h264mpl30-dash",64,320,240,4,3];},2267:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(49242);b.fa=[{data:"hdw8BhCohdz4gfYEhd0ACQhdwoB+CQgAYEhdxWATCIhdwe",Ra:!0,Ta:[176,731],size:751,$a:r.fa[0]},{data:"gCoBCph/oVCRh/otBQh/oJAFgAYBCxh/o9ARh+ILgCgBAyh+H/h+Aug/4Ah+CJAzh+ABDsC+h+AAAUDIh+ABcsxdpKBwA+AqCkGAB3A0DAhg4AcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxh+AHC/h2ADBIh+Ao",Ra:!0,Ta:[44],size:987,$a:r.fa[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"playready-h264mpl30-dash",64,320,240,4,3];},89792:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(77496).fa[0];a=a(2267);b.fa=[{data:"hdg8B1Awhdj4gfYEhdj8AHBThdgpCBDYgAYEhdh4",Ra:!0,Ta:[176,729],size:749,$a:r},{data:"gBoBC2h7QVCeh7QZDph7QRBch7QJAGgAYBC+h7QJDSh7QJCNh7QJgC4Ch7QSgL4CAWgEYJASh8wLAWgEIBBIh8//h88KB/h5YFh84EgBoBDph84IgBoCgDYCASgHIAdlSahBBoCZBMAIBPD/D9DxgCAAAfDh",Ra:!0,Ta:[44],size:1022,$a:a.fa[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"playready-h264mpl30-dash",64,320,240,4,3];},50519:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(49242).fa[0];a=a(89792);b.fa=[{data:"hdw8B1Awhdz4gfYEhd0ADghdwoCCgBwBgAYChdx4",Ra:!0,Ta:[176,731],size:751,$a:r},{data:"h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/tU",Ra:!0,Ta:[44],size:1022,$a:a.fa[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"playready-h264mpl30-dash",64,320,240,4,3];},36260:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(49242).fa[0];a=a(77496);b.fa=[{data:"hd0VDShd0OgM4AhdwCAXBngA4BCsDZFBD7AOAQgDIAc+kAALC4AADxBCCZBggJYAAGhdoCAigiQChdwZBnDggAYEhdxXhUwChdwSDpgBoG",Ra:!0,Ta:[176,731],size:751,$a:r},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ra:!0,Ta:[44],size:1022,$a:a.fa[1]},{ja:1001,N:24E3},{ja:6006,N:24E3},"playready-h264hpl30-dash",64,320,240,4,3];},60398:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(36260).fa[0];a=a(49242);b.fa=[{data:"hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCgAoAheAphJ4BgAYDheBXgO4CheASDogBoG",Ra:!0,Ta:[176,733],size:753,$a:r},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ra:!0,Ta:[44],size:1022,$a:a.fa[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"playready-h264hpl30-dash",64,320,240,4,3];},99234:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(60398).fa[0];a=a(2267);b.fa=[{data:"heA8BhCoheD4gfYEheEBAgheApB+CQgAYEheBWATCIheAe",Ra:!0,Ta:[176,733],size:753,$a:r},{data:"h7VpAzh7QDgD4Ah7RZhRwBh7X/h7QH",Ra:!0,Ta:[44],size:987,$a:a.fa[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"playready-h264hpl30-dash",64,320,240,4,3];},63029:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(36260).fa[0];a=a(89792);b.fa=[{data:"hdw8B1Awhdz4gfYEhdz9AOCmhdwqCBDYgAYEhdx4",Ra:!0,Ta:[176,731],size:751,$a:r},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ra:!0,Ta:[44],size:1022,$a:a.fa[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"playready-h264hpl30-dash",64,320,240,4,3];},99477:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(60398).fa[0];a=a(50519);b.fa=[{data:"heA8B1AwheD4gfYEheEBDAheApCCgBwBgAYCheB4",Ra:!0,Ta:[176,733],size:753,$a:r},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ra:!0,Ta:[44],size:1022,$a:a.fa[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"playready-h264hpl30-dash",64,320,240,4,3];},83331:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(77496);b.fa=[{data:"hdggADhcgAhdhwDAhdiEACgqYAhdhRDjhdg9CjhdgEABBXhdgMABBHBohdhSC6gKoBhdgAACgPgCCQgfAEgI4AH9H6gBAAAPADCggIoBcYQAEMABgFIAgEAChboAgEIBhcQBgAQAddmLAkChgDgBBtBCEBgDINegCggPATBnCYC5AkApAQATC4BCCwGJfl9/o8DZDLD6A5CUDJB7gAgAezL9GFAIBOAiCxAmBeD+COBsDLD0BhBEBOBqDECbD2BlD6AwCmCcCVCUDfCjAKBKDDCaKACCg0QDcAu4H0BVDvB+AACXBAASDwABAuCAAlDhCigOIBcHRAHBByD2A8gVQChvAOAThlwAg0gABuBjBshhgAgEwAgAIChxYIhwgAgAQAAigGQBgAYChxZ4",Ra:!0,Ta:[176,888],size:908,$a:r.fa[0]},{data:"h/pcAABnh/oJAkh/oJAhh7IJgC4Ah/oIAjh/oJAih/oaABAdh/oEgNIAdOAYEBADgdYCAWgBIAgSYACggHgBcAIPWAAKD8CAgAoDCQgDICANgDIAABgSIBgDAAgAQBAEgCACcuJgGsB9DgCECCAkC/D/D8BhgAwAczjsxSCKBCD8BJgDQBgEAAADA8gFIDBXDAgeQAgBIEDagIQOAHgCACcPAgHgAmBYDCA+DwCYgCQCCjgCQCAMgEYFggABgMoDANgEQBcWKMI2DwCagBoAACCCgIgJgpYAgAYBgIgDgY4ADgAOA4gIgLgEYGgNICgawDAOgEYBceSMIRC8CVgBoBBTgSoAgAAAALgEQEAEgMwFgRICcovGEfB4gIgF",Ra:!0,Ta:[44],size:467,$a:r.fa[1]},{ja:1001,N:24E3},{ja:6006,N:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},58028:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(83331);b.fa=[{data:"hxYhBuhxZxDChxZ9DQhxYFA6hxZSDlhxY9ClhxYFBZhxYNBJhxZTC8hxY6BvhxZXgJIAhE4BgAgAAxhxpKgZwAgAYDhxpXgRQChxoSDogBoG",Ra:!0,Ta:[176,890],size:910,$a:r.fa[0]},{data:"g6Q1Dog6QtDQg6QJCIg6QJgC4Eg6QQgL4Cg6QGgEYCg6Uq",Ra:!0,Ta:[44],size:467,$a:r.fa[1]},{ja:1E3,N:24E3},{ja:6E3,N:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},42500:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(58028);b.fa=[{data:"hxo8BhCohxr4gfYEhxt+AzhxpJAlg+oAgAYDhxpWATCIhxoe",Ra:!0,Ta:[176,890],size:910,$a:r.fa[0]},{data:"gCQBCpg6QVCRg6QtBQg6QJAFgAYBCxg6QZg3QAg1wIg3QAg6QIgBYFgL4DARg4wLgA4BD6g4qggEQCg4oBg0YSg44HANg44EAuDwCcgBoAAGDUg4oSgEICg4oBgEIF",Ra:!0,Ta:[44],size:419,$a:r.fa[1]},{ja:1E3,N:25E3},{ja:5E3,N:25E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},51930:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(83331);b.fa=[{data:"hxY8B1Awhxb4gfYEhxd7DqBhhxZJArAQgAYEhxZ4",Ra:!0,Ta:[176,888],size:908,$a:r.fa[0]},{data:"g6R1g1wKg4wFg6QPg+wKg6QQAcg6SgAOg6QEgxgJg6YPg14Cg6YBgEQRg6QogMwCg6QBAIDegEAE",Ra:!0,Ta:[44],size:466,$a:r.fa[1]},{ja:1001,N:3E4},{ja:6006,N:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},33298:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(58028).fa[0];a=a(51930);b.fa=[{data:"hxo8B1Awhxr4gfYEhxt+A9hxpJArgjQBgAYChxp4",Ra:!0,Ta:[176,890],size:910,$a:r},{data:"g6I1Dog6ItDQg6IJCIg3IDg1oEgC4Cg6ISgL4Cg6IGgEYCg6IQAdg6KggEQCg6IBgEQKg6Ri",Ra:!0,Ta:[44],size:467,$a:a.fa[1]},{ja:1E3,N:3E4},{ja:6E3,N:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},7166:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(58028).fa[0];a=a(33298);b.fa=[{data:"hxo8DDBQhxr4gfYEhxt+BlhxpJBABggAYEhxpWAnAQhxoe",Ra:!0,Ta:[176,890],size:910,$a:r},{data:"gCIBDqg6QVDSg6QtCMg6QJgFYCDyg6QNg4wFg6QnAigF4JgBYFgF4DgBYAgF4IgBYFhAQPAWhAQMhAwFCkhAx9gvYChAwBgzgJhAoVATC8CTgGgCAigTIBhApPhSAHdGGMIZC8CMgM4CACg1QCgEIFAFgRIJA2gRIMgVgFgRgDgMoGAugRALgEIFAHgQ4KA+gQ4SAIhRoJBIhRoI",Ra:!0,Ta:[44],size:654,$a:a.fa[1]},{ja:1E3,N:5E4},{ja:1E4,N:5E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},5762:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(83331).fa[0];a=a(7166);b.fa=[{data:"hxY8DqBghxb4gfYEhxd6ABDUDBhxZJBIDogAYEhxZWA6CnhxYe",Ra:!0,Ta:[176,888],size:908,$a:r},{data:"g0YBArhRoUABAThRoZDphRoRDIhRoJAPgEwBAzhRoJDShRoJCNhLoJgC4EhRoQgL4ChRoGgF4OhRoSgF4ygR4FALC7gO4NAbhZIQgAYCAagCAAACBQhZyfgEIChZwBhVQRhZrOgQ4HBmgQ4TAJgQ4JBWgQ4ThZ4BgQ4IBOgQ4SALgQ4KBegQ4SAMgeABgEACAQgMoBdw6rGEAnB4gMwPANgIgGhiYAgEYAdol8YQCNDggIoE",Ra:!0,Ta:[44],size:891,$a:a.fa[1]},{ja:1001,N:6E4},{ja:15015,N:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},50285:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.fa=void 0;r=a(58028).fa[0];a=a(5762);b.fa=[{data:"hxo8DqBghxr4gfYEhxt+B5hxpJBJgAwBgAYChxpWA6CYhxoe",Ra:!0,Ta:[176,890],size:910,$a:r},{data:"hvQ1DohvQtDQhvQJCIhjQJgC4EhvQQgL4ChpQGgF4OhpQSgF4yhvQGC4gO4NhvX/hvRl",Ra:!0,Ta:[44],size:891,$a:a.fa[1]},{ja:1E3,N:6E4},{ja:15E3,N:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},8604:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.q3=b.Jz=void 0;r=a(5163);r.__exportStar(a(56163),b);r.__exportStar(a(5102),b);c=a(88458);Object.defineProperties(b,{Jz:{enumerable:!0,get:function(){return c.Jz;}}});Object.defineProperties(b,{q3:{enumerable:!0,get:function(){return c.q3;}}});},38315:function(r,b,a){var d;function c(g){return ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[g >> 6] + ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[g & 63];}function l(g,n){(0,d.assert)(0 < n && 8 > n);return c((n - 1 << 8) + g);}function f(g){return c(1792 + g[0]) + c((g[1] << 4) + (g[2] >>> 4)) + c((g[2] << 8 & 3840) + g[3]);}function k(g){return 43 === g?62:47 === g?63:58 > g?g - 48 + 52:91 > g?g - 65:g - 71;}Object.defineProperties(b,{__esModule:{value:!0}});b.fsa=b.CSb=void 0;d=a(45929);b.CSb=function(g,n){var p,q,u,t,w,v;function h(y,x){var z;z=p;y=q - x - y;(0,d.assert)(1 <= y);(0,d.assert)(16384 > y - 1);(0,d.assert)(2 <= x && 512 > x - 2);x=c(2048 + (y - 1 >>> 3)) + c(((y - 1 & 7) << 9) + (x - 2));p=z + x;u=q;t=0;}function m(y,x,z){return g.subarray(y,y + z).every(function(A,B){return A === g[x + B];});}p="";q=n || 0;u=q;t=0;for(n=0;q < g.byteLength;){w=u;v=t;if(0 !== t && 513 > t && g[q] === g[u + t])(++t,++q);else if(513 === t)(h(w,v),n=0);else {for(--u;0 <= u && u >= q - t - 16384 && (g[w] !== g[u] || 0 < t && !m(q - t,u,t + 1));){--u;}if(0 <= u && u >= q - t - 16384)(++t,++q);else if(w === q || 1 === v){q-=v;for(w=1;7 > w && g[q + w] === g[q];){++w;}p+=l(g[q],w);q+=w;n=1 < w?0:n + 1;4 === n && (p=p.slice(0,p.length - 8),p+=f(g.subarray(q - 4,q)));u=q;t=0;}else (h(w,v),n=0);}}1 === t?p+=l(g[u],1):1 < t && h(u,t);return p;};b.fsa=function(g,n){var w,v;function h(x,z){p(z);if(x + z <= t)q.set(q.subarray(x,x + z),t);else for(var A=0;A < z;++A){q[t + A]=q[x + A];}t+=z;}function m(){var x;x=g.slice(u,u+=2);return (k(x.charCodeAt(0)) << 6) + k(x.charCodeAt(1));}function p(x){t + x > q.byteLength && (x=new Uint8Array(2 * q.byteLength),x.set(q,0),q=x);}for(var q=n || new Uint8Array(4096),u=0,t=n?n.byteLength:0;u < g.length;){w=m();if(w & 2048){v=m();h(t - (((w & 2047) << 3) + (v >>> 9) + 1),(v & 511) + 2);}else if(1792 === (w & 3840))(p(4),q[t++]=w & 255,v=m(),w=m(),q[t++]=v >>> 4,q[t++]=(v << 4 & 240) + (w >>> 8),q[t++]=w & 255);else {v=w & 255;w=(w >>> 8) + 1;p(w);for(var y=0;y < w;++y){q[t++]=v;}}}return q.subarray(n?n.byteLength:0,t);};},88458:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Nvb=b.Mvb=b.Ovb=b.Lvb=b.q3=b.Pvb=b.B9b=b.v9b=b.Jz=b.D9b=b.eZ=void 0;c=a(5102);Object.defineProperties(b,{eZ:{enumerable:!0,get:function(){return c.eZ;}}});b.D9b=["padding"];b.Jz=["h264","h264hpl","hevc-main10"];b.v9b=["16:9","4:3"];b.B9b={h264:"playready-h264mpl30-dash",h264hpl:"playready-h264hpl30-dash","hevc-main10":"hevc-main10-L30-dash-cenc-prk-do"};b.Pvb=["silence"];b.q3=["heaac","ddp"];b.Lvb={heaac:[64,96,128],ddp:[192,256,384,448,640]};b.Ovb={heaac:{64:"heaac-2-dash",96:"heaac-2-dash",128:"heaac-2hq-dash"},ddp:{192:"ddplus-5.1-dash",256:"ddplus-5.1hq-dash",384:"ddplus-5.1hq-dash",448:"ddplus-5.1hq-dash",640:"ddplus-5.1hq-dash"}};b.Mvb={heaac:{64:"2.0",96:"2.0",128:"2.0"},ddp:{192:"5.1",256:"5.1",384:"5.1",448:"5.1",640:"5.1"}};b.Nvb={heaac:{ja:1024,N:24E3},ddp:{ja:1536,N:48E3}};},56163:function(r,b,a){var l,f,k,d,g,n,h;function c(m){if(-1 !== d.Jz.indexOf(m))return m;for(var p,q=0;q < d.Jz.length;++q){if(-1 !== m.indexOf(d.Jz[q])){p=d.Jz[q];break;}}(0,n.assert)(p);return p;}Object.defineProperties(b,{__esModule:{value:!0}});b.wOa=void 0;l=a(5163);f=a(42866);k=a(52426);d=a(88458);g=a(5102);n=a(45929);h=a(38315);r=(function(){function m(p,q){this.atob=p;this.console=q;this.BK=1;this.dZ=[];this.xS=[];}m.prototype.BMb=function(p,q,u,t,w){var v,z;void 0 === t && (t={w:16,sr:9});void 0 === w && (w=1);q=c(q);v=(0,f.ec)(g.eZ[q],function(A){return (0,g.N_a)(u,g.M_a[A]);});(0,n.assert)(v);(0,n.assert)(16 === t.w && 9 === t.sr || 4 === t.w && 3 === t.sr);t=16 === t.w?"16:9":"4:3";for(var y=0,x=this.dZ;y < x.length;y++){z=x[y];if(z.type === p && z.pv === t && z.yd === q && z.frameRate === v && z.trackId === w)return z;}p=this.rDb(p,t,q,v,w);this.dZ.unshift(p);this.dZ.length > this.BK && this.dZ.splice(this.BK,this.dZ.length - this.BK);return p;};m.prototype.zMb=function(p,q,u){var y;void 0 === u && (u=1);for(var t,w=0,v=this.xS;w < v.length;w++){y=v[w];"silence" === y.type && y.yd === p && y.bitrate === q && y.trackId === u && (t=y);}void 0 === t && (t=this.hDb(p,q,u),this.xS.unshift(t),this.xS.length > this.BK && this.xS.splice(this.BK,this.xS.length - this.BK));return t;};m.prototype.AMb=function(){void 0 === m.YYa && (m.YYa=new Uint8Array(Array.from({length:40},function(p,q){return ('<tt xmlns="http://www.w3.org/ns/ttml" />').charCodeAt(q);})).buffer);return m.YYa;};m.prototype.rDb=function(p,q,u,t,w){var v;v=k.ehb[p][q][u][t];(0,n.assert)(v);v=(0,k.$fb)(v().fa);return l.__assign(l.__assign({},this.decode(v,w)),{type:p,pv:q,yd:u,frameRate:t,width:v.width,height:v.height,yua:v.yua,zua:v.zua});};m.prototype.hDb=function(p,q,u){var t;t=k.eUa.silence[p][q];(0,n.assert)(t);t=(0,k.Zfb)(t().fa);return l.__assign(l.__assign({},this.decode(t,u)),{type:"silence",yd:p,bitrate:q,channels:t.channels});};m.prototype.decode=function(p,q){var u,t,w,v;u=p.Db.Ra?this.Pla(p.Db):this.atob(p.Db.data);t=p.Ma.Ra?this.Pla(p.Ma):this.atob(p.Ma.data);if(1 !== q){w=new DataView(u);v=new DataView(t);p.Db.Ta.forEach(function(y){return w.setUint32(y,q);});p.Ma.Ta.forEach(function(y){return v.setUint32(y,q);});}return l.__assign(l.__assign({},p),{Db:u,Ma:t,trackId:q});};m.prototype.Pla=function(p){var q;if(p.Ra){if(void 0 === p.$a)p=(0,h.fsa)(p.data);else {q=this.Pla(p.$a);p=(0,h.fsa)(p.data,new Uint8Array(q));}}else p=new Uint8Array(this.atob(p.data));return p.buffer.slice(p.byteOffset,p.byteOffset + p.byteLength);};return m;})();b.wOa=r;},831:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.fja=b.nib=b.AbortController=void 0;c=a(5163);r=(function(f){function k(){var d;d=null !== f && f.apply(this,arguments) || this;d.hQa=!1;return d;}c.__extends(k,f);Object.defineProperties(k.prototype,{aborted:{get:function(){return this.hQa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{reason:{get:function(){return this.msb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{signal:{get:function(){return this;},enumerable:!1,configurable:!0}});k.prototype.abort=function(d){this.msb=new l(d);this.hQa=!0;this.emit("abort",{type:"abort"});};return k;})(a(57055).EventEmitter);b.AbortController=r;l=(function(f){function k(d){d=f.call(this,d) || this;d.name="AbortError";return d;}c.__extends(k,f);return k;})(Error);b.nib=l;b.fja=function(f){return new Promise(function(k){f.aborted && k();f.addListener("abort",function(){return k();});});};},1386:function(r,b,a){var f;function c(k){return k.filter(function(d,g){return k.indexOf(d) === g;});}function l(k,d,g){return g?k.filter(function(n){return !d.some(function(h){return g(n,h);});}):k.filter(function(n){return -1 === d.indexOf(n);});}Object.defineProperties(b,{__esModule:{value:!0}});b.fWa=b.STa=b.uta=b.kNb=b.Xzb=b.flatten=b.v7a=b.ozb=b.rK=b.Rq=b.e3=b.TTa=b.cja=b.dja=b.Im=b.eja=b.ec=void 0;f=a(5163);b.ec=function(k,d){for(var g=0;g < k.length;g++){if(d(k[g],g,k))return k[g];}};b.eja=function(k,d){for(var g=k.length - 1;0 <= g;--g){if(d(k[g],g,k))return k[g];}};b.Im=function(k,d){var g;g=-1;return k.some(function(n,h,m){g=h;return d(n,h,m);})?g:-1;};b.dja=function(k,d){for(var g=k.length - 1;0 <= g;g--){if(d(k[g],g,k))return g;}return -1;};b.cja=c;b.TTa=function(k,d){return k.filter(function(g,n){return k.indexOf(g) === n && -1 !== d.indexOf(g);});};b.e3=function(k,d){d=k.indexOf(d);if(-1 === d)return !1;k.splice(d,1);return !0;};b.Rq=l;b.rK=function(k,d){return c(k.concat(d));};b.ozb=function(k){return function(d,g){return k(d) - k(g);};};b.v7a=function(k){return function(d,g){return k(d) < k(g)?d:g;};};b.flatten=function(k){var d;return (d=[]).concat.apply(d,f.__spreadArray([],f.__read(k),!1));};b.Xzb=function(k,d){void 0 === d && (d=function(g){return g;});return k.reduce(function(g,n){n=d(n);return (void 0 === g[n]?g[n]=1:++g[n],g);},{});};b.kNb=function(k,d){return k.reduce(function(g,n){var h;h=d(n);return (void 0 === g[h]?g[h]=[n]:g[h].push(n),g);},{});};b.uta=function(k){return null !== k && void 0 !== k;};b.STa=function(k){var d,n;d=[];if(Array.isArray(k))for(var g=0;g < k.length;g++){n=k[g];Array.isArray(n)?d=d.concat(n.filter(function(h){return void 0 !== h;})):void 0 !== n && d.push(n);}return d;};b.fWa=function(k,d,g){var n;n=l(k,d,g);d=l(d,k,g);k=l(k,n);return {kwa:n,oub:d,E$a:k,result:k.concat(d)};};},20837:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=b.AssertionError=void 0;c=a(5163);l=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);return k;})(Error);b.AssertionError=l;b.assert=function(f,k){if(!f)throw new l(k || "Assertion failed");};},92709:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.kEa=void 0;c=a(20837);l=a(81786);f=a(7666);r=(function(){function k(d){this.dFb=d;this.lAa=!1;this.Nba=new f.fNa();}k.prototype.L9b=function(d,g){var h,m;function n(){var u,t,w,v,y,x;u=p.pop();t=u.node;w=u.Z2;u=w.TYb;v=w.BF;w=w.state;if(!q.Nba.has(t)){u=g(t,v,u,w);y=u.Mba;x=u.state;u.W2 || q.Nba.add(t);m(t).forEach(function(z){var A;A=z.s9b;h.Nba.has(A) || (z=v + z.weight,y && p.push({node:A,Z2:{BF:z,TYb:t,state:x}}));});}}h=this;m=this.dFb;(0,c.assert)(!this.lAa);this.lAa=!0;this.Nba.clear();for(var p=new l.E0([{node:d,Z2:{BF:0,state:{root:!1,complete:!0,rbb:0,gs:0}}}],function(u,t){return u.Z2.BF - t.Z2.BF;}),q=this;!p.empty;){n();}this.lAa=!1;};return k;})();b.kEa=r;},88047:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.AB=void 0;b.AB=function(a,c){var l;a=Math.abs(a);for(c=Math.abs(c);c;){l=c;c=a % c;a=l;}return a;};},42866:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(831),b);r.__exportStar(a(20837),b);r.__exportStar(a(92709),b);r.__exportStar(a(88047),b);r.__exportStar(a(81786),b);r.__exportStar(a(70885),b);r.__exportStar(a(76556),b);r.__exportStar(a(41969),b);r.__exportStar(a(7666),b);r.__exportStar(a(48803),b);r.__exportStar(a(1386),b);},81786:function(r,b,a){var l;function c(f,k){return f < k?-1:f > k?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.E0=void 0;l=a(5163);r=(function(){function f(k,d){this.data=k || [];this.compare=d || c;if(!this.empty)for(k=(this.length >> 1) - 1;0 <= k;k--){this.Qga(k);}}Object.defineProperties(f.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});f.prototype.push=function(k){this.data.push(k);this.xSa(this.length - 1);};f.prototype.pop=function(){var k,d;if(!this.empty){k=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.Qga(0));return k;}};f.prototype.Ut=function(){return this.data[0];};f.prototype.map=function(k){return this.data.map(k);};f.prototype.find=function(k){return l.__read(this.data.filter(k),1)[0];};f.prototype.clear=function(){this.data=[];};f.prototype.remove=function(k){var d,g,n;d=this.data;k=d.indexOf(k);if(-1 !== k){g=d.pop();if(k < d.length){d[k]=g;n=k - 1 >> 1;d=d[n];0 <= n && 0 > this.compare(g,d)?this.xSa(k):this.Qga(k);}}};f.prototype.Zvb=function(){for(var k=this.data,d=1;d < k.length;d++){if(0 > this.compare(k[d],k[d - 1 >> 1]))throw Error(("Audit failed at position ").concat(d," of ").concat(k));}};f.prototype.contains=function(k){return 0 <= this.data.indexOf(k);};f.prototype.Dk=function(){return this.data.concat([]);};f.prototype.xSa=function(k){for(var d=this.data,g=this.compare,n=d[k],h,m;0 < k;){h=k - 1 >> 1;m=d[h];if(0 <= g(n,m))break;d[k]=m;k=h;}d[k]=n;};f.prototype.Qga=function(k){for(var d=this.data,g=this.compare,n=this.length >> 1,h=d[k],m,p,q;k < n;){m=(k << 1) + 1;q=d[m];p=m + 1;p < this.length && 0 > g(d[p],q) && (m=p,q=d[p]);if(0 <= g(q,h))break;d[k]=q;k=m;}d[k]=h;};return f;})();b.E0=r;},76556:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Iea=void 0;r=(function(){function a(c,l,f,k){var d;d=this;this.properties=c;this.transform=l;this.ft=f;this.state=k;this.Db();c.forEach(function(g){return g.addListener(d.$ta);});this.$ta();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(l){return l.removeListener(c.$ta);});};a.prototype.u4a=function(c){return void 0 !== c.equal;};a.prototype.Db=function(){var c;c=this;this.$ta=function(){var l,f;l=c.state;f=c.properties.map(function(k){return k.value;});c.state=c.transform(f);(c.u4a(c.state) && c.u4a(l)?c.state.equal(l):l === c.state) || c.ft(c.state);};};return a;})();b.Iea=r;},70885:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Cq=b.yob=void 0;c=a(5163);l=a(76556);f=a(41969);r=(function(){function k(d,g){this.Qa=d;this.py=g?[g]:[];}Object.defineProperties(k.prototype,{value:{get:function(){return this.Qa;},enumerable:!1,configurable:!0}});k.prototype.addListener=function(d){-1 === this.py.indexOf(d) && (this.py=this.py.slice(),this.py.push(d));};k.prototype.removeListener=function(d){d=this.py.indexOf(d);-1 !== d && (this.py=this.py.slice(),this.py.splice(d,1));};return k;})();b.yob=r;r=(function(k){function d(g,n){return k.call(this,g,n) || this;}c.__extends(d,k);d.xhb=function(g,n,h){return new l.Iea(g,n,h,!1);};d.W9b=function(g,n,h){return c.__awaiter(this,void 0,void 0,function(){var m,p,q;q=this;return c.__generator(this,function(u){switch(u.label){case 0:(m=void 0,p=new Promise(function(t){m=q.xhb(g,n,t);}),u.label=1);case 1:return (u.Vj.push([1,,6,7]),h?[4,(0,f.gab)(h,p)]:[3,3]);case 2:return [2,u.Wa()];case 3:return [4,p];case 4:return [2,u.Wa()];case 5:return [3,7];case 6:return (m.clear(),[7]);case 7:return [2];}});});};Object.defineProperties(d.prototype,{value:{get:function(){return this.Qa;},set:function(g){this.set(g);},enumerable:!1,configurable:!0}});d.prototype.set=function(g){var n;n=this.Qa;n !== g && (this.Qa=g,this.py.forEach(function(h){return h({oldValue:n,newValue:g});}));};return d;})(r);b.Cq=r;},41969:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.gab=b.Wz=b.$qa=void 0;c=a(5163);l=a(831);b.$qa=function(f){return "function" === typeof (null === f || void 0 === f?void 0:f.then);};r=(function(){function f(){var k;k=this;this.dSa=!1;this.promise=new Promise(function(d){k.bSa=d;});}Object.defineProperties(f.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Lwa:{get:function(){return this.dSa;},enumerable:!1,configurable:!0}});f.prototype.resolve=function(k){var d;this.dSa=!0;null === (d=this.bSa) || void 0 === d?void 0:d.call(this,k);this.bSa=void 0;};return f;})();b.Wz=r;b.gab=function(f,k){return c.__awaiter(this,void 0,void 0,function(){var d;return c.__generator(this,function(g){switch(g.label){case 0:return (d=(0,l.fja)(f),[4,Promise.race([d,k])]);case 1:return [2,g.Wa()];}});});};},7666:function(r,b){var l,f,k;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.gQa);}function c(d){return (a(d)?d:Object.defineProperties(d,{gQa:{value:{},configurable:!1,enumerable:!1}})).gQa;}Object.defineProperties(b,{__esModule:{value:!0}});b.fNa=void 0;f=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;k=Date.now() % f;r=(function(){function d(){this.paa=0;this.id=k=(k + 1) % f;}d.prototype.add=function(g){c(g)[this.id]=this.paa;return this;};d.prototype.has=function(g){return a(g) && c(g)[this.id] === this.paa;};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.paa=(this.paa + 1) % f;return this;};return d;})();b.fNa=r;},48803:function(r,b,a){var l;function c(f,k){return f && k?Math.abs(f * k / (0,l.AB)(f,k)):0;}Object.defineProperties(b,{__esModule:{value:!0}});b.L=void 0;l=a(88047);r=(function(){function f(k,d){"object" === typeof k?(this.qc=k.ja,this.nb=k.N):(this.qc=k,this.nb=d);isFinite(this.qc) || (this.nb=1);}f.compare=function(k,d){return k.Qk(d);};f.abs=function(k){return new f(Math.abs(k.qc),k.nb);};f.Na=function(k){return 0 === k?f.Ia:new f(k,1E3);};f.lza=function(k,d){return Math.floor(1E3 * k / d);};f.Q7a=function(k,d){return Math.floor(k * d / 1E3);};f.max=function(){for(var k=[],d=0;d < arguments.length;d++){k[d]=arguments[d];}return k.reduce(function(g,n){return g.greaterThan(n)?g:n;});};f.min=function(){for(var k=[],d=0;d < arguments.length;d++){k[d]=arguments[d];}return k.reduce(function(g,n){return g.lessThan(n)?g:n;});};f.AB=function(k,d){var g;if(k.nb === d.nb)return new f((0,l.AB)(k.qc,d.qc),k.nb);g=c(k.nb,d.nb);return new f((0,l.AB)(k.qc * g / k.nb,d.qc * g / d.nb),g);};Object.defineProperties(f.prototype,{ja:{get:function(){return this.qc;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{N:{get:function(){return this.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{G:{get:function(){return f.lza(this.qc,this.nb);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{fw:{get:function(){return 1E3 * this.qc / this.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{JH:{get:function(){var k;k=this.fw;return 0 > k?Math.ceil(k):Math.floor(k);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{uh:{get:function(){return this.qc / this.nb;},enumerable:!1,configurable:!0}});f.prototype.dd=function(k){k/=this.nb;return new f(Math.floor(this.qc * k),Math.floor(this.nb * k));};f.prototype.add=function(k){var d;if(this.nb === k.nb)return new f(this.qc + k.qc,this.nb);d=c(this.nb,k.nb);return new f(this.qc * d / this.nb + k.qc * d / k.nb,d);};f.prototype.qa=function(k){var d;if(this.nb === k.nb)return new f(this.qc - k.qc,this.nb);d=c(this.nb,k.nb);return new f(this.qc * d / this.nb - k.qc * d / k.nb,d);};f.prototype.wo=function(k){return new f(this.qc * k,this.nb);};f.prototype.jh=function(k){var d;if("number" === typeof k){if(Math.floor(k) === k){d=c(this.qc,k);if(d !== this.qc)return this.dd(d / this.qc * this.nb).jh(k);}return new f(Math.floor(this.qc / k),this.nb);}if(this.nb === k.nb)return this.qc / k.qc;d=c(this.nb,k.nb);return this.qc * d / this.nb / (k.qc * d / k.nb);};f.prototype.ZK=function(k){var d;if(this.nb === k.nb)return new f(Math.abs(this.qc - k.qc),this.nb);d=c(this.nb,k.nb);return new f(Math.abs(this.qc * d / this.nb - k.qc * d / k.nb),d);};f.prototype.bwa=function(){return new f(this.nb,this.qc);};f.prototype.compare=function(k,d){var g;if(this.nb === d.nb)return k(this.qc,d.qc);g=c(this.nb,d.nb);return k(this.qc * g / this.nb,d.qc * g / d.nb);};f.prototype.Qk=function(k){var d;if(this.nb === k.nb)return this.ja === k.qc?0:this.qc - k.qc;d=c(this.nb,k.nb);return this.qc * d / this.nb - k.qc * d / k.nb;};f.prototype.equal=function(k){return this.compare(function(d,g){return d === g;},k);};f.prototype.vta=function(k){return this.compare(function(d,g){return d !== g;},k);};f.prototype.lessThan=function(k){return this.compare(function(d,g){return d < g;},k);};f.prototype.greaterThan=function(k){return this.compare(function(d,g){return d > g;},k);};f.prototype.Iy=function(k){return this.compare(function(d,g){return d <= g;},k);};f.prototype.ji=function(k){return this.compare(function(d,g){return d >= g;},k);};f.prototype.isFinite=function(){return !!this.nb && isFinite(this.qc);};f.prototype.r2a=function(k){return c(this.N,k);};f.prototype.toJSON=function(){return {ticks:this.qc,timescale:this.nb};};f.prototype.toString=function(){return ("").concat(this.qc,"/").concat(this.nb);};f.prototype.qb=function(){return ("").concat(this.qc,"/").concat(this.nb," (").concat(this.fw,"ms)");};f.Ia=new f(0,1E3);f.Wy=new f(1,1E3);f.Tp=new f(Infinity,1);f.uUb=new f(-Infinity,1);return f;})();b.L=r;},27411:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.w9a=void 0;a=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];b.w9a=function(c){var l,f,k,d;l=c.read(5);f=c.read(4);if(15 === f){k=c.read(24);f=a.indexOf(k);}else k=a[f];d=c.read(4);switch(l){case 1:case 2:case 4:if(c.read(1))throw Error("frameLengthFlag not supported");break;default:throw Error("AAC profile " + l + " not supported.");}return {wp:l,sampleRate:k,baa:f,ufc:d,GIb:1024};};},28798:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.K$a=void 0;c=a(76338);b.K$a=function(l,f,k){var d,g;d=l.read(1);if(d){g=new c.iHa(l,d,f);1 === l.read(2) && l.advance(g.dN * g.VV);}(0,c.Bva)(l,f,g,k);(0,c.Bva)(l,f,g,k);};},13865:function(r,b,a){var c,l;b.w=void 0;c=a(11909);l=a(17793);b.w=function(f,k,d,g){var n;n=new c.KZ(f);g=g && g.baa;k=(0,l.N$a)(n,{Hx:k,IH:d},g);n=n.offset;return {frame:f.subarray(0,n),qua:n,vkc:k};};},53710:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.M$a=void 0;b.M$a=function(a,c,l){15 === c && (c+=a.read(8) - 1);0 < c && 1 !== l.Hx && !l.IH?(a.write(4,0),a.advance(8 * c - 4)):a.advance(8 * c);};},17793:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.N$a=void 0;c=a(15427);l=a(52148);b.N$a=function(f,k,d){var g,n,h;if(4095 === f.read(12)){f.advance(3);g=!!f.read(1);n=f.read(2) + 1;d=f.read(4);f.advance(8);h=f.read(13);f.advance(13 + (g?0:16));g={wp:n,baa:d,GIb:h};}else f.reverse(12);(0,c.assert)(void 0 !== d);(0,l.S$a)(f,d,k);return g;};},2E3:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Fa=b.RFa=b.QFa=b.ZFa=b.YFa=b.XFa=b.WFa=b.VFa=b.UFa=b.TFa=b.SFa=b.PFa=void 0;b.PFa={width:2,table:new Uint16Array([1,0,5,16,5,17,5,18,5,19,5,20,5,21,5,22,5,23,7,96,7,97,7,98,7,99,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,7,117,7,118,7,119,9,480,9,481,9,482,9,483,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,10,1008,10,1009,10,1010,10,1011,10,1012,10,1013,10,1014,10,1015,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,11,2042,11,2043,11,2044,11,2045,11,2046,11,2047])};b.SFa={width:2,table:new Uint16Array([3,0,4,2,5,6,5,7,5,8,5,9,5,10,5,11,5,12,6,26,6,27,6,28,6,29,6,30,6,31,6,32,6,33,6,34,6,35,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,8,230,8,231,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,8,244,8,245,8,246,8,247,8,248,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,9,507,9,508,9,509,9,510,9,511])};b.TFa={width:3,table:new Uint16Array([1,0,0,4,8,1,4,9,1,4,10,1,4,11,1,5,24,2,5,25,2,6,52,2,6,53,2,6,54,2,6,55,3,6,56,2,6,57,3,7,116,4,7,117,3,7,118,3,8,238,1,8,239,1,8,240,2,8,241,2,8,242,3,9,486,2,9,487,3,9,488,2,9,489,3,9,490,3,9,491,1,9,492,2,9,493,2,9,494,1,9,495,2,9,496,2,9,497,4,9,498,3,9,499,3,9,500,4,10,1002,3,10,1003,2,10,1004,3,10,1005,2,10,1006,4,10,1007,4,10,1008,3,10,1009,3,10,1010,2,10,1011,3,10,1012,3,10,1013,3,10,1014,2,10,1015,2,10,1016,3,11,2034,2,11,2035,4,11,2036,3,11,2037,3,11,2038,4,11,2039,4,11,2040,2,11,2041,3,12,4084,3,12,4085,3,12,4086,3,12,4087,3,12,4088,3,12,4089,4,12,4090,4,12,4091,4,12,4092,4,13,8186,2,13,8187,2,13,8188,3,14,16378,3,14,16379,4,14,16380,3,15,32762,4,15,32763,4,15,32764,4,15,32765,3,15,32766,2,16,65534,3,16,65535,3])};b.UFa={width:3,table:new Uint16Array([4,0,4,4,1,3,4,2,3,4,3,3,4,4,3,4,5,1,4,6,2,4,7,0,4,8,2,4,9,2,5,20,2,5,21,2,5,22,1,5,23,2,5,24,1,5,25,1,7,104,4,7,105,4,7,106,4,7,107,4,7,108,3,7,109,3,7,110,3,7,111,3,7,112,3,8,226,3,8,227,3,8,228,3,8,229,3,8,230,3,8,231,3,8,232,3,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,2,8,243,2,8,244,2,8,245,1,8,246,1,9,494,1,9,495,1,9,496,4,9,497,4,9,498,4,9,499,4,9,500,4,9,501,4,10,1004,3,10,1005,3,10,1006,3,10,1007,3,10,1008,3,10,1009,3,10,1010,3,10,1011,3,10,1012,3,10,1013,4,10,1014,3,10,1015,3,10,1016,3,10,1017,4,11,2036,4,11,2037,4,11,2038,2,11,2039,2,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,4,11,2045,3,11,2046,3,12,4094,3,12,4095,3])};b.VFa={width:2,table:new Uint16Array([1,0,4,8,4,9,4,10,4,11,5,24,5,25,5,26,5,27,7,112,7,113,7,114,7,115,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,10,1E3,10,1001,10,1002,10,1003,10,1004,10,1005,10,1006,10,1007,10,1008,10,1009,10,1010,10,1011,11,2024,11,2025,11,2026,11,2027,11,2028,11,2029,11,2030,11,2031,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,12,4090,12,4091,12,4092,12,4093,13,8188,13,8189,13,8190,13,8191])};b.WFa={width:2,table:new Uint16Array([4,0,4,1,4,2,4,3,4,4,4,5,4,6,4,7,4,8,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,6,50,6,51,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,10,1014,10,1015,10,1016,10,1017,10,1018,10,1019,10,1020,10,1021,11,2044,11,2045,11,2046,11,2047])};b.XFa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,7,115,1,7,116,1,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,1,8,243,1,9,488,2,9,489,2,9,490,2,9,491,1,9,492,2,9,493,1,9,494,2,9,495,2,9,496,2,9,497,2,9,498,2,9,499,2,9,500,2,9,501,2,10,1004,2,10,1005,1,10,1006,1,10,1007,2,10,1008,2,10,1009,2,10,1010,2,10,1011,2,10,1012,2,10,1013,2,10,1014,2,10,1015,2,10,1016,2,10,1017,2,10,1018,2,11,2038,1,11,2039,1,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,2,11,2045,2,12,4092,2,12,4093,2,12,4094,2,12,4095,2])};b.YFa={width:3,table:new Uint16Array([3,0,2,4,2,2,4,3,1,4,4,2,4,5,1,4,6,2,5,14,0,5,15,1,5,16,1,5,17,2,5,18,2,5,19,2,5,20,2,6,42,2,6,43,2,6,44,2,6,45,2,6,46,2,6,47,1,6,48,1,6,49,2,6,50,2,6,51,2,7,104,2,7,105,2,7,106,2,7,107,2,7,108,2,7,109,2,7,110,2,7,111,1,7,112,2,7,113,1,7,114,2,7,115,2,7,116,2,7,117,2,8,236,2,8,237,2,8,238,2,8,239,1,8,240,2,8,241,1,8,242,2,8,243,2,8,244,2,8,245,2,8,246,2,8,247,2,8,248,2,8,249,2,8,250,2,9,502,2,9,503,2,9,504,1,9,505,2,9,506,1,9,507,2,9,508,2,9,509,2,10,1020,2,10,1021,1,10,1022,1,10,1023,2])};b.ZFa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,8,230,1,8,231,1,8,232,2,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,9,476,2,9,477,2,9,478,1,9,479,1,9,480,2,9,481,2,9,482,2,9,483,2,9,484,2,9,485,2,9,486,2,10,974,1,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,2,10,984,2,10,985,1,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,11,1988,1,11,1989,2,11,1990,2,11,1991,2,11,1992,1,11,1993,2,11,1994,2,11,1995,2,11,1996,2,11,1997,1,11,1998,2,11,1999,2,11,2E3,2,11,2001,2,11,2002,1,11,2003,1,11,2004,2,11,2005,2,11,2006,2,11,2007,2,11,2008,2,11,2009,2,11,2010,2,11,2011,2,11,2012,2,11,2013,2,11,2014,2,11,2015,2,11,2016,2,11,2017,1,11,2018,2,12,4038,2,12,4039,2,12,4040,1,12,4041,2,12,4042,2,12,4043,2,12,4044,2,12,4045,2,12,4046,2,12,4047,2,12,4048,2,12,4049,2,12,4050,2,12,4051,2,12,4052,2,12,4053,2,12,4054,2,12,4055,2,12,4056,2,12,4057,2,12,4058,2,12,4059,2,12,4060,2,12,4061,1,12,4062,2,12,4063,2,12,4064,1,12,4065,2,12,4066,2,12,4067,2,12,4068,2,12,4069,2,12,4070,2,12,4071,2,12,4072,1,12,4073,2,12,4074,2,12,4075,2,13,8152,2,13,8153,2,13,8154,2,13,8155,2,13,8156,2,13,8157,2,13,8158,2,13,8159,2,13,8160,2,13,8161,2,13,8162,2,13,8163,2,13,8164,1,13,8165,2,13,8166,2,13,8167,1,13,8168,2,13,8169,2,13,8170,2,13,8171,2,13,8172,1,13,8173,2,13,8174,2,13,8175,2,13,8176,2,13,8177,2,13,8178,2,13,8179,2,13,8180,2,13,8181,2,13,8182,2,13,8183,2,14,16368,2,14,16369,2,14,16370,2,14,16371,2,14,16372,2,14,16373,2,14,16374,2,14,16375,2,14,16376,2,14,16377,2,14,16378,2,14,16379,2,14,16380,2,14,16381,2,15,32764,2,15,32765,2,15,32766,2,15,32767,2])};b.QFa={width:3,table:new Uint16Array([4,0,2,4,1,2,4,2,2,5,6,2,5,7,1,5,8,1,5,9,2,5,10,2,5,11,2,5,12,2,5,13,2,6,28,1,6,29,1,6,30,2,6,31,2,6,32,2,6,33,2,6,34,0,6,35,2,6,36,2,6,37,1,6,38,1,6,39,2,6,40,2,6,41,2,7,84,2,7,85,2,7,86,2,7,87,2,7,88,2,7,89,2,7,90,2,7,91,2,7,92,2,7,93,1,7,94,2,7,95,1,7,96,2,7,97,2,7,98,2,7,99,2,7,100,2,8,202,2,8,203,2,8,204,2,8,205,2,8,206,2,8,207,2,8,208,2,8,209,1,8,210,2,8,211,1,8,212,2,8,213,2,8,214,2,8,215,2,8,216,2,8,217,2,8,218,2,8,219,2,8,220,2,8,221,2,8,222,2,8,223,2,8,224,2,8,225,2,8,226,2,9,454,2,9,455,2,9,456,2,9,457,1,9,458,2,9,459,2,9,460,2,9,461,2,9,462,2,9,463,1,9,464,2,9,465,2,9,466,2,9,467,2,9,468,2,9,469,2,9,470,2,9,471,2,9,472,2,9,473,2,9,474,2,9,475,2,9,476,2,9,477,2,9,478,2,9,479,2,9,480,2,9,481,1,9,482,2,9,483,1,9,484,2,10,970,2,10,971,2,10,972,2,10,973,2,10,974,2,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,1,10,984,2,10,985,2,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,10,994,2,10,995,2,10,996,2,10,997,2,10,998,2,10,999,2,10,1E3,2,10,1001,1,10,1002,2,10,1003,1,10,1004,2,10,1005,1,10,1006,2,10,1007,2,10,1008,2,10,1009,2,10,1010,2,11,2022,2,11,2023,2,11,2024,2,11,2025,2,11,2026,2,11,2027,2,11,2028,2,11,2029,2,11,2030,2,11,2031,2,11,2032,1,11,2033,2,11,2034,1,11,2035,2,11,2036,2,11,2037,2,11,2038,1,11,2039,2,11,2040,2,11,2041,2,11,2042,1,11,2043,2,12,4088,2,12,4089,2,12,4090,2,12,4091,2,12,4092,2,12,4093,1,12,4094,2,12,4095,2])};b.RFa={width:4,table:new Uint16Array([4,0,0,0,4,1,2,0,5,4,2,2,5,5,1,0,5,6,1,0,5,7,2,0,5,8,2,0,5,9,2,0,6,20,2,0,6,21,2,0,6,22,2,0,6,23,1,0,6,24,2,0,6,25,1,0,6,26,2,0,7,54,2,0,7,55,2,0,7,56,2,0,7,57,2,0,7,58,2,0,7,59,2,0,7,60,1,0,7,61,1,0,7,62,2,0,7,63,2,0,7,64,2,0,7,65,2,0,7,66,2,0,7,67,2,0,7,68,2,0,7,69,2,0,8,140,2,0,8,141,2,0,8,142,2,0,8,143,2,0,8,144,2,0,8,145,2,0,8,146,2,0,8,147,2,1,8,148,2,1,8,149,2,1,8,150,2,1,8,151,2,1,8,152,2,0,8,153,2,1,8,154,1,0,8,155,2,0,8,156,1,0,8,157,2,1,8,158,2,0,8,159,2,1,8,160,2,1,8,161,2,1,8,162,2,1,8,163,2,0,8,164,2,0,8,165,2,0,8,166,2,0,8,167,2,0,8,168,2,1,8,169,2,1,8,170,2,0,8,171,2,0,8,172,2,1,8,173,2,1,8,174,2,1,8,175,2,0,8,176,2,0,8,177,2,1,8,178,2,0,8,179,2,1,8,180,2,1,8,181,2,1,8,182,2,0,8,183,2,1,8,184,2,0,8,185,2,0,8,186,2,1,8,187,2,1,8,188,2,0,8,189,2,0,8,190,2,0,8,191,1,0,8,192,2,1,8,193,2,1,8,194,2,0,8,195,2,0,8,196,2,0,8,197,2,0,8,198,1,0,9,398,2,0,9,399,2,1,9,400,2,1,9,401,2,0,9,402,2,0,9,403,2,1,9,404,2,0,9,405,2,1,9,406,2,0,9,407,2,0,9,408,2,0,9,409,2,0,9,410,2,0,9,411,2,0,9,412,2,0,9,413,2,1,9,414,2,0,9,415,2,0,9,416,1,0,9,417,2,0,9,418,2,0,9,419,2,0,9,420,2,0,9,421,2,0,9,422,2,0,9,423,1,0,9,424,2,0,9,425,2,0,9,426,2,0,9,427,2,0,9,428,2,0,9,429,2,0,9,430,2,0,9,431,2,0,9,432,2,0,9,433,2,0,9,434,2,0,9,435,2,0,9,436,2,0,9,437,2,0,9,438,1,0,9,439,2,0,9,440,2,0,9,441,2,0,9,442,2,0,9,443,2,0,9,444,2,0,9,445,2,0,9,446,2,0,9,447,2,0,9,448,2,0,9,449,2,0,9,450,1,1,9,451,2,0,9,452,2,0,10,906,2,0,10,907,2,0,10,908,2,0,10,909,2,0,10,910,1,1,10,911,2,0,10,912,1,0,10,913,2,0,10,914,2,0,10,915,2,0,10,916,2,0,10,917,2,0,10,918,2,0,10,919,2,0,10,920,2,0,10,921,2,0,10,922,2,0,10,923,2,0,10,924,2,0,10,925,2,0,10,926,2,0,10,927,2,0,10,928,2,0,10,929,2,0,10,930,2,0,10,931,2,0,10,932,2,0,10,933,2,0,10,934,2,0,10,935,2,0,10,936,2,0,10,937,2,0,10,938,2,0,10,939,2,0,10,940,2,0,10,941,2,0,10,942,2,0,10,943,1,0,10,944,2,0,10,945,2,0,10,946,2,0,10,947,2,0,10,948,2,0,10,949,2,0,10,950,2,0,10,951,2,0,10,952,2,0,10,953,2,0,10,954,2,0,10,955,2,0,10,956,2,0,10,957,2,0,10,958,2,0,10,959,2,0,10,960,2,0,10,961,2,0,10,962,1,0,10,963,2,0,10,964,2,0,10,965,2,0,10,966,2,0,10,967,2,0,10,968,2,0,10,969,2,0,10,970,2,0,10,971,2,0,10,972,2,0,10,973,2,0,10,974,2,0,10,975,2,0,10,976,2,0,10,977,2,0,10,978,2,0,10,979,2,0,10,980,2,0,10,981,2,0,10,982,2,0,10,983,2,0,10,984,2,0,10,985,2,0,10,986,2,0,10,987,2,0,10,988,2,0,10,989,2,0,10,990,1,0,10,991,1,0,10,992,2,0,10,993,2,0,10,994,2,0,10,995,2,0,10,996,2,0,10,997,2,0,10,998,2,0,10,999,2,0,10,1E3,2,0,11,2002,2,0,11,2003,2,0,11,2004,2,0,11,2005,2,0,11,2006,2,0,11,2007,2,0,11,2008,2,0,11,2009,2,0,11,2010,2,0,11,2011,2,0,11,2012,2,0,11,2013,2,0,11,2014,2,0,11,2015,2,0,11,2016,2,0,11,2017,2,0,11,2018,2,0,11,2019,1,0,11,2020,2,0,11,2021,2,0,11,2022,1,0,11,2023,2,0,11,2024,1,0,11,2025,2,0,11,2026,2,0,11,2027,2,0,11,2028,1,0,11,2029,2,0,11,2030,2,0,11,2031,2,0,11,2032,2,0,11,2033,2,0,11,2034,1,0,11,2035,1,0,11,2036,2,0,11,2037,2,0,11,2038,2,0,11,2039,2,0,11,2040,1,0,11,2041,2,0,11,2042,2,0,11,2043,1,0,11,2044,2,0,12,4090,1,0,12,4091,1,0,12,4092,2,0,12,4093,1,0,12,4094,1,0,12,4095,2,0])};b.$Fa={width:2,table:new Uint32Array([1,0,3,4,4,10,4,11,4,12,5,26,5,27,6,56,6,57,6,58,6,59,7,120,7,121,7,122,8,246,8,247,8,248,8,249,8,250,9,502,9,503,9,504,9,505,10,1012,10,1013,10,1014,10,1015,10,1016,10,1017,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,13,8180,13,8181,13,8182,13,8183,13,8184,14,16370,14,16371,14,16372,14,16373,14,16374,14,16375,14,16376,14,16377,15,32756,15,32757,15,32758,15,32759,16,65520,16,65521,16,65522,16,65523,16,65524,16,65525,16,65526,17,131054,17,131055,17,131056,18,262114,18,262115,18,262116,18,262117,18,262118,18,262119,18,262120,19,524242,19,524243,19,524244,19,524245,19,524246,19,524247,19,524248,19,524249,19,524250,19,524251,19,524252,19,524253,19,524254,19,524255,19,524256,19,524257,19,524258,19,524259,19,524260,19,524261,19,524262,19,524263,19,524264,19,524265,19,524266,19,524267,19,524268,19,524269,19,524270,19,524271,19,524272,19,524273,19,524274,19,524275,19,524276,19,524277,19,524278,19,524279,19,524280,19,524281,19,524282,19,524283,19,524284,19,524285,19,524286,19,524287])};},34581:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.t0=void 0;c=a(2E3);l=[c.PFa,c.SFa,c.TFa,c.UFa,c.VFa,c.WFa,c.XFa,c.YFa,c.ZFa,c.QFa,c.RFa];f=[!1,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0];b.t0=(function(){function k(){}k.l_a=function(d,g){var n,q,u;n=g.table;g=g.width;for(var h=0,m=n[0],p=d.read(m);p !== n[h + 1];){h+=g;q=n[h];u=q - m;m=q;p<<=u;p|=d.read(u);}return h;};k.Cdb=function(d){for(var g=4;d.read(1);){++g;}d.advance(g);};k.Ddb=function(d,g){for(;g--;){k.l_a(d,c.$Fa);}};k.G4b=function(d,g){var n,h;n=l[g - 1];h=n.table;n=this.l_a(d,n);if(11 > g)f[g - 1] && (g=h[n + 2]) && d.advance(g);else if(11 === g || 15 < g)(n+=2,(g=h[n]) && d.advance(g),(h=h[n + 1]) && this.Cdb(d),1 < h && this.Cdb(d));else throw Error("Huffman: unknown spectral codebook: " + g);};return k;})();},76338:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.iHa=b.Bva=void 0;c=a(15427);l=a(34581);f=a(86707);b.Bva=function(n,h,m,p){var q,u,t;q=n.read(8);p=Math.max(0,Math.ceil(q + 4 * Math.log(Math.pow(10,p.Hx / 20)) / Math.log(2)));n.reverse(8);n.write(8,p);m || (m=new g(n,0,h));q=m;u=2 === q.sAa?3:5;t=(1 << u) - 1;h=[];p=[];for(var w=[],v=0;v < q.dN;++v){for(var y=0,x=0;y < q.VV;){for(var z=n.read(4),A=0,B;(B=n.read(u)) === t;){A+=B;}A+=B;y+=A;h.push(z);p.push(A);++x;}w.push(x);}q=!0;for(u=0;u < h.length;++u){0 !== h[u] && (13 === h[u] && q?(n.advance(9),q=!1,l.t0.Ddb(n,p[u] - 1)):l.t0.Ddb(n,p[u]));}n.read(1) && n.advance(6 + 9 * (n.read(2) + 1));if(n.read(1))for((q=m,u=2 === q.sAa?k:d,t=0);t < q.D8a;++t){if(w=n.read(u[0]))for((v=n.read(1),y=0);y < w;++y){if((n.advance(u[1]),x=n.read(u[2])))(n.advance(1),z=n.read(1),n.advance(x * (v + 3 - z)));}}(0,c.assert)(!n.read(1));q=m.dN;u=m.VV;t=m.Heb;m=m.Qba;for(v=w=0;v < q;++v){for((y=m[v],x=0);x < u;++w){if((z=h[w],A=p[w],0 === z || 13 === z || 15 === z || 14 === z))x+=A;else {B=5 <= z?2:4;for(var C=0;C < A;(++C,++x)){for(var D=y * (t[x + 1] - t[x]) / B,E=0;E < D;++E){l.t0.G4b(n,z);}}}}}};k=[1,4,3];d=[2,6,5];g=(function(){return function(n,h,m){var p;this.Qba=[];this.dN=1;this.Qba[0]=1;n.advance(1);this.sAa=n.read(2);n.read(1);if(2 === this.sAa){this.D8a=8;this.VV=n.read(4);for(h=0;7 > h;++h){n.read(1)?this.Qba[this.dN - 1]++:(this.dN++,this.Qba[this.dN - 1]=1);}this.Heb=f.NNa[m];}else {this.D8a=1;this.VV=n.read(6);if(n.read(1)){p=14 + Math.min(this.VV,40);n.read(1) && n.advance(p);h && n.read(1) && n.advance(p);}this.Heb=f.MNa[m];}};})();b.iHa=g;},52148:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.S$a=void 0;c=a(28798);l=a(53710);b.S$a=function(f,k,d){var n;for(var g;7 !== (g=f.read(3));){n=f.read(4);switch(g){case 1:(0,c.K$a)(f,k,d);break;case 6:(0,l.M$a)(f,n,d);break;default:throw Error(("Unsupported AAC element ").concat(g));}}f.axb();};},86707:function(r,b){var a,c,l,f,k,d,g,n,h,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.Cob=b.amb=b.Dob=b.Yob=b.Zob=b.NNa=b.MNa=void 0;r=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]);a=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);c=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]);l=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);f=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]);k=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]);d=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]);g=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]);n=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]);h=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]);m=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]);p=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]);q=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]);b.MNa=[r,r,c,f,f,d,g,g,h,h,h,p];b.NNa=[a,a,l,k,k,k,n,n,m,m,m,q];b.Zob=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]);b.Yob=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]);b.Dob=(function(){for(var u=new Float32Array(428),t=0;428 > t;t++){u[t]=Math.pow(2,(t - 200) / 4);}return u;})();b.amb=(function(){for(var u=new Float32Array(8191),t=4 / 3,w=0;8191 > w;w++){u[w]=Math.pow(w,t);}return u;})();b.Cob=new Int32Array([96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350]);},15427:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(5163);l=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);return k;})(Error);b.assert=function(f,k){if(!f)throw new l(k || "Assertion failed");};},11909:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KZ=void 0;r=(function(){function a(c){this.data=c;this.Vq=this.Zb=this.sd=0;this.view=new DataView(c.buffer,c.byteOffset,c.byteLength);}Object.defineProperty(a.prototype,"offset",{get:function(){return this.Zb;},enumerable:!1,configurable:!0});a.prototype.read=function(c){if(0 === this.sd){if(8 === c)return this.data[this.Zb++];if(16 === c)return (c=this.view.getUint16(this.Zb),this.Zb+=2,c);if(32 === c)return (c=this.view.getUint32(this.Zb),this.Zb+=4,c);}for(;this.sd < c;){this.Vq=(this.Vq << 8) + this.data[this.Zb++];this.sd+=8;}this.sd-=c;return this.Vq >>> this.sd & (1 << c) - 1;};a.prototype.advance=function(c){var l;if(c <= this.sd)this.sd-=c;else {c-=this.sd;l=Math.floor(c / 8);this.Zb+=l;this.Vq=this.data[this.Zb++];this.sd=8 - (c - 8 * l);}};a.prototype.write=function(c,l){var f,k;l&=(1 << c) - 1;if(0 === this.sd){if(8 === c){this.data[this.Zb++]=l;return;}if(16 === c){this.view.setUint16(this.Zb,l);this.Zb+=2;return;}if(32 === c){this.view.setUint32(this.Zb,l);this.Zb+=4;return;}}if(0 < this.sd){f=Math.min(c,this.sd);k=this.data[this.Zb - 1] & (~((1 << this.sd) - 1) ^ (1 << this.sd - f) - 1);this.data[this.Zb - 1]=k ^ (c >= f?l >>> c - f:l << this.sd - f);this.sd-=f;c-=f;}for(;8 <= c;){c-=8;this.data[this.Zb++]=l >>> c & 255;}0 < c && (this.sd=8 - c,k=this.data[this.Zb] & (1 << this.sd) - 1,this.Vq=this.data[this.Zb++]=k ^ (l & (1 << c) - 1) << 8 - c);};a.prototype.reverse=function(c){0 !== this.sd && c <= 8 - this.sd?this.sd+=c:(0 !== this.sd && (c-=8 - this.sd,--this.Zb),this.Zb-=Math.floor(c / 8),this.Vq=this.data[this.Zb - 1],this.sd=c % 8);};a.prototype.axb=function(){0 !== this.sd && (this.sd=0);};return a;})();b.KZ=r;},77151:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.PWa=void 0;a=new Uint16Array([0,32773,32783,10,32795,30,20,32785,32819,54,60,32825,40,32813,32807,34,32867,102,108,32873,120,32893,32887,114,80,32853,32863,90,32843,78,68,32833,32963,198,204,32969,216,32989,32983,210,240,33013,33023,250,33003,238,228,32993,160,32933,32943,170,32955,190,180,32945,32915,150,156,32921,136,32909,32903,130,33155,390,396,33161,408,33181,33175,402,432,33205,33215,442,33195,430,420,33185,480,33253,33263,490,33275,510,500,33265,33235,470,476,33241,456,33229,33223,450,320,33093,33103,330,33115,350,340,33105,33139,374,380,33145,360,33133,33127,354,33059,294,300,33065,312,33085,33079,306,272,33045,33055,282,33035,270,260,33025,33539,774,780,33545,792,33565,33559,786,816,33589,33599,826,33579,814,804,33569,864,33637,33647,874,33659,894,884,33649,33619,854,860,33625,840,33613,33607,834,960,33733,33743,970,33755,990,980,33745,33779,1014,1020,33785,1E3,33773,33767,994,33699,934,940,33705,952,33725,33719,946,912,33685,33695,922,33675,910,900,33665,640,33413,33423,650,33435,670,660,33425,33459,694,700,33465,680,33453,33447,674,33507,742,748,33513,760,33533,33527,754,720,33493,33503,730,33483,718,708,33473,33347,582,588,33353,600,33373,33367,594,624,33397,33407,634,33387,622,612,33377,544,33317,33327,554,33339,574,564,33329,33299,534,540,33305,520,33293,33287,514]);b.PWa=function(c,l){void 0 === l && (l=0);l=~~l;for(var f=0;f < c.length;f++){l=(a[(l >> 8 ^ c[f]) & 255] ^ l << 8) & 65535;}return l;};},91459:function(r,b,a){var c,l;b.w=void 0;c=a(11909);l=a(29652);b.w=function(f,k,d){var g;g=new c.KZ(f);k=(0,l.NTa)(g,k,null === d || void 0 === d?void 0:d.OG).IIb;f=f.subarray(0,k);(0,l.adb)(f);return {frame:f,qua:k};};},29652:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.adb=b.NTa=void 0;c=a(15427);l=a(77151);b.NTa=function(f,k,d){var g,n;g=f.read(16);(0,c.assert)(2935 === g);g=2 * ((f.read(16) & 2047) + 1);f.advance(13);n=f.read(5);f.reverse(5);d && (k*=-n / d);f.write(5,Math.min(31,Math.max(1,Math.floor(n + k))));return {IIb:g};};b.adb=function(f){var k;k=(0,l.PWa)(f.subarray(2,f.length - 2));f[f.length - 2]=k >> 8;f[f.length - 1]=k & 255;};},73644:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.RZa=void 0;c=a(11909);l=a(27411);b.RZa=function(){var n,h,m,p;for(var d=[],g=0;g < arguments.length;g++){d[g]=arguments[g];}n="string" === typeof d[0]?{yd:d[0],frame:d[1],Hx:d[2],fzb:d[3],OG:d[4]}:d[0];h=n.yd;d=n.frame;g=n.Hx;m=n.fzb;p=n.OG;n=n.IH;n=void 0 === n?!1:n;switch(h){case "aac":void 0 === f && (f=a(13865).w);h=6;m && (m=new c.KZ(m),h=(0,l.w9a)(m).baa);d=f(d,g,n,{baa:h}).qua;break;case "ddp":void 0 === k && (k=a(91459).w);d=k(d,g,{OG:p}).qua;break;default:throw Error("Unrecognized codec in fadeFrame: " + h);}return {HIb:d};};},61901:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(5163).__exportStar(a(73644),b);},16936:function(r,b){var a,c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.$E=void 0;r={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Daa:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dash standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Daa:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Daa:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};l={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Daa:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};b.$E={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":l},reset:{"heaac-2-dash":r,"heaac-2hq-dash":r},"heaac-2-dash":r,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":l};},82818:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.EEa=b.yAa=void 0;c=a(5163);r=(function(l){function f(){var k;k=null !== l && l.apply(this,arguments) || this;k.QF=1536;return k;}c.__extends(f,l);f.Pc=!0;return f;})(a(61671).default);b["default"]=r;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.ze="ac-3";return f;})(r);b.yAa=a;r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.ze="ec-3";return f;})(r);b.EEa=r;},24475:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.VIb=this.M.Qc(2);this.Iwb=this.M.Qc(5);this.Jwb=this.M.Qc(3);this.mtb=this.M.Qc(3);this.M.Qc(1);this.M.Qc(5);this.M.Qc(5);return !0;};f.ze="dac3";return f;})(a(85571).bf);b["default"]=r;},27235:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){this.M.Qc(1);this.M.Qc(7);this.tcb=this.M.Qc(3);this.scb=this.M.Qc(5);this.ucb=this.M.Qc(1);this.c3a=this.M.Qc(1);this.Pfb=this.M.Qc(1);this.M7a=this.M.Qc(1);this.HVa=this.M.Qc(1);this.IVa=this.M.Qc(1);this.GVa=this.M.Qc(2);this.M.Qc(3);(this.yqa=this.M.Qc(1))?this.Q3a=this.M.Qc(4):this.M.Qc(4);k && (k.$ec={tcb:this.tcb,scb:this.scb,ucb:this.ucb,c3a:this.c3a,Pfb:this.Pfb,M7a:this.M7a,HVa:this.HVa,IVa:this.IVa,GVa:this.GVa,yqa:this.yqa,Q3a:this.Q3a});return !0;};f.ze="av1C";return f;})(a(85571).bf);b["default"]=r;},24895:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){var d;this.M.nd();this.mib=this.M.nd();this.M.nd();this.M.nd();this.M.nd();this.Iaa=this.Mha(this.M.nd() & 31);this.r$a=this.Mha(this.M.nd());this.IN=this.Iaa.length?this.Iaa[0][1]:this.mib;this.PRa=this.M.offset;this.startOffset + this.length < this.M.offset && (100 === this.IN || 110 === this.IN || 122 === this.IN || 144 === this.IN) && (this.M.nd(),this.M.nd(),this.Mha(this.M.nd()));d=this.startOffset + this.length - this.PRa;0 < d && this.em(d,this.PRa);k && k.wja && (k.wja.Iaa=this.Iaa,k.wja.r$a=this.r$a,k.wja.IN=this.IN);return !0;};f.prototype.Mha=function(k){var n;for(var d=[],g=0;g < k;++g){n=this.M.Nf();d.push(this.M.z$(n));}return d;};f.ze="avcC";f.Pc=!1;return f;})(a(85571).bf);b["default"]=r;},61671:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(85571);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){var g;g=f.prototype.parse.call(this,d);this.M.offset+=8;this.pka=this.M.Nf();this.axa=this.M.Nf();this.M.offset+=4;this.samplerate=this.M.Nf();this.M.offset+=2;l.K && this.M.console.trace("MP4AudioSampleEntry: channelcount: " + this.pka + ", samplesize: " + this.axa + ", samplerate: " + this.samplerate);if(null === d || void 0 === d?0:d.Yd)(d.Yd.pka=this.pka,d.Yd.axa=this.axa,d.Yd.samplerate=this.samplerate);return g;};k.Pc=!1;return k;})(a(44126).default);b["default"]=r;},22770:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.Ac=this.nw([{jfc:"int32"},{maxBitrate:"int32"},{z3:"int32"}]);return !0;};f.ze="btrt";f.Pc=!1;return f;})(a(85571).bf);b["default"]=r;},85571:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bf=b.K=void 0;c=a(27172);b.K=!1;r=(function(){function l(f,k,d,g,n){this.Rb=f;this.type=k;this.byteOffset=d;this.byteLength=g;this.parent=n;this.Kd={};this.fH=g;}l.jy=function(f,k){var g,h;function d(m){m && m.jy && (m=m.jy(k),m.length && (g=g.concat(m)));}g=[];f.type === k && g.push(f);if(f.Kd)for(var n in f.Kd){h=f.Kd[n];Array.isArray(h) && h.forEach(d);}return g;};l.jS=function(f,k){void 0 === f.Kd[k.type] && (f.Kd[k.type]=[]);f.Kd[k.type].push(k);};l.Wm=function(f,k){return l.jy(f,k)[0];};Object.defineProperties(l.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{length:{get:function(){return this.byteLength;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{M:{get:function(){return this.Rb;},enumerable:!1,configurable:!0}});l.prototype.wg=function(){var f;f=this.Rb.Tb();this.version=f >> 24;this.flags=f & 16777215;};l.prototype.jS=function(f){l.jS(this,f);};l.prototype.jy=function(f){return l.jy(this,f);};l.prototype.Wm=function(f){return l.Wm(this,f);};l.prototype.parse=function(){return !0;};l.prototype.LT=function(){return !0;};l.prototype.No=function(f){if((f=this.Kd[f]) && Array.isArray(f) && 1 === f.length)return f[0];};l.prototype.em=function(f,k){k=void 0 === k?this.Rb.offset:k;(0,c.assert)(k >= this.startOffset + 8 && k + f <= this.startOffset + this.fH,"Removal range [0x" + k.toString(16) + "-0x" + (k + f).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.fH).toString(16) + ")");this.Rb.em(f,k,this);};l.prototype.K$=function(f,k,d){d=void 0 === d?this.Rb.offset:d;(0,c.assert)(d >= this.startOffset + 8 && d + f <= this.startOffset + this.fH,"Removal range [0x" + d.toString(16) + "-0x" + (d + f).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.fH).toString(16) + ")");this.Rb.K$(f,k,d,this);};l.prototype.uab=function(f,k,d){if(1 < d){for(var g=[];0 < d--;){g.push(this.VRa(f,k));}return g;}return this.VRa(f,k);};l.prototype.nw=function(f){var k,d;d=this;void 0 === k && (k={});f.forEach(function(g){var n,h;if("offset" === g.type){n=g.offset;if(0 < n % 8)throw Error("Requested offset " + g.offset + "is not an even byte multiple");d.Rb.offset+=n / 8;}else for(n in g){h=g[n];k[n]="string" === typeof h?d.uab(h):d.uab(h.type,h.length,h.cvb);}});return k;};l.prototype.VRa=function(f,k){var d;d=this.byteLength - this.Rb.offset + this.startOffset;"undefined" === typeof k && (k=d);switch(f){case "int8":f=this.Rb.nd();break;case "int64":f=this.Rb.bj();break;case "int32":f=this.Rb.Tb();break;case "int16":f=this.Rb.Nf();break;case "string":f=this.Rb.A_b(Math.min(k,d));break;default:throw Error("Invalid type: " + f);}return f;};l.Pc=!1;return l;})();b.bf=r;},89525:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){var d,g,n;d=this.M.offset;g=this.M.Nf();this.KXa=g >> 3;this.EVb=g & 7;this.Q5b=[];for(g=0;g <= this.EVb;g++){n={VIb:this.M.Qc(2),Iwb:this.M.Qc(5),Jwb:this.M.Qc(5),mtb:this.M.Qc(3),Ehc:this.M.Qc(1),ubb:this.M.Qc(3),DVb:this.M.Qc(4)};0 < n.DVb?n.tfc=this.M.Qc(9):this.M.Qc(1);this.Q5b.push(n);}k && k.OYa && (k.OYa.KXa=this.KXa,2 <= this.byteLength - (this.M.offset - d) && (this.M.Qc(7),d=this.M.Qc(1),k.OYa.Uec=1 === d));return !0;};f.ze="dec3";return f;})(a(85571).bf);b["default"]=r;},46079:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(26678);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){this.wg();this.Tkb=l.lda.nab(this.M,d);return !0;};k.ze="esds";k.Pc=!1;return k;})(a(85571).bf);b["default"]=r;},57199:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(27172);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){var g,n,h,m,p,q,u;if(null === d || void 0 === d || !d.Fg)return !0;p=null === (m=null === (h=null === (n=null === (g=this.parent) || void 0 === g?void 0:g.parent) || void 0 === n?void 0:n.Wm("tkhd")) || void 0 === h?void 0:h.Ac) || void 0 === m?void 0:m.trackId;if("undefined" === typeof p)return !0;(0,l.assert)(d.Fg[p]);if(!d.Fg[p])return !0;this.wg();g=this.M.Tb();for(n=0;n < g;n++){h=1 === this.version?this.M.bj():this.M.Tb();m=1 === this.version?this.M.bj():this.M.Tb();q=this.M.Nf();u=this.M.Nf();h={vjc:h,cic:m,bic:q,aic:u};d.Fg[p].RYa || (d.Fg[p].RYa=[]);d.Fg[p].RYa.push(h);}return !0;};k.ze="elst";k.Pc=!1;return k;})(a(85571).bf);b["default"]=r;},89849:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.M.ez();this.M.ez();for(this.Qka=[];this.M.offset <= this.byteOffset + this.byteLength - 4;){this.Qka.push(this.M.ez());}return !0;};f.ze="ftyp";f.Pc=!1;return f;})(a(85571).bf);b["default"]=r;},21501:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){this.VCb=this.M.ez();k && k.Yd && (k.Yd.W1b=this.VCb);return !0;};f.ze="frma";return f;})(a(85571).bf);b["default"]=r;},36464:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(97001);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){var g,n,h,m,p;this.wg();this.Ac=this.nw([{Ric:"int32"},{Dpa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Ac.Dpa=(0,l.sx)(this.Ac.Dpa);if(d && d.Fg){p=null === (m=null === (h=null === (n=null === (g=this.parent) || void 0 === g?void 0:g.parent) || void 0 === n?void 0:n.Wm("tkhd")) || void 0 === h?void 0:h.Ac) || void 0 === m?void 0:m.trackId;"number" === typeof p && d.Fg[p] && (d.Fg[p].Iv=this.Ac.Dpa);}return !0;};k.ze="hdlr";k.Pc=!1;return k;})(a(85571).bf);b["default"]=r;},12228:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(27172);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.LT=function(){var d;d=this.Wm("esds");if(d=d && d.Tkb.Wm(5))((0,l.assert)(this.samplerate),this.QF=d.QF * this.samplerate / d.aaa);return !0;};k.ze="mp4a";k.Pc=!0;return k;})(a(61671).default);b["default"]=r;},17904:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},97291:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.wg();this.Ac=1 === this.version?this.nw([{creationTime:"int64"},{modificationTime:"int64"},{N:"int32"},{duration:"int64"}]):this.nw([{creationTime:"int32"},{modificationTime:"int32"},{N:"int32"},{duration:"int32"}]);return !0;};f.ze="mvhd";f.Pc=!1;return f;})(a(85571).bf);b["default"]=r;},60841:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(){this.wg();this.Ac=this.nw(1 === this.version?[{CIb:"int64"}]:[{CIb:"int32"}]);return !0;};f.ze="mehd";f.Pc=!1;return f;})(a(85571).bf);b["default"]=r;},75706:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(26464);a=a(85571);l=r.Bea;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.wg();this.Ac=this.nw([{Tt:"int32"},{cr:"int16"}]);return !0;};k.ze=l;k.Pc=!1;return k;})(a.bf);b["default"]=a;},79798:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(26464);r=a(85571);f=l.Cea;r=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);d.prototype.parse=function(){this.wg();this.fileSize=this.M.bj();this.N=this.M.bj();this.duration=this.M.bj(!1,!0);this.QVb=this.M.bj();this.M.bj();this.UVb=this.M.bj();this.cVb=this.M.Tb();this.RVb=this.M.bj();this.jIb=this.M.Tb();this.M.C$();this.jl={moof:{offset:this.QVb},sidx:{offset:this.RVb,size:this.jIb}};this.jl[l.LJa]={offset:this.UVb,size:this.cVb};this.M.offset - this.startOffset <= this.length - 24 && (this.TVb=this.M.bj(),this.PUb=this.M.Tb(),this.SVb=this.M.bj(),this.OUb=this.M.Tb(),this.jl[l.I0]={offset:this.TVb,size:this.PUb},this.jl[l.H0]={offset:this.SVb,size:this.OUb});return !0;};d.ze=f;d.Pc=!1;return d;})(r.bf);b["default"]=r;},30855:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(26464);a=a(85571);l=r.Dea;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var d,h,m;this.wg();1 <= this.version && this.M.C$();d=this.M.Tb();this.jl={};for(var g=this.startOffset + this.length,n=0;n < d;++n){h=this.M.ez();"uuid" === h && (h=this.M.C$());m=this.M.bj();this.jl[h]={offset:g,size:m};g+=m;}return !0;};k.ze=l;k.Pc=!1;return k;})(a.bf);b["default"]=a;},60440:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){this.Ac=this.nw([{eOb:"int32"},{t9b:"int32"}]);if(null === k || void 0 === k?0:k.Yd)(k.Yd.Vgc=this.Ac.eOb,k.Yd.xkc=this.Ac.t9b);return !0;};f.ze="pasp";f.Pc=!1;return f;})(a(85571).bf);b["default"]=r;},44210:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(26464);f=a(255);k=a(61671);r=a(85571);d=a(6483);a=(function(g){function n(){return null !== g && g.apply(this,arguments) || this;}c.__extends(n,g);n.prototype.parse=function(){this.wg();this.rL=this.M.Tb();return !0;};n.prototype.LT=function(h){var m;m=Object.keys(this.Kd);m.length && (m=m[0],this.Kd[m].length && (m=this.Kd[m][0],m instanceof k.default?this.Aa=new f.L(m.QF,m.samplerate):m instanceof d.default && (m=m.Kd[l.Bea]) && m.length && (m=m[0].Ac,1E3 !== m.cr && 1001 !== m.cr || 0 !== m.Tt % 1E3?this.M.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + m.Tt + "/" + m.cr):this.Aa=new f.L(m.cr,m.Tt)),h && this.Aa && (h.Aa=this.Aa)));return !0;};n.prototype.Yab=function(h){void 0 !== this.Kd[h] && 0 !== this.Kd[h].length && (this.Rb.wu(this.rL - 1,this.byteOffset + 12),h=this.Kd[h][0],this.em(h.byteLength,h.byteOffset));};n.ze="stsd";n.Pc=!0;return n;})(r.bf);b["default"]=a;},44126:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=a(85571);l=a(85571);a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){this.M.offset+=6;this.M.Nf();l.K && this.M.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === d || void 0 === d?0:d.Yd)d.Yd.W1b=this.type;return !0;};return k;})(r.bf);b["default"]=a;},80586:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(85571);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){this.wg();this.lxa=this.M.ez();l.K && this.M.console.trace("SchemeTypeBoxTranslator: " + this.lxa);if("cenc" === this.lxa){if((this.M.offset-=4,l.K && this.M.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.M.offset),this.Rb.Ehb("piff"),null === d || void 0 === d?0:d.Yd))d.Yd.mGb="piff";}else if(null === d || void 0 === d?0:d.Yd)d.Yd.mGb=this.lxa;this.M.Tb();return !0;};k.ze="schm";k.Pc=!1;return k;})(l.bf);b["default"]=r;},85978:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=a(255);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.LT=function(d){var g;if(d && d.Aa && !d.XWb){g=this.No("mdia");g && (g=g.No("mdhd")) && g.N !== d.Aa.N && (d.Aa=new l.L(d.Aa).dd(g.N));}return !0;};k.ze="trak";k.Pc=!0;return k;})(a(85571).bf);b["default"]=r;},85830:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){var d,g,n,h,m;this.wg();d=this.nw([{SO:"int32"},{Vla:"int32"},{yv:"int32"},{dy:"int32"},{cy:"int32"}]);g=d.SO;n=d.Vla;h=d.yv;m=d.cy;d=d.dy;this.Ac={trackId:g,Pfc:n,D4:h,Qfc:m,Rfc:d};(null === k || void 0 === k?0:k.Fg) && k.Fg[g] && (k.Fg[g].Vla=n,k.Fg[g].yv=h,k.Fg[g].cy=m,k.Fg[g].dy=d);this.SO=g;this.Vla=n;this.yv=h;this.dy=d;this.cy=m;return !0;};f.ze="trex";f.Pc=!1;return f;})(a(85571).bf);b["default"]=r;},20968:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){var d;this.wg();d=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];d=d.concat({offset:64,type:"offset"},{Chc:"int16"},{Qec:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Ac=this.nw(d);this.Ac.hkc=!!(this.flags & 1);this.Ac.ikc=!!(this.flags & 2);this.Ac.jkc=!!(this.flags & 4);this.Ac.kkc=!!(this.flags & 8);if(null === k || void 0 === k?0:k.Yd)(k.Yd.width=this.Ac.width / 65536,k.Yd.height=this.Ac.height / 65536);k && k.Fg && (k.Fg[this.Ac.trackId]={});return !0;};f.ze="tkhd";f.Pc=!1;return f;})(a(85571).bf);b["default"]=r;},58853:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.hPa=void 0;c=a(5163);l=a(61901);f=a(27172);k=a(16936);r=(function(d){function g(n,h,m,p,q){n=d.call(this,n,h,m,p,q) || this;n.wT=!1;return n;}c.__extends(g,d);Object.defineProperties(g.prototype,{JXa:{get:function(){return !!(this.flags & 1);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{F5:{get:function(){return !!(this.flags & 4);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Y$:{get:function(){return !!(this.flags & 256);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{$$:{get:function(){return !!(this.flags & 512);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{$wa:{get:function(){return !!(this.flags & 1024);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Zwa:{get:function(){return !!(this.flags & 2048);},enumerable:!1,configurable:!0}});g.prototype.parse=function(n){var h,m,p;this.wg();this.Fja=this.M.offset;this.ud=this.M.Tb();this.Om=this.JXa?this.M.B$():0;this.lIb=this.F5?this.M.Tb():void 0;this.Ywa=(this.Y$?4:0) + (this.$$?4:0) + (this.$wa?4:0) + (this.Zwa?4:0);this.CL=this.M.offset;(0,f.assert)(this.JXa,"Expected data offset to be present in Track Run");(0,f.assert)(this.length - (this.M.offset - this.startOffset) === this.ud * this.Ywa,"Expected remaining data in box to be sample information");if(n && n.Ma){n.Ma.Om=this.Om;n.Ma.ud=this.ud;this.Oj=[];p=null === (m=null === (h=this.parent) || void 0 === h?void 0:h.Wm("tfhd")) || void 0 === m?void 0:m.SO;for(h=0;h < this.ud;h++){m={};this.Y$?m.X$=this.M.Tb():n.Ma.yv?m.X$=n.Ma.yv:p && n.Fg && n.Fg[p] && (m.X$=n.Fg[p].yv);this.$$?m.LH=this.M.Tb():n.Ma?m.LH=n.Ma.dy:p && n.Fg && n.Fg[p] && (m.LH=n.Fg[p].dy);this.$wa?m.Z$=this.M.Tb():n.Ma?m.Z$=n.Ma.cy:p && n.Fg && n.Fg[p] && (m.Z$=n.Fg[p].cy);this.Zwa && (m.kjc=0 === this.version?this.M.Tb():this.M.B$());0 === h && this.F5 && (m.Z$=this.lIb);this.Oj.push(m);}n.Ma.Oj=this.Oj;if(n.Ma.KH)for(((0,f.assert)(n.Ma.KH.length === n.Ma.Oj.length,("num fragment samples: ").concat(n.Ma.Oj.length,", ") + ("num samples in auxiliary info: ").concat(n.Ma.KH.length)),p=0);p < n.Ma.Oj.length;p++){n.Ma.Oj[p].Lda=n.Ma.KH[p].Lda;n.Ma.Oj[p].Lya=n.Ma.KH[p].Lya;}}return !0;};g.prototype.s2=function(n,h,m){var p,q,u;p=this.Y$?this.M.Tb():n.yv;q=this.$$?this.M.Tb():n.dy;n=this.$wa?this.M.Tb():n.cy;u=this.Zwa?0 === this.version?this.M.Tb():this.M.B$():0;return {Y1b:u,Z$:n,LH:q,X$:p,Tic:(m || 0) + u - (void 0 !== h?h:u)};};g.prototype.Ja=function(n,h,m,p,q,u,t){var w,v,y,x;(0,f.assert)(void 0 !== this.Om);(0,f.assert)(void 0 !== this.CL);(0,f.assert)(void 0 !== this.Fja);(0,f.assert)(void 0 !== this.ud);(0,f.assert)(void 0 !== n.Uq);w=0;v=0;this.Rb.offset=this.CL;for(p=0;p < q;++p){y=this.s2(h,x,v);if(0 === p)x=y.Y1b;w+=y.LH;v+=y.X$;}p=q;q=this.M.offset;y=this.s2(h,x,v);this.mwa=t;this.qO=p;this.Fdb=v;if(t){if((this.SN=this.Om + w,this.nq=0,p === this.ud))return !0;}else if((this.SN=this.Om,this.nq=w,0 === p))return !0;if(0 === p || p === this.ud)return !1;this.wT=!0;if(t){this.nq+=y.LH;for(t=p + 1;t < this.ud;++t){y=this.s2(h,x,v);this.nq+=y.LH;}this.Rb.offset=this.Fja;this.ud=p;this.Rb.wu(this.ud);this.Rb.vAa(u);this.F5 && (this.M.offset+=4);this.em(this.length - (q - this.startOffset),q);}else (h=q - this.CL,this.CL=q,this.Rb.offset=this.Fja,this.ud-=p,this.Rb.wu(this.ud),this.Om+=w,this.Rb.vAa(u,this.Om),this.F5 && (this.M.offset+=4),this.em(h,this.Rb.offset));m.em(this.nq,n.Uq + this.SN);return !0;};g.prototype.yUb=function(n,h,m,p,q,u,t,w){var v,x,z,A,B;void 0 === t && (t=!1);(0,f.assert)(void 0 !== this.Om);(0,f.assert)(void 0 !== this.CL);(0,f.assert)(void 0 !== this.ud);(0,f.assert)(void 0 !== this.Ywa);(0,f.assert)(void 0 !== n.Uq);for(var y=p.length;y < this.ud;++y){p[y]=p[y - 1];}p.some(function(C){return 0 >= C;}) && (x=null === (v=this.Fqb(q,u)) || void 0 === v?void 0:v.Daa);this.M.offset=this.CL;n=n.Uq + this.Om;q=-1 !== q.indexOf("heaac")?"aac":"ddp";u=new Uint8Array(this.M.view.buffer,this.M.view.byteOffset,this.M.view.byteLength);for(y=0;y < this.ud;++y){v=this.s2(h).LH;if(-Infinity === p[y]){if(x && this.$$){m.K$(v,x,n);z=this.Ywa - (this.Y$?4:0);this.Rb.offset-=z;this.Rb.wu(x.byteLength);this.Rb.offset+=z - 4;}}else if(0 > p[y])try{A=u.subarray(n,n + v);B=(0,l.RZa)({yd:q,frame:A,Hx:p[y],IH:t,OG:w}).HIb;B !== v && this.M.console.error(("TrackRunBoxEditor: parse frame size error ").concat(B," should be ").concat(v));}catch(C){this.M.console.error(("TrackRunBoxEditor: fadeFrame error: ").concat(C.message," ").concat(C.stack));}n+=v;}};g.prototype.Fqb=function(n,h){if("string" === typeof h)return ((0,f.assert)("reset" !== h && "standard" !== h),k.$E[h]);if(void 0 !== n)return h?k.$E.reset[n] || k.$E.standard[n]:k.$E.standard[n];};g.ze="trun";g.Pc=!1;return g;})(a(85571).bf);b.hPa=r;},6483:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.DAa=b.bGa=b.qGa=b.JAa=b.IAa=b.HAa=b.GAa=void 0;c=a(5163);r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.prototype.parse=function(k){l.prototype.parse.call(this,k);this.Ac=this.nw([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{hhc:"int32"},{ykc:"int32"},{offset:32,type:"offset"},{Ggc:"int16"},{Cfc:{type:"int8",cvb:32}},{depth:"int16"},{offset:16,type:"offset"}]);if(null === k || void 0 === k?0:k.Yd)(k.Yd.width=this.Ac.width,k.Yd.height=this.Ac.height);return !0;};f.Pc=!0;return f;})(a(44126).default);b["default"]=r;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.ze="avc1";return f;})(r);b.GAa=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.ze="avc2";return f;})(r);b.HAa=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.ze="avc3";return f;})(r);b.IAa=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.ze="avc4";return f;})(r);b.JAa=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.ze="hvc1";return f;})(r);b.qGa=a;a=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.ze="hev1";return f;})(r);b.bGa=a;r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);f.ze="av01";return f;})(r);b.DAa=r;},91418:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.LZ=void 0;c=a(5163);l=a(85571);f=a(97001);r=(function(k){function d(g,n,h,m,p){h=k.call(this,h,m,p) || this;h.Dwb=g;h.xO=n;h.Kd={};return h;}c.__extends(d,k);d.prototype.parse=function(g){var n,h,m,p,q,u;this.offset=0;n=[];for(g=g || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){h=this.offset;m=this.Tb();if(0 === m)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=(0,f.sx)(this.Tb());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.C$();}if(0 === n.length && this.xO.K_a(p,h,m))break;if(h + m > this.view.byteLength)break;q=this.Dwb[p];u=void 0;if(q){if((u=new q(this,p,h,m,n[0]),(n[0] || this).jS(u),u.parse(g)))this.config.Dua && q.Pc?n.unshift(u):this.offset=h + m;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=h + m;for(;n.length && this.offset > n[0].byteOffset + n[0].fH - 8;){u=n.shift();if(!u.LT(g))return {done:!1,offset:this.offset,error:"finalize error in " + u.type + " box"};this.offset=u.byteOffset + u.fH;}if(0 === n.length && this.xO.yYa(p,h,m,u))break;}return !this.xO.done && (g=this.xO.endOffset?this.xO.endOffset - this.view.byteLength:4096,0 < g)?{done:!1,offset:this.offset,X7a:g}:{done:!0,offset:Math.min(this.xO.endOffset || Infinity,this.offset)};};d.prototype.jS=function(g){l.bf.jS(this,g);};return d;})(a(96785).SPa);b.LZ=r;},51170:function(r){var c,l;function b(){var f,k;if(DataView.prototype && DataView.prototype.FU && !l){try{f=new ArrayBuffer(4);k=new DataView(f);k.aM(0,4,1);}catch(d){return;}try{f=new ArrayBuffer(4);k=new DataView(f);k.aM(1,2,2);}catch(d){DataView.prototype.aM=a(DataView.prototype.aM,DataView.prototype.getUint8,Uint8Array);DataView.prototype.G6=a(DataView.prototype.G6,DataView.prototype.getUint16,Uint16Array);DataView.prototype.FU=a(DataView.prototype.FU,DataView.prototype.getUint32,Uint32Array);DataView.prototype.Coa=a(DataView.prototype.Coa,DataView.prototype.getInt8,Int8Array);DataView.prototype.Aoa=a(DataView.prototype.Aoa,DataView.prototype.getInt16,Int16Array);DataView.prototype.Boa=a(DataView.prototype.Boa,DataView.prototype.getInt32,Int32Array);}c.XMb=function(d,g,n,h,m){return n?d.aM(g,n,h || 1,m):new Uint8Array(0);};c.VMb=function(d,g,n,h,m){return n?d.G6(g,n,h || 2,m):new Uint16Array(0);};c.WMb=function(d,g,n,h,m){return n?d.FU(g,n,h || 4,m):new Uint32Array(0);};c.Qgc=function(d,g,n,h,m){return n?d.Coa(g,n,h || 1,m):new Int8Array(0);};c.Ogc=function(d,g,n,h,m){return n?d.Aoa(g,n,h || 2,m):new Int16Array(0);};c.Pgc=function(d,g,n,h,m){return n?d.Boa(g,n,h || 4,m):new Int32Array(0);};l=!0;}}function a(f,k,d){return function(g,n,h,m){var p;h=h || d.BYTES_PER_ELEMENT;if(g + n * h > this.byteLength){p=new d(n);p.set(f.call(this,g,n - 1,h,m));p[n - 1]=k.call(this,g + (n - 1 * h),m);return p;}return f.call(this,g,n,h,m);};}c={aM:function(f,k,d,g,n){var h;h=new Uint8Array(d);g=g || 1;for(var m=0;m < d;(++m,k+=g)){h[m]=f.getUint8(k,n);}return h;},G6:function(f,k,d,g,n){var h;h=new Uint16Array(d);g=g || 2;for(var m=0;m < d;(++m,k+=g)){h[m]=f.getUint16(k,n);}return h;},FU:function(f,k,d,g,n){var h;h=new Uint32Array(d);g=g || 4;for(var m=0;m < d;(++m,k+=g)){h[m]=f.getUint32(k,n);}return h;},Coa:function(f,k,d,g,n){var h;h=new Int8Array(d);g=g || 1;for(var m=0;m < d;(++m,k+=g)){h[m]=f.getInt8(k,n);}return h;},Aoa:function(f,k,d,g,n){var h;h=new Int16Array(d);g=g || 2;for(var m=0;m < d;(++m,k+=g)){h[m]=f.getInt16(k,n);}return h;},Boa:function(f,k,d,g,n){var h;h=new Int32Array(d);g=g || 4;for(var m=0;m < d;(++m,k+=g)){h[m]=f.getInt32(k,n);}return h;},vgc:b};l=!1;c.fKb=function(){return l;};b();r.exports=c;},48609:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.ada=void 0;c=a(5163);l=a(85571);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){var g;this.t9=this.M.nd();g=this.M.nd();this.Eya=g >>> 2;this.Mza=g >>> 1 & 1;this.Mja=256 * this.M.Nf() + this.M.nd();this.maxBitrate=this.M.Tb();this.z3=this.M.Tb();l.K && this.M.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.t9.toString(16) + ", streamType=" + this.Eya + ", upStream=" + this.Mza + ", bufferSizeDB=" + this.Mja + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.z3);if(null === d || void 0 === d?0:d.Ti)(d.Ti.t9=this.t9,d.Ti.Eya=this.Eya,d.Ti.Mza=this.Mza,d.Ti.Mja=this.Mja,d.Ti.maxBitrate=this.maxBitrate,d.Ti.z3=this.z3);this.URa(d);return !0;};k.tag=4;return k;})(a(4420).o_);b.ada=r;},91737:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.XDa=void 0;c=a(5163);l=a(85571);r=a(4420);f=a(26678);a=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);d.prototype.tab=function(){var g;g=this.M.Qc(4);return 15 !== g?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][g]:this.M.Qc(24);};d.prototype.parse=function(g,n){if(this.MPb(n) && 64 === n.t9){if(null === g || void 0 === g?0:g.Ti){n=this.M.E0a(this.length);for(var h=new ArrayBuffer(this.length),m=new Uint8Array(h),p=0;p < this.length;p++){m[p]=n.getUint8(p);}g.Ti.Ofc=h;}this.wp=this.lab();this.aaa=this.tab();this.oka=this.M.Qc(4);this.dxa=this.IT=5 === this.wp || 29 === this.wp?5:-1;this.Jva=29 === this.wp?1:-1;0 < this.IT && (this.cna=this.tab(),this.wp=this.lab(),22 === this.wp && (this.bna=this.M.Qc(4)));switch(this.wp){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.XT=this.M.Qc(1),this.kla=(this.YDb=this.M.Qc(1))?this.M.Qc(14):void 0,this.M.Qc(1),this.QF=3 === this.wp?256:23 === this.wp?this.XT?480:512:this.XT?960:1024);}l.K && this.M.console.trace("AudioSpecificConfig: audioObjectType=" + this.wp + ", samplingFrequency=" + this.aaa + ", channelConfiguration=" + this.oka + ", extensionAudioObjectType=" + this.IT + ", sbrPresentFlag=" + this.dxa + ", psPresentFlag=" + this.Jva + ", extensionSamplingFrequency=" + this.cna + ", extensionChannelConfiguration=" + this.bna + ", frameLengthFlag=" + this.XT + ", coreCoderDelay=" + this.kla + ", frameLength=" + this.QF);if(null === g || void 0 === g?0:g.Ti)(g.Ti.wp=this.wp,g.Ti.aaa=this.aaa,g.Ti.oka=this.oka,g.Ti.IT=this.IT,g.Ti.dxa=this.dxa,g.Ti.Jva=this.Jva,g.Ti.cna=this.cna,g.Ti.bna=this.bna,g.Ti.XT=this.XT,g.Ti.kla=this.kla,g.Ti.QF=this.QF);}this.skip();return !0;};d.prototype.lab=function(){var g;g=this.M.Qc(5);31 === g && (g=32 + this.M.Qc(6));return g;};d.prototype.MPb=function(g){return g.tag === f.ada.tag;};d.tag=5;return d;})(r.o_);b.XDa=a;},4420:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.o_=void 0;c=a(5163);l=a(26678);r=(function(){function f(k,d,g){this.tag=k;this.view=d;this.M=g;this.startOffset=g.offset;}f.nab=function(k,d,g){var n,h;n=k.nd();h=k.C_b();k=new (l.yF[n] || f)(n,k.E0a(h),k);k.parse(d,g);return k;};Object.defineProperties(f.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!1,configurable:!0}});f.prototype.parse=function(){this.M.offset=this.startOffset + this.length;this.M.sd=0;return !0;};f.prototype.h_a=function(k){var d,n;d=[];this.tag === k && d.push(this);if(this.yF)for(var g=0;g < this.yF.length;g++){n=this.yF[g];d=c.__spreadArray(c.__spreadArray([],d,!0),n.h_a(k),!0);}return d;};f.prototype.Wm=function(k){for(k=this.h_a(k);0 < k.length;){return k[0];}};f.prototype.URa=function(k){for(this.yF=[];this.M.offset < this.startOffset + this.length;){this.yF.push(f.nab(this.M,k,this));}};return f;})();b.o_=r;r.prototype.skip=r.prototype.parse;},26678:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.yF=void 0;r=a(5163);r.__exportStar(a(4420),b);r.__exportStar(a(99128),b);r.__exportStar(a(48609),b);r.__exportStar(a(91737),b);r=a(48609);c=a(91737);a=a(99128);b.yF={3:a.lda,4:r.ada,5:c.XDa};},99128:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.lda=void 0;c=a(5163);l=a(85571);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(d){var g;this.Ukb=this.M.Nf();g=this.M.nd();this.heb=!!(g & 128);this.wPa=!!(g & 64);this.eKa=!!(g & 32);this.x5b=g & 31;this.ZDb=this.heb?this.M.Nf():void 0;this.wPa && this.M.z$(this.M.nd());this.bnb=this.eKa?this.M.Nf():void 0;l.K && this.M.console.trace("ESDescriptor: ES_ID=" + this.Ukb + ", streamDependenceFlag=" + this.heb + ", URL_Flag=" + this.wPa + ", OCRstreamFlag=" + this.eKa + ", streamPriority=" + this.x5b + ", dependsOn_ES_ID=" + this.ZDb + ", OCR_ES_Id=" + this.bnb);this.URa(d);return !0;};k.tag=3;return k;})(a(4420).o_);b.lda=r;},36418:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.u=b.$E=b.q1=b.hga=b.rkb=b.sx=b.kJ=b.$P=b.hC=b.Cs=b.cx=b.Bq=void 0;r=a(52297);c=a(51170);b.rkb=c;c=a(11174);b.hga=c;c=a(16936);b.$E=c;b.q1=r.YM.Kd.sidx;l=a(56602);Object.defineProperties(b,{Bq:{enumerable:!0,get:function(){return l.Bq;}}});f=a(46788);Object.defineProperties(b,{cx:{enumerable:!0,get:function(){return f.cx;}}});k=a(70190);Object.defineProperties(b,{Cs:{enumerable:!0,get:function(){return k.Cs;}}});Object.defineProperties(b,{hC:{enumerable:!0,get:function(){return k.hC;}}});d=a(49478);Object.defineProperties(b,{$P:{enumerable:!0,get:function(){return d.$P;}}});g=a(9080);Object.defineProperties(b,{kJ:{enumerable:!0,get:function(){return g.kJ;}}});n=a(97001);Object.defineProperties(b,{sx:{enumerable:!0,get:function(){return n.sx;}}});h=a(23378);Object.defineProperties(b,{u:{enumerable:!0,get:function(){return h.u;}}});},49478:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.$P=void 0;c=a(5163);r=a(46788);l=a(57821);a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.Ja=function(d){var g,n,h,m;g=this;if(!this.parse().done)return !1;n=this.Kd.moov;if(!n || 0 === n.length)return !1;h=n[0].Wm("tenc");if(!h)return !1;m=new Uint8Array(h.no);d.forEach(function(p){for(var q=p.from,u=!0,t=0;t < q.length;t++){if(m[t] !== q[t]){u=!1;break;}}u && g.lf.K$(p.from.length,p.to,h.mra);});return (0,l.concat)(this.lf.Ja());};return k;})(r.cx);b.$P=a;},23378:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.u=void 0;c=a(60328);Object.defineProperties(b,{u:{enumerable:!0,get:function(){return c.u;}}});},52297:function(r,b,a){var E,G,F,J,M,L,K,P,H,I,N,R,X,ha,ta,la,xa,Ba,La,Za,ab,Z,na,Ha,Sa,Q,ra,qa,O,ia,va,Oa,eb,Xa,qb,zb;function c(Ta,bb,kb,sb,pb){J.call(this,Ta,bb,kb,sb,pb);}function l(Ta,bb,kb,sb,pb){J.call(this,Ta,bb,kb,sb,pb);}function f(Ta,bb,kb,sb,pb){J.call(this,Ta,bb,kb,sb,pb);}function k(Ta,bb,kb,sb,pb){J.call(this,Ta,bb,kb,sb,pb);this.gya=Ta.config.gya;this.ef=this.sizes=void 0;}function d(Ta,bb,kb,sb,pb){J.call(this,Ta,bb,kb,sb,pb);}function g(){for(var Ta=new DataView(this),bb="",kb,sb=0;sb < this.byteLength;sb++){kb=Ta.getUint8(sb);bb+=("00" + kb.toString(16)).slice(-2);}return bb;}function n(Ta,bb,kb,sb,pb){J.call(this,Ta,bb,kb,sb,pb);}function h(Ta,bb,kb,sb,pb){J.call(this,Ta,bb,kb,sb,pb);}function m(Ta,bb,kb,sb,pb){J.call(this,Ta,bb,kb,sb,pb);}function p(Ta,bb,kb,sb,pb){J.call(this,Ta,bb,kb,sb,pb);}function q(Ta,bb,kb,sb,pb){J.call(this,Ta,bb,kb,sb,pb);}function u(Ta){function bb(kb,sb,pb,Cb,Ab){J.call(this,kb,sb,pb,Cb,Ab);this.XUb=Ta;}bb.Pc=!1;bb.prototype=new J();bb.prototype.constructor=bb;Object.defineProperties(bb.prototype,{ODa:{get:function(){return this.XUb;}}});bb.prototype.parse=function(){this.M.offset=this.startOffset + 4;this.Rb.Ehb(this.ODa);this.type=this.ODa;return !0;};return bb;}function t(Ta,bb,kb,sb,pb){J.call(this,Ta,bb,kb,sb,pb);}function w(Ta,bb,kb,sb,pb){J.call(this,Ta,bb,kb,sb,pb);}function v(Ta,bb,kb,sb,pb){J.call(this,Ta,bb,kb,sb,pb);}function y(Ta,bb,kb,sb,pb){J.call(this,Ta,bb,kb,sb,pb);}function x(Ta,bb,kb,sb,pb){J.call(this,Ta,bb,kb,sb,pb);}function z(Ta,bb,kb,sb,pb){J.call(this,Ta,bb,kb,sb,pb);}function A(Ta,bb,kb,sb,pb){J.call(this,Ta,bb,kb,sb,pb);}function B(Ta,bb,kb,sb,pb){J.call(this,Ta,bb,kb,sb,pb);}function C(Ta,bb,kb,sb,pb){J.call(this,Ta,bb,kb,sb,pb);}function D(Ta,bb){Ta.forEach(function(kb){bb[kb.ze]=kb;});}E=a(27172).assert;b=a(26464);G=a(255).L;F=a(11174);a(51170);a(97001);a(97001);a(97001);J=a(85571).bf;M=a(97291)["default"];L=a(85978)["default"];K=a(20968)["default"];P=a(60841)["default"];H=a(60440)["default"];I=a(22770)["default"];N=a(89849)["default"];R=a(36464)["default"];X=a(44210)["default"];a(44126);a(61671);ha=a(82818).yAa;ta=a(82818).EEa;la=a(24475)["default"];xa=a(89525)["default"];Ba=a(6483)["default"];La=a(6483).GAa;Za=a(6483).HAa;ab=a(6483).IAa;Z=a(6483).JAa;na=a(80586)["default"];Ha=a(24895)["default"];Sa=a(27235)["default"];Q=a(6483).qGa;ra=a(6483).bGa;qa=a(6483).DAa;O=a(12228)["default"];ia=a(46079)["default"];va=a(75706)["default"];Oa=a(79798)["default"];eb=a(30855)["default"];a(4420);a(48609);a(91737);a(99128);Xa=a(85830)["default"];qb=a(58853).hPa;zb=a(21501)["default"];a=a(57199)["default"];c.Pc=!0;c.prototype=new J();c.prototype.constructor=c;l.Pc=!0;l.prototype=new J();l.prototype.constructor=l;f.Pc=!1;f.prototype=new J();f.prototype.constructor=f;f.prototype.parse=function(Ta){var bb;this.wg();1 === this.version?(this.M.bj(),this.M.bj(),this.N=this.M.Tb(),this.duration=this.M.bj()):(this.M.Tb(),this.M.Tb(),this.N=this.M.Tb(),this.duration=this.M.Tb());bb=this.M.Nf() & 32767;this.language=String.fromCharCode(96 + (bb >>> 10),96 + (bb >>> 5 & 31),96 + (bb & 31));Ta && Ta.Yd && (Ta.Yd.N=this.N,Ta.Yd.duration=this.duration);return !0;};k.Pc=!1;k.prototype=new J();k.prototype.constructor=k;k.prototype.Vrb=function(){this.wg();this.M.Tb();this.N=this.M.Tb();0 === this.version?(this.LYa=this.M.Tb(),this.y_a=this.M.Tb()):(this.LYa=this.M.bj(),this.y_a=this.M.bj());this.ubb=this.M.Nf();this.Jab=this.M.Nf();};k.prototype.Vpb=function(Ta,bb){var kb,sb,pb;kb=this.N;Ta=Ta && Ta.N || kb;sb=Ta / kb;kb=this.M.y$(bb,12,!1);pb=1 === sb?this.M.y$(bb,12,!1):F.from(Uint32Array,{length:bb},function(){var Cb;Cb=Math.round(this.M.Tb() * sb);this.M.offset+=8;return Cb;},this);this.Ssb(bb,pb,kb,Ta);};k.prototype.Ssb=function(Ta,bb,kb,sb){if(this.gya){sb=this.gya * sb / 1E3;for(var pb=0,Cb=1;Cb < Ta;Cb++){Math.abs(bb[pb] - sb) > Math.abs(bb[pb] + bb[Cb] - sb)?(bb[pb]+=bb[Cb],kb[pb]+=kb[Cb]):(++pb,pb !== Cb && (bb[pb]=bb[Cb],kb[pb]=kb[Cb]));}++pb;bb=new Uint32Array(bb.buffer.slice(0,4 * pb));kb=new Uint32Array(kb.buffer.slice(0,4 * pb));}this.sizes=kb;this.ef=bb;};k.prototype.parse=function(Ta){var bb,kb,sb,pb;this.Vrb();this.Aa=Ta.Aa;bb=this.N;kb=this.Aa && this.Aa.N || bb;sb=this.Jab;pb=this.startOffset + this.length + this.y_a;bb=new G(this.LYa,bb).dd(kb).ja;this.Ha={N:kb,cs:bb,offset:pb};this.Vpb(this.Aa,sb);this.Ha.ef=this.ef;this.Ha.sizes=this.sizes;Ta.zk=this;return !0;};d.Pc=!1;d.prototype=new J();d.prototype.constructor=d;d.prototype.parse=function(){var Ta;this.Gw=[];this.YXb=[];Ta=(this.length - 11) / 2;this.M.nd();this.M.nd();this.M.nd();for(var bb=0;bb < Ta;bb++){this.Gw.push(this.M.nd());this.YXb.push(this.M.nd());}return !0;};n.Pc=!1;n.prototype=new J();n.prototype.constructor=n;n.prototype.parse=function(Ta){var bb;this.wg();this.M.offset+=1;if(0 == this.version)this.M.offset+=1;else {bb=this.M.nd();this.HDb=bb >> 4;this.NDb=bb & 15;Ta && Ta.Yd && (Ta.Yd.Sfc=this.HDb,Ta.Yd.Vfc=this.NDb);}this.aYa=this.M.nd();this.$Xa=this.M.nd();this.mra=this.M.offset;this.no=this.M.A$(16);this.no.toString=g;Ta && Ta.Yd && (Ta.Yd.Tfc=this.aYa,Ta.Yd.JDb=this.$Xa,Ta.Yd.Ufc=this.no);1 == this.aYa && 0 == this.$Xa && (this.GDb=this.M.nd(),this.FDb=this.M.A$(this.GDb),Ta && Ta.Yd && (Ta.Yd.IDb=this.FDb));return !0;};h.Pc=!1;h.prototype=new J();h.prototype.constructor=h;h.prototype.parse=function(){this.wg();this.Jp=this.M.Nf();this.GTb=this.M.y$(this.Jp,void 0,!0);return !0;};m.Pc=!1;m.prototype=new J();m.prototype.constructor=m;m.prototype.parse=function(Ta){var bb,kb,sb,pb,Cb,Ab;bb=Ta.zk;E(bb);Ta=Ta.Aa;kb=bb.N;bb=bb.Jab;E(Ta);E(kb);E(bb);this.wg();E(2 > this.version);this.Jp=this.M.Nf();this.zN=new Uint16Array(bb + 1);sb=Ta.r2a(kb);pb=sb / kb;Cb=Ta.dd(sb).ja;if(0 === this.version)for((this.eO=new Uint16Array(),this.vi=new Uint32Array(),Ta=kb=0);Ta <= bb;++Ta){if((this.zN[Ta]=kb,Ta < this.Jp)){Ab=this.M.nd();if(0 !== Ab)for(sb=0;sb < Ab;(++sb,++kb)){this.eO[kb]=Math.floor((this.M.Tb() + 1) * pb) / Cb;this.vi[kb]=this.M.Tb();}}}else if(1 === this.version)for((sb=this.M.z_b(this.Jp),this.M.offset+=4,this.vi=this.M.y$(this.Jp,10,!1),this.M.offset-=8,this.eO=F.from(Uint16Array,{length:this.Jp},function(){var Kb;Kb=Math.floor((this.M.Tb() + 1) * pb) / Cb;this.M.offset+=6;return Kb;},this),kb=Ta=0);Ta <= bb;++Ta){for(;kb < sb.length && sb[kb] < Ta;){++kb;}this.zN[Ta]=kb;}this.vj={zN:this.zN,eO:this.eO,vi:this.vi};return !0;};p.Pc=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.Pc=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.LT=function(){var Ta;Ta=this.No("tfhd");Ta && (this.Uq=Ta.vUa?Ta.Uq:this.parent.startOffset);return !0;};t.Pc=!1;t.prototype=new J();t.prototype.constructor=t;t.prototype.parse=function(){var Ta,Xb;Ta=this.M.offset;this.wg();if(1 === this.version){this.M.offset+=2;for(var bb=this.M.offset,kb=this.M.nd(),sb=this.M.nd(),pb=this.M.nd(),Cb=this.M.nd(),Ab=this.M.Nf(),Kb=[],Pb=0;Pb < Ab;++Pb){Kb=this.M.nd();}Pb=(kb & 240) >>> 4;Xb=(kb & 14) >>> 1;kb&=1;pb=16 === pb?1:0;sb != Cb && this.M.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + sb + " and matrixCoefficients " + Cb + " should be the same value!");Cb=2;switch(sb){case 1:Cb=2;break;case 6:Cb=1;break;case 9:Cb=5;break;default:this.M.console.warn("VP9: Unknown colourPrimaries " + sb + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Rb.Rba(this.version,Ta);this.Rb.Rba(Pb << 4 | Cb,bb++);this.Rb.Rba(Xb << 4 | pb << 1 | kb,bb++);Ab+=2;Kb.push(0,0);this.Rb.h$b(Ab);bb+=2;Kb.forEach(function(Jb){this.Rb.Rba(Jb,bb++);});}return !0;};w.Pc=!1;w.prototype=new J();w.prototype.constructor=w;w.ze="tfhd";Object.defineProperties(w.prototype,{vUa:{get:function(){return this.flags & 1;}},Z1b:{get:function(){return this.flags & 2;}},KDb:{get:function(){return this.flags & 8;}},MDb:{get:function(){return this.flags & 16;}},bYa:{get:function(){return this.flags & 32;}}});w.prototype.parse=function(Ta){this.wg();this.SO=this.M.Tb();this.Uq=this.vUa?this.M.bj():void 0;this.Ubb=this.Z1b?this.M.Tb():void 0;this.yv=this.KDb?this.M.Tb():void 0;this.dy=this.MDb?this.M.Tb():void 0;this.cy=this.bYa?this.M.Tb():void 0;Ta && Ta.Ma && (Ta.Ma.SO=this.SO,Ta.Ma.Uq=this.Uq,Ta.Ma.Ubb=this.Ubb,Ta.Ma.yv=this.yv,Ta.Ma.dy=this.dy,Ta.Ma.cy=this.bYa?this.cy:void 0);return !0;};v.Pc=!1;v.prototype=new J();v.prototype.constructor=v;v.prototype.parse=function(Ta){this.wg();this.dF=1 === this.version?this.M.bj():this.M.Tb();Ta && Ta.Ma && (Ta.Ma.dF=this.dF);return !0;};v.prototype.Ja=function(Ta){var bb;bb=this.startOffset + 12;this.dF+=Ta;1 === this.version?this.Rb.i$b(this.dF,bb):this.Rb.wu(this.dF,bb);};y.Pc=!1;y.prototype=Object.create(J.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{bF:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(Ta){this.wg();this.bF && this.M.ez();this.bF && this.M.Tb();this.LDb=this.M.nd();this.ud=this.M.Tb();this.SOb=this.M.z$(this.ud);Ta && Ta.Ma && (Ta.Ma.$1b=this.SOb);return !0;};y.prototype.Ja=function(Ta,bb){if(Ta && 0 === this.LDb){Ta=bb?this.ud - Ta:Ta;this.Rb.offset=this.startOffset + 13 + (this.bF?8:0);this.ud-=Ta;this.Rb.wu(this.ud);this.Vwa=0;if(bb)this.Rb.offset+=this.ud;else {for(bb=0;bb < Ta;++bb){this.Vwa+=this.Rb.nd();}this.Rb.offset-=Ta;}this.em(Ta,this.M.offset);}return !0;};x.Pc=!1;x.prototype=Object.create(J.prototype);x.prototype.constructor=x;Object.defineProperties(x.prototype,{bF:{get:function(){return this.flags & 1;}}});x.prototype.parse=function(Ta){var bb,kb,Pb,Xb;this.wg();this.bF && this.M.ez();this.bF && this.M.Tb();this.Jp=this.M.Tb();E(1 === this.Jp,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Om=0 === this.version?this.M.B$():this.M.E_b();this.M.offset=this.Om;if(Ta && Ta.Ma && Ta.Yd){bb=Ta.Yd.JDb;kb=Ta.Ma.$1b;E(0 < bb || void 0 !== Ta.Yd.IDb,"Expected per sample or constant IV");E(0 < (kb || []).length,"Expected saix box parsing to find sample info sizes");Ta.Ma.KH=[];for(var sb=0;sb < kb.length;sb++){for(var pb=bb?this.M.A$(bb):void 0,Cb=[],Ab=this.M.Nf(),Kb=0;Kb < Ab;Kb++){Pb=this.M.Nf();Xb=this.M.Tb();Cb.push({cxb:Pb,dxb:Xb});}Ta.Ma.KH.push({Lya:Cb,Lda:pb});}}return !0;};x.prototype.Ja=function(Ta,bb){this.Om+=Ta;this.Rb.offset=this.startOffset + 16 + (this.bF?8:0) + (0 === this.version?0:4);this.Rb.vAa(bb,this.Om);return !0;};z.Pc=!1;z.prototype=Object.create(J.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{r9a:{get:function(){return this.flags & 1;}},Sgb:{get:function(){return this.flags & 2;}}});z.prototype.parse=function(Ta){var bb,Ab,Kb;this.wg();bb=0;this.r9a && (bb=this.NQb=this.M.Tb() & 255,this.M.z$(16));if(Ta && Ta.Ma){if(Ta.Ma.KH)return !0;Ta.Ma.Oj || (Ta.Ma.Oj=[]);}if(0 !== bb && 8 !== bb && 16 !== bb)return !0;this.ud=this.M.Tb();if(Ta && Ta.Ma)for(var kb=0;kb < this.ud;kb++){if((Ta.Ma.Oj[kb].Lda=0 < bb?this.M.A$(bb):void 0,this.Sgb)){for(var sb=[],pb=this.M.Nf(),Cb=0;Cb < pb;Cb++){Ab=this.M.Nf();Kb=this.M.Tb();sb.push({cxb:Ab,dxb:Kb});}Ta.Ma.Oj[kb].Lya=sb;}}return !0;};z.prototype.Ja=function(Ta,bb){var kb,sb;kb=bb?this.ud - Ta:Ta;this.Rb.offset=this.startOffset + 28 + (this.r9a?20:0);this.ud-=kb;this.Rb.wu(this.ud);Ta=this.Rb.offset;if(this.Sgb)for(kb=bb?this.ud:kb;0 < kb;--kb){this.Rb.offset+=8;sb=this.Rb.Nf();this.Rb.offset+=6 * sb;}else this.Rb.offset+=8 * (bb?this.ud:kb);bb?this.em(this.length - (this.M.offset - this.startOffset),this.M.offset):this.em(this.M.offset - Ta,Ta);};A.Pc=!1;A.prototype=Object.create(J.prototype);A.prototype.constructor=A;A.prototype.parse=function(Ta){this.wg();if(Ta && Ta.Ma){void 0 === Ta.Ma.Oj && (Ta.Ma.Oj=[]);for(var bb=0;bb < this.length - 12;bb++){Ta.Ma.Oj[bb].ljc=this.M.nd();}}return !0;};A.prototype.Ja=function(Ta,bb,kb){kb?this.em(bb - Ta,this.startOffset + 12 + Ta):this.em(Ta,this.startOffset + 12);return !0;};B.Pc=!1;B.prototype=Object.create(J.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.wg();this.M.ez();1 === this.version && this.M.Tb();this.Jp=this.M.Tb();this.IX=[];for(var Ta=0;Ta < this.Jp;++Ta){for(var bb=this.M.Tb(),kb=this.M.Tb(),sb=0;sb < bb;++sb){this.IX.push(kb);}}return !0;};B.prototype.Ja=function(Ta,bb){this.IX=bb?this.IX.slice(0,Ta):this.IX.slice(Ta);Ta=this.IX.reduce(function(kb,sb){0 !== kb.length && kb[kb.length - 1].group === sb || kb.push({group:sb,count:0});++kb[kb.length - 1].count;return kb;},[]);this.Rb.offset=this.startOffset + 16 + (1 === this.version?4:0);this.Rb.wu(Ta.length);Ta.forEach((function(kb){this.Rb.wu(kb.count);this.Rb.wu(kb.group);}).bind(this));this.Jp > Ta.length && this.em(8 * (this.Jp - Ta.length));this.Jp=Ta.length;return !0;};C.Pc=!1;C.prototype=Object.create(J.prototype);C.prototype.constructor=C;Ba={Kd:{moov:l,trak:c,mdia:c,mdhd:f,minf:c,encv:Ba,schi:c,sidx:k,sinf:c,stbl:c,tenc:n,mvex:c,moof:p,traf:q,tfhd:w,trun:qb,sbgp:B,sdtp:A,saiz:y,saio:x,tfdt:v,mdat:C,vmaf:d,edts:c},q7b:{vpcC:t,SmDm:u("smdm"),CoLL:u("coll")},Gfb:{schm:na},Xwa:{}};D([Ha,Sa,I,a,N,zb,R,Q,ra,qa,M,P,Oa,eb,H,X,L,K,Xa,qb],Ba.Kd);D([ha,la,La,Za,ab,Z,ta,xa,ia,O],Ba.Xwa);D([Ha,na],Ba.Gfb);Ba.Kd[b.xKa]=n;Ba.Kd[b.I0]=h;Ba.Kd[b.H0]=m;Ba.Kd[b.wKa]=z;Ba.Xwa[b.Bea]=va;Ba.bf=J;r.exports={YM:Ba};},70190:function(r,b,a){var l,f,k,d,g;function c(n){return "number" === typeof n[0] || void 0 === n[0]?{Nj:n[0],N:n[1],Hx:n[2],Jwa:n[3],IH:n[4]}:n[0];}Object.defineProperties(b,{__esModule:{value:!0}});b.hC=b.Cs=void 0;l=a(5163);f=a(26464);r=a(46788);k=a(97001);d=a(27172);g=a(85571);a=(function(n){function h(m,p,q){return n.call(this,m,p,q) || this;}l.__extends(h,n);h.prototype.Tab=function(){for(var m=[],p=0;p < arguments.length;p++){m[p]=arguments[p];}return this.Ja(l.__assign(l.__assign({},c(m)),{mwa:!1}));};h.prototype.$ab=function(){for(var m=[],p=0;p < arguments.length;p++){m[p]=arguments[p];}return this.Ja(l.__assign(l.__assign({},c(m)),{mwa:!0}));};h.prototype.Ja=function(m){var q,u,t,w,v,y,x,z,A,B,C,D,E,G,F,J,M,L,K,P,H;function p(R){z=x[R];A=z.No("traf");if(void 0 === A || void 0 === A.Uq)return !1;E=A.No("tfdt");if(void 0 === E)return !1;B=A.No("trun");return void 0 === B?!1:!0;}q=m.Nj;u=m.N;t=m.mwa;w=m.Hx;v=m.Jwa;v=void 0 === v?!1:v;y=m.IH;y=void 0 === y?!1:y;m=m.OG;if(!this.parse().done)return !1;x=this.Kd.moof;if(!x || 0 === x.length)return !1;if(void 0 !== q){C=q;for(q=0;q < x.length;++q){if(!p(q,this.lf.console.trace))return !1;(0,d.assert)(z && A && E && B && void 0 !== B.ud);if(B.ud > C || t && B.ud === C)break;C-=B.ud;}(0,d.assert)(z && A && E && B);}else if((q=t?x.length - 1:0,!p(q,this.lf.console.trace)))return !1;(0,d.assert)(z && A && E && B);if(t && q < x.length - 1){D=x[q + 1];this.lf.em(this.view.byteOffset - D.startOffset,D.startOffset);}else !t && 0 < q && this.lf.em(z.startOffset,0);D=A.No("tfhd");if(void 0 === D)return !1;E=A.No("tfdt");G=B.ud;F=A.No("saiz");J=A.No("saio");M=A.No(f.wKa);L=A.No("sbgp");if(!(!F && !J || F && J))return !1;K=A.No("sdtp");P=g.bf.jy(this,"mdat");if(P && q < P.length)H=P[q];else if(q !== x.length - 1)return !1;void 0 === C && (C=t?B.ud:0);if("number" === typeof w && 0 < w){P=t?C:B.ud - C;for(var I=Array(P),N=0;N < P;++N){I[N]=t?N >= P - w?-Infinity:0:N < w?-Infinity:0;}w=I;}if(B.Ja(A,D,H || this.lf,u,C,A.Uq,t))B.wT && ((0,d.assert)(void 0 !== B.Fdb),(0,d.assert)(void 0 !== B.qO),!t && E && E.Ja(B.Fdb),F && J && (F.Ja(B.qO,t),J.Ja(M?0:F.Vwa,A.Uq)),M && M.Ja(B.qO,t),K && K.Ja(B.qO,G,t),L && L.Ja(B.qO,t));else if(!t){if(q === x.length - 1)return !1;this.lf.em(x[q + 1].startOffset - z.startOffset,z.startOffset);}else if(0 === B.qO)return !1;Array.isArray(w) && H && this.stream.profile && void 0 !== v && B.yUb(A,D,H,w,this.stream.profile,v,y,m);u=this.lf.Ja();t=u.reduce(function(R,X){return R + X.byteLength;},0);u={Ma:u,length:t,fH:this.lf.view.byteLength};B.wT && !H && (u.SN=A.Uq + B.SN,u.nq=B.nq);return u;};return h;})((function(n){function h(m,p,q){return n.call(this,m,p,q) || this;}l.__extends(h,n);return h;})(r.cx));b.Cs=a;b.hC=function(n){var h,m;h=new ArrayBuffer(8);m=new DataView(h);m.setUint32(0,n + 8);m.setUint32(4,(0,k.Iga)("mdat"));return h;};},9080:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.kJ=void 0;c=a(97001);l={stsd:16};b.kJ=(function(){function f(){}f.path=function(k,d){var p,q;for(var g=0,n=k.byteLength,h,m=0;m < d.length;m++){p=d[m];for(h && (g+=l[h] || 8);g < n;){q=k.getUint32(g);h=(0,c.sx)(k.getUint32(g + 4));if(h === p){n=g + q;break;}g+=q;}}return g < n?g:void 0;};f.PZa=function(k){var d,g,n,h,m;d=this.path(k,["moof","traf"]);if(void 0 !== d){k=new DataView(k.buffer,k.byteOffset + d + 8);g=this.path(k,["tfdt"]);if(void 0 !== g){1 === k.getUint8(g + 8)?(d=k.getUint32(g + 12),g=k.getUint32(g + 16),d=4294967296 * d + g):d=k.getUint32(g + 12);n=this.path(k,["trun"]);if(void 0 === n)return {qza:d};h=k.getUint8(n + 8);m=k.getUint32(n + 8) & 16777215;g=k.getUint32(n + 12);m & 2048?(n=n + 16 + ((m & 1) << 2) + (m & 4) + (((m & 256) >> 6) + ((m & 512) >> 7) + ((m & 1024) >> 8)),k=1 === h?k.getInt32(n):k.getUint32(n)):k=0;return {qza:d,x_a:k,Wwa:g};}}};return f;})();},46788:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.cx=void 0;c=a(91418);l=a(52297);f=a(27815);r=(function(){function k(d,g,n){this.console=d;this.stream=g;this.view=n instanceof ArrayBuffer?new DataView(n):new DataView(n.data,n.offset,n.length);}k.prototype.parse=function(d){var g;g=new f.dda(this.view.byteLength);this.lf=new c.LZ(l.YM.Kd,g,this.view,this.console,{Dua:!0});d=this.lf.parse(d);this.Kd=this.lf.Kd;return d;};return k;})();b.cx=r;},56602:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t;Object.defineProperties(b,{__esModule:{value:!0}});b.Bq=void 0;c=a(5163);l=a(44295);f=a(57821);k=a(27172);d=a(255);g=a(85571);r=a(79798);n=a(30855);h=a(91418);m=a(51170);p=a(52297);q=a(26464);u=a(27815);t=a(82441);c.__exportStar(a(17904),b);a=(function(){function w(v,y,x,z,A,B){this.console=v;this.stream=y;this.gu=z;this.lub=A;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=B || ({});this.PNb=(0,m.fKb)();}w.path=function(v,y){return y.reduce(function(x,z){return x && x.Kd[z] && x.Kd[z][0];},v);};w.mLb=function(v){return v && v.Qka && -1 !== v.Qka.indexOf("mcl0")?"mcl0":void 0;};w.RHb=function(v,y){var x,z;(0,k.assert)("mcl0" === v,"Unsupported McClearen brand");x=y.Ha;v=x.ef;y=new d.L(120,1).dd(x.N).ja;z=0;for(x=x.cs;z < v.length && x < y;){x+=v[z++];}return z;};w.prototype.parse=function(v){var y;y=this.g2b();if(!y.done){if(y.X7a)return {$v:!1,S2:y.X7a};this.console.error("Scan error: " + y.error);return {$v:!1,parseError:y.error || "unknown mp4 scan error"};}if(null === v || void 0 === v?0:v.Aa)v.XWb=v.Aa;this.view=new DataView(this.view.buffer,this.view.byteOffset,y.offset);v=this.uXb(v);return v.done?this.Hzb():(this.console.error("Parse error: " + v.error),{$v:!1,parseError:v.error || "unknown mp4 parse error"});};w.prototype.jy=function(v){return g.bf.jy(this,v);};w.prototype.Wm=function(v){return g.bf.Wm(this,v);};w.prototype.g2b=function(){var v,y;v=new u.yGa(this.gu,this.lub?[q.I0,q.H0]:[],this.config && this.config.Yjc || ["moof",q.LJa],this.config && this.config.Eua);y=c.__assign(c.__assign({},this.config),{Dua:!1});return new h.LZ(w.fxa,v,this.view,this.console,y).parse();};w.prototype.uXb=function(v){var y,x,z;y=new u.dda(this.view.byteLength);x=Object.create(p.YM.Kd);this.config && ((this.config.C9a || this.config.Ffb || this.config.Haa) && l(p.YM.Xwa,x),this.config.vza && l(p.YM.q7b,x),this.config.Ffb && l(p.YM.Gfb,x));z=c.__assign(c.__assign({},this.config),{Dua:!0});this.lf=new h.LZ(x,y,this.view,this.console,z);v=this.lf.parse(v);v.done && (this.Kd=this.lf.Kd);return v;};w.prototype.Hzb=function(){var v,y,x,z,A,B,C,D;v={$v:!0};y=w.path(this,["moov"]);x=null === y || void 0 === y?void 0:y.jy("trak");if(1 === (null === x || void 0 === x?void 0:x.length)){z=x[0].No("tkhd");z && (v.trackId=z.Ac.trackId);}z=w.path(y,["trak","mdia","minf","stbl","stsd"]);if(this.config.C9a)if(z)(v.Aa=z.Aa,v.jjc=z.Kd);else return {$v:!1,parseError:"Missing sample descriptions"};A=w.path(z,["encv","sinf","schi"]);A && (A=w.path(A,["tenc"]) || w.path(A,[q.xKa])) && (v.lGb={Dfc:A.no,mra:A.mra,yhc:!1});if(A=w.path(y,["trak","mdia","mdhd"]))v.N=A.N;if(A=w.path(y,["mvex","trex"]))v.D4=A && A.Ac.D4;v.D4 && v.N && (v.Aa=new d.L(v.D4,v.N));if(A=w.path(this,["sidx"])){B=w.path(this,[q.I0]);B=B && B.GTb;C=w.path(this,[q.H0]);C=C && C.vj;v.Ha=A.Ha;v.XM=B;v.vj=C;}if(B=this.Kd.vmaf && this.Kd.vmaf[0])v.Gw=B.Gw;if(this.config.qwa && (B=w.path(y,["mvex"])) && x && x.length){D=x.reduce(function(E,G){return G.byteOffset > E.byteOffset?G:E;});D.byteOffset > B.byteOffset && (x=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength),C=(0,t.Dza)(x,Uint8Array,B.byteOffset,B.byteOffset + B.byteLength),D=(0,t.Dza)(x,Uint8Array,B.byteOffset + B.byteLength,D.byteOffset + D.byteLength),x.set(D,B.byteOffset),x.set(C,B.byteOffset + D.byteLength));}if(this.config.L1b)if(y)(this.trim(y.byteOffset + y.byteLength),this.config.Haa && z && 1 < z.rL && A && (v.Hh=this.Haa(z,A)),void 0 === v.Hh && (y=this.lf.wT?(0,f.concat)(this.lf.Ja()):this.view.buffer,v.Hh=[{Td:0,data:y}]));else return {$v:!1,parseError:"Missing movie box"};v.$v=!0;v.O9=this.lf.offset;return v;};w.prototype.trim=function(v){var y;y=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(v,this.view.byteLength));this.lf.trim(v);this.view=new DataView(y);};w.prototype.Haa=function(v,y){var x,z,A;x=Object.keys(v.Kd);z=x.filter(function(B){return "encv" !== B;});if(!(2 > x.length || z.length === x.length || 0 === z.length)){x=w.path(this,["ftyp"]);A=w.mLb(x);if(A)return (x=[],this.lf.o_b(),v.Yab("encv"),x.push({Td:0,HF:!1,data:(0,f.concat)(this.lf.Ja())}),this.lf.JYb(),v.Yab(z[0]),v=w.RHb(A,y),x.push({Td:v,HF:!0,data:(0,f.concat)(this.lf.Ja())}),x);}};w.fxa={};return w;})();b.Bq=a;a.fxa[q.Cea]=r.default;a.fxa[q.Dea]=n.default;},97001:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Tpb=b.Iga=b.sx=void 0;c=a(27172);b.sx=function(l){(0,c.assert)("number" === typeof l);return String.fromCharCode(l >>> 24 & 255) + String.fromCharCode(l >>> 16 & 255) + String.fromCharCode(l >>> 8 & 255) + String.fromCharCode(l & 255);};b.Iga=function(l){return l.charCodeAt(3) + (l.charCodeAt(2) << 8) + (l.charCodeAt(1) << 16) + (l.charCodeAt(0) << 24);};b.Tpb=function(l,f){return Math.floor(1E3 * l / f);};},26464:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Cea="6674654e-696c-5078-6966-665374726d21";b.Dea="6674654e-696c-4878-6165-6465722e7632";b.LJa="6674654e-696c-5078-6966-66496e646578";b.I0="6674654e-696c-4d78-6f6f-6653697a6573";b.H0="6674654e-696c-5378-6565-6b506f696e74";b.xKa="cedb7489-e77b-514c-84f9-7148f9882554";b.wKa="524f39a2-9b5a-144f-a244-6c427c648df4";b.Bea="6674654e-696c-4678-7261-6d6552617465";},27815:function(r,b,a){var l;function c(f,k){f=k.indexOf(f);-1 !== f && k.splice(f,1);}Object.defineProperties(b,{__esModule:{value:!0}});b.yGa=b.dda=void 0;l=a(26464);r=(function(){function f(k){this.endOffset=k;this.done=!1;}f.prototype.K_a=function(){return this.done;};f.prototype.yYa=function(k,d,g){return this.done=d + g >= this.endOffset;};return f;})();b.dda=r;r=(function(){function f(k,d,g,n){void 0 === d && (d=[]);void 0 === g && (g=[]);void 0 === n && (n=!1);this.gu=k;this.M4=d;this.Peb=g;this.Eua=n;this.done=!1;this.jl={};}f.prototype.K_a=function(k,d,g){-1 !== f.WNb.indexOf(k) && (this.jl[k]={offset:d,size:g});if(-1 !== this.Peb.indexOf(k)){if((this.jl[k]={offset:d,size:g},this.Eua))this.endOffset=d + g;else return (this.endOffset=d,this.done=!0);}else this.gu && -1 !== this.gu.indexOf(k)?(k=1 < this.gu.length?4096:0,this.endOffset=Math.max(d + g + k,this.endOffset || 0)):-1 !== this.M4.indexOf(k) && (k=this.gu?4096:0,this.endOffset=Math.max(d + g + k,this.endOffset || 0));return this.done;};f.prototype.yYa=function(k,d,g,n){var h;h=this;if(-1 !== this.Peb.indexOf(k))return this.done=!0;k === l.Cea && this.Wcb(n.jl);k === l.Dea && this.Wcb(n.jl);this.gu && c(k,this.gu);c(k,this.M4);return this.gu && 0 === this.gu.length && !this.M4.some(function(m){return h.jl[m];})?this.done=!0:this.done;};f.prototype.Wcb=function(k){var d;d=this;this.jl=k;this.endOffset=(this.gu || []).concat(this.M4).reduce(function(g,n){return d.jl[n]?(n=d.jl[n],Math.max(n.offset + (n.size || 4096),g)):g;},this.endOffset || 0);};f.WNb=["moov","sidx"];return f;})();b.yGa=r;},11174:function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,l){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),l * a.byteLength / a.length);}:function(a,c,l){a.set(c,l);};r.exports={from:function(a,c,l,f){a=new a(c.length);for(var k="function" === typeof l,d=0;d < c.length;++d){a[d]=k?l.call(f,c[d],d,c):c[d];}return a;},set:b};},82441:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Dza=void 0;b.Dza=function(a,c,l,f){var k,d;if(null !== a && void 0 !== a && a.slice)return a.slice(l,f);k=Math.min(a.length,f);d=Math.min(a.length,l);for(c=new c(Math.max(f - l,0));d < k;d++){c[d - l]=a[d];}return c;};},27172:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(5163);l=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);return k;})(Error);b.assert=function(f,k){if(!f)throw new l(k || "Assertion failed");};},57821:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.concat=void 0;b.concat=function(){var l;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(f,k){return f + k.byteLength;},0);l=new Uint8Array(c);a.reduce(function(f,k){l.set(new Uint8Array(k),f);return f + k.byteLength;},0);return l.buffer;};},44295:function(r){r.exports=function l(a,c){var f;a.__proto__ && a.__proto__ !== Object.prototype && l(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(k){f=Object.getOwnPropertyDescriptor(a,k);void 0 !== f && Object.defineProperty(c,k,f);});};},255:function(r,b){function a(l,f){return "number" !== typeof l || "number" !== typeof f?!1:l && f?Math.abs(l * f / c(l,f)):0;}function c(l,f){var k;l=Math.abs(l);for(f=Math.abs(f);f;){k=f;f=l % f;l=k;}return l;}Object.defineProperties(b,{__esModule:{value:!0}});b.L=void 0;r=(function(){function l(f,k){"object" === typeof f?(this.qc=f.ja,this.nb=f.N):(this.qc=f,this.nb=k);}l.Na=function(f){return new l(f,1E3);};l.lza=function(f,k){return Math.floor(1E3 * f / k);};l.Q7a=function(f,k){return Math.floor(f * k / 1E3);};l.max=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(d,g){return d.greaterThan(g)?d:g;});};l.min=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(d,g){return d.lessThan(g)?d:g;});};l.AB=function(f,k){var d;if(f.N === k.N)return new l(c(f.ja,k.ja),f.N);d=a(f.N,k.N);return l.AB(f.dd(d),k.dd(d));};Object.defineProperties(l.prototype,{ja:{get:function(){return this.qc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{N:{get:function(){return this.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{G:{get:function(){return 1E3 * this.qc / this.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{uh:{get:function(){return this.qc / this.nb;},enumerable:!1,configurable:!0}});l.prototype.dd=function(f){f/=this.N;return new l(Math.floor(this.ja * f),Math.floor(this.N * f));};l.prototype.add=function(f){var k;if(this.N === f.N)return new l(this.ja + f.ja,this.N);k=a(this.N,f.N);return this.dd(k).add(f.dd(k));};l.prototype.qa=function(f){return this.add(new l(-f.ja,f.N));};l.prototype.wo=function(f){return new l(this.ja * f,this.N);};l.prototype.jh=function(f){var k;if(this.N === f.N)return this.ja / f.ja;k=a(this.N,f.N);return this.dd(k).jh(f.dd(k));};l.prototype.r2a=function(f){return a(this.N,f);};l.prototype.bwa=function(){return new l(this.N,this.ja);};l.prototype.compare=function(f,k){var d;if(this.N === k.N)return f(this.ja,k.ja);d=a(this.N,k.N);return f(this.dd(d).ja,k.dd(d).ja);};l.prototype.equal=function(f){return this.compare(function(k,d){return k === d;},f);};l.prototype.vta=function(f){return this.compare(function(k,d){return k !== d;},f);};l.prototype.lessThan=function(f){return this.compare(function(k,d){return k < d;},f);};l.prototype.greaterThan=function(f){return this.compare(function(k,d){return k > d;},f);};l.prototype.Iy=function(f){return this.compare(function(k,d){return k <= d;},f);};l.prototype.ji=function(f){return this.compare(function(k,d){return k >= d;},f);};l.prototype.toJSON=function(){return {ticks:this.ja,timescale:this.N};};l.prototype.toString=function(){return ("").concat(this.ja,"/").concat(this.N);};l.Ia=new l(0,1);l.Wy=new l(1,1E3);return l;})();b.L=r;},96785:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.SPa=void 0;c=a(5163);l=a(27172);f=a(57821);k=a(97001);r=a(7604);d=(function(){function g(n){n?(this.Go=n.Go.slice(),this.ls=n.ls.slice(),this.vi=n.vi.slice(),this.trim=n.trim):(this.Go=[],this.ls=[],this.vi=[]);}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.Go.length && 0 === this.ls.length && 0 === this.vi.length;},enumerable:!1,configurable:!0}});return g;})();r=(function(g){function n(h,m,p){h=g.call(this,h,m,p) || this;h.SYa=[];h.Sd=new d();return h;}c.__extends(n,g);n.avb=function(h,m){if(m.offset + m.size <= h.byteLength)switch(m.size){case 1:h.setUint8(m.offset,m.value);break;case 2:m.bY?h.setInt16(m.offset,m.value):h.setUint16(m.offset,m.value);break;case 4:m.bY?h.setInt32(m.offset,m.value):h.setUint32(m.offset,m.value);break;case 8:(0,l.assert)(!m.bY);h.setUint32(m.offset,Math.floor(m.value / 4294967296));h.setUint32(m.offset + 4,m.value & 4294967295);break;default:(0,l.assert)(!1);}};Object.defineProperties(n.prototype,{wT:{get:function(){return !this.Sd.empty;},enumerable:!1,configurable:!0}});n.prototype.Rba=function(h,m){this.Sd.ls.push({offset:void 0 !== m?m:this.offset,value:h,size:1});void 0 === m && (this.offset+=1);};n.prototype.h$b=function(h){this.Sd.ls.push({offset:!1,value:h,size:2,bY:!1});};n.prototype.wu=function(h,m){this.Sd.ls.push({offset:void 0 !== m?m:this.offset,value:h,size:4,bY:!1});void 0 === m && (this.offset+=4);};n.prototype.i$b=function(h,m){this.Sd.ls.push({offset:void 0 !== m?m:this.offset,value:h,size:8,bY:!1});void 0 === m && (this.offset+=8);};n.prototype.Ehb=function(h){this.wu((0,k.Iga)(h));};n.prototype.vAa=function(h,m){this.Sd.vi.push({offset:this.offset,zp:h,value:m});this.offset+=4;};n.prototype.em=function(h,m,p){this.Sd.Go.push({offset:m,remove:h,ob:p});};n.prototype.K$=function(h,m,p,q){this.Sd.Go.push({offset:p,remove:h,replace:m,ob:q});};n.prototype.trim=function(h){this.Sd.trim=h;};n.prototype.o_b=function(){this.SYa.push(new d(this.Sd));};n.prototype.JYb=function(){this.Sd=this.SYa.pop() || new d();};n.prototype.Ja=function(){var h,m,p,q,u,t,w;h=this;if(0 === this.Sd.Go.length && 0 === this.Sd.ls.length && 0 === this.Sd.vi.length)return [void 0 === this.Sd.trim?this.view.buffer:this.view.buffer.slice(0,this.Sd.trim)];this.Sd.Go.sort(function(v,y){return v.offset - y.offset;});this.Sd.ls.sort(function(v,y){return v.offset - y.offset;});this.y1b();m=this.IHb();p=this.view.buffer.slice(0,m);q=new DataView(p);this.Sd.ls.forEach(n.avb.bind(void 0,q));this.l8b(q);this.j8b(q);u=[];t=void 0 !== this.Sd.trim?Math.min(this.Sd.trim,this.view.byteLength):this.view.byteLength;w=0;this.Sd.Go.filter(function(v){return v.offset <= t;}).forEach(function(v){v.offset > w && (u.push(q.buffer.slice(w,v.offset)),v.offset > q.byteLength && q !== h.view && (q=h.view,u.push(q.buffer.slice(m,v.offset))));v.replace && u.push(v.replace);w=v.offset + v.remove;});w < m && u.push(p.slice(w));w < t && (p=Math.max(p.byteLength,w),p < t && u.push(this.view.buffer.slice(p,t)));return u;};n.prototype.IHb=function(){var h,m,p;h=[];m=this.Sd.ls[this.Sd.ls.length - 1];p=this.Sd.vi[this.Sd.vi.length - 1];m && h.push(m.offset + m.size);p && h.push(p.offset + 4);this.Sd.Go.filter(function(q){return q.ob;}).forEach(function(q){return h.push(q.ob.byteOffset + 4);});m=Math.max.apply(void 0,h);return void 0 !== this.Sd.trim?Math.min(m,this.Sd.trim):m;};n.prototype.y1b=function(){this.Sd.Go=this.Sd.Go.reduce(function(h,m){var p,q;if(0 === h.length)return (h.push(m),h);p=h[h.length - 1];q=p.offset + p.remove;m.offset >= q?h.push(m):m.offset + m.remove > q && ((0,l.assert)(p.ob === m.ob),p.remove+=m.offset + m.remove - q,m.replace && (p.replace=p.replace?(0,f.concat)(p.replace,m.replace):m.replace));return h;},[]);};n.prototype.l8b=function(h){var m;m=this;this.Sd.vi.forEach(function(p){var q,u,t,w;q=h;u=p.offset;m.Sd.Go.some(function(v){return v.offset <= p.offset && v.replace && v.offset + v.replace.byteLength >= p.offset + 4?(q=new DataView(v.replace),u=p.offset - v.offset,!0):!1;});t=p.zp + (void 0 !== p.value?p.value:q.getInt32(u));w=m.Sd.Go.reduce(function(v,y){return y.offset > p.zp && y.offset < t?v + (y.remove - (y.replace?y.replace.byteLength:0)):v;},0);q.setInt32(u,t - p.zp - w);});};n.prototype.j8b=function(h){this.Sd.Go.forEach(function(m){var p;p=(m.remove || 0) - (m.replace?m.replace.byteLength:0);if(0 !== p)for(m=m.ob;m;){h.setUint32(m.byteOffset,h.getUint32(m.byteOffset) - p);m=m.parent;}});};return n;})(r.TPa);b.SPa=r;},7604:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.TPa=void 0;c=a(51170);a(51170);l=a(97001);r=(function(){function f(k,d,g){this.view=k;this.console=d;this.config=g;this.view=k;this.console=d;this.sd=this.Vq=this.offset=0;}f.prototype.E0a=function(k){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,k);};f.prototype.Qc=function(k){for(;this.sd < k;){this.Vq=(this.Vq << 8) + this.nd();this.sd+=8;}this.sd-=k;return this.Vq >>> this.sd & (1 << k) - 1;};f.prototype.nd=function(){var k;k=this.view.getUint8(this.offset);this.offset+=1;return k;};f.prototype.Nf=function(k){k=this.view.getUint16(this.offset,k);this.offset+=2;return k;};f.prototype.Tb=function(k){k=this.view.getUint32(this.offset,k);this.offset+=4;return k;};f.prototype.B$=function(){var k;k=this.view.getInt32(this.offset,void 0);this.offset+=4;return k;};f.prototype.QXb=function(k,d){var g;g=this.view.getUint32(this.offset + (k?4:0),k);k=this.view.getUint32(this.offset + (k?0:4),k);d || 0 === (g & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * g + k;};f.prototype.bj=function(k,d){k=this.QXb(k,d);this.offset+=8;return k;};f.prototype.RXb=function(){var k,d;k=this.view.getInt32(this.offset + 0,void 0);d=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < k?k:-k) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * k + d;};f.prototype.E_b=function(){var k;k=this.RXb();this.offset+=8;return k;};f.prototype.ez=function(){return (0,l.sx)(this.Tb());};f.prototype.C$=function(){var d,g,n,h,m,p;function k(q,u){return ("000000" + q.toString(16)).slice(2 * -u);}d=this.Tb(!0);g=this.Nf(!0);n=this.Nf(!0);h=this.Nf();m=this.Nf();p=this.Tb();return [k(d,4),k(g,2),k(n,2),k(h,2),k(m,2) + k(p,4)].join("-");};f.prototype.A$=function(k){var d;d=this.view.byteOffset + this.offset;d=this.view.buffer.slice(d,d + k);this.offset+=k;return d;};f.prototype.A_b=function(k){var d;d=[];if(0 === k)return "";k=k || Number.MAX_SAFE_INTEGER;for(var g=this.nd();0 !== g && 0 <= --k;){d.push(g);g=this.nd();}return String.fromCharCode.apply(null,d);};f.prototype.z$=function(k){var d,g;void 0 === d && (d=1);void 0 === g && (g=!0);return this.Hj(this.config.YO && c.XMb || c.aM,1,k,d,g);};f.prototype.z_b=function(k){var d,g,n;d=10;g=!1;void 0 === d && (d=2);void 0 === g && (g=!0);void 0 === n && (n=!1);return this.Hj(this.config.YO && c.VMb || c.G6,2,k,d,g,n);};f.prototype.y$=function(k,d,g){var n;void 0 === d && (d=4);void 0 === g && (g=!0);void 0 === n && (n=!1);return this.Hj(this.config.YO && c.WMb || c.FU,4,k,d,g,n);};f.prototype.C_b=function(){for(var k=this.nd(),d=k & 127;k & 128;){k=this.nd();d=d << 7 | k & 127;}return d;};f.prototype.Hj=function(k,d,g,n,h,m){void 0 === h && (h=!0);void 0 === m && (m=!1);k=k(this.view,this.offset,g,n,m);this.offset=h || !n || n === d?this.offset + g * (n || d):this.offset + d;return k;};return f;})();b.TPa=r;},58312:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q;c=a(76113);l=a(69808);f=a(48668);k=a(99939);d=a(97911);g=a(51832);b=a(67286);n=a(62680);h=a(26302);m=n("String.prototype.charAt");p=b("%Array.prototype.indexOf%");q=b("%Math.max%");r.exports=function(u){var t,w,v;t=1 < arguments.length?c(arguments[1]):0;if(p && !d(u) && g(t) && "undefined" !== typeof u)return -1 < p.apply(this,arguments);w=f(this);v=l(w.length);if(0 === v)return !1;for(t=0 <= t?t:q(0,v + t);t < v;){if(k(u,h(w)?m(w,t):w[t]))return !0;t+=1;}return !1;};},71402:function(r,b,a){var c;c=a(58312);r.exports=function(){return Array.prototype.includes && Array(1).includes(void 0)?Array.prototype.includes:c;};},30026:function(r,b,a){var c,l;c=a(14926);l=a(71402);r.exports=function(){var f;f=l();c(Array.prototype,{includes:f},{includes:function(){return Array.prototype.includes !== f;}});return f;};},71501:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uHa="Injector";b.Zw=145152E5;b.xJ="ProfileSymbol";},66523:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.flatten=b.po=b.C5b=b.E8a=void 0;b.E8a=function(a,c){return a - c;};b.C5b=function(a,c){return a.localeCompare(c);};b.po=function(a,c){var l;l=Object.getOwnPropertyDescriptor(a,c);l && Object.defineProperty(a,c,{configurable:l.configurable,enumerable:!1,value:l.value,writable:l.writable});};b.flatten=function(a){return [].concat.apply([],ba(a));};},24747:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DZ="ApiInfoSymbol";},99198:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.DTa=void 0;c=a(7700);l=a(24747);r=a(22674);f=a(71501);k=a(4203);b.DTa=new r.gd(function(d){d(l.DZ).to(c.oBa).ha();});b.profile=new r.gd(function(d){d(f.xJ).bD(function(g){return (g=g.ob.get(k.Yb)()) && g.iy?"browsertest":"browser";});});},7700:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p,q){h=d.Qe.call(this,h,void 0 === q?"AppInfoConfigImpl":q) || this;h.config=m;h.nba=p;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.oBa=void 0;r=a(5163);l=a(22674);f=a(34231);k=a(12501);d=a(64174);g=a(83767);a=a(70865);da(c,d.Qe);c.prototype.DLb=function(h){return "" + this.xZa + (this.nba.Aaa(h)?"/msl_v1":"");};c.prototype.NLb=function(h){return "" + this.host + (this.nba.Aaa(h)?"/msl":"") + "/playapi";};Ya.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},xZa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var h;switch(this.config.sL){case f.Uw.apb:h="www.stage";break;case f.Uw.SOa:h="www-qa.test";break;case f.Uw.wHa:h="www-int.test";break;default:h="www";}return "https://" + h + ".netflix.com";}},yUa:{configurable:!0,enumerable:!0,get:function(){return "pbo_licenses";}}});n=c;r.__decorate([k.config(k.string,"apiEndpoint")],n.prototype,"endpoint",null);r.__decorate([k.config(k.string,"nqEndpoint")],n.prototype,"xZa",null);r.__decorate([k.config(k.string,"bindService")],n.prototype,"yUa",null);n=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.zl)),r.__param(1,(0,l.l)(f.Dn)),r.__param(2,(0,l.l)(a.A1)),r.__param(3,(0,l.l)(g.WZ)),r.__param(3,(0,l.optional)())],n);b.oBa=n;},85405:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BBa="AseIntegrationFactorySymbol";},31034:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qKa="OpenConnectSideChannelSymbol";b.rJa="MediaRequestDownloaderSymbol";},13494:function(r,b){function a(l,f,k){var d,g,n,h;d=[];l.forEach(function(m){-1 == d.indexOf(m.Fd) && d.push(m.Fd);});g=null;n=null;f.forEach(function(m){null === g?n=g=m.bitrate:n < m.bitrate?n=m.bitrate:g > m.bitrate && (g=m.bitrate);});h=[];d.forEach(function(m){var p;p={ranges:[],profile:m};g && n && (p.ranges.push({min:g,max:n}),k && (p.disallowed=k.filter(function(q){return q.stream.Fd === m;}).map(function(q){return {stream:{bitrate:q.stream.bitrate},disallowedBy:q.R4};})),h.push(p));});return h;}function c(l,f){var k;k=void 0;return {b_a:l.filter(function(d){var g;g=f(d);g && (k=k || [],k.push({stream:d,R4:g}));return !g;}),xEb:k};}Object.defineProperty(b,"__esModule",{value:!0});b.jt=b.ECb=b.v2a=void 0;b.v2a=function(l,f){f=c(l,f);return a(l,f.b_a,f.xEb);};b.ECb=a;b.jt=c;},92692:function(r,b,a){var c,l,f,k,d,g,n,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.fb=void 0;r=a(22674);c=a(67263);l=a(13005);f=a(24240);k=a(22806);d=a(31034);g=a(76457);n=a(77425);h=a(51790);m=a(89936);b.fb=new r.gd(function(p){p(c.eda).to(l.oEa).ha();p(f.hJa).to(k.gJa).ha();p(d.qKa).to(g.pKa).ha();p(d.rJa).to(n.qJa).ha();p(h.pJa).to(m.oJa).ha();});},67263:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eda=b.pEa=void 0;b.pEa=function(){this.$=0;this.X=1;this.glb=2;this.Cf=function(){};};b.eda="DownloadTrackConstructorFactorySymbol";},24240:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hJa="MediaHttpSymbol";},51790:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pJa="MediaRequestConstructorFactorySymbol";},48220:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Zc=void 0;b.Zc=a;a.Ik={gKa:"mr1",fKa:"mr2",hKa:"mr3",wQ:"mr4",cnb:"mr5",dA:"mr6"};a.Nc={UNSENT:0,OPENED:1,kx:2,xl:3,DONE:5,ps:7,name:("UNSENT OPENED SENT RECEIVING PAUSED DONE FAILED ABORTED").split(" ")};a.t_={NO_ERROR:-1,Zjb:0,LDa:1,kkb:2,ckb:3,rjb:4,UCa:5,SCa:6,sjb:7,tjb:8,ujb:9,ojb:10,qjb:11,TCa:12,pjb:13,njb:14,klb:15,mGa:16,lGa:17,Dda:18,Fda:19,Eda:20,Gda:21,mlb:22,q0:23,nGa:24,llb:25,fkb:26,$jb:27,Oob:28,Qjb:29,Rjb:30,Sjb:31,Tjb:32,Ujb:33,Vjb:34,Wjb:35,Xjb:36,Yjb:37,akb:38,bkb:39,dkb:40,ekb:41,gkb:42,hkb:43,ikb:44,jkb:45,lkb:46,mkb:47,Nob:48,TIMEOUT:49,iGa:50,jGa:51,jlb:52,pGa:53,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP HTTP_RESPONSE_452").split(" ")};a.zf={Nwa:{O$b:!0,Ofa:!1,Bcc:!0}};},92720:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C){var D;D=this;this.tb=x;this.j=z;this.debug=A;this.hvb=C;this.uR=this.Bh=this.vx=!1;this.PR=this.OR=void 0;x={};this.Pv=(x[v.u.$]={},x[v.u.X]={},x[v.u.Ga]={},x);this.uA=void 0;this.ek=function(){var E,G,F,J,M,L;D.debug.assert(D.ya,"has access to asePlaygraph");D.debug.assert(D.Fc,"has access to internalLogger");D.debug.assert(D.Ot,"has access to mediaBufferGetLogFields");M=D.Wn;L=null === (G=null === (E=D.Jc.get()) || void 0 === E?void 0:E.gb) || void 0 === G?void 0:G.Ca;E={type:"logdata",target:"startplay",fields:{hasasereport:D.j.hL,hashindsight:!1,buffCompleteReason:M.reason,actualbw:L,initSelReason:null !== (F=M.initSelReason) && void 0 !== F?F:"unknown",bcVBufferLevelMs:M.vBufferLevelMs,bcABufferLevelMs:M.aBufferLevelMs}};(0,g.m3)({Yma:E,oo:D.oo,loadTime:D.loadTime});D.ya.zza("startplay",l.mc.Sj);null !== (J=D.ub) && void 0 !== J && J.Od?(D.Fc.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:M},D.Ot()),D.j.Wn=M,D.j.Sq.set(n.tf.fe),D.iIb || (D.iIb=!0,D.j.re("pb")),D.mf.value !== l.eb.k1 && D.mf.value !== l.eb.Fs && D.play()):D.Fc.error("Shim received buffering complete but player has no position (player " + (D.ub?"":"un") + "defined, state " + D.j.state + ")");};this.xfb=function(){var E,G;D.debug.assert(D.Fc,"has access to internalLogger");!1;D.OR=void 0;D.PR=void 0;D.j.paused.value && D.hH && (D.hH=!1,D.j.paused.set(!1,{bN:!0}));null === (E=D.j.Vd) || void 0 === E?void 0:E.szb();null === (G=D.X8a) || void 0 === G?void 0:G.call(D);D.X8a=void 0;};this.events=new y();this.Pe=new w.mga(this.wv.bind(this),function(E,G){return D.j.qw(E,G);});}b.iea=void 0;l=a(93161);f=a(57055);k=a(32219);d=a(36129);g=a(30326);n=a(85001);h=a(29204);m=a(32687);p=a(5021);q=a(64302);u=a(8825);t=a(81734);w=a(64213);a(2762);v=a(60328);y=a(22699).EventEmitter;c.prototype.$e=function(){var x;!1;this.uR=!1;this.Jc.taa(null);this.debug.assert(this.Ph,"has access to streamingEngine");this.ya && this.Ph.iz(this.ya);this.ub && this.Ph.Xab(this.ub);this.Ph.Zab(this.Pe.Xm(this.tb.ca.J));this.Pe.clear();null === (x=this.uo) || void 0 === x?void 0:x.pt();};c.prototype.S3b=function(x){var z,A,B,C,D,E,G,F,J,M,L,K,P;z=x.config;A=x.vp;B=x.Fc;C=x.de;D=x.Ot;E=x.Ui;G=x.XX;x=x.OH;this.Fc=B;this.log=B.q4("AseIntegrationImpl");!1;this.Ot=D;this.XX=G;this.OH=x;D=this.j.ca;this.debug.assert(D,"has a playback segment");this.debug.assert(z,"has access to config");this.debug.assert(C,"has access to utils");this.debug.assert(E,"has access to getCategoryLog");this.debug.assert(A,"has access to aseGlobals");this.debug.assert(A.Ph,"has access to streamingEngine");this.debug.assert(D.Bc,"has access to parsedManifest");this.debug.assert(D.Y,"has access to manifest");this.config=z;this.Ph=A.Ph;A.bi.set(a(87141)(z),!0,E("ASE"));A.bi.set({maxNumberTitlesScheduled:null !== (J=null === (F=z.PYb) || void 0 === F?void 0:F.maxNumberTitlesScheduled) && void 0 !== J?J:1},!0,B);z.Wzb && !D.kd.aa && 3E5 > D.Y.Fa.duration?A.bi.GW({expandDownloadTime:!1},!0,B):A.bi.GW({expandDownloadTime:A.bi.M9a().expandDownloadTime},!0,B);z=D.background.value || z.NYb && "postplay" === D.Cd?"historical":A.bi.M9a().initBitrateSelectorAlgorithm;A.bi.GW({initBitrateSelectorAlgorithm:z},!0,B);z=null === (P=null === (K=null === (L=null === (M=D.Gg) || void 0 === M?void 0:M.value) || void 0 === L?void 0:L.streams) || void 0 === K?void 0:K[0]) || void 0 === P?void 0:P.Fd;A.bi.GW((0,h.wWa)(!!D.cb.sg,!!D.cb.rM,z),!0,B);B=C.nC({},(0,h.f4)(D.Cd));D.kd.aa && (B=C.nC(B,(0,h.f4)("live")));this.bi=A.bi.Yn(B);l.platform.events.emit("networkchange",D.Bc.V2b);this.vx=!0;};c.prototype.ZU=function(x){var z,A;this.debug.assert(this.Ph,"has access to streamingEngine");z=this.j.Vi(x.I);this.debug.assert(z.Bc,"has access to playback parsedManifest");!1;A=x.flags;this.Jc.reset();this.Cg=new Set([v.u.$,v.u.X]);(A.fhb || A.Xec) && this.Cg.delete(A.fhb?v.u.$:v.u.X);this.BI=[z.Bc.xDb,z.Bc.DDb,z.Bc.CDb];this.wv(z.P,void 0,x.AXa);this.gPb(x);this.QK();};c.prototype.tu=function(x){var z;!1;null === (z=this.ya) || void 0 === z?void 0:z.tu(x);};c.prototype.wwb=function(x){var z,A,B,C;z=this;A=x.loadTime;B=x.oo;this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.ub,"has access to asePlayer");!1;this.oo=B;this.loadTime=A;x=this.ya.events;C=this.ub.events;x.addListener("error",function(D){!1;"NFErr_MC_StreamingFailure" === D.error && (z.Fc.trace("receiving an unrecoverable streaming error: " + JSON.stringify(D)),z.Fc.trace("StreamingFailure, buffer status:" + JSON.stringify(z.Ot())),(0,k.If)(function(){var E,G,F;E=d.V.Zhb;G=D.nativeCode;F=D.context;"adBreakHydration" === (null === F || void 0 === F?void 0:F.type) && (E=d.V.LD,G=d.S.jib);z.j.rd(E,{za:G,Nb:D.errormsg,Nl:D.httpCode,b9:D.networkErrorCode,He:D.httpCode});}));});x.addListener("logdata",function(D){var E;!1;"string" === typeof D.target && "object" === typeof D.fields && (D.fields.aseApiVersion=null === (E=z.ya) || void 0 === E?void 0:E.Mub,(0,g.m3)({Yma:D,oo:B,loadTime:A}));});C.addListener("logdata",function(D){!1;"string" === typeof D.target && "object" === typeof D.fields && (0,g.m3)({Yma:D,oo:B,loadTime:A});});x.addListener("bufferingStarted",function(){!1;z.j.Sq.set(n.tf.ee);});x.addListener("bufferingComplete",function(D){!1;z.Wn=D;});this.j.paused.addListener(function(D){var E;z.debug.assert(z.Fc,"has access to internalLogger");null !== (E=D.Eh) && void 0 !== E && E.bN || !z.vx || (D.newValue && z.mf.value === l.eb.he?(z.mf.set(l.eb.Kg),z.ti.emit("paused",{type:"paused",pts:z.ti.Oc})):D.newValue || z.mf.value !== l.eb.Kg || (z.mf.set(l.eb.he),z.ti.emit("playing",{type:"playing",pts:z.ti.Oc})));D.newValue || (z.hH=!1);z.Fc.info("Paused changed",{From:D.oldValue,To:D.newValue,MediaTime:(0,u.bh)(z.j.mediaTime.value)});});this.j.uc.addListener(function(D){var E,G,F,J;if(z.vx)if((z.debug.assert(z.Fc,"has access to internalLogger"),D.Eh && D.Eh.X2))z.Fc.trace("Not processing already applied track",null === (E=D.newValue) || void 0 === E?void 0:E.trackId);else {J=D.newValue;z.Jeb({xp:J.trackId,toJSON:function(){return J.ug;}})?z.Fc.trace("ASE accepted the audio track switch",null === (F=D.newValue) || void 0 === F?void 0:F.trackId):(z.Fc.trace("ASE rejected the audio track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId),D.oldValue && D.oldValue.trackId !== J.trackId && z.j.uc.set(D.oldValue,{X2:!0}));}});this.j.kd.aa && this.j.Mb.addListener(function(D){var E,G,F,J;if(z.vx)if((z.debug.assert(z.Fc,"has access to internalLogger"),D.Eh && D.Eh.X2))z.Fc.trace("Not processing already applied track",null === (E=D.newValue) || void 0 === E?void 0:E.trackId);else {J=D.newValue;z.Jeb({Seb:J.trackId,toJSON:function(){return J.ug;}})?z.Fc.trace("ASE accepted the text track switch",null === (F=D.newValue) || void 0 === F?void 0:F.trackId):(z.Fc.trace("ASE rejected the text track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId),D.oldValue && D.oldValue.trackId !== J.trackId && z.j.Mb.set(D.oldValue,{X2:!0}));}});x.addListener("serverSwitch",function(D){var E;!1;z.j.fireEvent(n.ga.UX,D);if("video" === D.mediatype)E=v.u.X;else "audio" === D.mediatype && (E=v.u.$);(0,m.Xc)(E) && z.XX(D.segmentId,D.server,E);});x.addListener("streamSelected",function(D){var E,G,F,J;!1;if(z.uR){G=D.manifest.Gd;if(!z.j.SNb(G) && z.config.nHb)return z.j.rd(d.V.lmb,{wB:G});G=(null === (E=z.ya) || void 0 === E?void 0:E.jG(D.position)).Ml.G;E=[];if(D.mediaType === v.u.X){F=z.j.U2a(D.streamId);J=z.j.Oe;E=z.j.IB();}else D.mediaType === v.u.$ && (F=z.j.F2a(D.streamId),J=z.j.Mg,E=z.j.tJb());F && J?(!1,J.set(F,{kF:G,FS:D.bandwidth})):D.mediaType !== v.u.Ga && z.Fc.error("no matching stream for streamSelected event",{streamId:D.streamId,mediaType:D.mediaType,streamList:E,cachedManifest:z.j.gF});}});x.addListener("segmentNormalized",function(D){var E,G,F;!1;E=D.segmentId;G=Math.floor(D.viewableContentEnd.G);D=Math.floor(D.viewableEarliestContentEnd.G);G=(0,p.Ob)(G);D=(0,p.Ob)(D);z.j.P2a(E) || (!1,z.BBb(E));F=z.j.Vi(E);F && (z.debug.assert(F.I === E,"segmentNormalized: playbackViewableData segmentId should match the value in the event"),F.Xx=G,F.a7a=D);z.j.iq || (z.j.kd.aa?(z.debug.assert(Infinity === G.ea(p.pa),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + z.j.kd.aa + ", contentDuration:" + G),z.j.iq=p.Ia):z.j.iq=G);});C.addListener("segmentPresenting",function(D){var E,G,F,J;!1;z.debug.assert(z.ya,"has access to asePlaygraph");z.debug.assert(z.ub,"has access to asePlayer");z.debug.assert(z.OH,"has access to segmentPresentingHandler");G=z.ya.jG(D.position);F=void 0;J=null === (E=D.inner) || void 0 === E?void 0:E.position;J && z.zj && (F=z.zj.O[J.I]);z.OH({J:G.J,nF:F,wG:!1});z.j.fireEvent(n.ga.NH,{type:"segmentPresenting",position:{segmentId:D.position.I,offset:D.position.offset},playerTimestamp:D.playerTimestamp,metrics:D.metrics});!1;z.uA=z.ub.ko();});C.addListener("ptsChanged",function(D){var E;!1;z.j.Vd.l_b({Ona:null === (E=D.forcedTimestamp) || void 0 === E?void 0:E.fw,ePb:D.initialTimestamp.fw});z.ti.emit("skipped");});C.addListener("fragmentsMissing",function(D){var E,G;G=null === (E=z.ya) || void 0 === E?void 0:E.jG(D.b8a);z.j.Vd.seek(G.Ml.G,n.oc.MP,D.b8a.I);});x.addListener("locationSelected",function(D){!1;z.j.fireEvent(n.ga.DV,D);});x.addListener("aseReportEnabled",function(){!1;z.j.hL=!0;});x.addListener("aseReport",function(D){!1;z.j.fireEvent(n.ga.YE,D);});x.addListener("liveReport",function(D){!1;z.j.fireEvent(n.ga.i8,D);});x.addListener("mediaRequestComplete",function(D){D=null === D || void 0 === D?void 0:D.c1b;(D=null === D || void 0 === D?void 0:D.cadmiumResponse) && z.j.fireEvent(n.ga.CF,{response:D,P:z.j.ca.P});});x.addListener("transportReport",function(D){var E;(D=null === (E=D.HGb) || void 0 === E?void 0:E.cadmiumResponse) && z.j.fireEvent(n.ga.CF,{response:D,P:z.j.ca.P});});x.addListener("liveEventTimesUpdated",function(D){var E,G;E=D.I;G=D.startTime;D=D.endTime;z.j.P2a(E) && (E=z.j.Vi(E),E.kd.aa && E.kd.Jxa(G,D));});x.addListener("liveLoggingInfoUpdated",function(D){var E,G;E=D.mediaType;G=z.Pv[E];z.Pv[E]=D.info;D=z.Pv[E].sB !== G.sB && void 0 !== G.sB;(z.Pv[E].rB !== G.rB && void 0 !== G.rB || D) && z.j.fireEvent(n.ga.h8,{mediaType:E,dm:G,current:z.Pv[E]});});};c.prototype.BBb=function(x){var z,A,B,C;if(this.zj && this.zj.O[x]){z=this.zj.O[x];x=this.j.gsa;A=x.Y;if(null === A || void 0 === A?0:A.yp)B=null === A || void 0 === A?void 0:A.yp.find(function(D){return D.Fa.P === z.J;});B || (B=this.j.a1a(z.J));if(!B && (null === A || void 0 === A?0:A.Fa.$b)){C=this.hvb.TLb({$b:null === A || void 0 === A?void 0:A.Fa.$b,zd:x.P,J:z.J});C && (B=C.Y);}B && B.Fa.$b === (null === A || void 0 === A?void 0:A.Fa.$b) && this.j.dXa(z.J,{Ff:{$b:B.Fa.$b,zd:x.P}},x.na,B);}};c.prototype.ko=function(){var x,z,A,B,C,D,E,G,F;G=null === (x=this.ub) || void 0 === x?void 0:x.U6();x=(null !== (z=this.uA) && void 0 !== z?z:G && this.ub.ko()) || ({});z=x.v;G=x.xd;F=x.oH;x=x.Pr;return {id:String(null === z || void 0 === z?void 0:z.id),Jja:null !== (A=null === G || void 0 === G?void 0:G.G) && void 0 !== A?A:0,j4:null !== (B=null === z || void 0 === z?void 0:z.se.G) && void 0 !== B?B:Infinity,Jzb:null !== (C=null === z || void 0 === z?void 0:z.Jf.G) && void 0 !== C?C:0,sYb:null !== (D=null === F || void 0 === F?void 0:F.G) && void 0 !== D?D:Infinity,cva:null !== (E=null === x || void 0 === x?void 0:x.G) && void 0 !== E?E:0};};c.prototype.e4a=function(){var x,z;this.debug.assert(this.ya,"has access to asePlaygraph");x={};z=this.ya.UF();x.vbuflmsec=z.totalvbuflmsecs;x.vbuflbytes=z.vbuflbytes;x.abuflmsec=z.totalabuflmsecs;x.abuflbytes=z.abuflbytes;x.tbuflmsec=z.totaltbuflmsecs;x.tbuflbytes=z.tbuflbytes;return x;};c.prototype.paused=function(){};c.prototype.mYb=function(){!1;this.ti.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.ti.Oc});};c.prototype.aF=function(x,z){var A;this.debug.assert(this.j.Y,"has access to playback manifest");A=this.BI[v.u.$];return x.P === this.j.Y.Fa.P?A:this.NHb(this.j.Y.Fa.$s[A],z);};c.prototype.oI=function(x,z){var A;this.debug.assert(this.j.Y,"has access to playback manifest");if(this.j.kd.aa){this.debug.assert(x.P === this.j.Y.Fa.P);A=this.BI[v.u.Ga];if((x=this.j.Xg.find(function(B){return B.trackId === z[A].Zf;})) && (!x.mo() || x.jn()))return A;}};c.prototype.NHb=function(x,z){var A,B,C;this.debug.assert(this.Fc,"has access to internalLogger");!1;A=z.filter(function(D){return D.profile === x.profile;}).sort(function(D,E){var G,F,J;G=(D.language === x.language || "zxx" === D.language?0:1) - (E.language === x.language || "zxx" === E.language?0:1);0 === G && (G=(D.wh === x.wh?0:1) - (E.wh === x.wh?0:1));if(0 === G){D=(null !== (F=D.bc) && void 0 !== F?F:0) - (null !== (J=E.bc) && void 0 !== J?J:0);}else D=G;return D;});B=0;C=ja(A).next().value;C && z.some(function(D,E){if(D === C)return (B=E,!0);});!1;return B;};c.prototype.Jeb=function(x){var z,A,B,C,D,E;this.debug.assert(this.Fc,"has access to internalLogger");this.debug.assert(this.ub,"has access to asePlayer");this.debug.assert(this.j.Y,"has access to playback manifest");if(this.pza)return (!1,!1);A=x.xp;B=this.BI[v.u.$];if(void 0 === A)C=B;else if(!this.j.Y.Fa.audio_tracks.some(function(G,F){if(G.new_track_id === A)return (C=F,!0);}))return (!1,!1);D=x.Seb;x=this.BI[v.u.Ga];if(void 0 === D)E=x;else if(!this.j.Y.Fa.timedtexttracks.some(function(G,F){if(G.new_track_id === D)return (E=F,!0);}))return (!1,!1);!1;this.OR=C;this.PR=E;null === (z=this.j.Vd) || void 0 === z?void 0:z.l5b();this.j.paused.value || (this.ub.pause([v.u.$,v.u.Ga]),this.hH=!0,this.j.paused.set(!0,{bN:!0}));this.debug.j3(this.OR,"has access to valid requestedAudioTrackIndex number");this.BI[v.u.$]=this.OR;this.debug.j3(this.PR,"has access to valid requestedTextTrackIndex number");this.BI[v.u.Ga]=this.PR;(this.uz() || this.hH) && this.ub.resume(this.hH?[v.u.$,v.u.Ga]:void 0);this.JI(this.xfb);return !0;};c.prototype.uz=function(){var x;x=this;this.debug.assert(this.ya,"has access to asePlaygraph");return this.ya.uz({jO:this.aF.bind(this)},{jO:function(){return x.BI[v.u.X];}},{jO:this.oI.bind(this)});};c.prototype.pm=function(){var x;!1;this.mf.set(l.eb.$j);null === (x=this.ya) || void 0 === x?void 0:x.zza("intrplay",l.mc.pm);this.ti.emit("underflow",{type:"underflow",pts:this.ti.Oc});this.JI(this.ek);};c.prototype.xaa=function(x,z){this.Lba.xaa(x,z);};c.prototype.open=function(){this.uR || (this.debug.assert(this.ya,"has access to asePlaygraph"),this.debug.assert(this.ub,"has access to asePlayer"),!1,this.uR=this.Bh=!0,this.ya.open(),this.debug.assert(this.vw,"invalid start position relative to playgraph"),this.ya.RC(this.vw,l.L.Na(this.j.kb)),this.mf.set(l.eb.ee),this.JI(this.ek),this.ya.qv(this.ub),this.IRb());};c.prototype.play=function(){this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.ub,"has access to asePlayer");!1;0 !== this.ya.state && (this.ub.resume(this.hH?[v.u.$,v.u.Ga]:void 0),this.mf.set(l.eb.he),this.ti.emit("playing",{type:"playing",pts:this.ti.Oc}));};c.prototype.stop=function(){var x;!1;this.mf.set(l.eb.k1);null === (x=this.ub) || void 0 === x?void 0:x.pause();this.events.emit("stop");this.ti.emit("paused",{type:"paused",pts:this.ti.Oc});};c.prototype.flush=function(){this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.Ph,"has access to streamingEngine");!1;this.uR && this.mf.value !== l.eb.Fs && this.mf.value !== l.eb.k1 && this.stop();this.ya.zza("endplay",l.mc.gi);this.ya.Hf();this.Ph.Ej.save();this.Ph.kW.save();};c.prototype.ho=function(){var x;return null === (x=this.ya) || void 0 === x?void 0:x.Vc;};c.prototype.gla=function(x){var z;this.debug.assert(this.ya,"has access to asePlaygraph");z=l.L.Na(x);return (z=this.ya.il(z,{K4b:!0,J4b:!0}))?this.ya.da.O[z.I].ta + Number(z.offset.G.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + x);};c.prototype.ila=function(x,z){this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.Fc,"has access to internalLogger");!1;this.ya.da.O[x] || (x=this.rna(z));this.debug.k3(x,"has access to segmentId");x={I:x,offset:l.L.Na(z - this.ya.da.O[x].ta)};if(x=this.ya.KB(x))return x.G;!1;return z;};c.prototype.Ixb=function(x,z){var A,B,C,D;this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.ub,"has access to asePlayer");!1;z && this.ya.da.O[z] || (z=null !== (A=this.rna(x)) && void 0 !== A?A:null === (B=this.ub) || void 0 === B?void 0:B.zg.I);z=this.j.Vi(z);x={Ml:l.L.Na(x),J:z.P};return null === (D=null === (C=this.ya.ut(x)) || void 0 === C?void 0:C.Ka) || void 0 === D?void 0:D.G;};c.prototype.Z4=function(x){var z;z=void 0 === z?!0:z;!1;this.Bh?Number.isFinite(x) && (this.debug.assert(this.ub,"has access to asePlayer"),z?this.ub.Jcb(x):this.ub.Icb(x)):this.fail("Must call open prior to drmReady");};c.prototype.M2a=function(){var x;return null !== (x=this.ub) && void 0 !== x && x.Od?this.ub.gV(this.tb.ca.J):!1;};c.prototype.di=function(x){var z,A;!1;if(!this.ub)return (!1,!1);z=this.ho();x=l.L.Na(x);A=this.ub.di(x);return z && this.j.dM()?A && z.di(x):A;};c.prototype.r2b=function(x,z){var A;this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.ub,"has access to asePlayer");!1;z && this.ya.da.O[z] || (z=null !== (A=this.rna(x)) && void 0 !== A?A:this.tb.ih);this.debug.k3(z,"has access to segmentId");this.debug.assert(this.ya.da.O[z],"segment exists in playgraph map");z={I:z,offset:l.L.Na(x - this.ya.da.O[z].ta)};this.ya.RC(z,l.L.Na(x));this.ub.resume();this.mf.set(l.eb.ee);this.JI(this.ek);x=this.ya.Vbb(z);this.debug.assert(x,"Valid position must be provided for seek");};c.prototype.addEventListener=function(x,z){this.events.addListener(x,z);return this;};c.prototype.removeEventListener=function(x,z){this.events.removeListener(x,z);return this;};c.prototype.i8b=function(x,z){var A;!1;A={};this.ya.gj((A[x]=z,A));};c.prototype.T3=function(x,z){var A,B;this.debug.assert(this.Fc,"has access to internalLogger");this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.ub,"has access to asePlayer");!1;A=this.ko().id;B=this.ya.pU(A,x);if(z){if(!B.j9b)return (this.Fc.warn("chooseNextSegment, seamless transition, invalid destination: " + (x + " for current segment: " + A)),!1);if(void 0 !== B.pta)return (!1,B.pta === x);this.ya.Rj(A,x,!1,z);return !0;}if(void 0 !== B.pta)return (!1,!1);B.JS && (this.ub.reset(),this.ya.Rj(A,x,!1,z),this.ub.resume(),this.mf.set(l.eb.ee),this.JI(this.ek));return !!B.JS;};c.prototype.Rj=function(x,z,A,B){this.debug.assert(this.ya,"has access to asePlaygraph");!1;this.ya.Rj(x,z,A,B);};c.prototype.bI=function(){var x;this.debug.assert(this.Fc,"has access to internalLogger");!1;x=this.ti.Oc;!1;this.ti.emit("skipped",{type:"skipped",pts:x});return new l.OQ(Promise.resolve()).G1b;};c.prototype.o6=function(x,z){var A;return null === (A=this.ya) || void 0 === A?void 0:A.o6(x,z);};c.prototype.rna=function(x){var z,A,B,C,D,E,G,F;this.debug.assert(this.ya,"has access to asePlaygraph");this.debug.assert(this.Fc,"has access to internalLogger");!1;z=this.ya.da;A=[];B=Infinity;for(C in z.O){D=z.O[C];E=D.ta;D=D.va;G=x < Number(null !== D && void 0 !== D?D:Infinity);if(E <= x && G)(!1,A.push(C));else if((E=Math.min(Math.abs(x - E),Math.abs(x - D)),E < B)){B=E;F=C;}}x=A[0] || F;this.debug.k3(x,"has access to locatedSegmentId");!1;return x;};c.prototype.IRb=function(){var x,z;x=this;this.debug.assert(this.j.Gb,"has access to mediaElement");z=this.j.Gb.ba;this.debug.assert(z,"has access to videoElement");z.addEventListener("play",function(){x.mf.value === l.eb.Kg && (x.mf.set(l.eb.he),x.ti.emit("playing",{type:"playing",pts:x.ti.Oc}));});z.addEventListener("pause",function(){x.mf.value === l.eb.he && (x.mf.set(l.eb.Kg),x.ti.emit("paused",{type:"paused",pts:x.ti.Oc}));});};c.prototype.fail=function(x){var z;null === (z=this.ya) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:x});};c.prototype.JI=function(x){var z,A,B,C,D,E,G,F;z=this;if(x !== this.xfb && this.pza)(!1,this.X8a=x);else {F=null === (A=this.ub) || void 0 === A?void 0:A.Kr.value;A=null === (B=this.ya) || void 0 === B?void 0:B.Qd.value;B=!0 === F;F=A === l.Sc.yl;!1;null === (C=this.ub) || void 0 === C?void 0:C.Kr.removeListener(this.e7a);null === (D=this.ya) || void 0 === D?void 0:D.Qd.removeListener(this.OUa);B && F?x():(this.e7a=function(){return z.JI(x);},this.OUa=function(){return z.JI(x);},null === (E=this.ub) || void 0 === E?void 0:E.Kr.addListener(this.e7a),null === (G=this.ya) || void 0 === G?void 0:G.Qd.addListener(this.OUa));}};c.prototype.Z_a=function(x){var z,A;z=this;x=this.j.jk(x);return Promise.resolve(null !== (A=x.Y) && void 0 !== A?A:this.x$(x)).then(function(B){B=B.Fa;return {Y:B,uv:B.N6 && !B.MB,config:z.bi,Cg:[].concat(ba(z.Cg))};});};c.prototype.x$=function(x){var z,A,B,C,D;z=this;!1;B=Promise.resolve();if(x.Gf){C=x.Gf.zd;(D=null === (A=this.j.jk(C).Y) || void 0 === A?void 0:A.Fa)?x.Gf.LW=D:B=this.Pe.Xm(C).uq.then(function(E){return E.Y;}).then(function(E){x.Gf.LW=E;}).catch(function(){return z.j.rd(d.V.LD,d.S.kib);});}return B.then(function(){return z.j.x$(x);}).then(function(){return x.Y;});};c.prototype.wv=function(x,z,A){var B,C,D,E,G,F,J,M,L,K,P,H,I;B=this;this.debug.assert(this.Ph,"has access to streamingEngine");!1;L={J:x,zd:null === (C=null === z || void 0 === z?void 0:z.Ff) || void 0 === C?void 0:C.zd,$b:null === (D=null === z || void 0 === z?void 0:z.Ff) || void 0 === D?void 0:D.$b};if(!this.Pe.has(L)){if(!this.j.T6(x) && (null === (E=null === z || void 0 === z?void 0:z.Ff) || void 0 === E?0:E.zd) && this.j.T6(null === (G=null === z || void 0 === z?void 0:z.Ff) || void 0 === G?void 0:G.zd)){C=this.j.jk(null === (F=z.Ff) || void 0 === F?void 0:F.zd);F=null === (J=C.Y) || void 0 === J?void 0:J.Fa.$b;J=this.j.a1a(x);(null === (M=null === J || void 0 === J?void 0:J.Fa) || void 0 === M?0:M.$b) && J.Fa.$b === F && (K=J);this.j.dXa(x,z,C.na,K);}this.j.T6(x) && (P=this.j.jk(x));H=A?A.na:P?P.na:void 0;M=A?A.Sg:P?P.Bf:void 0;this.Pe.store(L,{iVa:function(){},equals:function(N){return N && N.J === L.J && (H === N.na || !N.na || !H);},get uq() {I || (I=B.Z_a(x));return I;},set uq(N) {I=N;},events:new f.EventEmitter(),na:H,J:L.J,gr:!1,Pya:!1});this.bi.mL && this.Ph.lO(this.Pe.Xm(L.J,z),{na:H,Sg:M,gma:null === A || void 0 === A?void 0:A.pB});}};c.prototype.WO=function(x){var z,A,B;this.debug.assert(this.Ph,"has access to streamingEngine");!1;z=this.j.Vi(x);A=z.Gf;z={J:z.P,zd:null === A || void 0 === A?void 0:A.zd,$b:null === A || void 0 === A?void 0:A.$b};x=this.tb.me(x).J;if(!this.Pe.has(z))return Promise.resolve();A && (B={Ff:{$b:null === A || void 0 === A?void 0:A.$b,zd:A.zd}});A=this.Pe.Xm(x,B);A.uq=this.Z_a(x);return this.Ph.WO(A);};c.prototype.pU=function(x){var z;this.debug.assert(this.ub,"has access to asePlayer");this.debug.assert(this.ya,"has access to asePlaygraph");return this.ya.pU(null === (z=this.ub.ko().v) || void 0 === z?void 0:z.id,x);};c.prototype.DB=function(x){var z;x=null === (z=this.ya) || void 0 === z?void 0:z.DB(x);!1;return x;};c.prototype.gPb=function(x){var z,A;z=x.AXa;A=x.I;this.debug.assert(this.Ph,"has access to streamingEngine");this.debug.assert(this.Fc,"has access to internalLogger");!1;x=this.j.Vi(A);x=this.tb.u6(x);A=x.O[A];this.debug.assert(A,"segment exists");this.vw=(0,q.g2a)(A.J,x,this.j.kb,A.ta);z=Object.create(this.bi,{pB:{value:z.pB},g5:{value:this.j.background.value}});this.mf=new t.Ib(l.eb.Jn);this.ya=this.Ph.lS(x,this.bi.AYb,z,this.Pe);this.Lba=new l.TQ(this.Fc);z=this.ya.OK(this.Lba);x=this.ya.NK();this.ya.Rxa(x,z);this.uz();this.hH=!1;};c.prototype.QK=function(){var x,z,A;x=this;this.debug.assert(this.Ph,"has access to streamingEngine");this.debug.assert(this.j.Y,"has access to playback manifest");!1;A=null === (z=this.j.Y) || void 0 === z?void 0:z.Fa;z=void 0 !== this.oI(A,A.tI);A=[].concat(ba(this.Cg));z && A.push(v.u.Ga);z=Object.create(this.bi,{Cg:{value:A},Ioa:{value:function(){return x.HLb();}}});this.ti=Object.create(new f.EventEmitter(),{Oc:{get:function(){x.debug.j3(x.j.mediaTime.value,"has access to mediaTime.value");return l.L.Na(x.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(x.j.playbackRate.value,.01);}},nLb:{value:function(){x.debug.assert(x.j.Gb,"has access to mediaElement");return x.j.Gb;}}});this.ub=this.Ph.$tb(this.ti,z);};c.prototype.HLb=function(){this.uo || (this.uo=new l.platform.MediaSource(this.ti),this.uo.zf || (this.uo.zf=l.platform.MediaSource.zf));return this.uo;};Ya.Object.defineProperties(c.prototype,{pza:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.OR && void 0 !== this.PR;}},Jc:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.Ph,"has access to streamingEngine");return this.Ph.Jc;}},zj:{configurable:!0,enumerable:!0,get:function(){for(var x,z=null === (x=this.ya) || void 0 === x?void 0:x.zj;null === z || void 0 === z?0:z.zj;){z=z.zj;}return null === z || void 0 === z?void 0:z.da;}},iWa:{configurable:!0,enumerable:!0,get:function(){for(var x=this.ub;null === x || void 0 === x?0:x.$U;){x=x.$U;}return x;}},SCb:{configurable:!0,enumerable:!0,get:function(){var x,z,A;if(null === (x=this.iWa) || void 0 === x?0:x.Od){A=(x=this.iWa.zg) && (null === (z=this.zj) || void 0 === z?void 0:z.O[x.I]);if(A)return {Ml:l.L.Na(x.offset.G + A.ta),J:A.J};}}}});b.iea=c;},13005:function(r,b,a){var l,f,k,d;function c(g){function n(h,m){this.W=h;this.bqb=m;this.hna=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.Ji=g.ab("DownloadTrack");}n.prototype.pt=function(){!1;this.VR=void 0;this.emit("destroyed");};n.prototype.toString=function(){return "id:" + this.VR + " config: " + JSON.stringify(this.W);};n.prototype.toJSON=function(){return "Download Track id:" + this.VR + " config: " + JSON.stringify(this.W);};n.prototype.vM=function(){return void 0 === this.VR?!1:!0;};n.prototype.cwa=function(h){this.W.connections !== h.connections && (this.W=h);};Ya.Object.defineProperties(n.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.VR;}},Zn:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.VR;}},config:{configurable:!0,enumerable:!0,get:function(){return this.W;}},Y9:{configurable:!0,enumerable:!0,get:function(){return this.Ji;}},YV:{configurable:!0,enumerable:!0,get:function(){return this.bqb.YV;}},Feb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});this.IP=Object.assign(n,new k.pEa());}Object.defineProperty(b,"__esModule",{value:!0});b.oEa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(67263);d=a(22699).EventEmitter;c=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.bb))],c);b.oEa=c;},22806:function(r,b,a){var l,f,k,d,g,n,h,m,p;function c(q,u,t,w,v){this.sK=q;this.Je=t;this.Bb=w;this.Ea=v;this.log=u.ab("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.gJa=void 0;r=a(5163);l=a(48220);f=a(24550);k=a(36129);d=a(87386);g=a(22674);n=a(32934);h=a(42207);m=a(81918);p=a(5021);c.prototype.YF=function(){return this.Ea.Kb().ea(p.pa);};c.prototype.mVb=function(q,u){q.pVb({mediaRequest:q,timestamp:u});};c.prototype.A9=function(q){var u,t;t=q.mediaRequest.kC;t.u8a(Object.assign(Object.assign({},q),{timestamp:q.connect?q.timestamp:this.YF(),connect:null !== (u=q.connect) && void 0 !== u?u:!1,mediaRequest:t,readyState:t.readyState}));};c.prototype.gN=function(q){this.mVb(q.mediaRequest.kC,q.timestamp);};c.prototype.bH=function(q){var u,t;u=q.mediaRequest.kC;t=q.bytes;"undefined" === typeof u?!1:(u.readyState === l.Zc.Nc.kx && this.A9(q),this.Bb.dk(t) && (q.mediaRequest=u,q.timestamp=this.YF(),t > u.bytesReceived && (q.newBytes=t - u.bytesReceived,q.bytesLoaded=t,u.sVb(q))));};c.prototype.ln=function(q){var u,t,w,v;u=q.mediaRequest;t=q.errorcode;w=q.httpcode;v=l.Zc.t_;if("undefined" === typeof u)!1;else if((u=u.kC,"undefined" === typeof u))!1;else if(t === k.S.BD)(q.mediaRequest=u,q.readyState=u.readyState,u.kVb(q));else {switch(t){case k.S.WP:w=v.SCa;break;case k.S.Hda:w=v.Dda;break;case k.S.TP:w=400 < w && 500 > w?452 === w?v.pGa:v.Fda:500 <= w?v.Gda:v.Dda;break;case k.S.UP:w=v.Eda;break;case k.S.SP:w=v.TCa;break;case k.S.VP:w=v.q0;break;case k.S.CD:w=v.q0;break;case k.S.oGa:w=v.nGa;break;case k.S.kGa:w=v.Fda;break;case k.S.okb:w=v.Eda;break;default:w=v.q0;}q.mediaRequest=u;q.readyState=u.readyState;q.errorcode=w;q.nativecode=t;u.Ata(q);}};c.prototype.fN=function(q,u){var t,w;t=u.request.kC;if(t)if(u.ia){if((!1,q.j && t.readyState !== l.Zc.Nc.DONE)){switch(t.readyState){case l.Zc.Nc.ps:!1;return;case l.Zc.Nc.xl:break;case l.Zc.Nc.kx:this.A9({mediaRequest:u.request,responseHeaders:u.headers,httpCode:u.dn});break;default:!1;}if(!t.Ke){w={mediaRequest:t,readyState:t.readyState,timestamp:this.YF(),cadmiumResponse:u};q.j.nza+=1;t.RMb();t.pQb() && (q.j.Mwa+=1,u.$l.cj=Math.ceil(t.zna),u.$l.pq=Math.ceil(t.oF),u.$l.kz=Math.floor(t.fC));t.uzb=w;t.cN(w);}}}else (!1,t.readyState === l.Zc.Nc.ps?!1:this.ln({mediaRequest:u.request,errorcode:u.za,httpcode:u.Nl,responseHeaders:u.headers,cadmiumResponse:u}));};c.prototype.download=function(q,u){var t;t=this;u=this.Je.download(q,u);q.kC && q.kC.readyState === l.Zc.Nc.OPENED && u.t3b(function(w){t.gN(w);});u.P2(function(w){t.fN(q,w);});u.z3b(function(w){t.bH(w);});return u;};a=c;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(f.pP)),r.__param(1,(0,g.l)(d.bb)),r.__param(2,(0,g.l)(n.Gu)),r.__param(3,(0,g.l)(h.Uf)),r.__param(4,(0,g.l)(m.Lc))],a);b.gJa=a;},77425:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z){this.Ea=t;this.xt=w;this.config=v;this.Je=x;this.KTb=z;this.log=y.ab("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.qJa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(32934);d=a(24240);g=a(51344);n=a(48220);h=a(81918);m=a(5021);p=a(34231);q=a(4203);u=a(60328);c.prototype.YT=function(t,w,v){var x,z,A,B;function y(){var C;t.removeEventListener(n.Zc.Ik.dA,y);C=x.config().iHb;void 0 === t.zL?t.zL=0:t.zL++;t.zL >= C.length && (t.zL=C.length - 1);ob.clearTimeout(t.gna);t.gna=ob.setTimeout(function(){x.YT(t,w,v);},C[t.zL]);}x=this;t.uhc=!0;z=0 === w.start && -1 === w.end;z={url:t.url,responseType:this.Je.e1.$Ba,withCredentials:!1,kB:t.mediaType === u.u.$?"audio":"video",offset:z?void 0:w.start,length:z?void 0:t.lm,track:{type:t.mediaType === u.u.$?g.Zj.audio:g.Zj.video},stream:{Vb:t.Pb,bitrate:t.bitrate},Dc:{id:t.Rc},kC:t,YH:v,js:this.xt.js,Xr:t.Xr};A=t.oL;void 0 !== A && void 0 !== A.ju && void 0 !== A.HG && void 0 !== A.IG && (z.oL=[A.IG,A.HG,A.ju,A.WVa]);B=this.YF();z=this.KTb.download(z,function(C){C.ia && t.readyState !== n.Zc.Nc.DONE && (t.readyState === n.Zc.Nc.ps?!1:(t.readyState === n.Zc.Nc.kx?t.u8a({mediaRequest:t,readyState:t.readyState,timestamp:t.Ke?B:x.YF(),connect:!1,responseHeaders:C.headers,httpCode:C.dn}):t.readyState !== n.Zc.Nc.kx && t.readyState !== n.Zc.Nc.xl && !1,C={mediaRequest:t,readyState:t.readyState,timestamp:x.YF(),cadmiumResponse:C,response:C.content},t.uzb=C,t.cN(C)));});t.addEventListener(n.Zc.Ik.dA,y);t.$pa=z.abort;};c.prototype.DSa=function(t){try{ob.clearTimeout(t.gna);t.gna=void 0;t.zL=void 0;t.$pa();}catch(w){this.log.warn("exception aborting request");}};c.prototype.YF=function(){return this.Ea.Kb().ea(m.pa);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.Lc)),r.__param(1,(0,l.l)(p.Dn)),r.__param(2,(0,l.l)(q.Yb)),r.__param(3,(0,l.l)(f.bb)),r.__param(4,(0,l.l)(k.Gu)),r.__param(5,(0,l.l)(d.hJa))],a);b.qJa=a;},89936:function(r,b,a){var l,f,k,d,g,n,h,m,p,q;function c(u,t,w,v,y,x){function z(B,C){this.track=B;this.label=C;this.Ue=m.Zc.Nc.UNSENT;this.bytesReceived=0;this.DX=[];}function A(B,C,D){this.requestId=x.dB().toString();this.Bb=w;this.log=t.ab("MediaRequest");this.config=u;this.Jb=new h.Yj();this.label=C;"notification" === this.label?this.config().mL && (this.YV=v):this.YV=y;D && (this.mediaType=D.mediaType,this.Pb=D.Pb,this.bitrate=D.bitrate,this.Rc=D.Rc || 0,this.Jt=D.Jt,this.I=D.I);this.aV=this.K3=this.L3=void 0;this.track=B;this.AK=this.url=this.responseType=void 0;this.Ue=m.Zc.Nc.UNSENT;this.$i=this.yB=this.rg=this.status=void 0;this.bytesReceived=0;this.connect=this.zna=this.oF=this.fC=this.sra=this.qh=this.yna=this.loadTime=this.eSa=void 0;this.DX=[];this.Zn=!1;!1;}z.prototype.addEventListener=function(B,C,D){this.Jb.addListener.call(this,B,C,D);};z.prototype.removeEventListener=function(B,C){this.Jb.removeListener.call(this,B,C);};z.prototype.emit=function(B,C,D){this.Jb.Ec.call(this,B,C,D);};z.prototype.pVb=function(B){this.Ue === m.Zc.Nc.OPENED && (this.aV=!0,this.loadTime=this.qh=B.timestamp,!1,this.Ue=m.Zc.Nc.kx,this.emit(m.Zc.Ik.gKa,B));};z.prototype.u8a=function(B){var C;B.responseHeaders && (this.R$=B.responseHeaders);B.httpCode && (this.status=B.httpCode);if(this.Ue < m.Zc.Nc.xl){this.DX=[];C=B.timestamp - this.loadTime;!this.Ke && 0 < C && (this.connect=!0,this.DX.push(C));!0 === this.config().AOb?this.yna=B.timestamp:this.yna=this.qh=B.timestamp;!1;this.Ue=m.Zc.Nc.xl;200 <= this.status && 299 >= this.status && this.emit(m.Zc.Ik.fKa,B);}};z.prototype.sVb=function(B){this.Ue === m.Zc.Nc.xl && (!1,this.sra=this.qh=B.timestamp,B.newBytes=B.bytesLoaded - this.bytesReceived,this.bytesReceived=B.bytesLoaded,this.Bb.qg(this.sra) && 200 <= this.status && 299 >= this.status && this.emit(m.Zc.Ik.hKa,B));};z.prototype.cN=function(B){var C;if(-1 < [m.Zc.Nc.kx,m.Zc.Nc.xl].indexOf(this.Ue)){this.aV=!1;!1;this.qh=B.timestamp;this.Ue=m.Zc.Nc.DONE;C=this.bytesReceived;this.bytesReceived=B.cadmiumResponse.$l.i4;(0,q.oa)(this.bytesReceived === this.lm,"bytesReceived do not match expected totalBytes.");B.newBytes=this.lm - C;this.Bb.qg(this.oF) && (this.qh=this.oF,0 === B.newBytes && (this.sra=this.oF));this.Bb.qg(this.fC) && (this.loadTime=this.fC);this.eSa=B.response;this.emit(m.Zc.Ik.wQ,B);this.track.emit("mediaRequestComplete",{type:"mediaRequestComplete",c1b:B});}};z.prototype.kVb=function(B){this.aV=!1;!1;this.emit(m.Zc.Ik.cnb,B);};z.prototype.Ata=function(B){var C,D;this.qh=B.timestamp;this.status=null !== (C=B.httpcode) && void 0 !== C?C:this.status;this.R$=null !== (D=B.responseHeaders) && void 0 !== D?D:this.R$;this.rg=B.errorcode;this.yB=m.Zc.t_.name[this.rg];this.$i=B.nativecode;!1;this.track.emit("transportreport",{type:"transportreport",HGb:B});this.emit(m.Zc.Ik.dA,B);this.aV=!1;};z.prototype.open=function(B,C,D,E,G,F,J,M,L){this.ww=!1;this.AK=C;this.YH=J;this.Xr=M;this.oL=L;this.url=B;this.responseType=D;!1;return this.url?this.AG():(!1,!1);};z.prototype.AG=function(){this.Ue=m.Zc.Nc.OPENED;this.status=this.bytesReceived=0;this.$i=this.yB=this.rg=this.R$=void 0;this.YV.YT(this,this.AK,this.YH);return !0;};z.prototype.$e=function(){!1;-1 !== [m.Zc.Nc.OPENED,m.Zc.Nc.kx,m.Zc.Nc.xl].indexOf(this.Ue) && this.abort();return !0;};z.prototype.FO=function(B){!1;this.url=B;return this.Ue > m.Zc.Nc.UNSENT?(this.abort(),this.AG()):!0;};z.prototype.abort=function(){this.Ue=m.Zc.Nc.ps;this.YV.DSa(this);return !0;};z.prototype.pause=function(){};z.prototype.getResponseHeader=function(B){var C,D;return null !== (D=null === (C=this.R$) || void 0 === C?void 0:C[B.toLowerCase()]) && void 0 !== D?D:null;};z.prototype.getAllResponseHeaders=function(){return "";};z.prototype.QN=function(){};z.prototype.Wi=function(){return this.requestId;};z.prototype.toString=function(){var B;B={requestId:this.Wi(),segmentId:this.I,isHeader:this.Ke,ptsStart:this.JN,ptsOffset:this.u$,responseType:this.responseType,duration:this.qt,readystate:this.Ue,bitrate:this.bitrate};return JSON.stringify(B);};z.prototype.toJSON=function(){return this.toString();};z.prototype.RMb=function(){var B,C;if(this.config().Pgb && d.Lu && d.Lu.getEntriesByType && (!this.Bb.qg(this.fC) || !this.Bb.qg(this.oF) && this.Bb.qg(this.url))){B="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.L3 + "-" + this.K3 + "*");C=new RegExp(B);B=d.Lu.getEntriesByType("resource").filter(function(D){return C.exec(D.name);})[0];this.Bb.qg(B) && (0 < B.startTime && (this.fC=B.startTime,0 < B.requestStart && (this.fC=Math.max(this.fC,B.requestStart))),0 < B.responseStart && (this.zna=B.responseStart),0 < B.responseEnd && (this.oF=B.responseEnd));}};z.prototype.pQb=function(){return this.Bb.qg(this.fC) && this.Bb.qg(this.oF) && this.Bb.qg(this.zna);};Ya.Object.defineProperties(z.prototype,{lm:{configurable:!0,enumerable:!0,get:function(){return 0 === this.AK.start && -1 === this.AK.end?Number(this.getResponseHeader("content-length")) || this.bytesReceived:this.AK.end - this.AK.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.K3 - this.L3 + 1;}},NNb:{configurable:!0,enumerable:!0,get:function(){return !!(this.response && 0 < this.response.byteLength);}},Ke:{configurable:!0,enumerable:!0,get:function(){return !this.Jt;}},response:{configurable:!0,enumerable:!0,get:function(){return this.eSa;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Ue;}}});Object.getOwnPropertyNames(z.prototype).forEach(function(B){var C;C=Object.getOwnPropertyDescriptor(z.prototype,B);Object.defineProperty(A.prototype,B,C);});this.Uo=Object.assign(A,m.Zc);}Object.defineProperty(b,"__esModule",{value:!0});b.oJa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(4203);d=a(22365);g=a(42207);n=a(31034);h=a(94886);m=a(48220);p=a(62665);q=a(45146);c=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.Yb)),r.__param(1,(0,l.l)(f.bb)),r.__param(2,(0,l.l)(g.Uf)),r.__param(3,(0,l.l)(n.qKa)),r.__param(4,(0,l.l)(n.rJa)),r.__param(5,(0,l.l)(p.Xw))],c);b.oJa=c;},76457:function(r,b,a){var l,f,k;function c(d,g){this.Je=g;this.log=d.ab("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.pKa=void 0;r=a(5163);l=a(22674);f=a(87386);a=a(32934);c.prototype.YT=function(d,g,n){g={url:d.url,o2b:n};!1;d.$pa=this.Je.u4b(g);};c.prototype.DSa=function(d){try{d.$pa();}catch(g){this.log.warn("exception aborting request");}};k=c;k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.bb)),r.__param(1,(0,l.l)(a.Gu))],k);b.pKa=k;},64213:function(r,b,a){var l,f,k,d;function c(g,n){this.wv=void 0 === g?function(){}:g;this.vwa=n;this.Fw=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.mga=void 0;l=a(5163);f=a(93161);k=a(45146);d=a(31149);c.prototype.store=function(g,n){var h,q;h=this.generateKey(g);this.Fw.has(h) && this.xta(this.Fw.get(h),!0);if(!g.zd)for(var m=ja(this.Fw),p=m.next();!p.done;p=m.next()){q=ja(p.value);p=q.next().value;q=q.next().value;p.includes(":" + g.J + ":") && (this.xta(q,!0),this.Fw.delete(p));}this.Fw.set(h,n);};c.prototype.Xm=function(g,n){var h,m,p;p=null === (h=null === n || void 0 === n?void 0:n.Ff) || void 0 === h?void 0:h.$b;h=null === (m=null === n || void 0 === n?void 0:n.Ff) || void 0 === m?void 0:m.zd;m={J:g,zd:h,$b:p};this.has(m) || this.wv(g,n);return this.get(m);};c.prototype.qw=function(g,n){var h;return l.__awaiter(this,void 0,void 0,function p(){var q,u;q=this;return Ja(p,function(t){var w;if(1 == t.Uv)return ((0,k.oa)(n.Ff,"auxiliaryOptions must exist if an adBreak hydration was requested"),(0,k.oa)(!!n.Ff.$b,"auxiliaryManifestToken must exist if an adBreak hydration was requested"),t.ika=2,Ma(t,q.vwa(g,n),4));if(2 != t.Uv)return t.return(t.uZ);t.ika=0;w=t.PE.GZa;t.PE=null;u=w;throw new f.lfa("Could not hydrate adBreak",{Km:0,Qjc:0,errorCode:null !== (h=u.code) && void 0 !== h?h:0,context:{error:u instanceof d.Mc?u.toJSON():u,type:"adBreakHydration"}});});});};c.prototype.has=function(g){g=this.generateKey(g);return this.Fw.has(g) && !this.Fw.get(g).gr;};c.prototype.clear=function(){var g;g=this;this.Fw.forEach(function(n){g.xta(n,!1);});this.Fw.clear();};c.prototype.get=function(g){return this.Fw.get(this.generateKey(g));};c.prototype.generateKey=function(g){var n,h;n=g.$b;h=g.zd;return g.J.toString() + (h?":" + h:"") + (n?":" + n:"");};c.prototype.xta=function(g,n){var h;null === (h=g.events) || void 0 === h?void 0:h.emit("viewableEvicted",{type:"viewableEvicted"});g.Pya=n;};b.mga=c;},30326:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.m3=void 0;c=a(32687);b.m3=function(l){var f,k,d,g;f=l.oo;k=l.loadTime;l=l.Yma;d=(0,c.Sb)(k)?k:0;g=f[l.target] || ({});f[l.target] !== g && (f[l.target]=g);Object.entries(l.fields).forEach(function(n){var h,m,p,q;h=ja(n);n=h.next().value;h=h.next().value;if("object" !== typeof h || null === h)g[n]=h;else {m=h.type;if("count" === m)(void 0 === g[n] && (g[n]=0),++g[n]);else if(void 0 !== h.value){if("array" === m){m=g[n];p=h.adjust;q=h.value;m || (m=g[n]=[]);p && 0 < p.length && p.forEach(function(u){q[u]-=d || 0;});m.push(q);}else g[n]="sum" === m?(g[n] || 0) + h.value:h.value;}else g[n]=h;}});};},64302:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.g2a=void 0;c=a(93161);l=a(45146);b.g2a=function(f,k,d,g){return k.O[k.Be].ta === g?(f=(0,c.Fp)(k,f,c.L.Na(d)),(0,l.oa)(f,"has valid start position relative to playgraph"),f):{I:k.Be,offset:c.L.Ia};};},11479:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rh="AsyncComponentLoaderSymbol";},87284:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.bUa=void 0;r=a(22674);c=a(31073);l=a(11479);b.bUa=new r.gd(function(f){f(l.Rh).to(c.RBa).ha();});},31073:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w;function c(v,y,x,z,A,B){var C;C=this;this.Ck=v;this.config=x;this.Bo=z;this.debug=A;this.Ea=B;this.nfb=[];this.Yc={};this.log=y.ab("loadAsync");this.LSb=(0,u.CFa)(function(D){C.u0b=!0;C.startTime=C.Ea.Kb().ea(p.pa);C.load(C.nfb).then(function(){C.endTime=C.Ea.Kb().ea(p.pa);D(w.dg);}).catch(function(E){C.endTime=C.Ea.Kb().ea(p.pa);D(E);});});}Object.defineProperty(b,"__esModule",{value:!0});b.RBa=void 0;r=a(5163);l=a(77134);f=a(36129);k=a(96813);d=a(63156);g=a(22674);n=a(87386);h=a(4203);m=a(59818);p=a(5021);q=a(90597);u=a(22894);t=a(81918);w=a(33096);c.prototype.BV=function(v){this.LSb(v);};c.prototype.register=function(v,y){this.debug.assert(!this.u0b);this.nfb.push({gSb:this.Mxb(y),errorCode:v});};c.prototype.re=function(v){this.debug.assert(void 0 === this.Yc[v]);this.Yc[v]=this.Ea.Kb().ea(p.pa);};c.prototype.load=function(v){var y;y=this;return (0,k.H$a)(v).then(function(x){y.Ck.mark(d.Xj.lj.gib);return x.reduce(function(z,A){return z.then(function(){return y.eSb(A);});},Promise.resolve()).then(function(){y.Ck.mark(d.Xj.lj.eib);});});};c.prototype.eSb=function(v){var y,x;y=this;x=v.gSb;!1;return this.Bo.oq((0,p.Ob)(this.config().xvb),x()).catch(function(z){y.log.error("Failed to load component " + v.errorCode,z);y.Ck.mark(d.Xj.lj.fib);if(z instanceof m.Hq)throw {za:f.S.dib,errorCode:v.errorCode};z.errorCode=z.errorCode || v.errorCode;z.za=z.za || f.S.cib;throw z;});};c.prototype.Mxb=function(v){return function(){return new Promise(function(y,x){v(function(z){z.ia?y():x(z);});});};};a=c;a=r.__decorate([(0,g.U)(),r.__param(0,(0,g.l)(l.BJ)),r.__param(1,(0,g.l)(n.bb)),r.__param(2,(0,g.l)(h.Yb)),r.__param(3,(0,g.l)(m.fA)),r.__param(4,(0,g.l)(q.Ow)),r.__param(5,(0,g.l)(t.Lc))],a);b.RBa=a;},96813:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.H$a=void 0;c=a(36129);l=[c.V.Glb,c.V.XGa,c.V.YGa,c.V.bHa,c.V.UGa,c.V.SGa,c.V.Kda,c.V.Klb,c.V.VGa,c.V.TGa,c.V.Yz,c.V.PGa,c.V.RGa,c.V.ZGa,c.V.$Ga,c.V.aHa,c.V.WGa,c.V.QGa];(function(k){k.Xmb=function(d){var h;for(var g={},n=0;n < d.length;n++){h=d[n];if(g[h.errorCode])return {errorCode:h.errorCode,za:c.S.aib};g[h.errorCode]=1;}};k.Ymb=function(d){var n;for(var g=0;g < d.length;g++){n=d[g];if(-1 === l.indexOf(n.errorCode))return {errorCode:n.errorCode,za:c.S.bib};}};})(f || (f={}));b.H$a=function(k){return new Promise(function(d,g){var n;n=f.Ymb(k);n && g(n);(n=f.Xmb(k)) && g(n);d(k.sort(function(h,m){return l.indexOf(h.errorCode) - l.indexOf(m.errorCode);}));});};},81918:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lc="ApplicationSymbol";},6405:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mw="Base16EncoderSymbol";},2248:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$g="Base64EncoderSymbol";},22816:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rD="BrowserInfoSymbol";},33258:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mca="CachedErrorsSymbol";},30869:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cg="ClockSymbol";},87061:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pDa="ClockConfigSymbol";},58098:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FDa="CsvEncoderSymbol";},34043:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.k_="DebouncerFactorySymbol";},90597:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UDa="DebugConfigSymbol";b.Ow="DebugSymbol";},2762:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kob=b.skb=b.VDa=void 0;r=b.VDa || (b.VDa={});r.kdc="PboDebugEvent";r.ndc="PlaygraphEvent";b.skb={icc:"Manifest",Event:"Event",Wbc:"Logblob"};b.kob={hec:"UX",yac:"Combined_1",zac:"Combined_2"};},28131:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,E,G,F,J,M,L,K,P,H,I,N,R,X,ha,ta,la,xa,Ba,La,Za,ab,Z,na,Ha,Sa,Q,ra,qa,O,ia,va,Oa,eb,Xa,qb,zb,Ta,bb,kb,sb,pb,Cb,Ab,Kb,Pb,Xb;Object.defineProperty(b,"__esModule",{value:!0});b.Ux=void 0;r=a(22674);c=a(63368);l=a(30869);f=a(53085);k=a(62665);d=a(10306);g=a(61909);n=a(11629);h=a(67525);m=a(691);p=a(84408);q=a(6405);u=a(2248);t=a(74870);w=a(42207);v=a(15160);y=a(59818);x=a(67572);z=a(53399);A=a(33543);B=a(30033);C=a(24900);D=a(4734);E=a(76564);G=a(31811);F=a(55099);J=a(88490);M=a(57180);L=a(9002);K=a(81918);P=a(58098);H=a(76928);I=a(69997);N=a(90597);R=a(85125);X=a(87386);ha=a(87061);ta=a(84183);la=a(77134);xa=a(1639);Ba=a(91591);La=a(69216);Za=a(49721);ab=a(45842);Z=a(22365);na=a(78789);Ha=a(20483);Sa=a(77687);Q=a(6214);ra=a(31298);qa=a(4203);O=a(91581);ia=a(79274);va=a(36582);Oa=a(22816);eb=a(66057);Xa=a(44720);qb=a(95947);zb=a(4246);Ta=a(84130);bb=a(34043);kb=a(61453);sb=a(90030);pb=a(2010);Cb=a(50093);Ab=a(75236);Kb=a(76892);Pb=a(33258);Xb=a(19699);b.Ux=new r.gd(function(Jb){Jb(c.U0).bD(function(){return {};}).ha();Jb(c.FD).pl(JSON);Jb(c.$Pa).pl(ob);Jb(d.KOa).pl(Math);Jb(c.hIa).pl(Z.J0);Jb(c.afa).pl(Z.Lu);Jb(c.APa).pl(Z.QD);Jb(c.RDa).pl(Date);Jb(c.nJ).pl(Z.Ee);Jb(c.Hmb).pl(Z.bA);Jb(ha.pDa).to(ta.oDa).ha();Jb(K.Lc).to(L.sBa).ha();Jb(l.cg).to(m.qDa).ha();Jb(f.Vh).to(g.PNa).ha();Jb(k.Xw).to(n.jHa).ha();Jb(y.fA).to(D.cNa).ha();Jb(d.f1).to(h.kNa).ha();Jb(va.tea).to(Cb.eJa).ha();Jb(N.Ow).to(I.WDa).ha();Jb(N.UDa).to(R.TDa).ha();Jb(p.Jq).to(z.BPa).ha();Jb(q.Mw).to(A.Cca).ha();Jb(u.$g).to(B.gCa).ha();Jb(t.dh).to(C.CPa).ha();Jb(w.Uf).pl(E.ED);Jb(Xa.LP).to(qb.lFa).ha();Jb(v.qda).to(G.Yj).fqa();Jb(v.l_).to(G.Yj).ha();Jb(v.iEa).to(G.Yj).ha();Jb(v.uda).to(G.Yj).ha();Jb(J.Zfa).to(M.YD).ha();Jb(P.FDa).to(H.EDa).ha();Jb(la.BJ).to(xa.dga).ha();Jb(la.sQ).to(xa.dga).ha();Jb("Factory<LoggerFactory>").mfb(X.bb);Jb(Ba.bda).to(La.YDa).ha();Jb(ab.ZD).ae(function(Qb){return function(Nb){return new Za.UOa(Qb.ob.get(K.Lc),Qb.ob.get(f.Vh),Nb);};});Jb(bb.k_).ae(function(Qb){return function(Nb){return new kb.SDa(Qb.ob.get(f.Vh),Nb);};});Jb(na.yfa).$6b(Ha.xfa);Jb(na.pob).ae(function(Qb){var Nb;Nb=Qb.ob.get(na.yfa);return function(){return new Nb(!1);};});Jb(na.qob).ae(function(Qb){var Nb;Nb=Qb.ob.get(na.yfa);return function(){return new Nb(!0);};});Jb(Sa.xPa).ae(function(){return function(Qb){return new Q.yPa(Qb);};});Jb(ia.BQ).ae(function(Qb){return function(Nb,Zb,nc){return new ra.oMa(Qb.ob.get(N.Ow),Qb.ob.get(qa.Yb),Qb.ob.get(O.Hn),Qb.ob.get(va.tea),Nb,Zb,nc);};});Jb(x.nKa).ae(function(){return function(Qb){return new F.oKa(Qb);};});Jb(Oa.rD).to(eb.vCa);Jb(Ab.C1).to(Kb.zPa).ha();Jb(zb.NQ).ae(function(Qb){return function(Nb,Zb){return new Ta.fPa(Qb.ob.get(f.Vh),Nb,Zb);};});Jb(sb.eFa).to(pb.dFa).ha();Jb(Pb.Mca).to(Xb.aDa).ha();});},90030:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mj="_ANY_";b.eFa="EnricherSymbol";},15160:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qda="EventSourceSymbol";b.uda="GlobalEventSourceSymbol";b.l_="DebugEventSourceSymbol";b.iEa="DiagnosticsEventSourceSymbol";},44720:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LP="EventSourceFactorySymbol";},62665:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xw="IdProviderSymbol";},42207:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uf="IsTypeSymbol";},43193:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zz=void 0;r=b.Zz || (b.Zz={});r[r.mac=8]="Backspace";r[r.bec=9]="Tab";r[r.kbc=13]="Enter";r[r.Vdc=16]="Shift";r[r.Eac=17]="Ctrl";r[r.S$b=18]="Alt";r[r.jdc=19]="PauseBreak";r[r.vac=20]="CapsLock";r[r.mbc=27]="Escape";r[r.Xdc=32]="Space";r[r.idc=33]="PageUp";r[r.hdc=34]="PageDown";r[r.jbc=35]="End";r[r.Obc=36]="Home";r[r.Ubc=37]="LeftArrow";r[r.jec=38]="UpArrow";r[r.sdc=39]="RightArrow";r[r.Sac=40]="DownArrow";r[r.Rbc=45]="Insert";r[r.Qac=46]="Delete";r[r.sec=48]="Zero";r[r.Zcc=49]="One";r[r.eec=50]="Two";r[r.cec=51]="Three";r[r.Jbc=52]="Four";r[r.Hbc=53]="Five";r[r.Wdc=54]="Six";r[r.Udc=55]="Seven";r[r.ibc=56]="Eight";r[r.Kcc=57]="Nine";r[r.K$b=65]="A";r[r.IZ=66]="B";r[r.pac=67]="C";r[r.Ejb=68]="D";r[r.E=69]="E";r[r.nbc=70]="F";r[r.tda=71]="G";r[r.Mbc=72]="H";r[r.Pbc=73]="I";r[r.Sbc=74]="J";r[r.Sda=75]="K";r[r.dmb=76]="L";r[r.iea=77]="M";r[r.mcc=78]="N";r[r.Wcc=79]="O";r[r.adc=80]="P";r[r.Q=81]="Q";r[r.pdc=82]="R";r[r.udc=83]="S";r[r.ipb=84]="T";r[r.fec=85]="U";r[r.kec=86]="V";r[r.mec=87]="W";r[r.oec=88]="X";r[r.qec=89]="Y";r[r.rec=90]="Z";r[r.Vbc=91]="LeftWindowKey";r[r.tdc=92]="RightWindowKey";r[r.Sdc=93]="SelectKey";r[r.Mcc=96]="Numpad0";r[r.Ncc=97]="Numpad1";r[r.Occ=98]="Numpad2";r[r.Pcc=99]="Numpad3";r[r.Qcc=100]="Numpad4";r[r.Rcc=101]="Numpad5";r[r.Scc=102]="Numpad6";r[r.Tcc=103]="Numpad7";r[r.Ucc=104]="Numpad8";r[r.Vcc=105]="Numpad9";r[r.lcc=106]="Multiply";r[r.R$b=107]="Add";r[r.Ydc=109]="Subtract";r[r.Pac=110]="DecimalPoint";r[r.Rac=111]="Divide";r[r.obc=112]="F1";r[r.sbc=113]="F2";r[r.tbc=114]="F3";r[r.ubc=115]="F4";r[r.vbc=116]="F5";r[r.wbc=117]="F6";r[r.xbc=118]="F7";r[r.ybc=119]="F8";r[r.zbc=120]="F9";r[r.pbc=121]="F10";r[r.qbc=122]="F11";r[r.rbc=123]="F12";r[r.Lcc=144]="NumLock";r[r.Qdc=145]="ScrollLock";r[r.Tdc=186]="SemiColon";r[r.lbc=187]="Equals";r[r.Aac=188]="Comma";r[r.Oac=189]="Dash";r[r.ldc=190]="Period";r[r.Ibc=191]="ForwardSlash";r[r.dec=192]="Tilde";r[r.$cc=219]="OpenBracket";r[r.lac=220]="BackSlash";r[r.xac=221]="CloseBracket";r[r.odc=222]="Quote";},67572:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nKa="OneWayCounterFactorySymbol";},91591:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bda="DecoderTimeoutPathologistSymbol";},91581:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hn="PlatformSymbol";b.V0="PlatformMutableSymbol";},63368:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Pa="WindowTimersSymbol";b.FD="JSONSymbol";b.APa="UserAgentSymbol";b.nJ="NavigatorSymbol";b.Hmb="MediaSourceSymbol";b.hIa="LocationSymbol";b.RDa="DateSymbol";b.afa="PerformanceSymbol";b.U0="PlatformExtraInfoSymbol";},79274:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BQ="PlayerErrorFactorySymbol";},78789:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yfa="PrioritizedSetOfListsSymbol";b.pob="PrioritizedSetOfListsFactorySymbol";b.qob="PrioritizedSetOfSetsFactorySymbol";},59818:function(r,b){function a(c){var l;l=Error.call(this,"TimeoutError");this.message=l.message;("stack" in l) && (this.stack=l.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.fA=b.Hq=void 0;da(a,Error);b.Hq=a;b.fA="PromiseTimerSymbol";},10306:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KOa="SystemRandomSymbol";b.f1="RandomGeneratorSymbol";},53085:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vh="SchedulerSymbol";},88490:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zfa="StringUtilsSymbol";},14423:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.$fa=void 0;l=a(22365);c.S1a=function(){var f;f=l.Ou && l.Ou.height;return f?1080 <= f?1080:720:720;};b.$fa=c;},45842:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZD="ThrottleFactorySymbol";},4246:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NQ="TimeoutMonitorFactorySymbol";},77134:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BJ="TimingApiSymbol";b.sQ="MilestoneTimingApiSymbol";},77687:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xPa="UrlFactorySymbol";},84408:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jq="Utf8EncoderSymbol";},74870:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dh="UtilitiesSymbol";},36258:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zLa="PboPlaydataValidatorSymbol";b.qLa="PboPlaydataArrayValidatorSymbol";b.sLa="PboPlaydataCollectionValidatorSymbol";},63156:function(r,b){var c,l;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Xj=b.Pa=b.lj=void 0;(function(f){f[f.wm=0]="STANDARD";f[f.En=1]="LIMITED";f[f.cdc=2]="PREVIEW";})(c || (c={}));(function(f){f[f.HAVE_NOTHING=0]="HAVE_NOTHING";f[f.HAVE_METADATA=1]="HAVE_METADATA";f[f.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";f[f.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";f[f.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(l || (l={}));(function(f){f.gib="asl_start";f.eib="asl_comp";f.Q$b="asl_exc";f.fib="asl_fail";f.Sob="stf_creat";f.wlb="idb_open";f.tlb="idb_block";f.Dlb="idb_upgr";f.Clb="idb_succ";f.ulb="idb_error";f.vlb="idb_invalid_state";f.ylb="idb_open_timeout";f.Alb="idb_open_wrkarnd";f.Blb="idb_storelen_exc";f.xlb="idb_open_exc";f.zlb="idb_timeout_invalid_storelen";f.zmb="msl_load_data";f.Bmb="msl_load_no_data";f.Amb="msl_load_failed";})(r=b.lj || (b.lj={}));(function(f){f.Oea="PlaybackRequestStart";f.Nea="PlaybackRequestEnd";f.d1="RequestPrefetchManifestStart";f.c1="RequestPrefetchManifestEnd";f.b1="RequestManifestStart";f.a1="RequestManifestEnd";f.$0="RequestLicenseStart";f.Z0="RequestLicenseEnd";f.zP="RequestTimedTextUrlStart";f.yP="RequestTimedTextUrlEnd";f.xP="RequestAudioUrlStart";f.wP="RequestAudioUrlEnd";f.BP="RequestVideoUrlStart";f.AP="RequestVideoUrlEnd";f.Zba="AppendBufferStart";f.Yba="AppendBufferEnd";f.Kfa="SetMediaKeysStart";f.Jfa="SetMediaKeysEnd";f.z_="GenerateChallengeStart";f.y_="GenerateChallengeEnd";f.yZ="ApplyLicenseStart";f.xZ="ApplyLicenseEnd";})(b.Pa || (b.Pa={}));b.Xj=a;a.Wda=c;a.MWa=function(f){return ["STANDARD","LIMITED","PREVIEW"][f];};a.lj=r;a.Xz=l;},36129:function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Vw=b.jFa=b.iFa=b.oda=b.hFa=b.u_=b.F0=b.s0=b.gFa=b.S=b.V=void 0;(function(l){l[l.Yo=7001]="UNKNOWN";l[l.vPa=7002]="UNHANDLED_EXCEPTION";l[l.Glb=7003]="INIT_COMPONENT_LOG_TO_REMOTE";l[l.hlb=7004]="HLS_NOT_SUPPORTED";l[l.Jda=7010]="INIT_ASYNCCOMPONENT";l[l.Klb=7011]="INIT_HTTP";l[l.Elb=7014]="INIT_BADMOVIEID";l[l.dHa=7020]="INIT_PLAYBACK_LOCK";l[l.eHa=7022]="INIT_SESSION_LOCK";l[l.Llb=7029]="INIT_POSTAUTHORIZE";l[l.cHa=7031]="INIT_HEADER_MEDIA";l[l.Mlb=7034]="INIT_TIMEDTEXT_TRACK";l[l.Zhb=7037]="ASE_SESSION_ERROR";l[l.Yhb=7038]="ASE_SEEK_THREW";l[l.$hb=7039]="ASE_SKIPPED_THREW";l[l.Hlb=7041]="INIT_CORE_OBJECTS1";l[l.Ilb=7042]="INIT_CORE_OBJECTS2";l[l.Jlb=7043]="INIT_CORE_OBJECTS3";l[l.XGa=7053]="INIT_COMPONENT_STORAGE";l[l.YGa=7054]="INIT_COMPONENT_STORAGELOCK";l[l.UGa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";l[l.Kda=7059]="INIT_COMPONENT_DEVICE";l[l.VGa=7063]="INIT_COMPONENT_MSL";l[l.TGa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";l[l.Yz=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";l[l.bHa=7083]="INIT_COMPONENT_WEBCRYPTO";l[l.SGa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";l[l.QGa=7088]="INIT_COMPONENT_BATTERY_MANAGER";l[l.PGa=7089]="INIT_COMPONENT_ASE";l[l.cJ=7091]="INIT_COMPONENT_DRM_CACHE";l[l.Flb=7092]="INIT_COMPONENT_DRM";l[l.RGa=7094]="INIT_COMPONENT_FTL";l[l.WGa=7095]="INIT_COMPONENT_PREPARE_MODEL";l[l.ZGa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";l[l.$Ga=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";l[l.aHa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";l[l.LD=7111]="MANIFEST";l[l.lmb=7114]="MANIFEST_MISTMATCH";l[l.CIa=7117]="MANIFEST_VERIFY";l[l.Qob=7120]="START";l[l.eJ=7121]="LICENSE";l[l.Cfa=7122]="RELEASE";l[l.Rob=7123]="STOP";l[l.Tda=7125]="KEEPALIVE";l[l.Gnb=7131]="PING";l[l.Skb=7134]="ENGAGE";l[l.hmb=7137]="LOGBLOB";l[l.bdc=7138]="PAUSE";l[l.rdc=7139]="RESUME";l[l.HNa=7140]="SPLICE";l[l.Aib=7142]="BIND";l[l.Bib=7144]="BIND_DEVICE";l[l.dlb=7145]="GENERATE_SCREENSHOTS";l[l.zAa=7146]="AD_EVENT";l[l.Knb=7202]="PLAY_INIT_EXCEPTION";l[l.Pea=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";l[l.Qnb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";l[l.BKa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";l[l.Rnb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";l[l.Qea=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";l[l.Pnb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";l[l.FKa=7351]="PLAY_MSE_NOTSUPPORTED";l[l.AKa=7353]="PLAY_MSE_DECODER_TIMEOUT";l[l.Rea=7355]="PLAY_MSE_SOURCEADD";l[l.zKa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";l[l.yQ=7357]="PLAY_MSE_GENERATEKEYREQUEST";l[l.EKa=7361]="PLAY_MSE_EVENT_ERROR";l[l.pJ=7362]="PLAY_MSE_SETMEDIAKEYS";l[l.Eq=7363]="PLAY_MSE_EVENT_KEYERROR";l[l.Tnb=7364]="PLAY_MSE_EME_SESSION_CLOSE";l[l.Unb=7365]="PLAY_MSE_GETCURRENTTIME";l[l.Vnb=7367]="PLAY_MSE_SETCURRENTTIME";l[l.Wnb=7371]="PLAY_MSE_SOURCEAPPEND";l[l.$nb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";l[l.Znb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";l[l.Ynb=7377]="PLAY_MSE_UNEXPECTED_REWIND";l[l.Xnb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";l[l.GKa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";l[l.Lnb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";l[l.Mnb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";l[l.Nnb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";l[l.CKa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";l[l.Snb=7395]="PLAY_MSE_EME_MISSING_PSSH";l[l.DKa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";l[l.Onb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";l[l.R0=7399]="PLAY_MSE_SET_LICENSE_ERROR";l[l.TEa=7400]="EXTERNAL";l[l.Q0=7500]="PAUSE_TIMEOUT";l[l.u0=7502]="INACTIVITY_TIMEOUT";l[l.iib=7510]="AUTHORIZATION_EXPIRED";l[l.Kkb=7700]="EME_INVALID_KEYSYSTEM";l[l.GEa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";l[l.JP=7702]="EME_CREATE_MEDIAKEYS_FAILED";l[l.s_=7703]="EME_GENERATEREQUEST_FAILED";l[l.NEa=7704]="EME_UPDATE_FAILED";l[l.LEa=7705]="EME_KEYSESSION_ERROR";l[l.KEa=7706]="EME_KEYMESSAGE_EMPTY";l[l.Okb=7707]="EME_REMOVE_FAILED";l[l.Mkb=7708]="EME_LOAD_FAILED";l[l.Gkb=7709]="EME_CREATE_SESSION_FAILED";l[l.ida=7710]="EME_LDL_RENEWAL_ERROR";l[l.IEa=7711]="EME_INVALID_INITDATA_DATA";l[l.JEa=7712]="EME_INVALID_LICENSE_DATA";l[l.Lkb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";l[l.FEa=7716]="EME_CLOSE_FAILED";l[l.jda=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";l[l.Qkb=7718]="EME_SET_SERVER_CERTIFICATE";l[l.Hnb=7800]="PLAYDATA_STORE_FAILURE";l[l.rP=7900]="BRANCH_PLAY_FAILURE";l[l.sP=7901]="BRANCH_QUEUE_FAILURE";l[l.cCa=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";l[l.Iib=7903]="BRANCH_CHOICE_MAP_MISSING";l[l.rnb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.V || (b.V={}));(function(l){l[l.Yo=1001]="UNKNOWN";l[l.sl=1003]="EXCEPTION";l[l.Plb=1004]="INVALID_DI";l[l.cib=1011]="ASYNCLOAD_EXCEPTION";l[l.dib=1013]="ASYNCLOAD_TIMEOUT";l[l.P$b=1015]="ASYNCLOAD_BADCONFIG";l[l.aib=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";l[l.bib=1017]="ASYNCLOAD_COMPONENT_MISSING";l[l.WP=1101]="HTTP_UNKNOWN";l[l.Hda=1102]="HTTP_XHR";l[l.TP=1103]="HTTP_PROTOCOL";l[l.SP=1104]="HTTP_OFFLINE";l[l.VP=1105]="HTTP_TIMEOUT";l[l.CD=1106]="HTTP_READTIMEOUT";l[l.BD=1107]="HTTP_ABORT";l[l.oGa=1108]="HTTP_PARSE";l[l.kGa=1110]="HTTP_BAD_URL";l[l.UP=1111]="HTTP_PROXY";l[l.pea=1203]="MSE_AUDIO";l[l.qea=1204]="MSE_VIDEO";l[l.umb=1250]="MSE_MEDIA_ERR_BASE";l[l.bcc=1251]="MSE_MEDIA_ERR_ABORTED";l[l.ecc=1252]="MSE_MEDIA_ERR_NETWORK";l[l.ccc=1253]="MSE_MEDIA_ERR_DECODE";l[l.fcc=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";l[l.dcc=1255]="MSE_MEDIA_ERR_ENCRYPTED";l[l.us=1260]="EME_MEDIA_KEYERR_BASE";l[l.abc=1261]="EME_MEDIA_KEYERR_UNKNOWN";l[l.Wac=1262]="EME_MEDIA_KEYERR_CLIENT";l[l.$ac=1263]="EME_MEDIA_KEYERR_SERVICE";l[l.Zac=1264]="EME_MEDIA_KEYERR_OUTPUT";l[l.Yac=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";l[l.Xac=1266]="EME_MEDIA_KEYERR_DOMAIN";l[l.bbc=1269]="EME_MEDIA_UNAVAILABLE_CDM";l[l.Jkb=1270]="EME_INTERNAL_ERROR";l[l.Fkb=1271]="EME_CLOSED_BY_APPLICATION";l[l.Nkb=1272]="EME_RELEASE_ACKNOWLEDGED";l[l.hda=1273]="EME_HARDWARE_CONTEXT_RESET";l[l.Pkb=1274]="EME_RESOURCE_EVICTED";l[l.Ikb=1280]="EME_ERROR_NODRMSESSSION";l[l.Hkb=1281]="EME_ERROR_NODRMREQUESTS";l[l.Tac=1282]="EME_ERROR_INDIV_FAILED";l[l.Uac=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";l[l.Rkb=1284]="EME_TIMEOUT_MESSAGE";l[l.cbc=1285]="EME_TIMEOUT_KEYCHANGE";l[l.MEa=1286]="EME_UNDEFINED_DATA";l[l.XI=1287]="EME_INVALID_STATE";l[l.Vac=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";l[l.HEa=1289]="EME_EMPTY_DATA";l[l.KP=1290]="EME_TIMEOUT";l[l.ucc=1303]="NCCP_METHOD_NOT_SUPPORTED";l[l.xcc=1305]="NCCP_PARSEXML";l[l.cob=1309]="PROCESS_EXCEPTION";l[l.wcc=1311]="NCCP_NETFLIXID_MISSING";l[l.ycc=1312]="NCCP_SECURENETFLIXID_MISSING";l[l.rcc=1313]="NCCP_HMAC_MISSING";l[l.qcc=1315]="NCCP_HMAC_MISMATCH";l[l.pcc=1317]="NCCP_HMAC_FAILED";l[l.occ=1321]="NCCP_CLIENTTIME_MISSING";l[l.ncc=1323]="NCCP_CLIENTTIME_MISMATCH";l[l.DFa=1331]="GENERIC";l[l.Mmb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";l[l.Nmb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";l[l.zcc=1341]="NCCP_TRANSACTION";l[l.scc=1343]="NCCP_INVALID_DRMTYPE";l[l.tcc=1344]="NCCP_INVALID_LICENCE_RESPONSE";l[l.vcc=1345]="NCCP_MISSING_PAYLOAD";l[l.gdc=1346]="PROTOCOL_NOT_INITIALIZED";l[l.fdc=1347]="PROTOCOL_MISSING_FIELD";l[l.edc=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";l[l.lx=1402]="STORAGE_NODATA";l[l.Adc=1403]="STORAGE_EXCEPTION";l[l.Idc=1405]="STORAGE_QUOTA_NOT_GRANTED";l[l.Jdc=1407]="STORAGE_QUOTA_TO_SMALL";l[l.KNa=1411]="STORAGE_LOAD_ERROR";l[l.Tob=1412]="STORAGE_LOAD_TIMEOUT";l[l.LNa=1414]="STORAGE_SAVE_ERROR";l[l.Wob=1415]="STORAGE_SAVE_TIMEOUT";l[l.Nfa=1417]="STORAGE_DELETE_ERROR";l[l.JNa=1418]="STORAGE_DELETE_TIMEOUT";l[l.Hdc=1421]="STORAGE_FS_REQUESTFILESYSTEM";l[l.Edc=1423]="STORAGE_FS_GETDIRECTORY";l[l.Gdc=1425]="STORAGE_FS_READENTRIES";l[l.Bdc=1427]="STORAGE_FS_FILEREAD";l[l.Ddc=1429]="STORAGE_FS_FILEWRITE";l[l.Cdc=1431]="STORAGE_FS_FILEREMOVE";l[l.Fdc=1432]="STORAGE_FS_PARSEJSON";l[l.Vob=1451]="STORAGE_NO_LOCALSTORAGE";l[l.Uob=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";l[l.Jcc=1501]="NTBA_UNKNOWN";l[l.Icc=1502]="NTBA_EXCEPTION";l[l.Ecc=1504]="NTBA_CRYPTO_KEY";l[l.Gcc=1506]="NTBA_CRYPTO_OPERATION";l[l.Fcc=1508]="NTBA_CRYPTO_KEYEXCHANGE";l[l.Hcc=1515]="NTBA_DECRYPT_UNSUPPORTED";l[l.KDa=1553]="DEVICE_NO_ESN";l[l.Ojb=1555]="DEVICE_ERROR_GETTING_ESN";l[l.Ebc=1701]="FORMAT_UNKNOWN";l[l.$kb=1713]="FORMAT_XML";l[l.Fbc=1715]="FORMAT_XML_CONTENT";l[l.Cbc=1721]="FORMAT_BASE64";l[l.Dbc=1723]="FORMAT_DFXP";l[l.rlb=1801]="INDEXDB_OPEN_EXCEPTION";l[l.NGa=1802]="INDEXDB_NOT_SUPPORTED";l[l.qlb=1803]="INDEXDB_OPEN_ERROR";l[l.OGa=1804]="INDEXDB_OPEN_NULL";l[l.plb=1805]="INDEXDB_OPEN_BLOCKED";l[l.slb=1807]="INDEXDB_OPEN_TIMEOUT";l[l.olb=1808]="INDEXDB_INVALID_STORE_STATE";l[l.v0=1809]="INDEXDB_ACCESS_EXCEPTION";l[l.Emb=1901]="MSL_UNKNOWN";l[l.xmb=1911]="MSL_INIT_NO_MSL";l[l.JIa=1913]="MSL_INIT_ERROR";l[l.ymb=1915]="MSL_INIT_NO_WEBCRYPTO";l[l.vmb=1931]="MSL_ERROR";l[l.Dmb=1933]="MSL_REQUEST_TIMEOUT";l[l.Cmb=1934]="MSL_READ_TIMEOUT";l[l.wmb=1935]="MSL_ERROR_HEADER";l[l.gcc=1936]="MSL_ERROR_ENVELOPE";l[l.hcc=1937]="MSL_ERROR_MISSING_PAYLOAD";l[l.IIa=1957]="MSL_ERROR_REAUTH";l[l.oga=2103]="WEBCRYPTO_MISSING";l[l.nec=2105]="WEBCRYPTOKEYS_MISSING";l[l.rpb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";l[l.qac=2200]="CACHEDDATA_PARSEJSON";l[l.FCa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";l[l.rac=2202]="CACHEDDATA_UPGRADE_FAILED";l[l.Tz=2203]="CACHEDDATA_INVALID_FORMAT";l[l.M$b=3E3]="ACCOUNT_CHANGE_INFLIGHT";l[l.N$b=3001]="ACCOUNT_INVALID";l[l.Nac=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";l[l.Mac=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";l[l.Kac=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";l[l.Lac=3201]="DOWNLOADED_LICENSE_UNUSEABLE";l[l.Jac=3202]="DOWNLOADED_LICENSE_EXCEPTION";l[l.Kdc=3300]="STORAGE_VA_LOAD_ERROR";l[l.Ldc=3301]="STORAGE_VA_LOAD_TIMEOUT";l[l.Odc=3302]="STORAGE_VA_SAVE_ERROR";l[l.Pdc=3303]="STORAGE_VA_SAVE_TIMEOUT";l[l.Mdc=3304]="STORAGE_VA_REMOVE_ERROR";l[l.Ndc=3305]="STORAGE_VA_REMOVE_TIMEOUT";l[l.Lea=3077]="PBO_DEVICE_EOL_WARNING";l[l.sKa=3078]="PBO_DEVICE_EOL_FINAL";l[l.vKa=3100]="PBO_DEVICE_RESET";l[l.uKa=3101]="PBO_DEVICE_RELOAD";l[l.tKa=3102]="PBO_DEVICE_EXIT";l[l.Enb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";l[l.gnb=5005]="PBO_ACCOUNT_ON_HOLD";l[l.pnb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";l[l.Mea=5007]="PBO_INCORRECT_PIN";l[l.Bnb=5008]="PBO_MOBILE_ONLY";l[l.Fnb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";l[l.hnb=5010]="PBO_ADS_UNAVAILABLE_VIEWABLE";l[l.knb=5011]="PBO_ADS_UNSUPPORTED_DEVICE";l[l.inb=5012]="PBO_ADS_UNSUPPORTED_CLIENT_APP_VERSION";l[l.jnb=5013]="PBO_ADS_UNSUPPORTED_COUNTRY";l[l.lnb=5014]="PBO_ADS_VPN_USE_DETECTED";l[l.ynb=5015]="PBO_LIVE_STREAMING_UNSUPPORTED_DEVICE";l[l.xnb=5016]="PBO_LIVE_STREAMING_UNSUPPORTED_APP_VERSION";l[l.qnb=5017]="PBO_CONTENT_PREVIEW_MFA_REQUIRED_EXCEPTION";l[l.vnb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";l[l.nnb=5059]="PBO_BLACKLISTED_IP";l[l.mnb=5070]="PBO_AGE_VERIFICATION_REQUIRED";l[l.onb=5080]="PBO_CHOICE_MAP_ERROR";l[l.Cnb=5090]="PBO_RESTRICTED_TO_TESTERS";l[l.znb=5091]="PBO_MALFORMED_REQUEST";l[l.wnb=5092]="PBO_INVALID_SERVICE_VERSION";l[l.Anb=5093]="PBO_MDX_INVALID_CTICKET";l[l.unb=5094]="PBO_FREE_PREVIEW_ENDED";l[l.Dnb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";l[l.tnb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";l[l.snb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";l[l.Jjb=5100]="DECODER_TIMEOUT_BUFFERING";l[l.Ljb=5101]="DECODER_TIMEOUT_PRESENTING";l[l.Kjb=5102]="DECODER_TIMEOUT_PLAYING";l[l.okb=5200]="DOWNLOADER_IO_ERROR";l[l.bCa=5300]="BRANCHING_SEGMENT_NOTFOUND";l[l.Eib=5301]="BRANCHING_PRESENTER_UNINITIALIZED";l[l.Z$b=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";l[l.Bca=5303]="BRANCHING_ASE_UNINITIALIZED";l[l.V$b=5304]="BRANCHING_ASE_FAILURE";l[l.W$b=5305]="BRANCHING_MOMENT_FAILURE";l[l.Cib=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";l[l.Y$b=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";l[l.Fib=5308]="BRANCHING_SEEK_THREW";l[l.X$b=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";l[l.Dib=5310]="BRANCHING_PLAY_TIMEDOUT";l[l.Gib=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";l[l.Hib=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";l[l.Xob=5500]="STUDIO_MUXED_MANIFEST";l[l.kea=5600]="MANIFEST_HYDRATION_FAILURE";l[l.kib=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";l[l.lib=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";l[l.jib=5702]="AUXILIARY_MANIFEST_ADBREAK_HYDRATION_FATAL_ERROR";})(c=b.S || (b.S={}));(function(l){l[l.jac=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";l[l.$$b=5005]="BR_ACCOUNT_ON_HOLD";l[l.dac=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";l[l.gac=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";l[l.cac=5059]="BR_BLACKLISTED_IP";l[l.aac=5070]="BR_AGE_VERIFICATION_REQUIRED";l[l.hac=2204]="BR_PLAYBACK_CONTEXT_CREATION";l[l.eac=2205]="BR_DRM_LICENSE_AQUISITION";l[l.iac=2206]="BR_PLAYBACK_SERVICE_ERROR";l[l.fac=2207]="BR_ENDPOINT_ERROR";l[l.bac=2208]="BR_AUTHORIZATION_ERROR";})(b.gFa || (b.gFa={}));b.s0={Pib:"400",iec:"401",NKa:"413"};b.F0={Abc:1,aec:2,fbc:3,gec:4,Tbc:5,ebc:6,iga:7,hbc:8,qdc:9,ydc:10};b.u_=function(l,f,k,d){return l == a.Q0 || l == a.u0 || l == a.Pea && 432E5 <= k || l == a.jda && f === c.hda && 0 < Number(d);};b.hFa=function(l){return 1100 <= l && 1199 >= l;};b.oda=function(l,f){return 1 <= l && 9 >= l?f + l:f;};b.iFa=function(l){return (0,b.oda)(l,c.umb);};b.jFa=function(l){return (0,b.oda)(l,c.us);};b.Vw=function(l){var f,k,d;f={};k=l.errorExternalCode || l.He;d=l.errorDetails || l.Nb;f.ErrorSubCode=l.errorSubCode || l.za || c.Yo;k && (f.ErrorExternalCode=k);d && (f.ErrorDetails=d);return f;};},9002:function(r,b,a){var l,f,k,d;function c(g,n){this.sa=g;this.Q5=this.sa.ke.ea(k.pa) - 1;this.sSb=this.T7=0;this.id="" + n.dB();}Object.defineProperty(b,"__esModule",{value:!0});b.sBa=void 0;r=a(5163);l=a(22674);f=a(30869);k=a(5021);a=a(62665);c.prototype.Kb=function(){var g,n;g=this.sa.ke.ea(k.pa) - this.Q5;if(g < this.T7){n=this.T7 + 1;this.Q5-=n - g;g=n;}this.T7=g;return (0,k.Ob)(this.T7);};c.prototype.fLb=function(){return this.sSb++;};Ya.Object.defineProperties(c.prototype,{Gy:{configurable:!0,enumerable:!0,get:function(){return (0,k.Ob)(this.Q5);}}});d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.cg)),r.__param(1,(0,l.l)(a.Xw))],d);b.sBa=d;},33543:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Cca=void 0;r=a(5163);a=a(22674);l={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(k){for(var d=new Uint8Array(k.length / 2),g=0;g < d.length;g++){d[g]=this.qfb(k.substr(2 * g,2));}return d;};c.prototype.encode=function(k){var h;for(var d="",g=k.length,n=0;n < g;n++){h=k[n];d+=("0123456789ABCDEF")[h >>> 4] + ("0123456789ABCDEF")[h & 15];}return d;};c.prototype.RF=function(k,d){var g;g="";for(d<<=1;d--;){g=(("0123456789ABCDEF")[k & 15] || "0") + g;k>>>=4;}return g;};c.prototype.qfb=function(k){var d;d=k.length;if(7 < d)throw Error("hex to long");for(var g=0,n=0;n < d;n++){g=16 * g + l[k[n]];}return g;};f=c;f=r.__decorate([(0,a.U)()],f);b.Cca=f;},30033:function(r,b,a){var l,f,k,d,g,n,h,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.gCa=void 0;r=a(5163);a=a(22674);f=Array.prototype.slice;k=f.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");f=f.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};g={};n={};h={};m=/\s+/g;[k,f].forEach(function(p){var u;for(var q=p.length;q--;){u=p[q];d[u]=q << 18;g[u]=q << 12;n[u]=q << 6;h[u]=q;}});c.prototype.encode=function(p){return l.Cma(p,k,"=");};c.prototype.decode=function(p){return l.Lla(p);};c.Lla=function(p){var q,u,t;p=p.replace(m,"");q=p.length;u=p.charAt(q - 1);"=" !== u && "." !== u || q--;u=p.charAt(q - 1);"=" !== u && "." !== u || q--;u=3 * (q >> 2);t=0;switch(q % 4){case 2:t=1;break;case 3:t=2;break;case 1:throw Error("bad base64");}q=new Uint8Array(u + t);for(var w=0,v=0,y;v < u;){y=d[p[w++]] + g[p[w++]] + n[p[w++]] + h[p[w++]];if(!(0 <= y && 16777215 >= y))throw Error("bad base64");q[v++]=y >>> 16;q[v++]=y >>> 8 & 255;q[v++]=y & 255;}if(0 < t && (y=d[p[w++]] + g[p[w++]],q[v++]=y >>> 16,1 < t && (y+=n[p[w++]],q[v++]=y >>> 8 & 255),!(0 <= y && 16776960 >= y && 0 === (y & (1 < t?255:65535)))))throw Error("bad base64");return q;};c.Cma=function(p,q,u){for(var t="",w=0,v=p.length,y=v - 2,x;w < y;){x=(p[w++] << 16) + (p[w++] << 8) + p[w++];if(!(0 <= x && 16777215 >= x))throw Error("not bytes");t+=q[x >>> 18] + q[x >>> 12 & 63] + q[x >>> 6 & 63] + q[x & 63];}if(w == y){x=(p[w++] << 8) + p[w++];if(!(0 <= x && 65535 >= x))throw Error("not bytes");t+=q[x >>> 10] + q[x >>> 4 & 63] + q[x << 2 & 63] + u;}else if(w == v - 1){x=p[w++];if(!(0 <= x && 255 >= x))throw Error("not bytes");t+=q[x >>> 2] + q[x << 4 & 63] + u + u;}return t;};f=l=c;f=l=r.__decorate([(0,a.U)()],f);b.gCa=f;},66057:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p){this.userAgentData=p;this.qd=this.dHb(h,m.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.GPa=b.vCa=void 0;r=a(5163);l=a(22674);f=a(4203);k=a(83767);d=a(63368);a=a(75236);c.prototype.H6=function(h,m){var p;if(m=this.bNb(m))switch(h){case n.Ny:p=0 < m.length?Number(m[0]):0;break;case n.UM:p=1 < m.length?Number(m[1]):0;break;case n.qN:p=2 < m.length?Number(m[2]):0;break;case n.T$:p=3 < m.length?Number(m[3]):0;}return void 0 === p || isNaN(p)?0:p;};c.prototype.bNb=function(h){return null === h || void 0 === h?void 0:h.split(".");};c.prototype.uG=function(h){return this.qd.name === h;};c.prototype.xG=function(h){return this.qd.J9.name === h;};c.prototype.XPb=function(h){return this.qd.ENb === h;};c.prototype.dHb=function(h,m){return Object.assign(Object.assign({ENb:this.fHb(h,m)},this.cHb(h,m)),{J9:this.gHb(h,m)});};c.prototype.fHb=function(h,m){return m && m.hardware?m.hardware:(/Mobile|iPhone/).test(h)?f.r0.phone:(/Android/).test(h)?f.r0.p6b:f.r0.xzb;};c.prototype.cHb=function(h,m){return m && m.name && m.version?{name:m.name,version:m.version}:(/OPR/).test(h)?{name:f.sm.opera,version:""}:(/Tesla/).test(h)?{name:f.sm.Qeb,version:""}:(m=h.match(/Edge\/(\d*)\./))?{name:f.sm.Ip,version:m[1]}:(m=h.match(/Edg\/(\d*)\./))?{name:f.sm.PYa,version:m[1]}:(m=h.match(/Chrome\/(\d*)\./))?{name:f.sm.yka,version:m[1]}:(m=h.match(/Firefox\/(\d*)\./))?{name:f.sm.v_a,version:m[1]}:(h=h.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:f.sm.Rbb,version:h[1]}:{name:f.sm.yka,version:""};};c.prototype.gHb=function(h,m){return m && m.os && m.os.name && m.os.version?{name:m.os.name,version:m.os.version}:(/CrOS/).test(h)?{name:f.Gn.JVa,version:""}:(m=h.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:f.Gn.o6a,version:m[1] + "." + m[2] + "." + m[3]}:(/Windows NT/).test(h)?{name:f.Gn.tAa,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(h) || (/Android.*Chrome\/[.0-9]* /).test(h)?{name:f.Gn.Uia,version:""}:(/Linux/).test(h)?{name:f.Gn.N5a,version:""}:(/iPhone/).test(h)?{name:f.Gn.h4a,version:""}:{name:f.Gn.tAa,version:""};};Ya.Object.defineProperties(c.prototype,{r4a:{configurable:!0,enumerable:!0,get:function(){return this.uG(f.sm.yka);}},hV:{configurable:!0,enumerable:!0,get:function(){return this.uG(f.sm.Ip);}},By:{configurable:!0,enumerable:!0,get:function(){return this.uG(f.sm.PYa);}},w7:{configurable:!0,enumerable:!0,get:function(){return this.uG(f.sm.v_a);}},Tqa:{configurable:!0,enumerable:!0,get:function(){return this.uG(f.sm.opera);}},nV:{configurable:!0,enumerable:!0,get:function(){return this.uG(f.sm.Rbb);}},N4a:{configurable:!0,enumerable:!0,get:function(){return this.uG(f.sm.Qeb);}},dV:{configurable:!0,enumerable:!0,get:function(){return this.xG(f.Gn.Uia);}},qM:{configurable:!0,enumerable:!0,get:function(){return this.xG(f.Gn.h4a);}},q7:{configurable:!0,enumerable:!0,get:function(){return this.xG(f.Gn.Uia) && this.XPb(f.r0.phone);}},fV:{configurable:!0,enumerable:!0,get:function(){return this.xG(f.Gn.JVa);}},Pqa:{configurable:!0,enumerable:!0,get:function(){return this.xG(f.Gn.N5a);}},XB:{configurable:!0,enumerable:!0,get:function(){return this.xG(f.Gn.o6a);}},Dy:{configurable:!0,enumerable:!0,get:function(){return this.xG(f.Gn.tAa);}},Hl:{configurable:!0,enumerable:!0,get:function(){return this.H6(n.Ny,this.qd.version);}},aXb:{configurable:!0,enumerable:!0,get:function(){return this.H6(n.Ny,this.qd.J9.version);}},bXb:{configurable:!0,enumerable:!0,get:function(){return this.H6(n.UM,this.qd.J9.version);}},cXb:{configurable:!0,enumerable:!0,get:function(){return this.H6(n.qN,this.qd.J9.version);}}});g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(d.APa)),r.__param(1,(0,l.l)(k.YP)),r.__param(2,(0,l.l)(a.C1))],g);b.vCa=g;(function(h){h[h.Ny=0]="major";h[h.UM=1]="minor";h[h.qN=2]="patch";h[h.T$=3]="revision";})(n=b.GPa || (b.GPa={}));},19699:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t;function c(w,v,y,x,z,A){this.ml=w;this.config=y;this.Bo=x;this.sa=z;this.is=A;this.log=v.ab("CachedErrors");}Object.defineProperty(b,"__esModule",{value:!0});b.aDa=b.Lca=void 0;r=a(5163);f=a(22674);k=a(36129);d=a(87386);g=a(5021);n=a(17892);h=a(4203);m=a(59818);p=a(30869);q=a(42207);u=a(17612);t=a(82100);b.Lca="errors";c.prototype.load=function(){var w,v;w=this;if(!this.config().bZa)return Promise.resolve([]);v=(0,g.Ob)(this.config().mxb);return this.Bo.oq(v,this.R5a([])).catch(function(y){w.log.error("Load failed.",y);return [];});};c.prototype.add=function(w,v,y,x,z){var A;A=this;return this.config().bZa && v && y && (v === u.hb.efa || v === u.hb.UQ + "." + t.ws)?this.R5a([{time:w,keySystem:v,code:y,ic:x,Wc:z}]).then(function(){}).catch(function(B){A.log.error("Add failed.",B);}):Promise.resolve();};c.prototype.dSb=function(){var w;w=this;return this.ml.create().then(function(v){return v.load(b.Lca).then(function(y){var x;return (null === (x=y.value) || void 0 === x?void 0:x.errors) || [];}).catch(function(y){if(y.za === k.S.lx)return (w.log.warn("No CachedErrors."),[]);throw y;});});};c.prototype.LIb=function(w){return {time:(0,g.uh)(w[0]),keySystem:w[1],code:w[2],ic:w[3],Wc:w[4]};};c.Y6b=function(w){return [w.time.ea(g.xm),w.keySystem,w.code,w.ic,w.Wc];};c.prototype.e2b=function(w){var v;v={version:1,errors:w.map(l.Y6b)};return this.ml.create().then(function(y){return y.save(b.Lca,v,!1);}).then(function(){return w;});};c.prototype.CHb=function(w){var v,y;v=(0,g.uh)(this.config().lxb);y=this.sa.ke.qa(v);return w.filter(function(x){return x.time.qa(y).I4a();});};c.prototype.l9b=function(w){return w.filter(this.IPb.bind(this)).map(this.LIb);};c.prototype.IPb=function(w){return this.is.dk(w[0]) && this.is.qp(w[1]) && this.is.dk(w[2]) && (this.is.dk(w[3]) || void 0 === w[3]) && (this.is.qp(w[4]) || void 0 === w[4])?!0:!1;};c.prototype.xHb=function(w){var v;v=this;return w.filter(function(y){return v.config().EGb.includes(y.code);});};c.prototype.yHb=function(w){return w.slice(-this.config().jxb);};c.prototype.R5a=function(w){var v;v=this;return this.dSb().then(function(y){return v.l9b(y);}).then(function(y){return v.CHb(y);}).then(function(y){return y.concat(w);}).then(function(y){return v.xHb(y);}).then(function(y){return v.yHb(y);}).then(function(y){return v.e2b(y);});};a=l=c;a=l=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(n.Kw)),r.__param(1,(0,f.l)(d.bb)),r.__param(2,(0,f.l)(h.Yb)),r.__param(3,(0,f.l)(m.fA)),r.__param(4,(0,f.l)(p.cg)),r.__param(5,(0,f.l)(q.Uf))],a);b.aDa=a;},31149:function(r,b,a){var l;function c(f,k,d,g,n,h,m,p,q,u,t,w,v,y,x){this.code=void 0 === f?l.V.Yo:f;this.ic=k;this.Wc=d;this.Tm=g;this.Uy=n;this.message=h;this.details=m;this.data=p;this.Cj=q;this.nYb=u;this.alert=t;this.Oia=w;this.Gd=v;this.S9=y;this.NW=x;this.ia=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Mc=void 0;l=a(36129);c.Ae=function(f){var k,d,g;if(f){k=f.stack;d=f.number;g=f.message;g || (g="" + f);k?(f="" + k,0 !== f.indexOf(g) && (f=g + "\n" + f)):f=g;d && (f+="\nnumber:" + d);return f;}return "";};c.prototype.lT=function(f){this.details=c.Ae(f);this.data=f;};c.prototype.toString=function(){return JSON.stringify(this.toJSON());};c.prototype.toJSON=function(){return {code:this.code,subCode:this.ic,extCode:this.Wc,edgeCode:this.Tm,mslCode:this.Uy,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.Cj,playbackServiceError:this.nYb};};c.Sna=function(f,k){return new c(f,l.S.sl,void 0,void 0,void 0,void 0,k.message,k.stack);};c.Ahb=function(f,k){return new c(f,k,void 0,void 0,void 0,void 0,void 0,void 0);};c.d$b=function(f,k,d){return new c(f,k,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.Mc=c;},84183:function(r,b,a){var l,f,k,d;function c(g){return f.tP.call(this,g,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.oDa=void 0;r=a(5163);l=a(12501);f=a(64174);k=a(22674);a=a(83767);da(c,f.tP);Ya.Object.defineProperties(c.prototype,{Ngb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([l.config(l.bd,"usePerformanceApi")],d.prototype,"Ngb",null);d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Oca))],d);b.oDa=d;},691:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q,u){var t;t=this;this.config=m;this.WCb=p;this.Jb=q;this.performance=u;this.IWb=function(w){t.Dxa=w.qa(t.ke);};(0,l.po)(this,"date");(0,l.po)(this,"performance");this.Kub=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.Dxa=f.Ia;this.Jb.addListener(h.Oda.wcb,this.IWb);}Object.defineProperty(b,"__esModule",{value:!0});b.qDa=void 0;r=a(5163);l=a(66523);f=a(5021);k=a(22674);d=a(63368);g=a(87061);n=a(15160);h=a(85001);c.prototype.rub=function(m){return m.add(this.Dxa);};Ya.Object.defineProperties(c.prototype,{ke:{configurable:!0,enumerable:!0,get:function(){return this.N7a?(0,f.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,f.Ob)(this.WCb.now());}},SH:{configurable:!0,enumerable:!0,get:function(){return this.ke.add(this.Dxa);}},N7a:{configurable:!0,enumerable:!0,get:function(){return this.config.Ngb && this.Kub;}}});a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(g.pDa)),r.__param(1,(0,k.l)(d.RDa)),r.__param(2,(0,k.l)(n.uda)),r.__param(3,(0,k.l)(d.afa)),r.__param(3,(0,k.optional)())],a);b.qDa=a;},76928:function(r,b,a){var l,f,k,d;function c(g,n){this.is=g;this.de=n;}Object.defineProperty(b,"__esModule",{value:!0});b.EDa=void 0;r=a(5163);f=a(22674);k=a(42207);a=a(74870);c.prototype.encode=function(g){var n,h;n=this;h="";this.de.vB(g,function(m,p){m=n.tZa(m) + "=" + n.tZa(p);h=h?h + ("," + m):m;});return h;};c.prototype.tZa=function(g){return this.is.xF(g)?this.is.dk(g)?"" + g:this.is.qp(g)?(g=g.replace(l.fwa,this.nsa.bind(this)),!l.x_b.test(g) && l.MUb.test(g) && (g='"' + g + '"'),g):this.is.G2(g)?"" + g:this.is.jia(g)?"NaN":"":"";};c.prototype.nsa=function(g){return l.map[g];};d=l=c;d.map={'"':'""',"\r":"","\n":" "};d.fwa=/(?!^.+)["\r\n](?=.+$)/g;d.x_b=/["].*["]/g;d.MUb=/[", ]/;d=l=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(k.Uf)),r.__param(1,(0,f.l)(a.dh))],d);b.EDa=d;},61453:function(r,b,a){var l,f;function c(k,d){this.yc=k;this.l4=d;}Object.defineProperty(b,"__esModule",{value:!0});b.SDa=void 0;r=a(5163);l=a(22674);a=a(53085);c.prototype.Pj=function(k){this.Ag();this.dj=this.yc.vk(this.l4,k);};c.prototype.Ag=function(){this.dj && this.dj.cancel();this.dj=void 0;};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.Vh))],f);b.SDa=f;},85125:function(r,b,a){var l,f,k,d;function c(g){g=f.tP.call(this,g,"DebugConfigImpl") || this;g.Lfc=function(){debugger;};return g;}Object.defineProperty(b,"__esModule",{value:!0});b.TDa=void 0;r=a(5163);l=a(12501);f=a(64174);k=a(22674);a=a(83767);da(c,f.tP);Ya.Object.defineProperties(c.prototype,{Hwb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([l.config(l.bd,"breakOnError")],d.prototype,"Hwb",null);d=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.Oca))],d);b.TDa=d;},69997:function(r,b,a){var l,f,k,d;function c(g,n,h){this.config=g;this.Bb=n;this.ma=h.ab("General");}Object.defineProperty(b,"__esModule",{value:!0});b.WDa=void 0;r=a(5163);l=a(22674);f=a(42207);k=a(90597);a=a(87386);c.prototype.assert=function(){};c.prototype.nvb=function(g,n){this.assert(this.Bb.xF(g),n);};c.prototype.ovb=function(g,n){this.assert(this.Bb.qg(g),n);};c.prototype.k3=function(g,n){this.assert(this.Bb.qp(g),n);};c.prototype.uvb=function(g,n){this.assert(this.Bb.Fm(g),n);};c.prototype.svb=function(g,n){this.assert(this.Bb.qp(g) || null === g || void 0 === g,n);};c.prototype.j3=function(g,n){this.assert(this.Bb.dk(g),n);};c.prototype.qvb=function(g,n){this.assert(this.Bb.Sia(g),n);};c.prototype.tvb=function(g,n){this.assert(this.Bb.rS(g),n);};c.prototype.rvb=function(g,n){this.assert(this.Bb.ZR(g),n);};c.prototype.mvb=function(g,n){this.assert(this.Bb.G2(g),n);};c.prototype.pvb=function(g,n){this.assert(this.Bb.I2(g),n);};c.prototype.wPb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.UDa)),r.__param(1,(0,l.l)(f.Uf)),r.__param(2,(0,l.l)(a.bb))],d);b.WDa=d;},69216:function(r,b,a){var l,f,k,d,g,n,h,m,p;function c(q,u){this.Ea=q;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.YDa=void 0;r=a(5163);f=a(22674);k=a(81918);d=a(31149);g=a(36129);n=a(85001);h=a(5021);m=a(22365);a=a(21801);c.prototype.oYa=function(q){var u,t,w,v,y,x,z,A,B,C;u=this;v=q.mediaTime.value;y=q.Sq.value;x=q.zb.value;z=q.state.value;A={segmentId:q.Voa(),mediaTime:v,segmentTime:q.FB(),bufferingState:l.Uwb[y],presentingState:l.sZb[x],playbackState:l.oYb[z],mseBuffersBusy:this.vMb(q),intBuffersBusy:this.OKb(q),tabVisible:this.o6b(),decodedFrameCount:this.sDb(q),videoElementInDom:this.A9b(q),lastVideoSync:this.Ea.Kb().qa((0,h.Ob)(q.vY)).ea(h.pa)};B=x === n.lb.Ef?q.cb.sg?this.config.b9a:this.config.a9a:this.config.F7a;if(y !== n.tf.fe){if((y=g.S.Jjb,this.GUa(A.mseBuffersBusy,A.intBuffersBusy)))C=l.dCa;}else (x !== n.lb.he?y=g.S.Ljb:(y=g.S.Kjb,(x=q.Vd) && 0 === x.d6() && (C=l.vpb)),(x=q.Vd) && x.Gb.sourceBuffers.forEach(function(D){var E,G;E=l.Cg[D.mediaType];A[E + "Ranges"]=D.U5();try{G=D.buffered();}catch(F){G=void 0;}G && 0 !== G.length?(D=1E3 * G.end(0) - v,A[E + "Undecoded"]=D,1 < G.length && (C=l.Kib),v < 1E3 * G.start(0) || v > 1E3 * G.end(0)?C=l.Lib:D < B.ea(h.pa)?C=l.Mib:u.GUa(A.mseBuffersBusy,A.intBuffersBusy) && (C=l.dCa)):(A[E + "Undecoded"]=0,C=l.Jib);}));x=q.jbb.k2a();z=v === (null === (t=x.repositionTrace) || void 0 === t?void 0:t[0].newMediaTime);A.lastRepositionCausedTimeout=z;A.trackChangeInProgress=null === (w=q.fb) || void 0 === w?void 0:w.pza;Object.assign(A,x);q="";try{q=JSON.stringify(A);}catch(D){q="Cannot stringify details: " + D;}return new d.Mc(g.V.AKa,y,C,void 0,void 0,void 0,q,void 0);};c.prototype.vMb=function(q){var u;if(q.Gb){u={};q.Gb.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.updating()};});return u;}};c.prototype.OKb=function(q){var u;if(q.Gb){u={};q.Gb.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.ph()};});return u;}};c.prototype.o6b=function(){return !m.Ig.hidden;};c.prototype.sDb=function(q){return (q=q.Vd) && (q=q.Gb.ba) && void 0 !== q.webkitDecodedFrameCount?q.webkitDecodedFrameCount:NaN;};c.prototype.A9b=function(q){if(q=q.Vd)if(q=q.Gb.ba)return m.Ig.body.contains(q);return !1;};c.prototype.GUa=function(q,u){var t,w,v,y;return !((null === (t=q.audio) || void 0 === t?void 0:t.updating) === (null === (w=u.audio) || void 0 === w?void 0:w.updating) && (null === (v=q.video) || void 0 === v?void 0:v.updating) === (null === (y=u.video) || void 0 === y?void 0:y.updating));};p=l=c;p.Jib="1";p.Kib="2";p.Lib="3";p.dCa="4";p.Mib="5";p.vpb="6";p.Cg=["Audio","Video"];p.Uwb=["","NORMAL","BUFFERING","STALLED"];p.sZb=["","WAITING","PLAYING ","PAUSED","ENDED"];p.oYb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=l=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(k.Lc)),r.__param(1,(0,f.l)(a.zea))],p);b.YDa=p;},2010:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.dFa=void 0;r=a(5163);l=a(22674);f=a(90030);c.prototype.qL=function(k,d){var g;g=this;k && Object.entries(d).forEach(function(n){var h,m,p;h=ja(n);n=h.next().value;h=h.next().value;if(g.LPb(h)){m=ja(h);h=m.next().value;p=m.next().value;m=k[h];Array.isArray(m)?(g.Wla(k,n,h),m.forEach(function(q){g.qL(q,p);})):h === f.mj?Object.values(k).forEach(function(q){g.qL(q,p);}):(g.Wla(k,n,h),"object" === typeof m && g.qL(m,p));}else g.Wla(k,n,h);});};c.prototype.LPb=function(k){return Array.isArray(k);};c.prototype.Wla=function(k,d,g){k.hasOwnProperty(d) || d === g || Object.defineProperty(k,d,{get:function(){return k[g];},set:function(n){return k[g]=n;},enumerable:!0});};a=c;a=r.__decorate([(0,l.U)()],a);b.dFa=a;},95947:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.LP=b.lFa=void 0;r=a(5163);l=a(31811);a=a(22674);c.prototype.create=function(){return new l.Yj();};f=c;f=r.__decorate([(0,a.U)()],f);b.lFa=f;b.LP="EventSourceFactorySymbol";},31811:function(r,b,a){var l,f;function c(){this.Kp={};this.id="$es$" + l.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Yj=void 0;r=a(5163);a=a(22674);c.prototype.addListener=function(k,d,g){var n,h;n="$netflix$player$order" + this.id + "$" + k;if(this.Kp){h=this.Kp[k]?this.Kp[k].slice():[];g && (d[n]=g);0 > h.indexOf(d) && (h.push(d),h.sort(function(m,p){return (m[n] || 0) - (p[n] || 0);}));this.Kp[k]=h;}};c.prototype.removeListener=function(k,d){if(this.Kp && this.Kp[k]){for(var g=this.Kp[k].slice(),n;0 <= (n=g.indexOf(d));){g.splice(n,1);}this.Kp[k]=g;}};c.prototype.Ec=function(k,d,g){var n;if(this.Kp){n=this.soa(k);for(k={LI:0};k.LI < n.length;(k={LI:k.LI},k.LI++)){g?(function(h){return function(){var m;m=n[h.LI];setTimeout(function(){m(d);},0);};})(k)():n[k.LI].call(this,d);}}};c.prototype.Ag=function(){this.Kp=void 0;};c.prototype.on=function(k,d,g){this.addListener(k,d,g);};c.prototype.soa=function(k){var d;return null !== (d=this.Kp && (this.Kp[k] || (this.Kp[k]=[]))) && void 0 !== d?d:[];};f=l=c;f.counter=0;f=l=r.__decorate([(0,a.U)()],f);b.Yj=f;},11629:function(r,b,a){var l,f,k,d,g;function c(n,h){this.sa=n;this.random=h;}Object.defineProperty(b,"__esModule",{value:!0});b.jHa=void 0;r=a(5163);f=a(22674);k=a(5021);d=a(30869);a=a(10306);c.prototype.dB=function(){return this.sa.ke.ea(k.xm) * l.VCa + Math.floor(this.random.random() * l.VCa);};g=l=c;g.VCa=1E8;g=l=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(d.cg)),r.__param(1,(0,f.l)(a.f1))],g);b.jHa=g;},52657:function(r,b,a){var l;function c(f,k,d,g,n){this.version=f;this.jH=k;this.Cya=d;this.ml=g;this.qu=n;this.xk=new l.kHa(f,k,d,g,n);this.Il=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Mda=void 0;l=a(51665);c.prototype.load=function(f){var k;k=this;return this.xk.load(f).then(function(){var d;k.Il=null !== (d=k.xk.Il) && void 0 !== d?d:[];});};c.prototype.add=function(f){this.Il.push(f);return this.xk.set(this.Il);};c.prototype.remove=function(f,k){f=this.q0a(this.KL(f,k));return 0 <= f?(this.Il.splice(f,1),this.xk.set(this.Il)):Promise.resolve();};c.prototype.update=function(f,k){k=this.q0a(this.KL(f,k));return 0 <= k?(this.Il[k]=f,this.xk.set(this.Il)):Promise.resolve();};c.prototype.KL=function(f,k){for(var d=0;d < this.Il.length;++d){if(k(this.Il[d],f))return this.Il[d];}};c.prototype.q0a=function(f){return f?this.Il.indexOf(f):-1;};b.Mda=c;},51665:function(r,b,a){var l,f;function c(k,d,g,n,h){this.version=k;this.jH=d;this.Cya=g;this.ml=n;this.qu=h;}Object.defineProperty(b,"__esModule",{value:!0});b.kHa=void 0;l=a(36129);f=a(31149);c.prototype.load=function(k){return this.cSb(k);};c.prototype.set=function(k){this.Il=k;return this.WXb();};c.prototype.cSb=function(k){var d;d=this;this.V5a || (this.V5a=new Promise(function(g,n){function h(m){d.TDb().then(function(){n(m);}).catch(function(){n(m);});}d.ipa().then(function(m){d.storage=m;return d.storage.load(d.jH);}).then(function(m){var p;m=m.value;try{p=k(m);d.version=p.version;d.Il=p.data;g();}catch(q){h(q);}}).catch(function(m){m.za !== l.S.lx?n(m):g();});}));return this.V5a;};c.prototype.WXb=function(){var k,d,g,n,h;k=this;if(!this.Cya)return Promise.resolve();if(this.Qaa){n=new Promise(function(m,p){d=m;g=p;});h=function(){k.Qaa=n;k.feb().then(function(){d();}).catch(function(m){g(m);});};this.Qaa.then(h).catch(h);return n;}return this.Qaa=this.feb();};c.prototype.feb=function(){var k,d;k=this;d=this.qu();return new Promise(function(g,n){k.ipa().then(function(h){return h.save(k.jH,d,!1);}).then(function(){g();}).catch(function(h){n(c.Z6b(l.V.Hnb,h));});});};c.prototype.TDb=function(){var k;k=this;return this.Cya?new Promise(function(d,g){k.ipa().then(function(n){return n.remove(k.jH);}).then(function(){d();}).catch(function(n){g(n);});}):Promise.resolve();};c.prototype.ipa=function(){return this.storage?Promise.resolve(this.storage):this.ml.create();};c.Z6b=function(k,d){var g;if(d.za && d.Xb)return new f.Mc(k,d.za,void 0,void 0,void 0,void 0,void 0,d.Xb);if(void 0 !== d.ic){g=d.message?d.message + " ":"";d.code=k;d.message="" === g?void 0:g;return d;}return d instanceof Error?new f.Mc(k,l.S.sl,void 0,void 0,void 0,void 0,d.stack,d):new f.Mc(k,l.S.Yo,void 0,void 0,void 0,void 0,void 0,d);};b.kHa=c;},76564:function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.ED=void 0;c=/^\S+$/;a.prototype.xF=function(l){return void 0 !== l;};a.prototype.qg=function(l){return null !== l && void 0 !== l;};a.prototype.qS=function(l){return a.xTa(l);};a.prototype.kia=function(l){return !(!l || !a.xTa(l));};a.prototype.PA=function(l){return Array.isArray(l);};a.prototype.yTa=function(l){return !(!l || l.constructor != Uint8Array);};a.prototype.dk=function(l,f,k){return a.BSa(l,f,k);};a.prototype.jia=function(l){return a.jia(l);};a.prototype.Sia=function(l,f,k){return a.Y2(l,f,k) && 0 === l % 1;};a.prototype.rS=function(l,f,k){return a.Y2(l,f || 0,k);};a.prototype.ZR=function(l){return a.Y2(l,1);};a.prototype.ftb=function(l){return a.Y2(l,0,255);};a.prototype.gtb=function(l){return l === +l && (0 === l || l !== (l | 0)) && !0;};a.prototype.zTa=function(l){return !(!l || !c.test(l));};a.prototype.qp=function(l){return a.CSa(l);};a.prototype.Fm=function(l){return !(!a.CSa(l) || !l);};a.prototype.G2=function(l){return !0 === l || !1 === l;};a.prototype.I2=function(l){return "function" == typeof l;};a.CSa=function(l){return "string" == typeof l;};a.BSa=function(l,f,k){return "number" == typeof l && !isNaN(l) && isFinite(l) && (void 0 === f || l >= f) && (void 0 === k || l <= k);};a.jia=function(l){return "number" == typeof l && isNaN(l);};a.Y2=function(l,f,k){return a.BSa(l,f,k) && 0 === l % 1;};a.xTa=function(l){return "object" == typeof l;};b.ED=new a();},81734:function(r,b,a){var l,f,k;function c(d,g){this.$u=g?[g]:[];this.jha="$op$" + k++;this.Qa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Ib=void 0;l=a(33096);f=a(45146);k=0;c.prototype.addListener=function(d,g){var n;n=this;(0,f.Hla)(d);(0,f.oa)(0 > this.$u.indexOf(d));d[l.O0 + this.jha]=g;this.$u=this.$u.slice();this.$u.push(d);this.$u.sort(function(h,m){return n.P4b(h,m);});};c.prototype.removeListener=function(d){var g;(0,f.Hla)(d);this.$u=this.$u.slice();0 <= (g=this.$u.indexOf(d)) && this.$u.splice(g,1);};c.prototype.set=function(d,g){var n;if(this.Qa !== d){n={oldValue:this.Qa,newValue:d,Eh:g};this.Qa=d;this.dqb=g;d=this.$u;g=d.length;for(var h=0;h < g;h++){d[h](n);}}};c.prototype.when=function(d){var g;g=this;return new Promise(function(n){function h(m){if(d(m.newValue))return (g.removeListener(h),n(m.newValue));}if(d(g.Qa))return n(g.Qa);g.addListener(h);});};c.prototype.P4b=function(d,g){return (d[l.O0 + this.jha] || 0) - (g[l.O0 + this.jha] || 0);};Ya.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.Qa;}},Eh:{configurable:!0,enumerable:!0,get:function(){return this.dqb;}}});b.Ib=c;},55099:function(r,b,a){var l;function c(f){this.jJb=f;this.P6=!1;this.Z6=this.Rf=this.HO=0;this.TU=!1;this.a7=0;}Object.defineProperty(b,"__esModule",{value:!0});b.oKa=void 0;l=a(32687);c.prototype.Fia=function(f){f < this.HO && (this.Rf+=this.HO);this.HO=f;this.P6=!0;};c.prototype.XJb=function(){if(this.P6)return this.TU?this.a7 - this.Z6:this.Rf + this.HO - this.Z6;};c.prototype.refresh=function(){var f;f=this.jJb();(0,l.Sb)(f) && this.Fia(f);};c.prototype.Z4b=function(){this.TU || (this.P6 && (this.a7=this.Rf + this.HO),this.TU=!0);};c.prototype.q5b=function(){this.TU && (this.P6 && (this.Z6+=this.Rf + this.HO - this.a7),this.a7=0,this.TU=!1);};b.oKa=c;},72465:function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Jea=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.Jea=a;},20483:function(r,b,a){var l;function c(f){this.Wqb=void 0 === f?!1:f;this.Ve={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.xfa=void 0;r=a(5163);a=a(22674);c.prototype.add=function(f,k){var d;k=void 0 === k?0:k;d=this.Ve[k];d?this.Wqb && -1 !== d.indexOf(f) || d.push(f):this.Ve[k]=[f];};c.prototype.remove=function(f,k){this.Ax(f,void 0 === k?0:k);};c.prototype.removeAll=function(f){this.Ax(f);};c.prototype.flatten=function(){var f;f=this;return Object.keys(this.Ve).sort().reduce(function(k,d){return k.concat(f.Ve[d]);},[]);};c.prototype.Ax=function(f,k){Object.entries(this.Ve).forEach(function(d){var g,n;g=ja(d);d=g.next().value;g=g.next().value;if(void 0 === k || k === parseInt(d)){-1 < (n=g.indexOf(f)) && g.splice(n,1);}});};l=c;l=r.__decorate([(0,a.U)()],l);b.xfa=l;},94293:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y0=void 0;b.Y0=function(){var a;a=this;this.promise=new Promise(function(c,l){a.resolve=c;a.reject=l;});};},4734:function(r,b,a){var l,f,k;function c(d){this.yc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.cNa=void 0;r=a(5163);l=a(22674);f=a(53085);k=a(59818);c.prototype.oq=function(d,g){var n;n=this;return new Promise(function(h,m){var p;p=n.yc.vk(d,function(){m(new k.Hq(d));});g.then(function(q){h(q);p.cancel();}).catch(function(q){m(q);p.cancel();});});};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Vh))],a);b.cNa=a;},67525:function(r,b,a){var l,f;function c(k){this.n6b=k;}Object.defineProperty(b,"__esModule",{value:!0});b.kNa=void 0;r=a(5163);l=a(22674);a=a(10306);c.prototype.random=function(){return this.n6b.random();};c.prototype.iab=function(k,d){if("number" !== typeof k)(d=k.end,k=k.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(k + this.random() * (d - k));};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.KOa))],f);b.kNa=f;},74267:function(r,b){function a(c,l,f){if(null != f){if(0 < f(c,l))throw a.kXa(c,l);}else if(c.Qk && 0 < c.Qk(l))throw a.kXa(c,l);this.start=c;this.end=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Efa=void 0;a.kXa=function(c,l){return new RangeError("end [" + l + "] must be >= start [" + c + "]");};b.Efa=a;},61909:function(r,b,a){var f,k,d,g;function c(n){this.Ko=n;(0,k.po)(this,"timers");}function l(n,h){this.Ko=n;this.Uxb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.PNa=void 0;r=a(5163);f=a(22674);k=a(66523);d=a(63368);g=a(5021);l.prototype.cancel=function(){this.Uxb(this.Ko);};c.prototype.Pj=function(n){return this.vk(g.Ia,n);};c.prototype.vk=function(n,h){var m;m=this.Ko.setTimeout(h,n.ea(g.pa));return new l(this.Ko,function(p){p.clearTimeout(m);});};c.prototype.MH=function(n,h){var m;m=this.Ko.setInterval(h,n.ea(g.pa));return new l(this.Ko,function(p){p.clearInterval(m);});};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(d.$Pa))],a);b.PNa=a;},57180:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.YD=void 0;r=a(5163);a=a(22674);c.prototype.format=function(f,k){var g;for(var d=1;d < arguments.length;++d){;}g=Array.prototype.slice.call(arguments,1);return f.replace(/{(\d+)}/g,function(n,h){return "undefined" != typeof g[h]?g[h]:n;});};c.prototype.peb=function(f){for(var k=f.length,d=new Uint16Array(k),g=0;g < k;g++){d[g]=f.charCodeAt(g);}return d.buffer;};c.prototype.seb=function(f){return JSON.stringify(f,null,"  ");};l=c;l=r.__decorate([(0,a.U)()],l);b.YD=l;},49721:function(r,b,a){var l,f,k,d;function c(g,n,h){var m;m=this;this.Vf=g;this.yc=n;this.l4=h;this.jN=function(p){m.dj=void 0;m.E7b(p || m.l4);};this.o5a=(0,k.Ob)(-this.l4.ea(k.pa));}Object.defineProperty(b,"__esModule",{value:!0});b.UOa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(5021);a=a(53085);c.prototype.Pj=function(g){this.ixa=g;this.dj=this.dj || this.If(this.jN);};c.prototype.Ag=function(){this.dj && this.dj.cancel();this.dj=void 0;};c.prototype.E7b=function(g){var n,h;n=this.Vf.Kb();if(this.ixa){h=g.qa(n.qa(this.o5a));0 >= h.Qk(k.Ia)?(g=this.ixa,this.ixa=void 0,this.o5a=n,g()):this.dj=this.dj || this.yc.vk(h,this.jN.bind(this,g));}};c.prototype.If=function(g){return this.yc.vk(k.Ia,g);};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Lc)),r.__param(1,(0,l.l)(a.Vh))],d);b.UOa=d;},84130:function(r,b,a){var l,f,k;function c(d,g,n){this.yc=d;this.hza=g;this.Iv=n;}Object.defineProperty(b,"__esModule",{value:!0});b.fPa=void 0;r=a(5163);l=a(53085);f=a(22674);k=a(5021);c.prototype.tB=function(){this.dj || (this.dj=this.yc.vk((0,k.Ob)(this.hza),this.Iv));};c.prototype.Ho=function(){this.dj && this.dj.cancel();this.dj=void 0;};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(l.Vh))],a);b.fPa=a;},1639:function(r,b,a){var l,f,k,d;function c(g,n){this.Ea=g;this.entries=new Set();this.ma=n.ab("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.dga=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(5021);a=a(87386);c.prototype.mark=function(g,n,h){g={name:g,fs:this.Ea.Kb()};n && (g.na=n);h && (g.Bf=h);this.entries.add(g);return g;};c.prototype.Goa=function(){var g;g=[];this.entries.forEach(function(n){return g.push(n);});return g;};c.prototype.s1a=function(g){return this.Goa().filter(function(n){return n.na === g;});};c.prototype.iLb=function(){var g;g={};try{g=this.Goa().filter(function(n){return !n.na;}).reduce(function(n,h){n[h.name]=h.fs.ea(k.pa);return n;},{});}catch(n){this.ma.error(" getMapOfCommonMarks exception",n);}return g;};c.prototype.Uab=function(g){var n;n=this;this.Goa().forEach(function(h){h.na === g && n.entries.delete(h);});};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Lc)),r.__param(1,(0,l.l)(a.bb))],d);b.dga=d;},6214:function(r,b){function a(){this.searchParams={};}function c(l){this.zp=l;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.yPa=void 0;c.prototype.toString=function(){return this.href;};Ya.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.zp + this.searchParams.toString();}}});b.yPa=c;a.prototype.get=function(l){return this.searchParams[l];};a.prototype.set=function(l,f){this.searchParams[l]=f;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(l,f,k){var d;d=ja(f);f=d.next().value;d=d.next().value;return "" + l + (0 == k?"?":"&") + f + "=" + d;},"");};},53399:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.BPa=void 0;r=a(5163);a=a(22674);c.prototype.encode=function(k){return l.Cma(k);};c.prototype.decode=function(k){return l.Lla(k);};c.Cma=function(k){if(!k)throw new TypeError("Invalid byte array");for(var d=0,g,n=k.length,h="";d < n;){g=k[d++];if(!(0 <= g && 255 >= g))throw Error("bad utf8");if(g & 128)if(192 === (g & 224))g=((g & 31) << 6) + (k[d++] & 63);else if(224 === (g & 240))g=((g & 15) << 12) + ((k[d++] & 63) << 6) + (k[d++] & 63);else throw Error("unsupported utf8 character");h+=String.fromCharCode(g);}return h;};c.Lla=function(k){var d,g,n,h,m;d=k.length;g=0;h=0;if(!(0 <= d))throw Error("bad string");for(n=d;n--;){m=k.charCodeAt(n);128 > m?g++:g=2048 > m?g + 2:g + 3;}g=new Uint8Array(g);for(n=0;n < d;n++){m=k.charCodeAt(n);128 > m?g[h++]=m:(2048 > m?g[h++]=192 | m >>> 6:(g[h++]=224 | m >>> 12,g[h++]=128 | m >>> 6 & 63),g[h++]=128 | m & 63);}return g;};f=l=c;f=l=r.__decorate([(0,a.U)()],f);b.BPa=f;},24900:function(r,b,a){var l,f,k,d;function c(g,n){this.is=g;this.Ri=n;}Object.defineProperty(b,"__esModule",{value:!0});b.CPa=void 0;r=a(5163);l=a(22674);a(36129);f=a(42207);k=a(6405);d=a(22365);c.prototype.nC=function(g,n,h){var m,p,q,u;m=this;if(n)if(h){p=h.LV;q=h.prefix;u=h.H9;this.vB(n,function(t,w){if(!u || m.is.qg(w))g[(q || "") + (p?t.toLowerCase():t)]=w;});}else this.vB(n,function(t,w){g[t]=w;});return g;};c.prototype.vB=function(g,n){for(var h in g){g.hasOwnProperty(h) && n(h,g[h]);}};c.prototype.aB=function(g,n){if(g.length == n.length){for(var h=g.length;h--;){if(g[h] != n[h])return !1;}return !0;}return !1;};c.prototype.FWa=function(g,n){if(g.length != n.length)return !1;g.sort();n.sort();for(var h=g.length;h--;){if(g[h] !== n[h])return !1;}return !0;};c.prototype.Ae=function(g){var n,h,m;if(g){n=g.stack;h=g.number;m=g.message;m || (m="" + g);n?(g="" + n,0 !== g.indexOf(m) && (g=m + "\n" + g)):g=m;h && (g+="\nnumber:" + h);return g;}};c.prototype.getFunctionName=function(g){return (g=(/function (.{1,})\(/).exec(g.toString())) && 1 < g.length?g[1]:"";};c.prototype.joa=function(g){return this.getFunctionName(g.constructor);};c.prototype.Hta=function(g){var n,h;n=this;h="";this.is.PA(g) || this.is.yTa(g)?h=Array.prototype.reduce.call(g,function(m,p){return m + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.qp(g)?h=g:this.vB(g,function(m,p){h+=(h?", ":"") + "{" + m + ": " + (n.is.I2(p)?n.getFunctionName(p) || "function":p) + "}";});return "[" + this.joa(g) + " " + h + "]";};c.prototype.createElement=function(g,n,h,m){var p;p=d.Ig.createElement(g);n && (p.style.cssText=n);h && (p.innerHTML=h);m && this.vB(m,function(q,u){p.setAttribute(q,u);});return p;};c.prototype.wHb=function(g,n){return function(h){return h[g] === n;};};c.prototype.MW=function(g){var n;n={};(g || "").split("&").forEach(function(h){var m,p;h=h.trim();m=h.indexOf("=");if(0 <= m){p=decodeURIComponent(h.substr(0,m)).toLowerCase();n[p]=decodeURIComponent(h.substr(m + 1));}else n[h.toLowerCase()]=void 0;});return n;};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Uf)),r.__param(1,(0,l.l)(k.Mw))],a);b.CPa=a;},38385:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.i6a=void 0;c=a(80401);l=a(76989);r=a(22674);f=a(36410);k=a(87386);d=a(42790);b.i6a=new r.gd(function(g){g(k.bb).to(l.zIa).ha();g(f.hJ).to(c.AIa).ha();g(k.cea).to(d.oIa).ha();});},87386:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HP=b.bb=b.cea=b.ij=void 0;r=b.ij || (b.ij={});r[r.Ykb=0]="FATAL";r[r.Hk=1]="ERROR";r[r.nga=2]="WARN";r[r.Ida=3]="INFO";r[r.OOa=4]="TRACE";r[r.K=5]="DEBUG";b.cea="LogFieldBuilderFactorySymbol";b.bb="LoggerFactorySymbol";b.HP={};},36410:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hJ="LoggerSinksSymbol";},34126:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.eea=void 0;b.eea=a;a.Pjb="display";a.vjb="console";},22097:function(r,b,a){var l,f;function c(k,d,g,n,h,m,p){this.level=k;this.Km=d;this.timestamp=g;this.message=n;this.Ac=h;this.prefix=m;this.index=void 0 === p?0:p;this.E5b=this.H5b();}Object.defineProperty(b,"__esModule",{value:!0});b.CBa=void 0;l=a(5021);f={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.jba=function(k){k=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (k?"":" " + this.E5b);return (this.timestamp.ea(l.pa) / 1E3).toFixed(3) + "|" + this.index + "|" + (f[this.level] || this.level) + "|" + this.Km + "| " + k;};c.prototype.H5b=function(){var n;for(var k=this.Ac.length,d="",g=0;g < k;++g){n=this.Ac[g].du;g && d.length && (d+=" ");if("object" === typeof n){if(null === n)d+="null";else if(n instanceof Error)d+=this.G5b(n);else try{d+=JSON.stringify(n);}catch(h){d+=this.F5b(n);}}else d+=n;}return d;};c.prototype.G5b=function(k){return k.toString() + (k.stack?"\n" + k.stack:"") + "\n";};c.prototype.F5b=function(k){var d;d=[];return JSON.stringify(k,function(g,n){if("object" === typeof n && null !== n){if(-1 !== d.indexOf(n))return "<cycle>";d.push(n);}return n;});};b.CBa=c;},98895:function(r,b,a){var l,f;function c(k,d,g,n,h,m){k=l.gJ.call(this,k,d,g,n) || this;k.groups=h;Array.isArray(m)?k.prefix=m:m && "string" === typeof m && (k.prefix=[],k.prefix.push(m));return k;}Object.defineProperty(b,"__esModule",{value:!0});b.DBa=void 0;l=a(29045);f=a(22097);da(c,l.gJ);c.prototype.IA=function(k,d,g){k=new f.CBa(k,this.Km,this.Ea.Kb(),d,g,this.prefix);d=ja(this.xn.xn);for(g=d.next();!g.done;g=d.next()){g=g.value;g(k);}};c.prototype.q4=function(k){return new c(this.Ea,this.I3,this.xn,k,this.groups,this.prefix);};b.DBa=c;},37960:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RUa=void 0;b.RUa=function(a,c){var f;a=a.cLb();for(var l=0;l < c.length;++l){f=c[l];void 0 != f && null != f && (f.ug && (f=f.ug),f.constructor === Uint8Array?a.gub(f):"MediaRequest" === f.constructor.name?a.Stb(f):"string" === typeof f?a.dub(f):"function" === typeof f?a.Mtb(f):f instanceof Error?a.Ltb(f):f instanceof Object && "function" === typeof f.toJSON?a.dTa(f.toJSON()):f instanceof Object?a.dTa(f):a.iub(f));}return a.Ng();};},90694:function(r,b,a){var l;function c(f,k,d,g,n,h){this.level=f;this.Km=k;this.timestamp=d;this.message=g;this.Ac=n;this.index=void 0 === h?0:h;this.emb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.bea=void 0;l=a(5021);c.prototype.jba=function(f){var k;k="" + this.message;this.Ac.forEach(function(d){k+=d.vI(f);});return (this.timestamp.ea(l.pa) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.emb[this.level] || this.level) + "|" + this.Km + "| " + k;};b.bea=c;},42790:function(r,b,a){var l,f,k,d;function c(g,n){this.kc=g;this.de=n;}Object.defineProperty(b,"__esModule",{value:!0});b.oIa=void 0;r=a(5163);l=a(22674);f=a(14600);k=a(2248);a=a(74870);c.prototype.cLb=function(){return new f.pIa(this.kc,this.de);};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.$g)),r.__param(1,(0,l.l)(a.dh))],d);b.oIa=d;},14600:function(r,b,a){var p,q,u;function c(t,w){this.kc=t;this.de=w;this.Ac=[];}function l(t){return m.call(this,t,function(w){return {Details:w};}) || this;}function f(t){return m.call(this,t,function(w){return JSON.parse(w.toJSON());}) || this;}function k(t,w){w=m.call(this,w,function(v){return {Base64:t.encode(v)};}) || this;w.kc=t;return w;}function d(t,w){w=m.call(this,w,function(v){return v();}) || this;w.de=t;return w;}function g(t){return m.call(this,t,function(w){return {Exception:w.message || "" + w,StackTrace:w.stack || "nostack"};}) || this;}function n(t,w,v){w=m.call(this,w,v) || this;w.de=t;return w;}function h(t){return m.call(this,t,function(w){return {Details:w};}) || this;}function m(t,w){this.du=t;this.value=w?w(t):t;}Object.defineProperty(b,"__esModule",{value:!0});b.pIa=void 0;r=a(5163);p=a(22674);q=a(74870);a=a(2248);m.prototype.FT=function(t){return this.du === t;};da(h,m);h.prototype.vI=function(){return "\r\n" + this.du;};da(n,m);n.prototype.vI=function(){var t;t="";this.de.vB(this.value,function(w,v){try{t+=", " + w + ": " + v;}catch(y){try{t+=", " + w + ": " + JSON.stringify(v);}catch(x){t+=", error stringifying " + w;}}});return t.replace(/[\r\n]+ */g," ");};da(g,m);g.prototype.vI=function(t){var w;w="\r\n" + this.du.message;t || (w+="\r\n" + this.du.stack);return w;};da(d,m);d.prototype.vI=function(){var t;t="";this.de.vB(this.value,function(w,v){t+=", " + w + ": " + v;});return t.replace(/[\r\n]+ */g," ");};da(k,m);k.prototype.vI=function(){return this.du?"\r\n" + this.kc.encode(this.du):"";};da(f,m);f.prototype.vI=function(){return this.du?this.du.toJSON():"";};da(l,m);l.prototype.vI=function(){return ", " + (this.du.toString?"" + this.du.toString():"");};c.prototype.dub=function(t){this.Ac.push(new h(t));};c.prototype.dTa=function(t){this.Ac.push(new n(this.de,t));};c.prototype.Ltb=function(t){this.Ac.push(new g(t));};c.prototype.Mtb=function(t){this.Ac.push(new d(this.de,t));};c.prototype.gub=function(t){this.Ac.push(new k(this.kc,t));};c.prototype.Stb=function(t){this.Ac.push(new f(t));};c.prototype.iub=function(t){this.Ac.push(new l(t));};c.prototype.Ng=function(){return this.Ac;};u=c;u=r.__decorate([(0,p.U)(),r.__param(0,(0,p.l)(a.$g)),r.__param(1,(0,p.l)(q.dh))],u);b.pIa=u;},76989:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q){this.Ea=m;this.xn=p;this.Pra=q;}Object.defineProperty(b,"__esModule",{value:!0});b.zIa=void 0;r=a(5163);l=a(29045);f=a(22674);k=a(51742);d=a(81918);g=a(36410);n=a(87386);h=a(98895);c.prototype.ab=function(m,p,q,u,t){q=void 0 === q?this.xn:q;return p?new k.dMa(this.Ea,this.Pra,q,p,m):t?new h.DBa(this.Ea,this.Pra,q,m,u || "",t):new l.gJ(this.Ea,this.Pra,q,m);};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(d.Lc)),r.__param(1,(0,f.l)(g.hJ)),r.__param(2,(0,f.l)(n.cea))],a);b.zIa=a;},29045:function(r,b,a){var l,f,k;function c(d,g,n,h){this.Ea=d;this.I3=g;this.xn=n;this.Km=void 0 === h?"General":h;this.Oka={};}Object.defineProperty(b,"__esModule",{value:!0});b.gJ=void 0;l=a(87386);f=a(90694);k=a(37960);c.prototype.SSa=function(d,g){this.Oka[d]=g;};c.prototype.fatal=function(d,g){for(var n=[],h=1;h < arguments.length;++h){n[h - 1]=arguments[h];}this.IA(l.ij.Ykb,d,this.aP(d,n));};c.prototype.error=function(d,g){for(var n=[],h=1;h < arguments.length;++h){n[h - 1]=arguments[h];}this.IA(l.ij.Hk,d,this.aP(d,n));};c.prototype.warn=function(d,g){for(var n=[],h=1;h < arguments.length;++h){n[h - 1]=arguments[h];}this.IA(l.ij.nga,d,this.aP(d,n));};c.prototype.info=function(d,g){for(var n=[],h=1;h < arguments.length;++h){n[h - 1]=arguments[h];}this.IA(l.ij.Ida,d,this.aP(d,n));};c.prototype.trace=function(d,g){for(var n=[],h=1;h < arguments.length;++h){n[h - 1]=arguments[h];}this.IA(l.ij.OOa,d,this.aP(d,n));};c.prototype.debug=function(d,g){for(var n=1;n < arguments.length;++n){;}!1;};c.prototype.log=function(d,g){for(var n=[],h=1;h < arguments.length;++h){n[h - 1]=arguments[h];}this.debug.apply(this,[d].concat(ba(n)));};c.prototype.write=function(d,g,n){for(var h=[],m=2;m < arguments.length;++m){h[m - 2]=arguments[m];}this.IA(d,g,this.aP(g,h));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.Km};};c.prototype.q4=function(d){return new c(this.Ea,this.I3,this.xn,d);};c.prototype.IA=function(d,g,n){d=new f.bea(d,this.Km,this.Ea.Kb(),g,n);g=ja(this.xn.xn);for(n=g.next();!n.done;n=g.next()){n=n.value;n(d);}};c.prototype.RJb=function(d){return 0 < Object.keys(this.Oka).length?[this.Oka].concat(ba(d)):d;};c.prototype.aP=function(d,g){var n;d && "null" !== d && "undefined" !== d || g.push({StackTrace:null !== (n=Error("Empty message").stack) && void 0 !== n?n:"nostack"});return (0,k.RUa)(this.I3,this.RJb(g));};b.gJ=c;},80401:function(r,b,a){var l;function c(){this.Adb={};this.xn=[];}Object.defineProperty(b,"__esModule",{value:!0});b.AIa=void 0;r=a(5163);a=a(22674);c.prototype.F$=function(f,k){k && (this.Adb[f]=k,this.xn=Object.values(this.Adb));};l=c;l=r.__decorate([(0,a.U)()],l);b.AIa=l;},51742:function(r,b,a){var l,f,k;function c(d,g,n,h,m){d=k.gJ.call(this,d,g,n,m) || this;d.j=h;(0,l.po)(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.dMa=void 0;l=a(66523);f=a(90694);k=a(29045);da(c,k.gJ);c.prototype.q4=function(d){return new c(this.Ea,this.I3,this.xn,this.j,d);};c.prototype.IA=function(d,g,n){d=new f.bea(d,this.Km,this.Ea.Kb(),g,n,this.j.index);g=ja(this.xn.xn);for(n=g.next();!n.done;n=g.next()){n=n.value;n(d,this.j);}};b.dMa=c;},56371:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.J7a=void 0;r=a(22674);c=a(76193);l=a(25857);b.J7a=new r.gd(function(f){f(c.EJa).to(l.DJa).ha();});},76193:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EJa="MomentObserverFactory";},25857:function(r,b,a){var l,f,k;function c(d){this.yc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.DJa=void 0;r=a(5163);l=a(22674);f=a(89350);a=a(53085);c.prototype.bXa=function(d,g){return new f.FJa(this.yc,d,g);};k=c;k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.Vh))],k);b.DJa=k;},89350:function(r,b){function a(c,l,f){this.yc=c;this.config=l;this.getTime=f;}Object.defineProperty(b,"__esModule",{value:!0});b.FJa=void 0;a.prototype.observe=function(c,l){var f;f=this;this.cancel();this.dj=this.yc.MH(this.config.R1a(),function(){f.getTime() >= c && (f.cancel(),l());});};a.prototype.cancel=function(){this.dj && (this.dj.cancel(),this.dj=void 0);};b.FJa=a;},64274:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MSb=b.IM=b.KSb=void 0;b.KSb=function(a){return a;};b.IM=function(a){return a;};b.MSb=function(a){return Object.assign({},a);};},33194:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.O=void 0;r=a(22674);c=a(2911);l=a(93488);f=a(12242);k=a(71807);d=a(25830);g=a(49310);b.O=new r.gd(function(n){n(c.Rfa).to(f.$Na).ha();n(l.WNa).to(k.VNa).ha();n(d.jPa).to(g.iPa).ha();});},93488:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WNa="SegmentConfigFactorySymbol";},2911:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rfa="SegmentManagerFactorySymbol";},25830:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jPa="TransitionLoggerSymbol";},61494:function(r,b,a){var k,d,g,n;function c(h,m,p,q,u,t,w){var v;v=this;this.Z=m;this.j=p;this.VM=q;this.yc=u;this.sK=t;this.config=w;this.FK=function(){v.tC && (v.tC.cancel(),v.tC=void 0);};this.log=h.ab("SegmentManager",this.j);this.O=new Map();this.j.cb.sg && (this.j.addEventListener(g.ga.NH,function(y){return v.Zv(y);}),this.j.addEventListener(g.ga.closed,this.FK));}function l(h,m){this.id=h;this.xka=m;}function f(h,m,p,q){return d.Mc.call(this,h,p,void 0,void 0,void 0,m,void 0,q) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.uCa=void 0;k=a(36129);d=a(31149);g=a(85001);n=a(5021);da(f,d.Mc);f.prototype.toString=function(){return this.code + "-" + this.ic + " : " + this.message + "\n" + JSON.stringify(this.data);};l.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.ta,contentEndPts:this.va};};Ya.Object.defineProperties(l.prototype,{ta:{configurable:!0,enumerable:!0,get:function(){return this.xka.startTimeMs;}},va:{configurable:!0,enumerable:!0,get:function(){return this.xka.endTimeMs;}},Vy:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.xka.next);}}});c.prototype.Zv=function(h){var m;m=this;!1;h=h.position.segmentId;0 === this.O.size && Object.entries(this.j.cU()).forEach(function(p){var q;q=ja(p);p=q.next().value;q=q.next().value;m.O.set(p,new l(p,q));});this.ca=this.O.get(h);};c.prototype.play=function(h){this.LN && (this.LN=void 0);this.FK();this.log.trace("Playing segment",h);return this.B4a(h)?this.kYb(h):this.QW(h);};c.prototype.KN=function(h){this.log.trace("Queueing segment",h);return this.B4a(h)?this.u_b(h):this.v_b(h);};c.prototype.gj=function(h,m){var p,q;p=this;q=this.j.fb;if(null === q || void 0 === q || !q.Bh)return Promise.reject(this.getError(k.V.cCa,"ASE session manager is not yet initialized",k.S.Bca,{segmentId:h,updates:m}));this.log.trace("Updating next segment weights",h,m);return new Promise(function(u,t){try{q.i8b(h,m);p.j.fireEvent(g.ga.Pza,{I:h,M8b:m});u();}catch(w){t(p.getError(k.V.cCa,"updateNextSegmentWeights threw an exception",k.S.Hib,{segmentId:h,updates:m,error:w}));}});};c.prototype.B4a=function(h){return this.ca?void 0 !== this.j.cU()[this.ca.id].next[h]:!1;};c.prototype.Zoa=function(){var h;h=this.j.fb;if(null === h || void 0 === h?0:h.Bh)return h.ko().sYb;};c.prototype.VLb=function(){var h;h=this.j.fb;if(null === h || void 0 === h?0:h.Bh)return h.ko().id;};c.prototype.OJb=function(){var h;h=this.j.fb;if(null === h || void 0 === h?0:h.Bh)return (h={Jja:0},h.Jja);};c.prototype.kYb=function(h){var m,p;m=this;p=this.j.fb;return null !== p && void 0 !== p && p.Bh?this.ca && 1 === this.ca.Vy.length?this.QW(h):this.j.Vd?void 0 === this.OJb()?(this.log.error("playNextSegment: branchOffset missing",{segment:h}),this.QW(h)):new Promise(function(q,u){var x,z,A,B,C,D;function t(){!A && z && x && (D.cancel(),A=!0,m.log.trace("Telling ASE to choose the next segment",{id:h,stopped:z,repositioned:x,completed:A}),p.T3(h,!1)?(q(),A=!0):(A=!0,m.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:h}),m.QW(h).then(q).catch(u)));}function w(){x=!0;m.log.trace("Player is repositioned",{id:h,stopped:z,repositioned:x,completed:A});m.j.removeEventListener(g.ga.Ij,w);t();}function v(){m.j.removeEventListener(g.ga.MC,v);p.stop();}function y(){z=!0;m.log.trace("ASE is stopped",{id:h,stopped:z,repositioned:x,completed:A});p.removeEventListener("stop",y);t();}x=!1;z=!1;A=!1;B=m.O.get(h);C=m.Zoa();if(void 0 === C)return (m.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:h}),m.QW(h));m.log.trace("Seeking to next segment",JSON.stringify({segmentId:h,seekTo:C,currentSegment:m.ca,nextSegment:B},null,"  "));m.j.fireEvent(g.ga.f9,{ih:m.ca && m.ca.id,$M:h});p.addEventListener("stop",y);m.j.addEventListener(g.ga.MC,v);m.j.addEventListener(g.ga.Ij,w);D=m.yc.vk((0,n.uh)(10),function(){A=!0;D.cancel();u(m.getError(k.V.rP,"Timed out waiting for the player to be repositioned and ASE to be stopped",k.S.Dib,{id:h,stopped:z,repositioned:x,completed:A}));});m.Z.seek(C,g.oc.WD);}):(this.log.warn("MediaPresenter is not initialized",h),Promise.reject(this.getError(k.V.rP,"MediaPresenter is not initialized",k.S.Eib,{id:h}))):Promise.reject(this.getError(k.V.rP,"ASE session manager is not yet initialized",k.S.Bca,{id:h}));};c.prototype.QW=function(h){var m;m=this.O.get(h);return m?this.KX(m,k.V.rP):Promise.reject(this.getError(k.V.rP,"Unable to find the separated segment",k.S.bCa,{id:h}));};c.prototype.u_b=function(h){var m;m=this.j.fb;if(null === m || void 0 === m || !m.Bh)return Promise.reject(this.getError(k.V.sP,"ASE session manager is not yet initialized",k.S.Bca,{id:h}));this.j.fireEvent(g.ga.f9,{ih:this.ca && this.ca.id,$M:h});if(m.T3(h,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:h});return this.eYa(h);};c.prototype.v_b=function(h){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:h,mid:this.j.P,srcsegment:this.VLb()});return this.eYa(h);};c.prototype.eYa=function(h){var m,p;m=this;if(this.LN)return Promise.reject(this.getError(k.V.sP,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",k.S.Gib,{currentSegment:this.ca?this.ca.id:void 0,queuedSegment:this.LN.id,failedSegment:h}));if(!this.ca)return Promise.reject(this.getError(k.V.sP,"Unable to queue segment for delayed seek because there is no currently playing segment",k.S.Cib,{nextSegmentid:h}));p=this.O.get(h);if(!p)return Promise.reject(this.getError(k.V.sP,"Unable to find the separated segment",k.S.bCa,{nextSegmentid:h,currentSegmentId:this.ca.id}));this.LN={id:h,promise:new Promise(function(q,u){var t;m.tC=m.VM.bXa({R1a:function(){return (0,n.Ob)(100);}},function(){return m.Z.pr() || 0;});t=m.Zoa() - m.config().G7a;m.log.trace("Adding moment for queued segment for delayed seek",{segment:h,pts:t});m.tC.observe(t,function(){m.log.trace("Moment has arrived, seek to segment",{segment:h,currentSegment:m.ca.id,playerEndPts:m.Zoa(),pts:t});m.LN=void 0;m.FK();m.KX(p,k.V.sP).then(q).catch(u);});})};this.LN.promise.catch(function(q){m.j.rd(q.code,q);});return Promise.resolve();};c.prototype.KX=function(h,m){var p;p=this;return new Promise(function(q,u){var t;try{t=h.ta;!1;p.Z.seek(t,g.oc.jx);q();}catch(w){u(p.getError(m,"Seek threw an exception",k.S.Fib,{id:h.id,error:w}));}});};c.prototype.getError=function(h,m,p,q){this.log.warn(m,q);return new f(h,m,p,q);};b.uCa=c;},71807:function(r,b,a){var f,k;function c(){}function l(d,g,n,h,m){this.debug=d;this.version=g;this.SQb=n;this.hYb=h;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.VNa=void 0;r=a(5163);f=a(22674);k=a(5021);l.prototype.FKb=function(){return this.config().kG;};l.prototype.doa=function(){return this.config().CUa;};l.prototype.R1a=function(){return (0,k.Ob)(this.config().IYb);};l.prototype.o1a=function(){return this.config().hSb;};l.prototype.r1a=function(){return this.config().XSb;};c.prototype.VF=function(d,g,n,h,m){return new l(d,g,n,h,m);};a=c;a=r.__decorate([(0,f.U)()],a);b.VNa=a;},12242:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v;function c(y,x,z,A,B,C,D,E,G,F,J){this.Ea=y;this.Df=x;this.VM=z;this.iAa=A;this.RW=B;this.yc=C;this.sK=D;this.sh=E;this.Wma=G;this.xh=F;this.config=J;}Object.defineProperty(b,"__esModule",{value:!0});b.$Na=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(87386);d=a(76193);g=a(79274);n=a(51038);h=a(58872);m=a(64181);p=a(61494);q=a(24550);u=a(53085);t=a(95947);w=a(74870);a=a(4203);c.prototype.hCb=function(y,x,z){return new m.aOa(this.Ea,this.Df,this.VM,this.iAa,x,y,this.sh,this.RW,this.xh,this.Wma,z);};c.prototype.CBb=function(y,x){return new p.uCa(this.Df,y,x,this.VM,this.yc,this.sK,this.config);};v=c;v=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Lc)),r.__param(1,(0,l.l)(k.bb)),r.__param(2,(0,l.l)(d.EJa)),r.__param(3,(0,l.l)(h.LPa)),r.__param(4,(0,l.l)(n.$La)),r.__param(5,(0,l.l)(u.Vh)),r.__param(6,(0,l.l)(q.pP)),r.__param(7,(0,l.l)(g.BQ)),r.__param(8,(0,l.l)(t.LP)),r.__param(9,(0,l.l)(w.dh)),r.__param(10,(0,l.l)(a.Yb))],v);b.$Na=v;},64181:function(r,b,a){var d,g,n;function c(h,m,p,q,u,t,w,v,y,x,z){var A;A=this;this.Ea=h;this.VM=p;this.ava=q;this.config=u;this.tb=t;this.sh=w;this.RW=v;this.xh=y;this.Wj=z;this.LGb=Object.values(d.La).map(function(B){return {event:B,Iv:function(C){return A.Jb.Ec(B,C);}};});this.Jb=x.create();this.IC=[];this.log=m.ab("SegmentManager");this.MF=!0;this.uk=this.xh.createElement("div",n.Dfa);}function l(h,m,p,q,u,t,w,v,y,x,z){var A;A=this;this.log=h;this.config=m;this.KVb=p;this.ava=q;this.sh=u;this.RW=t;this.iu=w;this.v=v;this.uk=y;this.tb=x;this.Wj=z;this.FK=function(){A.tC && (A.tC.cancel(),A.tC=void 0);};this.Bpa=function(B){A.log.trace("Received the transition event",{movieId:B.P});A.G_b();};this.Ira=function(){};this.log.debug("Constructing session data",f(v));this.V6b=new Promise(function(B){A.G_b=B;});}function f(h){return {movieId:h.P};}function k(h){return JSON.stringify({movieId:h.P,startPts:h.kb,logicalEnd:h.Zi,params:h.wb?{trackingId:h.wb.Uj,authParams:h.wb.w3,sessionParams:h.wb.fm,disableTrackStickiness:h.wb.ema,uiPlayStartTime:h.wb.fD,loadImmediately:h.wb.k8,playbackState:h.wb.playbackState?{currentTime:h.wb.playbackState.currentTime,volume:h.wb.playbackState.volume,muted:h.wb.playbackState.muted,playbackRate:h.wb.playbackState.playbackRate}:void 0,pin:h.wb.O9a,heartbeatCooldown:h.wb.Npa,uiLabel:h.wb.Cd,uxLabels:h.wb.zba}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.aOa=void 0;d=a(85001);g=a(5021);n=a(33096);l.prototype.load=function(h){var m,p;m=this;this.log.trace("Loading new segment",f(this.v));this.Z=this.ava.QK(this.config,this.RW,this.sh,this.v,this.tb,this.Wj);this.Z.addEventListener(d.La.gM,function(q){m.log.trace("Segment is inactive",f(m.v));m.iu.close(m.sh(q.errorCode));});this.Z.addEventListener(d.La.closed,this.FK);if(h)(this.log.debug("Pausing background segment",f(this.v)),this.Z.addEventListener(d.La.ara,this.Bpa),this.Z.G9a());else {this.uk.appendChild(this.Z.Ym());p=function(q){m.Bpa(q);m.Z.removeEventListener(d.La.loaded,p);};this.Z.addEventListener(d.La.loaded,p);}};l.prototype.observe=function(){var h,m,p;h=this;this.log.trace("Observing segment",k(this.v));if(this.tC)this.log.trace("Segment is currently observing",f(this.v));else if(this.v.wb && this.v.wb.k8)this.Ira(this);else {m=this.KVb.bXa(this.config,function(){var q;if(h.Z){q=h.Z.pr();if(q)return q;}return 0;});p=this.wxb(this.v);this.log.trace("Adding a moment to watch",{time:p});m.observe(p,function(){h.log.trace("Segment has reached its loading point",f(h.v));h.Ira(h);h.FK();});}};l.prototype.close=function(h){this.log.info("Closing segment",{segment:k(this.v),error:h});return this.Z?(this.Z.removeEventListener(d.La.ara,this.Bpa),this.Z.close(h)):Promise.resolve();};l.prototype.LWb=function(h){this.Ira=h;};l.prototype.wxb=function(h){var m,p;m=h.Zi;h=h.wb?h.wb.k8:!1;p=0;m && !h && (p=m - this.config.o1a(),p < this.config.r1a() && (h=m - this.config.r1a(),p=m - h / 2));return p;};c.prototype.cMb=function(){return this.Og && this.Og.Z?this.Og.Z.Mv():!1;};c.prototype.Ym=function(){return this.uk;};c.prototype.dG=function(){if(!this.Og || !this.Og.Z)throw Error("Player not ready");return this.Og.Z;};c.prototype.B8b=function(h){var m,p;p=this.sna(h);p?this.tgb(p,h):this.tb.me(h.id) || this.log.error("Tried to update a non-existent segment",{segment:k(h),currentMovieId:this.Og.v.P,queuedMovieIds:this.IC.map(function(q){return q.v.P;}),xid:null === (m=this.Og.Z) || void 0 === m?void 0:m.Ct()});};c.prototype.Ge=function(h){var m;this.log.info("Adding segment",k(h));if(this.MF){this.log.trace("First segment, loading",f(h));m=this.W5a(h);this.MF=!1;}else (this.log.trace("Subsequent segment, caching",f(h)),(m=this.sna(h))?this.tgb(m,h):(m=this.createSession(h),this.IC.push(m),this.Og.observe()));return m?m.V6b:null;};c.prototype.transition=function(h,m){var p,q,u;q=this.$G;u=null === q || void 0 === q?void 0:q.Z;if(q && u)return (this.$G=void 0,this.log.info("Transitioning segment",k(q.v)),u.Yxa(this.Ea.Kb().ea(g.pa)),this.Efb(q,m));m=null === q || void 0 === q?void 0:q.v;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.Og.v.P,xid:null === (p=this.Og.Z) || void 0 === p?void 0:p.Ct(),nextSegmentId:h,currentSegment:k(this.Og.v),nextSegment:m?k(m):void 0,queuedMovieIds:this.IC.map(function(t){return t.v.P;})});return Promise.reject();};c.prototype.close=function(h){var m;m=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(f(this.Og.v)),nextSession:this.$G?JSON.stringify(f(this.$G.v)):void 0});h=[this.Og.close(h)];this.$G && h.push(this.$G.close());return Promise.all(h).then(function(){m.$G=void 0;m.IC=[];m.MF=!0;});};c.prototype.addListener=function(h,m,p){this.Jb.addListener(h,m,p);};c.prototype.removeListener=function(h,m){this.Jb.removeListener(h,m);};c.prototype.tgb=function(h,m){this.jXb(h.v,m);this.log.trace("Overwrote existing segment data",k(h.v));};c.prototype.W5a=function(h){var m,p;m=this;this.log.info("Loading the next episode",f(h));if(this.Og){this.config.doa()[h.P]=h.kb;p=this.sna(h);}else p=this.createSession(h);if(p)return (this.log.trace("Found the next session",f(h)),p.LWb(function(q){m.efb(q);}),this.Og?(this.log.trace("Subsequent playback, caching player and pausing",f(h)),this.$G=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",f(h)),p.load(!1),this.Efb(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",f(h));};c.prototype.Efb=function(h,m){var p,q,u,t,w;m=void 0 === m?{}:m;t=h.Z?null === (p=h.Z) || void 0 === p?void 0:p.getError():"missing player";if(t)return (null === (q=h.Z) || void 0 === q?void 0:q.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.Og.v.P,mid:h.v.P,error:t,xid:null === (u=h.Z) || void 0 === u?void 0:u.Ct()}),Promise.reject());this.log.trace("Playing episode",f(h.v));p=this.Og;this.Og=h;h=this.Og.Z;h.Gxa(!1);this.KI(h,p?p.Z:void 0);if(p && p.Z){w=p.Z.Ym();q=h.Ym();w.style.display="none";p=p.close();this.uk.appendChild(q);p.then(function(){w.parentElement && w.parentElement.removeChild(w);});q.style.display="block";h.uba(m);h.uO();h.play();}return Promise.resolve();};c.prototype.efb=function(h){var m,p,q,u,t;if(this.IC.length && h.Z){m=h.Z.pr();p=this.IC[0];q=this.Og.v.Zi;u=this.Og.v.wb?this.Og.v.wb.k8:!1;if(q || u){u?t=0:q && (t=q - this.config.o1a());null !== m && m >= t && (this.log.info("Got a time change, loading the next player",f(p.v)),this.W5a(p.v),this.IC.splice(0,1),this.efb(h));}}};c.prototype.sna=function(h){return this.Og.v.P === h.P?this.Og:this.IC.find(function(m){return m.v.P === h.P;});};c.prototype.jXb=function(h,m){h.kb=m.kb || h.kb;h.Zi=m.Zi || h.Zi;h.wb=m.wb || h.wb;h.Y=m.Y || h.Y;};c.prototype.createSession=function(h){return new l(this.log,this.config,this.VM,this.ava,this.sh,this.RW,this,h,this.uk,this.tb,this.Wj);};c.prototype.KI=function(h,m){this.LGb.forEach(function(p){m && m.removeEventListener(p.event,p.Iv);h.addEventListener(p.event,p.Iv);});this.Jb.Ec(d.UD.PX);};b.aOa=c;},49310:function(r,b,a){var l,f,k;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.iPa=void 0;r=a(5163);l=a(22674);f=a(4203);k=a(3887);c.prototype.XZb=function(d,g,n,h){this.config().N2b && (d=d.metrics,void 0 !== d && d.segment !== d.srcsegment && (n={isBranching:h || void 0,isPlaygraph:!h || void 0,mid:g.P,xid:g.na,srcxid:n.na,srcmid:n.P,segment:d.segment,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,srcvbitrate:d.srcvbitrate,srcvmaf:d.srcvmaf,destvbitrate:d.destvbitrate,destvmaf:d.destvmaf,auxMid:d.auxMid,auxMidType:d.auxMidType,auxSrcmid:d.auxSrcmid,auxSrcmidType:d.auxSrcmidType,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,transitionTypeAtRequest:d.transitionTypeAtRequest,nextExitPositionAtRequest:d.nextExitPositionAtRequest,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard,adBreakLocationMs:d.adBreakLocationMs,srcadBreakLocationMs:d.srcadBreakLocationMs},!h && d.auxMid && d.auxMid !== g.P && (n.moffms=(0,k.Xf)(g.dT)),g.GM.ib.transition(n)));};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Yb))],a);b.iPa=a;},24550:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pP=b.vib=b.xBa=b.zBa=void 0;(function(a){a[a.TEb=0]="downloading";a[a.SEb=1]="downloaded";a[a.tS=2]="appended";a[a.buffered=3]="buffered";a[a.eu=4]="removed";a[a.okc=5]="unused";})(b.zBa || (b.zBa={}));(function(a){a[a.waiting=1]="waiting";a[a.Dic=2]="ondeck";a[a.TEb=4]="downloading";a[a.SEb=8]="downloaded";a[a.aV=6]="inprogress";})(b.xBa || (b.xBa={}));b.vib="AseBufferViewSymbol";b.pP="AseBufferAccountingSymbol";},1891:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p){return function(){return new Promise(function(q,u){var t;t=p.ob.get(f.CEa);t.Db().then(function(){q(t);}).catch(function(w){u(w);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.KYa=void 0;r=a(22674);l=a(2413);f=a(31701);k=a(98281);d=a(24550);g=a(64372);n=a(52476);h=a(14188);m=a(33633);b.KYa=new r.gd(function(p){p(n.mIa).to(h.lIa).ha();p(l.zEa).to(m.nIa);p(d.pP).to(g.vBa).ha();p(f.CEa).to(k.AEa).ha();p(f.BEa).JY(c);});},2413:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zEa="DxDisplaySymbol";},31701:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CEa="DxManagerSymbol";b.BEa="DxManagerProviderSymbol";},52476:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mIa="LogDisplayConfigSymbol";},64372:function(r,b,a){var l;function c(){this.v2b="";this.K9b=[[],[],[]];this.Ha=[[],[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.vBa=void 0;r=a(5163);l=a(22674);a(5021);a(24550);c.prototype.update=function(f){this.K9b[f.mediaType].forEach(function(k){k.pkc(f);});};Ya.Object.defineProperties(c.prototype,{I:{configurable:!0,enumerable:!0,get:function(){return this.v2b;}}});a=c;a=r.__decorate([(0,l.U)()],a);b.vBa=a;},44133:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.nDa=void 0;l=a(22365);c.Vzb=function(f){var k;if(l.Ig.queryCommandSupported && l.Ig.queryCommandSupported("copy")){k=l.Ig.createElement("textarea");k.textContent=f;k.style.position="fixed";l.Ig.body.appendChild(k);k.select();try{l.Ig.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{l.Ig.body.removeChild(k);}}};b.nDa=c;},98281:function(r,b,a){var l,f;function c(k){this.BEb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.AEa=void 0;r=a(5163);l=a(22674);a=a(2413);c.prototype.Db=function(){var k;k=this;this.QB || (this.QB=new Promise(function(d,g){var n;n=[];k.BEb.forEach(function(h){n.push(h.Db());});Promise.all(n).then(function(){d();}).catch(function(h){g(h);});}));return this.QB;};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.YG)(a.zEa))],f);b.AEa=f;},14188:function(r,b,a){var l,f,k,d,g;function c(n,h){n=k.Qe.call(this,n,"LogDisplayConfigImpl") || this;n.Aj=h;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.lIa=void 0;r=a(5163);l=a(22674);f=a(12501);k=a(64174);d=a(83767);a=a(5614);da(c,k.Qe);Ya.Object.defineProperties(c.prototype,{pX:{configurable:!0,enumerable:!0,get:function(){return !0;}},FM:{configurable:!0,enumerable:!0,get:function(){return this.Aj.FM;}},f6a:{configurable:!0,enumerable:!0,get:function(){return -1;}}});g=c;r.__decorate([f.config(f.bd,"renderDomDiagnostics")],g.prototype,"pX",null);r.__decorate([f.config(f.TB,"logDisplayMaxEntryCount")],g.prototype,"FM",null);r.__decorate([f.config(f.TB,"logDisplayAutoshowLevel")],g.prototype,"f6a",null);g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(d.zl)),r.__param(1,(0,l.l)(a.uJ))],g);b.lIa=g;},33633:function(r,b,a){var k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A;function c(B,C,D,E,G,F,J,M,L,K){var P;P=this;this.sa=B;this.Vf=C;this.xh=D;this.yc=E;this.xn=G;this.config=F;this.AF=J;this.Yya=M;this.Gla=L;this.ml=K;this.F6b=function(){P.WY.Pj(function(){P.update();});};this.clear=function(){P.entries=[];P.update();};this.y7a=function(){P.Me.sM=!P.Me.sM;P.iC && P.lC && (P.Me.sM?(P.iC.style.display="inline-block",P.lC.style.display="none"):(P.lC.style.display="inline-block",P.iC.style.display="none"));P.XH(!1);};this.vSb=function(H){var I;P.entries.push(H);I=P.config.FM;0 <= I && P.entries.length > I && P.entries.shift();void 0 === P.Me.Nx[H.Km] && (P.Me.Nx[H.Km]=!0,P.XH(!1));P.Me.isVisible && !P.Teb?P.F6b():P.WY.Pj();};this.KEb=function(){f.download("all",P.entries.map(function(H){return H.jba(!1);})).catch(function(H){console.error("Unable to download all logs to the file",H);});};this.RB=!1;this.Me={isVisible:!1,sM:!0,fma:!0,Qra:t.ij.Ida,Nx:{}};this.WY=this.Yya((0,p.uh)(1));this.zHb=this.Gla((0,p.Ob)(250));this.entries=[];!1;!1;}function l(B){var C;this.elements=[];C=document.createElementNS(l.tY,"svg");C.setAttribute("viewBox",B);this.elements.push(C);}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.nIa=void 0;r=a(5163);k=a(22674);d=a(74870);g=a(45842);n=a(34043);h=a(53085);m=a(30869);p=a(5021);q=a(81918);u=a(33554);t=a(87386);w=a(36410);v=a(34126);y=a(52476);x=a(17892);z=a(43193);A=a(44133);f.download=function(B,C){return f.wKb(B).then(function(D){return f.MMb(D,C.join("\r\n")).then(function(E){return f.HEb(E.filename,E.text);});});};f.wKb=function(B){return new Promise(function(C,D){var E,G,F,J,M,L,K;try{E=new Date();G=E.getDate().toString();F=(E.getMonth() + 1).toString();J=E.getFullYear().toString();M=E.getHours().toString();L=E.getMinutes().toString();K=E.getSeconds().toString();1 === G.length && (G="0" + G);1 === F.length && (F="0" + F);1 === M.length && (M="0" + M);1 === L.length && (L="0" + L);1 === K.length && (K="0" + K);C(J + F + G + M + L + K + "." + B + ".log");}catch(P){D(P);}});};f.MMb=function(B,C){return new Promise(function(D,E){try{D({filename:B,text:URL.createObjectURL(new Blob([C],{type:"text/plain"}))});}catch(G){E(G);}});};f.HEb=function(B,C){var D;try{D=document.createElement("a");D.setAttribute("href",C);D.setAttribute("download",B);D.style.display="none";document.body.appendChild(D);D.click();document.body.removeChild(D);return Promise.resolve();}catch(E){return Promise.reject(E);}};l.prototype.tO=function(){var B;B=document.createElementNS(l.tY,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};l.prototype.vO=function(B,C,D){var E;E=document.createElementNS(l.tY,"path");E.setAttribute("d",B);C && E.setAttribute("fill",C);D && E.setAttribute("fill-rule",D);this.addElement(E);return this;};l.prototype.fY=function(B,C,D,E,G){var F;G=void 0 === G?"#000000":G;F=document.createElementNS(l.tY,"rect");F.setAttribute("x",B.toString());F.setAttribute("y",C.toString());F.setAttribute("height",D.toString());F.setAttribute("width",E.toString());G && F.setAttribute("fill",G);this.addElement(F);return this;};l.prototype.g5b=function(){var B;B=document.createElementNS(l.tY,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};l.prototype.end=function(){this.elements.pop();return this;};l.prototype.Ng=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};l.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Ya.Object.defineProperties(l,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},uF:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});l.tY="http://www.w3.org/2000/svg";c.prototype.Db=function(){var B;B=this;this.QB || (this.QB=new Promise(function(C){ob.addEventListener("keydown",function(D){D.ctrlKey && D.altKey && D.shiftKey && (D.keyCode == z.Zz.dmb?B.toggle():D.keyCode == z.Zz.E && A.nDa.Vzb(B.AF().hk));});B.xn.F$(v.eea.Pjb,B.vSb);C();}));return this.QB;};c.prototype.show=function(){document.body && (this.element || (this.JBb(),this.RB=!0),!this.Me.isVisible && this.element && (document.body.appendChild(this.element),this.Me.isVisible=!0,this.update(!0)));};c.prototype.Jv=function(){this.RB && this.Me.isVisible && this.element && (document.body.removeChild(this.element),this.Me.isVisible=!1);};c.prototype.toggle=function(){this.Me.isVisible?this.Jv():this.show();this.XH(!1);};c.prototype.JBb=function(){var B,C;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});C=this.createElement("style");C.type="text/css";C.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(C);B.appendChild(this.Jo=this.BCb());B.appendChild(this.CCb());B.appendChild(this.DBb());this.element=B;}catch(D){console.error("Unable to create the log console",D);}};c.prototype.BCb=function(){var B,C;B=this;C=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");C.setAttribute("wrap","off");C.setAttribute("readonly","readonly");C.addEventListener("focus",function(){B.Teb=!0;B.update();B.Jo && (B.Jo.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});C.addEventListener("blur",function(){B.Teb=!1;B.update();B.Jo && (B.Jo.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return C;};c.prototype.CCb=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.fCb());B.appendChild(this.TBb());B.appendChild(this.OBb());B.appendChild(this.DCb());B.appendChild(this.HBb());B.appendChild(this.mCb());B.appendChild(this.jCb());B.appendChild(this.PBb());B.appendChild(this.IBb());return B;};c.prototype.DBb=function(){var B,C,D,E,G,F;B=this;C=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");D=this.createElement("div","padding:2px");E=this.createElement("select",this.Fv(22,160,1,2),"<option>Select categories</option>");G=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");C.appendChild(D);C.appendChild(G);D.appendChild(E);D.addEventListener("mousedown",function(J){J.preventDefault();});F=!1;D.addEventListener("click",function(){F?G.style.display="none":(G.innerHTML="",["all","none"].concat(Object.keys(B.Me.Nx).sort()).forEach(function(J){G.appendChild(B.EBb(J,D));}),G.style.display="block");F=!F;});return C;};c.prototype.EBb=function(B,C){var D,E,G;D=this;E=this.createElement("label","display: block;margin:1px");E.htmlFor=B;G=this.createElement("input","margin:1px");G.type="checkbox";G.id=B;G.checked=this.Me.Nx[B];G.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(D.Me.Nx).forEach(function(F){D.Me.Nx[F]="all" === B;}),C.click()):D.Me.Nx[B]=!D.Me.Nx[B];D.XH(!0);});E.appendChild(G);E.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return E;};c.prototype.fCb=function(){var B,C;B=this;C=this.createElement("select",this.Fv(22,NaN,1,2),'<option value="' + t.ij.Hk + '">Error</option><option value="' + (t.ij.nga + '">Warn</option><option value="') + (t.ij.Ida + '">Info</option><option value="') + (t.ij.OOa + '">Trace</option><option value="') + (t.ij.K + '">Debug</option>'));C.value=this.Me.Qra.toString();C.addEventListener("change",function(D){B.Me.Qra=parseInt(D.target.value);B.XH(!0);},!1);return C;};c.prototype.TBb=function(){var C,D;function B(E){return C.zHb.Pj(function(){var G;G=E.target.value;C.Me.filter=G?new RegExp(G):void 0;C.XH(!0);});}C=this;D=this.createElement("input",this.Fv(14,150,1,2));D.value=this.Me.filter?this.Me.filter.source:"";D.title="Filter (RegEx)";D.placeholder="Filter (RegEx)";D.addEventListener("keydown",B,!1);D.addEventListener("change",B,!1);return D;};c.prototype.OBb=function(){var B,C,D,E;B=this;C=this.createElement("div",this.Fv(NaN,NaN));D=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");D.id="details";D.type="checkbox";D.title="Details";D.checked=this.Me.fma;D.addEventListener("change",function(G){B.Me.fma=G.target.checked;B.XH(!0);},!1);E=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");E.setAttribute("for","details");E.innerHTML="View details";C.appendChild(D);C.appendChild(E);return C;};c.prototype.DCb=function(){var B,C,D;B=this;C=this.createElement("button",this.Fv());D=new l("0 0 24 24").tO().g5b().end().vO("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",l.uF,"nonzero").end().end().Ng();C.appendChild(D);C.addEventListener("click",function(){B.update();},!1);C.setAttribute("title","Refresh the log console");return C;};c.prototype.HBb=function(){var B,C;B=this.createElement("button",this.Fv());C=new l("0 0 24 24").tO().fY(0,0,24,24,l.background).end().vO("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",l.uF).end().end().Ng();B.appendChild(C);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.mCb=function(){var B;this.lC=this.createElement("button",this.Fv());this.lC.style.display=this.Me.sM?"none":"inline-block";B=new l("0 0 24 24").tO().fY(0,0,24,24,l.background).end().vO("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",l.uF,"nonzero").end().end().Ng();this.lC.addEventListener("click",this.y7a,!1);this.lC.appendChild(B);this.lC.setAttribute("title","Shrink the log console");return this.lC;};c.prototype.jCb=function(){var B;this.iC=this.createElement("button",this.Fv());this.iC.style.display=this.Me.sM?"inline-block":"none";B=new l("0 0 24 24").tO().fY(4,4,16,16,l.background).end().vO("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",l.uF,"nonzero").end().end().Ng();this.iC.addEventListener("click",this.y7a,!1);this.iC.appendChild(B);this.iC.setAttribute("title","Expand the log console");return this.iC;};c.prototype.PBb=function(){var B,C;B=this.createElement("button",this.Fv());C=new l("0 0 26 26").tO().fY(0,0,24,24,l.background).end().vO("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",l.uF,"nonzero").end().end().Ng();B.appendChild(C);B.addEventListener("click",this.KEb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.IBb=function(){var B,C,D;B=this;C=this.createElement("button",this.Fv());D=new l("0 0 24 24").tO().fY(0,0,24,24,l.background).end().vO("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",l.uF,"nonzero").end().end().Ng();C.appendChild(D);C.addEventListener("click",function(){B.toggle();},!1);C.setAttribute("title","Close the log console");return C;};c.prototype.XH=function(B){var C;B=void 0 === B?!1:B;C=void 0 === C?!1:C;!1;B && this.update(C);};c.prototype.update=function(B){var C;C=this;B=void 0 === B?!1:B;this.element && this.config.pX && Promise.resolve(this.Wwb() + this.xKb().join("\r\n")).then(function(D){C.element && C.Jo && (C.Jo.value=D,C.element.style.cssText=C.Me.sM?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && C.yc.vk(p.Ia,function(){C.Jo.scrollTop=C.Jo.scrollHeight;}));}).catch(function(D){console.error("Unable to update the log console",D);});};c.prototype.xKb=function(){var B,C;B=this;C=[];this.entries.forEach(function(D){(D.level || D.level) <= B.Me.Qra && B.Me.Nx[D.Km] && (D=D.jba(!B.Me.fma),B.Me.filter && !B.Me.filter.test(D) || C.push(D));});return C;};c.prototype.Wwb=function(){var B;B=this.AF();return "Version: 6.0043.369.911 \n" + ((B?"Esn: " + B.hk:"") + "\nJsSid: ") + (this.Vf.id + ", Epoch: " + this.sa.ke.ea(p.xm) + ", Start: " + this.Vf.Gy.ea(p.xm) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,C,D,E){return this.xh.createElement(B,C,D,E);};c.prototype.Fv=function(B,C,D,E){B=void 0 === B?26:B;C=void 0 === C?26:C;return "display:inline-block;border:" + (void 0 === D?0:D) + "px solid " + l.uF + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(C)?"":"width:" + C + "px") + ";margin:0px 3px;background-color:transparent;" + (E?"border-radius:" + E + "px;":"");};a=c;a.r5b="logDxDisplay";a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(m.cg)),r.__param(1,(0,k.l)(q.Lc)),r.__param(2,(0,k.l)(d.dh)),r.__param(3,(0,k.l)(h.Vh)),r.__param(4,(0,k.l)(w.hJ)),r.__param(5,(0,k.l)(y.mIa)),r.__param(6,(0,k.l)(u.Rw)),r.__param(7,(0,k.l)(g.ZD)),r.__param(8,(0,k.l)(n.k_)),r.__param(9,(0,k.l)(x.Kw))],a);b.nIa=a;},72574:function(r,b,a){var f;function c(){return f.QQ.apply(this,arguments) || this;}function l(k){return new f.Bs(k,b.pD);}Object.defineProperty(b,"__esModule",{value:!0});b.Ia=b.vJa=b.Vda=b.rs=b.pD=b.LTb=b.aRb=b.xa=b.Vq=b.hjb=void 0;f=a(35201);da(c,f.QQ);b.hjb=c;b.Vq=l;b.xa=function(k){return new f.Bs(k,b.rs);};b.aRb=function(k){return new f.Bs(k,b.Vda);};b.LTb=function(k){return new f.Bs(k,b.vJa);};b.pD=new c(1,"b");b.rs=new c(8 * b.pD.bg,"B",b.pD);b.Vda=new c(1024 * b.rs.bg,"KB",b.pD);b.vJa=new c(1024 * b.Vda.bg,"MB",b.pD);b.Ia=l(0);},5021:function(r,b,a){var f;function c(){return f.QQ.apply(this,arguments) || this;}function l(k){return new f.Bs(k,b.pa);}Object.defineProperty(b,"__esModule",{value:!0});b.Ia=b.BGa=b.yea=b.xm=b.pa=b.OD=b.timestamp=b.fOb=b.V8=b.uh=b.Ob=b.t$a=b.TTb=b.kpb=void 0;f=a(35201);da(c,f.QQ);b.kpb=c;b.TTb=function(k){return new f.Bs(k,b.OD);};b.t$a=function(k){return new f.Bs(k * b.xm.bg,b.OD);};b.Ob=l;b.uh=function(k){return new f.Bs(k,b.xm);};b.V8=function(k){return new f.Bs(k,b.yea);};b.fOb=function(k){return new f.Bs(k,b.BGa);};b.timestamp=function(k){return l(k);};b.OD=new c(1,"\u03bcs");b.pa=new c(1E3,"ms",b.OD);b.xm=new c(1E3 * b.pa.bg,"s",b.OD);b.yea=new c(60 * b.xm.bg,"min",b.OD);b.BGa=new c(60 * b.yea.bg,"hr",b.OD);b.Ia=l(0);},35201:function(r,b,a){var f;function c(k,d){this.bg=d;this.My=Math.floor(k);this.display=this.My + " " + this.bg.name;}function l(k,d,g){this.bg=k;this.name=d;this.zp=g?g:this;(0,f.po)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Bs=b.QQ=void 0;f=a(66523);l.prototype.FT=function(k){return this.bg == k.bg;};l.prototype.toJSON=function(){return this.name;};b.QQ=l;c.prototype.ea=function(k){return this.bg.FT(k)?this.My:Math.floor(this.My * this.bg.bg / k.bg);};c.prototype.s$a=function(k){return this.bg.FT(k)?this.My:this.My * this.bg.bg / k.bg;};c.prototype.as=function(k){return new c(this.ea(k),k);};c.prototype.to=function(k){return new c(this.ea(k),k);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.My,units:this.bg.name};};c.prototype.add=function(k){return this.hWa(k);};c.prototype.qa=function(k){return this.hWa(k,function(d){return -d;});};c.prototype.scale=function(k){return new c(this.ea(this.bg.zp) * k,this.bg.zp);};c.prototype.Qk=function(k){return this.ea(this.bg.zp) - k.ea(this.bg.zp);};c.prototype.FT=function(k){return 0 == this.Qk(k);};c.prototype.T4a=function(){return 0 == this.My;};c.prototype.Sqa=function(){return 0 > this.My;};c.prototype.I4a=function(){return 0 < this.My;};c.prototype.hWa=function(k,d){d=void 0 === d?function(g){return g;}:d;return new c(this.ea(this.bg.zp) + d(k.ea(this.bg.zp)),this.bg.zp);};b.Bs=c;},4203:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sm={qfc:"casttv",yka:"chrome",wfc:"chromecast",Ip:"edge",PYa:"edgeoss",v_a:"firefox",mhc:"ie",opera:"opera",Rbb:"safari",Qeb:"tesla"};b.Gn={Uia:"android",h4a:"ios",JVa:"chromeos",N5a:"linux",o6a:"mac",tAa:"windows"};b.r0={xzb:"computer",phone:"phone",p6b:"tablet"};b.Yb="ConfigSymbol";},12501:function(r,b,a){var k,d,g;function c(n){return function(h,m){return h.Xva(m,n);};}function l(n,h){return n.w$.s_b[h] || f(n,h);}function f(n,h){n=n.vy.data[h];switch(typeof n){case "undefined":break;case "string":case "number":case "boolean":return n.toString();default:return JSON.stringify(n);}}Object.defineProperty(b,"__esModule",{value:!0});b.XE=b.fwa=b.object=b.yGb=b.url=b.xa=b.pk=b.Eza=b.vPb=b.BO=b.string=b.Dz=b.bd=b.TB=b.config=void 0;k=a(72574);d=a(5021);g=a(37187);b.config=function(n,h,m){m=void 0 === m?!1:m;return function(p,q,u){var t,w;t=void 0 !== h?h:q;w=u.get;void 0 !== w && (u.get=function(){var v;if(!this.oQb(q))return this.kMb(q);a:{v=(this.Dub || m?l:f)(this,t.toString());if(void 0 !== v)if((v=n(this.rW,v),v instanceof g.Vo))this.L_a(t,v);else break a;v=w.bind(this)();}this.Lwa(q,v);return v;});return u;};};b.TB=function(n,h){return n.qab(h);};b.bd=function(n,h){return n.Uva(h);};b.Dz=function(n,h){return n.mq(h);};b.string=function(n,h){return n.Xva(h);};b.BO=function(n,h){return n.Hj(h,b.string);};b.vPb=function(n,h){return n.Hj(h,b.TB);};b.Eza=function(n,h){return n.Hj(h,b.Dz);};b.pk=function(n,h){n=n.mq(h);return n instanceof g.Vo?n:(0,d.Ob)(n);};b.xa=function(n,h){n=n.mq(h);return n instanceof g.Vo?n:(0,k.xa)(n);};b.url=c(/^\S+$/);b.yGb=function(n){return function(h,m){return h.pab(m,n);};};b.object=function(){return function(n,h){return n.rab(h);};};b.fwa=c;b.XE=function(n,h){return function(m,p){return m.Hj(p,n,h);};};},83767:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oca="ConfigurableInputsSymbol";b.zl="ValidatingConfigurableInputsSymbol";b.WZ="ConfigNameSymbol";b.YP="InitParamsSymbol";},34231:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dn=b.Ju=b.Uw=void 0;(function(a){a[a.SOa=0]="Test";a[a.wHa=1]="Int";a[a.apb=2]="Staging";a[a.rob=3]="Prod";})(b.Uw || (b.Uw={}));(function(a){a[a.CQ=0]="PreferMsl";a[a.QMa=1]="PreferNoMsl";a[a.Zmb=2]="NoMsl";})(b.Ju || (b.Ju={}));b.Dn="GeneralConfigSymbol";},5614:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uJ="PlatformConfigDefaultsSymbol";},27081:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.cfa=void 0;c=a(5021);l=a(72574);f=a(75568);k={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.cfa=function(){this.Bxa=!0;this.ZE=[];this.Qh=[];this.Dr=[];this.iL=!1;this.wma=!0;this.ou=[f.ym.nlb,f.ym.Qca,f.ym.Lob,f.ym.lJ];this.Yl=void 0;this.Ima=!0;this.i5=!1;this.f3=(0,l.xa)(288E4);this.i3=(0,l.xa)(335544320);this.h3=(0,l.xa)(1E4);this.Oy=(0,c.Ob)(15E3);this.jTb=(0,l.xa)(6291456);this.FM=1E3;this.fka=!0;this.hba=k;this.LO=(0,l.xa)(0);this.e7=("ro zh-Hans zh-Hant vi ar he hi th ta te").split(" ");this.f7=("ro zh-Hans zh-Hant ko vi ar he hi th ta te").split(" ");this.c8=["th","ta"];this.kba=(0,c.Ob)(0);this.SU=!0;this.wba=!1;this.lL=!0;this.FI=this.qB=this.vv=!1;this.sF=["start"];};},52033:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KLa="PlatformConfigOverridesSymbol";},83810:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(22674);c=a(4203);l=a(80217);f=a(83767);k=a(34231);d=a(33823);g=a(48004);n=a(40158);h=a(69484);m=a(34731);p=a(23563);q=a(18135);b.config=new r.gd(function(u){u(c.Yb).ae(function(){return function(){return ob._cad_global.config;};});u(f.Oca).to(l.uDa).ha();u(f.zl).to(l.FPa).ha();u(f.YP).to(l.sHa).ha();u(k.Dn).to(d.FFa).ha();u(g.TJa).to(n.SJa).ha();u(h.zFa).to(m.yFa).ha();u(p.Aq).to(q.WEa).ha();});},64174:function(r,b,a){var f,k,d,g;function c(n,h){var m;m=g.call(this,n,h) || this;m.AWa=h;m.debug=n.debug;m.ma=n.Df.ab(m.AWa);return m;}function l(n,h){this.AWa=h;this.Fva={};this.vy=n.vy;this.rW=n.rW;this.w$=n.w$;}Object.defineProperty(b,"__esModule",{value:!0});b.Qe=b.tP=b.NOa=void 0;r=a(5163);f=a(72465);k=a(22674);d=a(37187);b.NOa="isTestAccount";l.prototype.L_a=function(){};l.prototype.Lwa=function(n,h){this.Fva[n]=[h,this.vy.T$];};l.prototype.oQb=function(n){return f.Jea.of(this.Fva[n]).map(function(h){return h[1];}).or(-1) < this.vy.T$;};l.prototype.kMb=function(n){return f.Jea.of(this.Fva[n]).map(function(h){return h[0];}).or(function(){throw Error("Invalid State Error");});};Ya.Object.defineProperties(l.prototype,{Dub:{configurable:!0,enumerable:!0,get:function(){var n,h;if(this && this.vy && this.vy.data){n=this.vy.data[b.NOa];"undefined" !== typeof n && (h=n.toString());n=this.rW.Uva(h);n=n instanceof d.Vo?!1:n;}else n=!1;return n;}}});g=l;g=r.__decorate([(0,k.U)(),r.__param(0,(0,k.Bn)()),r.__param(1,(0,k.Bn)())],g);b.tP=g;da(c,g);c.prototype.L_a=function(n,h){this.ma.error("Invalid configuration value.",{name:n},h);this.debug.assert(!1);};a=c;a=r.__decorate([r.__param(0,(0,k.Bn)()),r.__param(1,(0,k.Bn)())],a);b.Qe=a;},80217:function(r,b,a){var k,d,g,n,h;function c(){this.by={};this.Kbb=0;}function l(m,p,q,u,t){this.debug=m;this.vy=p;this.rW=q;this.Df=u;this.w$=t;}function f(m,p,q){this.vy=m;this.rW=p;this.w$=q;}Object.defineProperty(b,"__esModule",{value:!0});b.sHa=b.FPa=b.uDa=void 0;r=a(5163);k=a(22674);d=a(90597);g=a(87386);n=a(37187);h=a(17842);a=a(83767);f=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.YP)),r.__param(1,(0,k.l)(n.v1)),r.__param(2,(0,k.l)(h.Afa))],f);b.uDa=f;l=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.Ow)),r.__param(1,(0,k.l)(a.YP)),r.__param(2,(0,k.l)(n.v1)),r.__param(3,(0,k.l)(g.bb)),r.__param(4,(0,k.l)(h.Afa))],l);b.FPa=l;c.prototype.QTb=function(m){this.by=Object.assign({},this.by,m);this.Kbb++;};Ya.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.by;}},T$:{configurable:!0,enumerable:!0,get:function(){return this.Kbb;}}});a=c;a=r.__decorate([(0,k.U)()],a);b.sHa=a;},33823:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q,u){p=d.Qe.call(this,p,void 0 === u?"GeneralConfigImpl":u) || this;p.Aj=q;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.FFa=b.sL=void 0;r=a(5163);l=a(5021);f=a(22674);k=a(12501);d=a(64174);g=a(34231);n=a(83767);a=a(5614);h={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.sL=function(p,q){return p.pab(h[q] || q,g.Uw);};da(c,d.Qe);Ya.Object.defineProperties(c.prototype,{sL:{configurable:!0,enumerable:!0,get:function(){return g.Uw.rob;}},eeb:{configurable:!0,enumerable:!0,get:function(){return (0,l.uh)(8);}},kG:{configurable:!0,enumerable:!0,get:function(){return "";}},EK:{configurable:!0,enumerable:!0,get:function(){return "";}},RY:{configurable:!0,enumerable:!0,get:function(){return "";}},d3:{configurable:!0,enumerable:!0,get:function(){return !0;}},SU:{configurable:!0,enumerable:!0,get:function(){return this.Aj.SU;}},PGb:{configurable:!0,enumerable:!0,get:function(){return !1;}},qd:{configurable:!0,enumerable:!0,get:function(){return {};}},dra:{configurable:!0,enumerable:!0,get:function(){return !1;}},js:{configurable:!0,enumerable:!0,get:function(){return !1;}},AT:{configurable:!0,enumerable:!0,get:function(){return !0;}},XC:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},iy:{configurable:!0,enumerable:!0,get:function(){return 0 <= [g.Uw.SOa,g.Uw.wHa].indexOf(this.sL);}}});m=c;r.__decorate([k.config(b.sL,"environment")],m.prototype,"sL",null);r.__decorate([k.config(k.pk,"storageTimeout")],m.prototype,"eeb",null);r.__decorate([k.config(k.string,"groupName")],m.prototype,"kG",null);r.__decorate([k.config(k.string,"canaryGroupName",!0)],m.prototype,"EK",null);r.__decorate([k.config(k.string,"uiGroupName")],m.prototype,"RY",null);r.__decorate([k.config(k.bd,"applyIndexedDbOpenWorkaround")],m.prototype,"d3",null);r.__decorate([k.config(k.bd,"ignoreIdbOpenError")],m.prototype,"SU",null);r.__decorate([k.config(k.bd,"executeStorageMigration")],m.prototype,"PGb",null);r.__decorate([k.config(k.object(),"browserInfo")],m.prototype,"qd",null);r.__decorate([k.config(k.bd,"isTestAccount")],m.prototype,"dra",null);r.__decorate([k.config(k.bd,"useRangeHeader")],m.prototype,"js",null);r.__decorate([k.config(k.bd,"enableMilestoneEventList")],m.prototype,"AT",null);r.__decorate([k.config(k.object,"storageRules")],m.prototype,"XC",null);m=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(n.zl)),r.__param(1,(0,f.l)(a.uJ)),r.__param(2,(0,f.l)(n.WZ)),r.__param(2,(0,f.optional)())],m);b.FFa=m;},41605:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dDa="CapabilityDetectorFactorySymbol";},22210:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.vd=void 0;b.vd=a;a.cGa=/^hevc-/;a.dGa=/^hevc-main/;a.aGa=/^hevc-hdr-|hevc-dv/;a.bJ=/^hevc-hdr-/;a.Eu=/^hevc-dv/;a.NP=/h264mpl/;a.xD=/h264mpl30/;a.yD=/h264mpl31/;a.Pz=/h264hpl.*-dash$/;a.KAa=/h264hpl.*-live$/;a.jA=/^vp9-/;a.Fi=/^av1-/;a.Zkb=/[l|L]4[0-1]-/;a.CJ=/-L5[0-1]-/;a.KHa=/-live/;a.Wba=/^heaac-2-/;a.ilb=/^heaac-2hq-dash/;a.qx=/^xheaac-dash/;a.Gjb=/ddplus-2/;a.Hjb=/ddplus-5/;a.Ijb=/ddplus-atmos/;},73796:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.fd=void 0;l=a(56800);c.uXa=function(f){var k;k={};k[l.Re.FQ]=c.NP;k[l.Re.I_]=c.NP;k[l.Re.CJ]=c.H_;k[l.Re.bJ]=c.bJ;k[l.Re.Eu]=f || c.Eu;k[l.Re.Pz]=c.NP;k[l.Re.jA]=c.RQ;k[l.Re.Fi]=c.Fi;return k;};b.fd=c;c.Ssa='video/mp4; codecs="avc1.4d0028"';c.NP="avc1.4d0028";c.H_="hev1.1.6.L93.B0";c.Sca="dvhe.05.01";c.PDa="dvhe.05.04";c.Tca="dvhe.05.05";c.Uca="dvhe.05.06";c.Vca="dvhe.05.07";c.Wca="dvhe.05.09";c.Eu=c.Sca;c.bJ=c.H_;c.Wba="mp4a.40.2";c.qx="mp4a.40.42";c.Fjb="ec-3";c.RQ="vp09.00.11.08.02";c.Fi="av01.0.04M.08";},51259:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D;Object.defineProperty(b,"__esModule",{value:!0});b.Qm=void 0;r=a(22674);c=a(56800);l=a(4203);f=a(98960);k=a(1079);d=a(95162);g=a(57718);n=a(16152);h=a(79974);m=a(57657);p=a(41605);q=a(43466);u=a(22365);t=a(12931);w=a(43551);v=a(28185);y=a(6600);x=a(94800);z=a(74742);A=a(18580);B=a(63368);C=a(33430);D=a(78866);b.Qm=new r.gd(function(E){E(d.IQ).to(g.mOa).ha();E(c.Qw).to(f.cEa).ha();E(n.BHa).to(h.AHa).ha();E(p.dDa).to(q.cDa).ha();E(n.LLa).pl({isTypeSupported:u.bA && u.bA.isTypeSupported});E(m.pFa).bD(function(G){return {uKb:function(){return G.ob.get(B.U0);}};});E(k.UI).bD(function(G){return G.ob.get(l.Yb);});E(t.dJa).to(w.aJa).ha();E(C.$Ia).to(D.ZIa).ha();E(v.cJa).to(y.bJa).ha();E(x.rda).to(z.oFa).ha();E(A.ZMa).pl(ob);});},56800:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qw=b.PPa=b.ppb=b.So=b.Re=b.Al=b.Bu=b.u=void 0;(function(a){a[a.Audio=0]="Audio";a[a.HPa=1]="Video";})(b.u || (b.u={}));(function(a){a[a.Pw=0]="Default";a[a.bx=1]="Microsoft";})(b.Bu || (b.Bu={}));(function(a){a[a.Pw=0]="Default";a[a.TI=1]="Chrome";a[a.bx=2]="Microsoft";})(b.Al || (b.Al={}));(function(a){a[a.FQ=0]="SD";a[a.I_=1]="HD";a[a.CJ=2]="UHD";a[a.Eu=3]="DV";a[a.bJ=4]="HDR10";a[a.Pz=5]="AVCHigh";a[a.jA=6]="VP9";a[a.Fi=7]="AV1";})(b.Re || (b.Re={}));(function(a){a[a.z0=0]="Level_1_4";a[a.HD=1]="Level_2_2";})(b.So || (b.So={}));b.ppb=function(){};(function(a){a[a.mdc=0]="Platform";a[a.Fac=1]="CurrentTitle";})(b.PPa || (b.PPa={}));b.Qw="DeviceCapabilitiesSymbol";},1079:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.UI=b.vkb=void 0;c=a(56800);b.vkb=function(){this.ZE=[];this.Qh=[];this.Dr=[];this.pTa=[];this.pja=c.Bu.Pw;this.Gba=c.Al.Pw;};b.UI="DeviceCapabilitiesConfigSymbol";},94800:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rda=b.Ww=void 0;r=b.Ww || (b.Ww={});r.npb="unknown";r.LAa="absent";r.YMa="present";r.Error="error";b.rda="ExternalDisplayLogHelperSymbol";},57657:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pFa="ExtraPlatformInfoProviderSymbol";},16152:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BHa="IsTypeSupportedProviderFactorySymbol";b.LLa="PlatformIsTypeSupportedSymbol";},17612:function(r,b,a){var l,f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.VI=b.hb=void 0;l=a(53921);f=a(31149);k=a(36129);c.hU=function(d){if(d){if(d.includes(b.VI.$y))return l.Gk.$y;if(d.includes("fps"))return l.Gk.zB;if(d.includes(b.VI.nZ))return l.Gk.nZ;}throw new f.Mc(k.V.Kkb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.poa=function(d){switch(d){case l.Gk.$y:return b.VI.$y;case l.Gk.zB:return b.VI.zB;default:return b.VI.nZ;}};b.hb=c;c.ix="com.microsoft.playready";c.wd="com.microsoft.playready.hardware";c.SD="com.microsoft.playready.software";c.alb="com.apple.fps.2_0";c.UQ="com.widevine.alpha";c.YPa="com.widevine.alpha.experiment";c.efa="com.microsoft.playready.recommendation.3000";c.RLa="com.microsoft.playready.recommendation.2000";c.IGa=[c.efa];b.VI={zB:"fairplay",nZ:"widevine",$y:"playready"};},12931:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dJa="MediaCapabilitiesSymbol";},33430:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ia="MediaCapabilitiesDetectorSymbol";},28185:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cJa="MediaCapabilitiesLogHelperSymbol";},75568:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H={xD:"playready-h264mpl30-dash",yD:"playready-h264mpl31-dash",G_:"playready-h264mpl40-dash",MFa:"h264mpl30-dash-playready-prk-qc",NFa:"h264mpl31-dash-playready-prk-qc",OFa:"h264mpl40-dash-playready-prk-qc",KFa:"playready-h264hpl22-dash",A_:"playready-h264hpl30-dash",C_:"playready-h264hpl31-dash",E_:"playready-h264hpl40-dash",LFa:"h264hpl22-dash-playready-live",B_:"h264hpl30-dash-playready-live",D_:"h264hpl31-dash-playready-live",F_:"h264hpl40-dash-playready-live",jga:"vp9-profile0-L21-dash-cenc",D1:"vp9-profile0-L30-dash-cenc",E1:"vp9-profile0-L31-dash-cenc",SQ:"vp9-profile0-L40-dash-cenc",yda:"hevc-main10-L30-dash-cenc",zda:"hevc-main10-L31-dash-cenc",Ada:"hevc-main10-L40-dash-cenc",Bda:"hevc-main10-L41-dash-cenc",QP:"hevc-main10-L50-dash-cenc",RP:"hevc-main10-L51-dash-cenc",b0:"hevc-main10-L30-dash-cenc-prk",e0:"hevc-main10-L31-dash-cenc-prk",h0:"hevc-main10-L40-dash-cenc-prk",k0:"hevc-main10-L41-dash-cenc-prk",c0:"hevc-main10-L30-dash-cenc-prk-do",f0:"hevc-main10-L31-dash-cenc-prk-do",i0:"hevc-main10-L40-dash-cenc-prk-do",l0:"hevc-main10-L41-dash-cenc-prk-do",n0:"hevc-main10-L50-dash-cenc-prk-do",p0:"hevc-main10-L51-dash-cenc-prk-do",a0:"hevc-main10-L30-dash-cenc-live",d0:"hevc-main10-L31-dash-cenc-live",g0:"hevc-main10-L40-dash-cenc-live",j0:"hevc-main10-L41-dash-cenc-live",m0:"hevc-main10-L50-dash-cenc-live",o0:"hevc-main10-L51-dash-cenc-live",$Z:"hevc-dv5-main10-L30-dash-cenc-prk",b_:"hevc-dv5-main10-L31-dash-cenc-prk",FP:"hevc-dv5-main10-L40-dash-cenc-prk",e_:"hevc-dv5-main10-L41-dash-cenc-prk",g_:"hevc-dv5-main10-L50-dash-cenc-prk",i_:"hevc-dv5-main10-L51-dash-cenc-prk",Xca:"hevc-dv5-main10-L40-dash-cenc-prk-qc",Yca:"hevc-dv5-main10-L41-dash-cenc-prk-qc",Zca:"hevc-dv5-main10-L50-dash-cenc-prk-qc",$ca:"hevc-dv5-main10-L51-dash-cenc-prk-qc",a_:"hevc-dv5-main10-L30-dash-cenc-prk-do",c_:"hevc-dv5-main10-L31-dash-cenc-prk-do",d_:"hevc-dv5-main10-L40-dash-cenc-prk-do",f_:"hevc-dv5-main10-L41-dash-cenc-prk-do",h_:"hevc-dv5-main10-L50-dash-cenc-prk-do",j_:"hevc-dv5-main10-L51-dash-cenc-prk-do",K_:"hevc-hdr-main10-L30-dash-cenc-prk",N_:"hevc-hdr-main10-L31-dash-cenc-prk",PP:"hevc-hdr-main10-L40-dash-cenc-prk",S_:"hevc-hdr-main10-L41-dash-cenc-prk",V_:"hevc-hdr-main10-L50-dash-cenc-prk",Y_:"hevc-hdr-main10-L51-dash-cenc-prk",L_:"hevc-hdr-main10-L30-dash-cenc-prk-do",O_:"hevc-hdr-main10-L31-dash-cenc-prk-do",Q_:"hevc-hdr-main10-L40-dash-cenc-prk-do",T_:"hevc-hdr-main10-L41-dash-cenc-prk-do",W_:"hevc-hdr-main10-L50-dash-cenc-prk-do",Z_:"hevc-hdr-main10-L51-dash-cenc-prk-do",J_:"hevc-hdr-main10-L30-dash-cenc-live",M_:"hevc-hdr-main10-L31-dash-cenc-live",P_:"hevc-hdr-main10-L40-dash-cenc-live",R_:"hevc-hdr-main10-L41-dash-cenc-live",U_:"hevc-hdr-main10-L50-dash-cenc-live",X_:"hevc-hdr-main10-L51-dash-cenc-live",EAa:"av1-main-L20-dash-cbcs-prk",FAa:"av1-main-L21-dash-cbcs-prk",yu:"av1-main-L30-dash-cbcs-prk",zu:"av1-main-L31-dash-cbcs-prk",Nz:"av1-main-L40-dash-cbcs-prk",Oz:"av1-main-L41-dash-cbcs-prk",AZ:"av1-main-L50-dash-cbcs-prk",BZ:"av1-main-L51-dash-cbcs-prk"};b.Cc={OZ:[b.H.xD,b.H.yD,b.H.G_],wZ:[b.H.A_,b.H.C_,b.H.E_],vZ:[b.H.B_,b.H.D_,b.H.F_],Xba:[b.H.D1,b.H.E1,b.H.SQ],TZ:[b.H.yda,b.H.zda,b.H.Ada,b.H.Bda,b.H.QP,b.H.RP],RZ:[b.H.b0,b.H.e0,b.H.h0,b.H.k0,b.H.QP,b.H.RP],SZ:[b.H.c0,b.H.f0,b.H.i0,b.H.l0,b.H.n0,b.H.p0],Hca:[b.H.a0,b.H.d0,b.H.g0,b.H.j0,b.H.m0,b.H.o0],PZ:[b.H.K_,b.H.N_,b.H.PP,b.H.S_,b.H.V_,b.H.Y_],QZ:[b.H.L_,b.H.O_,b.H.Q_,b.H.T_,b.H.W_,b.H.Z_],Gca:[b.H.J_,b.H.M_,b.H.P_,b.H.R_,b.H.U_,b.H.X_],KCa:[b.H.$Z,b.H.FP,b.H.g_,b.H.b_,b.H.e_,b.H.i_],LCa:[b.H.a_,b.H.d_,b.H.h_,b.H.c_,b.H.f_,b.H.j_],MCa:[b.H.yu,b.H.zu,b.H.Nz,b.H.Oz,b.H.AZ,b.H.BZ]};b.Ed={zD:"heaac-2-dash",$_:"heaac-5.1-dash",AD:"heaac-2hq-dash",qx:"xheaac-dash",DP:"ddplus-2.0-dash",YZ:"ddplus-5.1-dash",EP:"ddplus-atmos-dash"};b.ym={Lob:"simplesdh",Qca:"dfxp-ls-sdh",G1:"webvtt-lssdh-ios8",nlb:"imsc1.1",lJ:"nflx-cmisc"};},18580:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZMa="PresentationAPISymbol";},95162:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IQ="SourceBufferTypeProviderSymbol";},43466:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z;function c(A,B,C,D,E,G,F,J,M,L){this.P4a=A;this.config=B;this.yc=C;this.sa=D;this.is=E;this.so=G;this.Zl=F;this.platform=J;this.kc=M;this.Qy=L;}Object.defineProperty(b,"__esModule",{value:!0});b.cDa=void 0;r=a(5163);l=a(22674);f=a(56800);k=a(16152);d=a(1079);g=a(92049);n=a(75456);h=a(46286);m=a(31741);p=a(53085);q=a(30869);u=a(42207);t=a(5180);w=a(21103);v=a(87386);y=a(91581);x=a(2248);a=a(33430);c.prototype.zBb=function(A){var B;B=this.P4a.iXa();switch(A){case f.Bu.bx:return new g.BJa(this.config,B,this.is,this.platform,this.Qy);default:return new m.m_(this.config,B,this.Qy);}};c.prototype.GCb=function(A){var B;B=this.P4a.iXa();switch(A){case f.Al.TI:A=new t.kDa(this.config,B,this.is,this.so,this.Zl,this.sa,this.Qy);break;case f.Al.bx:A=new n.KIa(this.config,B,this.is,this.yc,this.sa,this.Zl,this.kc,this.Qy,this.so);break;default:A=new h.Vz(this.config,B,this.is,this.Qy);}return A;};z=c;z=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.BHa)),r.__param(1,(0,l.l)(d.UI)),r.__param(2,(0,l.l)(p.Vh)),r.__param(3,(0,l.l)(q.cg)),r.__param(4,(0,l.l)(u.Uf)),r.__param(5,(0,l.l)(w.ax)),r.__param(6,(0,l.l)(v.bb)),r.__param(7,(0,l.l)(y.Hn)),r.__param(8,(0,l.l)(x.$g)),r.__param(9,(0,l.l)(a.$Ia))],z);b.cDa=z;},65264:function(r,b,a){var l,f,k,d,g;function c(n,h,m,p){this.config=n;this.uo=h;this.mediaType=m;this.Qy=p;this.Ksa={};this.Ksa[l.u.Audio]="audio";this.Ksa[l.u.HPa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.tD=void 0;l=a(56800);r=a(57180);f=a(22210);k=a(22365);d=a(7802);g=new r.YD().format;c.prototype.m2a=function(n){return this.mEb(this.XLb(this.U1a(),n));};c.prototype.hF=function(n){return this.uo.isTypeSupported(n);};c.prototype.$Jb=function(){return [f.vd.Wba,f.vd.ilb,f.vd.xD,f.vd.yD];};c.prototype.jPb=function(){this.Ao=[];this.au=[];this.config().iXb && this.au.push(f.vd.qx);this.config().p9a && this.au.push(f.vd.dGa);this.config().o9a && this.au.push(f.vd.aGa);this.config().n9a && this.au.push(f.vd.Eu);this.config().l9a && this.au.push(f.vd.Pz);this.config().m9a && this.au.push(f.vd.KAa);this.config().q9a && this.au.push(f.vd.jA);this.config().k9a && this.au.push(f.vd.Fi);this.au=this.au.concat(this.$Jb());!this.config().eGb && this.Ao.push(f.vd.qx);!this.config().dZa && this.Ao.push(f.vd.Gjb);!this.config().cZa && this.Ao.push(f.vd.Hjb);!this.config().kL && this.Ao.push(f.vd.Ijb);!this.config().RFb && this.Ao.push(/prk$/);this.config().n9a || this.config().AFb || this.Ao.push(f.vd.Eu);this.config().p9a || this.config().FFb || this.Ao.push(f.vd.dGa);this.config().o9a || this.config().zma || this.Ao.push(f.vd.aGa);this.config().l9a || this.config().iL || this.Ao.push(f.vd.Pz);this.config().m9a || this.config().wma || this.Ao.push(f.vd.KAa);this.config().q9a || this.config().aGb || this.Ao.push(f.vd.jA);this.config().k9a || this.config().rFb || this.Ao.push(f.vd.Fi);!this.config().$Fb && this.Ao.push(f.vd.CJ);};c.prototype.XLb=function(n,h){var m;m=k.Ee.hardwareConcurrency && k.Ee.hardwareConcurrency;return n.filter(function(p){return void 0 !== p.minimumCores && m < p.minimumCores || void 0 !== p.restrictToUILabels && (void 0 === (null === h || void 0 === h?void 0:h.Cd) || !p.restrictToUILabels.includes(h.Cd))?!1:!0;}).map(function(p){return p.name;});};c.prototype.KT=function(n){var h,m;h=this;m=n.map(function(p){for(var q=ja(h.au),u=q.next();!u.done;u=q.next()){if(u.value.test(p))return Promise.resolve({supported:!0});}q=ja(h.Ao);for(u=q.next();!u.done;u=q.next()){if(u.value.test(p))return Promise.resolve({supported:!1,reason:"excluded"});}return h.JT(p).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(m).then(function(p){return new d.X0(n,p);});};c.prototype.JT=function(n){var h;h=this;return this.Zqa(n).then(function(m){return m.supported?h.config().NFb?h.Qy.JT(n):h.mna(n):m;});};c.prototype.mna=function(n){var h;n=this.cX[n];h="";return n?(Array.isArray(n) && (h=1 < n.length?" " + n[1]:"",n=n[0]),n=g("{0}/mp4;codecs={1};{2}",this.Ksa[this.mediaType],n,h),this.hF(n)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};c.prototype.mEb=function(n){this.jPb();return this.KT(n);};c.prototype.Zqa=function(){return Promise.resolve({supported:!0});};Ya.Object.defineProperties(c.prototype,{cX:{configurable:!0,enumerable:!0,get:function(){this.NRa || (this.NRa=this.ar());return this.NRa;}}});b.tD=c;},5180:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p,q,u,t,w){h=l.Vz.call(this,h,m,p,w) || this;h.so=q;h.Zl=u;h.sa=t;h.Qy=w;h.type=f.Al.TI;h.log=h.Zl.ab("ChromeVideoCapabilityDetector");return h;}Object.defineProperty(b,"__esModule",{value:!0});b.kDa=void 0;l=a(46286);f=a(56800);k=a(5021);d=a(82100);g=a(22210);n=a(17612);da(c,l.Vz);c.prototype.jI=function(h){switch(h){case f.So.HD:return this.e6b;default:return Promise.resolve(!1);}};c.prototype.uU=function(){var h;h=this;return this.jI(f.So.HD).then(function(m){return m?f.So.HD:void 0;}).then(function(m){return h.o4(m);});};c.prototype.wia=function(h){this.fq=h;};c.prototype.IQb=function(h){var m;return !(null === (m=h.getConfiguration().videoCapabilities) || void 0 === m || !m.some(function(p){return (null === p || void 0 === p?void 0:p.robustness) === d.ws;}));};c.prototype.qgb=function(){var h;if(this.fq){h=this.X2a && this.Y2a && this.X2a.qa(this.Y2a).ea(k.pa);this.fq.itshdcp=JSON.stringify({hdcp2:this.Et,time2:h});}};c.prototype.Zqa=function(h){var m;m=this;return this.so.CB().then(function(p){var q;q=(0,d.p6)(p);p=q === d.ws || n.hb.IGa.includes(p.keySystem);return [g.vd.Pz,g.vd.jA,g.vd.Fi].some(function(u){return u.test(h);}) && !g.vd.KHa.test(h) && m.config().n7a && p?{supported:!1,reason:"mcclearen-restricted"}:!p && g.vd.cGa.test(h) || g.vd.Zkb.test(h) && !(m.config().EFb || m.config().fZa && q === d.ws) || g.vd.CJ.test(h) && (!m.config().fZa || q !== d.ws)?{supported:!1,reason:"robustness-restricted"}:{supported:!0};});};Ya.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.h7a || (this.h7a=this.so.CB().then(function(h){return h.createMediaKeys();}));return this.h7a;}},e6b:{configurable:!0,enumerable:!0,get:function(){var h;h=this;this.Rya || (this.config().GFb?this.Rya=Promise.all([this.so.CB(),this.mediaKeys]).then(function(m){var p;p=ja(m);m=p.next().value;p=p.next().value;if(!h.IQb(m))return (h.Et="not HW_SECURE_ALL",h.log.trace("hdcpStatus: " + h.Et),!1);if(p && p.getStatusForPolicy)return (h.Y2a=h.sa.ke,p.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(q){h.X2a=h.sa.ke;h.Et=q;h.log.trace("hdcpStatus: " + h.Et);return "usable" === h.Et;}));h.Et="not available";h.log.trace("hdcpStatus: " + h.Et);return !1;}).catch(function(m){h.Et="exception";h.log.error("Exception in supportsHdcpLevel",{hdcpStatus:h.Et},m);return !1;}).then(function(m){h.qgb();return m;}):(this.Et="not enabled",this.log.trace("hdcpStatus: " + this.Et),this.qgb(),this.Rya=Promise.resolve(!1)));return this.Rya;}}});b.kDa=c;},31741:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p){p=f.tD.call(this,h,m,l.u.Audio,p) || this;p.config=h;p.uo=m;p.type=l.Bu.Pw;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.m_=void 0;l=a(56800);f=a(65264);k=a(73796);r=a(57180);d=a(12187);g=a(7802);n=new r.YD().format;da(c,f.tD);c.prototype.oY=function(){var h;h=n(c.qba,k.fd.Fjb);return Promise.resolve(this.config().kL && this.uo.isTypeSupported(h));};c.prototype.ar=function(){return d.cda.ar();};c.prototype.U1a=function(){return this.config().ZE;};c.prototype.KT=function(h){return this.config().gXb?Promise.resolve(new g.X0(h,h.map(function(){return {supported:!0};}))):f.tD.prototype.KT.call(this,h);};b.m_=c;c.qba="audio/mp4;codecs={0};";},12187:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.cda=void 0;l=a(75568);c.ar=function(){var f;f={};return (f[l.Ed.zD]="mp4a.40.2",f[l.Ed.$_]="mp4a.40.2",f[l.Ed.AD]="mp4a.40.2",f[l.Ed.qx]="mp4a.40.42",f[l.Ed.DP]="ec-3",f[l.Ed.YZ]="ec-3",f[l.Ed.EP]="ec-3",f);};b.cda=c;},46286:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q,u){var t;t=k.tD.call(this,m,p,l.u.HPa,u) || this;t.config=m;t.uo=p;t.is=q;t.A8=u;t.type=l.Al.Pw;t.H9b=d.fd.uXa();return t;}Object.defineProperty(b,"__esModule",{value:!0});b.Vz=void 0;l=a(56800);f=a(75568);k=a(65264);r=a(57180);d=a(73796);g=a(48617);n=a(45266);h=a(7802);new r.YD();da(c,k.tD);c.prototype.jI=function(){return Promise.resolve(!1);};c.prototype.$F=function(){return Promise.resolve("");};c.prototype.e6=function(){return Promise.resolve("");};c.prototype.qY=function(){return this.config().zma?this.A8.Lqa()?this.A8.JT(f.H.PP).then(function(m){return {result:m.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.$aa=function(){return this.config().zma?this.A8.Lqa()?this.A8.JT(f.H.FP).then(function(m){return {result:m.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.rY=function(){return Promise.resolve(!1);};c.prototype.oY=function(){return Promise.resolve(!1);};c.prototype.dU=function(m){return this.H9b[m];};c.prototype.wia=function(){};c.prototype.USb=function(m){switch(m){case l.So.z0:return "1.4";case l.So.HD:return "2.2";}};c.prototype.ar=function(){return g.n_.ar();};c.prototype.U1a=function(){var p;function m(q,u){return (0,n.Wfb)(function(t,w){return t.name === w.name;},q,u);}p=m(this.config().pTa,this.config().Qh);return m(p,this.config().Dr);};c.prototype.uU=function(){return Promise.resolve(void 0);};c.prototype.t6=function(){return Promise.resolve(void 0);};c.prototype.o4=function(m){var p;p=[];this.is.qg(m) && p.push(this.USb(m));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:p,isHdcpEngaged:!!p.length}];};c.prototype.KT=function(m){return this.config().hXb?Promise.resolve(new h.X0(m,m.map(function(){return {supported:!0};}))):k.tD.prototype.KT.call(this,m);};b.Vz=c;c.qba="video/mp4;codecs={0};";},48617:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.n_=void 0;l=a(75568);f=a(73796);c.ar=function(){var k;k={};return (k[l.H.xD]="avc1.4D401E",k[l.H.yD]="avc1.4D401F",k[l.H.G_]="avc1.4D4028",k[l.H.MFa]="avc1.4D401E",k[l.H.NFa]="avc1.4D401F",k[l.H.OFa]="avc1.4D4028",k[l.H.yda]="hev1.2.6.L90.B0",k[l.H.zda]="hev1.2.6.L93.B0",k[l.H.Ada]="hev1.2.6.L120.B0",k[l.H.Bda]="hev1.2.6.L123.B0",k[l.H.b0]="hev1.2.6.L90.B0",k[l.H.e0]="hev1.2.6.L93.B0",k[l.H.h0]="hev1.2.6.L120.B0",k[l.H.k0]="hev1.2.6.L123.B0",k[l.H.QP]="hev1.2.6.L150.B0",k[l.H.RP]="hev1.2.6.L153.B0",k[l.H.c0]="hev1.2.6.L90.B0",k[l.H.f0]="hev1.2.6.L93.B0",k[l.H.i0]="hev1.2.6.L120.B0",k[l.H.l0]="hev1.2.6.L123.B0",k[l.H.n0]="hev1.2.6.L150.B0",k[l.H.p0]="hev1.2.6.L153.B0",k[l.H.a0]="hev1.2.6.L90.B0",k[l.H.d0]="hev1.2.6.L93.B0",k[l.H.g0]="hev1.2.6.L120.B0",k[l.H.j0]="hev1.2.6.L123.B0",k[l.H.m0]="hev1.2.6.L150.B0",k[l.H.o0]="hev1.2.6.L153.B0",k[l.H.K_]="hev1.2.6.L90.B0",k[l.H.N_]="hev1.2.6.L93.B0",k[l.H.PP]="hev1.2.6.L120.B0",k[l.H.S_]="hev1.2.6.L123.B0",k[l.H.V_]="hev1.2.6.L150.B0",k[l.H.Y_]="hev1.2.6.L153.B0",k[l.H.L_]="hev1.2.6.L90.B0",k[l.H.O_]="hev1.2.6.L93.B0",k[l.H.Q_]="hev1.2.6.L120.B0",k[l.H.T_]="hev1.2.6.L123.B0",k[l.H.W_]="hev1.2.6.L150.B0",k[l.H.Z_]="hev1.2.6.L153.B0",k[l.H.J_]="hev1.2.6.L90.B0",k[l.H.M_]="hev1.2.6.L93.B0",k[l.H.P_]="hev1.2.6.L120.B0",k[l.H.R_]="hev1.2.6.L123.B0",k[l.H.U_]="hev1.2.6.L150.B0",k[l.H.X_]="hev1.2.6.L153.B0",k[l.H.$Z]=f.fd.Sca,k[l.H.b_]=f.fd.PDa,k[l.H.FP]=f.fd.Tca,k[l.H.e_]=f.fd.Uca,k[l.H.g_]=f.fd.Vca,k[l.H.i_]=f.fd.Wca,k[l.H.Xca]=f.fd.Tca,k[l.H.Yca]=f.fd.Uca,k[l.H.Zca]=f.fd.Vca,k[l.H.$ca]=f.fd.Wca,k[l.H.a_]=f.fd.Sca,k[l.H.c_]=f.fd.PDa,k[l.H.d_]=f.fd.Tca,k[l.H.f_]=f.fd.Uca,k[l.H.h_]=f.fd.Vca,k[l.H.j_]=f.fd.Wca,k[l.H.KFa]="avc1.640016",k[l.H.A_]="avc1.64001E",k[l.H.C_]="avc1.64001F",k[l.H.E_]="avc1.640028",k[l.H.LFa]="avc1.640016",k[l.H.B_]="avc1.64001E",k[l.H.D_]="avc1.64001F",k[l.H.F_]="avc1.640028",k[l.H.jga]=f.fd.RQ,k[l.H.D1]=f.fd.RQ,k[l.H.E1]=f.fd.RQ,k[l.H.SQ]=f.fd.RQ,k[l.H.EAa]=f.fd.Fi,k[l.H.FAa]=f.fd.Fi,k[l.H.yu]=f.fd.Fi,k[l.H.zu]=f.fd.Fi,k[l.H.Nz]=f.fd.Fi,k[l.H.Oz]=f.fd.Fi,k[l.H.AZ]=f.fd.Fi,k[l.H.BZ]=f.fd.Fi,k);};b.n_=c;},98960:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p){this.config=h;this.kVa=m;this.gYb=p;this.YZb=this.tCb();}Object.defineProperty(b,"__esModule",{value:!0});b.cEa=void 0;r=a(5163);l=a(56800);f=a(1079);k=a(22674);d=a(75568);g=a(57657);a=a(41605);c.prototype.l2a=function(h){return this.d0a().m2a(h);};c.prototype.n2a=function(h){return this.Bt().m2a(h);};c.prototype.d0a=function(){this.oja && this.oja.type == this.config().pja || (this.oja=this.kVa.zBb(this.config().pja));return this.oja;};c.prototype.Bt=function(){this.Fba && this.Fba.type == this.config().Gba || (this.Fba=this.kVa.GCb(this.config().Gba),this.Fba.wia(this.gYb.uKb()));return this.Fba;};c.prototype.JKb=function(h){var q;if(!h || !h.length)return l.Re.I_;h=this.XHb(h);for(var m=[l.Re.FQ,l.Re.I_,l.Re.CJ,l.Re.bJ,l.Re.Eu,l.Re.Pz,l.Re.jA,l.Re.Fi],p=m.length;p--;){q=m[p];if((0,this.YZb[q])(h))return q;}return l.Re.FQ;};c.prototype.jI=function(h){return this.Bt().jI(h);};c.prototype.hF=function(h){return this.Bt().hF(h);};c.prototype.$F=function(){return this.Bt().$F();};c.prototype.e6=function(){return this.Bt().e6();};c.prototype.qY=function(){return this.Bt().qY();};c.prototype.oY=function(){return this.d0a().oY();};c.prototype.$aa=function(){return this.Bt().$aa();};c.prototype.rY=function(){return this.Bt().rY();};c.prototype.dU=function(h){return this.Bt().dU(h);};c.prototype.uU=function(){return this.Bt().uU();};c.prototype.t6=function(){return this.Bt().t6();};c.prototype.XHb=function(h){var m;m={};h.filter(function(p){return "video" === p.type;}).forEach(function(p){m[p.Fd]="";});return Object.keys(m);};c.prototype.tCb=function(){var h;h={};h[l.Re.Fi]=function(m){return m.some(function(p){return -1 < p.indexOf("av1");});};h[l.Re.Pz]=function(m){return m.some(function(p){return -1 < p.indexOf("hpl");});};h[l.Re.jA]=function(m){return m.some(function(p){return -1 < p.indexOf("vp9");});};h[l.Re.Eu]=function(m){return m.some(function(p){return -1 < p.indexOf("hevc-dv");});};h[l.Re.bJ]=function(m){return m.some(function(p){return -1 < p.indexOf("hevc-hdr");});};h[l.Re.CJ]=function(m){return m.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};h[l.Re.I_]=(function(m,p){var q;q={};m.forEach(function(u){return q[u]=1;});m=ja(p);for(p=m.next();!p.done;p=m.next()){if(q[p.value])return !0;}return !1;}).bind(null,[d.H.yD]);h[l.Re.FQ]=function(){return !0;};return h;};n=c;n=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.UI)),r.__param(1,(0,k.l)(a.dDa)),r.__param(2,(0,k.l)(g.pFa))],n);b.cEa=n;},74742:function(r,b,a){var l,f,k;function c(d){this.pZb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.oFa=void 0;r=a(5163);l=a(22674);f=a(94800);a=a(18580);c.prototype.rHb=function(){var d,g;d={xL:f.Ww.npb};try{g=this.pZb.PresentationRequest;g && (new g("https://netflix.com").getAvailability() || Promise.reject()).then(function(n){var h;d.xL=n.value?f.Ww.YMa:f.Ww.LAa;if(d.xL === f.Ww.LAa){h=function(){n.value && (d.xL=f.Ww.YMa);n.removeEventListener("change",h);};n.addEventListener("change",h);}}).catch(function(){d.xL=f.Ww.Error;});}catch(n){d.xL=f.Ww.Error;}return d;};k=c;k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.ZMa))],k);b.oFa=k;},79974:function(r,b,a){var l,f,k,d,g;function c(n,h){this.config=n;this.ADb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.AHa=void 0;r=a(5163);l=a(22674);f=a(16152);k=a(1079);d=a(56800);g=a(40290);c.prototype.iXa=function(){switch(this.config().Gba){case d.Al.bx:return g.$z.aCb();default:return this.ADb;}};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.UI)),r.__param(1,(0,l.l)(f.LLa))],a);b.AHa=a;},75456:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,E;function c(G,F,J,M,L,K,P,H,I){G=f.Vz.call(this,G,F,J,H) || this;G.yc=M;G.sa=L;G.Zl=K;G.kc=P;G.Qy=H;G.so=I;G.type=k.Al.bx;G.SI="hvc1";G.OCa="avc1";G.W9a={};G.log=G.Zl.ab("MicrosoftVideoCapabilityDetector");G.f5b();G.pY && G.config().UTb?G.HYa=G.RBb():(G.HYa=Promise.resolve(""),G.config().WTb?G.XBb():G.config().VTb && G.WBb());return G;}Object.defineProperty(b,"__esModule",{value:!0});b.KIa=void 0;l=a(75568);f=a(46286);k=a(56800);r=a(57180);d=a(17612);g=a(5021);n=a(33543);h=a(73796);m=a(40290);p=a(82100);q=a(22210);u=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");t=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");w=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");v=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=["hdcp=1"];B=["hdcp=2"];C=("decode-bpp=8 decode-res-x=1920 decode-res-y=1080 decode-bitrate=10000000 decode-fps=30 encryption-type=cenc-clearlead encryption-iv-size=8").split(" ");D=new r.YD();E=new n.Cca();da(c,f.Vz);c.prototype.dU=function(G){return G === k.Re.Eu && this.config().T8b?h.fd.H_:f.Vz.prototype.dU.call(this,G);};c.prototype.jI=function(G){switch(G){case k.So.z0:return this.Beb();case k.So.HD:return this.eX;default:return Promise.resolve(!1);}};c.prototype.$F=function(){var F;function G(){return F.pY?F.nOb?F.Beb().then(function(J){return Promise.resolve(J?d.hb.wd:d.hb.SD);}):Promise.resolve(d.hb.SD):F.g6b?Promise.resolve(d.hb.SD):Promise.resolve(d.hb.ix);}F=this;this.keySystem || (this.keySystem=this.config().ks?this.so.CB().then(function(J){return J.keySystem;}):G());return this.keySystem;};c.prototype.e6=function(){return this.HYa;};c.prototype.qY=function(){return Promise.resolve({result:this.Aeb(),reason:"is-type-supported"});};c.prototype.rY=function(){return this.pY && this.Deb()?this.eX:Promise.resolve(!1);};c.prototype.$aa=function(){return Promise.resolve(this.zeb()).then(function(G){return {result:G,reason:"isTypeSupportedWithFeatures"};});};c.prototype.wia=function(G){this.fq=G;Object.assign(this.fq,this.W9a);G.itshwdrm=this.pY;G.itsqhd=this.Ceb();G.itshevc=this.Deb();G.itshdr=this.Aeb();G.itsdv=this.zeb();G.itsav1=this.d6b();G.itshevccl=this.Eeb();G.itsavccl=this.b6b();this.Qza();};c.prototype.kS=function(G,F){(this.fq?this.fq:this.W9a)[G]=F;};c.prototype.uU=function(){var G;G=this;return this.jI(k.So.HD).then(function(F){return F?G.o4(k.So.HD):G.jI(k.So.z0).then(function(J){return J?G.o4(k.So.z0):G.o4(void 0);});});};c.prototype.t6=function(){return this.config().ks?Promise.resolve(void 0):this.$F().then(function(G){return G === d.hb.wd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.mna=function(G){var F;F=this;return this.$F().then(function(J){var M,L,K;M=F.cX[G];if(M){L=[];if(F.is.qp(M))K=M;else (L=M.features,K=M.yd,J=M.keySystem);return F.ht(J,K,L)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};c.prototype.ar=function(){var G;G=f.Vz.prototype.ar.call(this);G[l.H.SQ]=G[l.H.E1]=G[l.H.D1]=G[l.H.jga]={yd:"vp09.00.11.08.02",keySystem:d.hb.wd,features:u};G[l.H.c0]=G[l.H.b0]=G[l.H.a0]={yd:"hev1.2.6.L90.B0",keySystem:d.hb.wd,features:t};G[l.H.f0]=G[l.H.e0]=G[l.H.d0]={yd:"hev1.2.6.L93.B0",keySystem:d.hb.wd,features:t};G[l.H.i0]=G[l.H.h0]=G[l.H.g0]={yd:"hev1.2.6.L120.B0",keySystem:d.hb.wd,features:t};G[l.H.l0]=G[l.H.k0]=G[l.H.j0]={yd:"hev1.2.6.L123.B0",keySystem:d.hb.wd,features:t};G[l.H.n0]=G[l.H.QP]=G[l.H.m0]={yd:"hev1.2.6.L150.B0",keySystem:d.hb.wd,features:t};G[l.H.p0]=G[l.H.RP]=G[l.H.o0]={yd:"hev1.2.6.L153.B0",keySystem:d.hb.wd,features:t};G[l.H.L_]=G[l.H.K_]=G[l.H.J_]={yd:"hev1.2.6.L90.B0",keySystem:d.hb.wd,features:v};G[l.H.O_]=G[l.H.N_]=G[l.H.M_]={yd:"hev1.2.6.L93.B0",keySystem:d.hb.wd,features:v};G[l.H.Q_]=G[l.H.PP]=G[l.H.P_]={yd:"hev1.2.6.L120.B0",keySystem:d.hb.wd,features:v};G[l.H.T_]=G[l.H.S_]=G[l.H.R_]={yd:"hev1.2.6.L123.B0",keySystem:d.hb.wd,features:y};G[l.H.W_]=G[l.H.V_]=G[l.H.U_]={yd:"hev1.2.6.L150.B0",keySystem:d.hb.wd,features:y};G[l.H.Z_]=G[l.H.Y_]=G[l.H.X_]={yd:"hev1.2.6.L153.B0",keySystem:d.hb.wd,features:y};G[l.H.a_]=G[l.H.$Z]={yd:"hev1.2.6.L90.B0",keySystem:d.hb.wd,features:x};G[l.H.c_]=G[l.H.b_]={yd:"hev1.2.6.L93.B0",keySystem:d.hb.wd,features:x};G[l.H.d_]=G[l.H.Xca]=G[l.H.FP]={yd:"hev1.2.6.L120.B0",keySystem:d.hb.wd,features:x};G[l.H.f_]=G[l.H.Yca]=G[l.H.e_]={yd:"hev1.2.6.L123.B0",keySystem:d.hb.wd,features:z};G[l.H.h_]=G[l.H.Zca]=G[l.H.g_]={yd:"hev1.2.6.L150.B0",keySystem:d.hb.wd,features:z};G[l.H.j_]=G[l.H.$ca]=G[l.H.i_]={yd:"hev1.2.6.L153.B0",keySystem:d.hb.wd,features:z};G[l.H.yu]={yd:"av01.0.04M.10",keySystem:d.hb.wd,features:u};G[l.H.zu]={yd:"av01.0.05M.10",keySystem:d.hb.wd,features:u};G[l.H.Nz]={yd:"av01.0.08M.10",keySystem:d.hb.wd,features:u};G[l.H.Oz]={yd:"av01.0.09M.10",keySystem:d.hb.wd,features:u};G[l.H.AZ]={yd:"av01.0.12M.10",keySystem:d.hb.wd,features:w};G[l.H.BZ]={yd:"av01.0.13M.10",keySystem:d.hb.wd,features:w};return G;};c.prototype.ht=function(G,F,J){G=m.$z.p4(G,F,J);return this.hF(G);};c.prototype.Ceb=function(){return this.ht(d.hb.wd,this.SI,t);};c.prototype.Aeb=function(){return this.ht(d.hb.wd,this.SI,v);};c.prototype.zeb=function(){return this.ht(d.hb.wd,this.SI,x);};c.prototype.d6b=function(){return this.ht(d.hb.wd,h.fd.Fi,u);};c.prototype.Deb=function(){return this.ht(d.hb.wd,this.SI,w);};c.prototype.Eeb=function(){return this.ht(d.hb.wd,this.SI,C);};c.prototype.b6b=function(){return this.ht(d.hb.wd,this.OCa,C);};c.prototype.Beb=function(){var G;G=this;return this.eX.then(function(F){return F?Promise.resolve(F):G.U$a;});};c.prototype.Qza=function(){this.fq && (this.fq.itshdcp=JSON.stringify({hdcp1:this.V2a,time1:this.cfb - this.Udb,hdcp2:this.W2a,time2:this.dfb - this.Vdb}));};c.prototype.f5b=function(){var G;G=this;this.pY?(this.eX=this.Q1a(this.config().o7a,this.config().YTb,function(){var F;F=G.HKb();return ["maybe" !== F,F];}).then(function(F){return "probably" === F;}),this.U$a=this.eX.then(function(F){return F?!0:G.Q1a(G.config().o7a,G.config().XTb,function(){var J;J=G.GKb();return ["maybe" !== J,J];}).then(function(J){return "probably" === J;});})):(this.U$a=Promise.resolve(!0),this.eX=Promise.resolve(!1));};c.prototype.Q1a=function(G,F,J){var M;M=this;return new Promise(function(L){var K,P,H,I;K=ja(J());P=K.next().value;K=K.next().value;if(P)return L(K);H=M.yc.MH((0,g.Ob)(G),function(){var N,R;N=ja(J());R=N.next().value;N=N.next().value;R && (H.cancel(),I.cancel(),L(N));});I=M.yc.vk((0,g.Ob)(F),function(){H.cancel();I.cancel();L("timeout");});});};c.prototype.GKb=function(){var G;G=m.$z.p4(d.hb.SD,this.OCa,A).split("|");this.V2a=m.$z.Qya(G[0],G[1]);this.cfb=this.sa.ke.ea(g.pa);this.Udb=this.Udb || this.cfb;this.Qza();return this.V2a;};c.prototype.HKb=function(){var G;G=m.$z.p4(d.hb.wd,this.SI,B).split("|");this.W2a=m.$z.Qya(G[0],G[1]);this.dfb=this.sa.ke.ea(g.pa);this.Vdb=this.Vdb || this.dfb;this.Qza();return this.W2a;};c.prototype.RBb=function(){var G;G=this;return this.nla(d.hb.wd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.yKa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(F){G.log.debug("DriverInfo: " + F);return F;}).catch(function(F){G.kS("itsDriverInfo","exception");G.log.error("DriverInfo exception",F);throw F;});};c.prototype.WBb=function(){var G;G=this;this.nla(d.hb.ix,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(F){var J;J=String.fromCharCode.apply(void 0,G.kc.decode(F));G.kS("itsHardwareInfo",J);G.log.debug("HardwareInfo: " + J);return F;}).catch(function(F){G.kS("itsHardwareInfo","exception");G.log.error("HardwareInfo exception",F);throw F;});};c.prototype.XBb=function(){var G;G=this;this.nla(d.hb.ix,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(F){var J;J=String.fromCharCode.apply(void 0,G.kc.decode(F));G.kS("itsHardwareReset",J);G.log.debug("ResetHardwareDRMDisabled: " + J);return F;}).catch(function(F){G.kS("itsHardwareReset","exception");G.log.error("ResetHardwareDRMDisabled exception",F);throw F;});};c.prototype.nla=function(G,F){var J;J=this;return new Promise(function(M,L){var R,X,ha;function K(ta){try{I(ta.target,"Unexpectedly got an mskeyerror event: 0x" + E.RF(ta && ta.target && ta.target.error && ta.target.error.Vjc || 0,4));}catch(la){I(ta.target,la);}}function P(ta){I(ta.target,"Unexpectedly got an mskeyadded event");}function H(ta){var la;try{la=J.fna(ta.message,"PlayReadyKeyMessage","Challenge");N(ta.target);M(la);}catch(xa){I(ta.target,xa);}}function I(ta,la){J.log.error("PlayReadyChallenge error",{cdmData:F});N(ta);L(la);}function N(ta){ta.removeEventListener("mskeymessage",H);ta.removeEventListener("mskeyadded",P);ta.removeEventListener("mskeyerror",K);ha && ha.cancel();}try{R=new Uint8Array(D.peb(F));X=new ob.MSMediaKeys(G).createSession("video/mp4",new Uint8Array(0),R);X.addEventListener("mskeymessage",H);X.addEventListener("mskeyadded",P);X.addEventListener("mskeyerror",K);ha=J.yc.vk((0,g.Ob)(1E3),function(){I(X,Error("timeout"));});}catch(ta){L(ta);}});};c.prototype.fna=function(G,F){var M,L,K;for(var J=1;J < arguments.length;++J){;}J="";L=G.length;for(M=0;M < L;M++){K=G[M];0 < K && (J+=String.fromCharCode(K));}L="\\s*(.*)\\s*";for(M=arguments.length - 1;0 < M;M--){K=arguments[M];if(0 > J.search(K))return;K="(?:[^:].*:|)" + K;L="[\\s\\S]*<" + K + "[^>]*>" + L + "</" + K + ">[\\s\\S]*";}if(J=J.match(new RegExp(L)))return J[1];};c.prototype.Zqa=function(G){var F;F=this;return this.$F().then(function(J){var M;if(q.vd.cGa.test(G) && !F.Eeb())return {supported:!1,reason:"ms-restricted"};M=[d.hb.SD,d.hb.RLa].some(function(L){return L === J;});M=F.config().n7a && !M;return [q.vd.Pz,q.vd.jA,q.vd.Fi].some(function(L){return L.test(G);}) && !q.vd.KHa.test(G) && M?{supported:!1,reason:"ms-restricted"}:{supported:!0};});};Ya.Object.defineProperties(c.prototype,{nOb:{configurable:!0,enumerable:!0,get:function(){return this.config().gZa && (!this.config().p7a || this.Ceb());}},pY:{configurable:!0,enumerable:!0,get:function(){try{return this.hF(d.hb.wd + "|" + h.fd.Ssa);}catch(G){return !1;}}},g6b:{configurable:!0,enumerable:!0,get:function(){try{return this.hF(d.hb.SD);}catch(G){return !1;}}}});b.KIa=c;},78866:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q,u,t){this.config=p;this.navigator=q;this.Zl=u;this.OM=t;this.dUa={};this.bhb={};this.Jia={};this.log=this.Zl.ab("MediaCapabilityDetector");this.dUa=this.yBb();this.bhb=this.FCb();}Object.defineProperty(b,"__esModule",{value:!0});b.ZIa=void 0;r=a(5163);l=a(22674);f=a(75568);k=a(87386);d=a(63368);g=a(21103);n=a(1079);h=a(82100);m=a(22365);c.prototype.JT=function(p){var q;q=this;return this.OM.CB().then(function(u){return q.FHb(p,u);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};c.prototype.YPb=function(p){return !!p.colorGamut || !!p.hdrMetadataType || !!p.transferFunction;};c.prototype.Lqa=function(){return ob.matchMedia("(dynamic-range: high)").matches;};c.prototype.FHb=function(p,q){var u,t,w;try{u={type:"media-source"};t=this.dUa[p];w=this.bhb[p];if(t)u.audio=t;else if(w){u.video=w;if(this.YPb(w) && !this.Lqa())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});q && (u.keySystemConfiguration=this.WKb(q));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.nyb(u),this.lyb((t || w).contentType)]).then(function(v){var y;y=ja(v);v=y.next().value;y=y.next().value;return v?y?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(v){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",v),Promise.resolve({supported:!1,reason:"mc-exception"}));}};c.prototype.nyb=function(p){var q;q=this;return this.navigator.mediaCapabilities.decodingInfo(p).then(function(u){var t;u.configuration || (u.configuration=p);t=q.zQb(p,u);t?q.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(u)):q.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(u));return t;}).catch(function(u){q.log.error("mediaCapabilities.decodingInfo failed",u);return !1;});};c.prototype.lyb=function(p){var q;q=this;if(!this.config().OFb)return Promise.resolve(!0);this.Jia[p] || (this.Jia[p]=new Promise(function(u){var t;try{t=new m.bA();document.createElement("video").src=URL.createObjectURL(t);t.addEventListener("sourceopen",function(){try{t.addSourceBuffer(p);q.log.trace("addSourceBuffer succeeded for " + p);u(!0);}catch(w){q.log.warn("addSourceBuffer failed",w);u(!1);}});}catch(w){q.log.warn("addSourceBuffer failed",w);u(!1);}}));return this.Jia[p];};c.prototype.WKb=function(p){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:p.keySystem},(p=(0,h.p6)(p)) && (this.keySystemConfiguration.video={robustness:p}));return this.keySystemConfiguration;};c.prototype.yBb=function(){var p,q;p={};q={contentType:"audio/mp4;codecs=mp4a.40.2"};p[f.Ed.zD]=q;p[f.Ed.$_]=q;p[f.Ed.AD]=q;p[f.Ed.qx]=q;q={contentType:"audio/mp4;codecs=ec-3"};p[f.Ed.DP]=q;p[f.Ed.YZ]=q;p[f.Ed.EP]=q;return p;};c.prototype.FCb=function(){var p,q,u,t,w,v,y,x,z,A,B,C,D,E,G,F,J,M,L,K;p={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};q={contentType:'video/mp4; codecs="dvh1.05.04"'};u={width:1920,height:1080};t={width:3840,height:2160};w=Object.assign(Object.assign({},u),{bitrate:12E6,framerate:30});v=Object.assign(Object.assign({},u),{bitrate:2E7,framerate:60});y=Object.assign(Object.assign({},t),{bitrate:25E6,framerate:30});x=Object.assign(Object.assign({},t),{bitrate:4E7,framerate:60});z={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};A={colorGamut:"rec2020",transferFunction:"pq"};t=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),w);u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),w);B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),w);C=Object.assign(Object.assign({},p),w);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),v);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),y);G=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),x);F=Object.assign(Object.assign(Object.assign({},p),w),z);J=Object.assign(Object.assign(Object.assign({},p),v),z);M=Object.assign(Object.assign(Object.assign({},p),y),z);p=Object.assign(Object.assign(Object.assign({},p),x),z);z=Object.assign(Object.assign(Object.assign({},q),w),A);L=Object.assign(Object.assign(Object.assign({},q),v),A);K=Object.assign(Object.assign(Object.assign({},q),y),A);q=Object.assign(Object.assign(Object.assign({},q),x),A);w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),w);v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),v);y=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),y);x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),x);A={};return (A[f.H.xD]=t,A[f.H.yD]=t,A[f.H.G_]=t,A[f.H.MFa]=t,A[f.H.NFa]=t,A[f.H.OFa]=t,A[f.H.KFa]=u,A[f.H.A_]=u,A[f.H.C_]=u,A[f.H.E_]=u,A[f.H.LFa]=u,A[f.H.B_]=u,A[f.H.D_]=u,A[f.H.F_]=u,A[f.H.jga]=B,A[f.H.D1]=B,A[f.H.E1]=B,A[f.H.SQ]=B,A[f.H.yda]=C,A[f.H.zda]=C,A[f.H.Ada]=C,A[f.H.Bda]=D,A[f.H.b0]=C,A[f.H.e0]=C,A[f.H.h0]=C,A[f.H.k0]=D,A[f.H.QP]=E,A[f.H.RP]=G,A[f.H.c0]=C,A[f.H.f0]=C,A[f.H.i0]=C,A[f.H.l0]=D,A[f.H.n0]=E,A[f.H.p0]=G,A[f.H.a0]=C,A[f.H.d0]=C,A[f.H.g0]=C,A[f.H.j0]=D,A[f.H.m0]=E,A[f.H.o0]=G,A[f.H.K_]=F,A[f.H.N_]=F,A[f.H.PP]=F,A[f.H.S_]=J,A[f.H.V_]=M,A[f.H.Y_]=p,A[f.H.L_]=F,A[f.H.O_]=F,A[f.H.Q_]=F,A[f.H.T_]=J,A[f.H.W_]=M,A[f.H.Z_]=p,A[f.H.J_]=F,A[f.H.M_]=F,A[f.H.P_]=F,A[f.H.R_]=J,A[f.H.U_]=M,A[f.H.X_]=p,A[f.H.$Z]=z,A[f.H.b_]=z,A[f.H.FP]=z,A[f.H.e_]=L,A[f.H.g_]=K,A[f.H.i_]=q,A[f.H.Xca]=z,A[f.H.Yca]=L,A[f.H.Zca]=K,A[f.H.$ca]=q,A[f.H.a_]=z,A[f.H.c_]=z,A[f.H.d_]=z,A[f.H.f_]=L,A[f.H.h_]=K,A[f.H.j_]=q,A[f.H.EAa]=w,A[f.H.FAa]=w,A[f.H.yu]=w,A[f.H.zu]=w,A[f.H.Nz]=w,A[f.H.Oz]=v,A[f.H.AZ]=y,A[f.H.BZ]=x,A);};c.prototype.zQb=function(p,q){return p.video && this.config().OYb?q.supported && q.powerEfficient:q.supported;};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(n.UI)),r.__param(1,(0,l.l)(d.nJ)),r.__param(2,(0,l.l)(k.bb)),r.__param(3,(0,l.l)(g.ax))],a);b.ZIa=a;},43551:function(r,b,a){var l,f;function c(k){this.navigator=k;this.f7a=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.aJa=void 0;r=a(5163);l=a(22674);a=a(63368);c.prototype.lna=function(k){return this.f7a?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:k.contentType,width:k.width,height:k.height,bitrate:k.bitrate,framerate:k.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.nJ))],f);b.aJa=f;},6600:function(r,b,a){var l,f,k,d;function c(g,n){this.mediaCapabilities=g;this.log=n.ab("MediaCapabilities");this.cX=d.n_.ar();}Object.defineProperty(b,"__esModule",{value:!0});b.bJa=void 0;r=a(5163);l=a(12931);f=a(87386);k=a(22674);d=a(48617);c.prototype.lna=function(g){var n,h,m,p;n=this;m={zf:void 0};if(this.mediaCapabilities.f7a){p={contentType:'video/mp4;codecs="' + (null !== (h=this.cX[g.Fd]) && void 0 !== h?h:"avc1.640028") + '"',width:g.width,height:g.height,bitrate:1E3 * g.bitrate,framerate:24};this.mediaCapabilities.lna(p).then(function(q){return m.zf=Object.assign(Object.assign({},q),p);}).catch(function(q){return n.log.error("Error calling MediaCapabilities API",q);});}return m;};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(l.dJa)),r.__param(1,(0,k.l)(f.bb))],a);b.bJa=a;},92049:function(r,b,a){var l,f,k,d,g;function c(n,h,m,p,q){n=d.m_.call(this,n,h,q) || this;n.is=m;n.platform=p;n.type=l.Bu.bx;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.BJa=void 0;l=a(56800);f=a(75568);k=a(17612);d=a(31741);g=a(40290);da(c,d.m_);c.prototype.oY=function(){return Promise.resolve(this.config().kL && this.ht(k.hb.ix,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.ar=function(){var n,h;n={};n=(n[f.Ed.zD]="mp4a.40.2",n[f.Ed.AD]="mp4a.40.2",n);if("browser" === this.platform.ama){h={};return Object.assign(Object.assign({},n),(h[f.Ed.DP]=this.config().kL?{yd:"avc1",keySystem:k.hb.ix,features:["audio-endpoint-codec=DD+JOC"]}:void 0,h[f.Ed.EP]=this.config().kL?{yd:"avc1",keySystem:k.hb.ix,features:["audio-endpoint-codec=DD+JOC"]}:void 0,h[f.Ed.$_]=void 0,h[f.Ed.qx]=void 0,h[f.Ed.YZ]=void 0,h));}h={};return Object.assign(Object.assign({},n),(h[f.Ed.DP]=this.config().dZa?"ec-3":void 0,h[f.Ed.YZ]=this.config().cZa?"ec-3":void 0,h[f.Ed.EP]=this.config().kL?{yd:"avc1",keySystem:k.hb.ix,features:["audio-endpoint-codec=DD+JOC"]}:void 0,h[f.Ed.$_]=void 0,h[f.Ed.qx]=void 0,h));};c.prototype.mna=function(n){var h,m,p;n=this.cX[n];h=[];m=k.hb.ix;if(n){if(this.is.qp(n))p=n;else (h=n.features,p=n.yd,m=n.keySystem);return this.ht(m,p,h)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"ms-can-present-codec-with-features"});}return Promise.resolve({supported:!1,reason:"ms-no-properties"});};c.prototype.ht=function(n,h,m){n=g.$z.p4(n,h,m);return this.hF(n);};b.BJa=c;},40290:function(r,b,a){var l,f,k;function c(){this.type=l.Bu.bx;}Object.defineProperty(b,"__esModule",{value:!0});b.$z=void 0;l=a(56800);r=a(57180);f=a(17612);k=new r.YD();c.aCb=function(){return {isTypeSupported:function(d){var g;try{if(-1 == d.toLowerCase().indexOf("codec"))return ob.MSMediaKeys.isTypeSupported(d,"video/mp4");g=d.split("|");return 1 === g.length?ob.MSMediaKeys.isTypeSupported(f.hb.ix,d):"probably" === c.Qya(g[0],g[1]);}catch(n){return !1;}}};};c.p4=function(d,g,n){g=k.format(c.qba,g);if(0 === n.length)return g;n=k.format('features="{0}"',n.join());return k.format("{0}|{1}{2}",d,g,n);};c.Qya=function(d,g){var n;try{n=ob.MSMediaKeys.isTypeSupportedWithFeatures?ob.MSMediaKeys.isTypeSupportedWithFeatures(d,g):"";}catch(h){n="exception";}return n;};b.$z=c;c.qba='video/mp4;codecs="{0},mp4a";';},7802:function(r,b){function a(c,l){var f;f=this;this.status={};c.forEach(function(k,d){f.status[k]=l[d];});}Object.defineProperty(b,"__esModule",{value:!0});b.X0=void 0;a.prototype.ZL=function(){return this.status;};a.prototype.B6=function(){return Object.entries(this.status).filter(function(c){c=ja(c);c.next();return c.next().value.supported;}).map(function(c){var l;c=ja(c);l=c.next().value;c.next();return l;});};b.X0=a;},57718:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q,u){this.Qm=p;this.Bb=q;this.reb=u;this.atb="video/mp4;codecs={0}";this.Gpb="audio/mp4;codecs={0}";p=this.Qm.dU(f.Re.Eu);this.$sb=d.fd.uXa(p);}Object.defineProperty(b,"__esModule",{value:!0});b.mOa=void 0;r=a(5163);f=a(56800);k=a(22674);d=a(73796);g=a(42207);n=a(88490);h=a(29670);m=a(33096);c.prototype.t4=function(p){p=this.Qm.JKb(p);p=this.Bb.xF(p)?p:f.Re.FQ;return this.reb.format(this.atb,this.$sb[p]);};c.prototype.n4=function(p){if(0 === p.length)return this.reb.format(this.Gpb,d.fd.Wba);p=h.YBa[p[0].Fd] || l.CAa;return p === l.CAa?m.GIa:p === l.hib?m.HIa:m.FIa;};a=l=c;a.CAa="AAC";a.hib="XHEAAC";a=l=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(f.Qw)),r.__param(1,(0,k.l)(g.Uf)),r.__param(2,(0,k.l)(n.Zfa))],a);b.mOa=a;},82656:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.Tk=void 0;r=a(22674);c=a(33554);l=a(58393);f=a(48723);k=a(68703);d=a(99662);b.Tk=new r.gd(function(g){g(c.Rw).ae(function(){return function(){return ob._cad_global.device;};});g(k.hEa).to(d.gEa).ha();g(l.eEa).to(f.dEa).ha();});},33554:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rw="DeviceFactorySymbol";},58393:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eEa="DeviceIdGeneratorSymbol";},68703:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hEa="DeviceProviderSymbol";},48723:function(r,b,a){var l,f,k,d,g,n;function c(h,m){this.sa=h;this.Rva=m;}Object.defineProperty(b,"__esModule",{value:!0});b.dEa=void 0;r=a(5163);l=a(30869);f=a(5021);k=a(10306);d=a(74267);g=a(66523);a=a(22674);c.prototype.ZIb=function(){for(var h="",m=this.sa.ke.ea(f.pa),p=6;p--;){h=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[m % 32] + h;m=Math.floor(m / 32);}for(;30 > h.length;){h+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.Rva.iab(new d.Efa(0,31,g.E8a))];}return h;};n=c;n=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(l.cg)),r.__param(1,(0,a.l)(k.f1))],n);b.dEa=n;},66085:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fEa=void 0;b.fEa=function(a,c,l,f){this.hk=a;this.bo=c;this.l5=f;};},99662:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q,u,t,w){this.nEb=p;this.ml=q;this.Bb=t;this.MXb=w;this.OEa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=u.ab("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.gEa=void 0;r=a(5163);l=a(36129);f=a(42207);k=a(66085);d=a(87386);g=a(58393);n=a(22674);h=a(17892);a=a(70285);c.prototype.OZa=function(p){try{return p.match(this.OEa)[2];}catch(q){}};c.prototype.hHb=function(p){try{return p.match(this.OEa)[1];}catch(q){}};c.prototype.create=function(p){var q;q=this;return new Promise(function(u,t){q.ml.create().then(function(w){var y,x,z,A,B,C;function v(D){q.Bb.Fm(D) && q.Bb.Fm(y)?(x=new k.fEa(D,y,void 0,z,p.mT || "cadmium"),u(x)):t({za:l.S.KDa});}y=p.bo;if(p.noa){z="bind_device";q.MXb.Cf(q.log,{}).then(function(D){v(D.esn);}).catch(function(D){t(D);});}else if(p.IL){B=p.hk;if(q.Bb.Fm(B)){C=q.hHb(B);C != p.bo && q.log.error("esn prefix from ui is different",{ui:C,cad:p.bo,ua:p.userAgent});}else p.Ora && q.log.error("esn from ui is missing");!p.ZO && q.Bb.Fm(B)?(z="config",v(B)):w.load(p.nYa).then(function(D){A=D.value;q.Bb.Fm(A) && (!1,q.Bb.Fm(B)?(D=q.OZa(B),z=D === A?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):z="storage_esn_not_in_config",v(y + A));}).catch(function(D){var F;function E(){w.save(p.nYa,F,!1).then(function(){v(y + F);}).catch(function(J){t(J);});}function G(){F=q.nEb.ZIb();!1;E();}if(D.za === l.S.lx){if(q.Bb.Fm(p.hk)){F=q.OZa(p.hk);q.Bb.Fm(F)?(z="config_since_not_in_storage",E()):(z="generated_since_invalid_in_config_and_not_in_storage",q.log.error("invalid esn passed from UI",p.hk),G());}else (z="generated_since_not_in_config_and_storage",G());}else t(D);});}else v();}).catch(function(w){t(w);});});};m=c;m=r.__decorate([(0,n.U)(),r.__param(0,(0,n.l)(g.eEa)),r.__param(1,(0,n.l)(h.Kw)),r.__param(2,(0,n.l)(d.bb)),r.__param(3,(0,n.l)(f.Uf)),r.__param(4,(0,n.l)(a.TKa))],m);b.gEa=m;},93673:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kca="CachedDrmDataSymbol";},2492:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VZ="CannedChallengeProvider";},49594:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C;Object.defineProperty(b,"__esModule",{value:!0});b.fL=b.TYa=void 0;r=a(22674);c=a(47737);l=a(58120);f=a(31050);k=a(93673);d=a(44235);g=a(97485);n=a(21103);h=a(92395);m=a(66372);p=a(2492);q=a(77228);u=a(34008);t=a(17250);w=a(41980);v=a(90581);y=a(91490);x=a(38231);z=a(22266);A=a(48691);B=a(18647);C=a(61738);b.TYa=new r.gd(function(D){D(l.rEa).to(f.qEa).ha();D(k.Kca).to(d.$Ca).ha();D(c.q_).JY(g.X$a);D(z.HHa).to(A.GHa).ha();D(B.Uda).to(C.IHa).ha();D(n.ax).bD(function(E){b.fL.parent=E.ob;return b.fL.get(n.ax);});D(h.mQ).ae(function(){return function(){return new m.mJa();};});D(p.VZ).to(q.bDa).ha();D(u.mda).to(t.VEa).ha();D(w.fda).to(v.wEa).ha();D(y.jJa).to(x.iJa).ha();});b.fL=new r.XZ({$H:!0});},58120:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rEa="DrmDataFactorySymbol";},28048:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jqa=b.Fu=void 0;(function(a){a.Fgb="usable";a.gr="expired";a.released="released";a.g9a="output-restricted";a.eXb="output-downscaled";a.n5b="status-pending";a.sPb="internal-error";})(b.Fu || (b.Fu={}));b.Jqa=function(a){return !!a && !!a.keyStatuses;};},28289:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.JYa=b.ss=void 0;(function(c){c[c.I5a=0]="licenseStarted";c[c.Bab=1]="receivedLicenseChallenge";c[c.Aab=2]="receivedLicense";c[c.Cab=3]="receivedRenewalChallengeComplete";c[c.Dab=4]="receivedRenewalLicenseComplete";c[c.Eab=5]="receivedRenewalLicenseFailed";c[c.N_b=6]="receivedIndivChallengeComplete";c[c.O_b=7]="receivedIndivLicenseComplete";c[c.ZSa=8]="addLicenseComplete";c[c.eTa=9]="addRenewalLicenseComplete";c[c.fTa=10]="addRenewalLicenseFailed";})(a=b.ss || (b.ss={}));b.JYa=function(c){switch(c){case a.I5a:return "lg";case a.Bab:return "lc";case a.Aab:return "lr";case a.Cab:return "renew_lc";case a.Dab:return "renew_lr";case a.Eab:return "renew_lr_failed";case a.N_b:return "ilc";case a.O_b:return "ilr";case a.ZSa:return "ld";case a.eTa:return "renew_ld";case a.fTa:return "renew_ld_failed";default:return "unknown";}};},47737:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vEa="DrmServicesSymbol";b.q_="DrmServicesProviderSymbol";},41980:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fda="DrmTraitsFactorySymbol";},53921:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ekb=b.Gk=void 0;r=b.Gk || (b.Gk={});r[r.$y=0]="playready";r[r.nZ=1]="widevine";r[r.zB=2]="fairplay";r[r.yfc=3]="clearkey";b.Ekb="DrmTypeSymbol";},27995:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aE=void 0;r=b.aE || (b.aE={});r[r.Request=0]="Request";r[r.nNa=1]="Renewal";},34008:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mda="EmeApiFactorySymbol";},23563:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aq="EmeConfigSymbol";},10060:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YEa="EmeSessionFactorySymbol";},22266:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HHa="KeySystemProviderSymbol";},18647:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uda="KeySystemRestrictorSymbol";},91490:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jJa="MediaKeySystemAccessInternalFactorySymbol";},21103:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ax="MediaKeySystemAccessServicesSymbol";},92395:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mQ="MediaKeysStorageFactorySymbol";},51120:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.UYa=void 0;r=a(22674);c=a(47737);l=a(80075);f=a(21103);k=a(9717);d=a(10060);g=a(74946);b.UYa=new r.gd(function(n){n(c.vEa).to(l.uEa).ha();n(f.ax).to(k.lJa).ha();n(d.YEa).to(g.XEa);});},44235:function(r,b,a){var k,d,g,n,h,m,p,q;function c(u,t,w){var v;v=this;this.is=u;this.ml=t;this.config=w;this.qu=function(){return {version:v.version,drmData:v.Y4.map(function(y){return y.qu();})};};this.Tna=function(y){var x;v.is.Fm(y) && (y=l(y));1 === y.version && (y=f(v.is,y));x={version:2,data:[]};if(2 === y.version){x.version=y.version;try{x.data=y.drmData.map(function(z){return new q.p_(z);});}catch(z){throw new h.Mc(g.V.cJ,g.S.Tz,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!y.version || !v.is.dk(y.version))throw new h.Mc(g.V.cJ,g.S.Tz,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== y.version)throw new h.Mc(g.V.cJ,g.S.FCa,void 0,void 0,void 0,"Version number is not supported. Version: " + y.version);}return x;};this.xk=new m.Mda(2,this.config.tT,this.is.Fm(this.config.tT),this.ml,this.qu);}function l(u){u=JSON.parse(u);u={xid:u.xid,movieId:u.movieId,keySessionIds:u.keySessionIds,licenseContextId:u.licenseContextId};if(!u.licenseContextId || !u.xid || !u.movieId)throw new h.Mc(g.V.cJ,g.S.Tz);return {version:1,drmData:[u]};}function f(u,t){if(u.PA(t.drmData))return {version:2,drmData:t.drmData.map(function(w){var v;v=w.keySessionIds;return new q.p_({keySessionData:(v && 0 < v.length?v:[void 0]).map(function(y){return {id:y,licenseContextId:w.licenseContextId,licenseId:void 0};}),xid:w.xid,movieId:w.movieId}).qu();})};throw new h.Mc(g.V.cJ,g.S.Tz);}Object.defineProperty(b,"__esModule",{value:!0});b.$Ca=void 0;r=a(5163);k=a(22674);d=a(23563);g=a(36129);n=a(42207);h=a(31149);m=a(52657);p=a(17892);q=a(31050);c.prototype.oab=function(){return this.h5b();};c.prototype.USa=function(u){return this.xk.add(u);};c.prototype.oX=function(u){return this.xk.remove(u,function(t,w){return t.na === w.na;});};c.prototype.toString=function(){return JSON.stringify(this.qu(),null,"  ");};c.prototype.h5b=function(){var u;u=this;this.sab || (this.sab=new Promise(function(t,w){u.xk.load(u.Tna).then(function(){t();}).catch(function(v){v.za && v.Xb?w(new h.Mc(g.V.cJ,v.za,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,v)):w(v);});}));return this.sab;};Ya.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.xk.version;}},Y4:{configurable:!0,enumerable:!0,get:function(){return this.xk.Il;}}});a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(n.Uf)),r.__param(1,(0,k.l)(p.Kw)),r.__param(2,(0,k.l)(d.Aq))],a);b.$Ca=a;},77228:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q,u,t,w){this.GF=p;this.kc=q;this.PM=t;this.so=w;this.log=u.ab("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.bDa=void 0;r=a(5163);l=a(22674);f=a(47737);k=a(2248);d=a(87386);g=a(92395);n=a(21103);h=a(53921);m=a(84218);c.prototype.epa=function(p){var q;q=this;return Promise.all([this.GF(),this.yoa()]).then(function(u){var t;t=ja(u);u=t.next().value;t=t.next().value;return u.$Ib({type:p,initData:t,s7:!1},q.PM());}).then(function(u){var t;t=ja(u);u=t.next().value;t=t.next().value;t=q.kc.encode(t.data[0]);q.log.trace("Challenge generated",t);return {qz:u,nka:t};});};c.prototype.yoa=function(){var p;p=this;return this.so.CB().then(function(q){return q.zt();}).then(function(q){switch(q){case h.Gk.zB:return m.tFa;case h.Gk.$y:return m.QLa;default:return m.ZPa;}}).then(function(q){return q.map(p.kc.decode);});};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.q_)),r.__param(1,(0,l.l)(k.$g)),r.__param(2,(0,l.l)(d.bb)),r.__param(3,(0,l.l)(g.mQ)),r.__param(4,(0,l.l)(n.ax))],a);b.bDa=a;},31050:function(r,b,a){var f;function c(){}function l(k){k?(this.active=!1,this.Tna(k)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.qEa=b.p_=void 0;r=a(5163);a=a(22674);l.prototype.Tna=function(k){this.pe=k.keySessionData?k.keySessionData.map(function(d){return {id:d.id,JG:d.licenseContextId,yV:d.licenseId};}):[];this.na=k.xid;this.P=k.movieId;};l.prototype.qu=function(){return JSON.parse(JSON.stringify({keySessionData:this.pe?this.pe.map(function(k){return {id:k.id,licenseContextId:k.JG,licenseId:k.yV};}):[],xid:this.na,movieId:this.P}));};b.p_=l;c.prototype.create=function(){return new l();};c.prototype.load=function(k){return new l(k);};f=c;f=r.__decorate([(0,a.U)()],f);b.qEa=f;},80075:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w;function c(v,y,x,z,A,B,C,D,E){var G;G=this;this.yc=y;this.dz=x;this.config=z;this.xt=A;this.jFb=B;this.CK=C;this.PM=D;this.bm=E;this.M5b=function(F,J){var M;G.bm.mark(w.Pa.z_,F.yi.na,"generate-challenge");M=!1;J.r3b(function(L){M || (M=!0,G.bm.mark(w.Pa.y_,F.yi.na,"generate-challenge"));G.bG(F,J,L).then(function(K){J.YSa(K);G.fxb(J);}).catch(function(K){return J.Rtb(K);});});};this.log=v.ab("DrmServices");this.xt().ks && this.CK.oab().then(function(){G.y0b();}).catch(function(F){G.log.error("Unable to load the persisted DRM data",F);});this.config.S3a && this.cB(D(),n.yh.wm).then(function(F){return F.close();});}Object.defineProperty(b,"__esModule",{value:!0});b.uEa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(53085);d=a(69493);g=a(77134);n=a(24735);h=a(23563);m=a(93673);p=a(31050);q=a(10060);u=a(4203);t=a(92395);w=a(63156);c.prototype.$Ib=function(v,y){return this.cB(y,v.type,v.context).then(function(x){return x.cJb(v.initData,v.s7).then(function(z){return [x,{Sm:x.zt(),data:z.xj}];});});};c.prototype.Rg=function(v,y){var x;x=this;this.log.info("Requesting challenges",this.k1a(v,v.type));return this.cB(y,v.type,v.context).then(function(z){x.K7a(v,z);return z.dJb(v.initData,v.s7).then(function(){return z;});});};c.prototype.K7a=function(v,y){y.x3b(v.yi);this.M5b(v,y);};c.prototype.release=function(v,y){var x;x=this;this.log.info("Releasing server license",this.h2a(v));return this.eMb(v).then(function(){var z;z=Object.assign({active:!1,pe:[]},v.yi);x.CK.oX(z);y.K0b();return v;});};c.prototype.k1a=function(v,y){return {movieId:v.yi.P,xid:v.yi.na,type:(0,n.Bra)(y)};};c.prototype.h2a=function(v){return {movieId:v.yi?v.yi.P:void 0,xid:v.yi?v.yi.na:void 0,keySessionId:v.ly()};};c.prototype.bG=function(v,y,x){this.log.info("Sending license request",this.k1a(v,x.kf));return this.dz.Rg({na:v.yi.na,Gd:v.yi.Gd,X4:[v.yi.Uk],xj:[{sessionId:y.ly() || "session",data:x.xj}],kf:x.kf,Sm:y.zt(),qVa:x.qVa,ri:v.yi.ri,ag:v.yi.ag});};c.prototype.eMb=function(v){this.log.info("Sending release request",this.h2a(v));return this.dz.release({na:v.yi.na,pe:v.pe});};c.prototype.cB=function(v,y,x){return this.jFb.create().then(function(z){return z.createSession(v,y,x).then(function(){return z;});});};c.prototype.x0b=function(v){var y;y=this;return this.dz.release({na:v.na,pe:v.pe}).catch(function(x){y.log.error("Unable to send release data to the server",x);});};c.prototype.y0b=function(){var v;v=this;this.yc.vk(this.config.Qua,function(){v.log.trace("Removing cached sessions",{"count:":v.CK.Y4.length});v.CK.Y4.filter(function(y){return !y.active;}).reduce(function(y,x){return y.then(function(){return v.x0b(x);}).then(function(){return v.CK.oX(x);});},Promise.resolve(void 0));});};c.prototype.fxb=function(v){var y;if(v.ly() && v.yi){y=new p.p_();y.pe=v.pe;y.na=v.yi.na;y.P=v.yi.P;this.CK.USa(y);}};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.bb)),r.__param(1,(0,l.l)(k.Vh)),r.__param(2,(0,l.l)(d.tEa)),r.__param(3,(0,l.l)(h.Aq)),r.__param(4,(0,l.l)(u.Yb)),r.__param(5,(0,l.l)(q.YEa)),r.__param(6,(0,l.l)(m.Kca)),r.__param(7,(0,l.l)(t.mQ)),r.__param(8,(0,l.l)(g.sQ))],a);b.uEa=a;},97485:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.X$a=void 0;c=a(36129);l=a(70999);f=a(47737);k=a(49594);b.X$a=function(g){k.fL.parent=g.ob;return function(){d || (d=new Promise(function(n,h){try{n(k.fL.get(f.vEa));}catch(m){h(new l.Hg(c.V.Flb,c.S.Plb,void 0,"Unable to extract the DRM services from the dependency injector",m));}}));return d;};};},90581:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z){this.Zg=t;this.Ri=w;this.kc=v;this.config=y;this.fi=x;this.Tg=z;}Object.defineProperty(b,"__esModule",{value:!0});b.wEa=void 0;r=a(5163);l=a(22674);f=a(6405);k=a(2248);d=a(84408);g=a(4203);n=a(7605);h=a(53921);m=a(23563);p=a(65315);q=a(20674);u=a(8265);c.prototype.create=function(t){switch(t){case h.Gk.$y:return new q.UEa(this.Ri,this.kc);case h.Gk.zB:return new u.ONa(this.Ri,this.kc,this.Zg,this.Tg);default:return new p.jDa(this.Ri,this.kc,this.fi,this.config);}};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(d.Jq)),r.__param(1,(0,l.l)(f.Mw)),r.__param(2,(0,l.l)(k.$g)),r.__param(3,(0,l.l)(g.Yb)),r.__param(4,(0,l.l)(m.Aq)),r.__param(5,(0,l.l)(n.hx))],a);b.wEa=a;},17250:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z){this.de=t;this.Zg=w;this.kc=v;this.is=y;this.iW=x;this.fi=z;}Object.defineProperty(b,"__esModule",{value:!0});b.VEa=void 0;r=a(5163);l=a(22674);f=a(2248);k=a(42207);d=a(63368);g=a(84408);n=a(74870);h=a(53921);m=a(23563);p=a(81471);q=a(963);u=a(90349);c.prototype.create=function(t){switch(t){case h.Gk.$y:return new q.PMa(this.iW,this.is,this.kc,this.de,this.fi,this.Zg);case h.Gk.zB:return new p.sFa(this.iW,this.is,this.kc,this.de,this.fi,this.Zg);default:return new u.Pu(this.iW,this.is,this.kc,this.de,this.fi,this.Zg);}};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(n.dh)),r.__param(1,(0,l.l)(g.Jq)),r.__param(2,(0,l.l)(f.$g)),r.__param(3,(0,l.l)(k.Uf)),r.__param(4,(0,l.l)(d.nJ)),r.__param(5,(0,l.l)(m.Aq))],a);b.VEa=a;},18135:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p){h=f.Qe.call(this,h,void 0 === p?"EmeConfigImpl":p) || this;h.qd=m;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.WEa=void 0;r=a(5163);l=a(22674);f=a(64174);k=a(83767);d=a(5021);g=a(12501);a=a(22816);da(c,f.Qe);Ya.Object.defineProperties(c.prototype,{N9a:{configurable:!0,enumerable:!0,get:function(){return !0;}},S3a:{configurable:!0,enumerable:!0,get:function(){return this.qd.r4a || this.qd.w7 || this.qd.nV?!0:!1;}},cC:{configurable:!0,enumerable:!0,get:function(){return (0,d.uh)(5);}},Qua:{configurable:!0,enumerable:!0,get:function(){return (0,d.uh)(10);}},tT:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},TT:{configurable:!0,enumerable:!0,get:function(){return !1;}},dma:{configurable:!0,enumerable:!0,get:function(){return !1;}},Qr:{configurable:!0,enumerable:!0,get:function(){return !0;}},BTa:{configurable:!0,enumerable:!0,get:function(){return (0,d.uh)(30);}},CTa:{configurable:!0,enumerable:!0,get:function(){return (0,d.uh)(30);}},ETa:{configurable:!0,enumerable:!0,get:function(){return (0,d.uh)(30);}},a3:{configurable:!0,enumerable:!0,get:function(){return (0,d.uh)(30);}},FTa:{configurable:!0,enumerable:!0,get:function(){return (0,d.uh)(30);}},Cxa:{configurable:!0,enumerable:!0,get:function(){return "";}},h9a:{configurable:!0,enumerable:!0,get:function(){return this.qd.By?!1:!0;}},i9a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});n=c;r.__decorate([g.config(g.bd,"persistentStateRequired")],n.prototype,"N9a",null);r.__decorate([g.config(g.bd,"initializeKeySystemAtStartup")],n.prototype,"S3a",null);r.__decorate([g.config(g.pk,"licenseRenewalRequestDelay")],n.prototype,"cC",null);r.__decorate([g.config(g.pk,"persistedReleaseDelay")],n.prototype,"Qua",null);r.__decorate([g.config(g.string,"drmPersistKey")],n.prototype,"tT",null);r.__decorate([g.config(g.bd,"forceLimitedDurationLicense")],n.prototype,"TT",null);r.__decorate([g.config(g.bd,"disableLicenseRenewal")],n.prototype,"dma",null);r.__decorate([g.config(g.bd,"prepareCadmium")],n.prototype,"Qr",null);r.__decorate([g.config(g.pk,"apiCloseTimeout")],n.prototype,"BTa",null);r.__decorate([g.config(g.pk,"apiCreateMediaKeysTimeout")],n.prototype,"CTa",null);r.__decorate([g.config(g.pk,"apiSetServerCertificateTimeout")],n.prototype,"ETa",null);r.__decorate([g.config(g.pk,"apiGenerateRequestTimeout")],n.prototype,"a3",null);r.__decorate([g.config(g.pk,"apiUpdateTimeout")],n.prototype,"FTa",null);r.__decorate([g.config(g.string,"serverCertificate")],n.prototype,"Cxa",null);r.__decorate([g.config(g.bd,"outputRestrictedIsFatal")],n.prototype,"h9a",null);r.__decorate([g.config(g.bd,"outputRestrictedIsFatalForUhd")],n.prototype,"i9a",null);n=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.zl)),r.__param(1,(0,l.l)(a.rD)),r.__param(2,(0,l.l)(k.WZ)),r.__param(2,(0,l.optional)())],n);b.WEa=n;},70999:function(r,b,a){var l,f;function c(k,d,g,n,h){k=void 0 === k?l.V.Yo:k;return f.Mc.call(this,k,d,g,void 0,void 0,n,f.Mc.Ae(h),h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Hg=void 0;l=a(36129);f=a(31149);da(c,f.Mc);b.Hg=c;},74946:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q,u,t,w,v){this.Zl=p;this.Ea=q;this.kc=u;this.config=t;this.Bo=w;this.so=v;}Object.defineProperty(b,"__esModule",{value:!0});b.XEa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(81918);d=a(2248);g=a(23563);n=a(59818);h=a(97737);a=a(21103);c.prototype.create=function(){var p;p=this;return this.so.CB().then(function(q){return new h.ZEa(p.Zl,p.Ea,p.kc,p.config,p.Bo,q);});};m=c;m=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.bb)),r.__param(1,(0,l.l)(k.Lc)),r.__param(2,(0,l.l)(d.$g)),r.__param(3,(0,l.l)(g.Aq)),r.__param(4,(0,l.l)(n.fA)),r.__param(5,(0,l.l)(a.ax))],m);b.XEa=m;},97737:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v;function c(y,x,z,A,B,C){var D;D=this;this.Ea=x;this.TA=z;this.config=A;this.Bo=B;this.oC=C;this.keyStatuses=new p.Ib({});this.Vta=function(E){var G,F,J,M,L,K;try{F=D.ql.jla(E);J=F.UG;M=F.messageType;L=F.sessionId;D.Ov=D.Ov || F.Ov;D.WX(L);D.log.trace("Received " + E.type + " event",{sessionId:L,messageType:M,keyIds:D.Ov});if(M === b.nea){if(D.config.dma){D.log.trace("Disabling license renewal");return;}D.log.trace("Received a renewal request");D.kf=k.yh.wm;D.yo=t.DH;}D.yo === t.Rg && D.rp(d.ss.Bab);D.yo === t.DH && D.rp(d.ss.Cab);K={xj:J,qVa:M,kf:D.kf};null === (G=D.P8a) || void 0 === G?void 0:G.call(D,K);D.Hpa(J)?D.$B(new m.Mc(f.V.KEa)):D.ik && !D.ik.thb && D.V4a(K);}catch(P){D.$B(P);}};this.Tta=function(E){var G,F,J,M,L,H,I,N,R,X,ha,ta,Ba,La,Za,ab,Z;F=E.target;J=F.keyStatuses;D.WX(F.sessionId);D.log.trace("Received event: " + E.type);try{L=null === (G=D.context) || void 0 === G?void 0:G.N7;E=[];for(var K=ja(J),P=K.next();!P.done;P=K.next()){H=ja(P.value);I=H.next().value;N=H.next().value;R=D.TA.encode(new Uint8Array(I));E.push({no:R,status:N,height:null === L || void 0 === L?void 0:L[R]});}E.sort(function(na,Ha){return (na.height || 0) - (Ha.height || 0);});X=E.map(function(na){return na.no;});ha=E.map(function(na){return na.height;});ta=E.map(function(na){return na.status;});D.nra=X + ", " + ha + ", " + ta;D.log.trace("KeyStatus: " + D.nra);L={};for(var la=ja(J),xa=la.next();!xa.done;xa=la.next()){Ba=ja(xa.value);La=Ba.next().value;Za=Ba.next().value;ab=D.TA.encode(new Uint8Array(La));Z=w[Za];L[ab]=Z.status;D.wG(ab,Z.error) && (M=new n.Hg(Z.error));}D.keyStatuses.set(L);}catch(na){M=new n.Hg(f.V.Rnb);M.lT(na);}M?D.Cr?D.F7(M):D.pV(M):(D.ql.c4() || D.W4a(),D.kf !== k.yh.En || D.ql.rja() || (D.config.dma?D.log.trace("Disabling license renewal"):D.P0b()));};this.ln=function(E){var G;G=D.ql.Zx(E);D.log.error("Received event: " + E.type,G);D.$B(G);D.F7(G);D.ik || D.Cr || D.pV(G);};this.fWb=function(E){D.log.error("MediaKeySession closed unexpectedly: " + E);D.pV(new m.Mc(f.V.jda,v[E]));};this.$B=function(E){D.close().then(function(){var G;D.log.trace("Issuing a generate challenge error");null === (G=D.ik) || void 0 === G?void 0:G.CO.reject(E);D.ik=void 0;},function(G){var F;D.log.error("EmeSession closed with an error.",D.ql.Zx(G));null === (F=D.ik) || void 0 === F?void 0:F.CO.reject(E);D.ik=void 0;});};this.V4a=function(E){var G;null === (G=D.ik) || void 0 === G?void 0:G.CO.resolve(E);D.ik=void 0;};this.F7=function(E){D.log.error("Failed to add license",E);D.close().then(function(){var G,F;D.log.trace("Issuing a license error");null === (G=D.ik) || void 0 === G?void 0:G.CO.reject(E);D.ik=void 0;null === (F=D.Cr) || void 0 === F?void 0:F.reject(E);D.Cr=void 0;},function(G){var F,J;D.log.error("EmeSession closed with an error.",D.ql.Zx(G));D.yo === t.DH && D.rp(d.ss.fTa);null === (F=D.ik) || void 0 === F?void 0:F.CO.reject(E);D.ik=void 0;null === (J=D.Cr) || void 0 === J?void 0:J.reject(E);D.Cr=void 0;});};this.W4a=function(){D.Cr && (D.log.info("Successfully added license"),D.yo === t.Rg?D.rp(d.ss.ZSa):D.yo === t.DH && D.rp(d.ss.eTa),D.Cr.resolve(),D.Cr=void 0);};this.pV=function(E){D.close().then(function(){var G;D.log.trace("Issuing a CDM error");D.ik=void 0;D.Cr=void 0;null === (G=D.M8a) || void 0 === G?void 0:G.call(D,E);},function(G){var F;D.log.error("EmeSession closed with an error.",D.ql.Zx(G));D.ik=void 0;D.Cr=void 0;null === (F=D.M8a) || void 0 === F?void 0:F.call(D,E);});};this.rp=function(E){D.Yc.push({time:D.Ea.Kb(),bW:E});};this.cbb=!1;this.log=y.ab("EmeSession");this.yo=t.S7b;this.hh=C.XWa();this.ql=C.WWa();this.Yc=[];}Object.defineProperty(b,"__esModule",{value:!0});b.ZEa=b.nea=b.oea=void 0;l=a(5021);f=a(36129);k=a(24735);d=a(28289);r=a(28048);g=a(27995);n=a(70999);h=a(59818);m=a(31149);p=a(81734);q=a(94293);u=a(82100);(function(y){y[y.S7b=0]="unknown";y[y.create=1]="create";y[y.load=2]="load";y[y.Rg=3]="license";y[y.DH=4]="renewal";y[y.stop=5]="stop";y[y.closed=6]="closed";})(t || (t={}));b.oea="license-request";b.nea="license-renewal";w={usable:{status:r.Fu.Fgb},expired:{status:r.Fu.gr,error:f.V.Pea},released:{status:r.Fu.released},"output-not-allowed":{status:r.Fu.g9a,error:f.V.BKa},"output-restricted":{status:r.Fu.g9a,error:f.V.Qea},"output-downscaled":{status:r.Fu.eXb},"status-pending":{status:r.Fu.n5b},"internal-error":{status:r.Fu.sPb,error:f.V.Qnb}};v={"internal-error":f.S.Jkb,"closed-by-application":f.S.Fkb,"release-acknowledged":f.S.Nkb,"hardware-context-reset":f.S.hda,"resource-evicted":f.S.Pkb};c.prototype.SL=function(){return this.oC.P7;};c.prototype.g1a=function(){return this.nra;};c.prototype.ly=function(){return this.sessionId;};c.prototype.close=function(){var y;y=this;this.P8a=this.context=void 0;this.yo=t.closed;this.Yc=[];void 0 !== this.J$ && (ob.clearTimeout(this.J$),this.J$=void 0);return this.hh.tQb()?(this.log.trace("Closing the session"),this.hh.Vab(this.Vta),this.hh.Sab(this.Tta),this.hh.Qab(this.ln),this.mediaKeys=void 0,this.Bo.oq(this.config.BTa,this.hh.close()).then(function(){y.log.info("Closed the session");}).catch(function(x){y.log.error("Close failed",x);y.ql.Zx(x).code=f.V.Tnb;throw x;})):Promise.resolve(void 0);};c.prototype.zt=function(){return this.oC.zt();};c.prototype.M2a=function(){return void 0 !== this.Zk;};c.prototype.createSession=function(y,x,z){var A;A=this;this.context=z;this.kf=x;this.yo=t.create;this.rp(d.ss.I5a);return (y.N2a()?Promise.resolve():this.Bo.oq(this.config.CTa,this.hh.createMediaKeys(this.oC)).then(function(B){A.log.trace("Created media keys");return A.Zub(B).then(function(){return y.$Sa(B);}).catch(function(C){return Promise.reject(A.Ava(C,f.V.Qkb));});})).then(function(){A.mediaKeys=y.mediaKeys;try{A.hh.createSession(A.mediaKeys,u.TEMPORARY);A.hh.aTa(A.Vta);A.hh.XSa(A.Tta);A.hh.VSa(A.ln);A.hh.Htb(A.fWb);A.WX(A.hh.ly());}catch(B){return Promise.reject(A.Ava(B,f.V.Gkb));}}).catch(function(B){return Promise.reject(A.Ava(B,f.V.JP));});};c.prototype.x3b=function(y){this.yi=y;this.log.SSa("xid",y.na);};c.prototype.cJb=function(y,x){return this.generateRequest(y,x,!1).then(function(z){return z;});};c.prototype.dJb=function(y,x){return this.generateRequest(y,x,!0).then(function(){});};c.prototype.YSa=function(y){this.pe=y.pe;y=y.Zk.map(function(x){return x.data;});this.Hpa(y)?(this.log.error("The license buffer is empty"),this.$B(new n.Hg(f.V.JEa,f.S.HEa))):(this.yo === t.Rg && (this.rp(d.ss.Aab),this.Zk=y,this.IYa=this.ql.QL(this.Ov,y),this.ik && this.ik.thb && this.V4a()),this.yo === t.DH && (this.rp(d.ss.Dab),this.Zk=y,this.IYa=this.ql.QL(this.Ov,y),this.aja()));};c.prototype.Rtb=function(y){this.yo === t.DH?(this.rp(d.ss.Eab),this.pV(y)):this.$B(y);};c.prototype.aja=function(){var y,x;y=this;if(!this.Zk){x=new n.Hg(f.V.JEa,f.S.MEa);this.F7(x);return Promise.reject(x);}this.Cr=new q.Y0();x=this.Zk;this.Zk=void 0;this.Bo.oq(this.config.FTa,this.hh.update(x,this.yo === t.Rg?g.aE.Request:g.aE.nNa,this.Ov)).then(function(){y.ql.c4() && y.W4a();}).catch(function(z){z=y.ql.Zx(z);z.code=f.V.R0;z.message="Unable to update the EME";y.log.error(z.message,z);y.F7(z);});return this.Cr.promise;};c.prototype.r3b=function(y){this.P8a=y;};c.prototype.j3b=function(y){this.M8a=y;};c.prototype.QL=function(){return this.IYa;};c.prototype.generateRequest=function(y,x,z){var A;A=this;this.yo=t.Rg;this.log.trace("Generating a license challenge");if(!y)return (y=new n.Hg(f.V.IEa,f.S.MEa),this.$B(y),Promise.reject(y));if(this.Hpa(y))return (y=new n.Hg(f.V.IEa,f.S.HEa),this.$B(y),Promise.reject(y));this.ik={CO:new q.Y0(),thb:z};this.Bo.oq(this.config.a3,this.hh.generateRequest(this.ql.zoa(),y,x)).then(function(){A.WX(A.hh.ly());}).catch(function(B){var C,D;C=new n.Hg(f.V.s_,B instanceof h.Hq?f.S.KP:f.S.sl);try{D=A.ql.Zx(B);C.Wc=D.Wc;C.message="Unable to generate request.";C.lT(B);}catch(E){}A.log.error("Unable to generate a license request",C);A.$B(C);});return this.ik.CO.promise;};c.prototype.Zub=function(y){return this.Bo.oq(this.config.ETa,this.hh.setServerCertificate(y,this.ql.X5()));};c.prototype.WX=function(y){y && y !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + y),this.sessionId=y,this.log.SSa("sessionId",y));};c.prototype.P0b=function(){var y;y=this;this.cbb || (this.cbb=!0,this.log.info("Kicking off license renewal",{timeout:this.config.cC}),this.J$=ob.setTimeout(function(){y.J$=void 0;y.CH();},this.config.cC.ea(l.pa)));};c.prototype.BQb=function(y){var x,z,A;return 1080 < (null !== (A=null === (z=null === (x=this.context) || void 0 === x?void 0:x.N7) || void 0 === z?void 0:z[y]) && void 0 !== A?A:0);};c.prototype.wG=function(y,x){return x === f.V.Qea?this.BQb(y)?this.config.i9a:this.config.h9a:!!x;};c.prototype.CH=function(){this.log.trace("Initiating a renewal request");this.kf=k.yh.wm;this.yo=t.DH;this.ql.gka()?this.ql.Bqa(this.hh):this.s4();};c.prototype.s4=function(){var y;y=this;this.hh.s4(this.mediaKeys,u.TEMPORARY,this.Vta,this.Tta,this.ln).then(function(){y.log.debug("Creating session to renew license");y.WX(y.hh.ly());}).catch(function(){y.pV(new n.Hg(f.V.s_));});};c.prototype.Hpa=function(y){return 0 === y.length || y.reduce(function(x,z){return x || 0 === z.length;},!1);};c.prototype.Ava=function(y,x){var z,A;if((null === y || void 0 === y?0:y.code) && (null === y || void 0 === y?0:y.ic))return y;A=(0,u.Roa)(null === y || void 0 === y?void 0:y.message);return new n.Hg(x,y instanceof h.Hq?f.S.KP:f.S.sl,null === (z=null === A || void 0 === A?void 0:A.toString(16)) || void 0 === z?void 0:z.toUpperCase(),null === y || void 0 === y?void 0:y.message,y);};b.ZEa=c;},84218:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZPa=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.tFa=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.QLa=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},48691:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q,u,t){this.Zl=p;this.config=q;this.vT=u;this.aC=t;this.log=this.Zl.ab("KeySystemProvider");}Object.defineProperty(b,"__esModule",{value:!0});b.GHa=void 0;r=a(5163);l=a(22674);f=a(66523);k=a(87386);d=a(4203);g=a(17612);n=a(82100);h=a(41980);a=a(18647);c.prototype.get=function(){var p,q,u;p=this;try{q=(this.config().j5a || [this.config().Yl]).map(function(t){var w;w=g.hb.hU(t);w=p.vT.create(w).cpa();return (0 < w.length?w:[void 0]).map(function(v){return {keySystem:t,robustness:v};});});u=(0,f.flatten)(q).filter(function(t){return p.DHb(t);});return this.aC.get().then(function(t){return p.GHb(u,t);});}catch(t){throw (this.log.error("KeySystemProvider failed.",t),t);}};c.prototype.DHb=function(p){var q;return g.hb.IGa.includes(p.keySystem) || n.JGa.includes(null !== (q=p.robustness) && void 0 !== q?q:"")?this.config().ZTb && 1440 > ob.screen.height * ob.devicePixelRatio?!1:this.config().gZa:!0;};c.prototype.GHb=function(p,q){var u;u=this;return p.reduce(function(t,w,v){var y;y=u.DNb(w);v=p.length - 1 === v;y=(0,n.uWa)(y);q.includes(y) && !v || t.push(w);return t;},[]);};c.prototype.DNb=function(p){var q;q={keySystem:p.keySystem === g.hb.YPa?g.hb.UQ:p.keySystem};p.robustness && (q.robustness=p.robustness);return q;};m=c;m=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.bb)),r.__param(1,(0,l.l)(d.Yb)),r.__param(2,(0,l.l)(h.fda)),r.__param(3,(0,l.l)(a.Uda))],m);b.GHa=m;},61738:function(r,b,a){var l,f,k,d;function c(g,n,h){this.config=g;this.Zl=n;this.Zja=h;this.log=this.Zl.ab("KeySystemRestrictor");this.fSb=this.config().jZa?this.Zja.load():Promise.resolve([]);}Object.defineProperty(b,"__esModule",{value:!0});b.IHa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(4203);a=a(33258);c.prototype.get=function(){var g;g=this;try{return this.config().jZa?this.fSb.then(function(n){return g.MHb(n);}):Promise.resolve([]);}catch(n){return (this.log.error("KeySystemRestrictor failed.",n),Promise.resolve([]));}};c.prototype.MHb=function(g){var n,m;this.Gbb={};n=g.reduce(function(p,q){p[q.keySystem] || (p[q.keySystem]=[]);p[q.keySystem].push(q);return p;},{});this.log.debug("KeySystemErrorCounts: " + JSON.stringify(n));g=[];n=ja(Object.entries(n));for(var h=n.next();!h.done;h=n.next()){m=ja(h.value);h=m.next().value;m=m.next().value;this.VNb(m) && g.push(h);}g.some(function(){return !0;}) && this.log.warn("Restricted KeySystems: " + g);return this.F1b=g;};c.prototype.VNb=function(g){var n,h;n=this;h=g.reduce(function(m,p){n.config().FGb.includes(p.code) && (p=n.SBb(p),m[p] || (m[p]=0),m[p]++);return m;},{});this.Gbb[g[0].keySystem]=h;return Object.values(h).some(function(m){return m >= n.config().GGb;});};c.prototype.SBb=function(g){return [g.code,g.ic,g.Wc].filter(Boolean).join(".");};Ya.Object.defineProperties(c.prototype,{k5a:{configurable:!0,enumerable:!0,get:function(){return this.F1b;}},l5a:{configurable:!0,enumerable:!0,get:function(){return this.Gbb;}}});d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.Yb)),r.__param(1,(0,l.l)(f.bb)),r.__param(2,(0,l.l)(a.Mca))],d);b.IHa=d;},38231:function(r,b,a){var l,f,k,d;function c(g,n){this.vT=g;this.xT=n;}Object.defineProperty(b,"__esModule",{value:!0});b.iJa=void 0;r=a(5163);l=a(22674);f=a(41980);k=a(34008);d=a(52428);c.prototype.create=function(g,n,h){return new d.kJa(g,this.vT,this.xT,n,h);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.fda)),r.__param(1,(0,l.l)(k.mda))],a);b.iJa=a;},52428:function(r,b,a){var l,f;function c(k,d,g,n,h){this.keySystem=k;this.vT=d;this.xT=g;this.oC=n;this.Sm=h;}Object.defineProperty(b,"__esModule",{value:!0});b.kJa=void 0;l=a(17612);f=a(82100);c.prototype.createMediaKeys=function(){return this.oC.createMediaKeys();};c.prototype.getConfiguration=function(){return this.oC.getConfiguration();};c.prototype.zt=function(){return l.hb.hU(this.oC.keySystem);};c.prototype.XWa=function(){return this.xT.create(this.Sm);};c.prototype.WWa=function(){return this.vT.create(this.Sm);};Ya.Object.defineProperties(c.prototype,{P7:{configurable:!0,enumerable:!0,get:function(){var k,d;k=this.keySystem;d=(0,f.p6)(this.oC);d && (k+="." + d);return k;}}});b.kJa=c;},9717:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C,D,E){this.Zl=x;this.kc=z;this.config=A;this.fi=B;this.vUb=C;this.xT=D;this.XQb=E;this.log=this.Zl.ab("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.lJa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(87386);d=a(70999);g=a(53921);n=a(2248);h=a(4203);m=a(17612);p=a(82100);q=a(84218);u=a(91490);t=a(34008);w=a(22266);v=a(23563);y=a(73796);c.prototype.CB=function(){this.promise || (this.promise=this.U1b());return this.promise;};c.prototype.kCb=function(x,z){var A;A="video/mp4;codecs=" + (z === p.ws && this.config().p7a?y.fd.H_:y.fd.NP);A={initDataTypes:[p.Cu],videoCapabilities:[{contentType:A}],sessionTypes:[p.TEMPORARY]};x === g.Gk.nZ && this.fi.N9a && (A.persistentState="required");x=A.videoCapabilities[0];z && (x.robustness=z);return [A];};c.prototype.cCb=function(x,z){var A;A=this;return new Promise(function(B,C){var D;D=m.hb.hU(x);A.xT.create(D).b1b(x,A.kCb(D,z)).then(function(E){A.log.trace("Created the media keys system access",{keySystem:x,supportedconfig:E.getConfiguration?JSON.stringify(E.getConfiguration()):void 0});E=A.vUb.create(x,E,D);A.P7=E.P7;B(E);}).catch(function(E){A.log.warn("Unable to create the media key system access object",{keySystem:x,error:E.message});C(new d.Hg(f.V.GEa,f.S.sl,void 0,"Unable to create media keys system access. " + E.message,E));});});};c.prototype.nKb=function(){var x;x=this.config().j5a || [this.config().Yl];if(1 < x.length)return (x=x.map(function(z){return m.hb.poa(m.hb.hU(z));}),1 === new Set(x).size?Promise.resolve(x[0]):this.CB().then(function(z){return z.zt();}).then(function(z){return m.hb.poa(z);}));x=m.hb.hU(x[0]);return Promise.resolve(m.hb.poa(x));};c.prototype.eAa=function(x){var z,A,B,C;z=this;A=x.zt();B=x.XWa();C=x.WWa();return x.createMediaKeys().then(function(D){B.createSession(D,p.TEMPORARY);return B.setServerCertificate(D,C.X5());}).then(function(){return B.generateRequest(p.Cu,z.yoa(A),!1);}).then(function(){return B.close();}).then(function(){return x;}).catch(function(D){z.log.error("validateKeySystemAccess failed",D);return Promise.reject(D);});};c.prototype.yoa=function(x){switch(x){case g.Gk.zB:x=q.tFa;break;case g.Gk.$y:x=q.QLa;break;default:x=q.ZPa;}return x.map(this.kc.decode);};c.prototype.U1b=function(){var x;x=this;try{return this.XQb.get().then(function(z){return z.map(function(A,B){return function(){var C,D;C=B === z.length - 1;D=x.config().eAa && !C;return x.cCb(A.keySystem,A.robustness).then(function(E){return D?x.eAa(E):Promise.resolve(E);});};});}).then(function(z){return x.V1b(z);});}catch(z){return Promise.reject(z);}};c.prototype.V1b=function(x){return x.reduce(function(z,A){return z.then(function(B){return Promise.resolve(B);}).catch(function(){return A();});},Promise.reject(Error("keySystem missing")));};Ya.Object.defineProperties(c.prototype,{i5a:{configurable:!0,enumerable:!0,get:function(){return this.P7;}}});a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.bb)),r.__param(1,(0,l.l)(n.$g)),r.__param(2,(0,l.l)(h.Yb)),r.__param(3,(0,l.l)(v.Aq)),r.__param(4,(0,l.l)(u.jJa)),r.__param(5,(0,l.l)(t.mda)),r.__param(6,(0,l.l)(w.HHa))],a);b.lJa=a;},66372:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.mJa=void 0;a.prototype.N2a=function(){return void 0 !== this.mediaKeys;};a.prototype.$Sa=function(c){this.mediaKeys=c;};a.prototype.K0b=function(){this.N2a() && (this.mediaKeys=void 0);};b.mJa=a;},77699:function(r,b){function a(c,l,f){var k;k=this;this.kc=c;this.xh=l;this.Zg=f;this.VKb=function(d){var g;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=k.kc.decode(d);d=d.subarray(4);g=new Uint8Array(16);g.set(d);return g;};this.vFa={Cu:1667591779,jjb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.rFa=void 0;a.prototype.Gzb=function(c,l){l=l?this.vFa.jjb:this.vFa.Cu;c=c.map(function(f){return {zhc:"",YQb:f,kja:f,W4b:f,r9b:[1]};});return this.JSb(l,c);};a.prototype.ISb=function(c){var l;l=new Uint8Array(4);new DataView(l.buffer).setUint32(0,c);return this.isa("fpsi",[l]);};a.prototype.HSb=function(c,l,f,k){c=[this.isa("fkri",[c])];l.byteLength && c.push(this.KV("fkai",[l]));f.byteLength && c.push(this.KV("fkcx",[f]));k.length && c.push(this.KV("fkvl",[new Uint8Array(new Uint32Array(k).buffer)]));return this.KV("fpsk",c);};a.prototype.JSb=function(c,l){var f,d;f=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.ISb(c)];for(var k in l){d=l[k];c.push(this.HSb(d.YQb,d.kja,d.W4b,d.r9b));}l=this.KV("fpsd",c);k=new Uint8Array(4);new DataView(k.buffer).setUint32(0,l.byteLength);return this.isa("pssh",[f,k,l]);};a.prototype.isa=function(c,l){var f,k,d;f=0;for(d in l){f+=l[d].byteLength;}f=new Uint8Array(12 + f);k=new DataView(f.buffer);d=0;k.setUint32(d,f.byteLength);d+=4;f.set(this.Zg.decode(c),d);d+=4;k.setUint32(d,0);d+=4;for(var g in l){c=l[g];f.set(c,d);d+=c.byteLength;}return f;};a.prototype.KV=function(c,l){var f,k;f=0;for(k in l){f+=l[k].byteLength;}f=new Uint8Array(8 + f);k=0;new DataView(f.buffer).setUint32(k,f.byteLength);k+=4;f.set(this.Zg.decode(c),k);k+=4;for(var d in l){c=l[d];f.set(c,k);k+=c.byteLength;}return f;};b.rFa=a;},81471:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z){t=f.Pu.call(this,t,w,v,y,x,z) || this;t.kc=v;t.xh=y;t.fi=x;t.Zg=z;t.a3a=new k.rFa(t.kc,t.xh,t.Zg);return t;}Object.defineProperty(b,"__esModule",{value:!0});b.sFa=void 0;r=a(5163);l=a(22674);f=a(90349);k=a(77699);d=a(63368);g=a(42207);n=a(2248);h=a(74870);m=a(23563);p=a(84408);q=a(27995);u=a(47450);da(c,f.Pu);c.prototype.generateRequest=function(t,w,v){var y,x,z;y=this;try{x=w.map(function(A){return y.a3a.VKb(A);});this.J3a=x.map(function(A){return y.kc.encode(A);});z=this.a3a.Gzb(x,v);return f.Pu.prototype.generateRequest.call(this,t,[z],!1);}catch(A){return Promise.reject(A);}};c.prototype.update=function(t,w,v){var y,x,z,A,B;y=this;if(v)try{x=this.Zg.encode(t[0]);z=JSON.parse(x).RESPONSES.map(function(C){var D;D=u.o1.qeb(C.ID);return {keyID:w === q.aE.nNa?y.J3a[y.J3a.length - 1]:v[D],payload:C.PAYLOAD};});if(w === q.aE.Request){A=z.map(function(C){return C.keyID;});v.forEach(function(C){-1 === A.indexOf(C) && z.push({keyID:C,error:1});});}B=JSON.stringify(z);t=[this.Zg.decode(B)];}catch(C){return Promise.reject(C);}return f.Pu.prototype.update.call(this,t,w);};c.prototype.CH=function(){return f.Pu.prototype.update.call(this,[this.Zg.decode("renew")],q.aE.Request);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(d.nJ)),r.__param(1,(0,l.l)(g.Uf)),r.__param(2,(0,l.l)(n.$g)),r.__param(3,(0,l.l)(h.dh)),r.__param(4,(0,l.l)(m.Aq)),r.__param(5,(0,l.l)(p.Jq))],a);b.sFa=a;},963:function(r,b,a){var l,f,k,d;function c(){return f.Pu.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.PMa=void 0;r=a(5163);l=a(22674);f=a(90349);k=a(70999);d=a(36129);da(c,f.Pu);c.prototype.s4=function(g,n,h,m,p){this.Vab(h);this.Sab(m);this.Qab(p);this.iRa=this.we;this.we=g.createSession(n);this.aTa(h);this.XSa(m);this.VSa(p);return this.generateRequest(this.initDataType,this.initData,!1);};c.prototype.close=function(){var n;function g(h){return h && h.sessionId?h.close():Promise.resolve();}n=this;this.Lka=void 0;return this.we?Promise.all([g(this.we),g(this.iRa)]).then(function(){}).finally(function(){n.we=void 0;n.iRa=void 0;}):Promise.reject(new k.Hg(d.V.FEa,d.S.XI,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(g,n,h){this.initDataType=g;this.initData=n;return f.Pu.prototype.generateRequest.call(this,g,n,h);};a=c;a=r.__decorate([(0,l.U)()],a);b.PMa=a;},90349:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z){this.iW=t;this.is=w;this.kc=v;this.xh=y;this.fi=x;this.Zg=z;(0,k.po)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.Pu=void 0;r=a(5163);f=a(22674);k=a(66523);d=a(36129);g=a(63368);n=a(42207);h=a(70999);m=a(74870);p=a(2248);q=a(23563);a=a(84408);c.prototype.ly=function(){if(this.we)return this.we.sessionId;};c.prototype.b1b=function(t,w){return this.iW.requestMediaKeySystemAccess(t,w);};c.prototype.createMediaKeys=function(t){return t.createMediaKeys();};c.prototype.createSession=function(t,w){this.we=t.createSession(w);};c.prototype.s4=function(){return Promise.reject(new h.Hg(d.V.s_));};c.prototype.tQb=function(){return !!this.we;};c.prototype.setServerCertificate=function(t,w){return this.is.I2(t.setServerCertificate) && w?t.setServerCertificate(w):Promise.resolve();};c.prototype.generateRequest=function(t,w){return this.we?this.we.generateRequest(t,w[0]):Promise.reject(new h.Hg(d.V.s_,d.S.XI,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(t){return this.we?this.we.update(t[0]):Promise.reject(new h.Hg(d.V.NEa,d.S.XI,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(t){return this.we?this.we.load(t):Promise.reject(new h.Hg(d.V.Mkb,d.S.XI,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var t;this.Lka=void 0;if(!this.we)return Promise.reject(new h.Hg(d.V.FEa,d.S.XI,void 0,"Unable to close a key session, key session is not valid"));t=Promise.resolve();this.ly() && (t=this.we.close());this.we=void 0;return t;};c.prototype.remove=function(){return this.we?this.we.remove():Promise.reject(new h.Hg(d.V.Okb,d.S.XI,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.CH=function(){return Promise.reject(new h.Hg(d.V.ida,void 0,"Unable to renew a key session, not supported"));};c.prototype.aTa=function(t){if(!this.we)throw ReferenceError("Unable to add message handler, key session is not valid");this.we.addEventListener(l.REa,t);};c.prototype.XSa=function(t){if(!this.we)throw ReferenceError("Unable to add key status handler, key session is not valid");this.we.addEventListener(l.QEa,t);};c.prototype.VSa=function(t){if(!this.we)throw ReferenceError("Unable to add error handler, key session is not valid");this.we.addEventListener(l.PEa,t);};c.prototype.Htb=function(t){var w;w=this;if(!this.we)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.Lka=t;this.we.closed.then(function(v){var y;return null === (y=w.Lka) || void 0 === y?void 0:y.call(w,v);});};c.prototype.Vab=function(t){if(!this.we)throw ReferenceError("Unable to remove message handler, key session is not valid");this.we.removeEventListener(l.REa,t);};c.prototype.Sab=function(t){if(!this.we)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.we.removeEventListener(l.QEa,t);};c.prototype.Qab=function(t){if(!this.we)throw ReferenceError("Unable to remove error handler, key session is not valid");this.we.removeEventListener(l.PEa,t);};u=l=c;u.REa="message";u.QEa="keystatuseschange";u.PEa="error";u=l=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(g.nJ)),r.__param(1,(0,f.l)(n.Uf)),r.__param(2,(0,f.l)(p.$g)),r.__param(3,(0,f.l)(m.dh)),r.__param(4,(0,f.l)(q.Aq)),r.__param(5,(0,f.l)(a.Jq))],u);b.Pu=u;},65315:function(r,b,a){var l,f,k,d,g,n,h,m,p,q;function c(u,t,w,v){this.Ri=u;this.kc=t;this.fi=w;this.config=v;}Object.defineProperty(b,"__esModule",{value:!0});b.jDa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(6405);d=a(2248);g=a(70999);n=a(59818);h=a(23563);m=a(4203);p=a(31149);q=a(82100);c.prototype.c4=function(){return !1;};c.prototype.rja=function(){return !0;};c.prototype.gka=function(){return !0;};c.prototype.zoa=function(){return q.Cu;};c.prototype.X5=function(){return this.fi.Cxa?this.kc.decode(this.fi.Cxa):this.kc.decode(q.XPa);};c.prototype.cpa=function(){return [q.ws,q.n1,q.m1];};c.prototype.Bqa=function(){Promise.reject(new p.Mc(f.V.ida));};c.prototype.jla=function(u){var t;return {type:u.type,sessionId:null === (t=u.target) || void 0 === t?void 0:t.sessionId,UG:[new Uint8Array(u.message)],messageType:u.messageType};};c.prototype.Zx=function(u){var t,w,v;t=new g.Hg(f.V.Eq);w=null === u || void 0 === u?void 0:u.code;null != w && void 0 !== w?(w=parseInt(w,10),t.ic=1 <= w && 9 >= w?f.S.us + w:f.S.us):t.ic=u instanceof n.Hq?f.S.KP:f.S.sl;try{v=u.message.match(/\((\d*)\)/)[1];t.Wc=this.Ri.RF(v,4);}catch(y){}t.lT(u);return t;};c.prototype.QL=function(){};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.Mw)),r.__param(1,(0,l.l)(d.$g)),r.__param(2,(0,l.l)(h.Aq)),r.__param(3,(0,l.l)(m.Yb))],a);b.jDa=a;},20674:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q){this.Ri=p;this.kc=q;}Object.defineProperty(b,"__esModule",{value:!0});b.UEa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(6405);d=a(2248);g=a(70999);n=a(59818);h=a(31149);m=a(82100);c.prototype.c4=function(){return !0;};c.prototype.rja=function(){return !1;};c.prototype.gka=function(){return !1;};c.prototype.zoa=function(){return m.Cu;};c.prototype.X5=function(){};c.prototype.cpa=function(){return [];};c.prototype.Bqa=function(){Promise.reject(new h.Mc(f.V.ida));};c.prototype.jla=function(p){var q;q=new Uint8Array(p.message);q=this.fna(q,"PlayReadyKeyMessage","Challenge");q=this.kc.decode(q);return {type:p.type,sessionId:p.target.sessionId,UG:[q],messageType:p.messageType};};c.prototype.Zx=function(p){var q,u,t;q=new g.Hg(f.V.Eq);u=p.code;null != u && void 0 !== u?(u=parseInt(u,10),q.ic=1 <= u && 9 >= u?f.S.us + u:f.S.us):q.ic=p instanceof n.Hq?f.S.KP:f.S.sl;try{t=(/\((\d+)\)/).exec(p.message);q.Wc=this.Ri.RF(Number(t && t[1]),4);}catch(w){}q.lT(p);return q;};c.prototype.fna=function(p,q){var t,w,v;for(var u=1;u < arguments.length;++u){;}for(u=1;u < arguments.length;u++){;}u="";w=p.length;for(t=0;t < w;t++){v=p[t];0 < v && (u+=String.fromCharCode(v));}w="\\s*(.*)\\s*";for(t=arguments.length - 1;0 < t;t--){v=arguments[t];if(0 > u.search(v))return "";v="(?:[^:].*:|)" + v;w="[\\s\\S]*<" + v + "[^>]*>" + w + "</" + v + ">[\\s\\S]*";}return (u=u.match(new RegExp(w)))?u[1]:"";};c.prototype.QL=function(){};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.Mw)),r.__param(1,(0,l.l)(d.$g))],a);b.UEa=a;},47450:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.o1=void 0;a.QOb=function(c){return "ID" + (c + 1);};a.qeb=function(c){return Number(c.substr(2)) - 1;};b.o1=a;},8265:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t;function c(w,v,y,x){this.Ri=w;this.kc=v;this.Zg=y;this.Tg=x;}Object.defineProperty(b,"__esModule",{value:!0});b.ONa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(6405);d=a(84408);g=a(70999);n=a(59818);h=a(2248);m=a(82100);p=a(97737);q=a(31149);u=a(7605);t=a(47450);c.prototype.c4=function(){return !1;};c.prototype.rja=function(){return !1;};c.prototype.gka=function(){return !0;};c.prototype.zoa=function(){return m.Cu;};c.prototype.X5=function(){return this.kc.decode(m.w_);};c.prototype.cpa=function(){return [];};c.prototype.Bqa=function(w){w.CH();};c.prototype.jla=function(w){var v,y;v=[];if(w.messageType === p.oea || w.messageType === p.nea){if(w.messageType === p.oea){y=this.Zg.encode(new Uint8Array(w.message));v=JSON.parse(y);y=v.map(function(x){return x.keyID;});v=v.map(function(x){return x.payload;});}else v=[this.kc.encode(new Uint8Array(w.message))];if(0 === v.length || !v.every(function(x){return x && x.length;}))throw new q.Mc(f.V.KEa);v=this.X6b(v);v=this.Zg.decode(JSON.stringify(v));}else v=new Uint8Array(w.message);return {type:w.type,sessionId:w.target.sessionId,UG:[v],messageType:w.messageType,Ov:y};};c.prototype.Zx=function(w){var v,y,x,z;y=null === (v=w.target) || void 0 === v?void 0:v.error;if(y)(x=y.systemCode,z=y.code);v=new g.Hg(f.V.Eq,w instanceof n.Hq?f.S.KP:f.S.us,x?this.Ri.RF(x,4):z,"",y);v.lT(w);return v;};c.prototype.X6b=function(w){w=w.map(function(v,y){return {ID:t.o1.QOb(y),PAYLOAD:v};});return {VERSION:this.Tg.vv?3:1,CHALLENGES:w};};c.prototype.QL=function(w,v){var y,x;y=this;if(v && this.Tg.vv)try{x=this.Zg.encode(v[0]);return JSON.parse(x).RESPONSES.sort(function(z,A){return z.ID > A.ID?1:-1;}).map(function(z){var A;A=t.o1.qeb(z.ID);z=y.kc.decode(z.DHB).subarray(4,12);A=y.kc.decode(w[A]).subarray(0,8);return {from:z,to:A};});}catch(z){throw new g.Hg(f.V.Pnb,void 0,void 0,void 0,z);}};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.Mw)),r.__param(1,(0,l.l)(h.$g)),r.__param(2,(0,l.l)(d.Jq)),r.__param(3,(0,l.l)(u.hx))],a);b.ONa=a;},63341:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.S_a=void 0;r=a(22674);c=a(62502);l=a(15031);f=a(76691);k=a(69936);d=a(33399);g=a(14318);n=a(75447);h=a(69484);b.S_a=new r.gd(function(m){m(h.BFa).to(c.AFa).ha();m(h.rNa).to(l.qNa).ha();m(h.pNa).to(f.oNa).ha();m(g.xFa).to(k.wFa).ha();m(n.GGa).to(d.FGa).ha();});},14318:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xFa="FtlDataParserSymbol";},69484:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rNa="ReportSyncSymbol";b.pNa="ReportApiErrorSyncSymbol";b.zFa="FtlProbeConfigSymbol";b.BFa="FtlProbeSymbol";},75447:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GGa="HttpRequesterSymbol";},69936:function(r,b,a){var l,f,k,d,g;function c(n,h){this.is=n;this.json=h;(0,f.po)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.wFa=void 0;r=a(5163);l=a(22674);f=a(66523);k=a(63368);d=a(5021);a=a(42207);c.prototype.parse=function(n){var m;n=this.json.parse(n);if(!this.is.kia(n))throw Error("FtlProbe: param: not an object");if(n.next && !this.is.ZR(n.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.ZR(n.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(n.pulse_delays && !this.is.PA(n.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.ZR(n.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.PA(n.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Fm(n.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.qS(n.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var h=0;h < n.urls.length;++h){m=n.urls[h];if(!this.is.kia(m))throw Error("FtlProbe: param.urls[" + h + "]: not an object");if(!this.is.qp(m.name))throw Error("FtlProbe: param.urls[" + h + "].name: not a string");if(!this.is.qp(m.url))throw Error("FtlProbe: param.urls[" + h + "].url: not a string");}return {n_b:n.pulses,bab:n.pulse_delays?n.pulse_delays.map(d.Ob):[],m_b:(0,d.Ob)(n.pulse_timeout),d5a:n.next?(0,d.Ob)(n.next):void 0,urls:n.urls,Vra:n.logblob,context:n.ctx};};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.Uf)),r.__param(1,(0,l.l)(k.FD))],g);b.wFa=g;},34731:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q){m=d.Qe.call(this,m,"FtlProbeConfigImpl") || this;m.hh=p;m.sa=q;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.yFa=void 0;r=a(5163);l=a(30869);f=a(22674);k=a(5021);d=a(64174);g=a(24747);n=a(12501);a=a(83767);da(c,d.Qe);Ya.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.Una + (-1 === this.Una.indexOf("?")?"?":"&") + "monotonic=" + this.sa.N7a + "&device=web";}},Pdb:{configurable:!0,enumerable:!0,get:function(){return k.Ia;}},Mna:{configurable:!0,enumerable:!0,get:function(){return "";}},Una:{configurable:!0,enumerable:!0,get:function(){return this.hh.endpoint + "/ftl/probe" + (this.Mna?"?force=" + this.Mna:"");}}});h=c;r.__decorate([n.config(n.bd,"ftlEnabled")],h.prototype,"enabled",null);r.__decorate([n.config(n.pk,"ftlStartDelay")],h.prototype,"Pdb",null);r.__decorate([n.config(n.string,"ftlEndpointForceParam")],h.prototype,"Mna",null);r.__decorate([n.config(n.url,"ftlEndpoint")],h.prototype,"Una",null);h=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(a.zl)),r.__param(1,(0,f.l)(g.DZ)),r.__param(2,(0,f.l)(l.cg))],h);b.yFa=h;},62502:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q,u,t,w,v,y){this.config=p;this.k3a=q;this.yc=u;this.lf=t;this.Y0b=w;this.swa=v;this.LQb=0;this.ma=y.ab("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.AFa=void 0;r=a(5163);f=a(22674);k=a(5021);d=a(53085);g=a(87386);n=a(14318);h=a(75447);a=a(69484);c.prototype.start=function(){this.config.enabled && !this.Vr && (this.Vr=this.yc.vk(this.config.Pdb,this.dO.bind(this)));};c.prototype.stop=function(){this.Vr && (this.Vr.cancel(),this.Vr=void 0);};c.prototype.dO=function(){var p,q;p=this;q="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.LQb++;this.KMb(q).then(function(u){return Promise.all(u.urls.map(function(t){return p.CNb(u,t.url,t.name);})).then(function(t){0 < t.length && p.Y0b.rX({data:t,context:u.context,Vra:u.Vra});}).then(function(){return u;});}).then(function(u){p.Vr && (u.d5a?p.Vr=p.yc.vk(u.d5a,p.dO.bind(p)):p.stop());}).catch(function(u){return p.ma.error("FTL run failed",u);});};c.prototype.KMb=function(p){var q;q=this;return this.k3a.get(p,!1).then(function(u){var t;if(200 != u.status || null == u.body)return (q.swa.rX({url:p,status:u.status,Rua:"FTL API request failed",am:u.am}),Promise.reject(Error("FTL API request failed: " + u.status)));t=q.lf.parse(u.body);return t instanceof Error?(q.swa.rX({url:p,status:4,Rua:"FTL Probe API JSON parsing error",am:u.am}),Promise.reject(t)):Promise.resolve(t);}).catch(function(u){u instanceof Error && (q.swa.rX({url:p,status:0,Rua:u.message}),q.ma.error("FTL API call failed",u.message));return Promise.reject(u);});};c.prototype.CNb=function(p,q,u){var t;t=this;return new Promise(function(w,v){var G;for(var y,x,z,A,B,C=[],D={},E=0;E < p.n_b;(D={Uba:D.Uba,Vba:D.Vba},++E)){D.Uba=E < p.bab.length?p.bab[E]:k.Ia;D.Vba="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (E + 1);G=(function(F){return function(){return new Promise(function(J,M){t.yc.vk(F.Uba,function(){l.HZb(t.k3a,F.Vba,p.m_b).then(function(L){function K(P,H,I){P || (P=I.headers[H]);return P;}y=K(y,"via",L);x=K(x,"x-ftl-probe-data",L);z=K(z,"x-ftl-error",L);A=K(A,"x-ftl-probe-recv-ts",L);B=K(B,"latency-trace",L);L={status:L.status,am:L.am,u9b:y || "",Fyb:x || "",GT:z || "",R2b:A || "",kRb:t.FXb(B)};J(L);}).catch(function(L){M(L);});});});};})(D);C.push(0 < E?C[E - 1].then(G):G());}Promise.all(C).then(function(F){w({url:q,name:u,data:F});}).catch(function(F){v(F);});});};c.prototype.FXb=function(p){var q;if(p){q={};p=ja(p.split(";"));for(var u=p.next();!u.done;u=p.next()){if((u=u.value.trim().split("=")) && 2 == u.length)try{q[u[0].trim()]=Number.parseInt(u[1]);}catch(t){}}return q;}};c.HZb=function(p,q,u){return p.get(q,!1,u).then(function(t){return Object.assign({},t);});};m=l=c;m=l=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(a.zFa)),r.__param(1,(0,f.l)(h.GGa)),r.__param(2,(0,f.l)(d.Vh)),r.__param(3,(0,f.l)(n.xFa)),r.__param(4,(0,f.l)(a.rNa)),r.__param(5,(0,f.l)(a.pNa)),r.__param(6,(0,f.l)(g.bb))],m);b.AFa=m;},33399:function(r,b,a){var l,f,k,d,g,n,h,m,p;function c(q,u,t){this.sa=q;this.j$b=u;this.performance=t;(0,f.po)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.FGa=void 0;r=a(5163);f=a(66523);k=a(64274);d=a(72574);g=a(63368);n=a(30869);h=a(22674);m=a(81438);p=a(5021);c.prototype.get=function(q,u,t){var w;w=this;return new Promise(function(v,y){var x,z,A;try{x=w.j$b.create();("withCredentials" in x) || y(Error("Missing CORS support"));x.open("GET",q,!0);u && (x.withCredentials=!0);t && (x.timeout=t.ea(p.pa));z=w.sa.ke;A=void 0;x.onreadystatechange=function(){var B;switch(x.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=w.sa.ke.qa(z);break;case XMLHttpRequest.DONE:B=w.sa.ke.qa(z);B={body:x.responseText,status:x.status,headers:l.Bua(x.getAllResponseHeaders()),am:w.Joa(q,(0,d.xa)(x.responseText.length),B,A)};v(B);}};x.send();}catch(B){y(B);}});};c.Bua=function(q){var u,w,v;u={};q=q.split("\r\n");for(var t=0;t < q.length;t++){w=q[t];v=w.indexOf(": ");0 < v && (u[w.substring(0,v).toLowerCase()]=w.substring(v + 2));}return u;};c.prototype.Joa=function(q,u,t,w){u={size:u,duration:t,eza:w};if(!this.performance || !this.performance.getEntriesByName)return u;t=this.performance.getEntriesByName(q);if(0 == t.length && (t=this.performance.getEntriesByName(q + "/"),0 == t.length))return u;q=t[t.length - 1];u=(0,k.IM)(u);q.decodedBodySize && (u.size=(0,d.xa)(q.decodedBodySize));0 < q.duration?u.duration=(0,p.timestamp)(q.duration):0 < q.startTime && 0 < q.responseEnd && (u.duration=(0,p.timestamp)(q.responseEnd - q.startTime));0 < q.requestStart && (u.wYa=(0,p.timestamp)(q.domainLookupEnd - q.domainLookupStart),u.Wya=(0,p.timestamp)(q.connectEnd - q.connectStart),u.eza=(0,p.timestamp)(q.responseStart - q.startTime),0 === q.secureConnectionStart?u.kza=(0,p.timestamp)(0):void 0 !== q.secureConnectionStart && (t=q.connectEnd - q.secureConnectionStart,u.kza=(0,p.timestamp)(t),u.Wya=(0,p.timestamp)(q.connectEnd - q.connectStart - t)),0 < this.performance.timeOrigin && 0 < q.responseStart && (u.pbb=(0,p.timestamp)(this.performance.timeOrigin + q.requestStart),u.Dbb=(0,p.timestamp)(this.performance.timeOrigin + q.responseStart)));return u;};a=l=c;a=l=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(n.cg)),r.__param(1,(0,h.l)(m.eQa)),r.__param(2,(0,h.l)(g.afa)),r.__param(2,(0,h.optional)())],a);b.FGa=a;},76691:function(r,b,a){var l,f,k,d,g,n;function c(h,m){this.Kf=h;this.Nsa=m;}Object.defineProperty(b,"__esModule",{value:!0});b.oNa=void 0;r=a(5163);f=a(22674);k=a(72574);d=a(5021);g=a(45118);a=a(31850);c.prototype.rX=function(h){h=this.Nsa.kt("ftlProbeError","info",l.e$b({url:h.url,sc:h.status,pf_err:h.Rua},h));this.Kf.xc(h);};c.e$b=function(h,m){m.am && (m=m.am,l.Vn(h,"d",m.duration),l.Vn(h,"dns",m.wYa),l.Vn(h,"tcp",m.Wya),l.Vn(h,"tls",m.kza),l.Vn(h,"ttfb",m.eza),l.Vn(h,"client_send_ts",m.pbb),l.Vn(h,"client_recv_ts",m.Dbb),h.sz=m.size.ea(k.rs));return h;};c.Vn=function(h,m,p){p && (h[m]=p.ea(d.pa));};n=l=c;n=l=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(g.tl)),r.__param(1,(0,f.l)(a.Yw))],n);b.oNa=n;},15031:function(r,b,a){var l,f,k,d,g,n;function c(h,m){this.Kf=h;this.Nsa=m;}Object.defineProperty(b,"__esModule",{value:!0});b.qNa=void 0;r=a(5163);f=a(22674);k=a(72574);d=a(5021);g=a(45118);a=a(31850);c.prototype.rX=function(h){var m;m={ctx:h.context,data:h.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(q){return l.f$b({d:q.am.duration.ea(d.pa),sc:q.status,sz:q.am.size.ea(k.rs),via:q.u9b,cip:q.Fyb,err:q.GT,server_recv_ts:q.R2b},q);})};})};h=this.Nsa.kt(h.Vra,"info",m);this.Kf.xc(h);};c.f$b=function(h,m){l.Vn(h,"dns",m.am.wYa);l.Vn(h,"tcp",m.am.Wya);l.Vn(h,"tls",m.am.kza);l.Vn(h,"ttfb",m.am.eza);l.Vtb(h,m.kRb);l.Vn(h,"client_send_ts",m.am.pbb);l.Vn(h,"client_recv_ts",m.am.Dbb);return h;};c.Vtb=function(h,m){m && (h.rtts=m);};c.Vn=function(h,m,p){p && (h[m]=p.ea(d.pa));};n=l=c;n=l=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(g.tl)),r.__param(1,(0,f.l)(a.Yw))],n);b.qNa=n;},43367:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Yk=void 0;r=a(22674);c=a(80012);l=a(26971);b.Yk=new r.gd(function(f){f(c.QHa).to(l.PHa);});},80012:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QHa="LicenseBrokerFactorySymbol";},20124:function(r,b,a){var l,f,k,d,g;function c(n,h){this.Gb=n;this.j=h;this.wV=[];}Object.defineProperty(b,"__esModule",{value:!0});b.uP=void 0;r=a(5163);l=a(36129);f=a(22674);k=a(32687);d=a(3887);g=a(31276);c.prototype.C5=function(n){this.wV.forEach(function(h){return h(n);});};c.prototype.rd=function(n,h,m){this.j.rd(n,h,m);};c.prototype.Qtb=function(n){-1 === this.wV.indexOf(n) && this.wV.push(n);};c.prototype.J0b=function(n){n=this.wV.indexOf(n);0 <= n && this.wV.splice(n,1);};c.prototype.u2a=function(n){var h,m;h={};(0,k.Xc)(n.code)?h.za=(0,l.jFa)(n.code):h.za=l.S.sl;try{m=n.message.match(/\((\d*)\)/)[1];h.He=(0,g.Bja)(m,4);}catch(p){}h.Nb=(0,d.Ae)(n);return h;};a=c;a=r.__decorate([(0,f.U)()],a);b.uP=a;},94951:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t;function c(w,v,y,x,z){x=p.uP.call(this,x,z) || this;x.config=w;x.fi=v;x.ed=y;x.log=(0,f.Fh)(x.j,"LegacyLicenseBroker");x.Yl=x.config().Yl;x.config().T$a?(0,d.J4a)()?x.yba=!0:x.log.error("Promise based eme requested but platform does not support it",{browserua:g.QD}):x.yba=!1;return x;}Object.defineProperty(b,"__esModule",{value:!0});b.LHa=void 0;r=a(5163);l=a(36129);f=a(31276);k=a(95162);d=a(52569);g=a(22365);n=a(22674);h=a(99037);m=a(91581);p=a(20124);q=a(24735);u=a(5021);da(c,p.uP);c.prototype.VWa=function(w){var v;v=void 0 === v?this.j:v;return new this.Or.WI(w,function(y){return v.k4.bG(y);},function(y){return v.k4.release(y);},{gf:!1,kk:!1});};c.prototype.cB=function(w){var v,y,x,z,A,B;v=this;w=void 0 === w?this.j:w;y=a(24066).Xn;this.Or.WI || this.rd(l.V.eJ,l.S.Hkb);x=(0,f.Fh)(w,"Eme");z=this.VWa(x);A=f.Ba.get(k.IQ);B=A.n4(w.uc.value.streams);A=A.t4(w.Gg.value.streams);return this.Or.YI(x,function(C){return w.re(C);},{gf:!1,kk:!1,sa:{getTime:y},Hd:z,dX:!!this.yba,ba:this.Gb.ba,Iz:this.config().eZa,onerror:function(C,D,E){return v.rd(C,D,E);},yta:function(){},kH:!0,Jvb:B,z9b:A,Ara:this.fi.a3.ea(u.pa)});};c.prototype.setMediaKeys=function(w){var v;v=this;return this.yba?new Promise(function(y,x){if(v.Gb.ba)v.Gb.ba.setMediaKeys(w).then(function(){y();}).catch(function(z){var A;A=v.u2a(z);x({ia:!1,code:l.V.pJ,ic:A.za,Wc:A.He,Nb:A.Nb,message:"Set media keys is a failure",Xb:z});});else return Promise.resolve();}):Promise.resolve();};c.prototype.DZa=function(w){return {code:w.code,subCode:w.ic,extCode:w.Wc,edgeCode:w.Tm,message:w.message,errorDetails:w.Nb,errorData:w.wB,state:w.state};};c.prototype.Ixa=function(w,v,y){var z,A,B;function x(){A.CH().catch(function(C){z.log.error("Unable to set the license",z.DZa(C));C.Xb && C.Xb.Nb && (C.Nb=C.Nb?C.Nb + C.Xb.Nb:C.Xb.Nb);z.rd(C.code,C,C.Wc);});}z=this;y=void 0 === y?this.j:y;A=y.je;this.log.info("Setting the license");B=v?function(){return Promise.resolve();}:function(){return A.Rg(z.n6(!1),w);};return (v?function(){return A.c3(z.Gb.ba);}:function(){return A.create(z.Yl).then(function(){return Promise.resolve();});})().then(B).then(function(){return z.setMediaKeys(A.mediaKeys);}).then(function(){z.log.info("license set");z.C5(y.P);z.Gb.uhb.then(function(){z.config().cC && (v || z.config().TT) && (z.dbb=ob.setTimeout(x,z.config().cC));});}).catch(function(C){z.log.error("Unable to set the license",z.DZa(C));C.Xb && C.Xb.Nb && (C.Nb=C.Nb?C.Nb + C.Xb.Nb:C.Xb.Nb);if(v)throw Error(C && C.message?C.message:"failed to set license");z.rd(C.code,C,C.Wc);});};c.prototype.hz=function(){return Promise.resolve();};c.prototype.D9=function(){var v;function w(){var y;v.j.je=v.cB();y=[];v.j.bu.forEach(function(x){y.push((0,f.Tq)(x));});v.Ixa(y);}v=this;this.xV || (this.xV=!0,this.Or.YI?this.j.bu?this.config().zT && this.config().Qr?this.ed.p0a(this.j.P).then(function(y){v.j.je=y;return y.nAa.then(function(){var x;x=[];v.j.bu.forEach(function(z){x.push((0,f.Tq)(z));});return v.Ixa(x,!0).then(function(){var z;if(y.zfc)v.rd(l.V.Lkb);else {z=(0,f.Fh)(v.j,"Eme");y.sgb({log:z,nn:function(A){return v.j.re(A);}},{Hd:v.VWa(z),onerror:function(A,B,C){return v.rd(A,B,C);}});v.j.uy(y.Yc || ({}));v.j.fF="videopreparer";}});});}).catch(function(y){v.log.warn("eme not in cache",y);w();}):w():(this.log.error("Missing the PSSH on the video track, closing the player"),this.rd(l.V.Snb)):this.rd(l.V.eJ,l.S.Ikb));};c.prototype.kbb=function(w){var v;w=void 0 === w?this.j:w;w.je=this.cB();v=[];w.bu.forEach(function(y){v.push((0,f.Tq)(y));});return this.Ixa(v,!1,w);};c.prototype.n6=function(w){return this.config().TT?q.yh.En:w?q.yh.En:q.yh.wm;};Ya.Object.defineProperties(c.prototype,{Or:{configurable:!0,enumerable:!0,get:function(){return f.Ba.get(m.V0);}},rC:{configurable:!0,enumerable:!0,get:function(){return this.yba?"encrypted":this.Gb.SEa + "needkey";}}});t=c;r.__decorate([h.b8],t.prototype,"Or",null);r.__decorate([h.b8],t.prototype,"rC",null);t=r.__decorate([(0,n.U)()],t);b.LHa=t;},26971:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q,u,t,w){this.GF=p;this.fi=q;this.config=u;this.PM=t;this.ed=w;}Object.defineProperty(b,"__esModule",{value:!0});b.PHa=void 0;r=a(5163);l=a(22674);f=a(47737);k=a(128);d=a(94951);g=a(23563);n=a(4203);h=a(92395);a=a(66476);c.prototype.create=function(p,q,u){return p?new k.RHa(this.config(),this.fi,this.ed,q,u,this.GF,this.PM()):new d.LHa(this.config,this.fi,this.ed,q,u);};m=c;m=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.q_)),r.__param(1,(0,l.l)(g.Aq)),r.__param(2,(0,l.l)(n.Yb)),r.__param(3,(0,l.l)(h.mQ)),r.__param(4,(0,l.l)(a.bE))],m);b.PHa=m;},128:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z,A){y=h.uP.call(this,y,x) || this;y.config=t;y.fi=w;y.ed=v;y.GF=z;y.D8=A;y.log=(0,f.Fh)(y.j,"LicenseBroker");y.xV=new Set();y.Jsa=!1;return y;}Object.defineProperty(b,"__esModule",{value:!0});b.RHa=void 0;r=a(5163);l=a(36129);f=a(31276);k=a(28289);d=a(5021);g=a(22674);n=a(99037);h=a(20124);m=a(24735);p=a(85001);q=a(82100);u=a(56039);da(c,h.uP);c.prototype.D9=function(){var t,w;t=this;w=this.j.ca;this.xV.has(w.P) || (this.xV.add(w.P),this.Yub(w).catch(function(){return t.lbb(w);}).then(function(){return t.PTa(w);}).catch(function(v){return t.OTa(w,v);}).catch(function(v){return t.rd(v.code,v,v.Wc);}));};c.prototype.Yub=function(t){var w;w=this;return Promise.all([this.ed.p0a(t.P),this.GF()]).then(function(v){var y,x;v=ja(v);y=v.next().value;x=v.next().value;return y.qaa.then(function(z){var A;A=w.D8.mediaKeys;if(A && A !== z.mediaKeys)return (w.log.warn("Cannot use cached license session as its uses different MediaKeys"),Promise.reject());"manifest" === y.source && (A=w.l1a(t),x.K7a(A,z));return z;}).then(function(z){return w.c3(z,t,y.source);});}).catch(function(v){w.log.warn("eme not in cache",v);throw v;});};c.prototype.c3=function(t,w,v){this.L$a(t,w);w.fF=v;this.D8.$Sa(t.mediaKeys);return t.aja();};c.prototype.zIb=function(t){var w;w={};t.forEach(function(v){w[(0,k.JYa)(v.bW)]=v.time.ea(d.pa);});return w;};c.prototype.L$a=function(t,w){var v;v=this;w.je=t;t.j3b(function(y){v.rd(y.code,y,y.Wc);});};c.prototype.PTa=function(t){this.log.info("Successfully applied license for xid: " + t.na + ", viewable: " + t.P + ", segment: " + t.I);this.uy(t);this.Jsa?this.C5(t.P):this.setMediaKeys(t);};c.prototype.OTa=function(t,w){this.uy(t);throw w;};c.prototype.uy=function(t){t.je && t.uy(this.zIb(t.je.Yc));};c.prototype.l1a=function(t){var w,v;w=t.Ew[0];v=w.streams[0].Fd;v=(0,q.Hqa)(v);w=(0,u.Eoa)(w.streams);return {type:this.n6(!1),initData:t.bu.map(function(y){return (0,f.Tq)(y);}),s7:v,context:{ba:this.Gb.ba,N7:w},yi:{P:t.P,na:t.na,Gd:t.Gd,Uk:t.Uk,ri:t.Y.ri,ag:t.Y.Fa.ag}};};c.prototype.lbb=function(t){var w;w=this;return this.GF().then(function(v){var y;y=w.l1a(t);w.xV.add(t.P);return v.Rg(y,w.D8).then(function(x){w.L$a(x,t);w.j.fireEvent(p.ga.zV,{P:t.P});return x.aja();});});};c.prototype.setMediaKeys=function(t){var w;w=this;if(this.Jsa)this.log.trace("Media Keys already set");else try{this.Gb.ba?(this.Jsa=!0,this.Gb.ba.setMediaKeys(t.je.mediaKeys).then(function(){w.C5(t.P);}).catch(function(v){v=w.u2a(v);w.rd(l.V.pJ,v,v.He);})):this.C5(t.P);}catch(v){this.rd(l.V.pJ,v,void 0);}};c.prototype.hz=function(){var t,w;t=this;w=this.j.ca.je;return w?this.GF().then(function(v){return v.release(w,t.D8).then(function(y){t.log.trace("Successfully released the license");return y.close();}).catch(function(y){t.log.error("Unable to release the license",y);});}):Promise.resolve();};c.prototype.kbb=function(t){var w;w=this;t=void 0 === t?this.j:t;return this.lbb(t).then(function(){return w.PTa(t);}).catch(function(v){return w.OTa(t,v);});};c.prototype.n6=function(t){return this.fi.TT?m.yh.En:t?m.yh.En:m.yh.wm;};Ya.Object.defineProperties(c.prototype,{rC:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},Yl:{configurable:!0,enumerable:!0,get:function(){return this.config.Yl;}}});a=c;r.__decorate([n.b8],a.prototype,"rC",null);a=r.__decorate([(0,g.U)()],a);b.RHa=a;},13847:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qBa="AppLogSinkSymbol";},21009:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,E,G,F;Object.defineProperty(b,"__esModule",{value:!0});b.h6a=void 0;r=a(22674);c=a(97996);l=a(31966);f=a(79428);k=a(50723);d=a(33345);g=a(74621);n=a(4203);h=a(41320);m=a(69124);p=a(74031);q=a(53085);u=a(33554);t=a(13847);w=a(53234);v=a(33945);y=a(31850);x=a(81829);z=a(45118);A=a(98326);B=a(52025);C=a(30895);D=a(36792);E=a(74714);G=a(73449);F=a(26158);b.h6a=new r.gd(function(J){J(z.tl).to(f.jIa).ha();J(w.AJa).to(k.zJa).ha();J(v.yIa).to(d.xIa).ha();J(x.uIa).to(g.tIa).ha();J(z.aea).to(h.iIa).ha();J(y.Yw).to(m.qIa).ha();J(x.sIa).to(p.rIa).ha();J(A.eQ).to(B.dQ).ha();J(A.dea).to(E.vIa).ha();J(G.hQ).to(F.gQ).ha();J(C.nEa).to(D.mEa).ha();J(t.qBa).to(l.pBa).ha();J(z.kIa).JY(function(M){return function(){return M.ob.get(c.tQ)().then(function(L){return new Promise(function(K){var H,I,N;function P(){I() && N() && L.hW?K(M.ob.get(z.tl)):H.Pj(P);}H=M.ob.get(q.Vh);I=M.ob.get(n.Yb);N=M.ob.get(u.Rw);H.Pj(P);});});};});});},30895:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nEa="DownloadReportBuilderSymbol";},45118:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aea="LogBatcherConfigSymbol";b.tl="LogBatcherSymbol";b.kIa="LogBatcherProviderSymbol";},33945:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yIa="LogblobSenderSymbol";},31850:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yw="LogMessageFactorySymbol";},81829:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sIa="LogMessageRulerConfigSymbol";b.uIa="LogMessageRulerSymbol";},98326:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eQ="LogblobBuilderFactorySymbol";b.dea="LogblobBuilderCommonSymbol";},18169:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gc=void 0;r=b.Gc || (b.Gc={});r.xwb="bitraterestriction";r.nVa="cdnsel";r.Qx="chgstrm";r.debug="debug";r.DEb="dlreport";r.gy="endplay";r.cV="intrplay";r.Ry="midplay";r.xN="playbackaborted";r.qX="renderstrmswitch";r.LC="repos";r.hu="resumeplay";r.U2b="serversel";r.ds="startplay";r.iY="statechanged";r.transition="transition";r.sxa="segmentdropped";r.kvb="asereport";r.bSb="livereport";r.aSb="livepipelinefailover";r.gUa="audioswitch";r.BUa="blockedautoplay";r.config="config";r.Kgc="ftlProbeError";r.U5b="subtitleerror";r.V5b="subtitleqoe";r.T6b="timedtextrebuffer";r.ifb="timedtextswitch";r.Mdb="speedchanged";},73449:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hQ="LogblobMonitorFactorySymbol";},53234:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AJa="MessageQueueSymbol";},31966:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q,u){var t;t=this;this.wSb=m;this.Jy=p;this.config=u;this.dwa=[];this.wSb.F$(l.Thb,this.sNb.bind(this));q().then(function(w){var v;v=u().Ip.sIb;t.lTb=v?h.ij[v.toUpperCase()]:h.ij.Hk;t.Kf=w;t.K2b();});}Object.defineProperty(b,"__esModule",{value:!0});b.pBa=void 0;r=a(5163);f=a(22674);k=a(4203);d=a(36410);g=a(45118);n=a(31850);h=a(87386);c.prototype.sNb=function(m,p){this.Kf?this.dab(m,p):this.dwa.push([m,p]);};c.prototype.K2b=function(){var m,p;m=this;p=this.dwa;this.dwa=[];p.forEach(function(q){m.dab(q[0],q[1]);});};c.prototype.dab=function(m,p){var q;if(this.Kf && this.c4b(m)){q={debugMessage:m.message,debugCategory:m.Km};m.Ac.forEach(function(u){return q=Object.assign(Object.assign({},q),u.value);});q=Object.assign(Object.assign({},q),{prefix:"debug"});m=this.Jy.kt("debug",h.ij[m.level].toLowerCase(),q,p);this.Kf.xc(m);}};c.prototype.c4b=function(m){var p;p=this.lTb;return void 0 !== p && m.level <= p && !m.Ac.find(function(q){return q.FT(h.HP);});};a=l=c;a.Thb="adaptorAll";a=l=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(d.hJ)),r.__param(1,(0,f.l)(n.Yw)),r.__param(2,(0,f.l)(g.kIa)),r.__param(3,(0,f.l)(k.Yb))],a);b.pBa=a;},36792:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p){this.config=p;}Object.defineProperty(b,"__esModule",{value:!0});b.mEa=void 0;r=a(5163);l=a(82956);f=a(51344);k=a(3887);d=a(36129);g=a(45146);n=a(22365);h=a(22674);a=a(4203);c.prototype.construct=function(p,q){var u,t,w;u=this;t={};p.forEach(function(v){var y;y=v.url;t[y] || (t[y]=[]);t[y].push(v);});w=[];(0,k.Wf)(t,function(v,y){w.push(u.$Mb(y,q));});return {urls:w};};c.prototype.$Mb=function(p,q){var u,t,w,v,y;u=this;w=p[0];v={url:w.url,bitrate:w.bitrate,cdnid:null === (t=w.Dc) || void 0 === t?void 0:t.id,dltype:w.FEb,id:w.Vb};y={};p.forEach(function(x){var z;z=u.SPb(x)?"fail":"success";y[z] || (y[z]=[]);y[z].push(x);});(0,k.Wf)(y,function(x,z){"fail" === x?v.failures=u.vKb(z,q):"success" === x && (v.downloads=u.lKb(z,q));});return v;};c.prototype.lKb=function(p,q){var u,t,w;u=this;t={};p.forEach(function(v){var y;y=v.Wyb;t[y] || (t[y]=[]);t[y].push(v);});w=[];(0,k.Wf)(t,function(v,y){var x;x=[];y.forEach(function(z){x.push(z);u.zPb(z) && (w.push(u.I0a(x,q,v)),x=[]);});0 < x.length && w.push(u.I0a(x,q,v));});return w;};c.prototype.I0a=function(p,q,u){var t,w,v,y,z;t=p.sort(function(A,B){return A.$l.cj < B.$l.cj?-1:A.$l.cj > B.$l.cj?1:0;});w=t[0].$l;v=w.kz;y=w.cj;w=w.pq;for(var x=1;x < p.length;x++){z=p[x].$l;z.kz < v && (v=z.kz);z.cj < y && (y=z.cj);z.pq > w && (w=z.pq);}x=this.aMb(t);z=t[t.length - 1];return {time:v - q,tcpid:u?parseInt(u):-1,tresp:y - v,first:x,ranges:this.bMb(t,x),dur:w - y,trace:this.HB(p),status:this.ZL(z),enctimeinfo:z.Dma};};c.prototype.aMb=function(p){var q;q=0;p.forEach(function(u){u.jw && (q=(0,n.$w)(q,u.jw[0]));});return q;};c.prototype.bMb=function(p,q){var u;u=[];p.forEach(function(t){t.jw?u.push([t.jw[0] - q,t.jw[1] - q]):u.push([0,-1]);});return u;};c.prototype.HB=function(p){var q,u;q=[];p.forEach(function(t){var w;t=t.$l;if(u){w=t.kz - u.pq;0 < w && q.push([w,-2]);w=(0,n.As)(u.pq,t.kz);w=t.cj - w;0 < w && q.push([w,-3]);}q.push([t.pq - t.cj,t.i4 || 0]);u=t;});return q;};c.prototype.zPb=function(p){if(p.za === d.S.BD || p.za === d.S.CD)return !0;};c.prototype.ZL=function(p){if(p.ia)return "complete";if(p.za === d.S.BD)return "abort";if(p.za === d.S.CD)return "stall";(0,g.oa)(!1,"download status should never be: other");return "other";};c.prototype.vKb=function(p,q){var u,t;u=this;t=[];p.forEach(function(w){var v;v=w.$l;w={time:v.cj - q,tresp:v.cj - v.kz,dur:v.pq - v.cj,range:w.jw,reason:u.dMb(w),httpcode:w.Nl,nwerr:(0,l.B1a)(w.za),enctimeinfo:w.Dma};t.push(w);});return t;};c.prototype.dMb=function(p){return p.Nl || p.za === d.S.TP?"http":p.za === d.S.VP?"timeout":"network";};c.prototype.SPb=function(p){return p.ia || void 0 === p.ia || p.za === d.S.BD || p.za === d.S.CD?!1:!0;};c.prototype.Qzb=function(p){var q,u,t,w,v,y;q=p.request;u=q.stream;t=q.track;w=q.url;v=this.iKb(t,w);switch(v){case f.Zj.audio:case f.Zj.video:y=q.stream.Vb;break;case f.Zj.gza:case f.Zj.yza:y=t.Vb;}p={bitrate:u && u.bitrate,FEb:v,Vb:y,$l:p.$l,Dc:q.Dc,url:w,He:p.He,Nl:p.Nl,za:p.za,ia:p.ia,Wyb:this.eHb(p),Dma:q.oL};void 0 !== q.offset && void 0 != q.length && (p.jw=[q.offset,q.offset + q.length - 1]);return p;};c.prototype.iKb=function(p,q){if(p)return p.type;if(0 <= q.indexOf("netflix.com")){if(0 <= q.indexOf("nccp"))return "nccp";if(0 <= q.indexOf("api"))return "api";}return "other";};c.prototype.eHb=function(p){if(p.headers && (p=p.headers["x-tcp-info"]))return (p=p.split(";").filter(function(q){return 0 == q.indexOf("port=");}).map(function(q){return q.split("=")[1];})[0])?(0,k.aj)(p):p;};m=c;m=r.__decorate([(0,h.U)(),r.__param(0,(0,h.l)(a.Yb))],m);b.mEa=m;},41320:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p){m=n.Qe.call(this,m,"LogBatcherConfigImpl") || this;m.config=p;m.gTb=(0,l.xa)(5E5);m.I2b=(0,f.V8)(1);m.R6a=(0,l.xa)(1E6);return m;}Object.defineProperty(b,"__esModule",{value:!0});b.iIa=void 0;r=a(5163);l=a(72574);f=a(5021);k=a(22674);d=a(4203);g=a(12501);n=a(64174);a=a(83767);da(c,n.Qe);Ya.Object.defineProperties(c.prototype,{xia:{configurable:!0,enumerable:!0,get:function(){return this.config().xia;}},odb:{configurable:!0,enumerable:!0,get:function(){return [];}},ndb:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});h=c;r.__decorate([g.config(g.object(),"shedLogblobTypes")],h.prototype,"odb",null);r.__decorate([g.config(g.XE("string"),"shedDebugTypes")],h.prototype,"ndb",null);h=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(a.zl)),r.__param(1,(0,k.l)(d.Yb))],h);b.iIa=h;},79428:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z){this.config=t;this.json=w;this.yc=v;this.oSb=y;this.$V=z;this.y7=this.RB=!1;this.listeners=[];(0,f.po)(this,"json");this.ma=x.ab("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.jIa=void 0;r=a(5163);l=a(22674);f=a(66523);k=a(63368);d=a(33945);g=a(53085);n=a(87386);h=a(45118);m=a(53234);p=a(36129);q=a(15160);a(2762);u=a(18169);c.prototype.Db=function(){this.RB=!0;};c.prototype.xc=function(t){var w;w=this;this.n4b(t) || (!1,0 < t.size.Qk(this.config.gTb)?this.ma.error("Logblob is too large, dropping from the queue",{logblobType:t.type,logblobSize:t.size.toString()}):(this.listeners.forEach(function(v){return v.RTb(t);}),!1,this.$V.Dia(t),this.yc.Pj(function(){w.aIb();})));};c.prototype.flush=function(t){var w;w=this;t=void 0 === t?!1:t;return this.y7?(this.ma.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(v,y){w.ma.trace("Flushing",n.HP);w.Ho();w.yc.Pj(function(){w.xxa(t).then(function(){v();}).catch(function(x){y(x);});});});};c.prototype.addListener=function(t){this.listeners.push(t);};c.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0 <= t && this.listeners.splice(t,1);};c.prototype.xxa=function(t){var w,v;w=this;t=void 0 === t?!1:t;if(!this.RB)return (this.ma.trace("LogBatcher is not initialized"),Promise.resolve());if(this.y7)return (this.ma.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());v=this.$V.BJb();if(0 === v.length && !t)return (this.ma.trace("No logblobs to send"),Promise.resolve());!1;this.Ho();this.listeners.forEach(function(){});t=Promise.resolve();for(var y={},x=ja(v),z=x.next();!z.done;(y={Tba:y.Tba},z=x.next())){y.Tba=z.value;t=t.then((function(A){return function(){return w.H2b(A.Tba);};})(y));}return t.then(function(){return w.tB();}).catch(function(A){v.filter(function(B){return !B.Ay;}).forEach(function(B){return B.hr();});w.tB();throw Error("Send failure. " + A);});};c.prototype.H2b=function(t){var w;w=this;this.ma.trace("Sending batch: " + t.size,n.HP);return Promise.resolve(this.$V.D0b(t)).then(function(){return w.oSb.send(t.UG);}).then(function(){return t.EO();}).catch(function(v){w.ma.warn("Failed to send batch of logblobs.",v,n.HP);t.hr();w.$3b(v) && w.$V.Ftb(t);w.o4b(v) && (w.y7=!0);throw v;});};c.prototype.$3b=function(t){return t.Wc === p.s0.NKa?!1:this.config.xia;};c.prototype.o4b=function(t){return t.ic === p.S.DFa || t.ic === p.S.SP || t.ic === p.S.WP?!0:!1;};c.prototype.aIb=function(){var t;t=this;0 < this.$V.size.Qk(this.config.R6a)?this.xxa().catch(function(w){return t.ma.warn("Failed to send log messages on size threshold. " + w);}):this.tB();};c.prototype.Ho=function(){this.K7 && (!1,this.K7.cancel(),this.K7=void 0);};c.prototype.tB=function(){this.K7 || (!1,this.K7=this.yc.vk(this.config.I2b,this.jN.bind(this)));};c.prototype.jN=function(){var t;t=this;this.y7=!1;this.Ho();this.xxa().catch(function(w){return t.ma.warn("Failed to send log messages on timer. " + w);});};c.prototype.stringify=function(t){var w;w="";try{w=this.json.stringify(t.data,void 0,"  ");}catch(v){}return w;};c.prototype.n4b=function(t){return 0 <= this.config.odb.indexOf(t.type)?!0:t.type === u.Gc.debug?0 <= this.config.ndb.indexOf(t.data.debugCategory):!1;};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(h.aea)),r.__param(1,(0,l.l)(k.FD)),r.__param(2,(0,l.l)(g.Vh)),r.__param(3,(0,l.l)(d.yIa)),r.__param(4,(0,l.l)(n.bb)),r.__param(5,(0,l.l)(m.AJa)),r.__param(6,(0,l.l)(q.l_))],a);b.jIa=a;},69124:function(r,b,a){var f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z,A,B,C,D,E){this.platform=w;this.ula=v;this.userAgentData=y;this.type=x;this.severity=z;this.timestamp=A;this.Ea=C;this.data=B;this.data.type=x;this.data.sev=z;this.data.devmod=this.platform.jB;this.data.clver=this.platform.version;t && t.qd && (t.qd.os && (this.data.osplatform=t.qd.os.name,this.data.osver=y.platformVersion.rV?y.platformVersion.version:t.qd.os.version),this.data.browsername=t.qd.name,this.data.browserver=t.qd.version);t.dra && (this.data.tester=!0);t.kG && !this.data.groupname && (this.data.groupname=t.kG);t.EK && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + t.EK:t.EK);t.RY && (this.data.uigroupname=t.RY);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Ea.fLb();this.data.uniqueLogId=D.Y_a();this.data.appId=this.Ea.id;E && (t=this.Ea.Kb(),this.data.soffms=t.qa(E.Oh).ea(g.pa),this.data.mid=this.data.mid || E.P,this.data.lvpi=E.g6a,this.data.uiLabel=E.Cd,this.data.uxLabels=E.zba,x="startup" === x?"playbackxid":"xid",this.data[x]="xid" === x && this.data.xid || E.na,E.UH && (x=E.UH,(E=E.UH.split(".")) && 1 < E.length && "S" !== E[0][0] && (x="SABTest" + E[0] + ".Cell" + E[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + x:x));}function l(t,w,v,y,x,z,A){this.sa=t;this.ula=w;this.config=v;this.Ea=y;this.h9b=x;this.platform=z;this.userAgentData=A;}Object.defineProperty(b,"__esModule",{value:!0});b.qIa=void 0;r=a(5163);f=a(72574);k=a(22674);d=a(30869);g=a(5021);n=a(58098);h=a(34231);m=a(81918);p=a(96723);q=a(91581);a=a(75236);l.prototype.kt=function(t,w,v,y){return new c(this.config,this.platform,this.ula,this.userAgentData,t,w,this.sa.ke,v,this.Ea,this.h9b,y);};u=l;u=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.cg)),r.__param(1,(0,k.l)(n.FDa)),r.__param(2,(0,k.l)(h.Dn)),r.__param(3,(0,k.l)(m.Lc)),r.__param(4,(0,k.l)(p.EPa)),r.__param(5,(0,k.l)(q.Hn)),r.__param(6,(0,k.l)(a.C1))],u);b.qIa=u;Ya.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.XUa || (this.XUa=(0,f.xa)(this.ula.encode(this.data).length));return this.XUa;}}});},74031:function(r,b,a){var l,f,k;function c(d){this.Tk=d;}Object.defineProperty(b,"__esModule",{value:!0});b.rIa=void 0;r=a(5163);l=a(22674);f=a(72574);a=a(33554);c.prototype.qSb=function(){var d;d=this.Tk()?this.Tk().hk.length:40;return (0,f.xa)(d + 33);};k=c;k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.Rw))],k);b.rIa=k;},74621:function(r,b,a){var l,f,k;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.tIa=void 0;r=a(5163);l=a(22674);f=a(81829);k=a(72574);c.prototype.measure=function(d){var g;g=this;return d.map(function(n){return n.size.add(g.config.qSb());}).reduce(function(n,h){return n.add(h);},(0,k.xa)(0));};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.sIa))],a);b.tIa=a;},74714:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y){this.platform=t;this.config=w;this.Ea=v;this.userAgentData=y;this.OPa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.vIa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(36129);d=a(91581);g=a(5021);n=a(4203);h=a(3887);m=a(22365);p=a(82956);q=a(75236);u=a(60328);c.prototype.Sp=function(t,w,v){v && (t.adlid=v.Vb,t.abitrate=v.bitrate);w && (t.vdlid=w.Vb,t.vbitrate=w.bitrate);};c.prototype.A3a=function(t,w,v){v?t=Object.assign(t,(0,p.N1a)(this.platform.dr,v)):t.errorcode=k.V.Yo;t.errorcode === this.platform.dr + k.V.AKa && (t.lastSyncWithVideoElement=this.getTime() - w.vY);};c.prototype.F3a=function(t,w){var v;try{Object.assign(t,(0,p.dpa)());v=w.getBoundingClientRect();t.rendersize=v.width + "x" + v.height;t.renderpos=v.left + "x" + v.top;}catch(y){}};c.prototype.E3a=function(t,w){var v,y,x;v=w.Dc[u.u.X].value;y=w.Dc[u.u.$].value;x=w.nf.value;w=w.Zd.value;v && (t.cdnid=v.id,t.cdnname=v.name);y && (t.acdnid=y.id,t.acdnname=y.name);if(null === x || void 0 === x?0:x.stream)(t.adlid=x.stream.Vb,t.abitrate=x.stream.bitrate);if(null === w || void 0 === w?0:w.stream)(t.vdlid=w.stream.Vb,t.vbitrate=w.stream.bitrate,t.vheight=w.stream.height,t.vwidth=w.stream.width);};c.prototype.C3a=function(t,w,v){0 <= w.mediaTime.value && (w=v && !w.cb.sg?w.dT:w.mediaTime.value,t.moff=(0,h.Pl)(w),t.moffms=(0,h.Xf)(w));};c.prototype.y3a=function(t,w){w.Bf && (t.pbcid=w.Bf);w.Gd && (t.playbackcontextid=w.Gd);};c.prototype.kqa=function(t){var w,v;t.browserua=m.QD;t.browseruad=null === (v=null === (w=m.Ee.userAgentData) || void 0 === w?void 0:w.brands) || void 0 === v?void 0:v.map(function(y){return [y.brand,y.version];});t.browseruadpv=this.userAgentData.platformVersion.rV?this.userAgentData.platformVersion.version:this.userAgentData.platformVersion.reason;t.browserhref=location.href;(w=m.Ee && m.Ee.connection && m.Ee.connection.type) && (t.nettype=w);};c.prototype.iM=function(t){var w,v,y,x,z;if(this.config().UFb){z=null === (w=null === m.Ee || void 0 === m.Ee?void 0:m.Ee.connection) || void 0 === w?void 0:w.effectiveType;w=null === m.Ee || void 0 === m.Ee?void 0:m.Ee.deviceMemory;z && (t.effectiveType=z);w && (t.deviceMemory=w);}(z=null === (v=null === m.Ee || void 0 === m.Ee?void 0:m.Ee.connection) || void 0 === v?void 0:v.type) && (t.connectionType=z);v=null === (y=null === m.Ee || void 0 === m.Ee?void 0:m.Ee.connection) || void 0 === y?void 0:y.downlink;"number" === typeof v && isFinite(v) && (t.downlink=v);y=null === (x=null === m.Ee || void 0 === m.Ee?void 0:m.Ee.connection) || void 0 === x?void 0:x.rtt;"number" === typeof y && isFinite(y) && (t.rtt=y);};c.prototype.d7=function(t,w){if(w=w.cb.fm)(w.isUIAutoPlay && (t.isUIAutoPlay=!0),w.clLogId && (t.cl_log_id=w.clLogId));};c.prototype.jM=function(t,w,v,y){var x,z,A,B,C;x=this;if(v=v && v.streams){A=new Set();B=new Set();C=new Set();v.forEach(function(D){D=D.Fd;A.add(D);B.add(D.replace(x.OPa,""));(D=D.match(x.OPa)) && 0 < D.length && C.add(D[1]);});t.videoProfiles=[].concat(ba(A));t.videoProfile=0 === B.size?"none":[].concat(ba(B))[0];t.videoProfileLevels=[].concat(ba(C));v && v.length && (t.isMcClearen=!!v[0].Di.find(function(D){return 0 <= D.toLowerCase().indexOf("mcclearen");}));}w && (null === (z=y.Y) || void 0 === z?0:z.fZ) && (t.videoProfilesStatus=this.A6a(y.Y.fZ));};c.prototype.A6a=function(t){return this.WSb(t.ZL(),function(w){return w.supported?!0:w.reason;});};c.prototype.WSb=function(t,w){return Object.entries(t).reduce(function(v,y){var x;x=ja(y);y=x.next().value;x=x.next().value;v[y]=w(x);return v;},{});};c.prototype.v3a=function(t,w,v){var y,x;if(w=w && w.streams){x={};w.forEach(function(z){x[z.Fd]=void 0;});t.audioProfiles=Object.keys(x);}(null === (y=v.Y) || void 0 === y?0:y.yS) && (t.audioProfilesStatus=this.A6a(v.Y.yS));};c.prototype.z3a=function(t){t.configversion=this.config().version;this.config().endpoint || (t.configendpoint="error");};c.prototype.getTime=function(){return this.Ea.Kb().ea(g.pa);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(d.Hn)),r.__param(1,(0,l.l)(n.Yb)),r.__param(2,(0,l.l)(f.Lc)),r.__param(3,(0,l.l)(q.C1))],a);b.vIa=a;},52025:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,E;function c(G,F,J,M,L,K,P,H,I,N,R,X,ha,ta,la,xa,Ba,La,Za,ab){this.bfb=G;this.Kf=F;this.Gsa=J;this.ena=M;this.de=L;this.T4=K;this.Je=P;this.config=H;this.ed=I;this.sa=N;this.Ea=R;this.platform=X;this.fq=ha;this.Jy=ta;this.zi=la;this.xt=xa;this.VG=Ba;this.wc=La;this.OM=Za;this.aC=ab;}Object.defineProperty(b,"__esModule",{value:!0});b.dQ=void 0;r=a(5163);l=a(87549);f=a(45118);k=a(74870);d=a(28185);g=a(94800);n=a(22674);h=a(98326);m=a(74098);p=a(30895);q=a(32934);u=a(4203);t=a(30869);w=a(81918);v=a(91581);y=a(31850);x=a(66476);z=a(52531);A=a(63368);B=a(34231);C=a(2160);D=a(21103);a=a(18647);c.prototype.create=function(G,F){return new m.fQ(G,F,this.bfb,this.Kf,this.Gsa,this.ena,this.de,this.T4,this.Je,this.config,this.ed,this.sa,this.Ea,this.fq,this.Jy,this.zi,this.xt,this.VG,this.wc,this.OM,this.aC);};E=c;E=r.__decorate([(0,n.U)(),r.__param(0,(0,n.l)(l.XOa)),r.__param(1,(0,n.l)(f.tl)),r.__param(2,(0,n.l)(d.cJa)),r.__param(3,(0,n.l)(g.rda)),r.__param(4,(0,n.l)(k.dh)),r.__param(5,(0,n.l)(p.nEa)),r.__param(6,(0,n.l)(q.Gu)),r.__param(7,(0,n.l)(u.Yb)),r.__param(8,(0,n.l)(x.bE)),r.__param(9,(0,n.l)(t.cg)),r.__param(10,(0,n.l)(w.Lc)),r.__param(11,(0,n.l)(v.Hn)),r.__param(12,(0,n.l)(A.U0)),r.__param(13,(0,n.l)(y.Yw)),r.__param(14,(0,n.l)(z.TD)),r.__param(15,(0,n.l)(B.Dn)),r.__param(16,(0,n.l)(C.xea)),r.__param(17,(0,n.l)(h.dea)),r.__param(18,(0,n.l)(D.ax)),r.__param(19,(0,n.l)(a.Uda))],E);b.dQ=E;},74098:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,E,G,F,J;function c(M,L,K,P,H,I,N,R,X,ha,ta,la,xa,Ba,La,Za,ab,Z,na,Ha,Sa){var Q;Q=this;this.j=M;this.Da=L;this.bfb=K;this.Kf=P;this.Gsa=H;this.ena=I;this.de=N;this.T4=R;this.Je=X;this.config=ha;this.ed=ta;this.sa=la;this.Ea=xa;this.fq=Ba;this.Jy=La;this.zi=Za;this.xt=ab;this.VG=Z;this.wc=na;this.OM=Ha;this.aC=Sa;this.EY=[];this.Qsa=this.UB=this.tX=0;this.aL=[];this.Hia=!1;this.ds=function(ra){var qa,O,ia,va,Oa,eb;O={};try{O={playdelaysdk:(0,m.Xf)(Q.j.MS()),applicationPlaydelay:(0,m.Xf)(Q.j.aka()),playdelay:(0,m.Xf)(Q.j.bka()),trackid:Q.j.Uj,bookmark:(0,m.Xf)(Q.j.Gl || 0),pbnum:Q.j.index,endianness:(0,g.O0a)()};Q.config().bGb && (O.transitiontime=Q.j.mm,O.uiplaystarttime=Q.j.cb.fD,O.playbackrequestedat=Q.j.Oh.ea(p.pa),O.clockgettime=Q.getTime(),O.clockgetpreciseepoch=Q.sa.ke.ea(p.pa),O.clockgetpreciseappepoch=Q.Ea.Gy.ea(p.pa),O.absolutestarttime=Q.j.SF(),O.relativetime=Q.j.X1a());Q.R5(O,"startplay");}catch(Xa){Q.log.error("error in startplay log fields",Xa);}Q.j.Dh && (O.blocked=Q.j.Dh);Q.wc.z3a(O);(0,x.Sb)(Q.j.EUa) && (O.bookmarkact=(0,m.Xf)(Q.j.EUa));ia=Q.j.Yc.at && Q.j.Yc.ats?Q.j.Yc.at - Q.j.Yc.ats:void 0;ia && (O.nccpat=ia);(ia=Q.j.Yc.lr && Q.j.Yc.lc?Q.j.Yc.lr - Q.j.Yc.lc:void 0) && (O.nccplt=ia);(ia=Q.j.Yc.lc && Q.j.Yc.lg?Q.j.Yc.lc - Q.j.Yc.lg:void 0) && (O.lct=ia);(ia=Q.EF()) && (O.downloadables=ia);ob._cad_global.device && (0,x.Xc)(ob._cad_global.device.l5) && (O.esnSource=ob._cad_global.device.l5);(0,m.Xd)(O,Q.fq,{prefix:"pi_"});Q.j.Wn && Q.j.Wn.initBitrate && (O.initvbitrate=Q.j.Wn.initBitrate);Q.j.Wn && Q.j.Wn.selector && (O.selector=Q.j.Wn.selector);O.fullDlreports=Q.Jgb;if(Q.j.state.value >= y.Wb.fe)try{va=Q.j.jt();if(va){Q.maxBitrate=(0,g.oP)(va.map(function(Xa){return Xa.bitrate;}));Q.Z6a=(0,g.oP)(va.map(function(Xa){return Xa.height;}));Oa=0 < va.length?(0,C.C2a)(function(Xa,qb){return Xa.height === qb.height;},va).map(function(Xa){return (0,z.tsa)(Xa,function(qb){return qb.bitrate;});}):void 0;O.maxbitrate=Q.maxBitrate;O.maxresheight=Q.Z6a;}}catch(Xa){Q.log.error("Exception computing max bitrate",Xa);}try{eb=(0,g.eG)();eb && (O.pdltime=eb);}catch(Xa){}try{(0,m.Xd)(O,Q.j.Yc,{prefix:"sm_"});(0,m.Xd)(O,Q.j.I6(),{prefix:"vd_"});}catch(Xa){}ra && Q.j.bu && (O.pssh=Q.j.bu);Q.D3a(Q.j,O);O.avtp=Q.pI.$m().aza;(null === (qa=Q.j.fb) || void 0 === qa?0:qa.vx) && Q.c7(O);if(Q.j.Mb.value)try{O.ttTrackFields=Q.j.Mb.value.ug;}catch(Xa){}Q.wc.v3a(O,Q.j.uc.value,Q.Da);Q.wc.jM(O,!0,Q.j.Gg.value,Q.Da);Q.j.Y && (O.packageId=Q.j.Y.Fa.tn);Q.j.Y && Q.j.Y.Fa.Dp && (O.hasChoiceMap=!0);Q.$Qb(Oa);Q.ZQb();ra && (Q.lqa(O),Q.nqa(O));Q.x3a(Q.j,O);Q.pG(Q.j,O);Q.qG(Q.j,O);Q.xr(Q.j,O);Q.PB(Q.j,O,Q.Hia);Q.WU(Q.j,O);Q.GOb(Q.j,O);Q.mqa(O);Q.pqa(O);Q.wc.iM(O);Q.w3a(O);Q.wc.d7(O,Q.Da);Q.oqa(O);Q.xc(A.Gc.ds,ra,J.Pd | J.Fq | J.Gi | J.Ds | J.sD | J.NZ | J.wD | J.Qo,O);};this.hu=function(ra,qa,O){qa={playdelay:(0,m.Xf)(ra),reason:O,intrplayseq:Q.UB - 1,skipped:qa};"repos" === O && (qa.prstate=!0 === Q.j.paused.value?"paused":"playing");Q.hM(qa,f.Sh.hu);Q.qG(Q.j,qa);Q.xr(Q.j,qa);Q.xc(A.Gc.hu,!1,J.Pd | J.Fq | J.Gi,qa);"rebuffer" !== O && "force_rebuffer" !== O || Q.j.fl.Otb(Number((0,m.Xf)(ra)));};this.Qx=function(ra,qa,O,ia){ra={moff:(0,m.Pl)(O),moffms:(0,m.Xf)(O),vbitrate:qa.bitrate,vbitrateold:ra.bitrate,vdlid:qa.Vb,vdlidold:ra.Vb,vheight:qa.height,vheightold:ra.height,vwidth:qa.width,vwidthold:ra.width,bw:ia};Q.qG(Q.j,ra);Q.xr(Q.j,ra);Q.PB(Q.j,ra);Q.hM(ra,f.Sh.Qx);Q.xc(A.Gc.Qx,!1,J.Gi,ra);};this.owa=function(ra,qa,O){ra={moff:(0,m.Pl)(O),moffms:(0,m.Xf)(O),vdlidold:ra.Vb,vbitrateold:ra.bitrate};Q.qG(Q.j,ra);Q.xr(Q.j,ra);Q.PB(Q.j,ra);Q.wc.Sp(ra,qa,Q.j.nf.value && Q.j.nf.value.stream);Q.hM(ra,f.Sh.qX);Q.xc(A.Gc.qX,!1,J.Gi,ra);};this.Uua=function(){var ra,qa;ra={waittime:(0,m.Xf)(Q.j.X1a()),abortedevent:"startplay",trackid:Q.j.Uj,prstate:Q.oy(),paustate:Q.j.paused.value};Q.R5(ra,"endplay");Q.hM(ra,f.Sh.xN);Q.xt.AT && (ra.eventlist_version=1,ra.eventlist=Q.VG.L1a(Q.j));Q.j.Wn && Q.j.Wn.initBitrate && (ra.initvbitrate=Q.j.Wn.initBitrate);try{qa=(0,g.eG)();qa && (ra.pdltime=qa);(0,m.Xd)(ra,Q.j.Yc,{prefix:"sm_"});}catch(O){}Q.iqa(ra);Q.wc.d7(ra,Q.Da);Q.wc.jM(ra,!1,Q.j.Gg.value,Q.Da);Q.lqa(ra);Q.wc.Sp(ra,Q.j.Oe.value,Q.j.Mg.value);Q.D3a(Q.j,ra);Q.pG(Q.j,ra);Q.WU(Q.j,ra);Q.oqa(ra);Q.nqa(ra);Q.xr(Q.j,ra);Q.xc(A.Gc.xN,!1,J.Pd | J.Gi | J.sD | J.Ds | J.Qo,ra);};this.Tua=function(ra,qa){ra={waittime:(0,m.Xf)(ra),abortedevent:"resumeplay",resumeplayreason:qa};Q.j.Wn && Q.j.Wn.initBitrate && (ra.initvbitrate=Q.j.Wn.initBitrate);Q.wc.Sp(ra,Q.j.Oe.value,Q.j.Mg.value);Q.WU(Q.j,ra);Q.xr(Q.j,ra);Q.xc(A.Gc.xN,!1,J.Pd | J.Gi | J.Qo,ra);};this.xya=function(ra,qa,O){ra={newstate:qa?"Paused":"Playing",oldstate:ra?"Paused":"Playing",reason:O};Q.qG(Q.j,ra);Q.xr(Q.j,ra);Q.PB(Q.j,ra);Q.wc.Sp(ra,Q.j.Zd.value && Q.j.Zd.value.stream,Q.j.nf.value && Q.j.nf.value.stream);Q.hM(ra,f.Sh.iY);Q.xc(A.Gc.iY,!1,J.Pd | J.Gi,ra);};this.cV=function(ra,qa,O){var ia,va;ra=(0,m.Xd)({vdlid:Q.j.Oe.value.Vb,playingms:ra,pausedms:qa,intrplayseq:Q.UB++,prstate:Q.oy(),paustate:Q.j.paused.value},O);Q.R5(ra,"intrplay");qa=Q.j.Dc[D.u.X].value;O=Q.j.Dc[D.u.$].value;ra.cdnid=ra.vcdnid=qa && qa.id;ra.acdnid=O && O.id;ra.locid=Q.sV && Q.sV.Nra;ra.loclv=Q.sV && Q.sV.d6a;ra.avtp=Q.pI.$m().aza;ra.mediabuffered=null === (ia=Q.j.Vd) || void 0 === ia?void 0:ia.T5();if(null === (va=Q.j.fb) || void 0 === va?0:va.vx)(Q.iqa(ra),Q.c7(ra),Q.B3a(ra));try{(0,m.Xd)(ra,Q.j.I6(),{prefix:"vd_"});}catch(Oa){}Q.qG(Q.j,ra);Q.xr(Q.j,ra);Q.PB(Q.j,ra);Q.wc.Sp(ra,Q.j.Zd.value && Q.j.Zd.value.stream,Q.j.nf.value && Q.j.nf.value.stream);Q.xc(A.Gc.cV,!1,J.Pd | J.Gi,ra);};this.LC=function(ra,qa,O,ia){ra={moffold:(0,m.Pl)(ra),reposseq:Q.tX++,prstate:Q.oy(),paustate:Q.j.paused.value};ia === y.oc.MP && (ra.reason="missing_segments");Q.PB(Q.j,ra);Q.wc.Sp(ra,O && O.stream,qa && qa.stream);Q.hM(ra,f.Sh.LC);Q.xc(A.Gc.LC,!1,J.Pd | J.Gi,ra);};this.qja=function(){var ra,qa,O,ia;qa=Q.j.uc.value;O=Q.j.Mg.value.Vb;qa=qa?{trackId:qa.trackId,bcp47:qa.ye,downloadableId:O,rank:qa.bc,chan:qa.channels}:{};O=Q.Ey;ia=null === (ra=Q.ora) || void 0 === ra?void 0:ra.Vb;ra=O?{trackId:O.trackId,bcp47:O.ye,downloadableId:ia,rank:O.bc,chan:O.channels}:{};Q.xc(A.Gc.gUa,!1,J.Pd | J.Gi,{switchdelay:(0,m.Xf)(Q.getTime() - Q.pra),track:qa,oldtrack:ra});};this.dY=function(ra){Q.xc(A.Gc.Mdb,!1,J.Pd | J.Gi,{speedold:Math.floor(1E3 * ra.oldValue),speed:Math.floor(1E3 * ra.newValue)});};this.KO=function(){Q.xc(A.Gc.T6b,!1,J.Pd | J.Gi,{track:Q.j.Mb.value.ug});};this.Az=function(ra){var qa,O;qa=Q.j.Mb.value;if(ra.newValue || qa && qa.mo() && !qa.jn()){O=(ra=null !== (O=ra.newValue) && void 0 !== O?O:qa)?{trackId:ra.trackId,bcp47:ra.ye,downloadableId:ra.Vb,rank:ra.bc,isImageBased:ra.lk}:{};ra=(ra=Q.wra)?{trackId:ra.trackId,bcp47:ra.ye,downloadableId:ra.Vb,rank:ra.bc,isImageBased:ra.lk}:{};O={switchdelay:(0,m.Xf)(Q.getTime() - Q.vra),track:O,oldtrack:ra};Q.wc.Sp(O,Q.j.Zd.value && Q.j.Zd.value.stream,Q.j.nf.value && Q.j.nf.value.stream);Q.xc(A.Gc.ifb,!1,J.Pd | J.Gi,O);}};this.Ap=function(ra){Q.xc(A.Gc.xwb,!1,J.Pd | J.Gi,ra.newValue);};this.$xb=function(ra,qa){var O,ia;O=qa.serverid;ia={locid:qa.location,loclv:qa.locationlv,selocaid:O,selcdnid:O,selocaname:qa.servername};ia.mediatype=qa.mediatype;ia.selreason=qa.selreason || "unknown";ia.seldetail=qa.seldetail;ia.cdnbwdata=JSON.stringify([{id:O}]);ra && (ia.oldlocid=ra.Nra,ia.oldloclv=ra.d6a,ia.oldocaid=ra.S2b,ia.oldocaname=ra.VX);Q.xc(A.Gc.nVa,!1,J.NZ,ia);};this.uYa=function(){var ra,qa,O;if(Q.j.ng)try{ra=!1;Q.Jgb || (ra=!0,Q.aL=Q.aL.filter(function(ia){return !ia.ia;}));if(0 < Q.aL.length){qa=Q.T4.construct(Q.aL,Q.j.Oh.ea(p.pa));Q.aL=[];qa.erroronly=ra;O={};(0,m.Wf)(qa,function(ia,va){O[ia]=JSON.stringify(va);});Q.xc(A.Gc.DEb,!1,J.Gi,O);}}catch(ia){Q.log.error("Exception in dlreport.",ia);}};this.oy=function(){var ra;ra=Q.j.zb.value;return ra === y.lb.he?"playing":ra === y.lb.Kg?"paused":ra === y.lb.zq?"ended":"waiting";};this.Ry=function(){var ra,qa,O;if(Q.j.state.value == y.Wb.fe){O=Q.SW();Q.config().uwa && (O.avtp=Q.pI.$m().aza,(null === (ra=Q.j.fb) || void 0 === ra?0:ra.vx) && Q.c7(O));O.mediabuffered=null === (qa=Q.j.Vd) || void 0 === qa?void 0:qa.T5();O.midplayseq=Q.Qsa++;O.prstate=Q.oy();O.paustate=Q.j.paused.value;Q.config().M2b && Q.veb("midplay");Q.config().Qr && Q.qqa(O);Q.mqa(O);Q.pqa(O);Q.xr(Q.j,O);Q.wc.iM(O);Q.xc(A.Gc.Ry,!1,J.Pd | J.Gi | J.sD | J.Ds,O);}};this.veb=function(ra){var qa,O;qa={};qa.trigger=ra;try{O=Q.j.Uoa();qa.subtitleqoescore=Q.j.An.IMb(O);qa.metrics=JSON.stringify(Q.j.An.npa(O));}catch(ia){Q.log.error("error getting subtitle qoe data",ia);}Q.xc(A.Gc.V5b,!1,J.Pd | J.sD | J.Fq,qa);};this.transition=function(ra){Q.PB(Q.j,ra);Q.WU(Q.j,ra);Q.xc(A.Gc.transition,!1,0,ra);};this.sxa=function(ra,qa){Q.xc(A.Gc.sxa,qa,0,ra);};this.gy=function(ra){var qa,O,ia,va,Oa,eb,Xa;O=Q.SW();Q.R5(O,"endplay");O.prstate=Q.oy();O.paustate=Q.j.paused.value;O.muted=Q.j.muted.value;Q.j.Bz && "downloaded" === Q.j.Bz.ZL() && (O.trickplay_ms=Q.j.PY.offset,O.trickplay_res=Q.j.PY.sbb);Q.config().Pgb && (O.rtinfo=Q.j.lMb());Q.config().uwa && (null === (qa=Q.j.fb) || void 0 === qa?0:qa.vx) && Q.c7(O);O.endreason=ra?"error":Q.j.zb.value === y.lb.zq?"ended":"stopped";(qa=Q.fq) && (0,m.Xd)(O,qa,{prefix:"pi_"});try{(0,m.Xd)(O,Q.j.Yc,{prefix:"sm_"});}catch(Ta){}Q.j.hqa && (O.inactivityTime=Q.j.hqa);Q.iqa(O);Q.B3a(O);if(Q.j.F3){qa=Q.j.F3;ia=Q.config().KUa;va=Q.j.loadTime;Oa={iv:ia,seg:[]};eb=function(Ta,bb,kb){return 0 === bb || void 0 === kb[bb - 1]?Ta:Ta - kb[bb - 1];};Xa=qa.Qvb.map(eb);eb=qa.E9b.map(eb);for(var qb,zb=0;zb < Xa.length;zb++){if(Xa[zb] || eb[zb])qb?(qb.ams.push(Xa[zb]),qb.vms.push(eb[zb])):qb={ams:[qa.Qvb[zb]],vms:[qa.E9b[zb]],soffms:qa.startTime + zb * ia - va};zb !== Xa.length - 1 && Xa[zb] && eb[zb] || !qb || (Oa.seg.push(qb),qb=void 0);}O.bt=JSON.stringify(Oa);}ra && (Q.lqa(O),Q.nqa(O));Q.veb("endplay");Q.config().Qr && Q.qqa(O);Q.wc.jM(O,!1,Q.j.Gg.value,Q.Da);Q.x3a(Q.j,O);Q.pG(Q.j,O);Q.qG(Q.j,O);Q.PB(Q.j,O,Q.Hia);Q.xr(Q.j,O);Q.WU(Q.j,O);Q.mqa(O);Q.pqa(O);Q.wc.iM(O);Q.IOb(O);Q.w3a(O);Q.KOb(O);Q.JOb(O);Q.MOb(O);Q.oqa(O);Q.NOb(O);Q.xc(A.Gc.gy,ra,J.Pd | J.Fq | J.Gi | J.sD | J.Ds | J.wD | J.Qo,O);};this.LEb=function(ra){Q.aL.push(Q.T4.Qzb(ra.response));};this.Dh=function(){Q.xc(A.Gc.BUa,!1,J.Pd | J.sD | J.Qo,{});};this.izb=function(ra){var qa,O;qa=ra.response.$l;ra=(0,p.Ob)(qa.cj);O=(0,p.Ob)(qa.pq);qa=(0,u.xa)(qa.i4 || 0);qa.T4a() || qa.Sqa() || (ra=new t.Efa(ra,O),Q.pI.Itb(new w.lEa(ra,qa)));};this.R9=function(ra){var qa,O,ia;ia=ra.newValue;ra.Eh && ra.Eh.bN && ia && (null === (qa=ra.Eh) || void 0 === qa || !qa.reason) || ia == Q.FG || (Q.xya(Q.FG,ia,null === (O=ra.Eh) || void 0 === O?void 0:O.reason),Q.FG=ia);};this.Kx=function(ra){function qa(O){var ia;if(Q.j.Gb && Q.j.Gb.sourceBuffers){ia=Q.j.Gb.sourceBuffers.filter(function(va){return va.type === O;}).pop();if(ia)return {busy:ia.ph(),updating:ia.updating(),ranges:ia.U5()};}}ra={cause:ra.Xb};ra.cause && ra.cause === d.ffa && (ra.mediaTime=Q.j.mediaTime.value,ra.buf_audio=qa(k.B0),ra.buf_video=qa(k.kQ));Q.cV(Q.EY[y.lb.he] || 0,Q.EY[y.lb.Kg] || 0,ra);};this.yfb=function(ra){var qa;ra=ra.oldValue;qa=Q.getTime();ra === y.lb.Ef?Q.EY=[]:Q.EY[ra]=(Q.EY[ra] || 0) + (qa - Q.gRb);Q.gRb=qa;};this.Fl=function(ra){Q.pra=Q.getTime();Q.Ey=ra.oldValue;};this.ol=function(ra){Q.vra=Q.getTime();Q.wra=ra.oldValue;};this.zS=function(ra){Q.ora=ra.oldValue;};this.DV=function(ra){function qa(O,ia){var va;if(!O || O.Nra !== ia.location){va={Nra:ia.location,d6a:ia.locationlv,S2b:ia.serverid,VX:ia.servername};Q.$xb(O,ia);return va;}}if("audio" === ra.mediatype){if(ra=qa(Q.cRb,ra))Q.cRb=ra;}else if(ra=qa(Q.sV,ra))Q.sV=ra;};this.UX=function(ra){var qa,O;qa=ra.mediatype;O=ra.reason;"video" === qa?"serverswitchaway" === O?(Q.fj.summary.phb++,Q.fj.Z7=Q.sa.ke.ea(p.pa)):"serverswitchback" === O && (Q.fj.summary.qhb++,Q.fj.Z7 && (Q.fj.summary.rhb.push(Q.sa.ke.ea(p.pa) - Q.fj.Z7),Q.fj.Z7=void 0)):"audio" === qa && ("serverswitchaway" === O?(Q.fj.summary.VTa++,Q.fj.Q7=Q.sa.ke.ea(p.pa)):"serverswitchback" === O && (Q.fj.summary.WTa++,Q.fj.Q7 && (Q.fj.summary.XTa.push(Q.sa.ke.ea(p.pa) - Q.fj.Q7),Q.fj.Q7=void 0)));Q.xc(A.Gc.U2b,!1,J.Pd | J.Gi,{mediatype:ra.mediatype,server:ra.server,selreason:ra.reason,location:ra.location,bitrate:ra.bitrate,confidence:ra.confidence,throughput:ra.throughput,oldserver:ra.oldserver});};this.YE=function(ra){Q.xc(A.Gc.kvb,!1,J.Gi,{strmsel:ra.strmsel});};this.i8=function(ra){ra=l.__rest(ra,["type"]);Q.xr(Q.j,ra);Q.xc(A.Gc.bSb,!1,J.Pd | J.Fq,ra);};this.h8=function(ra){var qa,O;qa=ra.mediaType;O=ra.current;ra=ra.dm;qa === D.u.X && (qa={mediatype:(0,F.TG)(qa),curr:{enc:O.sB,origin:O.rB},prev:{enc:ra.sB,origin:ra.rB}},Q.xr(Q.j,qa),Q.xc(A.Gc.aSb,!1,J.Pd,qa));};this.DO=function(ra){ra=Object.assign({},ra);ra.details && (ra.details=JSON.stringify(ra.details));Q.xc(A.Gc.U5b,!0,J.Pd | J.Fq | J.NZ,ra);};this.Hia=Za.cAa || Za.xba || Za.H_a;this.pI=K();this.log=(0,n.Fh)(M,"LogblobBuilder");this.FG=M.paused.value;this.na=this.Da.na;this.fj={summary:{phb:0,qhb:0,rhb:[],VTa:0,WTa:0,XTa:[]},Z7:void 0,Q7:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.fQ=void 0;l=a(5163);f=a(93161);k=a(33096);d=a(13044);g=a(52569);n=a(31276);h=a(45146);m=a(3887);p=a(5021);q=a(36129);u=a(72574);t=a(74267);w=a(70826);v=a(22365);y=a(85001);x=a(32687);z=a(79342);A=a(18169);B=a(32573);C=a(45266);D=a(60328);E=a(30873);G=a(79542);F=a(93161);c.prototype.D3a=function(M,L){var K,P,H,I,N,R,X,ha,ta,la,xa,Ba,La,Za,ab,Z,na;if(this.config().Qr)try{K={};P=this.ed.getStats(void 0,void 0,M.P);H=M.SF();I=P.nI.tzb || [];K.attempts=P.j$ || 0;K.num_completed_tasks=I.length;N=this.de.wHb;R={};X=B.jj.EO;ha=B.jj.hr;ta=B.jj.hka;P.Vk && (R.scheduled=P.Vk - H);la=M.Y;la && (0,x.Sb)(la.FH) && (R.preauthsent=la.FH - M.loadTime,R.preauthreceived=la.WN - M.loadTime);xa=I.filter(function(Ha){return "manifest" === Ha.type;});K.mf_succ=xa.filter(N("status",X)).length;K.mf_fail=xa.filter(N("status",ha)).length;Ba=M.Yc;(0,x.Xc)(Ba.lg) && 0 > Ba.lg && M.loadTime && (R.ldlsent=Ba.lc,R.ldlreceived=Ba.lr);La=I.filter(function(Ha){return "ldl" === Ha.type;});K.ldl_succ=La.filter(N("status",X)).length;K.ldl_fail=La.filter(N("status",ha)).length;P=!0;H=[];"notcached" === M.gF && (P=!1,H.push("Missing cached manifest"));this.config().zT || (P=!1,H.push("LDL prefetch disabled"));Za=La.filter(N("status",ta)).length;this.config().zT && 0 === Za && (!R.ldlreceived || 0 <= R.ldlreceived) && (P=!1,H.push("LDL received after start"));if(this.config().mZa)if(L.isPrefetchItem){ab=L.prefetchedAudioMs / L.bcABufferLevelMs;if(1 > L.prefetchedVideoMs / L.bcVBufferLevelMs || 1 > ab)(P=!1,H.push("Insufficient media fetched"));}else (P=!1,H.push("aseStats not initialized"));Z=I.filter(function(Ha){return "getHeaders" === Ha.type;});K.header_succ=Z.filter(N("status",X)).length;K.header_fail=Z.filter(N("status",ha)).length;na=I.filter(function(Ha){return "getMedia" === Ha.type;});K.media_succ=na.filter(N("status",X)).length;K.media_fail=na.filter(N("status",ha)).length;K.hm_succ=K.header_succ + K.media_succ;K.hm_fail=K.header_fail + K.media_fail;(0,m.Xd)(L,K,{prefix:"pr_"});this.xt.AT && (L.eventlist_version=1,L.eventlist=this.VG.L1a(M));(L.prefetchCompleted=P) || (L.prefetchFailed=H,(0,m.Xd)(L,R,{prefix:"pe_"}));this.qqa(L);}catch(Ha){this.log.warn("error in collecting video prepare data",Ha);}};c.prototype.qMb=function(M,L){if(M=M.cU())if(L=M[L])return L.ta;};c.prototype.x3a=function(M,L){M.cb.sg && (L.isBranching=!0);};c.prototype.pG=function(M,L){var K,P;P=(null === (K=M.Y) || void 0 === K?void 0:K.Oqa) || "videopreparer" === M.fF;L.cachedManifest=M.gF;L.cachedLicense=M.fF;L.usedldl=this.config().zT?P.toString():"not_capable";};c.prototype.qG=function(M,L){var K,P;if(this.config().LOb){K=M.Voa();P=M.ca.Y;K && P && (L.segment=K,P=M.FB(),L.segmenttime=P,M=this.qMb(M,K),null !== P && void 0 !== M && (L.segmentoffset=P - M));}};c.prototype.PB=function(M,L,K){L.pxid=M.e$;(void 0 === K?0:K) && (L.playgraph_trace=M.l$a);};c.prototype.WU=function(M,L){L.hasContentPlaygraph=M.O6();};c.prototype.GOb=function(M,L){var K,P;if(M.O6()){K=M.gB;P=M.Y.Fa.Nm.da;L.auxViewables=Object.keys(P.O).map(function(H){return P.O[H].J;}).filter(function(H,I,N){return H !== K && N.indexOf(H) === I;});}};c.prototype.B3a=function(M){var L,K;L=this.j.ehc;K=L && L.ajc;L && L.mOb && (M.htwbr=L.mOb,M.pbtwbr=L.Lic,M.hptwbr=L.ihc);L && L.S1b && (M.rr=L.S1b,M.ra=L.Yic);L && K && 0 < (K.length || 0) && (M.qe=JSON.stringify(K));};c.prototype.lqa=function(M){var L,K,P;try{L=this.de.createElement("canvas");K=L.getContext("webgl") || L.getContext("experimental-webgl");if(K){P=K.getExtension("WEBGL_debug_renderer_info");P && (M.WebGLRenderer=K.getParameter(P.UNMASKED_RENDERER_WEBGL),M.WebGLVendor=K.getParameter(P.UNMASKED_VENDOR_WEBGL));}}catch(H){}};c.prototype.MOb=function(M){M.switchAwaySummary={vsa:this.fj.summary.phb,vsb:this.fj.summary.qhb,vsbt:this.fj.summary.rhb,asa:this.fj.summary.VTa,asb:this.fj.summary.WTa,asbt:this.fj.summary.XTa};};c.prototype.sqb=function(M){var L;L=[];return M?Object.keys(M).map(function(K){return +K;}):L;};c.prototype.EF=function(){var M,L;M=this;if(this.j.Ew && this.j.ci){L=[];this.j.Ew.concat(this.j.ci).forEach(function(K){K.streams.forEach(function(P){L.push({dlid:P.Vb,type:P.type,bitrate:P.bitrate,vmaf:P.xb,cdn_ids:M.sqb(P.ima)});});});return JSON.stringify(L);}};c.prototype.Zxb=function(){var L,K,P;function M(H,I){var N,R,X;N=H.cdnId + "$" + H.correlationId;R=P[N];R || (R={cdnid:H.cdnId,pbcid:H.correlationId,dls:[]},P[N]=R,K.push(R));(0,h.WK)(H.bitrate);(0,h.WK)(H.duration);N={bitrate:H.bitrate,tm:(0,v.Fn)(H.duration)};X=H.vmaf;X && ((0,h.WK)(H.vmaf),N.vf=X);N[I]=(0,m.aj)(H.downloadableId);R.dls.push(N);}L=this.j.fl.wJb();K=[];P={};L.audio.forEach(function(H){M(H,"adlid");});L.video.forEach(function(H){M(H,"dlid");});return JSON.stringify(K);};c.prototype.SW=function(){var M,L,K,P,H,I,N,R,X,ha,ta,la,xa;M=this.j.fl;L={totaltime:(0,m.Pl)(M.Pp("content")),totalcontenttime:(0,m.Pl)(M.DU("content")),totaladtime:(0,m.Pl)(M.Pp("ads")),totalothertime:(0,m.Pl)(M.Pp("other")),cdndldist:this.Zxb(),reposcount:this.tX,intrplaycount:this.UB};try{K={numskip:0,numlowqual:0};P=this.j.Vd;H=P.Gv();(0,x.Sb)(H) && (L.totfr=H,K.numren=H);H=P.XF();(0,x.Sb)(H) && (L.totdfr=H,K.numrendrop=H);H=P.gU();(0,x.Sb)(H) && (L.totcfr=H,K.numrenerr=H);L.playqualvideo=JSON.stringify(K);I=this.j.Oe.value;I && (L.videofr=I.framerate.toFixed(3));N=M.aoa();N && (L.abrdel=N);R=M.V6() && M.i0a();R && (L.tw_vmaf=R);X=M.g0a();X && (0,m.Xd)(L,X);L.rbfrs=this.UB;L.maxbitrate=this.maxBitrate;L.maxresheight=this.Z6a;ha=this.j.IB();for(M=0;M < ha.length;M++){ta=ha[M];la=this.Da.SM.vz(ta);if(la){(0,h.oa)(xa);L.maxbitrate=xa?xa.bitrate:0;L.maxresheight=xa?xa.height:0;L.bitratefilters=la.join("|");break;}xa=ta;}this.j.Bz && (L.trickplay=this.j.Bz.ZL());null !== this.j.An.oUa && (L.avg_subt_delay=this.j.An.oUa);}catch(Ba){this.log.error("Exception reading some of the endplay fields",Ba);}(0,m.Xd)(L,this.j.I6(),{prefix:"vd_"});return L;};c.prototype.getTime=function(){return this.Ea.Kb().ea(p.pa);};c.prototype.fpa=function(){return this.getTime() - this.Da.Oh.ea(p.pa);};c.prototype.qqa=function(M){var L;try{L=this.ed.getStats();M.pr_cache_size=JSON.stringify(L.cache);M.pr_stats=JSON.stringify(L.YIb);}catch(K){}};c.prototype.mqa=function(M){this.log.debug("httpstats",this.Je.Pf);(0,m.Xd)(M,this.Je.Pf,{prefix:"http_"});};c.prototype.xr=function(M,L){M=M.kd;M.aa && (L.intenttoplayatedge=M.LU(),M=M.EB(),L.livestage=this.bLb(M));};c.prototype.bLb=function(M){switch(M){case E.ys.GQ:case E.ys.Xda:case E.ys.kda:return M.toLowerCase();default:return (0,G.wL)(M);}};c.prototype.iqa=function(M){var L,K,P;L=this.config().MXa && !(this.na % this.config().MXa);K=this.j.fb;P=null === K || void 0 === K?void 0:K.Bh;L && P && (M.ASEstats=JSON.stringify(K.e4a()));};c.prototype.c7=function(M){Object.assign(M,this.j.fb.Jc.QMb());};c.prototype.pqa=function(M){var L;try{L=v.Lu.memory;(0,x.R4a)(L) && (M.totalJSHeapSize=L.totalJSHeapSize,M.usedJSHeapSize=L.usedJSHeapSize,M.jsHeapSizeLimit=L.jsHeapSizeLimit);}catch(K){}};c.prototype.w3a=function(M){var L;try{if(this.config().QS){L=this.j.DJb();M.battery=L;this.log.trace("batterystatuses",L);}}catch(K){}};c.prototype.IOb=function(M){this.j.A4 && (M.dqec=this.j.A4);};c.prototype.oqa=function(M){var L,K,P;(null === (L=this.j.je) || void 0 === L?0:L.SL)?M.keysys=this.j.je.SL():(null === (P=null === (K=this.j.je) || void 0 === K?void 0:K.mediaKeys) || void 0 === P?0:P.keySystem)?M.keysys=this.j.je.mediaKeys.keySystem:this.OM.i5a && (M.keysys=this.OM.i5a);this.aC.k5a && (M.keySystemRestrictions=this.aC.k5a);this.aC.l5a && (M.keySystemRestrictionsDebug=this.aC.l5a);};c.prototype.nqa=function(M){var L;if(null === (L=this.j.je) || void 0 === L?0:L.g1a)M.keystatus=this.j.je.nra;};c.prototype.JOb=function(M){this.dna && (M.externaldisplay=this.dna.xL);};c.prototype.KOb=function(M){var L,K;if(this.hAa){L=this.hAa.map(function(P){return P.zf;}).filter(function(P){return void 0 !== P;});K=(0,z.tsa)(L,function(P){return P.height;});K && (M.media_capabilities_smooth=K.smooth,M.media_capabilities_efficient=K.powerEfficient,M.media_capabilities_bitrate=K.bitrate,M.media_capabilities_height=K.height,M.media_capabilities_width=K.width);M.media_capabilities=L.map(function(P){return {smooth:P.smooth,efficient:P.powerEfficient,bitrate:P.bitrate,height:P.height,width:P.width};});}};c.prototype.NOb=function(M){M.didHydrateTracks=this.j.Q4;};c.prototype.ZQb=function(){void 0 === this.dna && (this.dna=this.ena.rHb());};c.prototype.$Qb=function(M){var L;L=this;void 0 === this.hAa && void 0 !== M && (this.hAa=M.map(function(K){return L.Gsa.lna(K);}));};c.prototype.R5=function(M,L){(L=this.j.UL(L)) && Object.entries(L).forEach(function(K){var P;P=ja(K);K=P.next().value;P=P.next().value;M[K]=P;});};c.prototype.hM=function(M,L){var K;(L=null === (K=this.j.fb) || void 0 === K?void 0:K.o6(void 0,L)) && Object.entries(L).forEach(function(P){var H;H=ja(P);P=H.next().value;H=H.next().value;M[P]=H;});};c.prototype.xc=function(M,L,K,P){var H,I;I=L?"error":"info";L && this.j.mh && (0,q.u_)(this.j.mh.errorCode,this.j.mh.za,this.fpa(),null === (H=this.j.Vd) || void 0 === H?void 0:H.Gv()) && (I="info");this.tia(P,this.j,L,K);M=this.Jy.kt(M,I,P,this.Da);this.Kf.xc(M);};c.prototype.HOb=function(M,L){var K,P;P=null === (K=L.fb) || void 0 === K?void 0:K.SCb;P && (null === P || void 0 === P?void 0:P.J) !== L.gB && (M.auxMid || (M.auxMid=P.J),M.auxPlaybackcontextid || (M.auxPlaybackcontextid=L.jk(P.J).Gd));};c.prototype.tia=function(M,L,K,P){var H,I,N,R,X,ha,ta;this.wc.y3a(M,L);this.HOb(M,L);P & J.Pd && ((0,h.oa)(!M || void 0 === M.moff),this.wc.C3a(M,L,L.O6()));P & J.Fq && this.wc.E3a(M,L);P & J.Gi && (null === (H=L.fb) || void 0 === H?0:H.Bh) && (M.abuflbytes=null !== (I=M.abuflbytes) && void 0 !== I?I:L.mja(),M.abuflmsec=null !== (N=M.abuflmsec) && void 0 !== N?N:L.wS(),M.vbuflbytes=null !== (R=M.vbuflbytes) && void 0 !== R?R:L.fAa(),M.vbuflmsec=null !== (X=M.vbuflmsec) && void 0 !== X?X:L.cZ(),M.tbuflbytes=null !== (ha=M.tbuflbytes) && void 0 !== ha?ha:L.x6b(),M.tbuflmsec=null !== (ta=M.tbuflmsec) && void 0 !== ta?ta:L.y6b());P & J.Ds && this.wc.F3a(M,L.uk);P & J.sD && (H=v.Ee.hardwareConcurrency,0 <= H && (M.numcores=H),H=this.Da.oma) && (I=H.boa(),M.droppedFrames=JSON.stringify(I),H=H.tU(this.config().bFb),(0,m.Wf)(H,function(la,xa){M["droppedFramesP" + la]=JSON.stringify(xa);}));if(P & J.NZ)try{L.ng && (M.cdninfo=JSON.stringify(L.ng.map(function(la){return {id:la.id,nm:la.name,rk:la.bc,wt:la.location.weight,lv:la.location.level};})));}catch(la){}K && P & J.wD && ((0,h.oa)(L.mh),this.wc.A3a(M,L,L.mh));P & J.Qo && this.wc.kqa(M);};Ya.Object.defineProperties(c.prototype,{Jgb:{configurable:!0,enumerable:!0,get:function(){return this.j.pB || this.j.hL;}}});b.fQ=c;(function(M){M[M.Pd=1]="MOFF";M[M.Fq=2]="PRESENTEDSTREAMS";M[M.Gi=4]="BUFFER";M[M.Ds=8]="SCREEN";M[M.sD=16]="CPU";M[M.NZ=32]="CDN";M[M.wD=64]="FATALERROR";M[M.Qo=128]="BROWSERINFO";})(J || (J={}));},26158:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q,u,t){this.Kf=m;this.config=p;this.sa=q;this.Ea=u;this.Ura=t;}Object.defineProperty(b,"__esModule",{value:!0});b.gQ=void 0;r=a(5163);l=a(45118);f=a(22674);k=a(98326);d=a(4203);g=a(30869);n=a(81918);h=a(99400);c.prototype.create=function(m,p,q,u){var t;t=this.Ura.create(m,p);return new h.iQ(m,p,q,u,this.Kf,this.config,this.Ea,t);};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(l.tl)),r.__param(1,(0,f.l)(d.Yb)),r.__param(2,(0,f.l)(g.cg)),r.__param(3,(0,f.l)(n.Lc)),r.__param(4,(0,f.l)(k.eQ))],a);b.gQ=a;},99400:function(r,b,a){var l,f,k,d,g;function c(n,h,m,p,q,u,t,w){var v;v=this;this.j=n;this.Da=h;this.hG=p;this.Kf=q;this.config=u;this.Ea=t;this.ib=w;this.dC=function(y,x){return function(z){var A;A=x(z);if("number" !== typeof A)throw Error("Event " + JSON.stringify(z) + " does not have movie Id");A === v.P && y(z);};};this.y6a=this.dC(function(y){v.Jaa(y.wG);},function(y){return y.P;});this.v6a=this.dC(function(){v.RS();},function(y){return y.P;});this.$Va=this.dC(function(){v.RS();},function(y){return y.movieId;});this.ska=this.dC(function(){v.j.zb.value === d.lb.he && (v.j.zb.removeListener(v.ska),v.Wt());},function(){return v.j.P;});this.Az=function(y){v.gq && v.ib.Az(y);};this.eWa=this.dC(this.ib.izb,function(y){return y.P;});this.BYa=this.dC(this.ib.LEb,function(y){return y.P;});this.a6a=this.dC(this.ib.DV,function(y){return v.j.Vi(y.segmentId).P;});this.vcb=this.dC(this.ib.UX,function(y){return v.j.Vi(y.segmentId).P;});this.Ij=function(y){y.skip && (v.bI=!0);switch(y.Xb){case d.oc.jx:case d.oc.fJ:case d.oc.LQ:case d.oc.MP:case d.oc.mea:v.aO && v.Oo && v.ib.Tua(v.getTime() - v.Oo,v.aO);v.aO="repos";v.ib.LC(y.Jta,y.nf,y.Zd);v.Oo=v.getTime();(0,k.If)(v.tv);break;case d.oc.x_:v.aO="force_rebuffer";v.Oo=v.getTime();(0,k.If)(v.tv);break;case d.oc.WD:case d.oc.xs:break;default:return (0,g.wL)(y.Xb);}};this.Fl=function(y){v.Ey=y.oldValue;v.ib.Fl(y);};this.tv=function(){var y;if(v.Oo && v.j.zb.value !== d.lb.Ef){y=v.getTime() - v.Oo;v.ib.hu(y,v.bI,v.aO);v.Ey && v.Ey != v.j.uc.value && v.ib.qja();v.Oo=void 0;v.aO=void 0;v.bI=void 0;}};this.Wt=function(){v.gq || (v.gq=!0,v.ib.ds(!1),v.tqa(),v.config().k7 && (v.xy=ob.setTimeout(function(){v.Kf.flush(!1).catch(function(){return v.log.warn("failed to flush log batcher on initialLogFlushTimeout");});v.xy=void 0;},v.config().k7)));};this.og=function(){v.xy && (ob.clearTimeout(v.xy),v.xy=void 0);if(v.config().U4 || v.config().vS)(v.hma && (ob.clearInterval(v.hma),v.hma=void 0),v.ib.uYa());v.TY && v.TY();v.gq?v.ib.gy(!!v.j.mh):v.j.mh?v.ib.ds(!0):v.Da.background.value || v.ib.Uua();};this.hZ=function(y){y.oldValue && y.Eh && y.Eh.kF && v.ib.Qx(y.oldValue,y.newValue,y.Eh.kF,y.Eh.FS);};this.$W=function(y){var x;if(y.newValue){x=y.newValue.stream;v.GG != x && (v.GG && x && v.ib.owa(v.GG,x,v.hG(y.newValue.HK.startTime)),v.GG=x);}};this.P=h.P;this.log=(0,l.Fh)(n,"LogblobBuilder");this.Db();m && this.Jaa();}Object.defineProperty(b,"__esModule",{value:!0});b.iQ=void 0;l=a(31276);f=a(5021);k=a(32219);d=a(85001);g=a(79542);c.prototype.Db=function(){this.j.addEventListener(d.ga.NG,this.y6a);this.j.addEventListener(d.ga.ksa,this.v6a);this.j.addEventListener(d.ga.DV,this.a6a);this.j.addEventListener(d.ga.UX,this.vcb);this.j.addEventListener(d.ga.og,this.$Va);if(this.config().U4 || this.config().vS)(this.j.addEventListener(d.ga.CF,this.BYa),this.hma=ob.setInterval(this.ib.uYa,this.config().PEb));this.config().uwa && this.j.addEventListener(d.ga.CF,this.eWa);};c.prototype.Jaa=function(n){var h;h=this;this.L7a || (this.j.zb.value !== d.lb.he || (void 0 === n?0:n)?this.j.zb.addListener(this.ska):this.Wt(),this.j.$h.addListener(this.Az),this.j.Mb.addListener(this.ib.ol),this.j.uc.addListener(this.Fl),this.j.Mg.addListener(this.ib.zS),this.j.paused.addListener(this.ib.R9),this.j.Zd.addListener(this.$W),this.j.zb.addListener(this.tv),this.j.zb.addListener(this.ib.yfb),this.j.Oe.addListener(this.hZ),this.j.playbackRate.addListener(this.ib.dY),this.j.addEventListener(d.ga.Dh,this.ib.Dh),this.j.addEventListener(d.ga.YE,this.ib.YE),this.j.addEventListener(d.ga.i8,this.ib.i8),this.j.addEventListener(d.ga.h8,this.ib.h8),this.j.addEventListener(d.ga.DO,this.ib.DO),this.j.addEventListener(d.ga.Kx,function(m){h.aO="rebuffer";h.ib.Kx(m);h.Oo=h.getTime();(0,k.If)(h.tv);}),this.j.addEventListener(d.ga.Ij,this.Ij),this.j.addEventListener(d.ga.KO,this.ib.KO),this.Da.Ap && this.Da.Ap.addListener(this.ib.Ap),this.L7a=!0);};c.prototype.RS=function(){this.og();this.L7a && (this.j.removeEventListener(d.ga.NG,this.y6a),this.j.removeEventListener(d.ga.ksa,this.v6a),this.j.removeEventListener(d.ga.DV,this.a6a),this.j.removeEventListener(d.ga.UX,this.vcb),this.j.$h.removeListener(this.Az),this.j.Mb.removeListener(this.ib.ol),this.j.uc.removeListener(this.Fl),this.j.Mg.removeListener(this.ib.zS),this.j.paused.removeListener(this.ib.R9),this.j.Zd.removeListener(this.$W),this.j.zb.removeListener(this.tv),this.j.zb.removeListener(this.ska),this.j.zb.removeListener(this.ib.yfb),this.j.Oe.removeListener(this.hZ),this.j.playbackRate.removeListener(this.ib.dY),this.j.removeEventListener(d.ga.og,this.$Va),this.j.removeEventListener(d.ga.Dh,this.ib.Dh),this.j.removeEventListener(d.ga.YE,this.ib.YE),this.j.removeEventListener(d.ga.DO,this.ib.DO),this.j.removeEventListener(d.ga.Kx,this.ib.Kx),this.j.removeEventListener(d.ga.Ij,this.Ij),this.j.removeEventListener(d.ga.KO,this.ib.KO),this.Da.Ap && this.Da.Ap.removeListener(this.ib.Ap),this.j.removeEventListener(d.ga.CF,this.BYa),this.j.removeEventListener(d.ga.CF,this.eWa));};c.prototype.getTime=function(){return this.Ea.Kb().ea(f.pa);};c.prototype.tqa=function(){var n,h,m;n=this;m=[];this.config().q7a && (this.config().r7a.forEach(function(p){m.push(ob.setTimeout(n.ib.Ry,p));}),this.config().K8 && (h=ob.setInterval(this.ib.Ry,this.config().K8)),this.TY=function(){m.forEach(function(p){ob.clearTimeout(p);});h && ob.clearInterval(h);});};b.iQ=c;},33345:function(r,b,a){var f,k,d,g,n,h,m,p,q,u,t;function c(w,v,y,x,z,A,B,C){this.Ea=w;this.platform=y;this.Tk=x;this.json=z;this.xh=A;this.Tg=B;this.uSb=C;(0,k.po)(this,"json");this.ma=v.ab("LogblobSender");}function l(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.xIa=void 0;r=a(5163);f=a(22674);k=a(66523);d=a(63368);g=a(5021);n=a(74870);h=a(81918);m=a(91581);p=a(33554);q=a(87386);u=a(40953);a=a(7605);c.prototype.send=function(w){var v;v=this;return new Promise(function(y,x){var z;try{z=w.reduce(function(A,B){A.entries.push(v.gCb(B));return A;},new l());y(v.bJb(z));}catch(A){v.ma.error(A.message);x(A);}}).then(function(y){return v.zxa(y);});};c.prototype.gCb=function(w){return this.xh.nC(this.xh.nC({},w.data),{esn:this.Tk().hk,sev:w.severity,type:w.type,lver:this.platform.Sra,jssid:this.Ea.id,devmod:this.platform.jB,jsoffms:w.timestamp.qa(this.Ea.Gy).ea(g.pa),clienttime:w.timestamp.ea(g.pa),client_utc:w.timestamp.ea(g.xm),uiver:this.Tg.Aw});};c.prototype.bJb=function(w){var v;v=this;try{return this.json.stringify(w);}catch(z){for(var y={},x=0;x < w.entries.length;(y={lP:y.lP,xu:y.xu},++x)){y.xu=Object.assign({},w.entries[x]);try{this.json.stringify(y.xu);}catch(A){y.lP=void 0;this.xh.vB(y.xu,(function(B){return function(C,D){try{v.json.stringify(D);}catch(E){B.lP=E.message;B.xu[C]=B.lP;}};})(y));y.xu.stringifyException=y.lP;y.xu.originalType=y.xu.type;y.xu.type="debug";y.xu.sev="error";}}return this.json.stringify(w);}};c.prototype.zxa=function(w){var v;v=this;return this.uSb.Cf(this.ma,{logblobs:w}).then(function(){!1;}).catch(function(y){v.ma.error("PBO logblob failed",y);return Promise.reject(y);});};t=c;t=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(h.Lc)),r.__param(1,(0,f.l)(q.bb)),r.__param(2,(0,f.l)(m.Hn)),r.__param(3,(0,f.l)(p.Rw)),r.__param(4,(0,f.l)(d.FD)),r.__param(5,(0,f.l)(n.dh)),r.__param(6,(0,f.l)(a.hx)),r.__param(7,(0,f.l)(u.kLa))],t);b.xIa=t;},82956:function(r,b,a){var l,f;function c(k){switch(k){case l.S.TP:return "http";case l.S.VP:return "connectiontimeout";case l.S.CD:return "readtimeout";case l.S.oGa:return "corruptcontent";case l.S.BD:return "abort";case l.S.WP:case l.S.Hda:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.dpa=b.N1a=b.B1a=void 0;l=a(36129);f=a(22365);b.B1a=c;b.N1a=function(k,d){var g;k={errorcode:k + (d.errorCode || l.V.Yo)};d.za && (k.errorsubcode=d.za);d.He && (k.errorextcode=d.He);d.Lma && (k.erroredgecode=d.Lma);d.Nb && (k.errordetails=d.Nb);d.Nl && (k.httperr=d.Nl);d.b9 && (k.aseneterr=d.b9);d.wB && (k.errordata=d.wB);d.ZV && (k.mediaerrormessage=d.ZV);g=c(Number(d.za));g && (k.nwerr=g);d.Gd && (k.playbackcontextid=d.Gd);return k;};b.dpa=function(){return {screensize:f.Ou.width + "x" + f.Ou.height,screenavailsize:f.Ou.availWidth + "x" + f.Ou.availHeight,clientsize:ob.innerWidth + "x" + ob.innerHeight,devicePixelRatio:f.NJa};};},50723:function(r,b,a){var f,k,d,g,n,h,m;function c(p){this.eK=d.Ia;this.Bha=[];this.sR=this.d2=!1;p && (this.eK=p.size,this.Bha=p.UG);}function l(p,q,u,t){this.STb=p;this.config=q;this.Df=u;this.json=t;(0,k.po)(this,"json");this.ma=this.Df.ab("MessageQueue");this.et=[];}Object.defineProperty(b,"__esModule",{value:!0});b.zJa=void 0;r=a(5163);f=a(22674);k=a(66523);d=a(72574);g=a(81829);n=a(87386);h=a(63368);a=a(45118);l.prototype.Dia=function(p){var q,u;0 === this.et.length && this.et.push(this.roa());if(p=this.nMb(p)){q=this.STb.measure([p]);u=this.et[this.et.length - 1];0 < u.size.add(q).Qk(this.config.R6a) && (u=this.roa(),this.et.push(u));u.Dia(p);}};l.prototype.BJb=function(){var p;p=this.et.filter(function(q){return q.Txb;});this.et.push(this.roa());p.forEach(function(q){return q.ZSb();});return p;};l.prototype.Ftb=function(p){p.Ay || this.et.unshift(new c(p));};l.prototype.D0b=function(p){p=this.et.indexOf(p);0 <= p && this.et.splice(p,1);};l.prototype.nMb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(t){var q,u;q={};p=p.data;u=p.debugMessage;u && "string" === typeof u && (q.originalDebugMessage=u);(p=p.debugCategory) && "string" === typeof p && (q.originalDebugCategory=p);this.ma.error("JSON.stringify error: " + t.message,q);}};l.prototype.roa=function(){return new c();};Ya.Object.defineProperties(l.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.et.reduce(function(p,q){return p.add(q.size);},d.Ia);}}});m=l;m=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(g.uIa)),r.__param(1,(0,f.l)(a.aea)),r.__param(2,(0,f.l)(n.bb)),r.__param(3,(0,f.l)(h.FD))],m);b.zJa=m;c.prototype.EO=function(){this.d2=!1;this.sR=!0;};c.prototype.hr=function(){this.d2=!1;};c.prototype.Dia=function(p){this.Bha.push(p);this.eK=this.eK.add(p.size);};c.prototype.ZSb=function(){this.d2=!0;};Ya.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.eK;}},UG:{configurable:!0,enumerable:!0,get:function(){return this.Bha;}},Txb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.UG.length && !1 === this.d2;}},Ay:{configurable:!0,enumerable:!0,get:function(){return this.sR;}}});},29670:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YBa={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},51770:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.x6a=void 0;r=a(22674);c=a(37104);l=a(83081);f=a(43185);k=a(23176);d=a(17950);g=a(24273);n=a(44236);h=a(17398);m=a(47930);p=a(60042);q=a(97791);b.x6a=new r.gd(function(u){u(f.QIa).to(k.PIa).ha();u(c.rea).to(l.RIa).ha();u(d.tMa).pl(function(t){for(var w=[],v=0;v < arguments.length;++v){w[v - 0]=arguments[v];}v=a(26159).$D;return new (Function.prototype.bind.apply(v,[null].concat(ba(w))))();});u(g.UIa).ae(function(){return function(t){return new n.VIa(t);};});u(h.iJ).to(m.NIa).ha();u(p.MIa).to(q.LIa).ha();});},43185:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QIa="ManifestProviderConfigSymbol";},37104:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rea="ManifestParserFactorySymbol";},24273:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UIa="ManifestVerifyErrorFactorySymbol";},17950:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tMa="PlayerTextTrackFactorySymbol";},77939:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q){m=f.oQ.call(this,m) || this;m.config=p;m.j=q;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.XBa=void 0;l=a(29670);f=a(28518);k=a(45266);d=a(51344);g=a(35128);n=a(36129);h=a(31149);da(c,f.oQ);c.prototype.y9a=function(m,p,q){var u,t;u=this;t=this.config.Zaa;p=p.filter(function(w){var v,y;v=w.Kt || !w.Yf || w.streams && 0 < w.streams.length;v || u.log.warn("Audio track is missing streams",u.C6(w));y=0 === t.length || 0 <= t.indexOf(w.wh);y || u.log.warn("Audio track is not supported",u.C6(w));return v && y;});if(!p.length)throw Error("no valid audio tracks");p=p.map(function(w){return u.x9a(m,w,u.pJb(w,q));});this.log.trace("Parsed audio tracks",{Count:p.length});return p;};c.prototype.AXb=function(m,p,q,u){var t,w,v,y;t=this;w=ja((0,k.vC)(function(x){return x.Kt;},p));p=w.next().value;w=w.next().value;w=ja((0,k.vC)(function(x){return x.streams && 0 < x.streams.length;},w));v=w.next().value;w.next().value.forEach(function(x){return t.log.warn("Audio track is missing streams",t.C6(x));});y=this.config.Zaa;w=ja((0,k.vC)(function(x){return 0 === y.length || 0 <= y.indexOf(x.wh);},v));v=w.next().value;w.next().value.forEach(function(x){return t.log.warn("Audio track is not supported",t.C6(x));});p=[].concat(ba(v),ba(p)).map(function(x){return t.x9a(m,x,t.ZKb(x.Zf,q,u));});if(!p.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:p.length});return p;};c.prototype.Yvb=function(m){var p,q;p=this;q=this.config.Jna;if(q){if(m=ja(m.filter(function(u){return u.ye == q || u.trackId == q;})).next().value)return m;}else if(this.j.K5 && (m=ja(m.filter(function(u){return u.trackId == p.j.K5;})).next().value))return m;};c.prototype.EHb=function(m,p){this.config.mUa.forEach(function(q){var u,t,w;u=p.$s.filter(function(v){return v.profile === q;}).reduce(function(v,y){y.streams.map(function(x){return x.bitrate;}).forEach(function(x){v.add(x);});return v;},new Set());t=!1;w=m.Fa.$s.map(function(v){var y;if(v.profile === q){y=v.streams.filter(function(x){return u.has(x.bitrate);});if(y.length === v.streams.length)return v;t=!0;if(0 === y.length)throw new h.Mc(n.V.CIa,n.S.lib);return Object.assign(Object.assign({},v),{streams:y});}return v;});t && (m.Fa=Object.assign(Object.assign({},m.Fa),{$s:w}));});return m;};c.prototype.x9a=function(m,p,q){var u,t,w,v;v=p.wh;m=Object.assign(Object.assign({},m),{type:d.Zj.audio,iI:p.iI,variant:p.variant,trackId:p.Zf,tG:p.TO,wh:g.y1[v.toLowerCase()] || g.Wo.rJ,KC:v,ye:p.language,displayName:p.bC,bc:null !== (u=p.bc) && void 0 !== u?u:-1,Yf:null !== (t=p.Yf) && void 0 !== t?t:!0,channels:p.channels,vfc:p.channels,Xg:q,ug:{Bcp47:p.language,TrackId:p.Zf},streams:[],isNative:p.isNative,mo:p.Kt,sY:p.sY});m.streams=this.Cfb(p.streams,m);this.log.trace("Transformed audio track",m,{StreamCount:m.streams.length,AllowedTimedTextTracks:m.Xg.length});m.ezb=l.YBa[null === (w=m.streams[0]) || void 0 === w?void 0:w.Fd];return m;};c.prototype.C6=function(m){return {language:m.bC,bcp47:m.language,type:m.wh};};c.prototype.pJb=function(m,p){return p.filter(function(q){if(0 <= m.yEb.indexOf(q.tG))return !1;if(m.ZXa){if(m.ZXa !== q.tG && (q.mo() || q.jn()))return !1;}else if(m.PVb){if(q.mo() || q.jn())return !1;}else if(q.jn())return !1;return !0;});};c.prototype.ZKb=function(m,p,q){return p.filter(function(u){return u.Bd.$ === m;}).map(function(u){return u.Bd.Ga;}).map(function(u){return q.find(function(t){return t.trackId === u;});}).filter(Boolean);};b.XBa=c;},82409:function(r,b,a){var l,f;function c(k,d){this.log=k;this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.gDa=void 0;l=a(45266);f=a(64274);c.prototype.z9a=function(k,d){var g,n,h,m;g=this;n=this.config.lka;h=this.config.kka;k=ja((0,l.vC)(function(p){return (!n.length || 0 <= n.indexOf(p.id)) && 0 > h.indexOf(p.id);},k || []));m=k.next().value;k.next().value.forEach(function(p){return g.log.warn("Cdn is not allowed",{Id:p.id});});k=m.map(function(p){var q;q=(d?d.find(function(u){return u.key === p.key;}):void 0) || ({});return {id:p.id,name:p.name,bc:p.bc,type:p.type,Z5a:p.key,eQb:p.n6a,location:{id:q.key,bc:q.bc,level:q.level,weight:q.weight}};});k.sort(function(p,q){return p.bc - q.bc;});this.log.trace("Transformed cdns",{Count:k.length});if(!k.length)throw Error("no valid cdns");return k;};c.prototype.rOb=function(k,d,g,n){var h;h=k.filter(function(m){return -1 === g.findIndex(function(p){return p.id === m.id;});}).map(function(m){return {c9a:!0,Ub:m};}).concat(g.map(function(m){return {c9a:!1,Ub:m};})).sort(function(m,p){return m.Ub.bc === p.Ub.bc?m.c9a?-1:1:m.Ub.bc - p.Ub.bc;}).map(function(m,p){(0,f.IM)(m.Ub).bc=p + 1;return m.Ub;});k=d.filter(function(m){return -1 === n.findIndex(function(p){return p.key === m.key;});}).concat(n).map(function(m){var p;p=h.findIndex(function(q){return q.key === m.key;});if(-1 !== p)return (p=h[p],(0,f.IM)(m).bc=p.bc,m);}).filter(function(m){return void 0 !== m;});return {Q2b:h,lSb:k};};b.gDa=c;},23176:function(r,b,a){var l,f,k,d,g,n;function c(h,m){h=f.Qe.call(this,h,"ManifestParserConfigImpl") || this;h.Aj=m;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.PIa=void 0;r=a(5163);l=a(22674);f=a(64174);k=a(83767);d=a(12501);g=a(5614);n=a(72574);da(c,f.Qe);Ya.Object.defineProperties(c.prototype,{Zaa:{configurable:!0,enumerable:!0,get:function(){return [];}},Jna:{configurable:!0,enumerable:!0,get:function(){return "";}},lka:{configurable:!0,enumerable:!0,get:function(){return [];}},kka:{configurable:!0,enumerable:!0,get:function(){return [];}},Nna:{configurable:!0,enumerable:!0,get:function(){return "";}},cqa:{configurable:!0,enumerable:!0,get:function(){return 0;}},LO:{configurable:!0,enumerable:!0,get:function(){return this.Aj.LO.ea(n.rs);}},ou:{configurable:!0,enumerable:!0,get:function(){return this.Aj.ou;}},mUa:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}}});a=c;r.__decorate([d.config(d.BO,"supportedAudioTrackTypes")],a.prototype,"Zaa",null);r.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"Jna",null);r.__decorate([d.config(d.Eza,"cdnIdWhiteList")],a.prototype,"lka",null);r.__decorate([d.config(d.Eza,"cdnIdBlackList")],a.prototype,"kka",null);r.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"Nna",null);r.__decorate([d.config(d.Dz,"imageSubsResolution")],a.prototype,"cqa",null);r.__decorate([d.config(d.Dz,"timedTextSimpleFallbackThreshold")],a.prototype,"LO",null);r.__decorate([d.config(d.BO,"timedTextProfiles")],a.prototype,"ou",null);r.__decorate([d.config(d.BO,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"mUa",null);a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.zl)),r.__param(1,(0,l.l)(g.uJ))],a);b.PIa=a;},83081:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y){this.Df=t;this.config=w;this.fva=v;this.wza=y;}Object.defineProperty(b,"__esModule",{value:!0});b.RIa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(43185);d=a(82409);g=a(71420);n=a(85696);h=a(6795);m=a(77939);p=a(44858);q=a(17950);a=a(77601);c.prototype.create=function(t){var w,v;w=this.Df.ab("ManifestParser",t);v=new d.gDa(w,this.config);return new n.SIa(v,new g.TOa(w,this.config,t,this.fva),new h.nPa(w,t,this.wza),new m.XBa(w,this.config,t),new p.RPa(w));};u=c;u=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.bb)),r.__param(1,(0,l.l)(k.QIa)),r.__param(2,(0,l.l)(q.tMa)),r.__param(3,(0,l.l)(a.mPa))],u);b.RIa=u;},85696:function(r,b,a){var l;function c(f,k,d,g,n){this.mka=f;this.Xya=k;this.w7b=d;this.CS=g;this.ihb=n;}Object.defineProperty(b,"__esModule",{value:!0});b.SIa=void 0;l=a(64274);c.prototype.B9a=function(f){var k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B;g=f.Fa;n={Bf:null !== (d=null === (k=g.Ox) || void 0 === k?void 0:k.Sg) && void 0 !== d?d:"",zC:g.Fqa?"ads":"content"};h=!!g.kX;k=this.mka.z9a(g.yk,g.Lh);d=this.Xya.E9a(n,g.tI);f=this.w7b.HXb(g.z7b);m=h?this.CS.y9a(n,g.$s,d):this.CS.AXb(n,g.$s,g.media,d);n=this.ihb.IXb(n,g.uu);p=n[0];q=this.CS.Yvb(m) || m.find(function(C){return h?C.trackId === g.kX.xp:C.tG === g.E4[0].xp;}) || m[0];u=this.Xya.S6b(q.Xg) || d.find(function(C){return h?C.trackId === g.kX.MO:C.tG === g.E4[0].web;}) || q.Xg[0];t=this.ihb.DXb(g.uu);w=g.Gd;v=g.Vyb;y=g.MB;x=g.Uk;z=g.$s.findIndex(function(C){return C.Zf == q.trackId;});A=g.uu.findIndex(function(C){return C.Zf == p.trackId;});B=g.tI.findIndex(function(C){return C.Zf == u.trackId;});return {bu:t,ng:k,ci:m,Ew:n,Xg:d,Cz:f,Gd:w,V2b:v,zG:y,Uk:x,xDb:z,DDb:A,CDb:B,F4:p,iT:q,jT:u};};c.prototype.sOb=function(f,k,d){var g,n,h,m,p,q;g=this;m=this.mka.rOb(f.Fa.yk,f.Fa.Lh,d.Fa.yk,d.Fa.Lh);p=m.Q2b;m=m.lSb;(0,l.IM)(f.Fa).yk=p;(0,l.IM)(f.Fa).Lh=m;k.ng=this.mka.z9a(p,m);q={Bf:null !== (h=null === (n=d.Fa.Ox) || void 0 === n?void 0:n.Sg) && void 0 !== h?h:"",zC:d.Fa.Fqa?"ads":"content"};d=d.Fa;n=d.$s;d.tI.forEach(function(u){var t;if(u.Yf){t=g.fbb(f.Fa.tI,k.Xg,u,function(w){return g.Xya.E9a(q,[w])[0];});t && k.ci.forEach(function(w){var v;w=w.Xg;v=w.findIndex(function(y){return y.trackId === t.trackId;});-1 !== v && (w[v]=t);});}});n.forEach(function(u){u.Yf && g.fbb(f.Fa.$s,k.ci,u,function(t){return g.CS.y9a(q,[t],k.Xg)[0];});});return {Y:f,Bc:k};};c.prototype.b2b=function(f,k){return this.CS.EHb(f,k);};c.prototype.fbb=function(f,k,d,g){var n,h,m,p;n=f.findIndex(function(q){return q.Zf === d.Zf;});h=-1 !== n?f[n]:void 0;m=k.findIndex(function(q){return q.trackId === d.Zf;});p=-1 !== m?k[m]:void 0;if(h && !h.Yf && p && !p.Yf)return (g=g(d),f[n]=d,k[m]=g);};b.SIa=c;},44236:function(r,b){function a(c){this.Bc=c;this.Nb=JSON.stringify(this.hLb());}Object.defineProperty(b,"__esModule",{value:!0});b.VIa=void 0;a.prototype.hLb=function(){var c;c=[];(!this.Bc.ng || 0 >= this.Bc.ng.length) && c.push({error:"No CDN."});this.Bc.iT || c.push({error:"No default audio track.",foundTracks:this.toa(this.Bc.ci)});this.Bc.F4 || c.push({error:"No default video track.",foundTracks:this.toa(this.Bc.Ew)});this.Bc.jT || c.push({error:"No default subtitle track.",foundTracks:this.toa(this.Bc.Xg)});return c;};a.prototype.toa=function(c){return c && 0 < c.length?c.map(function(l){return l.trackId;}):"No tracks found.";};b.VIa=a;},28518:function(r,b,a){var l;function c(f){this.log=f;}Object.defineProperty(b,"__esModule",{value:!0});b.oQ=void 0;l=a(6305);c.prototype.Cfb=function(f,k){var d,g;d=this;if(!f)return (this.log.warn("There are no media streams for " + k.type + " track - " + k.trackId),[]);g=f.map(function(n){var h,m,p,q,u,t,w,v;v=new l.MediaStream(k,k.type,n.Rm,n.bitrate,n.xb,n.size,d.jKb(n.urls),n.bB,n.P_a / n.O_a,n.ki,n.Di);v.P3b(n.tbb,n.Hwa,n.R9a,n.Q9a);v.d3b(null !== (h=n.PCb) && void 0 !== h?h:void 0,null !== (m=n.QCb) && void 0 !== m?m:void 0,null !== (p=n.OCb) && void 0 !== p?p:void 0,null !== (q=n.NCb) && void 0 !== q?q:void 0,null !== (u=n.R9a) && void 0 !== u?u:void 0,null !== (t=n.Q9a) && void 0 !== t?t:void 0);k.Uk && (v.Uk=k.Uk);n.FF && (v.FF=null !== (w=n.FF) && void 0 !== w?w:void 0);n.bB && (v.Fd=n.bB);return v;});g.sort(function(n,h){return n.bitrate - h.bitrate;});g.forEach(function(n,h){n.lower=g[h - 1];n.dhc=g[h + 1];});return g;};c.prototype.jKb=function(f){return f.reduce(function(k,d){k[d.yg]=d.url;return k;},{});};b.oQ=c;},71420:function(r,b,a){var l,f,k,d;function c(g,n,h,m){this.log=g;this.config=n;this.j=h;this.fva=m;}Object.defineProperty(b,"__esModule",{value:!0});b.TOa=void 0;l=a(75568);f=a(22365);k=a(35128);d=a(14423);c.prototype.E9a=function(g,n){var h;h=this;n=n.map(function(m){var p,q,u,t;u=h.m7b(m);m.Kt || !m.Yf || u && 0 < u.length || h.log.error("track without downloadables",h.eLb(m));t={};0 < u.length && (t=u[0],t.profile == l.ym.lJ && (t=h.C2b(u),!1));m=h.fva(h.j,m.Zf,m.id,null !== (p=m.bc) && void 0 !== p?p:-1,null !== (q=m.Yf) && void 0 !== q?q:!0,g,t.Vb,t.urls || [],m.language,m.bC,k.y1[m.wh.toLowerCase()] || k.Wo.rJ,m.iI,m.variant,m.KC.toUpperCase(),t.profile,h.pLb(t) || ({}),m.Kt,m.x7,m.z7,m.Ft);h.log.trace("Transformed timed text track",m);return m;});this.log.trace("Transformed timed text tracks",{Count:n.length});return n;};c.prototype.S6b=function(g){var n,h;n=this;h=this.config.Nna;if(h){if(g=ja(g.filter(function(m){return m.ye == h || m.trackId == h;})).next().value)return g;}else if(this.j.L5 && (g=ja(g.filter(function(m){return m.trackId == n.j.L5;})).next().value))return g;};c.prototype.m7b=function(g){var n,h;n=this;h=g.GYa;g=Object.entries(g.Cza || ({})).map(function(m){var p;p=ja(m);m=p.next().value;p=p.next().value;return {Vb:h[m],profile:m,size:p.size || 0,priority:n.kKb(m,p),offset:p.Rsa || 0,aYb:p.width,P9a:p.height,urls:p.urls};});g.sort(function(m,p){return m.priority - p.priority;});return g;};c.prototype.kKb=function(g,n){var h,m;h=this.config.ou.indexOf(g);n=n.size;m=this.config.LO;return g === l.ym.Qca && 0 < m && n > m?this.config.ou.length + 1:0 <= h?h:this.config.ou.length;};c.prototype.pLb=function(g){if(g.profile === l.ym.lJ)return {offset:g.offset,length:g.size,tk:{width:g.aYb,height:g.P9a}};};c.prototype.C2b=function(g){var n,h;n=this.config.cqa || d.$fa.S1a();h=ja(g.filter(function(m){return m.profile === l.ym.lJ;}).filter(function(m){return m.P9a === n;})).next().value;if(h)return h;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:f.Ou.height,intendedResolution:n});return g[0];};c.prototype.eLb=function(g){return {isNone:g.Kt,isForced:g.x7,bcp47:g.language,id:g.Zf};};b.TOa=c;},6795:function(r,b){function a(c,l,f){this.log=c;this.j=l;this.wza=f;}Object.defineProperty(b,"__esModule",{value:!0});b.nPa=void 0;a.prototype.HXb=function(c){var l;l=this;c=(c || []).filter(function(f){return f.urls && 0 < f.urls.length;}).map(function(f){return l.wza(l.j,f.id,f.height,f.width,f.dYb,f.eYb,f.size,f.Ft,{unknown:f.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(f,k){return f.size - k.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.nPa=a;},44858:function(r,b,a){var l,f,k,d;function c(g){return f.oQ.call(this,g) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.RPa=void 0;l=a(45266);f=a(28518);k=a(51344);d=a(35128);da(c,f.oQ);c.prototype.IXb=function(g,n){var h,m;h=this;n=ja((0,l.vC)(function(p){return p.streams && 0 < p.streams.length;},n));m=n.next().value;n.next().value.forEach(function(p){return h.log.warn("Video track is missing streams",{trackId:p.Zf});});n=m.map(function(p){var q;q=p.wh;q=Object.assign(Object.assign({},g),{type:k.Zj.video,trackId:p.Zf,tG:p.TO,wh:d.y1[q.toLowerCase()] || d.Wo.rJ,KC:q,streams:[],ug:{},aX:p.aX});q.streams=h.Cfb(p.streams,q);h.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!n.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:n.length});return n;};c.prototype.DXb=function(g){var n;n=g.map(function(h){return h.aX;}).filter(Boolean);n=[].concat.apply([],ba(n)).map(function(h){return h.xa;});g=g.map(function(h){return h.lma;}).filter(Boolean).map(function(h){return h.xa;});return 0 < n.length?n:g;};b.RPa=c;},81737:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Y=void 0;r=a(22674);c=a(99070);l=a(49745);b.Y=new r.gd(function(f){f(l.ND).to(c.OIa).ha();});},60042:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MIa="ManifestEnricherSymbol";},17398:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iJ="ManifestFactorySymbol";},49745:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ND="ManifestFetcherSymbol";},91622:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nCa="BookmarkSymbol";},72516:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lCa="BookmarkConfigSymbol";},81364:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kCa="BookmarkConfigParserSymbol";},66393:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.wK=void 0;r=a(22674);c=a(91622);l=a(72516);f=a(81364);k=a(63143);d=a(25293);g=a(12563);b.wK=new r.gd(function(n){n(c.nCa).to(k.mCa).ha();n(l.lCa).to(d.iCa).ha();n(f.kCa).to(g.jCa).ha();});},25293:function(r,b,a){var l,f;function c(k){this.config=k;}Object.defineProperty(b,"__esModule",{value:!0});b.iCa=void 0;r=a(5163);l=a(22674);a=a(4203);c.prototype.woa=function(){return this.VF().zwb;};c.prototype.xoa=function(){return this.VF().Awb;};c.prototype.LKb=function(){return this.VF().Bwb;};c.prototype.doa=function(){return this.VF().CUa;};c.prototype.VF=function(){return this.config();};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.Yb))],f);b.iCa=f;},12563:function(r,b,a){var l,f,k;function c(d){this.Bb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.jCa=void 0;r=a(5163);l=a(22674);f=a(42207);k=a(5021);c.prototype.D5b=function(d,g){var n,h;n=parseFloat(d);h=0;"%" === d[d.length - 1] && this.Bb.dk(n)?h=Math.round(n * g.ea(k.pa) / 100):(d=parseInt(d),this.Bb.rS(d) && (h=d));return (0,k.Ob)(Math.min(h,g.ea(k.pa)));};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Uf))],a);b.jCa=a;},63143:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p,q){this.C3=m;this.Bb=p;this.ywb=q;this.ma=h.ab("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.mCa=void 0;r=a(5163);l=a(22674);f=a(72516);k=a(81364);d=a(87386);g=a(42207);n=a(5021);c.prototype.tub=function(h){var m,p;m=h.cb.playbackState && h.cb.playbackState.currentTime;p=this.SJb(h.P);m=this.Bb.xF(m)?(0,n.Ob)(m):p;p=0;this.Bb.qg(m)?(this.ma.info("Overriding bookmark",{From:h.Fz.ea(n.pa),To:m.ea(n.pa)}),m=Object.assign({},h,{Fz:m})):m=h;h.kd.aa && (h=h.kd.Foa(h.Fz.ea(n.pa)),m=Object.assign({},m,{Fz:(0,n.Ob)(h.Gl),AC:(0,n.Ob)(h.AC)}),p=h.WXa);return m.Fz.Sqa()?(this.ma.trace("Ignoring bookmark because it's negative"),(0,n.Ob)(p)):this.zOb(m)?(this.ma.trace("Ignoring bookmark because it's too close to beginning"),(0,n.Ob)(p)):this.yOb(m)?(this.ma.trace("Ignoring bookmark because it's too close to end"),(0,n.Ob)(p)):this.xOb(m)?(this.ma.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,n.Ob)(p)):m.Fz;};c.prototype.zOb=function(h){return 0 > h.Fz.Qk(this.woa(h));};c.prototype.woa=function(h){return this.DUa(this.C3.woa(),h.AC);};c.prototype.yOb=function(h){return 0 < h.Fz.Qk(this.xoa(h));};c.prototype.xoa=function(h){var m;m=h.cb.sg?this.C3.LKb():this.C3.xoa();return h.AC.qa(this.DUa(m,h.AC));};c.prototype.xOb=function(h){return 0 < h.Fz.Qk(this.rKb(h));};c.prototype.rKb=function(h){return h.AC.qa((0,n.Ob)(h.uC));};c.prototype.SJb=function(h){var m;h=this.C3.doa()[h];m=-1;this.Bb.qp(h)?m=parseInt(h):this.Bb.dk(h) && (m=h);if(this.Bb.rS(m))return (0,n.Ob)(m);};c.prototype.DUa=function(h,m){return this.ywb.D5b(h,m);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(d.bb)),r.__param(1,(0,l.l)(f.lCa)),r.__param(2,(0,l.l)(g.Uf)),r.__param(3,(0,l.l)(k.kCa))],a);b.mCa=a;},34029:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JCa="CDMAttestedDescriptorProvider";},6498:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.YUa=void 0;r=a(22674);c=a(34029);l=a(28419);b.YUa=new r.gd(function(f){f(c.JCa).to(l.ICa).ha();});},28419:function(r,b,a){var l,f,k,d,g,n,h,m,p;function c(q,u,t,w,v,y){this.config=q;this.qC=t;this.profile=w;this.nba=v;this.PS=y;this.log=u.ab("CDMAttestedDescriptor");this.u0a(m.Ju.CQ);}Object.defineProperty(b,"__esModule",{value:!0});b.ICa=void 0;r=a(5163);l=a(22674);f=a(4203);k=a(87386);d=a(97996);g=a(70865);n=a(71501);h=a(2492);m=a(34231);p=a(24735);c.prototype.u0a=function(q){var u;u=this;return this.nba.Aaa(q)?this.config().wFb?this.s0a().then(function(t){if(t)return (!1,Promise.resolve(void 0));u.H5a || (!1,u.H5a=u.PS.epa(p.yh.En));return u.H5a;}).catch(function(t){u.log.error("Failed to generate challenge",t);}).then(function(t){null === t || void 0 === t?void 0:t.qz.close();return null === t || void 0 === t?void 0:t.nka;}).then(function(t){return Promise.all([Promise.resolve(t),u.s0a()]);}).then(function(t){var w;t=ja(t);w=t.next().value;if(t.next().value)!1;else return w;}):this.qC().then(function(t){t.hW.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.s0a=function(){var q;q=this;return this.qC().then(function(u){return (u=u.hW.getServiceTokens(q.profile)) && u.find(function(t){return "cad" === t.name;});});};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Yb)),r.__param(1,(0,l.l)(k.bb)),r.__param(2,(0,l.l)(d.tQ)),r.__param(3,(0,l.l)(n.xJ)),r.__param(4,(0,l.l)(g.A1)),r.__param(5,(0,l.l)(h.VZ))],a);b.ICa=a;},97791:function(r,b,a){var l,f;function c(k){this.tGb=k;this.u6a={Sm:"drmType",ggc:"drmVersion",expiration:"expiration",P:"movieId",tn:"packageId",duration:"duration",Gd:"playbackContextId",E4:["defaultTrackOrderList",{NM:"mediaId",cP:"videoTrackId",web:"subtitleTrackId",xp:"audioTrackId",Sic:"preferenceOrder"}],kgc:["eligibleABTestMap",{mj:f.mj}],cfc:["badgingInfo",{bgc:"dolbyDigitalAudio",Zgc:"hdrVideo",cgc:"dolbyVisionVideo",nkc:"ultraHdVideo","3dVideo":"3dVideo",agc:"dolbyAtmosAudio",Tec:"assistiveAudio",pjc:"sdVideo",Ygc:"hdVideo"}],type:"type",Yec:["audioTextShortcuts",{id:"id",xp:"audioTrackId",Seb:"textTrackId"}],Kic:"partiallyHydrated",X6a:"maxRecommendedAudioRank",Y6a:"maxRecommendedTextRank",Uk:"drmContextId",JNb:"hasDrmProfile",HNb:"hasClearProfile",MB:"hasDrmStreams",N6:"hasClearStreams",Lh:["locations",{bc:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],yk:["servers",{id:"id",name:"name",type:"type",bc:"rank",n6a:"lowgrade",GEb:["dns",{host:"host",xPb:"ipv4",yPb:"ipv6",uIb:"forceLookup"}],key:"key"}],$s:["audio_tracks",{type:"type",iI:"subType",variant:"variant",wh:"trackType",Zf:"new_track_id",TO:"track_id",ZZb:"profileType",p5b:"stereo",profile:"profile",channels:"channels",language:"language",iyb:"channelsFormat",sY:"surroundFormatLabel",bC:"languageDescription",yEb:"disallowedSubtitleTracks",ZXa:"defaultTimedText",isNative:"isNative",Kt:"isNoneTrack",streams:["streams",{Rm:"downloadable_id",size:"size",bB:"content_profile",wh:"trackType",bitrate:"bitrate",ki:"isDrm",urls:["urls",{yg:"cdn_id",url:"url",g8:"liveOcaCapabilities"}],YUb:"new_stream_id",type:"type",channels:"channels",iyb:"channelsFormat",sY:"surroundFormatLabel",language:"language",Wec:"audioKey",AUb:["moov",{size:"size",offset:"offset"}],zk:["sidx",{size:"size",offset:"offset"}],X4b:["ssix",{size:"size",offset:"offset"}],Di:"tags",$0b:"representationId"}],ezb:"codecName",KC:"rawTrackType",id:"id",bc:"rank",Yf:"hydrated",PVb:"offTrackDisallowed"}],uu:["video_tracks",{wh:"trackType",Zf:"new_track_id",type:"type",TO:"track_id",JNb:"hasDrmProfile",HNb:"hasClearProfile",MB:"hasDrmStreams",N6:"hasClearStreams",kG:"groupName",streams:["streams",{Rm:"downloadable_id",size:"size",bB:"content_profile",wh:"trackType",FF:"drmHeaderId",bitrate:"bitrate",ki:"isDrm",urls:["urls",{yg:"cdn_id",url:"url",g8:"liveOcaCapabilities"}],YUb:"new_stream_id",type:"type",Mic:"peakBitrate",sEb:"dimensionsCount",tEb:"dimensionsLabel",R9a:"pix_w",Q9a:"pix_h",tbb:"res_w",Hwa:"res_h",PCb:"crop_x",QCb:"crop_y",OCb:"crop_w",NCb:"crop_h",P_a:"framerate_value",O_a:"framerate_scale",Odb:"startByteOffset",xb:"vmaf",AUb:["moov",{size:"size",offset:"offset"}],zk:["sidx",{size:"size",offset:"offset"}],X4b:["ssix",{size:"size",offset:"offset"}],PH:["segmentVmaf",{offset:"offset",xb:"vmaf"}],Di:"tags",$0b:"representationId"}],ZZb:"profileType",p5b:"stereo",profile:"profile",sEb:"dimensionsCount",tEb:"dimensionsLabel",Kjc:["snippets",{mj:[f.mj,{Jjc:"snippetSpec",ta:"startTimeMs",va:"endTimeMs"}]}],lma:["drmHeader",{xa:"bytes",Dyb:"checksum",FF:"drmHeaderId",no:"keyId",tk:["resolution",{height:"height",width:"width"}]}],aX:["prkDrmHeaders",{xa:"bytes",Dyb:"checksum",FF:"drmHeaderId",no:"keyId",tk:["resolution",{height:"height",width:"width"}]}],jr:"flavor",khc:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",U9a:"pixelAspectX",V9a:"pixelAspectY",Rhc:"maxCroppedWidth",Qhc:"maxCroppedHeight",Shc:"maxCroppedX",Thc:"maxCroppedY",Dsa:"max_framerate_value",Csa:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",jic:"minCroppedWidth",iic:"minCroppedHeight",kic:"minCroppedX",lic:"minCroppedY",Rg:["license",{nRb:"licenseResponseBase64",Wic:"providerSessionToken",tjc:"secureStopExpected",fgc:"drmSessionId",links:["links",{}]}]}],Ox:["cdnResponseData",{UH:"sessionABTestCell",Sg:"pbcid"}],Dp:["choiceMap",{Be:"initialSegment",type:"type",J:"viewableId",O:["segments",{mj:[f.mj,{ta:"startTimeMs",va:"endTimeMs",next:["next",{mj:[f.mj,{weight:"weight"}]}],Fb:"defaultNext",fr:"exitZones"}]}]}],Nm:["contentPlaygraph",{da:["playgraph",{Be:"initialSegment",O:["segments",{mj:[f.mj,{J:"viewableId",ta:"startTimeMs",va:"endTimeMs",next:["next",{mj:[f.mj,{weight:"weight"}]}],Fb:"defaultNext"}]}]}],Ljc:["startIdent",{lhc:"identToken",J:"viewableId"}]}],media:["media",{id:"id",Bd:["tracks",{$:"AUDIO",Ga:"TEXT",X:"VIDEO"}]}],kX:["recommendedMedia",{cP:"videoTrackId",xp:"audioTrackId",MO:"timedTextTrackId"}],tI:["timedtexttracks",{wh:"trackType",Zf:"new_track_id",type:"type",iI:"subType",variant:"variant",KC:"rawTrackType",bC:"languageDescription",language:"language",id:"id",Kt:"isNoneTrack",x7:"isForcedNarrative",GYa:["downloadableIds",{}],rfc:["cdnlist",{id:"id",name:"name",type:"type",bc:"rank",n6a:"lowgrade",GEb:["dns",{host:"host",xPb:"ipv4",yPb:"ipv6",uIb:"forceLookup"}],key:"key"}],Cza:["ttDownloadables",{mj:[f.mj,{id:"id",size:"size",$jc:"textKey",Xgc:"hashValue",Wgc:"hashAlgo",shc:"isImage",Rsa:"midxOffset",s7a:"midxSize",height:"height",width:"width",ima:["downloadUrls",{}],urls:["urls",{url:"url",yg:"cdn_id",g8:"liveOcaCapabilities"}]}]}],z7:"isLanguageLeftToRight",Ft:"headIdentDuration",bc:"rank",Yf:"hydrated"}],z7b:["trickplays",{Rm:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",eYb:"pixelsAspectY",dYb:"pixelsAspectX",width:"width",height:"height",Ft:"headIdentDuration"}],yhb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],egc:"dpsid",sg:"isBranching",Bkc:"viewableType",Fqa:"isAd",tM:"isSupplemental",Vyb:"clientIpAddress",qkc:"urlExpirationDuration",Khc:"manifestExpirationDuration",Njc:["steeringAdditionalInfo",{Ojc:"steeringId",Nec:"additionalGroupNames",Pjc:["streamingClientConfig",{}]}],$b:"auxiliaryManifestToken",Jh:["liveMetadata",{V4:["downloadableIdToSegmentTemplateId",{mj:f.mj}],OX:["segmentTemplateIdToSegmentTemplate",{mj:[f.mj,{y3:"availabilityStartTime",fPb:"initialization",media:"media",C$a:"presentationTimeOffset",eY:"startNumber",duration:"duration",N:"timescale"}]}],OVb:"ocLiveWindowDurationSeconds",o5:"eventAvailabilityOffsetMs",Xma:"eventStartTime",p5:"eventEndTime",vEb:"disableLiveUi"}],ag:"streamingType"};this.PSb=Object.assign(Object.assign({},this.u6a),{yp:["auxiliaryManifests",this.u6a],Gm:["adverts",{ie:["adBreaks",{Er:"locationMs",fh:"adBreakToken",Ye:["ads",{id:"id",ta:"startTimeMs",va:"endTimeMs",gba:["timedAdEvents",{event:"event",kv:"adEventToken",dza:"timeMs"}],JA:["actionAdEvents",{start:["start",{event:"event",kv:"adEventToken"}],complete:["complete",{event:"event",kv:"adEventToken"}],stop:["stop",{event:"event",kv:"adEventToken"}]}],It:"is3pVerificationEnabled",GO:"thirdPartyVerificationToken"}],nia:["actionAdBreakEvents",{complete:["complete",{event:"event",kv:"adEventToken"}]}],v3:"auditPingUrl"}]}]});}Object.defineProperty(b,"__esModule",{value:!0});b.LIa=void 0;r=a(5163);l=a(22674);f=a(90030);c.prototype.qL=function(k){this.tGb.qL(k,this.PSb);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.eFa))],a);b.LIa=a;},47930:function(r,b,a){var l,f,k,d,g;function c(n,h){this.M5a=n;this.OSb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.NIa=void 0;r=a(5163);l=a(22674);f=a(81025);k=a(60042);d=a(31149);g=a(36129);c.prototype.create=function(n){var h,m,p,q;h=this;if(n && !this.bQb(n)){if(this.hQb(n))throw d.Mc.d$b(g.V.LD,g.S.Xob,n);q=this.M5a();q.zia(n.links);this.OSb.qL(n);return {Fa:n,ri:q,Oqa:!1,Nqa:!1,yp:null !== (p=null === (m=n.yp) || void 0 === m?void 0:m.map(function(u){var t;t=h.M5a();t.zia(u.links);return {Fa:u,ri:t,Oqa:!1,Nqa:!1,yp:[]};})) && void 0 !== p?p:[]};}};c.prototype.hQb=function(n){return ("type" in n) && "muxed" === n.type;};c.prototype.bQb=function(n){return ("runtime" in n) && !!n.runtime;};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.gLa)),r.__param(1,(0,l.l)(k.MIa))],a);b.NIa=a;},99070:function(r,b,a){var l,f,k,d,g,n,h,m,p,q;function c(u,t,w,v,y,x,z){this.Vf=t;this.w6a=v;this.NV=x;this.sa=z;this.nX=new Map();this.log=u.ab("ManifestFetcher");this.mg=w.mg;this.gxb=y().MFb;}Object.defineProperty(b,"__esModule",{value:!0});b.OIa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(30869);d=a(31149);g=a(87386);n=a(5021);h=a(4203);m=a(72639);p=a(18148);a=a(17398);c.prototype.ny=function(u,t,w){var v;v=this;t=void 0 === t?!0:t;w && this.aub(u.J,w);return t && this.M6(u.J)?this.V5(u.J).catch(function(){return v.mbb(u,t);}):this.mbb(u,t);};c.prototype.M6=function(u){return this.mg.KU(u,"manifest");};c.prototype.lY=function(u,t){var w;w=this;this.gxb && this.mg.setData(u,"manifest",t,function(){return w.tNb(u,t?Promise.resolve(t):void 0);});};c.prototype.V5=function(u){var t;t=this;return this.mg.getData(u,"manifest").then(function(w){if(!w)throw Error("Manifest not found");if(w.Fa.expiration <= t.sa.ke.ea(n.pa))throw (t.mg.clearData(u,"manifest"),Error("Manifest has expired"));return w;});};c.prototype.tNb=function(u,t){var w;null === (w=this.nX.get(u)) || void 0 === w?void 0:w.forEach(function(v){return v(t);});this.nX.delete(u);};c.prototype.aub=function(u,t){this.nX.has(u) || this.nX.set(u,[]);this.nX.get(u).push(t);};c.prototype.mbb=function(u,t){var w,v,y;w=this;this.log.trace("Requesting a new manifest",u.J);v=this.Vf.Kb().ea(n.pa);y=(u.Gf && !u.Gf.fh?this.J7b(u).catch(function(x){w.log.warn(x.message);return w.w6a.Cf(w.log,u);}):this.w6a.Cf(this.log,u)).then(function(x){var z,A;if(x.ey && (null === (z=u.Gf) || void 0 === z || !z.fh)){A=x.ey;z={qaa:Promise.resolve(A),source:"manifest"};delete x.ey;w.mg.setData(u.J,"ldl",z,function(){A.close().catch(function(B){w.log.info("Unable to cleanup LDL session.",B);});});}u.jr === m.ul.qJ && (x.FH=v,x.WN=w.Vf.Kb().ea(n.pa));return x;}).catch(function(x){t && w.lY(u.J,void 0);w.log.error("Failed to fetch manifest",d.Mc.Ae(x));throw x;});t && this.lY(u.J,y);return y;};c.prototype.J7b=function(u){var t;t=this;return new Promise(function(w,v){var y,x,z,A,B;t.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",u.J);A=null === (y=u.Gf) || void 0 === y?void 0:y.LW;if(!A)return v(Error("Parent manifest does not exist."));B=null === (x=u.Gf) || void 0 === x?void 0:x.$b;y=null === (z=A.yp) || void 0 === z?void 0:z.find(function(C){return C.P === u.J && (void 0 === B || C.$b === B);});if(!y)return v(Error("Auxiliary manifest not found in parent manifest."));w(t.NV.create(y));});};q=c;q=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.bb)),r.__param(1,(0,l.l)(f.Lc)),r.__param(2,(0,l.l)(p.Jca)),r.__param(3,(0,l.l)(m.Yea)),r.__param(4,(0,l.l)(h.Yb)),r.__param(5,(0,l.l)(a.iJ)),r.__param(6,(0,l.l)(k.cg))],q);b.OIa=q;},16520:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Th=void 0;r=b.Th || (b.Th={});r[r.Ldb=1]="sourceopen";r[r.$n=2]="currentTimeChanged";r[r.LX=3]="seeked";r[r.J5a=5]="licenseadded";r[r.Jdb=6]="sourceBufferAdded";r[r.D9=7]="onNeedKey";r[r.vab=8]="readyStateChanged";},12653:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.R7a=void 0;r=a(22674);c=a(21801);l=a(59586);b.R7a=new r.gd(function(f){f(c.zea).to(l.GJa).ha();});},21801:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zea=b.Lmb=void 0;b.Lmb=function(){};b.zea="MseConfigSymbol";},59586:function(r,b,a){var l,f,k,d,g;function c(n){return f.Qe.call(this,n,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.GJa=void 0;r=a(5163);l=a(12501);f=a(64174);k=a(22674);d=a(83767);g=a(5021);da(c,f.Qe);Ya.Object.defineProperties(c.prototype,{F7a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Ob)(5E3);}},a9a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Ob)(1E3);}},b9a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Ob)(1E3);}}});a=c;r.__decorate([l.config(l.pk,"minDecoderBufferMilliseconds")],a.prototype,"F7a",null);r.__decorate([l.config(l.pk,"optimalDecoderBufferMilliseconds")],a.prototype,"a9a",null);r.__decorate([l.config(l.pk,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"b9a",null);a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.zl))],a);b.GJa=a;},7826:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.qC=void 0;r=a(22674);c=a(50681);l=a(63390);f=a(97996);b.qC=new r.gd(function(k){k(c.Aea).to(l.HJa).ha();k(f.tQ).JY(function(d){return function(){return d.ob.get(c.Aea).JUb;};});});},97996:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tQ="MslProviderSymbol";},50681:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aea="MslReadyNotifierSymbol";},63390:function(r,b,a){var l;function c(){var f;f=this;this.ready=!1;this.JUb=new Promise(function(k){f.x1b=k;});}Object.defineProperty(b,"__esModule",{value:!0});b.HJa=void 0;r=a(5163);a=a(22674);c.prototype.KUb=function(f){this.ready || (this.x1b(f),this.ready=!0);};c.prototype.Mv=function(){return this.ready;};l=c;l=r.__decorate([(0,a.U)()],l);b.HJa=l;},30698:function(r,b,a){var c,l,f,k,d,g,n,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.Z7a=void 0;r=a(22674);c=a(76698);l=a(32934);f=a(81438);k=a(59806);d=a(21941);g=a(55823);n=a(27E3);h=a(2571);m=a(17559);b.Z7a=new r.gd(function(p){p(f.eQa).to(c.dQa).ha();p(l.Gu).bD(function(){return ob._cad_global.http;});p(d.VJa).to(k.UJa).ha();p(g.WJa).pl(n.default);p(h.DGa).to(m.CGa).ha();});},2571:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DGa="HttpDispatcherSymbol";},32934:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gu=b.vQ=b.ResponseType=void 0;b.ResponseType={Text:1,pec:2,Qib:3};b.vQ="OPEN_CONNECT_APPLIANCE";b.Gu="LegacyHttpSymbol";},55823:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WJa="NetworkMonitorSymbol";},48004:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TJa="NetworkMonitorConfigSymbol";},21941:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VJa="NetworkMonitorFactorySymbol";},81438:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eQa="XhrFactorySymbol";},17559:function(r,b,a){var l,f,k;function c(d,g){this.Je=g;this.ma=d.ab("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.CGa=void 0;r=a(5163);l=a(22674);f=a(87386);a=a(32934);c.prototype.download=function(d,g){var n;n=this;g=void 0 === g?{$6a:0}:g;return new Promise(function(h,m){var q;function p(u){if(u.ia)return h(u.content);if(q === g.$6a)return m({za:u.za,dn:u.Nl});q++;!1;n.Je.download(d,p);}q=0;n.Je.download(d,p);});};k=c;k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.bb)),r.__param(1,(0,l.l)(a.Gu))],k);b.CGa=k;},40158:function(r,b,a){var l,f,k,d;function c(g,n){return k.Qe.call(this,g,void 0 === n?"NetworkMonitorConfigImpl":n) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.SJa=void 0;r=a(5163);l=a(22674);f=a(12501);k=a(64174);a=a(83767);da(c,k.Qe);Ya.Object.defineProperties(c.prototype,{Mgb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;r.__decorate([f.config(f.bd,"useNetworkMonitor")],d.prototype,"Mgb",null);d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.zl)),r.__param(1,(0,l.l)(a.WZ)),r.__param(1,(0,l.optional)())],d);b.SJa=d;},59806:function(r,b,a){var l,f,k,d;function c(g,n,h){this.config=g;this.jSb=n;this.Jc=h;}Object.defineProperty(b,"__esModule",{value:!0});b.UJa=void 0;r=a(5163);l=a(48004);f=a(22674);k=a(48159);a=a(55823);c.prototype.oCb=function(){if(this.config.Mgb)return this.Jc(this.jSb());};d=c;d=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(l.TJa)),r.__param(1,(0,f.l)(k.PJa)),r.__param(2,(0,f.l)(a.WJa))],d);b.UJa=d;},76698:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.dQa=void 0;r=a(5163);a=a(22674);c.prototype.create=function(){return new XMLHttpRequest();};l=c;l=r.__decorate([(0,a.U)()],l);b.dQa=l;},10256:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p,q){this.log=h;this.bG=m;this.hz=p;this.context=q;}Object.defineProperty(b,"__esModule",{value:!0});l=a(36129);f=a(31276);k=a(74870);d=a(84408);g=a(2248);n=a(82100);c.prototype.Rg=function(h){var m,p;m=this;(this.context.gf || this.context.kk) && this.log.debug("Requesting a license",h);if(f.Ba.get(k.dh).aB(f.Ba.get(d.Jq).decode("certificate"),h.xj[0].data)){m.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({Zk:[{sessionId:h.xj[0].sessionId,data:f.Ba.get(g.$g).decode(n.w_)}]});}else p=f.Ba.get(k.dh).aB(f.Ba.get(d.Jq).decode("content"),h.xj[0].data)?Promise.resolve({Zk:[{sessionId:h.xj[0].sessionId,data:h.no}]}):(function(){m.log.trace("Requesting license",{drmType:h.Sm});return m.bG(h).catch(function(q){m.log.error("Unable to get the Fairplay license",q);throw {code:l.V.eJ,ic:q.ic,Wc:q.Wc,Tm:q.Tm,Cj:q.message || q.Cj,wB:q.data,message:"Unable to send the Fairplay license request. " + (q.message || q.Cj),Xb:q};});})();return p;};c.prototype.release=function(h){var m;m=this;this.log.trace("Requesting stop data");return this.hz(h).catch(function(p){m.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.ic,extCode:p.Wc,edgeCode:p.Tm,message:p.message || p.Cj});throw {ia:!1,code:l.V.Cfa,ic:p.ic,Wc:p.Wc,Tm:p.Tm,Cj:p.message || p.Cj,message:"Unable to release the FairPlay license. " + (p.message || p.Cj),Xb:p};});};r.exports=c;},7748:function(r,b,a){var l;function c(f,k,d,g){this.log=f;this.bG=k;this.hz=d;this.context=g;}Object.defineProperty(b,"__esModule",{value:!0});b.cQa=void 0;l=a(36129);c.prototype.Rg=function(f){var k;k=this;(this.context.gf || this.context.kk) && this.log.trace("Requesting license",{drmType:f.Sm});return this.bG(f).catch(function(d){k.log.error("Unable to get the Playready license",d);if(k.context.rkc)throw d;throw {ia:!1,code:l.V.eJ,ic:d.ic,Wc:d.Wc,Tm:d.Tm,Cj:d.message || d.Cj,wB:d.data,message:"Unable to send the Playready license request. " + (d.message || d.Cj)};});};c.prototype.release=function(f){var k;k=this;this.log.trace("Requesting stop data");return this.hz(f).catch(function(d){k.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.ic,extCode:d.Wc,edgeCode:d.Tm,message:d.message || d.Cj});throw {ia:!1,code:l.V.Cfa,ic:d.ic,Wc:d.Wc,Tm:d.Tm,Cj:d.message || d.Cj,message:"Unable to release the PlayReady license. " + (d.message || d.Cj)};});};b.cQa=c;ob._cad_global.WindowsDrmRequests=c;},71834:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.pga=void 0;c=a(36129);l=a(83989);f=a(88490);k=a(74870);d=a(6405);g=a(2248);n=a(56800);h=a(63156);(function(){var z;function m(A,B,C){var D;D=this;this.log=A;this.nn=B || x.bind(this);this.context=C;this.OW=this.challenge=this.keySystem=this.O7=this.Eb=this.mediaKeys=void 0;this.Yc={};this.Dra=this.Bya=!1;this.wW=t.bind(this);this.OW=void 0;this.nAa=new Promise(function(E,G){D.Kwa=E;D.iwa=G;});this.nAa.catch(function(E){D.log.error("wait for license rejected",E);});l.ac.get(n.Qw).e6().then(function(E){(D.context.gf || D.context.kk) && D.log.debug("DRIVERINFO: ",E);}).catch(function(E){D.log.error("DRIVERINFO",E);});this.ln=function(E,G){D.iwa(E,G);D.context.onerror(E,G);};this.Uta=function(){D.Kwa();};if(!(this instanceof m))throw new TypeError("EmeSession constructor not called correctly.");}function p(){return l.ac.get(g.$g);}function q(){return l.ac.get(k.dh);}function u(A){var B,C;B=l.ac.get(f.Zfa);C="";A.forEach(function(D){C+="<KeyID>" + D + "</KeyID>";});A='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + C + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";B=new Uint8Array(B.peb(A));(this.context.gf || this.context.kk) && this.log.trace("LICENSE: proactive license cdm data",{xml:A,b64:p().encode(B)});return B;}function t(A){var B;B=A.target.error?A.target.error.msExtendedCode:void 0;this.log.error("Received " + A.type + " event",{sessionId:this.Eb.sessionId,systemCode:B});if(this.context.onerror)this.context.onerror(z.Sf.Eq,z.iA.us,B);this.Eb=void 0;}function w(A,B,C){var E,G,F;for(var D=2;D < arguments.length;++D){;}D="";G=A.length;for(E=0;E < G;E++){F=A[E];0 < F && (D+=String.fromCharCode(F));}G="\\s*(.*)\\s*";for(E=arguments.length - 1;0 < E;E--){F=arguments[E];if(0 > D.search(F))return;F="(?:[^:].*:|)" + F;G="[\\s\\S]*<" + F + "[^>]*>" + G + "</" + F + ">[\\s\\S]*";}if(D=D.match(new RegExp(G)))return D[1];}function v(A,B,C,D){var E,G;E=A.target && A.target.sessionId;G=p().decode(w(A.message,"PlayReadyKeyMessage","Challenge"));C.state=12;C.log.trace("LICENSE: Received " + A.type + " event",{keySystem:A.target && A.target.keySystem,sessionId:E});(C.context.gf || C.context.kk || C.context.Iz) && C.log.debug("LICENSE: License challenge",p().encode(G));C.O7=E;A={kf:B,messageType:"license-request",Sm:(/clearkey/i).test(C.keySystem)?"clearkey":"playready",xj:[{data:G,sessionId:E}]};12 === C.state && (C.nn("lc"),G={data:G,Sm:(/clearkey/i).test(C.keySystem)?"clearkey":"playready"},C.context.kH || (C.OW=G));C.context.Hd.Rg(A).then(function(F){if(12 === C.state && (C.nn("lr"),C.Uta(),!C.context.kH))(C.PW=F.Zk[0].data,C.state=13,D({ia:!0,state:C.state}));else if(C.Eb)return y(C,F.Zk[0].data,C.Eb).then(function(){C.state=30;D({ia:!0,state:C.state});});}).catch(function(F){D(q().nC(F,{state:C.state}));});}function y(A,B,C){A.t7() && A.log.trace("LICENSE: Got the response, calling update",{sessionId:C.sessionId,license:p().encode(B)});return new Promise(function(D,E){try{A.Eb.update(B);D(void 0);A.t7() && A.log.trace("LICENSE: Update succeeded",{sessionId:C.sessionId});}catch(G){E({ia:!1,code:z.Sf.R0,message:"Unable to update the EME.",Nb:q().Ae(G)});}});}function x(A){this.context.sa && (this.Yc[A]=this.context.sa.getTime(),this.log.trace("Milestone: " + A + ", " + this.Yc[A]));}z={Sf:c.V,iA:c.S};m.prototype.SL=function(){return this.keySystem;};m.prototype.sgb=function(A,B){A.log && (this.log=A.log);A.nn && (this.nn=A.nn);B.Hd && (this.context.Hd=B.Hd);B.onerror && (this.context.onerror=B.onerror);};m.prototype.create=function(A){var B;B=this;return (A?Promise.resolve(A):l.ac.get(n.Qw).$F()).then(function(C){B.nn("lg");B.log.trace("Creating the media keys",{keySystem:C});B.keySystem=C;if(B.context.dX)C=Promise.reject({ia:!1,code:z.Sf.JP,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{B.mediaKeys=new ob.MSMediaKeys(C);}catch(D){C=Promise.reject({ia:!1,code:z.Sf.zKa,message:"create MSMediaKeys(" + C + ") failed",Nb:q().Ae(D)});break a;}try{B.context.ba && B.context.ba.msSetMediaKeys(B.mediaKeys);}catch(D){C=Promise.reject({ia:!1,code:z.Sf.pJ,message:"set MSMediaKeys failed",Nb:q().Ae(D)});break a;}C=Promise.resolve({ia:!0,mediaKeys:B.mediaKeys});}return C;});};m.prototype.close=function(){this.mediaKeys=void 0;this.context.ba=void 0;if(this.Eb){this.log.info("Closing the session",{sessionId:this.Eb.sessionId});this.Eb.removeEventListener("mskeyerror",this.wW);try{this.Eb.close();}catch(A){this.log.error("Failed to close the key sessions",A);}this.Eb=void 0;}};m.prototype.Rg=function(A,B,C){var D;if(1 < B.length)return Promise.reject({code:z.Sf.DKa});if(0 === B.length)return Promise.reject({code:z.Sf.CKa});B=B[0];D=this;D.context.gf && D.log.trace("LICENSE: Setting license");return D.context.dX?Promise.reject({ia:!1,code:z.Sf.LEa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(E,G){var F,J,M,L,K,P,H;try{J=function(I){D.Eb && (D.Eb.removeEventListener("mskeymessage",L),D.Eb.removeEventListener("mskeyadded",K),D.Eb.removeEventListener("mskeyerror",P),D.Eb.addEventListener("mskeyerror",D.wW));I.state=11;I.ia?E(I):(D.close(),G(I));};M=function(I){var N,R;N=[];R=Array.prototype.map.call(I,function(ha){return ha?String.fromCharCode(ha):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(R)N.push(R[1]);else {I=w(I,"KIDS");R=/VALUE="(.+?)">/g;for(var X=R.exec(I);null != X;){N.push(X[1]);X=R.exec(I);}}return N;};L=function(I){F && ob.clearTimeout(F);v(I,A,D,J);};K=function(I){(D.context.gf || D.context.kk) && D.log.trace("LICENSE: Received " + I.type + " event",{keySystem:I.target.keySystem,sessionId:I.target.sessionId});J({ia:!0});};P=function(I){var N,R;F && ob.clearTimeout(F);if(I.target && I.target.error)(N=I.target.error.systemCode,R=I.target.error.code);N={code:z.Sf.Eq,ic:z.iA.us,Wc:N?l.ac.get(d.Mw).RF(N,4):R,details:q().Ae(I),Xb:I.target && I.target.error,aba:N,q5:R};D.log.error("LICENSE: Received " + I.type + " event",{sessionId:D.Eb && D.Eb.sessionId,keySystem:I.target.keySystem,systemCode:N.aba,code:N.q5});D.nn("le");D.ln && D.ln(z.Sf.Eq,N);J({ia:!1,code:z.Sf.Eq,ic:z.iA.us,Wc:N.Wc,message:"Received a key error.",Nb:N.details,Xb:N.Xb});};D.log.trace("LICENSE: Executing prefix based EME");(D.context.gf || D.context.kk) && D.log.debug("LICENSE: PSSH",p().encode(B));D.Ov || (D.Ov=M(B));if(C){H=u.call(D,D.Ov);D.Eb=D.mediaKeys.createSession("video/mp4",new Uint8Array(0),H);}else D.Eb=D.mediaKeys.createSession("video/mp4",B,null);(D.context.gf || D.context.kk) && D.log.debug("LICENSE: Created the media keys sessions",{keySystem:D.Eb.keySystem,sessionId:D.Eb.sessionId});D.Eb.addEventListener("mskeymessage",L);D.Eb.addEventListener("mskeyadded",K);D.Eb.addEventListener("mskeyerror",P);D.context.Ara && (F=ob.setTimeout(function(){J({ia:!1,code:z.Sf.yQ,ic:z.iA.Rkb});},D.context.Ara));}catch(I){G({code:z.Sf.yQ,ic:z.iA.sl});}});})();};m.prototype.CH=function(){var A;(this.context.gf || this.context.kk) && this.log.trace("LICENSE: Renewing license");A=[new Uint8Array(0)];return this.Rg(h.Xj.Wda.wm,A,!0);};m.prototype.c3=function(A){this.PW || this.log.error("pending license must exist at this point");this.context.kH=!0;try{A && (this.context.ba=A,this.context.ba.msSetMediaKeys(this.mediaKeys));}catch(B){return Promise.reject({ia:!1,code:z.Sf.pJ,message:"setMediaKeys failed",Nb:q().Ae(B)});}return y(this,this.PW,this.Eb);};m.prototype.KZa=function(A){var B,C;B=this;B.log.trace("Releasing the license of current session",JSON.stringify(A));C={na:A.na,pe:A.pe};return new Promise(function(D,E){(function(){B.context.Hd.release.call(B.context.Hd,C).then(function(){var G;B.log.trace("successfully released the license",JSON.stringify(A));G={ia:!0};B.close();G.ia?D(G):E(G);}).catch(function(G){B.log.error("Unable to release the license",{sessionId:B.O7,code:G.code,subCode:G.ic,extCode:G.Wc,edgeCode:G.Tm,message:G.Cj});B.close();G.ia?D(G):E(G);});})();});};m.prototype.t7=function(){return this.context.gf || this.context.kk;};b.pga=m;ob._cad_global.WindowsEmeSession=b.pga;})();},99813:function(r,b,a){var v,y,x,z,A,B,C,D,E,G,F,J;function c(M,L,K){var P;P=this;this.log=M;this.nn=L || w.bind(this);this.context=K;this.OW=this.challenge=this.keySystem=this.O7=this.mediaKeys=void 0;this.Yc={};this.uo=void 0;this.url="";this.Dra=this.Bya=!1;this.wW=h.bind(this);this.uk=this.OW=void 0;this.nAa=new Promise(function(H,I){P.Kwa=H;P.iwa=I;});this.ln=function(H,I){P.iwa(H,I);P.context.onerror(H,I);};this.Uta=function(){P.Kwa();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function l(){return v.Ba.get(A.Jq);}function f(){return v.Ba.get(z.$g);}function k(){return v.Ba.get(y.dh);}function d(M){return (/com.apple.fps/).test(M) && !(/com.apple.fps.2_0/).test(M);}function g(M){var L;M=(function(K){var H,I;function P(N,R,X,ha){var ta,la;ta=new Uint8Array("piff" == R?88:72);la=new G.GP(ta);la.Mz(12);la.Lz("frma");la.Lz(N);la.Mz(20);la.Lz("schm");la.qZ(0);la.qZ(0);la.Lz(R);la.Mz(X);"piff" == R?(la.Mz(56),la.Lz("schi"),la.Mz(48),la.Lz("uuid"),la.pZ([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(la.Mz(40),la.Lz("schi"),la.Mz(32),la.Lz("tenc"));la.qZ(0);la.qZ(0);la.Mz(264);la.pZ(ha);return ta;}H=P("avc1","piff",65537,K);H=l().decode(f().encode(H));K=P("avc1",F.Cu,65536,K);K=l().decode(f().encode(K));I=new Uint8Array(7 + H.length + 8 + K.length + 5);I.set([91,10,32,32,32,32,34],0);I.set(H,7);I.set([34,44,10,32,32,32,32,34],7 + H.length);I.set(K,7 + H.length + 8);I.set([34,10,32,32,93],7 + H.length + 8 + K.length);return I;})(M);L=new Uint8Array(13 + M.length + 2);L.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);L.set(M,13);L.set([10,125],13 + M.length);return L;}function n(M){var L;M=M.subarray(14,30);M=String.fromCharCode.apply(null,M);M=f().decode(M);M=M.subarray(4);L=new Uint8Array(16);L.set(M);return L;}function h(M){var L;L=m(M);this.log.error("LICENSE Error: Received event: " + M.type,{sessionId:this.Eb?this.Eb.sessionId:void 0,keySystem:M.target.keySystem,systemCode:L.aba,code:L.q5});this.ln && this.ln(J.Sf.Eq,L);this.Eb=void 0;}function m(M){var L,K;if(M.target.error)(L=M.target.error.systemCode,K=M.target.error.code);return {code:J.Sf.Eq,ic:J.iA.us,Wc:L?v.Ba.get(x.Mw).RF(L,4):K,details:k().Ae(M),Xb:M.target.error,aba:L,q5:K};}function p(M,L,K,P){var H,I,N;H=M.target.sessionId;I=M.message;N=k().aB(I,l().decode("certificate"));K.Dra=L === E.Xj.Wda.En;K.state=N?2:12;K.log.trace("LICENSE: Received event: " + M.type,{keySystem:M.target.keySystem,sessionId:H});(K.context.gf || K.context.kk || K.context.Iz) && K.log.debug("LICENSE: License challenge",f().encode(I));K.O7=H;M={no:K.no,kf:L,messageType:"license-request",Sm:(/clearkey/i).test(K.keySystem)?"clearkey":"fps",xj:[{data:I,sessionId:H}]};12 === K.state && (K.nn("lc"),I={data:I,Sm:(/clearkey/i).test(K.keySystem)?"clearkey":"fps"},K.context.kH || (K.OW=I));K.context.Hd.Rg(M).then(function(R){if(12 === K.state && (K.nn("lr"),K.Uta(),!K.context.kH))(K.PW=R.Zk[0].data,K.state=13,P({ia:!0,state:K.state}));else if(K.Eb)return (R=t(K,N,R.Zk[0].data,K.Eb),2 === K.state?R:R.then(function(){K.state=30;P({ia:!0,state:K.state});}));}).catch(function(R){P(k().nC(R,{state:K.state}));});}function q(M,L,K){L.log.trace("LICENSE: Received event: " + M.type,{keySystem:M.target.keySystem,sessionId:M.target.sessionId});K({ia:!0});}function u(M,L,K){var P;P=m(M);L.ln && L.ln(J.Sf.Eq,P);L.log.error("LICENSE Error: Received event: " + M.type,{sessionId:L.Eb?L.Eb.sessionId:void 0,keySystem:M.target.keySystem,systemCode:P.aba,code:P.q5});K({ia:!1,code:J.Sf.Eq,ic:J.iA.us,Wc:P.Wc,message:"Received a key error.",Nb:P.details,Xb:P.Xb});}function t(M,L,K,P){P={sessionId:P.sessionId};M.t7() && (P.license=f().encode(K));M.log.trace("calling keysession update",P);return new Promise(function(H,I){function N(){M.Eb.removeEventListener("webkitkeyadded",N);H(void 0);}try{L || M.Eb.addEventListener("webkitkeyadded",N);M.Eb.update(K);L && H(void 0);}catch(R){I({ia:!1,code:J.Sf.R0,message:"Unable to update the EME.",e:R});}});}function w(M){this.Yc[M]=v.Ba.get(B.Lc).Kb().ea(C.pa);this.log.trace("Milestone: " + M + ", " + this.Yc[M]);}Object.defineProperty(b,"__esModule",{value:!0});v=a(31276);b=a(36129);y=a(74870);x=a(6405);z=a(2248);A=a(84408);B=a(81918);C=a(5021);D=a(22365);E=a(63156);G=a(62082);F=a(82100);J={Sf:b.V,iA:b.S};c.prototype.SL=function(){return this.keySystem;};c.prototype.sgb=function(M,L){M.log && (this.log=M.log);M.nn && (this.nn=M.nn);L.Hd && (this.context.Hd=L.Hd);L.onerror && (this.context.onerror=L.onerror);};c.prototype.create=function(M){var L;L=this;L.nn("lg");L.log.trace("CREATE: Creating the media keys",{keySystem:M});L.keySystem=M;return L.context.dX?Promise.reject({ia:!1,code:J.Sf.JP,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function K(){var P,H;P=k().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");H=P.lastChild;L.uk=P;L.context.ba=D.Ig.createElement("VIDEO");H?L.uk.insertBefore(L.context.ba,H):L.uk.appendChild(L.context.ba);}return new Promise(function(P,H){function I(N){(L.context.gf || L.context.kk || L.context.Iz) && L.log.trace("CREATE: Received event: " + N.type,{readyState:N.target.readyState,duration:N.target.duration});try{L.mediaKeys=new ob.WebKitMediaKeys(M);L.context.ba.webkitSetMediaKeys(L.mediaKeys);P({ia:!0,mediaKeys:L.mediaKeys});}catch(R){L.log.error("CREATE: Exception on webkitSetMediaKeys",R);H({ia:!1,code:J.Sf.yQ,Nb:k().Ae(R)});}}if(d(L.keySystem))try{L.mediaKeys=new ob.WebKitMediaKeys(M);L.context.ba && (L.log.trace("LICENSE: calling setmediakeys on video element"),L.context.ba.webkitSetMediaKeys(L.mediaKeys));P({ia:!0,mediaKeys:L.mediaKeys});}catch(N){H({ia:!1,code:J.Sf.yQ,Nb:k().Ae(N)});}else (L.mediaKeys=new ob.WebKitMediaKeys(M),L.context.ba?(L.log.trace("LICENSE: calling setmediakeys on video element"),L.context.ba.webkitSetMediaKeys(L.mediaKeys)):(K(),L.uo=new D.bA(),L.uo.addEventListener("sourceopen",I),L.url=URL.createObjectURL(L.uo),L.context.ba.src=L.url),P({ia:!0,mediaKeys:L.mediaKeys}));});})();};c.prototype.close=function(){this.Eb && (this.log.info("Closing the session",{sessionId:this.Eb.sessionId}),this.Eb.removeEventListener("webkitkeyerror",this.wW),this.Eb.close(),this.Eb=void 0);};c.prototype.Rg=function(M,L){var K;if(1 < L.length)return Promise.reject({code:J.Sf.DKa});if(0 === L.length)return Promise.reject({code:J.Sf.CKa});L=L[0];K=this;K.context.gf && K.log.trace("LICENSE: Setting license",{initData:f().encode(L)});return K.context.dX?Promise.reject({ia:!1,code:J.Sf.LEa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(P,H){var N,R,X;function I(ha){K.Eb && (K.Eb.removeEventListener("webkitkeymessage",N),K.Eb.removeEventListener("webkitkeyadded",R),K.Eb.removeEventListener("webkitkeyerror",X),K.Eb.addEventListener("webkitkeyerror",K.wW));ha.ia?P(ha):(K.close(),H(ha));}N=function(ha){p(ha,M,K,I);};R=function(ha){q(ha,K,I);};X=function(ha){u(ha,K,I);};d(K.keySystem) && (K.no=n(L),L=g(K.no));K.log.trace("LICENSE: Executing prefix based EME");K.context.gf | K.context.kk && K.log.debug("LICENSE: PSSH",f().encode(L));K.Eb=K.mediaKeys.createSession("video/mp4",L,null);(K.context.gf || K.context.kk) && K.log.debug("LICENSE: Created the media keys sessions",{keySystem:K.Eb.keySystem,sessionId:K.Eb.sessionId});K.Eb.addEventListener("webkitkeymessage",N);K.Eb.addEventListener("webkitkeyadded",R);K.Eb.addEventListener("webkitkeyerror",X);});})();};c.prototype.CH=function(){var M;M=this;return M.Bya?Promise.resolve({ia:!0}):new Promise(function(L,K){var H,I,N;function P(R){M.Eb && (M.Eb.removeEventListener("webkitkeymessage",H),M.Eb.removeEventListener("webkitkeyadded",I),M.Eb.removeEventListener("webkitkeyerror",N));R.ia?L(R):(K(R),M.close());}H=function(R){p(R,E.Xj.Wda.wm,M,P);};I=function(R){q(R,M,P);L({ia:!0});};N=function(R){u(R,M,P);};M.Dra=!1;M.Eb.addEventListener("webkitkeymessage",H);M.Eb.addEventListener("webkitkeyadded",I);M.Eb.addEventListener("webkitkeyerror",N);M.Eb.update(l().decode("renew"));});};c.prototype.c3=function(M){this.PW || this.log.error("pending license must exist at this point");this.context.kH=!0;try{M && (this.context.ba=M,this.log.trace("calling setmediakeys on video element"),this.context.ba.webkitSetMediaKeys(this.mediaKeys));}catch(L){return new Promise(function(K,P){P({ia:!1,code:J.Sf.pJ,message:"setMediaKeys failed",Nb:k().Ae(L)});});}return t(this,!1,this.PW,this.Eb);};c.prototype.KZa=function(M){var L,K;L=this;L.log.trace("Releasing the license of the current session",JSON.stringify(M));L.Bya=!0;K={na:M.na,pe:M.pe};return new Promise(function(P,H){(function(){L.context.Hd.release.call(L.context.Hd,K).then(function(){var I;L.log.trace("successfully released the license",JSON.stringify(M));I={ia:!0};I.ia?P(I):(L.close(),H(I));}).catch(function(I){L.log.error("RELEASE: Unable to get the release the license",{sessionId:L.Eb?L.Eb.sessionId:void 0,code:I.code,subCode:I.ic,extCode:I.Wc,edgeCode:I.Tm,message:I.Cj});I.ia?P(I):(L.close(),H(I));});})();});};c.prototype.t7=function(){return this.context.gf || this.context.kk;};r.exports=c;},31360:function(r,b,a){var c,l,f,k,d,g,n,h,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.I9a=void 0;r=a(22674);c=a(30650);l=a(71976);f=a(7605);k=a(17705);d=a(31071);g=a(91918);n=a(81025);h=a(23632);m=a(15348);p=a(17108);b.I9a=new r.gd(function(q){q(f.hx).to(k.XKa).ha();q(c.ZKa).to(l.YKa).ha();q(n.iLa).to(h.hLa);q(n.gLa).ae(function(u){return function(){return u.ob.get(n.iLa);};});q(d.ELa).to(g.DLa).ha();q(m.$ea).to(p.ALa).ha();});},7605:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hx="PboConfigSymbol";},30650:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZKa="PboDispatcherSymbol";},81025:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iLa="PboLinksManagerSymbol";b.gLa="PboLinksManagerFactorySymbol";},15348:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$ea="PboPublisherSymbol";},31071:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ELa="PboRequestFactorySymbol";},49917:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gca="AdEventPboCommandSymbol";b.fca="AdBreakEventPboCommandSymbol";},18880:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,E,G,F,J,M,L,K,P,H,I,N,R,X,ha,ta;Object.defineProperty(b,"__esModule",{value:!0});b.kWa=void 0;r=a(22674);c=a(40953);l=a(30543);f=a(72639);k=a(86563);d=a(81378);g=a(13158);n=a(75014);h=a(39832);m=a(16257);p=a(46303);q=a(829);u=a(45830);t=a(87607);w=a(84860);v=a(35329);y=a(31149);x=a(36129);z=a(25546);A=a(69740);B=a(88951);C=a(83998);D=a(54949);E=a(62898);G=a(15153);F=a(70285);J=a(76427);M=a(36642);L=a(15614);K=a(95738);P=a(82306);H=a(7605);I=a(67658);N=a(3035);R=a(46320);X=a(595);ha=a(49917);ta=a(49449);b.kWa=new r.gd(function(la){la(C.wl).to(D.WKa);la(c.kLa).to(l.jLa);la(E.RKa).to(G.QKa);la(F.TKa).to(J.SKa);la(f.Yea).to(k.lLa);la(I.mLa).ae(function(xa){return function(){var Ba;Ba=xa.ob.get(H.hx);return Ba && Ba.Rgb?xa.ob.resolve(R.FLa):xa.ob.resolve(N.nLa);};});la(d.PKa).to(g.OKa);la(n.CLa).to(h.BLa);la(m.eLa).to(p.dLa);la(q.Xea).to(u.fLa);la(t.tOa).to(w.sOa);la(t.AOa).to(v.zOa);la(t.EHa).to(z.DHa);la(t.oOa).to(A.nOa);la(t.bFa).to(B.aFa);la(L.fob).to(M.oLa);la(K.cLa).to(P.bLa);la(ha.gca).to(X.SAa);la(ha.fca).to(ta.MAa);la(t.pda).ae(function(xa){return function(Ba){switch(Ba){case t.Ro.start:return xa.ob.get(t.tOa);case t.Ro.stop:return xa.ob.get(t.AOa);case t.Ro.qV:return xa.ob.get(t.EHa);case t.Ro.splice:return xa.ob.get(t.oOa);case t.Ro.pL:return xa.ob.get(t.bFa);}throw new y.Mc(x.V.rnb,void 0,void 0,void 0,void 0,"The event key was invalid - " + Ba);};});});},87607:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ro={start:"start",stop:"stop",qV:"keepAlive",pL:"engage",splice:"splice"};b.pda="EventPboCommandFactorySymbol";b.tOa="StartEventPboCommandSymbol";b.AOa="StopEventPboCommandSymbol";b.EHa="KeepAliveEventPboCommandSymbol";b.oOa="SpliceEventPboCommandSymbol";b.bFa="EngageEventPboCommandSymbol";},81378:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PKa="PboAcquireLicenseCommandSymbol";},62898:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RKa="PboBindCommandSymbol";},70285:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TKa="PboBindDeviceCommandSymbol";},40547:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xg={Tra:"logblob",Y:"manifest",pRb:"licensedmanifest",Rg:"license",events:"events",bind:"bind",ping:"ping",config:"config"};b.zob={vNa:"X-Netflix.Request.Attempt",Hfa:"X-Netflix.Client.Request.Name",wCa:"x-netflix.browsername",BCa:"x-netflix.browserversion",kKa:"x-netflix.osname",lKa:"x-xetflix.osversion",mDa:"x-netflix.clienttype",uPa:"x-netflix.uiversion"};b.gA={vNa:"reqAttempt",Hfa:"reqName",wCa:"browsername",BCa:"browserversion",kKa:"osname",lKa:"osversion",mDa:"clienttype",uPa:"uiversion"};},83998:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wl="PboCommandContextSymbol";},95738:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cLa="PboGenerateScreenshotsCommandSymbol";},16257:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eLa="PboLicenseRequestTransformerSymbol";},829:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xea="PboLicenseResponseTransformerSymbol";},40953:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kLa="PboLogblobCommandSymbol";},72639:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yea=b.ul=void 0;r=b.ul || (b.ul={});r.qJ="PRE_FETCH";r.sob="QC";r.wm="STANDARD";r.l1="SUPPLEMENTAL";r.Iac="DOWNLOAD";b.Yea="PboManifestCommandSymbol";},67658:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mLa="PboManifestRequestTransformerSymbol";},15614:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fob="PboPingCommandSymbol";},75014:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CLa="PboReleaseLicenseCommandSymbol";},49449:function(r,b,a){var l,f,k,d,g;function c(n){return d.ah.call(this,n,f.V.zAa,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.MAa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);g=a(83998);a(2762);da(c,d.ah);c.prototype.Cf=function(n,h){var m,p,q;m=this;p=h.event;q=this.WA(h);!1;!1;return this.send(n,{url:h.href,name:k.xg.events,Jj:k.xg.events + "/" + p},q).then(function(){return h;}).catch(function(u){throw m.Ql(u);});};c.prototype.eo=function(){return Promise.reject(Error("Links are unsupported with ad break events"));};c.prototype.WA=function(n){return {xid:n.na,event:n.event,adEventToken:n.kv,adBreakLocationMs:n.RE,position:n.position,clientTime:n.Rx,sessionStartTime:n.gm,appId:n.appId,sessionId:n.sessionId,playTimes:{}};};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.wl))],a);b.MAa=a;},595:function(r,b,a){var l,f,k,d,g;function c(n){return d.ah.call(this,n,f.V.zAa,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.SAa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);g=a(83998);a(2762);da(c,d.ah);c.prototype.Cf=function(n,h){var m,p,q;m=this;p=h.event;q=this.WA(h);!1;!1;return this.send(n,{url:h.href,name:k.xg.events,Jj:k.xg.events + "/" + p},q).then(function(){return h;}).catch(function(u){throw m.Ql(u);});};c.prototype.eo=function(){return Promise.reject(Error("Links are unsupported with ad events"));};c.prototype.WA=function(n){return {xid:n.na,event:n.event,adEventToken:n.kv,adBreakLocationMs:n.RE,position:n.position,clientTime:n.Rx,sessionStartTime:n.gm,appId:n.appId,sessionId:n.sessionId,playTimes:this.Sja(n.cw),mainManifestPlaybackContextId:n.ESb,thirdPartyAdVerificationMetadata:n.D6b};};c.prototype.Sja=function(n){return {total:n.total,audio:n.audio.map(function(h){return {duration:h.duration,downloadableId:h.Vb,cdnId:h.Lm};}),video:n.video.map(function(h){return {duration:h.duration,downloadableId:h.Vb,cdnId:h.Lm};}),text:n.text.map(function(h){return {duration:h.duration,downloadableId:h.Vb,cdnId:h.Lm};})};};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.wl))],a);b.SAa=a;},88496:function(r,b,a){var l,f,k;function c(d,g,n,h){g=k.ah.call(this,d,g,h) || this;g.context=d;g.Vma=n;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.yq=void 0;r=a(5163);l=a(22674);f=a(40547);k=a(51658);a(2762);da(c,k.ah);c.prototype.x6=function(d){return "LIVE" === d.ag?f.xg.events + "/live/" + this.Vma:f.xg.events + "/" + this.Vma;};c.prototype.Cf=function(d,g){var n,h;n=this;h=this.WA(g);!1;!1;return this.send(d,{url:g.href,name:f.xg.events,Jj:this.x6(g)},h).then(function(){return g;}).catch(function(m){throw n.Ql(m);});};c.prototype.eo=function(d,g,n){var h,m,p;h=this;m=this.WA(n);!1;!1;p={url:g.TL("events").href,name:f.xg.events,Jj:this.x6(n)};return this.send(d,p,m).then(function(q){g.zia(q.result.links);return n;}).catch(function(q){throw h.Ql(q);});};c.prototype.WA=function(d){return {event:this.Vma,xid:d.na,position:d.position || 0,clientTime:d.Rx,sessionStartTime:d.gm,videoTrackId:d.cP,audioTrackId:d.xp,timedTextTrackId:d.MO,mediaId:d.NM,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.Sja(d.cw),sessionParams:d.fm};};c.prototype.Rja=function(d){return {downloadableId:d.Vb,duration:d.duration};};c.prototype.Sja=function(d){var g;g={total:d.total,audio:d.audio.map(this.Rja),video:d.video.map(this.Rja),text:d.text.map(this.Rja)};d.total !== d.wI && (g.totalContentTime=d.wI);0 !== d.cD && (g.totalAdDuration=d.cD);0 !== d.dD && (g.totalOtherDuration=d.dD);if(0 !== d.dD || 0 !== d.cD)g.totalCombinedDuration=d.OO;0 !== d.xI && (g.totalLiveEdgeDuration=d.xI);0 !== d.yI && (g.totalStartSlateDuration=d.yI);return g;};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.Bn)()),r.__param(1,(0,l.Bn)()),r.__param(2,(0,l.Bn)()),r.__param(3,(0,l.Bn)())],a);b.yq=a;},51658:function(r,b,a){var l,f,k,d,g;function c(n,h,m){this.context=n;this.errorCode=h;this.J1b=m;}Object.defineProperty(b,"__esModule",{value:!0});b.ah=void 0;r=a(5163);l=a(22674);f=a(71977);k=a(5021);d=a(31149);g=a(34231);c.prototype.send=function(n,h,m,p,q,u){var t;t=this;u=void 0 === u?g.Ju.CQ:u;return this.hKb(n,h,m,u,p,q).then(function(w){return t.context.zEb.send(w.context,w.request);});};c.prototype.hKb=function(n,h,m,p,q,u){var t,w;try{t=this.context.d1b.create(this.context.ty.dB(),h.url,m,q,p);w=this.Vwb(h,n,p,u);return Promise.resolve({context:w,request:t});}catch(v){return Promise.reject(v);}};c.prototype.Vwb=function(n,h,m,p){return {Je:this.context.Je,log:h,Mm:n.name,url:this.context.R8b((0,f.UUa)(this.context.hh,this.context.Tg,n.name,m)),Qwa:this.J1b,timeout:(0,k.uh)(59),headers:(0,f.TUa)(this.context.Tg,this.context.AF),Jj:n.Jj,vwb:p};};c.prototype.Ql=function(n){return n instanceof d.Mc?n:(0,f.Ql)(this.errorCode,n,this.context.Tg.rZa);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.Bn)()),r.__param(1,(0,l.Bn)()),r.__param(2,(0,l.Bn)())],a);b.ah=a;},88951:function(r,b,a){var l,f,k,d,g;function c(n){return k.yq.call(this,n,f.V.Skb,d.Ro.pL,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.aFa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(88496);d=a(87607);a=a(83998);da(c,k.yq);c.prototype.WA=function(n){return Object.assign(Object.assign({},k.yq.prototype.WA.call(this,n)),{action:n.action});};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.wl))],g);b.aFa=g;},82306:function(r,b,a){var l,f,k,d,g;function c(n){return d.ah.call(this,n,f.V.dlb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.bLa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);a=a(83998);da(c,d.ah);c.prototype.Cf=function(n,h){var m;m=this;return this.send(n,{url:"/generateScreenshots",name:k.xg.Y,Jj:"generateScreenshots"},h).then(function(p){return p.result;}).catch(function(p){throw m.Ql(p);});};c.prototype.eo=function(n,h,m){var p;p=this;h={url:h.TL("generateScreenshots").href,name:k.xg.Y,Jj:"generateScreenshots"};return this.send(n,h,m).then(function(q){return q.result;}).catch(function(q){throw p.Ql(q);});};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.wl))],g);b.bLa=g;},25546:function(r,b,a){var l,f,k,d,g;function c(n){return k.yq.call(this,n,f.V.Tda,d.Ro.qV,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.DHa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(88496);d=a(87607);a=a(83998);da(c,k.yq);g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.wl))],g);b.DHa=g;},13158:function(r,b,a){var l,f,k,d,g;function c(n){return d.ah.call(this,n,f.V.eJ,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.OKa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);a=a(83998);da(c,d.ah);c.prototype.Cf=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.x6=function(n){var h;h="ldl" === n.L5a?"prefetch/license":"license";"LIVE" === n.ag && (h+="/live");return h;};c.prototype.eo=function(n,h,m){var p;p=this;h={url:h.TL(m.L5a).href,name:k.xg.Rg,Jj:this.x6(m)};return this.send(n,h,m.inputs,"drmSessionId").then(function(q){q=q.result;p.qyb(q);return q;}).catch(function(q){throw p.Ql(q);});};c.prototype.qyb=function(n){n.forEach(function(h){if(!h.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.wl))],g);b.OKa=g;},15153:function(r,b,a){var l,f,k,d,g;function c(n){return d.ah.call(this,n,f.V.Aib,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.QKa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);a=a(83998);da(c,d.ah);c.prototype.Cf=function(n,h,m){var p;p=this;return this.send(n,{url:"/" + k.xg.bind,name:k.xg.bind,Jj:k.xg.bind},h,void 0,m).then(function(q){return q.result;}).catch(function(q){throw p.Ql(q);});};c.prototype.eo=function(){return Promise.reject(Error("Links are unsupported with bind"));};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.wl))],g);b.QKa=g;},76427:function(r,b,a){var l,f,k,d,g;function c(n){return d.ah.call(this,n,f.V.Bib,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.SKa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);a=a(83998);da(c,d.ah);c.prototype.Cf=function(n,h,m){var p;p=this;return this.send(n,{url:"/bindDevice",name:k.xg.bind,Jj:k.xg.bind},h,void 0,m).then(function(q){return q.result;}).catch(function(q){throw p.Ql(q);});};c.prototype.eo=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.wl))],g);b.SKa=g;},54949:function(r,b,a){var l,f,k,d,g,n,h,m,p;function c(q,u,t,w,v,y,x,z,A){this.hh=q;this.Je=u;this.Tg=t;this.zEb=w;this.ty=v;this.R8b=y;this.d1b=z;this.AF=A;}Object.defineProperty(b,"__esModule",{value:!0});b.WKa=void 0;r=a(5163);l=a(22674);f=a(24747);k=a(7605);d=a(31071);g=a(30650);n=a(62665);h=a(32934);m=a(77687);p=a(15160);a=a(33554);c=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.DZ)),r.__param(1,(0,l.l)(h.Gu)),r.__param(2,(0,l.l)(k.hx)),r.__param(3,(0,l.l)(g.ZKa)),r.__param(4,(0,l.l)(n.Xw)),r.__param(5,(0,l.l)(m.xPa)),r.__param(6,(0,l.l)(p.l_)),r.__param(7,(0,l.l)(d.ELa)),r.__param(8,(0,l.l)(a.Rw))],c);b.WKa=c;},71977:function(r,b,a){var n,h;function c(m){return !(!m || !m.wC && !m.pboc || !m.code && !m.code);}function l(m){return !(!m || !m.ic);}function f(m){return !!(m instanceof Error);}function k(m){switch(m){case "ACCOUNT_ON_HOLD":return h.S.gnb;case "STREAM_QUOTA_EXCEEDED":return h.S.pnb;case "INSUFFICICENT_MATURITY":return h.S.vnb;case "TITLE_OUT_OF_WINDOW":return h.S.Enb;case "CHOICE_MAP_ERROR":return h.S.onb;case "BadRequest":return h.S.znb;case "Invalid_SemVer_Format":return h.S.wnb;case "RESTRICTED_TO_TESTERS":return h.S.Cnb;case "AGE_VERIFICATION_REQUIRED":return h.S.mnb;case "BLACKLISTED_IP":return h.S.nnb;case "DEVICE_EOL_WARNING":return h.S.Lea;case "DEVICE_EOL_FINAL":return h.S.sKa;case "INCORRECT_PIN":return h.S.Mea;case "MOBILE_ONLY":return h.S.Bnb;case "MDX_CONTROLLER_CTICKET_INVALID":return h.S.Anb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return h.S.Fnb;case "RESET_DEVICE":return h.S.vKa;case "RELOAD_DEVICE":return h.S.uKa;case "EXIT_DEVICE":return h.S.tKa;case "FREE_PREVIEW_ENDED":return h.S.unb;case "STREAMING_LOCATION_DISALLOWED":return h.S.Dnb;case "EXTRA_MEMBER_STREAM_HOLD":return h.S.tnb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return h.S.snb;case "ADS_UNAVAILABLE_VIEWABLE":return h.S.hnb;case "ADS_UNSUPPORTED_DEVICE":return h.S.knb;case "ADS_UNSUPPORTED_CLIENT_APP_VERSION":return h.S.inb;case "ADS_UNSUPPORTED_COUNTRY":return h.S.jnb;case "ADS_VPN_USE_DETECTED":return h.S.lnb;case "LIVE_STREAMING_UNSUPPORTED_DEVICE":return h.S.ynb;case "LIVE_STREAMING_UNSUPPORTED_APP_VERSION":return h.S.xnb;case "CONTENT_PREVIEW_MFA_REQUIRED_EXCEPTION":return h.S.qnb;default:return h.S.DFa;}}function d(m,p,q){var u;u=k(p.code);return new n.Mc(m,u,"BadRequest" === p.code?h.s0.Pib:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0,p.alert,p.alertTag,p.playbackContextId,q?p.code:void 0,q?p.displayCode:void 0);}function g(m,p){return new n.Mc(m,p.ic,p.Wc,void 0,p.Uy,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.TUa=b.UUa=b.MIb=b.QIb=b.Ql=b.PIb=b.iV=b.JPb=b.lV=void 0;n=a(31149);h=a(36129);b.lV=c;b.JPb=l;b.iV=f;b.PIb=k;b.Ql=function(m,p,q){return l(p)?g(m,p):c(p)?d(m,p,q):f(p)?n.Mc.Sna(m,p):new n.Mc(m,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.QIb=d;b.MIb=g;b.UUa=function(m,p,q,u,t){var w,v,y,x;t=void 0 === t?"router":t;w=p.xcb[q];if(void 0 === w)throw {wC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};v=w.version;if(void 0 === v)throw {wC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};y=w.service;if(void 0 === y)throw {wC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};x=w.orgOverride;if(void 0 === x && (x=p.organization,void 0 === x))throw {wC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return w.isPlayApiDirect?m.NLb(u) + "/" + x + "/" + y + "/" + encodeURIComponent(v):m.DLb(u) + "/" + x + "/" + y + "/" + encodeURIComponent(v) + "/" + t;};b.TUa=function(m,p){var q;q={"Content-Type":"text/plain"};p=p();m.mTa && p && (q["X-Esn"]=p.hk);return q;};},46303:function(r,b,a){var l,f,k,d,g;function c(n,h,m){this.sa=n;this.platform=h;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.dLa=void 0;r=a(5163);l=a(22674);f=a(30869);k=a(5021);d=a(91581);a=a(4203);c.prototype.l7b=function(n){var h,m;h=this;m=this.sa.ke.ea(k.xm);return {inputs:n.xj.map(function(p){var q,u,t,w,v;return {drmSessionId:p.sessionId,clientTime:m,challengeBase64:p.dataBase64,xid:n.na.toString(),clientVersion:h.platform.version,platform:null === (q=h.config().qd) || void 0 === q?void 0:q.version,osVersion:null === (t=null === (u=h.config().qd) || void 0 === u?void 0:u.os) || void 0 === t?void 0:t.version,osName:null === (v=null === (w=h.config().qd) || void 0 === w?void 0:w.os) || void 0 === v?void 0:v.name};}),L5a:"standard" === n.kf.toLowerCase()?"license":"ldl",ag:n.ag};};c.prototype.o7b=function(n){var h,m;h=this;m=[];return n.pe.map(function(p){m.push(p.id);return {url:h.Xwb(p.JG,p.yV),echo:"drmSessionId",params:{drmSessionId:p.id,xid:n.na.toString()}};});};c.prototype.Xwb=function(n,h){return "/releaseLicense?drmLicenseContextId=" + n + (h?"&licenseId=" + h:"");};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.cg)),r.__param(1,(0,l.l)(d.Hn)),r.__param(2,(0,l.l)(a.Yb))],g);b.dLa=g;},45830:function(r,b,a){var l,f,k;function c(d,g){this.xh=d;this.TA=g;}Object.defineProperty(b,"__esModule",{value:!0});b.fLa=void 0;r=a(5163);l=a(22674);f=a(74870);a=a(2248);c.prototype.Bfb=function(d){var g,n;g=this;n=d.map(function(h){return h.links.releaseLicense.href;}).map(function(h){return g.xh.MW(h.substring(h.indexOf("?") + 1));});return {ia:!0,pe:d.map(function(h,m){return {id:h.drmSessionId,JG:n[m].drmlicensecontextid,yV:n[m].licenseid};}),Zk:d.map(function(h){return {data:g.TA.decode(h.licenseResponseBase64),sessionId:h.drmSessionId};})};};k=c;k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.dh)),r.__param(1,(0,l.l)(a.$g))],k);b.fLa=k;},30543:function(r,b,a){var l,f,k,d,g;function c(n){return d.ah.call(this,n,f.V.hmb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.jLa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);a=a(83998);da(c,d.ah);c.prototype.Cf=function(n,h){var m;m=this;return this.send(n,{url:"/" + k.xg.Tra,name:k.xg.Tra,Jj:k.xg.Tra},h).then(function(p){return p.result;}).catch(function(p){throw m.Ql(p);});};c.prototype.eo=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.wl))],g);b.jLa=g;},86563:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y,x){t=d.ah.call(this,t,f.V.LD,3) || this;t.platform=w;t.NV=v;t.oRb=y;t.QSb=x;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.lLa=void 0;r=a(5163);l=a(72639);f=a(36129);k=a(40547);a(2762);d=a(51658);g=a(83998);n=a(91581);h=a(34231);m=a(17398);p=a(829);q=a(22674);a=a(67658);da(c,d.ah);c.prototype.hMb=function(t,w){var v,y;y=w?k.xg.pRb:k.xg.Y;w=w?"licensedManifest":"manifest";t.jr === l.ul.qJ && (w="prefetch/" + w);"live" === t.cb.Cd && (w+="/live");if(null === (v=t.Gf) || void 0 === v?0:v.fh)w="adBreakHydration";return {Jj:w,mzb:y};};c.prototype.Cf=function(t,w){var v,y;v=this;y=w.jr === l.ul.l1?h.Ju.QMa:h.Ju.CQ;return this.QSb().transform(w,y).then(function(x){var z,A;z=ja(x);x=z.next().value;A=z.next().value;!1;z=v.hMb(w,"licensedManifest" === A.Mm);return v.send(t,{url:A.Mm,name:z.mzb,Jj:z.Jj},x,void 0,void 0,y).then(function(B){var C;B=v.NV.create(B.result);C=B.Fa;A.ey && (C=C.uu.map(function(D){return D.Rg;}).filter(Boolean),0 < C.length?(C=v.oRb.Bfb(C),A.ey.YSa(C),B.ey=A.ey,B.Oqa=w.jr === l.ul.qJ,B.Nqa=!0):A.ey.close());B.yS=A.yS;B.fZ=A.fZ;!1;return B;});}).catch(function(x){!1;throw v.Ql(x);});};c.prototype.eo=function(){return Promise.reject(Error("Links are not supported with manifest command"));};u=c;u=r.__decorate([(0,q.U)(),r.__param(0,(0,q.l)(g.wl)),r.__param(1,(0,q.l)(n.Hn)),r.__param(2,(0,q.l)(m.iJ)),r.__param(3,(0,q.l)(p.Xea)),r.__param(4,(0,q.l)(a.mLa))],u);b.lLa=u;},3035:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C,D,E,G,F,J){this.Tg=x;this.platform=z;this.config=A;this.Xxb=B;this.lYb=C;this.so=D;this.PS=E;this.sa=G;this.C8=F;this.Qm=J;}Object.defineProperty(b,"__esModule",{value:!0});b.nLa=void 0;r=a(5163);l=a(22674);f=a(72639);k=a(4203);d=a(14423);g=a(34029);n=a(67650);h=a(21103);m=a(91581);p=a(30869);q=a(5021);u=a(2492);t=a(7605);w=a(36582);v=a(56800);y=a(24735);c.prototype.transform=function(x,z){var A,B,C,D,E,G,F,J;A=this;B=x.cb;C=Object.assign({},B.w3,B.fm);D={};E=x.J;G=this.config();D[E]={unletterboxed:!!C.preferUnletterboxed || G.UYb};F=G.$8b?30:25;G=G.ks?this.so.nKb():Promise.resolve(this.C8.zt());J={Cd:null === B || void 0 === B?void 0:B.Cd};return Promise.all([this.Qm.l2a(J),this.Qm.n2a(J),this.Qm.uU(),this.Qm.t6(),this.JJb(x.na,z),this.pKb(x),G]).then(function(M){var L,K,P,H,I,N,R,X,ha,ta,la,xa,Ba,La,Za,ab,Z;L=ja(M);K=L.next().value;P=L.next().value;H=L.next().value;I=L.next().value;N=L.next().value;M=L.next().value;R=L.next().value;L=K.B6().concat(P.B6()).concat(A.config().ou).concat(["BIF240","BIF320"]).filter(Boolean);I=I?I.DEVICE_SECURITY_LEVEL:void 0;Z="postplay" === B.Cd?!0:!!C.isUIAutoPlay;H={type:"standard",manifestVersion:A.Tg.sZa?"v2":"v1",viewableId:E,profiles:L,flavor:x.jr,drmType:R,drmVersion:F,usePsshBox:!0,isBranching:!!x.cb.sg,useHttpsStreams:!0,supportsUnequalizedDownloadables:A.config().h6b,imageSubtitleHeight:d.$fa.S1a(),uiVersion:A.Tg.Aw,uiPlatform:A.Tg.rba,clientVersion:A.platform.version,platform:null === (X=A.config().qd) || void 0 === X?void 0:X.version,osVersion:null === (ta=null === (ha=A.config().qd) || void 0 === ha?void 0:ha.os) || void 0 === ta?void 0:ta.version,osName:null === (xa=null === (la=A.config().qd) || void 0 === la?void 0:la.os) || void 0 === xa?void 0:xa.name,supportsPreReleasePin:A.config().Ip.$5b,supportsWatermark:A.config().Ip.a6b,packageId:A.KLb(B),deviceSecurityLevel:I,videoOutputInfo:H,titleSpecificData:D,preferAssistiveAudio:!!C.assistiveAudioPreferred,preferredTextLocale:C.preferredTextLocale,preferredAudioLocale:C.preferredAudioLocale,isUIAutoPlay:Z,challenge:N,isNonMember:A.Tg.C4a,pin:B.O9a,desiredVmaf:A.config().Lgb?A.config().kYa:A.config().lYa,desiredSegmentVmaf:A.config().Lgb?A.config().kYa:A.config().lYa,requestSegmentVmaf:A.config().j1b,supportsPartialHydration:A.Tg.lL,contentPlaygraph:x.cb.sg?[]:A.Tg.sF,supportsAdBreakHydration:!0,auxiliaryManifestToken:x.cb.sg?void 0:null === (Ba=x.Gf) || void 0 === Ba?void 0:Ba.$b,adBreakToken:x.cb.sg?void 0:null === (La=x.Gf) || void 0 === La?void 0:La.fh,originalPlaybackContextId:!x.cb.sg && (null === (Za=x.Gf) || void 0 === Za?0:Za.$b)?null === (ab=x.Gf) || void 0 === ab?void 0:ab.FW:void 0,liveMetadataFormat:"INDEXED_SEGMENT_TEMPLATE",useBetterTextUrls:!0};B.NZa && (H.extraParams=B.NZa);B.iYa && (H.desiredDownloadables=B.iYa);B.Bwa && (H.requestReference=B.Bwa);X={Mm:H.adBreakToken?"adBreakHydration":M?"licensedManifest":"manifest",ey:null === M || void 0 === M?void 0:M.qz,yS:K,fZ:P};M && (M={drmSessionId:M.qz.ly() || "session",clientTime:A.sa.SH.ea(q.xm),challengeBase64:M.nka},H.challenges={"default":[M]},H.profileGroups=[{name:"default",profiles:L}],H.licenseType=x.kf == y.yh.En?"limited":"standard",x.na && (H.xid=x.na.toString()));A.Tg.lL || (H.showAllSubDubTracks=A.config().Ip.s4b || !!C.showAllSubDubTracks);A.Tg.kZa && x.jr === f.ul.l1 && (H.maxSupportedLanguages=2);x.RO && (H.originalPlaybackContextId=x.RO.FW,H.requiredAudioTrackId=x.RO.n1b,H.requiredTextTrackId=x.RO.q1b);return [H,X];});};c.prototype.KLb=function(x){if(this.config().v$.enabled){if(void 0 !== x.tn)return x.tn;if(void 0 !== this.config().v$.tn)return Number(this.config().v$.tn);}};c.prototype.JJb=function(x,z){var A;A=this;return this.Xxb.u0a(z).then(function(B){var C;C=x && A.lYb.PLb(x);C && C.rp("cad");return B;});};c.prototype.pKb=function(x){var z;if(void 0 === x.kf || !this.config().ks)return Promise.resolve(void 0);z=x.kf === y.yh.wm && this.Tg.vv;return x.kf === y.yh.En && this.Tg.qB || z?this.PS.epa(x.kf):Promise.resolve(void 0);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(t.hx)),r.__param(1,(0,l.l)(m.Hn)),r.__param(2,(0,l.l)(k.Yb)),r.__param(3,(0,l.l)(g.JCa)),r.__param(4,(0,l.l)(n.mfa)),r.__param(5,(0,l.l)(h.ax)),r.__param(6,(0,l.l)(u.VZ)),r.__param(7,(0,l.l)(p.cg)),r.__param(8,(0,l.l)(w.tea)),r.__param(9,(0,l.l)(v.Qw))],a);b.nLa=a;},36642:function(r,b,a){var l,f,k,d,g;function c(n){return d.ah.call(this,n,f.V.Gnb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.oLa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);a=a(83998);da(c,d.ah);c.prototype.Cf=function(n,h,m){var p;p=this;return this.send(n,{url:"/" + k.xg.ping,name:k.xg.ping,Jj:k.xg.ping},h,void 0,m).then(function(q){return q.result;}).catch(function(q){throw p.Ql(q);});};c.prototype.eo=function(){return Promise.reject(Error("Links are unsupported with ping"));};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.wl))],g);b.oLa=g;},39832:function(r,b,a){var l,f,k,d,g;function c(n){return d.ah.call(this,n,f.V.Cfa,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.BLa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(40547);d=a(51658);a=a(83998);da(c,d.ah);c.prototype.Cf=function(n,h){var m;m=this;return this.send(n,{url:"/bundle",name:k.xg.Rg,Jj:"release/license"},h).then(function(p){return p.result;}).catch(function(p){throw m.Ql(p);});};c.prototype.eo=function(){return Promise.reject(Error("Links are unsupported with release"));};g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.wl))],g);b.BLa=g;},46320:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p,q){this.platform=h;this.config=m;this.PS=p;this.Qm=q;}Object.defineProperty(b,"__esModule",{value:!0});b.FLa=void 0;r=a(5163);l=a(22674);f=a(4203);k=a(91581);d=a(2492);g=a(56800);n=a(24735);c.prototype.transform=function(h){var m,p,q;m=this;p=h.cb;q={Cd:void 0};return Promise.all([this.Qm.l2a(q),this.Qm.n2a(q),this.PS.epa(n.yh.wm)]).then(function(u){var t,w;t=ja(u);u=t.next().value;w=t.next().value;t=t.next().value;return [{viewableId:h.J,packageId:p.tn,assetId:p.kja,challenge:t.nka,audioProfiles:u.B6(),textProfiles:m.config().ou,trickplayProfiles:["BIF240","BIF320"],videoProfiles:w.B6(),audioLanguages:p.Kvb,textLanguages:p.A6b,videoLanguages:p.dhb?[p.dhb]:void 0,requestReference:p.Bwa,additionalAudioAssets:p.kub,additionalTextAssets:p.nub,useBetterTextUrls:!0},{ey:null === t || void 0 === t?void 0:t.qz,Mm:"studioManifest",yS:u,fZ:w}];});};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.Hn)),r.__param(1,(0,l.l)(f.Yb)),r.__param(2,(0,l.l)(d.VZ)),r.__param(3,(0,l.l)(g.Qw))],a);b.FLa=a;},69740:function(r,b,a){var l,f,k,d,g;function c(n){return k.yq.call(this,n,f.V.HNa,d.Ro.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.nOa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(88496);d=a(87607);a=a(83998);da(c,k.yq);g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.wl))],g);b.nOa=g;},84860:function(r,b,a){var l,f,k,d,g;function c(n){return k.yq.call(this,n,f.V.Qob,d.Ro.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.sOa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(88496);d=a(87607);a=a(83998);da(c,k.yq);g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.wl))],g);b.sOa=g;},35329:function(r,b,a){var l,f,k,d,g;function c(n){return k.yq.call(this,n,f.V.Rob,d.Ro.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.zOa=void 0;r=a(5163);l=a(22674);f=a(36129);k=a(88496);d=a(87607);a=a(83998);da(c,k.yq);g=c;g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.wl))],g);b.zOa=g;},17705:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q,u){m=f.Qe.call(this,m,"PboConfigImpl") || this;m.config=p;m.Lub=q;m.Aj=u;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.XKa=void 0;r=a(5163);l=a(22674);f=a(64174);k=a(83767);d=a(12501);g=a(4203);n=a(24747);a=a(5614);da(c,f.Qe);Ya.Object.defineProperties(c.prototype,{Aw:{configurable:!0,enumerable:!0,get:function(){return this.config().Ip.Aw || "";}},rba:{configurable:!0,enumerable:!0,get:function(){return this.config().Ip.rba || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Ip.ova;}},C4a:{configurable:!0,enumerable:!0,get:function(){return !1;}},xcb:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.Lub.yUa,version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.ycb);}},ycb:{configurable:!0,enumerable:!0,get:function(){return {};}},Hab:{configurable:!0,enumerable:!0,get:function(){return !1;}},Vpa:{configurable:!0,enumerable:!0,get:function(){return 10;}},mTa:{configurable:!0,enumerable:!0,get:function(){return !1;}},vv:{configurable:!0,enumerable:!0,get:function(){return this.Aj.vv;}},qB:{configurable:!0,enumerable:!0,get:function(){return this.Aj.qB;}},FI:{configurable:!0,enumerable:!0,get:function(){return this.Aj.FI;}},Rgb:{configurable:!0,enumerable:!0,get:function(){return !1;}},kZa:{configurable:!0,enumerable:!0,get:function(){return !0;}},Kgb:{configurable:!0,enumerable:!0,get:function(){return [];}},sZa:{configurable:!0,enumerable:!0,get:function(){return !0;}},lL:{configurable:!0,enumerable:!0,get:function(){return this.Aj.lL;}},sF:{configurable:!0,enumerable:!0,get:function(){return this.Aj.sF;}},rZa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});h=c;r.__decorate([d.config(d.string,"uiVersion")],h.prototype,"Aw",null);r.__decorate([d.config(d.string,"uiPlatform")],h.prototype,"rba",null);r.__decorate([d.config(d.Dz,"pboVersion")],h.prototype,"version",null);r.__decorate([d.config(d.string,"pboOrganization")],h.prototype,"organization",null);r.__decorate([d.config(d.BO,"pboLanguages")],h.prototype,"languages",null);r.__decorate([d.config(d.bd,"hasLimitedPlaybackFunctionality")],h.prototype,"C4a",null);r.__decorate([d.config(d.object(),"pboCommands")],h.prototype,"xcb",null);r.__decorate([d.config(d.object(),"pboCommandsOverride")],h.prototype,"ycb",null);r.__decorate([d.config(d.bd,"pboRecordHistory")],h.prototype,"Hab",null);r.__decorate([d.config(d.Dz,"pboHistorySize")],h.prototype,"Vpa",null);r.__decorate([d.config(d.bd,"pboAddXEsnHeader")],h.prototype,"mTa",null);r.__decorate([d.config(d.bd,"combineManifestAndLicense")],h.prototype,"vv",null);r.__decorate([d.config(d.bd,"enableLicensedManifestForPrefetch")],h.prototype,"qB",null);r.__decorate([d.config(d.bd,"useLdlForPrefetchLicensedManifest")],h.prototype,"FI",null);r.__decorate([d.config(d.bd,"pboUseStudioManifest")],h.prototype,"Rgb",null);r.__decorate([d.config(d.bd,"pboEnableLeanManifest")],h.prototype,"kZa",null);r.__decorate([d.config(d.bd,"useHeaderForRequestNames")],h.prototype,"Kgb",null);r.__decorate([d.config(d.bd,"pboEnableV2OptimizedManifest")],h.prototype,"sZa",null);r.__decorate([d.config(d.bd,"pboEnableManifestPartialHydrationSupport")],h.prototype,"lL",null);r.__decorate([d.config(d.BO,"pboContentPlaygraphTypes")],h.prototype,"sF",null);r.__decorate([d.config(d.bd,"pboEnableUniversalErrorCodes")],h.prototype,"rZa",null);h=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.zl)),r.__param(1,(0,l.l)(g.Yb)),r.__param(2,(0,l.l)(n.DZ)),r.__param(3,(0,l.l)(a.uJ))],h);b.XKa=h;},71976:function(r,b,a){var k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B;function c(C){this.config=C;this.Sx=[];}function l(C,D,E){this.Ea=C;this.UO=D;this.context=E;this.startTime=this.Ea.Kb();}function f(C,D,E,G,F,J,M,L,K,P){this.Hfb=D;this.json=E;this.Ea=G;this.xt=F;this.Rva=J;this.yc=M;this.config=L;this.Jb=K;this.receiver=P;this.log=C.ab("Pbo");L.Hab && (this.Sx=new c(L));this.UO=this.Hfb();}Object.defineProperty(b,"__esModule",{value:!0});b.YKa=void 0;r=a(5163);k=a(22674);d=a(5021);g=a(14543);n=a(87386);h=a(63368);m=a(81918);p=a(34231);q=a(10306);u=a(53085);t=a(71977);w=a(7605);v=a(15160);y=a(85001);x=a(40547);z=a(45385);a=a(15348);A={"shakti-":"akira"};f.prototype.send=function(C,D){var E;E=new l(this.Ea,this.UO,C);this.Sx && this.Sx.append(E);return this.zxa(C,D,E);};f.prototype.zxa=function(C,D,E){var G;G=this;return new Promise(function(F,J){G.retry(C,D).then(function(M){var L,K;G.L2b(M);L=ja(G.p9b(M));K=L.next().value;L=L.next().value;K && (G.receiver.Mva({command:C.Mm,inputs:D,outputs:K}),G.czb(E),F(M));L && (G.receiver.Mva({command:C.Mm,inputs:D,outputs:L}),G.aWa(E,L),J(L));}).catch(function(M){var L;G.receiver.Mva({command:C.Mm,inputs:D,outputs:M});L=G.aWa(E,M);M.Nb && (M.Nb=[M.Nb," ",L].join(""));J(M);});});};f.prototype.L2b=function(C){(C=C.serverTime) && this.Jb.Ec(y.Oda.wcb,(0,d.Ob)(C));};f.prototype.p9b=function(C){var D;!1;D=C.result;if(("deviceCommand" in C)){C=C.deviceCommand;this.log.trace("Received device command '" + C + "'");switch(C){case "reset":D="RESET_DEVICE";break;case "reload":D="RELOAD_DEVICE";break;case "exit":D="EXIT_DEVICE";break;default:(D="FAIL",this.log.error("Unhandled device command '" + C + "'"));}return [,{wC:!0,code:D,detail:{message:"Server sent device action to '" + C + "' device"}}];}if(D)return (!1,[D,void 0]);if(C.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",C),[,{code:C.code,detail:{message:C.message}}]);this.log.error("Response did not contain a result or an error",C);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};f.prototype.Dvb=function(C,D,E){var G;G=this;this.L8b(D,C);this.UO=this.Hfb(E);return this.UO.send(D,E).then(function(F){return {retry:!1,result:z.S0.EXb(G.json,F.body)};}).catch(function(F){var J,M;J=z.S0.jLb(F);M=void 0 !== J?Math.min(J,D.Qwa):D.Qwa;return G.zaa(D,F,C,M)?(J=G.Exb(F,C,M),G.log.warn("Method failed, retrying",Object.assign({Method:D.Mm,Attempt:C + 1,WaitTime:J,MaxRetries:M},G.Kla(F))),Promise.resolve({retry:!0,delay:J,error:F})):Promise.resolve({retry:!1,error:F});});};f.prototype.gJb=function(C){var D,E;if(!this.lia || this.lia.$Wb !== C){D="";E=C;Object.entries(A).find(function(G){var F;F=ja(G);G=F.next().value;F=F.next().value;if(0 === C.indexOf(G))return (D=F,C=C.slice(G.length),!0);});this.lia={XVa:D,Aw:C,$Wb:E};}return this.lia;};f.prototype.L8b=function(C,D){var E,G,F,J;J=C.url.searchParams;J.set(x.gA.vNa,(D + 1).toString());this.config.Kgb.includes(C.Jj)?C.headers[x.zob.Hfa]=C.Jj:J.set(x.gA.Hfa,C.Jj);C=this.gJb(null !== (E=this.config.Aw) && void 0 !== E?E:"");C.XVa && (J.set(x.gA.mDa,C.XVa),C.Aw && J.set(x.gA.uPa,encodeURIComponent(C.Aw)),E=this.xt.qd,(null === E || void 0 === E?0:E.name) && J.set(x.gA.wCa,encodeURIComponent(E.name)),(null === E || void 0 === E?0:E.version) && J.set(x.gA.BCa,encodeURIComponent(E.version)),(null === (G=null === E || void 0 === E?void 0:E.os) || void 0 === G?0:G.name) && J.set(x.gA.kKa,encodeURIComponent(E.os.name)),(null === (F=null === E || void 0 === E?void 0:E.os) || void 0 === F?0:F.version) && J.set(x.gA.lKa,encodeURIComponent(E.os.version)));};f.prototype.retry=function(C,D,E){var G;G=this;E=void 0 === E?0:E;return this.Dvb(E++,C,D).then(function(F){if(F.retry)return G.wait(F.delay).then(function(){return G.retry(C,D,E);});if(F.error)throw F.error;if(void 0 === F.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return F.result;});};f.prototype.zaa=function(C,D,E,G){var F;F=z.S0.qQb(D);if(F && E < G)return !0;F?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:C.Mm,Attempt:E + 1,MaxRetries:G},this.Kla(D))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:C.Mm},this.Kla(D)));return !1;};f.prototype.Exb=function(C,D,E){if(C && C.PC && void 0 !== C.PC.retryAfterSeconds)return (0,d.uh)(C.PC.retryAfterSeconds);C=1E3 * (0 === D?1:D);D=1E3 * Math.pow(2,Math.min(D,E));return (0,d.Ob)(this.Rva.iab(C,D));};f.prototype.wait=function(C){var D;D=this;return new Promise(function(E){D.yc.vk(C || d.Ia,E);});};f.prototype.Kla=function(C){return (0,t.lV)(C)?C:{message:C.message,subCode:C.ic,extCode:C.Wc,mslCode:C.Uy,data:C.data};};f.prototype.czb=function(C){C.EO();};f.prototype.aWa=function(C,D){var E;C.hr(D);if(this.Sx)try{E=this.json.stringify(this.Sx);this.log.error("PBO command history",E);return E;}catch(G){}return "";};B=f;B=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(n.bb)),r.__param(1,(0,k.l)(g.lPa)),r.__param(2,(0,k.l)(h.FD)),r.__param(3,(0,k.l)(m.Lc)),r.__param(4,(0,k.l)(p.Dn)),r.__param(5,(0,k.l)(q.f1)),r.__param(6,(0,k.l)(u.Vh)),r.__param(7,(0,k.l)(w.hx)),r.__param(8,(0,k.l)(v.uda)),r.__param(9,(0,k.l)(a.$ea))],B);b.YKa=B;l.prototype.EO=function(){this.ia=!0;this.elapsedTime=this.Ea.Kb().qa(this.startTime);};l.prototype.hr=function(C){this.ia=!1;this.elapsedTime=this.Ea.Kb().qa(this.startTime);this.J5b=C.ic || C.subCode;this.aHb=C.Wc || C.extCode;};l.prototype.toString=function(){return JSON.stringify(this);};l.prototype.toJSON=function(){var C;C=Object.assign({success:this.ia,method:this.context.Mm,startTime:this.startTime.ea(d.pa),elapsedTime:this.elapsedTime?this.elapsedTime.ea(d.pa):"in progress"},this.UO.cla());return this.ia?C:Object.assign(Object.assign(Object.assign({},C),this.UO.cla()),{subcode:this.J5b,extcode:this.aHb});};c.prototype.append=function(C){this.Sx.push(C);0 < this.config.Vpa && this.Sx.length > this.config.Vpa && this.Sx.shift();};c.prototype.toJSON=function(){return this.Sx;};},45385:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.S0=void 0;l=a(36129);c.qQb=function(f){var k,d;k=f && f.code;d=f && (f.za || f.ic);f=f.Wc !== l.s0.NKa;d=!!d && d >= l.S.WP && d <= l.S.UP && f;return !("RETRY" !== k && "FAIL" !== k) || d;};c.jLb=function(f){var k,d;d=null === (k=null === f || void 0 === f?void 0:f.PC) || void 0 === k?void 0:k.maxRetries;return "number" === typeof d?d:"FAIL" === (null === f || void 0 === f?void 0:f.code)?1:void 0;};c.EXb=function(f,k){var d;if(k){try{d=f.parse(k);}catch(g){throw {wC:!0,code:"FAIL",message:"Unable to parse the response body",data:k};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (f=d.result.find(function(g){return g.error;})))throw f.error;return d;}throw {wC:!0,code:"FAIL",message:"There is no result property on the response"};}throw {wC:!0,code:"FAIL",message:"There is no body property on the response"};};b.S0=c;},23632:function(r,b,a){var l,f,k;function c(d,g){this.AF=g;this.log=d.ab("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.hLa=void 0;r=a(5163);l=a(22674);f=a(87386);a=a(33554);c.prototype.zia=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.TL=function(d){!1;return this.links[d];};k=c;k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.bb)),r.__param(1,(0,l.l)(a.Rw))],k);b.hLa=k;},17108:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ALa=void 0;r=a(5163);a=a(22674);c.prototype.s3b=function(f){this.listener=f;};c.prototype.Mva=function(f){var k;null === (k=this.listener) || void 0 === k?void 0:k.call(this,f);};l=c;l=r.__decorate([(0,a.U)()],l);b.ALa=l;},91918:function(r,b,a){var f,k;function c(d,g,n,h,m,p,q){this.version=d;this.url=g;this.id=n;this.languages=h;this.wb=m;this.cFb=p;this.HUb=q;}function l(d){this.Tg=d;}Object.defineProperty(b,"__esModule",{value:!0});b.DLa=void 0;r=a(5163);f=a(22674);a=a(7605);l.prototype.create=function(d,g,n,h,m){return new c(this.Tg.version,g,d,this.Tg.languages,n,h,m);};k=l;k=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(a.hx))],k);b.DLa=k;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.wb,echo:this.cFb};};},5652:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(22674);c=a(70865);l=a(14543);f=a(60204);k=a(89146);d=a(74429);g=a(34231);b.transports=new r.gd(function(n){n(c.A1).to(d.kPa).ha();n(l.JJa).to(f.IJa);n(l.qOa).to(k.pOa);n(l.lPa).ae(function(h){return function(m){var p;return h.ob.get(c.A1).Aaa(null !== (p=null === m || void 0 === m?void 0:m.HUb) && void 0 !== p?p:g.Ju.CQ)?h.ob.get(l.JJa):h.ob.get(l.qOa);};});});},14543:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lPa="TransportFactorySymbol";b.JJa="MslTransportSymbol";b.qOa="SslTransportSymbol";},70865:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.A1="TransportConfigSymbol";},60204:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p){var q;q=this;this.qC=m;this.profile=p;this.log=h.ab("MslTransport");this.qC().then(function(u){return q.Z8=u;});}Object.defineProperty(b,"__esModule",{value:!0});b.IJa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(97996);d=a(5021);a=a(71501);g={license:!0};c.prototype.send=function(h,m){var p,q;p=this;q={fta:Object.assign({Je:h.Je,log:h.log,profile:this.profile},h.vwb),method:h.Mm,url:h.url.href,body:JSON.stringify(m),timeout:h.timeout.ea(d.pa),Tgb:this.profile,T0b:!g[h.Mm],n8a:!!g[h.Mm],HF:!0,OC:h.Qwa,headers:h.headers};!1;return this.qC().then(function(u){return u.send(q).catch(function(t){var w;if(!t.error)throw (t.ic=t.za || t.ic,t);w=t.error;w.PC=t.PC;p.log.error("Error sending MSL request",{mslCode:w.Uy,subCode:w.ic,data:w.data,message:w.message});throw w;});});};c.prototype.cla=function(){var h;return {userTokens:null === (h=this.Z8) || void 0 === h?void 0:h.hW.getUserIdTokenKeys()};};n=c;n=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.bb)),r.__param(1,(0,l.l)(k.tQ)),r.__param(2,(0,l.l)(a.xJ))],n);b.IJa=n;},89146:function(r,b,a){var l,f,k,d;function c(g,n){this.Je=n;this.log=g.ab("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.pOa=void 0;r=a(5163);l=a(22674);f=a(5021);k=a(87386);a=a(32934);c.prototype.send=function(g,n){var h,m;h=this;m={url:g.url.href,kB:"nq-" + g.Mm,p$a:JSON.stringify(n),g4:g.timeout.ea(f.pa),headers:g.headers,withCredentials:!0,Xr:"pbo"};!1;return new Promise(function(p,q){h.Je.download(m,function(u){u.ia?p(u):q(u);});}).then(function(p){return {status:"success",body:p.content};}).catch(function(p){var q;if(!p.error)throw (p.ic=p.za || p.ic,p);q=p.error;q.PC=p.PC;h.log.error("Error sending SSL request",{subCode:q.ic,data:q.content,message:q.message});throw q;});};c.prototype.cla=function(){return {};};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.bb)),r.__param(1,(0,l.l)(a.Gu))],d);b.pOa=d;},74429:function(r,b,a){var l,f,k,d,g;function c(n){return f.Qe.call(this,n,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.kPa=void 0;r=a(5163);l=a(22674);f=a(64174);k=a(83767);d=a(12501);g=a(34231);da(c,f.Qe);c.prototype.Aaa=function(n){var h,m;h=this.ZO;m=this.vTa;switch(n){case g.Ju.CQ:return h;case g.Ju.QMa:return h && !m;case g.Ju.Zmb:return !1;}};Ya.Object.defineProperties(c.prototype,{ZO:{configurable:!0,enumerable:!0,get:function(){return !0;}},vTa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.bd,"usesMsl")],a.prototype,"ZO",null);r.__decorate([d.config(d.bd,"allowRequestsWithoutMsl")],a.prototype,"vTa",null);a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.zl))],a);b.kPa=a;},21892:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dfa="PlatformEmeSymbol";},75236:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.C1="UserAgentDataPlatformVersionProviderSymbol";},92623:function(r,b,a){var g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C;function c(D,E,G){this.Km=D;this.groups=E;this.prefix=G;D=v(D,E,G);this.info=D.info.bind(D);this.fatal=D.fatal.bind(D);this.error=D.error.bind(D);this.warn=D.warn.bind(D);this.trace=D.trace.bind(D);this.debug=D.debug.bind(D);this.log=D.log.bind(D);}function l(){}function f(){}function k(){return w?w:"0.0.0.0";}function d(D){D({Hic:0,Wjc:0,$gc:0,xgc:0});}g=a(57055);l.prototype.set=function(D,E){m[D]=E;p.save(D,E);};l.prototype.get=function(D,E){if(m.hasOwnProperty(D))return m[D];t.trace("key: " + D + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(D,function(G){G.ia?(m[D]=G.data,E && E(G.data)):m[D]=void 0;});};l.prototype.remove=function(D){p.remove(D);};l.prototype.clear=function(){t.info("WARNING: Calling unimplemented function Storage.clear()");};f.prototype.now=function(){return q();};f.prototype.wa=function(){return u();};f.prototype.bta=function(D){return D + q() - u();};f.prototype.Dta=function(D){return D + u() - q();};c.prototype.qXa=function(D){var E;E=[];this.prefix && Array.isArray(this.prefix)?E.push.apply(E,ba(this.prefix)):this.prefix && E.push(this.prefix);E.push(D);return new c(this.Km,this.groups,E);};y=(function(){var D;D=Promise;D.prototype.fail=Promise.prototype.catch;return D;})();r.exports=function(D){n=D.Y9;v=D.Ui;p=D.storage;m=D.BM;q=D.CLb;u=D.getTime;t=D.fvb;x=D.Uo;C=D.kj;z=D.IP;A=D.SourceBuffer;B=D.MediaSource;w=D.qhc;h=D.jt;return {name:"cadmium",jt:h,Y9:n,storage:new l(),Storage:l,time:new f(),events:new g.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:y,Uo:x,IP:z,jcc:A,MediaSource:B,kj:C,el:{name:k},memory:{Ngc:d},nU:D.nU,x4:D.x4,Mla:D.Mla,ping:function(E){fetch(E).catch(function(){});}};};},87141:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.Qt,minHCInitVideoBitrate:a.iUb,maxInitVideoBitrate:a.Py,minInitAudioBitrate:a.O8,maxInitAudioBitrate:a.u8,minHCInitAudioBitrate:a.hUb,minAcceptableVideoBitrate:a.L8,minRequiredBuffer:a.mC,minPrebufSize:a.Yp,minCheckBufferingCompleteInterval:a.Vsa,rebufferingFactor:a.Zva,useMaxPrebufSize:a.bAa,maxPrebufSize:a.jC,maxRebufSize:a.Asa,maxBufferingTime:a.Ir,minAudioMediaRequestSizeBytes:a.Usa,minVideoMediaRequestSizeBytes:a.Ysa,initialBitrateSelectionCurve:a.i7,initSelectionLowerBound:a.M3a,initSelectionUpperBound:a.N3a,throughputPercentForAudio:a.BY,bandwidthMargin:a.yja,bandwidthMarginContinuous:a.zja,bandwidthMarginCurve:a.Aja,conservBandwidthMargin:a.Zka,switchConfigBasedOnInSessionTput:a.Sya,conservBandwidthMarginTputThreshold:a.ala,conservBandwidthMarginCurve:a.$ka,switchAlgoBasedOnHistIQR:a.Ieb,switchConfigBasedOnThroughputHistory:a.Tya,maxPlayerStateToSwitchConfig:a.W6a,lowEndMarkingCriteria:a.j6a,IQRThreshold:a.hHa,histIQRCalcToUse:a.g3a,maxTotalBufferLevelPerSession:a.UV,highWatermarkLevel:a.b3a,toStableThreshold:a.pfb,toUnstableThreshold:a.kba,skipBitrateInUpswitch:a.mya,watermarkLevelForSkipStart:a.rAa,highStreamRetentionWindow:a.Ppa,lowStreamTransitionWindow:a.Zra,highStreamRetentionWindowUp:a.Rpa,lowStreamTransitionWindowUp:a.bsa,highStreamRetentionWindowDown:a.Qpa,lowStreamTransitionWindowDown:a.$ra,highStreamInfeasibleBitrateFactor:a.Opa,lowestBufForUpswitch:a.Ky,lockPeriodAfterDownswitch:a.EV,lowWatermarkLevel:a.dsa,lowestWaterMarkLevel:a.Ly,lowestWaterMarkLevelBufferRelaxed:a.esa,mediaRate:a.E8,maxTrailingBufferLen:a.LM,audioBufferTargetAvailableSize:a.nja,videoBufferTargetAvailableSize:a.gAa,maxVideoTrailingBufferSize:a.d7a,maxAudioTrailingBufferSize:a.I6a,fastUpswitchFactor:a.v5,fastDownswitchFactor:a.kna,maxMediaBufferAllowed:a.QG,simulatePartialBlocks:a.zdb,simulateBufferFull:a.ydb,considerConnectTime:a.bla,connectTimeMultiplier:a.Yka,lowGradeModeEnterThreshold:a.zSb,lowGradeModeExitThreshold:a.ASb,maxDomainFailureWaitDuration:a.L6a,maxAttemptsOnFailure:a.q8,enableMaxAttemptsOnFailure:a.Bma,exhaustAllLocationsForFailure:a.JZa,maxNetworkErrorsDuringBuffering:a.S6a,maxBufferingTimeAllowedWithNetworkError:a.r8,fastDomainSelectionBwThreshold:a.WZa,throughputProbingEnterThreshold:a.Zeb,throughputProbingExitThreshold:a.$eb,locationProbingTimeout:a.$5a,finalLocationSelectionBwThreshold:a.d_a,throughputHighConfidenceLevel:a.Xeb,throughputLowConfidenceLevel:a.Yeb,locationStatisticsUpdateInterval:a.Lra,enablePerfBasedLocationSwitch:a.oZa,probeServerWhenError:a.wH,probeRequestTimeoutMilliseconds:a.yva,allowSwitchback:a.pS,probeDetailDenominator:a.I$a,maxDelayToReportFailure:a.s8,countGapInBuffer:a.Yzb,bufferThresholdForAbort:a.Nwb,allowCallToStreamSelector:a.Bub,pipelineScheduleTimeoutMs:a.$Xb,maxPartialBuffersAtBufferingStart:a.KM,maxActiveRequestsSABCell100:a.G6a,maxStreamingSkew:a.wTb,maxPendingBufferPercentage:a.pTb,headerRequestSize:a.W6,estimateHeaderSize:a.Qma,minBufferLenForHeaderDownloading:a.dW,numExtraFragmentsAllowed:a.BVb,pipelineEnabled:a.un,maxParallelConnections:a.ysa,socketReceiveBufferSize:a.Hdb,audioSocketReceiveBufferSize:a.s3,videoSocketReceiveBufferSize:a.Jba,headersSocketReceiveBufferSize:a.Mpa,updatePtsIntervalMs:a.z8b,bufferTraceDenominator:a.Qwb,bufferLevelNotifyIntervalMs:a.KUa,aseReportDenominator:a.vS,aseReportIntervalMs:a.ija,enableAbortTesting:a.sFb,abortRequestFrequency:a.htb,streamingStatusIntervalMs:a.B5b,prebufferTimeLimit:a.XW,minBufferLevelForTrackSwitch:a.u7a,penaltyFactorForLongConnectTime:a.Kua,longConnectTimeThreshold:a.Wra,additionalBufferingLongConnectTime:a.Kia,additionalBufferingPerFailure:a.Lia,rebufferCheckDuration:a.iX,enableLookaheadHints:a.LFb,lookaheadFragments:a.xSb,enableOCSideChannel:a.mL,OCSCBufferQuantizationConfig:a.M0,updateDrmRequestOnNetworkFailure:a.ggb,deferAseScheduling:a.PDb,maxDiffAudioVideoEndPtsMs:a.fTb,defaultHeaderCacheSize:a.Sla,defaultHeaderCacheDataPrefetchMs:a.Rla,neverWipeHeaderCache:a.$7a,networkFailureResetWaitMs:a.jta,networkFailureAbandonMs:a.ita,maxThrottledNetworkFailures:a.x8,throttledNetworkFailureThresholdMs:a.cba,lowThroughputThreshold:a.csa,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.Zma,mp4ParsingInNative:a.EUb,sourceBufferInOrderAppend:a.R4b,requireAudioStreamToEncompassVideo:a.XN,allowAudioToStreamPastVideo:a.Aub,enableManagerDebugTraces:a.lZa,managerDebugMessageInterval:a.t6a,managerDebugMessageCount:a.s6a,bufferThresholdToSwitchToSingleConnMs:a.Pwb,bufferThresholdToSwitchToParallelConnMs:a.Owb,netIntrStoreWindow:a.NUb,minNetIntrDuration:a.kUb,fastHistoricBandwidthExpirationTime:a.kHb,bandwidthExpirationTime:a.iwb,failureExpirationTime:a.jHb,historyTimeOfDayGranularity:a.bOb,expandDownloadTime:a.SGb,minimumMeasurementTime:a.tUb,minimumMeasurementBytes:a.sUb,throughputMeasurementTimeout:a.I6b,initThroughputMeasureDataSize:a.bPb,throughputMeasureWindow:a.H6b,throughputIQRMeasureWindow:a.G6b,IQRBucketizerWindow:a.$lb,connectTimeHalflife:a.Bzb,responseTimeHalflife:a.B1b,historicBandwidthUpdateInterval:a.aOb,throughputWarmupTime:a.M6b,minimumBufferToStopProbing:a.rUb,throughputPredictor:a.J6b,ase_stream_selector:a.jvb,liveStreamSelectorAlgorithm:a.j8,enableFilters:a.CFb,filterDefinitionOverrides:a.AHb,defaultFilter:a.zDb,secondaryFilter:a.q2b,defaultFilterDefinitions:a.XXa,initBitrateSelectorAlgorithm:a.sqa,bufferingSelectorAlgorithm:a.Nja,ase_ls_failure_simulation:a.fDb,ase_dump_fragments:a.Ila,ase_location_history:a.Jla,ase_throughput:a.OXa,ase_simulate_verbose:a.gDb,secondThroughputEstimator:a.oxa,secondThroughputMeasureWindowInMs:a.ccb,marginPredictor:a.osa,networkMeasurementGranularity:a.kta,HistoricalTDigestConfig:a.zGa,maxIQRSamples:a.Q6a,minIQRSamples:a.x7a,periodicHistoryPersistMs:a.V9,saveVideoBitrateMs:a.caa,needMinimumNetworkConfidence:a.hta,biasTowardHistoricalThroughput:a.Dja,maxFastPlayBufferInMs:a.usa,maxFastPlayBitThreshold:a.N6a,minAudioMediaRequestDuration:a.Tv,minVideoMediaRequestDuration:a.Sy,minAudioMediaRequestDurationCache:a.Tv,minVideoMediaRequestDurationCache:a.Sy,addHeaderDataToNetworkMonitor:a.yia,hindsightDenominator:a.e3a,hindsightDebugDenominator:a.d3a,hindsightParam:a.f3a,minimumTimeBeforeBranchDecision:a.U8,minimumTimeBeforeDelayedSeekToQueuedSegment:a.G7a,enableSessionHistoryReport:a.pZa,earlyStageEstimatePeriod:a.NYa,lateStageEstimatePeriod:a.D5a,maxNumSessionHistoryStored:a.T6a,minSessionHistoryDuration:a.B7a,appendMediaRequestOnComplete:a.HTa,waitForDrmToAppendMedia:a.mAa,forceAppendHeadersAfterDrm:a.Ina,startMonitorOnLoadStart:a.tya,reportFailedRequestsToNetworkMonitor:a.twa,reappendRequestsOnSkip:a.I_b,maxActiveRequestsPerSession:a.RV,limitAudioDiscountByMaxAudioBitrate:a.Cra,appendFirstHeaderOnComplete:a.Wia,maxAudioFragmentOverlapMs:0,editVideoFragments:a.iFb,declareBufferingCompleteAtSegmentEnd:a.QXa,applyProfileTimestampOffset:a.uS,profileTimestampOffsets:a.r$,applyProfileStreamingOffset:a.Hm,mediaSourceSupportsNegativePts:a.G8,requireDownloadDataAtBuffering:a.Dwa,requireSetupConnectionDuringBuffering:a.Ewa,recordFirstFragmentOnSubBranchCreate:a.Gab,earlyAppendSingleChildBranch:a.MYa,selectStartingVMAFMethod:a.iO,activateSelectStartingVMAF:a.dS,minStartingVideoVMAF:a.Rt,minAcceptableVMAF:a.cW,minAllowedVmaf:a.WG,alwaysNotifyEOSForPlaygraph:a.Iub,enableNewAse:a.PFb,useNewApi:a.V8b,enableCombinedPlaygraphs:a.yT,enableAdPlaygraphs:a.jL,retainSbrOnFade:a.S$,excludedContentPlaygraphIds:a.$ma,enableDiscontiguousBuffering:a.e5,forceImmediateTransitionTypeForTitles:a.Lna,forceImmediateTransitionExitZone:a.Kna,useBufferSizeLimiter:a.XY,useLegacyFragmentRounding:a.U8b,maxAllowedOutstandingRequests:a.p8,alwaysRunUnderflowTimer:a.qK,minStreamableConcurrencyWindow:a.Wsa,streamableConcurrencyFactor:a.Fya,bufferingConcurrencyWindow:a.KS,singleStreamablePerBranch:a.A4b,enableResolutionVMAFStreamFilter:a.h5,resolutionVMAFCappingRuleList:a.Q$,percentCapTitlesForResolutionVMAFStreamFilter:a.Nua,useExitZones:a.aAa,perFragmentVMAFConfig:a.tN,enableInitialTputLogging:a.iZa,maxResponsesInitialTput:a.rTb,paddingDurationMs:a.vua,paddingMediaType:a.wua,supportsPtsChanged:a.Geb,ciPredictorSource:a.zka,experimentalFilter:a.TGb,simulationDurationStrategy:a.kya,liveTargetBufferDuration:a.KG,liveEdgeCushion:a.f8,liveSwitchStreamsOnErrorInPipeline:a.Hra,liveAccurateFragmentTimestamps:a.e8,enableMissingSegmentsDetection:a.BT,enableMissingSegmentsReplacement:a.CT,liveMaxTemporaryRequestErrorRetries:a.PRb,lowerStreamLiveMaxTemporaryRequestErrorRetries:a.BSb,explorationPhaseLiveMaxTemporaryRequestErrorRetries:a.XGb};};},31594:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,E,G,F,J,M,L,K,P,H,I,N;Object.defineProperty(b,"__esModule",{value:!0});b.T5a=void 0;c=a(28131);l=a(38385);f=a(56371);k=a(33194);d=a(36149);g=a(75950);n=a(40076);h=a(51259);m=a(62945);p=a(66393);q=a(6498);u=a(51770);t=a(7826);w=a(82656);v=a(21009);y=a(30698);x=a(63341);z=a(32754);A=a(72614);B=a(1891);C=a(49594);D=a(28838);E=a(99584);G=a(92692);F=a(12653);J=a(31360);M=a(65945);L=a(18880);K=a(5652);P=a(43367);H=a(87886);I=a(87284);N=a(81737);b.T5a=function(R){R.load(c.Ux,n.pI,l.i6a,h.Qm,f.J7a,k.O,d.ghb,g.h3a,m.storage,p.wK,q.YUa,u.x6a,t.qC,w.Tk,v.h6a,y.Z7a,x.S_a,z.Z$a,A.nH,B.KYa,C.TYa,D.de,E.ed,G.fb,F.R7a,J.I9a,M.j,L.kWa,K.transports,P.Yk,H.Dg,I.bUa,N.Y);};},83989:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.ac=void 0;r=a(22674);c=a(71501);l=a(88351);f=a(49594);k=a(83810);d=a(51120);g=a(31594);a=a(99198);b.ac=new r.XZ({$H:!0});(0,g.T5a)(b.ac);b.ac.load(l.platform);b.ac.load(k.config);f.fL.load(d.UYa);b.ac.load(a.DTa);b.ac.load(a.profile);b.ac.bind(c.uHa).pl(b.ac);},76892:function(r,b,a){var l,f,k,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.zPa=void 0;r=a(5163);k=a(22674);a=a(22365);d={rV:!1,reason:"uninitialized"};null === (f=null === (l=null === a.Ee || void 0 === a.Ee?void 0:a.Ee.userAgentData) || void 0 === l?void 0:l.getHighEntropyValues) || void 0 === f?void 0:f.call(l,["platformVersion"]).then(function(g){d=(g=g.platformVersion)?{rV:!0,version:g}:{rV:!1,reason:"undefined"};}).catch(function(){d={rV:!1,reason:"exception"};});Ya.Object.defineProperties(c.prototype,{platformVersion:{configurable:!0,enumerable:!0,get:function(){return d;}}});l=c;l=r.__decorate([(0,k.U)()],l);b.zPa=l;},25066:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.w0a=b.v0a=b.x0a=void 0;c=a(56800);l=a(17612);f=a(75568);k=a(88195);d=a(64232);b.x0a=function(g){return Object.assign(Object.assign({},(0,d.ML)()),{dr:g.N4a?"T":g.fV?"C":"M",bo:g.N4a?"NFCDTS-01-":g.Dy?"NFCDCH-02-":g.XB?"NFCDCH-MC-":g.fV?"NFCDCH-01-":g.q7?"NFCDCH-AP-":g.dV?"NFCDCH-AT-":g.qM?"NFCDCH-PH-":"NFCDCH-LX-",jB:g.fV?"chromeos-cadmium":"chrome-cadmium"});};b.v0a=function(g){var n,h,m,p,q,u;n=(0,d.LL)();h=Object.assign(Object.assign({},n),{iL:!0,vv:!0,qB:!0,FI:!0});m=[f.H.G_,f.H.E_,f.H.SQ];p=[f.H.F_];q={minimumCores:3};u={minimumCores:5};g.Dy && (h.Qh=[].concat(ba((0,k.eN).apply(null,[n.Qh].concat(ba(m)))),ba((0,k.Eg)([f.H.yu,f.H.zu].concat(ba(m),[f.H.Nz,f.H.Oz]),u))),h.Dr=[].concat(ba((0,k.eN).apply(null,[n.Dr].concat(ba(p)))),ba((0,k.Eg)([].concat(ba(p)),u))),115 <= g.Hl && (h.Qh=[].concat(ba(h.Qh),ba((0,k.Eg)([].concat(ba(f.Cc.TZ),ba(f.Cc.SZ),ba(f.Cc.RZ),ba(f.Cc.QZ),ba(f.Cc.PZ)))))));g.XB && (h.Qh=[].concat(ba((0,k.eN).apply(null,[n.Qh].concat(ba(m)))),ba((0,k.Eg)([f.H.yu,f.H.zu].concat(ba(m),[f.H.Nz,f.H.Oz]),q))),h.Dr=[].concat(ba((0,k.eN).apply(null,[n.Dr].concat(ba(p)))),ba((0,k.Eg)([].concat(ba(p)),q))));g.fV && (h.Qh=(0,k.Eg)([].concat(ba(f.Cc.OZ),ba(f.Cc.wZ),ba(f.Cc.Xba),ba(f.Cc.TZ),ba(f.Cc.RZ),ba(f.Cc.SZ),ba(f.Cc.PZ),ba(f.Cc.QZ))),h.Dr=(0,k.Eg)([].concat(ba(f.Cc.vZ),ba(f.Cc.Hca),ba(f.Cc.Gca))));g.Pqa && (h.Qh=[].concat(ba((0,k.eN).apply(null,[n.Qh].concat(ba(m)))),ba((0,k.Eg)([f.H.yu,f.H.zu].concat(ba(m),[f.H.Nz,f.H.Oz]),u))));return h;};b.w0a=function(g){var n;n={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.Al.TI,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,useEncryptedEvent:!1,applyProfileStreamingOffset:!0};80 <= g.Hl && (n=Object.assign(Object.assign({},n),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));g.dV && (n=Object.assign(Object.assign({},n),{enableFullHdForWidevineL1:!0}));g.fV && (n=Object.assign(Object.assign({},n),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,enableFullHdForWidevineL1:!0}),89 <= g.Hl && (n=Object.assign(Object.assign({},n),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));115 <= g.Hl && g.Dy && (n=Object.assign(Object.assign({},n),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,microsoftClearLeadRequiresSwdrm:!0,microsoftHwdrmRequiresHevc:!0,microsoftHwdrmRequiresQHD:!0,enableKeySystemRestrictor:!0,enableCachedErrors:!0,enableFullHdForWidevineL1:!0,enableHEVC:!0,enableHdcp:!0,enableHDR:!0,validateKeySystemAccess:!0,keySystemList:[l.hb.YPa,l.hb.UQ]}));if(g.Dy || g.XB)n=Object.assign(Object.assign({},n),{enableFullHdForWidevineL3:!0});g.Dy && 99 <= g.Hl && (n=Object.assign(Object.assign({},n),{enableAV1:!0}));g.XB && 113 <= g.Hl && (n=Object.assign(Object.assign({},n),{enableAV1:!0}));g.Pqa && 113 <= g.Hl && (n=Object.assign(Object.assign({},n),{enableAV1:!0}));return n;};},30837:function(r,b,a){var l,f,k,d,g,n;function c(){var h,m,p;p=null === (h=ob.MSMediaKeys) || void 0 === h?void 0:h.isTypeSupported(f.hb.wd,g.fd.Ssa);h=p || (null === (m=ob.MSMediaKeys) || void 0 === m?void 0:m.isTypeSupported(f.hb.SD,g.fd.Ssa));return {F4a:p,E4a:h};}Object.defineProperty(b,"__esModule",{value:!0});b.L0a=b.mKb=b.K0a=b.M0a=void 0;l=a(56800);f=a(17612);k=a(75568);d=a(64232);g=a(73796);n=a(88195);b.M0a=function(h){return Object.assign(Object.assign({},(0,d.ML)()),{dr:h.By?"D":"H",bo:h.By?h.XB?"NFCDIE-04-":h.Pqa?"NFCDIE-LX-":h.q7?"NFCDIE-AP-":h.dV?"NFCDIE-AT-":h.qM?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",jB:"edge-cadmium",V2:!1});};b.K0a=function(){var h,m,p;h=Object.assign(Object.assign({},(0,d.LL)()),{ZE:(0,n.Eg)([k.Ed.zD,k.Ed.AD,k.Ed.DP,k.Ed.EP]),Qh:(0,n.Eg)([].concat(ba(k.Cc.OZ),ba(k.Cc.wZ),ba(k.Cc.Xba),ba(k.Cc.TZ),ba(k.Cc.RZ),ba(k.Cc.SZ),ba(k.Cc.PZ),ba(k.Cc.QZ),ba(k.Cc.KCa),ba(k.Cc.LCa),ba(k.Cc.MCa))),Dr:(0,n.Eg)([].concat(ba(k.Cc.vZ),ba(k.Cc.Hca),ba(k.Cc.Gca))),Yl:void 0,SU:!1});m=c();p=m.F4a;m.E4a || (h.vv=!0,h.qB=!0,h.FI=!0);h.sF=p?[]:["start"];return h;};b.mKb=c;b.L0a=function(h){var m,p,q,u,t,w,v;m=h.hV;p=h.By;q=h.Dy;u=c();t=u.E4a;w=u.F4a;u={nudgeSourceBuffer:!0,audioCapabilityDetectorType:l.Bu.bx,videoCapabilityDetectorType:l.Al.bx,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000",enableCombinedPlaygraphs:w?!1:!0,enableAdPlaygraphs:w?!1:!0,forceAppendEncryptedStreamHeaderFirst:!0,retainSbrOnFade:!0};w={prepareCadmium:!0,enableLdlPrefetch:!t || w,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};v={audioCapabilityDetectorType:l.Bu.Pw,videoCapabilityDetectorType:l.Al.TI,microsoftScreenSizeFilterEnabled:!1,keySystemList:[f.hb.UQ],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:(0,n.Eg)([k.Ed.zD,k.Ed.AD]),videoProfiles:(0,n.Eg)([k.H.xD,k.H.yD,k.H.A_,k.H.C_]),liveVideoProfiles:(0,n.Eg)([k.H.B_,k.H.D_]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};m && (14 <= h.Hl && (u=Object.assign(Object.assign(Object.assign({},u),w),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= h.Hl && (u=Object.assign(Object.assign({},u),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= h.Hl && (u=Object.assign(Object.assign({},u),{microsoftHwdrmRequiresHevc:!1})),17 <= h.Hl && (u=Object.assign(Object.assign({},u),{enableDDPlusAtmos:!0})));p && (u=Object.assign(Object.assign(Object.assign({},u),w),{useEncryptedEvent:!1}),q && (u=Object.assign(Object.assign({},u),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),t?(u=Object.assign(Object.assign({},u),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[f.hb.efa,f.hb.RLa]}),94 === h.Hl && (u=Object.assign(Object.assign({},u),{enableHWDRM:!1})),102 <= h.Hl && (u=Object.assign(Object.assign({},u),{useTypescriptEme:!0,validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0,enableCachedErrors:!0,enableKeySystemRestrictor:!0}))):u=Object.assign(Object.assign({},u),v));return u;};},54534:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.S0a=b.R0a=b.T0a=void 0;c=a(56800);l=a(75568);f=a(88195);k=a(64232);b.T0a=function(d){return Object.assign(Object.assign({},(0,k.ML)()),{dr:"F",bo:d.XB?"NFCDFF-MC-":d.Dy?"NFCDFF-02-":d.q7?"NFCDFF-AP-":d.dV?"NFCDFF-AT-":d.qM?"NFCDFF-PH-":"NFCDFF-LX-",jB:"firefox-cadmium"});};b.R0a=function(d){var g,n;g=(0,k.LL)();n=Object.assign(Object.assign({},g),{iL:!0,vv:!0,qB:!0,FI:!0});d.Dy && (n.Qh=[].concat(ba(g.Qh),ba((0,f.Eg)([l.H.yu,l.H.zu],{minimumCores:5,restrictToUILabels:["mini-modal-horizontal"]}))));d.XB && (n.Qh=[].concat(ba(g.Qh),ba((0,f.Eg)([l.H.yu,l.H.zu],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));return n;};b.S0a=function(d){var g;g={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,videoCapabilityDetectorType:c.Al.TI,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0,useEncryptedEvent:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0,applyProfileStreamingOffset:!0};(d.Dy || d.XB) && 95 <= d.Hl && (g=Object.assign(Object.assign({},g),{enableAV1:!0}));return g;};},64232:function(r,b,a){var l,f,k,d;function c(g,n){var h,m,p,q,u,t;h=g.Ny;m=g.UM;g=g.qN;p=n.Ny;q=n.UM;n=n.qN;u=void 0 === h || void 0 === p;t=u || void 0 === m || void 0 === q;return u || h > p || h === p && (t || m > q) || h === p && m === q && (t || void 0 === g || void 0 === n || g >= n);}Object.defineProperty(b,"__esModule",{value:!0});b.LL=b.ML=b.GQb=b.eV=b.kV=void 0;l=a(5021);f=a(17612);k=a(75568);d=a(88195);b.kV=function(g,n,h,m){return c({Ny:g.aXb,UM:g.bXb,qN:g.cXb},{Ny:n,UM:h,qN:m});};b.eV=function(g,n){return c({Ny:g.Hl},{Ny:n});};b.GQb=c;b.ML=function(){return {version:"6.0043.369.911",Z8:!0,IL:!0,ama:"browser",YXa:["en-US"],Sra:"",mT:"cadmium",Wgb:!0,V2:!0};};b.LL=function(){return {ZE:(0,d.Eg)([k.Ed.zD,k.Ed.AD]),Qh:(0,d.Eg)([].concat(ba(k.Cc.OZ),ba(k.Cc.wZ),ba(k.Cc.Xba))),Dr:(0,d.Eg)([].concat(ba(k.Cc.vZ))),Yl:f.hb.UQ,Oy:(0,l.Ob)(31E3)};};},20447:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.E1a=b.D1a=b.F1a=void 0;c=a(56800);l=a(75568);f=a(88195);k=a(64232);b.F1a=function(d){return Object.assign(Object.assign({},(0,k.ML)()),{dr:"O",bo:d.q7?"NFCDOP-AP-":d.dV?"NFCDOP-AT-":d.qM?"NFCDOP-PH-":"NFCDOP-01-",jB:"opera-cadmium"});};b.D1a=function(){var d,g;d=(0,k.LL)();g=Object.assign(Object.assign({},d),{iL:!0,vv:!0,qB:!0,FI:!0});g.Qh=[].concat(ba(d.Qh),ba((0,f.Eg)([l.H.yu,l.H.zu,l.H.Nz,l.H.Oz],{minimumCores:5})));return g;};b.E1a=function(d){var g;g={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.Al.TI,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1,retainSbrOnFade:!0};67 <= d.Hl && (g=Object.assign(Object.assign({},g),{enableVP9:!0,enableAV1:!0,enablePRK:!0}));return g;};},22224:function(r,b,a){var l,f,k,d,g,n;function c(h){var m;m=Object.assign(Object.assign({},(0,n.LL)()),{ZE:(0,g.Eg)([d.Ed.zD,d.Ed.AD,d.Ed.qx]),Qh:(0,g.Eg)([].concat(ba(d.Cc.OZ),ba(d.Cc.wZ),ba(d.Cc.TZ),ba(d.Cc.RZ),ba(d.Cc.SZ),ba(d.Cc.PZ),ba(d.Cc.QZ),ba(d.Cc.KCa),ba(d.Cc.LCa),ba(d.Cc.MCa))),Dr:(0,g.Eg)([].concat(ba(d.Cc.vZ),ba(d.Cc.Hca),ba(d.Cc.Gca))),Yl:k.hb.alb,Oy:(0,l.Ob)(7E3),sF:[]});(0,n.eV)(h,14) && (m.sF=["start"]);return m;}Object.defineProperty(b,"__esModule",{value:!0});b.$1a=b.Z1a=b.b1a=b.a2a=void 0;l=a(5021);f=a(56800);k=a(17612);d=a(75568);g=a(88195);n=a(64232);b.a2a=function(h){return Object.assign(Object.assign({},(0,n.ML)()),{dr:"S",bo:h.qM?"NFCDSF-PH-":"NFCDSF-01-",jB:"safari-cadmium"});};b.b1a=function(h){return Object.assign(Object.assign({},c(h)),{wba:!0,lL:!1,ou:[d.ym.G1]});};b.Z1a=c;b.$1a=function(h){var m;m={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:f.Al.Pw,enableSeamless:!0,enableCombinedPlaygraphs:!1,enableAdPlaygraphs:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(0,n.eV)(h,14) && (m=Object.assign(Object.assign({},m),{enableCombinedPlaygraphs:!0,enableAdPlaygraphs:!0,forceAppendEncryptedStreamHeaderFirst:!1}));(0,n.kV)(h,10,12,2) && (m=Object.assign(Object.assign({},m),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,n.kV)(h,10,13,6) && (m=Object.assign(Object.assign({},m),{enableLdlPrefetch:!0}));(0,n.kV)(h,10,15,5) && (m=Object.assign(Object.assign({},m),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,n.kV)(h,10,15,6) && (m=Object.assign(Object.assign({},m),{keyStatusFilterEnabled:!0,enableUHD:!0}));(0,n.eV)(h,9) && (m=Object.assign(Object.assign({},m),{maxDecoderBufferMilliseconds:31E3}));(0,n.eV)(h,16) && (m=Object.assign(Object.assign({},m),{enableAV1:!0}));return m;};},89397:function(r,b,a){var d,g,n,h,m,p,q,u;function c(){}function l(t){this.qd=t;}function f(t){var w;w=g.cfa.call(this) || this;t.qM?Object.assign(w,(0,u.b1a)(t)):t.w7?Object.assign(w,(0,q.R0a)(t)):t.Tqa?Object.assign(w,(0,p.D1a)()):t.By || t.hV?Object.assign(w,(0,m.K0a)()):t.nV?Object.assign(w,(0,u.Z1a)(t)):Object.assign(w,(0,h.v0a)(t));return w;}function k(t){this.data=t.w7?(0,q.T0a)(t):t.Tqa?(0,p.F1a)(t):t.By || t.hV?(0,m.M0a)(t):t.nV?(0,u.a2a)(t):(0,h.x0a)(t);}Object.defineProperty(b,"__esModule",{value:!0});b.ACa=b.zCa=b.yCa=b.xCa=void 0;r=a(5163);d=a(22674);g=a(27081);n=a(22816);h=a(25066);m=a(30837);p=a(20447);q=a(54534);u=a(22224);Ya.Object.defineProperties(k.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},Z8:{configurable:!0,enumerable:!0,get:function(){return this.data.Z8;}},dr:{configurable:!0,enumerable:!0,get:function(){return this.data.dr;}},bo:{configurable:!0,enumerable:!0,get:function(){return this.data.bo;}},IL:{configurable:!0,enumerable:!0,get:function(){return this.data.IL;}},jB:{configurable:!0,enumerable:!0,get:function(){return this.data.jB;}},ama:{configurable:!0,enumerable:!0,get:function(){return this.data.ama;}},YXa:{configurable:!0,enumerable:!0,get:function(){return this.data.YXa;}},Sra:{configurable:!0,enumerable:!0,get:function(){return this.data.Sra;}},mT:{configurable:!0,enumerable:!0,get:function(){return this.data.mT;}},Wgb:{configurable:!0,enumerable:!0,get:function(){return this.data.Wgb;}},V2:{configurable:!0,enumerable:!0,get:function(){return this.data.V2;}}});a=k;a=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(n.rD))],a);b.xCa=a;da(f,g.cfa);a=f;a=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(n.rD))],a);b.yCa=a;l.prototype.apply=function(){this.qd.w7?Object.assign(this,(0,q.S0a)(this.qd)):this.qd.Tqa?Object.assign(this,(0,p.E1a)(this.qd)):this.qd.By || this.qd.hV?Object.assign(this,(0,m.L0a)(this.qd)):this.qd.nV?Object.assign(this,(0,u.$1a)(this.qd)):Object.assign(this,(0,h.w0a)(this.qd));return this;};a=l;a=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(n.rD))],a);b.zCa=a;c=r.__decorate([(0,d.U)()],c);b.ACa=c;},88351:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.platform=void 0;r=a(22674);c=a(22816);l=a(91581);f=a(5614);k=a(52033);d=a(7748);g=a(71834);n=a(89397);h=a(21892);b.platform=new r.gd(function(m){m(l.Hn).to(n.xCa).ha();m(f.uJ).to(n.yCa).ha();m(k.KLa).to(n.zCa).ha();m(l.V0).to(n.ACa).ha();m(h.dfa).ae(function(p){return function(){var q;q=p.ob.get(c.rD);return q.By || q.hV?{qz:function(u,t,w){return new g.pga(u,t,w);},request:d.cQa}:q.nV?{qz:function(u,t,w){return new (a(99813))(u,t,w);},request:a(10256)}:{};};});});},80966:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hca={Dtb:"adStart",NSa:"adProgress",Mec:"adComplete",Etb:"adStop"};b.NAa={KA:"adBreakComplete"};b.ica={error:"error",RGb:"exit",Xfb:"unload"};b.VAa="AdImpressionLoggerrFactorySymbol";},70068:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Aa="AdManagerFactorySymbol";},1200:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nP="AdTrackerBaseSymbol";},25540:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jBa="AdFocusMonitorSymbol";},12826:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eCa="BandwidthMeterFactorySymbol";},65945:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,E,G,F,J,M,L,K,P,H,I,N,R,X,ha,ta,la,xa,Ba,La,Za,ab,Z,na,Ha,Sa,Q,ra,qa,O,ia,va,Oa,eb,Xa,qb,zb,Ta,bb,kb,sb;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(22674);c=a(77601);l=a(78388);f=a(18181);k=a(12826);d=a(31085);g=a(41106);n=a(51038);h=a(24722);m=a(27104);p=a(4203);q=a(81918);u=a(90597);t=a(42207);w=a(87386);v=a(65090);y=a(61861);x=a(37025);z=a(5021);A=a(89561);B=a(25837);C=a(65106);D=a(13889);E=a(15160);G=a(92205);F=a(52200);J=a(45842);M=a(74870);L=a(95162);K=a(33554);P=a(2160);H=a(67650);I=a(25138);N=a(77134);R=a(34231);X=a(93367);ha=a(82557);ta=a(85405);la=a(56800);xa=a(39551);Ba=a(69334);La=a(70068);Za=a(89540);ab=a(30869);Z=a(49917);na=a(80966);Ha=a(72160);Sa=a(54952);Q=a(97635);ra=a(74834);qa=a(25540);O=a(38508);ia=a(30873);va=a(78312);Oa=a(53085);eb=a(63013);Xa=a(14177);qb=a(56386);zb=a(1200);Ta=a(24711);bb=a(13673);kb=a(31099);sb=a(67590);b.j=new r.gd(function(pb){pb(H.mfa).to(I.eMa).ha();pb(ta.BBa).ae(function(Cb){var Ab;Ab=Cb.ob;return function(Kb,Pb){return new (a(92720).iea)(Kb,Pb,Ab.get(u.Ow),Ab.get(E.l_),Ab.get(sb.tca));};});pb(c.mPa).ae(function(Cb){var Ab;Ab=Cb.ob;return function(Kb,Pb,Xb,Jb,Qb,Nb,Zb,nc,Ac){return new (a(37517).z)(Ab.get(A.rPa),Kb,Pb,Xb,Jb,Qb,Nb,Zb,nc,Ac);};});pb(A.rPa).to(B.qPa).ha();pb(l.pPa).to(f.oPa).ha();pb(n.$La).to(h.ZLa).ha();pb(Q.ZNa).to(ra.YNa).ha();pb(X.uNa).to(ha.tNa);pb(X.sNa).mfb(X.uNa);pb(g.jEa).ae(function(Cb){var Ab;Ab=Cb.ob;return function(Kb){return new (a(11372).tda)(Ab.get(E.iEa),Ab.get(u.Ow),Ab.get(q.Lc),Kb);};});pb(k.eCa).ae(function(){return function(Cb){return new d.fCa(Cb);};});pb(xa.pfa).ae(function(Cb){var Ab;Ab=Cb.ob;return function(Kb){return new Ba.kMa(Kb,Ab.get(w.bb),Ab.get(t.Uf));};});pb(na.VAa).ae(function(Cb){var Ab;Ab=Cb.ob;return function(Kb){return new Ha.WAa(Kb,Ab.get(w.bb).ab("AdImpressionLogger"),Ab.get(ab.cg),Ab.get(p.Yb),Ab.get(q.Lc),Ab.get(Z.gca),Ab.get(Z.fca));};});pb(qa.jBa).to(O.iBa);pb(zb.nP).to(eb.bBa);pb(zb.nP).to(qb.gBa);pb(zb.nP).to(Ta.kBa);pb(zb.nP).to(Xa.lBa);pb(La.$Aa).ae(function(Cb){var Ab;Ab=Cb.ob;return function(Kb,Pb){return new Za.aBa(Kb,Pb,Ab.get(w.bb).ab("AdManager"),Ab.get(p.Yb),Ab.get(Q.ZNa),Ab.getAll(zb.nP),Ab.get(na.VAa),function(Xb){return new Sa.ZAa(Xb);},Ab.get(qa.jBa));};});pb(v.SLa).ae(function(Cb){var Ab;Ab=Cb.ob;return function(Kb){return new m.TLa(Kb,Ab.get(w.bb),Ab.get(p.Yb),Ab.get(t.Uf),Ab.get(u.Ow),Ab.get(xa.pfa));};});pb(ia.UHa).ae(function(Cb){var Ab;Ab=Cb.ob;return function(Kb,Pb){return new va.VHa(Ab.get(p.Yb),Ab.get(bb.WHa),Ab.get(Oa.Vh),Ab.get(w.bb),Kb,Pb);};});pb(bb.WHa).ae(function(Cb){var Ab;Ab=Cb.ob;return function(Kb){return new kb.XHa(Ab.get(p.Yb),Ab.get(w.bb),Ab.get(J.ZD),Kb);};});pb(y.ofa).ae(function(Cb){var Ab;Ab=Cb.ob;return function(Kb,Pb,Xb,Jb,Qb,Nb,Zb,nc,Ac,Pc,Yd){return new x.gMa(Kb,Pb,Xb,Jb,Qb,Nb,Zb,nc,Ac,Ab.get(v.SLa),Ab.get(H.mfa),Ab.get(ia.UHa),Pc,Yd);};});pb(C.TNa).ae(function(Cb){return function(Ab){var Kb,Pb;Kb=Cb.ob.get(p.Yb);Pb=Cb.ob.get(w.bb);return new D.UNa(Kb,Ab,Pb);};});pb(G.bMa).ae(function(Cb){return function(Ab){var Kb,Pb,Xb,Jb,Qb;Kb=Cb.ob.get(K.Rw);Pb=Cb.ob.get(J.ZD);Xb=Cb.ob.get(M.dh);Jb=Cb.ob.get(L.IQ);Qb=Cb.ob.get(la.Qw);return new F.cMa(Ab,Kb,Pb((0,z.uh)(1)),Xb,Jb,Qb);};});pb(P.xea).bD(function(Cb){return new (a(51149).CJa)(Cb.ob.get(N.sQ),Cb.ob.get(R.Dn));}).ha();});},41106:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jEa="DiagnosticsFactorySymbol";},30873:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ys={GQ:"START_SLATE",Xda:"LIVE_EVENT",kda:"END_SLATE"};b.UHa="LivePlaybackManagerFactorySymbol";},13673:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WHa="LivePlaybackRateControllerFactorySymbol";},45526:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},2160:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xea="MilestonesEventBuilderSymbol";},65090:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SLa="PlayTimeTrackerFactorySymbol";},51038:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$La="PlaybackFactorySymbol";},92205:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bMa="PlaybackInfoPanelFactorySymbol";},67650:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mfa="PlaybackMilestoneStoreSymbol";},61861:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ofa="PlaybackSegmentDataFactorySymbol";},39551:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pfa="PlayedSegmentsTrackerFactorySymbol";},93367:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uNa="RepositionTraceSymbol";b.sNa="RepositionTraceFactorySymbol";},65106:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TNa="SeekManagerFactorySymbol";},97635:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZNa="SegmentDroppedLoggerSymbol";},94025:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xo=void 0;r=b.Xo || (b.Xo={});r[r.L0=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.GD=2]="LOADED";r[r.bQ=3]="LOAD_FAILED";r[r.rKa=4]="PARSE_FAILED";},77601:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mPa="TrickPlayFactorySymbol";},78388:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pPa="TrickPlayManagerSymbol";},89561:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rPa="TrickPlayParserSymbol";},72160:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q,u,t,w,v){this.context=m;this.log=p;this.sa=q;this.config=u;this.Ea=t;this.Btb=w;this.utb=v;this.Fxa={};}Object.defineProperty(b,"__esModule",{value:!0});b.WAa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(30869);d=a(5021);g=a(4203);n=a(49917);h=a(80966);c.prototype.E2b=function(m,p){var q,u,t;q=this;u=m.event;if(Object.values(h.NAa).includes(u)){t=p.yy?p.yy.ea(d.pa):-1;m={href:p.Y.ri.TL("events").href,na:this.context.na.toString(),event:u,kv:m.kv,RE:m.RE,position:m.Qg.offset.G,gm:t,cw:{},Rx:this.sa.SH.ea(d.pa),appId:this.config().appId || this.Ea.id,sessionId:this.config().sessionId || this.Ea.id};this.utb.Cf(this.log,m).catch(function(w){q.log.error("Failed to send event",{eventKey:u,xid:p.na,error:w});});}else this.log.debug("Ignoring unsupported event " + m.event);};c.prototype.F2b=function(m,p,q){var u,t,w;u=this;t=m.event;if(Object.values(h.hca).includes(t)){w=m.Y.links.events.href;this.Fxa[m.gm] || (this.Fxa[m.gm]=this.sa.rub((0,d.Ob)(m.gm)).ea(d.pa));m={href:w,na:this.context.na.toString(),event:t,kv:m.kv,RE:m.RE,position:m.Qg.offset.G,gm:this.Fxa[m.gm],cw:m.cw,Rx:this.sa.SH.ea(d.pa),appId:this.config().appId || this.Ea.id,sessionId:this.config().sessionId || this.Ea.id,ESb:p,D6b:null !== q && void 0 !== q?q:void 0};this.Btb.Cf(this.log,m).catch(function(v){u.log.error("Failed to send event",{eventKey:t,xid:u.context.na,error:v});});}else this.log.debug("Ignoring unsupported event " + m.event);};a=c;a=r.__decorate([r.__param(2,(0,l.l)(k.cg)),r.__param(3,(0,l.l)(g.Yb)),r.__param(4,(0,l.l)(f.Lc)),r.__param(5,(0,l.l)(n.gca)),r.__param(6,(0,l.l)(n.fca))],a);b.WAa=a;},54952:function(r,b){function a(p){this.df=p;}function c(p){this.padding=p;}function l(p){this.lK=p;}function f(p){this.Qg=p;}function k(p){this.n$=p;}function d(p){this.sva=p;}function g(p){this.rva=p;}function n(p){this.kK=p;}function h(p){this.az=p;}function m(p){this.Vc=p;}Object.defineProperty(b,"__esModule",{value:!0});b.qib=b.dob=b.pib=b.flb=b.nob=b.oob=b.mob=b.oib=b.lob=b.ZAa=void 0;m.prototype.getPresentingAdBreak=function(){var p;p=this.Vc.XL();if(p)return new h(p);};m.prototype.getAds=function(){return this.Vc.Wna();};m.prototype.getLogInfo=function(){return this.Vc.dLb();};b.ZAa=m;Ya.Object.defineProperties(h.prototype,{adBreak:{configurable:!0,enumerable:!0,get:function(){return new n(this.az.Uc);}},adInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.az.LA;if(p)return new g(p);}},paddingInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.az.u9a;if(p)return new d(p);}},progress:{configurable:!0,enumerable:!0,get:function(){return new k(this.az.progress);}},position:{configurable:!0,enumerable:!0,get:function(){return new f(this.az.position);}},index:{configurable:!0,enumerable:!0,get:function(){return this.az.index;}}});b.lob=h;Ya.Object.defineProperties(n.prototype,{adCollection:{configurable:!0,enumerable:!0,get:function(){return new l(this.kK.lK);}},startPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.kK.Kaa);}},endPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.kK.DT);}},hasPadding:{configurable:!0,enumerable:!0,get:function(){return this.kK.RNb;}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.kK.duration.G};}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.kK.L9.G};}}});b.oib=n;Ya.Object.defineProperties(g.prototype,{ad:{configurable:!0,enumerable:!0,get:function(){return new a(this.rva.df);}},adProgress:{configurable:!0,enumerable:!0,get:function(){return this.rva.NSa;}},index:{configurable:!0,enumerable:!0,get:function(){return this.rva.index;}}});b.mob=g;Ya.Object.defineProperties(d.prototype,{paddingType:{configurable:!0,enumerable:!0,get:function(){return this.sva.xua;}},paddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.sva.pXb;}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.sva.L9.G};}}});b.oob=d;Ya.Object.defineProperties(k.prototype,{adBreakProgress:{configurable:!0,enumerable:!0,get:function(){return this.n$.xtb;}},adBreakOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.n$.vtb.G};}},adBreakWithPaddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.n$.ztb;}},adBreakWithPaddingOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.n$.ytb.G};}}});b.nob=k;Ya.Object.defineProperties(f.prototype,{segmentId:{configurable:!0,enumerable:!0,get:function(){return this.Qg.I;}},offset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Qg.offset.G};}}});b.flb=f;Ya.Object.defineProperties(l.prototype,{ads:{configurable:!0,enumerable:!0,get:function(){return this.lK.Ye.map(function(p){return new a(p);});}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.lK.duration.G};}}});b.pib=l;Ya.Object.defineProperties(c.prototype,{duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.padding.duration.G};}}});b.dob=c;Ya.Object.defineProperties(a.prototype,{hasPlayed:{configurable:!0,enumerable:!0,get:function(){return this.df.ur;}},id:{configurable:!0,enumerable:!0,get:function(){return this.df.id;}},startTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.df.startTime.G};}},endTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.df.endTime.G};}},is3pVerificationEnabled:{configurable:!0,enumerable:!0,get:function(){return this.df.It;}},thirdPartyVerificationToken:{configurable:!0,enumerable:!0,get:function(){return this.df.GO;}}});b.qib=a;},89540:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p,q,u,t,w,v,y){var x;x=this;this.fb=h;this.j=m;this.log=p;this.config=q;this.u2b=u;this.Ueb=t;this.El=new l.Ib(!1);this.Jb=new g.Yj();this.wUa=!1;this.tW=function(){x.wUa=!0;n.oe.removeListener(n.Wk,x.tW);};this.jGb=v(this);h=h.ho();this.mv=w({na:m.na.toString()});w=null === h || void 0 === h?void 0:h.d$a.events;null === w || void 0 === w?void 0:w.addListener("adPresenting",function(){!1;x.XZa();});null === w || void 0 === w?void 0:w.addListener("adBreakPresenting",function(){!1;y.WM(m);x.El.set(!0);});null === w || void 0 === w?void 0:w.addListener("adBreakEnded",function(){!1;x.El.set(!1);});null === w || void 0 === w?void 0:w.addListener("adPlaygraphUpdated",function(){!1;});null === w || void 0 === w?void 0:w.addListener("segmentDropped",function(z){var A;!1;A=x.j.Vi(z.segmentId);x.u2b.UZb(z,A);});this.gq=new k.Y0();this.j.addEventListener("playbackStart",function(){x.gq.resolve();});w=null === h || void 0 === h?void 0:h.eqa.events;null === w || void 0 === w?void 0:w.addListener("adEvent",function(z){x.gq.promise.then(function(){var A,B,C;z.event === f.hca.Dtb && z.It && x.Ueb.forEach(function(D){return D.start(x.j);});B=null === (A=m.Y) || void 0 === A?void 0:A.Fa.Gd;A=x.PMb(z);if(z.event === f.hca.Etb && A){C=x.wUa?f.ica.Xfb:m.mh?f.ica.error:f.ica.RGb;A=Object.assign(Object.assign({},A),{reason:C});}x.mv.F2b(z,B,A);});});n.oe.addListener(n.Wk,this.tW);null === w || void 0 === w?void 0:w.addListener("adBreakEvent",function(z){z.event === f.NAa.KA && x.Jb.Ec(d.CZ.KA);x.gq.promise.then(function(){x.mv.E2b(z,m);});});}Object.defineProperty(b,"__esModule",{value:!0});b.aBa=void 0;l=a(81734);f=a(80966);k=a(94293);d=a(85001);g=a(94886);n=a(37509);c.prototype.addEventListener=function(h,m,p){this.Jb.addListener(h,m,p);};c.prototype.removeEventListener=function(h,m){this.Jb.removeListener(h,m);};c.prototype.XL=function(){var h,m;return null === (m=null === (h=this.fb) || void 0 === h?void 0:h.ho()) || void 0 === m?void 0:m.AN.az;};c.prototype.dLb=function(){var h,m,p,q;p=this.XL();if(p){q={position:null === p || void 0 === p?void 0:p.position.offset.G,adDuration:null === (h=null === p || void 0 === p?void 0:p.LA) || void 0 === h?void 0:h.df.endTime.G,adIndex:null === (m=p.LA) || void 0 === m?void 0:m.index,adBreakIndex:p.index,adBreakDuration:null === p || void 0 === p?void 0:p.Uc.duration.G};(h=p.u9a) && (q.padding={type:h.xua,duration:h.L9.G});return q;}};c.prototype.Wna=function(){var h,m,p,q,u;q=this.j.ca.P.toString();u=null === (m=null === (h=this.fb) || void 0 === h?void 0:h.ho()) || void 0 === m?void 0:m.d$a.Wna({nhb:[q]});return null !== (p=null === u || void 0 === u?void 0:u.result[q]) && void 0 !== p?p:[];};c.prototype.XZa=function(){};c.prototype.PMb=function(h){var m;if(h.It){m=this.Ueb.reduce(function(p,q){return Object.assign(Object.assign({},p),q.D6(h));},{});return Object.assign(Object.assign({},m),{thirdPartyVerificationToken:h.GO});}};b.aBa=c;},63013:function(r,b,a){var l,f,k,d,g;function c(n,h){var m;m=g.Fk.call(this) || this;m.Ea=n;m.paused=!1;m.Xq=function(){var p,q,u;u=m.Vc.XL();m.Vc.El.value && null !== (p=null === u || void 0 === u?void 0:u.LA) && void 0 !== p && p.df.It?(p=null === (q=u.LA) || void 0 === q?void 0:q.df.id,q=m.paused,m.paused=m.j.paused.value,q !== m.paused && (m.paused?(m.Q9=m.Ea.Kb(),m.gS=u.position.offset.G,m.ma.debug("Ad " + p + " paused at " + m.gS + " ms into the ad")):void 0 !== m.Q9 && void 0 !== m.gS && (u=m.Ea.Kb().qa(m.Q9).ea(d.pa),m.ma.debug("Ad " + p + " resumed. Pause duration: " + u),m.trace.push([m.gS,u]),m.gS=void 0,m.Q9=void 0))):m.unsubscribe();};m.ma=h.ab("AdPauseStateTracker");return m;}Object.defineProperty(b,"__esModule",{value:!0});b.bBa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(87386);d=a(5021);g=a(87144);da(c,g.Fk);c.prototype.start=function(n){g.Fk.prototype.start.call(this,n);this.Nv || (this.j.paused.addListener(this.Xq),this.Nv=!0);};c.prototype.D6=function(){return {pauseTrace:this.trace};};c.prototype.AX=function(){this.gS=void 0;this.paused=this.j.paused.value;this.Q9=void 0;this.trace=[];};c.prototype.unsubscribe=function(){g.Fk.prototype.unsubscribe.call(this);this.j.paused.removeListener(this.Xq);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Lc)),r.__param(1,(0,l.l)(k.bb))],a);b.bBa=a;},56386:function(r,b,a){var l,f,k,d,g;function c(n,h){var m;m=g.Fk.call(this) || this;m.Gla=h;m.u1b=function(){0 === m.trace.length?m.Xq():m.Tma.Pj(function(){m.Xq();});};m.Xq=function(){var p,q,u,t;q=m.Vc.XL();if(m.Vc.El.value && null !== (p=null === q || void 0 === q?void 0:q.LA) && void 0 !== p && p.df.It){(p=m.trace[m.trace.length - 1]) && p[0] === q.position.offset.G && m.trace.pop();p=m.trace[m.trace.length - 1];u=m.j.uk.getBoundingClientRect();t=u.height;u=u.width;0 < t && 0 < u && (!p || p[1] !== u || p[2] !== t) && m.trace.push([q.position.offset.G,u,t]);}else m.unsubscribe();};m.ma=n.ab("AdResizeTracker");m.Tma=h((0,d.uh)(1));return m;}Object.defineProperty(b,"__esModule",{value:!0});b.gBa=void 0;r=a(5163);l=a(22674);f=a(34043);k=a(87386);d=a(5021);g=a(87144);da(c,g.Fk);c.prototype.start=function(n){g.Fk.prototype.start.call(this,n);this.Nv || (this.H8a=new ResizeObserver(this.u1b),this.H8a.observe(this.j.uk),this.Nv=!0);};c.prototype.D6=function(){return {resizeTrace:this.trace.slice(1)};};c.prototype.AX=function(){this.trace=[];};c.prototype.unsubscribe=function(){var n;g.Fk.prototype.unsubscribe.call(this);null === (n=this.H8a) || void 0 === n?void 0:n.disconnect();};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.bb)),r.__param(1,(0,l.l)(f.k_))],a);b.gBa=a;},87144:function(r,b){function a(){var c;c=this;this.Nv=!1;this.trace=[];this.w4=function(){c.Tma.Pj(function(){c.Xq();});};}Object.defineProperty(b,"__esModule",{value:!0});b.Fk=void 0;a.prototype.start=function(c){var l;l=this;this.j=c;this.Vc=this.j.ho();this.Nv || (this.Vc.El.addListener(this.Xq),this.j.addEventListener("closing",function(){return l.unsubscribe();}));this.AX();};a.prototype.unsubscribe=function(){this.Vc.El.removeListener(this.Xq);this.Nv=!1;this.AX();};b.Fk=a;},38508:function(r,b,a){var l,f;function c(k){var d;d=this;this.jF=function(){var g,n,h;n=!document.hidden;h=null === (g=d.j.ho()) || void 0 === g?void 0:g.El.value;g=d.j.paused.value;n || !h || g || (d.ma.debug("Pausing playback because window is not visible"),d.j.paused.set(!0,{bN:!0,reason:"adnotvisible"}));};this.unsubscribe=function(){document.removeEventListener("visibilitychange",d.jF);d.j.ho().El.removeListener(d.jF);d.j.paused.removeListener(d.jF);};this.ma=k.ab("AdVisibilityMonitor");}Object.defineProperty(b,"__esModule",{value:!0});b.iBa=void 0;r=a(5163);l=a(22674);a=a(87386);c.prototype.WM=function(k){this.zUb || (this.ma.debug("Starting to monitor playback for visibility"),this.j=k,this.zUb=!0,document.addEventListener("visibilitychange",this.jF),this.j.ho().El.addListener(this.jF),this.j.paused.addListener(this.jF),this.j.addEventListener("closing",this.unsubscribe),this.jF());};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.bb))],f);b.iBa=f;},24711:function(r,b,a){var l,f,k;function c(d){var g;g=k.Fk.call(this) || this;g.Bsa=0;g.BXa=[0];g.PG=[0];g.visibility=0;g.Xq=function(){var n,h;h=g.Vc.XL();g.Vc.El.value && null !== (n=null === h || void 0 === h?void 0:h.LA) && void 0 !== n && n.df.It?(n=g.visibility,g.visibility=document.hidden?0:1,n !== g.visibility && (1 === g.visibility?(g.Bsa=g.visibility,g.y8=h.position.offset.G):(h=h.position.offset.G - (g.y8 || 0),h > g.PG[0] && (g.PG[0]=h),g.y8=void 0))):g.unsubscribe();};g.ma=d.ab("AdVisibilityTracker");return g;}Object.defineProperty(b,"__esModule",{value:!0});b.kBa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(87144);da(c,k.Fk);c.prototype.start=function(d){k.Fk.prototype.start.call(this,d);this.Nv || (document.addEventListener("visibilitychange",this.Xq),this.Nv=!0);};c.prototype.D6=function(d){var g,n,h;n=this.j.uk.getBoundingClientRect();h=n.height;n=n.width;"adStart" === d.event && (h=0 === h?document.documentElement.clientHeight:h,n=0 === n?document.documentElement.clientWidth:n);d=d.Qg.offset.G - (null !== (g=this.y8) && void 0 !== g?g:0);d > this.PG[0] && (this.PG[0]=d);g=document.fullscreenElement?!0:screen.height === ob.outerHeight && screen.width === ob.outerWidth;this.BXa=this.PG;return {cumulativeTimeByVisibilityMs:this.BXa,maxContinuousTimeByVisibilityMs:this.PG,visibility:this.visibility,maxVisibility:this.Bsa,screenHeight:screen.height,screenWidth:screen.width,adHeight:h,adWidth:n,fullScreen:g};};c.prototype.AX=function(){this.y8=void 0;this.PG=[0];this.Bsa=this.visibility=document.hidden?0:1;};c.prototype.unsubscribe=function(){k.Fk.prototype.unsubscribe.call(this);document.removeEventListener("visibilitychange",this.Xq);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.bb))],a);b.kBa=a;},14177:function(r,b,a){var l,f,k,d,g;function c(n,h){var m;m=g.Fk.call(this) || this;m.Df=n;m.Gla=h;m.Xq=function(){var p,q;q=m.Vc.XL();m.Vc.El.value && null !== (p=null === q || void 0 === q?void 0:q.LA) && void 0 !== p && p.df.It?(p=m.trace[m.trace.length - 1],q=q.position.offset.G,p && p[0] === q && m.trace.pop(),(p=m.trace[m.trace.length - 1]) && p[1] === m.j.Bla || m.trace.push([q,m.j.Bla])):m.unsubscribe();};m.ma=n.ab("AdVolumeTracker");m.Tma=h((0,d.uh)(1));return m;}Object.defineProperty(b,"__esModule",{value:!0});b.lBa=void 0;r=a(5163);l=a(22674);f=a(34043);k=a(87386);d=a(5021);g=a(87144);da(c,g.Fk);c.prototype.start=function(n){g.Fk.prototype.start.call(this,n);this.Nv || (this.j.volume.addListener(this.w4),this.j.muted.addListener(this.w4),this.Nv=!0);};c.prototype.D6=function(){return {volumeChangeTrace:this.trace,volume:this.j.Bla};};c.prototype.AX=function(){this.trace=[];};c.prototype.unsubscribe=function(){g.Fk.prototype.unsubscribe.call(this);this.j.volume.removeListener(this.w4);this.j.muted.removeListener(this.w4);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.bb)),r.__param(1,(0,l.l)(f.k_))],a);b.lBa=a;},31085:function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.fCa=void 0;a.prototype.vgb=function(){var c;c=this.j.fb;if(null !== c && void 0 !== c && c.vx){c=c.Jc.get();if(null === c || void 0 === c?0:c.th)this.j.th=c.th.Ca;if(null === c || void 0 === c?0:c.gb)this.j.gb=c.gb.Ca;}};a.prototype.$m=function(){-1 === this.j.gb && this.vgb();return this.j.gb;};a.prototype.rxb=function(c){-1 !== this.j.th && -1 !== this.j.gb || this.vgb();return -1 === this.j.th || -1 === this.j.gb?Number.MAX_VALUE:this.j.th + 8 * c / this.j.gb;};b.fCa=a;},43422:function(r,b,a){var f,k,d,g,n,h,m,p;function c(q){this.j=q;this.K5a=!1;this.log=(0,k.Fh)(this.j,"Playback");this.CM=k.Ba.get(m.cQ);(0,d.oa)(f.config);f.config.ks || (this.UEb=k.Ba.get(g.rEa));}function l(q,u){var w;function t(v){return v && 0 < v.length && v[0].JG;}w=k.Ba.get(m.cQ);return q.na && t(q.pe)?w.release({na:q.na,pe:q.pe}).then(function(){}):u.na && t(u.pe)?w.release(u).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.hz=b.BDa=void 0;f=a(29204);k=a(31276);d=a(45146);g=a(58120);n=a(63156);h=a(32687);m=a(98166);p=a(85001);c.prototype.bG=function(q){var u;u=this;return new Promise(function(t,w){var v,y,x;v=n.Xj.MWa(q.kf);y=q.xj.map(function(z){return {sessionId:z.sessionId,dataBase64:(0,k.Ix)(z.data)};});x=u.j.QLb(q.xj[0].sessionId);u.CM.Ws({Gd:x.Gd,kf:h.is.Fm(q.kf)?q.kf:v,X4:[x.Uk],xj:y,na:x.na,Sm:q.Sm,ri:x.Y.ri,ag:x.Y.Fa.ag}).then(function(z){u.j.pe=z.pe;t(z);u.$Hb(x);}).catch(w);});};c.prototype.release=function(q){return l(this.j,q);};c.prototype.UWa=function(){var q;q=this.UEb.create();q.pe=this.j.pe;q.na=this.j.na;q.P=this.j.P;return q;};c.prototype.$Hb=function(q){this.K5a || (this.K5a=!0,this.j.fireEvent(p.ga.zV,{P:q.P}));};b.BDa=c;b.hz=l;},11372:function(r,b,a){var l;function c(f,k,d,g){this.bma=f;this.debug=k;this.Ea=d;this.j=g;this.M9=[];this.W8={};this.cma={};this.xna=!1;this.Oeb=1;this.aCa=7.8125;}b.tda=void 0;l=a(5021);a(85001);a(32687);a(61726);c.prototype.register=function(f,k){this.debug.assert(!(0 <= this.M9.indexOf(f)),"panel already registered");this.W8[f]=k;this.M9.push(f);};c.prototype.x8a=function(f){var k;k=this;this.cma[f]=!0;this.xna || (this.xna=!0,setTimeout(function(){return k.cIb();},0));};c.prototype.rLb=function(f){return (f=this.W8[f])?f():void 0;};c.prototype.kU=function(){var f;f=this.j.X9;return f?f.kU():[];};c.prototype.addEventListener=function(f,k){this.bma.addListener(f,k);this.W8[f] && this.x8a(f);};c.prototype.removeEventListener=function(f,k){this.bma.removeListener(f,k);};c.prototype.getTime=function(){return this.Ea.Kb().ea(l.pa);};c.prototype.cIb=function(){this.xna=!1;for(var f=this.M9.length,k;f--;){k=this.M9[f];this.cma[k] && (this.cma[k]=!1,this.bma.Ec(k + "changed",{getModel:this.W8[k]}));}};b.tda=c;},78312:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p,q,u,t){var w,v,y,x;w=this;this.config=h;this.yc=p;this.v=u;this.j=t;this.mM=new n.Ib(!1);this.lja=new n.Ib(!1);this.Ol=this.hi=void 0;this.dya=!1;this.OF=void 0;this.log=q.ab("LivePlaybackManager");this.OF=this.config().rIb;v=this.config().i5b;y=this.config().WRb;this.dya=(0,k.Sb)(v) && (0,k.Sb)(y);null === t || void 0 === t?void 0:t.addEventListener(d.ga.gl,function(){var z;if(w.aa && ((0,f.oa)(w.j && w.j.ca === w.v,"Unexpected playback segment on playbackReady"),w.config().JFb && (w.$9a=m(function(A){(0,f.oa)(w.aa && w.j && w.j.ca === w.v,"Unexpected playback segment on playback rate update");w.v.playbackRate.value !== A && (w.v.playbackRate.set(A),w.j.fireEvent(d.ga.eC));})),w.dya)){z=w.mr();x=w.yc.MH((0,l.Ob)(500),function(){var A,B,C,D;A=w.mr();C=z + v;A >= C - 500 && (B=w.hla(C));C=z + v + y;if(A >= C - 500){D=w.hla(C);null === x || void 0 === x?void 0:x.cancel();}w.Jxa(B,D,!0);});}});null === t || void 0 === t?void 0:t.addEventListener(d.ga.og,function(){var z;w.aa && ((0,f.oa)(w.j && w.j.ca === w.v,"Unexpected playback segment on closing"),w.$9a=void 0,null === (z=w.AV) || void 0 === z?void 0:z.cancel(),w.AV=void 0,null === x || void 0 === x?void 0:x.cancel());});null === t || void 0 === t?void 0:t.addEventListener(d.ga.MC,function(z){w.aa && ((0,f.oa)(w.j && w.j.ca === w.v,"Unexpected playback segment on repositioning"),z.Xb !== d.oc.jx && z.Xb !== d.oc.fJ || w.mM.set(z.Xb === d.oc.fJ && !w.G4a()));});null === t || void 0 === t?void 0:t.addEventListener(d.ga.Ugb,function(){w.aa && ((0,f.oa)(w.j && w.j.ca === w.v,"Unexpected playback segment on userInitiatedPause"),w.mM.set(!1));});null === t || void 0 === t?void 0:t.background.addListener(function(){var z;w.aa && ((0,f.oa)(w.j && w.j.ca === w.v,"Unexpected playback segment on background update"),!w.j.background.value && w.LU() && void 0 === w.OF && (w.A7()?null === (z=w.j.Vd) || void 0 === z?void 0:z.seek(w.hi,d.oc.jx):w.iaa()));});this.v.mediaTime.addListener(function(z){var A,B,C,D;if(w.aa){(0,f.oa)(w.j && w.j.ca === w.v,"Unexpected playback segment on mediaTime update");C=w.j;w.M3();D=w.EB(z.oldValue);z=w.EB(z.newValue);D !== z && (!1,C.fireEvent(d.ga.eC));w.A7()?(null === (A=w.AV) || void 0 === A?void 0:A.cancel(),w.AV=void 0):w.AV || (w.AV=w.yc.MH((0,l.Ob)(1E3),function(){w.M3();C.fireEvent(d.ga.eC);}));null === (B=w.$9a) || void 0 === B?void 0:B.VO(w.j.Ai.value && w.LU(),w.v.mediaTime.value,w.mr());w.config().DFb && w.j.Ai.value && w.EB() === g.ys.GQ && w.cQb() && !w.WB() && void 0 === w.OF && w.iaa();}});this.mM.addListener(function(){(0,f.oa)(w.aa,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + w.aa);(0,f.oa)(w.j && w.j.ca === w.v,"Playback is required for live.");w.M3();});this.lja.addListener(function(){(0,f.oa)(w.aa,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + w.aa);(0,f.oa)(w.j && w.j.ca === w.v,"Playback is required for live.");!1;w.j.fireEvent(d.ga.eC);});}Object.defineProperty(b,"__esModule",{value:!0});b.VHa=void 0;l=a(5021);f=a(45146);k=a(32687);d=a(85001);g=a(30873);n=a(81734);c.prototype.h4b=function(){var h,m,p;(0,f.oa)(this.j && this.j.ca === this.v,"Playback is required for live.");return null !== (p=null === (m=null === (h=this.v.Y) || void 0 === h?void 0:h.Fa.Jh) || void 0 === m?void 0:m.vEb) && void 0 !== p?p:!1;};c.prototype.LZb=function(){var h;(0,f.oa)(this.aa,"Unexpected call to processManifest(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ca === this.v,"Playback is required for live.");(0,f.oa)(null === (h=this.v.Y) || void 0 === h?void 0:h.Fa.Jh,"Live manifest is unavailable.");h=this.v.Y.Fa.Jh;this.Jxa(h.Xma,h.p5);h=this.config().tIb;void 0 !== h && void 0 !== this.hi && (this.OF=this.hi + h);};c.prototype.Jxa=function(h,m,p){var q,u,t,w,v;(0,f.oa)(this.aa,"Unexpected call to setLiveEventTimes(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ca === this.v,"Playback is required for live.");if(!this.dya || p){p=this.j;t=this.hi;w=this.Ol;v=null !== (q=this.LWa(h)) && void 0 !== q?q:t;q=null !== (u=this.LWa(m)) && void 0 !== u?u:w;if(void 0 === v && void 0 === q || void 0 !== v && 0 <= v && void 0 === q || void 0 !== v && 0 <= v && void 0 !== q && q > v){if((this.hi=v,this.Ol=q,t !== this.hi || w !== this.Ol))(!1,p.fireEvent(d.ga.eC));}else this.log.error("Unexpected live event times. Ignoring:startTime:" + (h + ", startPts:") + (v + ", endTime:") + (m + ", endPts:") + q);}};c.prototype.tKb=function(){var h;(0,f.oa)(this.aa,"Unexpected call to getLiveEventTimeForCurrentMediaTime(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ca === this.v,"Playback is required for live.");h=this.v.mediaTime.value;if(void 0 !== h)return this.hla(h);};c.prototype.F6=function(){var h;(0,f.oa)(this.aa,"Unexpected call to getUIAdjustedTime(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ca === this.v,"Playback is required for live.");h=this.v.mediaTime.value;if(void 0 !== h)switch(this.EB(h)){case g.ys.GQ:return 0;case g.ys.Xda:return ((0,f.oa)(void 0 !== this.hi,"eventStartPts should be defined in LIVE_EVENT slate."),h - this.hi);case g.ys.kda:return ((0,f.oa)(void 0 !== this.hi && void 0 !== this.Ol,"eventStartPts and eventEndPts should be defined in END_SLATE slate."),this.Ol - this.hi);}};c.prototype.Jbb=function(h){var m,p;(0,f.oa)(this.aa,"Unexpected call to revertUIAdjustedTime(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ca === this.v,"Playback is required for live.");return void 0 === this.hi?null !== (p=null !== (m=this.mr()) && void 0 !== m?m:this.v.mediaTime.value) && void 0 !== p?p:h:this.hi + h;};c.prototype.S4a=function(h){var m;(0,f.oa)(this.aa,"Unexpected call to isWithinUILiveEdgeThreshold(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ca === this.v,"Playback is required for live.");m=this.mr();return void 0 !== m && h >= m - this.config().LRb;};c.prototype.Foa=function(h,m){var p,q;(0,f.oa)(this.aa,"Unexpected call to getLiveBookmark(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ca === this.v,"Playback is required for live.");if(void 0 !== this.OF)return {Gl:this.OF,AC:Number.MAX_SAFE_INTEGER,WXa:this.OF};m || void 0 === this.hi || void 0 === this.Ol && 0 === h?(this.mM.set(!0),h=36E7):(h=this.hi + h,void 0 !== this.Ol && h > this.Ol && (h=this.hi));return {Gl:h,AC:null !== (p=this.Ol) && void 0 !== p?p:Number.MAX_SAFE_INTEGER,WXa:null !== (q=this.hi) && void 0 !== q?q:36E7};};c.prototype.m1a=function(){var h;(0,f.oa)(this.aa,"Unexpected call to getLiveContentDuration(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ca === this.v,"Playback is required for live.");h=this.WB()?this.v.mediaTime.value:this.mr();h=void 0 !== this.Ol && void 0 !== h?Math.min(this.Ol,h):h;h=void 0 !== h && void 0 !== this.hi?h - this.hi:0;!1;return h;};c.prototype.kLb=function(){var h;(0,f.oa)(this.aa,"Unexpected call to getMaxSeekPts(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ca === this.v,"Playback is required for live.");h=this.mr();h=void 0 !== this.Ol && void 0 !== h?Math.min(this.Ol,h):h;!1;return null !== h && void 0 !== h?h:0;};c.prototype.mr=function(){var h,m;(0,f.oa)(this.aa,"Unexpected call to getLiveEdge(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ca === this.v,"Playback is required for live.");return null === (m=null === (h=this.j.fb) || void 0 === h?void 0:h.DB(this.v.I)) || void 0 === m?void 0:m.G;};c.prototype.iaa=function(){var h;(0,f.oa)(this.aa,"Unexpected call to seekToLiveEdge(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ca === this.v,"Playback is required for live.");this.mM.set(!this.G4a());if(this.j.Vd){h=this.mr();void 0 !== h?this.j.Vd.seek(h,d.oc.fJ,this.v.I):!1;}else this.v.Gl=this.Foa(0,!0).Gl;};c.prototype.WB=function(){(0,f.oa)(this.aa,"Unexpected call to isAtLiveEdge(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ca === this.v,"Playback is required for live.");this.M3();return this.lja.value;};c.prototype.LU=function(){(0,f.oa)(this.aa,"Unexpected call to intentToPlayAtLiveEdge(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ca === this.v,"Playback is required for live.");return this.mM.value;};c.prototype.EB=function(h){var m,p,q;(0,f.oa)(this.aa,"Unexpected call to getLiveEventState(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ca === this.v,"Playback is required for live.");h=null !== (m=null !== h && void 0 !== h?h:this.v.mediaTime.value) && void 0 !== m?m:0;m=null !== (p=this.hi) && void 0 !== p?p:Infinity;p=null !== (q=this.Ol) && void 0 !== q?q:Infinity;return h < m?g.ys.GQ:h > p?g.ys.kda:g.ys.Xda;};c.prototype.A7=function(){var h;(0,f.oa)(this.aa,"Unexpected call to isLiveEventEnded(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ca === this.v,"Playback is required for live.");h=this.mr();return void 0 !== this.Ol && void 0 !== h && this.Ol < h;};c.prototype.cQb=function(){var h;(0,f.oa)(this.aa,"Unexpected call to isLiveEventStarted(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ca === this.v,"Playback is required for live.");h=this.mr();return void 0 !== this.hi && void 0 !== h && this.hi < h;};c.prototype.G4a=function(){var h;(0,f.oa)(this.aa,"Unexpected call to isPlaybackPausedByUser(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ca === this.v,"Playback is required for live.");return this.j.paused.value && !(null === (h=this.j.paused.Eh) || void 0 === h?0:h.bN);};c.prototype.M3=function(){var h;(0,f.oa)(this.aa,"Unexpected call to calculateIsAtLiveEdge(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ca === this.v,"Playback is required for live.");this.lja.set(this.LU() && this.S4a(null !== (h=this.v.mediaTime.value) && void 0 !== h?h:0));};c.prototype.hla=function(h){var m,p;(0,f.oa)(this.aa,"Unexpected call to convertPtsToEventTime(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ca === this.v,"Playback is required for live.");(0,f.oa)(null === (m=this.v.Y) || void 0 === m?void 0:m.Fa.Jh,"Live manifest is unavailable.");m=this.v.Y.Fa.Jh;p=new Date(m.OX[m.V4[this.v.Y.Fa.uu[0].streams[0].Rm]].y3).getTime();return new Date(p - m.o5 + h).toISOString();};c.prototype.LWa=function(h){var m,p,q;(0,f.oa)(this.aa,"Unexpected call to convertEventTimeToPts(). isLive:" + this.aa);(0,f.oa)(this.j && this.j.ca === this.v,"Playback is required for live.");(0,f.oa)(null === (m=this.v.Y) || void 0 === m?void 0:m.Fa.Jh,"Live manifest is unavailable.");if(h){m=this.v.Y.Fa.Jh;p=m.OX[m.V4[this.v.Y.Fa.uu[0].streams[0].Rm]];q=new Date(h).getTime() + m.o5 - new Date(p.y3).getTime();if(isNaN(q) || 0 > q)this.log.error("Invalid live event time. Ignoring: eventDateString:" + (h + ", eventAvailabilityOffsetMs:") + (m.o5 + ", availabilityStartTime:") + p.y3);else return q;}};Ya.Object.defineProperties(c.prototype,{aa:{configurable:!0,enumerable:!0,get:function(){var h,m;h=this.v;m=h.Y;return m?(h=m.Fa,m=h.Jh,"LIVE" === h.ag && !!m):"live" === h.Cd;}}});b.VHa=c;},31099:function(r,b,a){var l,f;function c(k,d,g,n){this.config=k;this.uaa=n;this.log=d.ab("LivePlaybackRateController");this.E6b=g((0,l.Ob)(this.config().RRb));}Object.defineProperty(b,"__esModule",{value:!0});b.XHa=void 0;l=a(5021);f=a(8825);c.prototype.VO=function(k,d,g){var n,h;n=this;if(!k || void 0 === d || void 0 === g || Math.abs(d - g) < this.config().SRb)h=1;else (k=g - d,k=1 + this.config().QRb / 1E3 * k,h=(0,f.fx)(k,this.config().URb,this.config().TRb));this.E6b.Pj(function(){!1;n.uaa(h);});};b.XHa=c;},11953:function(r,b,a){var d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,E,G,F,J,M,L,K,P;function c(){this.lba=[];this.g7b=50;}function l(H){var I;I=this;this.j=H;this.uhb=Promise.resolve();this.SEa=ob.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.HE=[];this.pj=new h.Yj();this.wQa=0;this.O1=[];this.Ji=(0,q.Fh)(this.j,"MediaElementASE");this.cSa=g.dx;this.Nga=!1;this.Qb=new c();this.Ue=new K.Ib(F.Xj.Xz.HAVE_NOTHING);this.Rn={};this.QQa={};this.d6=this.P1(function(){var N;if(I.ba)return null !== (N=I.ba.webkitDecodedFrameCount) && void 0 !== N?N:0;});this.Gv=this.P1(function(){var N;if(I.ba){N=I.cha();return N?N.totalVideoFrames:I.ba.webkitDecodedFrameCount;}});this.XF=this.P1(function(){var N;if(I.ba){N=I.cha();return N?N.droppedVideoFrames:I.ba.webkitDroppedFrameCount;}});this.gU=this.P1(function(){var N;if(I.ba){N=I.cha();return N && N.corruptedVideoFrames;}});this.jRa=function(N){!1;I.pj.Ec(C.Th.J5a,{J:N});};this.Yk=q.Ba.get(B.QHa).create(n.config.ks,this,this.j);this.yc=q.Ba.get(L.Vh);n.config.cC && (this.uhb=new Promise(function(N){I.cSa=N;I.j.addEventListener(G.ga.og,N);}));this.Ji.trace("Created Media Element");this.addEventListener=this.pj.addListener;this.removeEventListener=this.pj.removeListener;}function f(H){var I,N;I=q.Ba.get(D.bQa).fMb();H=H.width / H.height * I.height;N=(I.width - H) / 2;return n.config.O3b?(0,p.createElement)("VIDEO","position:absolute;width:" + H + "px;height:" + I.height + "px;left:" + N + "px;top:0px"):(0,p.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function k(H){H.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.fJa=void 0;d=a(90762);g=a(33096);n=a(29204);h=a(94886);m=a(37509);p=a(52569);q=a(31276);u=a(36129);t=a(45146);w=a(8825);v=a(67572);y=a(3887);x=a(77705);z=a(22365);A=a(32687);B=a(80012);C=a(16520);D=a(45613);E=a(5021);G=a(85001);F=a(63156);J=a(82100);M=a(60328);L=a(53085);K=a(81734);P=!!(z.bA && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);l.prototype.OL=function(H){try{this.ba && (this.wQa=this.ba.currentTime);}catch(I){this.Ji.error("Exception while getting VIDEO.currentTime",I);H && this.fR(u.V.Unb,I);}return (0,z.Fn)(this.wQa * g.zs);};l.prototype.seek=function(H){var I;(0,t.oa)(!this.Bm);this.WRa();I=this.OL(!0);if(!n.config.Fub && (0,z.C0)(I - H) <= this.gcb)(this.Ji.trace("Seek delta too small",{currentTime:I,seekTime:H,min:this.gcb}),this.Qb.trace("smallseek",H));else {this.Qb.trace("seek",H);try{this.Ji.trace("Setting video elements currentTime",{From:(0,w.bh)(I),To:(0,w.bh)(H)});this.Bm={};this.ba.currentTime=H / g.zs;this.pj.Ec(C.Th.$n);}catch(N){this.Ji.error("Exception while setting VIDEO.currentTime",N);this.fR(u.V.Vnb,N);}}};l.prototype.c2a=function(){return !!this.Bm;};l.prototype.addSourceBuffer=function(H){var I;try{I=new d.uea(this.j,H,this.jg,this.Ji);this.HE.push(I);H == g.kQ && I.Ana && I.Ana.addListener(this.cSa);this.pj.Ec(C.Th.Jdb);return I;}catch(N){I=(0,y.Ae)(N);this.Ji.error("Unable to add source buffer.",{error:I});this.j.rd(u.V.Rea,{za:H === M.u.$?u.S.pea:u.S.qea,Nb:I});}};l.prototype.mS=function(H){var I;I=this;H.forEach(function(N){return I.addSourceBuffer(N);});return !0;};l.prototype.removeSourceBuffer=function(H){this.HE=this.HE.filter(function(I){return !(0,p.lWa)(H,I);});this.jg.removeSourceBuffer(H);};l.prototype.endOfStream=function(){this.Qb.trace("endofstream");!1;n.config.fka && this.jg.endOfStream();};l.prototype.pt=function(H){!1;this.HE=[];H && H.Eic();return !0;};l.prototype.v1a=function(){if(this.jg)return (0,E.t$a)(this.jg.duration);};l.prototype.oEb=function(){var H;if(!this.Nga && this.ba && this.ba.readyState >= F.Xj.Xz.HAVE_CURRENT_DATA){H=this.ba.webkitDecodedFrameCount;if(void 0 === H || 0 < H || n.config.Y9b)this.Nga=!0;}return this.Nga;};l.prototype.open=function(){var H,I,N;H=this;this.ba=f(this.j.iD.value);this.H_b=this.yc.MH((0,E.Ob)(500),function(){H.Ue.set(H.ba.readyState);});this.sourceBuffers=this.HE;this.j.addEventListener(G.ga.tdb,function(R){return H.Prb(R);});if(P){this.j.zG && !n.config.Igb && this.Yk.D9();try{this.jg=new z.bA();}catch(R){this.fR(u.V.Lnb,R);return;}try{this.cf=URL.createObjectURL(this.jg);}catch(R){this.fR(u.V.Mnb,R);return;}try{this.Yk.Qtb(this.jRa);this.jg.addEventListener("sourceopen",function(R){return H.ERa(R);});this.jg.addEventListener(this.SEa + "sourceopen",function(R){return H.ERa(R);});this.ba.addEventListener("error",this.Rn.error=function(R){return H.Eha(R);});this.ba.addEventListener("seeking",this.Rn.seeking=function(){return H.Orb();});this.ba.addEventListener("seeked",this.Rn.seeked=function(){return H.Nrb();});this.ba.addEventListener("timeupdate",this.Rn.timeupdate=function(){return H.Rrb();});this.ba.addEventListener("loadstart",this.Rn.loadstart=function(){return H.Krb();});this.ba.addEventListener("volumechange",this.Rn.volumechange=function(R){return H.Srb(R);});this.Ue.addListener(function(){return H.Mrb();});this.ba.addEventListener(this.Yk.rC,this.Rn[this.Yk.rC]=function(){H.Ji.trace(H.Yk.rC);H.Lrb();});I=this.j.uk;N=I.lastChild;N?I.insertBefore(this.ba,N):I.appendChild(this.ba);n.config.sYa && this.ba.addEventListener("contextmenu",k);this.ba.src=this.cf;m.oe.addListener(m.qr,this.QQa[m.qr]=function(){return H.DRa();});this.DRa();}catch(R){this.fR(u.V.Nnb,R);}}else this.K1(u.V.FKa);};l.prototype.close=function(){var I;function H(){I.cf && (I.WRa(),m.oe.removeListener(m.qr,I.QQa[m.qr]),I.Rpb());}I=this;this.Qb.trace("close");this.ba.removeEventListener(this.Yk.rC,this.Rn[this.Yk.rC]);this.ba.removeEventListener("error",this.Rn.error);this.ba.removeEventListener("seeking",this.Rn.seeking);this.ba.removeEventListener("seeked",this.Rn.seeked);this.ba.removeEventListener("timeupdate",this.Rn.timeupdate);this.ba.removeEventListener("loadstart",this.Rn.loadstart);this.ba.removeEventListener("volumechange",this.Rn.volumechange);this.Yk.J0b(this.jRa);n.config.ks?this.Yk.hz().then(function(){return H();}):H();this.Yk.dbb && clearTimeout(this.Yk.dbb);};l.prototype.HB=function(){return this.Qb.HB();};l.prototype.t1b=function(){this.Bm && (this.Qb.trace("resetSeek"),this.Bm=void 0);};l.prototype.Lrb=function(){n.config.Igb && this.Yk.D9();};l.prototype.cha=function(){if(this.ba)return this.ba.getVideoPlaybackQuality && this.ba.getVideoPlaybackQuality() || this.ba.videoPlaybackQuality || this.ba.playbackQuality;};l.prototype.Esb=function(){var H;H=this.j.mh;return (H=H && H.errorCode) && 0 <= [u.V.Q0,u.V.u0].indexOf(H);};l.prototype.Rpb=function(){var H,I;I=!1;n.config.tZb && this.Esb() && (I=!0);n.config.Uyb && !I && (this.ba.removeAttribute("src"),this.ba.load && this.ba.load());URL.revokeObjectURL(this.cf);n.config.sYa && this.ba.removeEventListener("contextmenu",k);!I && this.ba && this.j.uk.removeChild(this.ba);this.jg=void 0;null === (H=this.H_b) || void 0 === H?void 0:H.cancel();this.Ue.set(F.Xj.Xz.HAVE_NOTHING);this.ba=void 0;this.cf="";};l.prototype.DRa=function(){!0 === z.Ig.hidden?this.O1.forEach(function(H){H.refresh();H.Z4b();}):this.O1.forEach(function(H){H.refresh();H.q5b();});};l.prototype.P1=function(H){var I;I=q.Ba.get(v.nKa)(H);this.O1.push(I);return function(){I.refresh();return I.XJb();};};l.prototype.fR=function(H,I){var N,R;N={za:u.S.sl,Nb:(0,y.Ae)(I)};try{(R=I.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == R.length && (N.He=R);}catch(X){}this.j.rd(H,N);};l.prototype.WRa=function(){this.O1.forEach(function(H){H.refresh();});};l.prototype.Cqb=function(){return this.ba && this.ba.msGraphicsTrustStatus;};l.prototype.K1=function(H,I){this.j.rd(H,I,void 0);};l.prototype.Prb=function(H){var I,R,X,ha,ta,la,xa;if(this.ba){H=H.Hba;I=this.Cqb();I && (H.ConstrictionActive=I.constrictionActive,H.Status=I.status);try{H.readyState="" + this.ba.readyState;H.currentTime="" + this.ba.currentTime;H.pbRate="" + this.ba.playbackRate;}catch(Ba){}I=this.HE.length;for(var N;I--;){N=this.HE[I];R="";N.type == g.B0?R="audio":N.type == g.kQ && (R="video");(0,y.Xd)(H,N.U5(),{prefix:R});}this.jg && (I=this.jg.duration) && !isNaN(I) && (H.duration=I.toFixed(4));if(n.config.pSb)try{X=this.j.je;ha=X && X.Eb;if(ha){ta=ha.expiration;isNaN(ta) || (H.exp=ta);la=ha.keyStatuses.entries();if(la.next){xa=la.next().value;xa && (H.keyStatus=xa[1]);}}}catch(Ba){}}};l.prototype.ERa=function(H){!1;this.Gsb || (this.Gsb=!0,this.pj.Ec(C.Th.Ldb,H));};l.prototype.Orb=function(){this.Qb.trace("seeking");this.Ji.trace("Video element event: seeking");this.Bm?this.Bm.IVb=!0:(this.Ji.error("unexpected seeking event"),n.config.qHb && this.K1(u.V.$nb,{Nb:{Trace:this.HB()}}));};l.prototype.Nrb=function(){this.Qb.trace("seeked");this.Ji.trace("Video element event: seeked");this.Bm?((0,t.oa)(this.Bm.IVb),this.Bm.HVb=!0,this.wSa()):(this.Ji.error("unexpected seeked event"),n.config.pHb && this.K1(u.V.Znb,{Nb:{Trace:this.HB()}}));};l.prototype.Rrb=function(){var H;this.Qb.trace("timeupdate",null === (H=this.ba) || void 0 === H?void 0:H.currentTime);!1;this.Bm && (this.Bm.JVb=!0,this.wSa());this.pj.Ec(C.Th.$n);};l.prototype.Krb=function(){this.Ji.trace("Video element event: loadstart");};l.prototype.Srb=function(H){this.Ji.trace("Video element event:",H.type);try{this.j.volume.set(this.ba.volume);this.j.muted.set(this.ba.muted);}catch(I){this.Ji.error("error updating volume",I);}};l.prototype.Mrb=function(){this.pj.Ec(C.Th.vab);};l.prototype.Eha=function(H){var I,N,R,X,ha,ta,la,xa;I=this.K1;N=u.V.EKa;R=u.iFa;X=this.HB();ha=H.target;ta=ha && ha.error;la=H.errorCode;ha=ta && ta.code;(0,A.Xc)(ha) || (ha=la && la.code);la=ta && ta.message;xa=ta && ta.msExtendedCode;(0,A.Xc)(xa) || (xa=ta && ta.systemCode);(0,A.Xc)(xa) || (xa=H.systemCode);(0,A.Xc)(xa) || (xa=(0,J.Roa)(la));H=(0,y.Xd)({},{code:ha,systemCode:xa,trace:JSON.stringify(X)},{H9:!0});R={za:R(ha),Nb:(0,x.hsa)(H)};try{la && (R.ZV=la);}catch(Ba){}xa=(0,y.aj)(xa);(0,A.Sb)(xa) && (R.He=(0,q.Bja)(xa,4));I.call(this,N,R);};l.prototype.wSa=function(){this.Bm && this.Bm.HVb && this.Bm.JVb && (this.Qb.trace("seekcomplete"),this.Bm=void 0,this.pj.Ec(C.Th.LX));};Ya.Object.defineProperties(l.prototype,{gcb:{configurable:!0,enumerable:!0,get:function(){return n.config.I4b;}}});b.fJa=l;c.prototype.trace=function(H,I){this.lba.push([H,I]);this.lba.length > this.g7b && this.lba.shift();};c.prototype.HB=function(){return this.lba;};},51149:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q){var u;u=this;this.bm=p;this.xt=q;this.wfb=function(t){var w,v,y,x,z,A;w=u.Oeb++;v=t.request.kB || "dl";y=u.s2a(v,"start");if(y){x=t.request.kC.I;if(x && !u.Ydb.has(x)){z=u.K1a(x);A=t.jw;u.bm.mark(y,z,A?v + "-" + A + "-" + w:v);t.P2(function(){var B,C;B=u.s2a(v,"end");C=A?v + "-" + A + "-" + w:v;B && u.bm.mark(B,z,C);});}}};this.Oeb=0;this.Ydb=new Set();this.txa=new Map();q.AT && this.a$b();}Object.defineProperty(b,"__esModule",{value:!0});b.CJa=void 0;r=a(5163);l=a(22674);f=a(63156);k=a(77134);d=a(5021);g=a(61726);n=a(34231);h=a(79542);m={start:{video:f.Pa.BP,audio:f.Pa.xP},end:{video:f.Pa.AP,audio:f.Pa.wP}};c.prototype.L1a=function(p){var u,t,w,v,y,x,z,A;function q(B){return (0,d.timestamp)(u.rTa((0,d.timestamp)(B),p,!0));}u=this;t=new Set();w=p.Yc;v=p.na;y=void 0 === p.Tdb?null:p.Tdb;x=p.I;z=this.bm.s1a(v);A=x && this.K1a(x);A && z.push.apply(z,ba(this.bm.s1a(A)));this.bm.Uab(p.na);A && this.bm.Uab(A);x && this.Ydb.add(x);x=[];("pr_ats" in w) && x.push({name:f.Pa.d1,fs:q(w.pr_ats),na:v,Bf:"request-pre-manifest"});("ats" in w) && x.push({name:f.Pa.b1,fs:q(w.ats),na:v,Bf:"request-manifest"});("pr_at" in w) && x.push({name:f.Pa.c1,fs:q(w.pr_at),na:v,Bf:"request-pre-manifest"});("at" in w) && x.push({name:f.Pa.a1,fs:q(w.at),na:v,Bf:"request-manifest"});("lg" in w) && x.push({name:f.Pa.$0,fs:q(w.lg),na:v,Bf:"request-license"});("lr" in w) && (x.push({name:f.Pa.Z0,fs:q(w.lr),na:v,Bf:"request-license"}),x.push({name:f.Pa.yZ,fs:q(w.lr),na:v,Bf:"apply-license"}));("ld" in w) && x.push({name:f.Pa.xZ,fs:q(w.ld),na:v,Bf:"apply-license"});("tt_start" in w) && x.push({name:f.Pa.zP,fs:q(w.tt_start),na:v,Bf:"request-timed-text"});("tt_comp" in w) && x.push({name:f.Pa.yP,fs:q(w.tt_comp),na:v,Bf:"request-timed-text"});return x.concat(z).map(function(B){return u.U6b(B,p);}).filter(function(B){return B.ts <= (null !== y && void 0 !== y?y:B.ts)?("end" === B.step && t.add(B.eventId),!0):!1;}).filter(function(B){return "start" !== B.step || t.has(B.eventId)?!0:!1;}).sort(function(B,C){return B.ts - C.ts;}).reduce(function(B,C){var D;D=C.eventName;delete C.eventName;D && (B[D]=C);return B;},{});};c.prototype.qub=function(p,q,u){return (void 0 === u?0:u)?p.ea(d.pa) + q.Oh.ea(d.pa):p.ea(d.pa) - q.Oh.ea(d.pa);};c.prototype.rTa=function(p,q,u){u=void 0 === u?!1:u;if(q.mm)if(u)p.ea(d.pa) + q.mm;else return p.ea(d.pa) - q.mm;return this.qub(p,q,u);};c.prototype.U6b=function(p,q){var u,t;u=p.Bf;t=p.name;return {eventName:this.gVb(t,u),eventId:u || t,ts:this.rTa(p.fs,q),comp:this.eU(t),cat:this.IJb(t),step:this.CMb(t)};};c.prototype.gVb=function(p,q){switch(p){case f.Pa.zP:case f.Pa.yP:case f.Pa.xP:case f.Pa.wP:case f.Pa.BP:case f.Pa.AP:return p + "-" + q;default:return p;}};c.prototype.eU=function(p){switch(p){case f.Pa.d1:case f.Pa.c1:case f.Pa.b1:case f.Pa.a1:return "manifest";case f.Pa.$0:case f.Pa.Z0:case f.Pa.Kfa:case f.Pa.Jfa:case f.Pa.z_:case f.Pa.y_:case f.Pa.yZ:case f.Pa.xZ:return "license";case f.Pa.zP:case f.Pa.yP:case f.Pa.xP:case f.Pa.wP:case f.Pa.BP:case f.Pa.AP:case f.Pa.Zba:case f.Pa.Yba:return "buffering";case f.Pa.Oea:case f.Pa.Nea:return "playback";default:return (0,h.wL)(p);}};c.prototype.IJb=function(p){switch(p){case f.Pa.d1:case f.Pa.c1:case f.Pa.b1:case f.Pa.a1:return "aws";case f.Pa.$0:case f.Pa.Z0:return "mixed";case f.Pa.Oea:case f.Pa.Nea:case f.Pa.Kfa:case f.Pa.Jfa:case f.Pa.z_:case f.Pa.y_:case f.Pa.yZ:case f.Pa.xZ:case f.Pa.Zba:case f.Pa.Yba:return "device";case f.Pa.zP:case f.Pa.yP:case f.Pa.xP:case f.Pa.wP:case f.Pa.BP:case f.Pa.AP:return "cdn";default:return (0,h.wL)(p);}};c.prototype.CMb=function(p){switch(p){case f.Pa.d1:case f.Pa.Oea:case f.Pa.b1:case f.Pa.$0:case f.Pa.Zba:case f.Pa.zP:case f.Pa.xP:case f.Pa.BP:case f.Pa.Kfa:case f.Pa.z_:case f.Pa.yZ:return "start";case f.Pa.c1:case f.Pa.Nea:case f.Pa.a1:case f.Pa.Z0:case f.Pa.Jfa:case f.Pa.y_:case f.Pa.xZ:case f.Pa.Yba:case f.Pa.yP:case f.Pa.wP:case f.Pa.AP:return "end";default:return (0,h.wL)(p);}};c.prototype.s2a=function(p,q){if((p in m[q]))return m[q][p];};c.prototype.Y7b=function(){g.Je.removeEventListener(g.X6,this.wfb);};c.prototype.a$b=function(){this.Y7b();g.Je.addEventListener(g.X6,this.wfb);};c.prototype.K1a=function(p){var q;if(this.txa.has(p))return this.txa.get(p);q=Date.now();this.txa.set(p,q);return q;};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.sQ)),r.__param(1,(0,l.l)(n.Dn))],a);b.CJa=a;},27104:function(r,b,a){var f,k,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z){var A;A=this;this.Ug=t;this.config=v;this.Bb=y;this.debug=x;this.cF={};this.zYa=!1;this.ES={};this.Eqa=0;this.g6=function(B){var C,D,E;C=B.stream;if(C){B=C.Vb;D=C.bitrate;E=C.xb;}else B=B.track.Vb;return {key:B + "$" + D + "$" + E,Vb:B,bitrate:D,xb:E};};this.J0a=function(B){var C,D,E;D=A.g6(B);E=null === (C=B.Dc) || void 0 === C?void 0:C.id;B=B.track.Bf;return Object.assign({},D,{key:D.key + "$" + E + "$" + B,Lm:E,Bf:B});};this.FJb=function(B){var C;C=B.stream;B=null === C || void 0 === C?void 0:C.Vb;C=null === C || void 0 === C?void 0:C.bitrate;return {key:B + "$" + C,Vb:null !== B && void 0 !== B?B:"",TM:C};};this.hNb=function(B){var C;C=B.stream;B=null === C || void 0 === C?void 0:C.Vb;C=null === C || void 0 === C?void 0:C.xb;return {key:B + "$" + C,Vb:null !== B && void 0 !== B?B:"",TM:C};};this.log=w.ab("PlayTimeTracker");this.c$=z(t);this.Zt=z(t);this.Yua=z(t);this.startTime=this.Ug.mediaTime.value;this.n8=this.config().jtb;this.KI();this.cF.abrdel=0;this.n8.forEach(function(B){B="abrdel" + B;A.ES[B]=0;A.cF[B]=0;});}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.TLa=void 0;r=a(5163);f=a(22674);k=a(87386);d=a(4203);g=a(71501);a(5021);n=a(42207);h=a(90597);m=a(33096);p=a(3887);q=a(39551);u=a(30873);l.prototype.encode=function(t){return {downloadableId:t.Vb,correlationId:t.Bf,bitrate:t.bitrate,vmaf:t.xb,duration:t.duration,metric:t.TM,cdnId:t.Lm};};l.prototype.decode=function(t){return {Vb:t.downloadableId,Bf:t.correlationId,bitrate:t.bitrate,xb:t.vmaf,duration:t.duration,TM:t.metric,Lm:t.cdnId};};c.prototype.Pp=function(t){t=void 0 === t?"content":t;this.VC(this.Ug.mediaTime.value);return Math.floor(this.Zt.Pp(function(w){return w.track.zC === t;}));};c.prototype.Q0a=function(t){this.VC(this.Ug.mediaTime.value);return Math.floor(this.Zt.Pp(t));};c.prototype.DU=function(t){var w;t=void 0 === t?"content":t;this.VC(this.Ug.mediaTime.value);w=this.Zt.DU(function(v){return v.track.zC === t;});this.debug.assert(w === Math.floor(w),"Value of totalContentPlayTime is not an integer.");return Math.floor(w);};c.prototype.wJb=function(){this.VC(this.Ug.mediaTime.value);return {audio:this.iU(this.c$,this.J0a),video:this.iU(this.Zt,this.J0a)};};c.prototype.OLb=function(){var t,w,v;t=this.Pp("content");w=this.Pp("ads");v=this.Pp("other");t={total:t,totalAdDuration:w,totalOtherDuration:v,totalCombinedDuration:t + w + v,totalContentTime:this.DU("content"),totalStartSlateDuration:this.Q0a(function(y){return !0 === y.Mqa;}),totalLiveEdgeDuration:this.Q0a(function(y){return !0 === y.WB;}),audio:this.iU(this.c$,this.g6),video:this.iU(this.Zt,this.g6),timedtext:this.iU(this.Yua,this.g6)};this.debug.assert(!(!t.audio || !t.video));return t;};c.prototype.aoa=function(){var t,w;this.VC(this.Ug.mediaTime.value);t=this.Zt.Xna(this.FJb);try{w=this.h0a(t);}catch(v){return (this.log.warn("Failed to calc average bitrate."),null);}this.cF.abrdel=Math.round(w);return this.cF.abrdel;};c.prototype.i0a=function(){var t,w;this.VC(this.Ug.mediaTime.value);t=this.Zt.Xna(this.hNb);try{w=this.h0a(t);}catch(v){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(w);};c.prototype.g0a=function(){var t,w;t=this;if(!this.zYa){w=this.Pp();this.n8.forEach(function(v){var y,x,z;if(0 === t.ES["abrdel" + v] && w > v * m.zs){y=0;x=0;z=0;t.Zt.some(function(A){y+=A.stream.bitrate * (A.endTime - A.startTime);x+=A.endTime - A.startTime;z=A.stream.bitrate;return x > v * m.zs;});y && (t.ES["abrdel" + v]=Math.round((y - z * (x - v * m.zs)) / (v * m.zs)));}});0 !== this.ES["abrdel" + this.n8[this.n8.length - 1]] && (this.zYa=!0);(0,p.Wf)(this.ES,function(v,y){t.cF[v]=0 === y?t.cF.abrdel:y;});}return this.cF;};c.prototype.Otb=function(t){this.Eqa+=t;};c.prototype.V6=function(){return this.Zt.V6();};c.prototype.KI=function(){var t;t=this;this.Ug.nf.addListener(function(w){t.SK=t.rVa(t.SK,t.c$,w.newValue);});this.Ug.Zd.addListener(function(w){t.VK=t.rVa(t.VK,t.Zt,w.newValue);});this.Ug.playbackRate.addListener(function(w){t.VC(t.Ug.mediaTime.value,w.oldValue);});this.Ug.$h.addListener(this.WVb.bind(this));};c.prototype.Bta=function(t,w){this.VC(t);this.startTime=w;this.VK=this.SK=void 0;this.UK && (this.UK.startTime=this.startTime);!1;};c.prototype.WVb=function(t){this.Yua.Ge(this.UK,this.Ug.mediaTime.value);this.UK=(t=t.newValue)?{track:t,startTime:this.Ug.mediaTime.value,endTime:g.Zw}:void 0;};c.prototype.VC=function(t,w){w=void 0 === w?this.Ug.playbackRate.value:w;t && this.SK && this.VK && (t=Math.min(t,this.SK.endTime,this.VK.endTime),this.c$.Ge(this.SK,t,w),this.SK.startTime=t,this.Zt.Ge(this.VK,t,w),this.VK.startTime=t,this.UK && (this.Yua.Ge(this.UK,t,w),this.UK.startTime=t),this.startTime=t,!1);};c.prototype.rVa=function(t,w,v){var y;t && w.Ge(t,Math.min(t.endTime,this.Ug.mediaTime.value));if(v && v.stream){t=v.HK;w=v.stream;y=this.Ug.kd;return {Dc:v.Dc,track:w.track,stream:w,startTime:Math.max(t.startTime,this.startTime),endTime:t.endTime,Mqa:y.aa?y.EB(t.endTime) === u.ys.GQ:void 0,WB:y.aa?y.LU():void 0};}};c.prototype.iU=function(t,w){return t.Xna(w,"content").map(function(v){return new l().encode(v);});};c.prototype.h0a=function(t){var w,v,y;w=this;v=0;t.forEach(function(x){if(w.Bb.qg(x.duration) && w.Bb.qg(x.TM))v+=x.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!v)return 0;y=0;t.forEach(function(x){y+=x.TM * x.duration / v;});return y;};a=c;a=r.__decorate([(0,f.U)(),r.__param(1,(0,f.l)(k.bb)),r.__param(2,(0,f.l)(d.Yb)),r.__param(3,(0,f.l)(n.Uf)),r.__param(4,(0,f.l)(h.Ow)),r.__param(5,(0,f.l)(q.pfa))],a);b.TLa=a;},24722:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,E,G,F,J,M,L,K,P;function c(H,I,N,R,X,ha,ta,la,xa,Ba,La,Za,ab,Z,na,Ha,Sa,Q,ra,qa,O,ia,va,Oa,eb,Xa,qb){this.ty=H;this.QA=I;this.Ea=N;this.sa=R;this.lwb=X;this.Yya=ha;this.PV=ta;this.lsa=la;this.HM=xa;this.ed=Ba;this.sh=La;this.zi=Za;this.wK=ab;this.UW=Z;this.Nh=na;this.xza=Ha;this.Kf=Sa;this.bm=Q;this.de=ra;this.Wua=qa;this.Z0b=O;this.gja=ia;this.VG=va;this.Iua=Oa;this.ria=eb;this.kxb=Xa;this.sK=qb;}Object.defineProperty(b,"__esModule",{value:!0});b.ZLa=void 0;r=a(5163);l=a(62665);f=a(22674);k=a(45842);d=a(11479);g=a(81918);n=a(30869);h=a(12826);m=a(37104);p=a(24273);q=a(73449);u=a(66476);t=a(79274);w=a(52531);v=a(24550);y=a(91622);x=a(61861);z=a(78388);A=a(45118);B=a(74870);C=a(92205);D=a(77134);E=a(93367);G=a(85405);F=a(2160);J=a(49745);M=a(50889);L=a(70068);K=a(33258);c.prototype.create=function(H,I,N,R,X,ha,ta,la){return new (a(18128).aMa)(H,I,ha,ta,R,X,this.ty,N,this.Ea,this.QA,this.sa,this.PV,this.lwb,this.Yya,this.lsa,this.HM,this.ed,this.sh,this.zi,this.wK,this.UW,this.Nh,this.xza,this.Kf,this.de,this.Wua,this.bm,this.Z0b(),this.gja,this.VG,this.Iua,this.ria,this.kxb,void 0,la);};P=c;P=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(l.Xw)),r.__param(1,(0,f.l)(d.Rh)),r.__param(2,(0,f.l)(g.Lc)),r.__param(3,(0,f.l)(n.cg)),r.__param(4,(0,f.l)(h.eCa)),r.__param(5,(0,f.l)(k.ZD)),r.__param(6,(0,f.l)(m.rea)),r.__param(7,(0,f.l)(p.UIa)),r.__param(8,(0,f.l)(q.hQ)),r.__param(9,(0,f.l)(u.bE)),r.__param(10,(0,f.l)(t.BQ)),r.__param(11,(0,f.l)(w.TD)),r.__param(12,(0,f.l)(y.nCa)),r.__param(13,(0,f.l)(x.ofa)),r.__param(14,(0,f.l)(J.ND)),r.__param(15,(0,f.l)(z.pPa)),r.__param(16,(0,f.l)(A.tl)),r.__param(17,(0,f.l)(D.sQ)),r.__param(18,(0,f.l)(B.dh)),r.__param(19,(0,f.l)(C.bMa)),r.__param(20,(0,f.l)(E.sNa)),r.__param(21,(0,f.l)(G.BBa)),r.__param(22,(0,f.l)(F.xea)),r.__param(23,(0,f.l)(M.vLa)),r.__param(24,(0,f.l)(L.$Aa)),r.__param(25,(0,f.l)(K.Mca)),r.__param(26,(0,f.l)(v.pP)),r.__param(26,(0,f.optional)())],P);b.ZLa=P;},18128:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,E,G,F,J,M,L,K,P,H,I,N,R,X,ha,ta,la,xa,Ba,La,Za,ab;function c(Z,na,Ha,Sa,Q,ra,qa,O,ia,va,Oa,eb,Xa,qb,zb,Ta,bb,kb,sb,pb,Cb,Ab,Kb,Pb,Xb,Jb,Qb,Nb,Zb,nc,Ac,Pc,Yd,Lf,Zd){var Db,Mf;function gf(wb){wb.newValue && wb.newValue.stream && (Db.Zd.removeListener(gf),Db.m7=wb.newValue.stream.bitrate);}function hf(wb){wb.newValue !== R.lb.Ef && wb.newValue !== R.lb.Kg && (Db.zb.removeListener(hf),Db.yy=Db.sa.SH,Db.Jb.Ec(R.ga.Wt));}function jf(wb){wb.newValue !== R.lb.Ef && (Db.zb.removeListener(jf),Db.gl=!0,Db.TW=Db.sa.ke.ea(D.pa),Db.Jb.Ec(R.ga.gl));}Db=this;this.tb=Q;this.Wj=ra;this.ty=qa;this.Ea=ia;this.QA=va;this.sa=Oa;this.PV=eb;this.lsa=zb;this.HM=Ta;this.ed=bb;this.sh=kb;this.zi=sb;this.wK=pb;this.UW=Cb;this.Nh=Ab;this.xza=Kb;this.Kf=Pb;this.de=Xb;this.Wua=Jb;this.bm=Qb;this.jbb=Nb;this.gja=Zb;this.VG=nc;this.Iua=Ac;this.ria=Pc;this.Zja=Yd;this.sK=Lf;this.l$a=[];this.hq=new Map();this.n3a=new Map();this.uc=new q.Ib(null);this.Gg=new q.Ib(null);this.Mb=new q.Ib(null);this.$h=new q.Ib(null);this.lu=new q.Ib(void 0);this.Oe=new q.Ib(null);this.Mg=new q.Ib(null);this.mediaTime=new q.Ib(void 0);this.playbackRate=new Ba.fMa(1,u.config.zsa);this.background=new q.Ib(!0);this.c8b=function(wb){return Db.uc.set(wb.newValue);};this.K8b=function(wb){return Db.Gg.set(wb.newValue);};this.H8b=function(wb){return Db.Mb.set(wb.newValue);};this.a8b=function(wb){return Db.$h.set(wb.newValue);};this.G8b=function(wb){return Db.lu.set(wb.newValue);};this.J8b=function(wb){return Db.Oe.set(wb.newValue);};this.b8b=function(wb){return Db.Mg.set(wb.newValue);};this.y8b=function(wb){return Db.Zd.set(wb.newValue);};this.x8b=function(wb){return Db.nf.set(wb.newValue);};this.v8b=function(wb){return Db.mediaTime.set(wb.newValue);};this.d8b=function(wb){return Db.background.set(wb.newValue);};this.VO=function(wb){return Db.playbackRate.set(wb.newValue);};this.oo={};this.Mwa=this.nza=0;this.Jb=new t.Yj();this.Hba={};this.gY=this.b$a=this.gl=!1;this.iD=new q.Ib(void 0);this.state=new q.Ib(R.Wb.mJ);this.Ai=new q.Ib(!1);this.paused=new q.Ib(!1);this.muted=new q.Ib(!1);this.volume=new q.Ib(u.config.EDb / 100);this.zb=new q.Ib(R.lb.Ef);this.Qd=new q.Ib(R.tf.ee);this.Sq=new q.Ib(R.tf.ee);this.jm=new q.Ib(R.tf.ee);this.nf=new q.Ib(null);this.Zd=new q.Ib(null);this.Tja=new q.Ib(null);this.Y6=(0,m.EGa)(this);this.Dc=[new q.Ib(null),new q.Ib(null)];this.Cja={};this.hL=!1;this.gb=this.th=-1;this.hG=function(wb,$b){var Qc;wb=void 0 === wb?null:wb;return (0,L.Sb)(wb)?$b && !Db.Vi($b).Y?wb:(null === (Qc=Db.fb) || void 0 === Qc?0:Qc.Bh)?Db.fb.gla(wb):wb:null;};this.tW=function(){Db.rya();};this.DSb=this.gB=Z;this.addEventListener=this.Jb.addListener;this.removeEventListener=this.Jb.removeListener;this.fireEvent=this.Jb.Ec;this.Eia({J:Z,I:Sa,cb:Ha || ({})},u.config.Qr?this.ed.Ct(Z):void 0,na);this.log=(0,C.Fh)(this);this.pYa=O(this);this.kwb=Xa(this);this.uk=(0,I.createElement)("DIV",p.Dfa,void 0,{id:this.P});this.YOb();this.Fc=this.log.q4("Playback");(0,k.MLa)(this);y.eA.O7a=this;y.eA.Dna || (y.eA.Dna=this);this.Fc.info("Playback created",this.ug);this.g6a?this.Fc.info("Playback selected for trace playback info logging"):this.Fc.trace("Playback not selected for trace playback info logging");u.config.Qr && (this.ed.xNb(this.P),this.addEventListener(R.ga.Wt,function(){Db.ed.zNb(Db.P);Db.Mb.addListener(function(){Db.ed.E2a();});Db.uc.addListener(function(){Db.ed.E2a();});}),this.addEventListener(R.ga.og,function(){Db.ed.wNb(Db.P);}));this.state.addListener(function(wb){Db.Fc.info("Playback state changed",{From:wb.oldValue,To:wb.newValue});(0,G.oa)(wb.newValue > wb.oldValue);});v.oe.addListener(v.Wk,this.tW,p.Hea);Mf=qb((0,D.uh)(1));this.mediaTime.addListener(function(){Db.bIb();Mf.Pj(function(){return Db.s_a();});});this.zb.addListener(function(wb){Db.Fc.info("PresentingState changed",{From:wb.oldValue,To:wb.newValue,MediaTime:(0,F.bh)(Db.mediaTime.value)},Db.Ot());});this.zb.addListener(function(){Db.Ai.set(Db.zb.value === R.lb.he);});this.Qd.addListener(function(wb){Db.Fc.info("BufferingState changed",{From:wb.oldValue,To:wb.newValue,MediaTime:(0,F.bh)(Db.mediaTime.value)},Db.Ot());});this.Sq.addListener(function(wb){Db.Fc.info("AV BufferingState changed",{From:wb.oldValue,To:wb.newValue,MediaTime:(0,F.bh)(Db.mediaTime.value)},Db.Ot());});this.jm.addListener(function(wb){Db.Fc.info("Text BufferingState changed",{From:wb.oldValue,To:wb.newValue,MediaTime:(0,F.bh)(Db.mediaTime.value)},Db.Ot());});this.uc.addListener(function(wb){(0,G.oa)(wb.newValue && wb.newValue.Yf);Db.Fc.info("AudioTrack changed",wb.newValue && ({ToBcp47:wb.newValue.ye,To:wb.newValue.trackId}),wb.oldValue && ({FromBcp47:wb.oldValue.ye,From:wb.oldValue.trackId}),{MediaTime:(0,F.bh)(Db.mediaTime.value)});});this.Mb.addListener(function(wb){(0,G.oa)(!wb.newValue || wb.newValue.Yf);Db.Fc.info("TimedTextTrack changed",wb.newValue?{ToBcp47:wb.newValue.ye,To:wb.newValue.trackId}:{To:"none"},wb.oldValue?{FromBcp47:wb.oldValue.ye,From:wb.oldValue.trackId}:{From:"none"},{MediaTime:(0,F.bh)(Db.mediaTime.value)});});this.zb.addListener(jf,p.oJ);this.zb.addListener(hf);this.addEventListener(R.ga.Wt,function(){Db.gY=!0;Db.Tdb=Db.MS();Db.re("start");});this.Zd.addListener(gf);(0,B.XLa)(this);y.In.push(this);u.config.pX && (this.X9=this.Wua(this),this.a$=new z.hMa(this));y.jfa.forEach(function(wb){wb(Db);});this.Xtb=function(){Db.addEventListener(R.ga.MC,function(wb){var $b;wb=wb.Xb;wb !== R.oc.xs && wb !== R.oc.WD && (null === ($b=Db.fb) || void 0 === $b?void 0:$b.stop());});Db.addEventListener(R.ga.Ij,function(wb){var $b,Qc,kf,Nf,Hc,$d,Of,ae,lf,Pf;Db.jbb.Ij(wb);kf=wb.Xb;Nf=wb.skip;Hc=wb.e9;$d=wb.Jta;Of=wb.P;ae=wb.Zq;Db.ca.fl.Bta($d,Hc);if(kf !== R.oc.WD && kf !== R.oc.xs)if(Nf){if(null !== ($b=Db.fb) && void 0 !== $b && $b.di(Hc)){Db.Fc.trace("Repositioned. Skipping from " + $d + " to " + Hc);wb=function(ac){Db.log.error("streamingSession.skipped threw an exception",ac);ac=X.Mc.Sna(E.V.$hb,ac);Db.Sr(ac.code,ac);};try{Db.fb.bI(Hc).then(function(ac){var Rc;ac.oM || (null === (Rc=Db.fb) || void 0 === Rc?void 0:Rc.play());}).catch(wb);}catch(ac){wb(ac);}}else Db.log.error("can skip returned false");}else {Db.Fc.trace("Repositioned. Seeking from " + $d + " to " + Hc);try{lf=Db.tb.u6(Db.ca);Pf=Object.keys(lf.O).find(function(ac){var Rc;ac=lf.O[ac];return ac.J === Of && ac.ta <= ae && (null !== (Rc=ac.va) && void 0 !== Rc?Rc:Infinity) > ae;});null === (Qc=Db.fb) || void 0 === Qc?void 0:Qc.r2b(ae,Pf);}catch(ac){Db.log.error("streamingSession.seekByContentPts threw an exception",ac);Hc=X.Mc.Sna(E.V.Yhb,ac);Db.Sr(Hc.code,Hc);}}});};this.playbackRate.addListener(function(){var wb,$b;if(null === (wb=Db.fb) || void 0 === wb?0:wb.Bh)null === ($b=Db.fb) || void 0 === $b?void 0:$b.mYb();});this.addEventListener(R.ga.Kx,function(wb){var $b;wb.Xb == y.gfa && (Db.Qd.set(R.tf.ee),null === ($b=Db.fb) || void 0 === $b?void 0:$b.pm(Db.Vd.N0a()));});Zd && (this.ca.Y=Zd,this.Nh.lY(Z,Zd));}Object.defineProperty(b,"__esModule",{value:!0});b.aMa=void 0;l=a(5163);f=a(50040);k=a(86258);d=a(20318);g=a(66093);n=a(11953);h=a(73585);m=a(24427);p=a(33096);q=a(81734);u=a(29204);t=a(94886);w=a(42654);v=a(37509);y=a(13044);x=a(59032);z=a(62439);A=a(79014);B=a(39480);C=a(31276);D=a(5021);E=a(36129);G=a(45146);F=a(8825);J=a(3887);M=a(32219);L=a(32687);K=a(73056);P=a(45266);H=a(16520);I=a(52569);N=a(72639);R=a(85001);X=a(31149);ha=a(43422);ta=a(78719);la=a(35128);xa=a(13494);Ba=a(65361);La=a(50954);Za=a(24066);ab=a(60328);c.prototype.re=function(Z,na){var Ha;na=void 0 === na?this.gB:na;null === (Ha=this.hq.get(na)) || void 0 === Ha?void 0:Ha.re(Z);};c.prototype.uy=function(Z){this.ca.uy(Z);};c.prototype.O6=function(){var Z;return !(null === (Z=this.Y) || void 0 === Z || !Z.Fa.Nm);};c.prototype.dM=function(){var Z,na,Ha;return !(null === (Ha=null === (na=null === (Z=this.Y) || void 0 === Z?void 0:Z.Fa.Gm) || void 0 === na?void 0:na.ie.length) || void 0 === Ha || !Ha);};c.prototype.YOb=function(){var Z;Z=this;this.uc.addListener(function(na){return Z.ca.uc.set(na.newValue);});this.Gg.addListener(function(na){return Z.ca.Gg.set(na.newValue);});this.Mb.addListener(function(na){return Z.ca.Mb.set(na.newValue);});this.$h.addListener(function(na){return Z.ca.$h.set(na.newValue);});this.lu.addListener(function(na){return Z.ca.lu.set(na.newValue);});this.Oe.addListener(function(na){return Z.ca.Oe.set(na.newValue);});this.Mg.addListener(function(na){return Z.ca.Mg.set(na.newValue);});this.Zd.addListener(function(na){return Z.ca.Zd.set(na.newValue);});this.nf.addListener(function(na){return Z.ca.nf.set(na.newValue);});this.Dc[ab.u.$].addListener(function(na){return Z.ca.Dc[ab.u.$].set(na.newValue);});this.Dc[ab.u.X].addListener(function(na){return Z.ca.Dc[ab.u.X].set(na.newValue);});this.mediaTime.addListener(function(na){return Z.ca.mediaTime.set(na.newValue);});this.background.addListener(function(na){return Z.ca.background.set(na.newValue);});this.playbackRate.addListener(function(na){return Z.ca.playbackRate.set(na.newValue);});this.Lbb();};c.prototype.Lbb=function(){var Z;Z=this;this.ca !== this.uxa && (this.ca.mediaTime.set(this.mediaTime.value),this.ca.background.set(this.background.value),this.ca.playbackRate.set(this.playbackRate.value),this.Po(function(na){return na.uc;},this.c8b),this.Po(function(na){return na.Gg;},this.K8b),this.Po(function(na){return na.lu;},this.G8b),this.Po(function(na){return na.Mb;},this.H8b),this.Po(function(na){return na.$h;},this.a8b),this.Po(function(na){return na.Oe;},this.J8b),this.Po(function(na){return na.Mg;},this.b8b),this.Po(function(na){return na.nf;},this.x8b),this.Po(function(na){return na.Zd;},this.y8b),this.Po(function(na){return na.Dc[ab.u.$];},function(na){return Z.Dc[ab.u.$].set(na.newValue);}),this.Po(function(na){return na.Dc[ab.u.X];},function(na){return Z.Dc[ab.u.X].set(na.newValue);}),this.Po(function(na){return na.mediaTime;},this.v8b),this.Po(function(na){return na.background;},this.d8b),this.Po(function(na){return na.playbackRate;},this.VO),this.Mb.set(this.ca.Mb.value),this.uc.set(this.ca.uc.value,{X2:!0}),this.Gg.set(this.ca.Gg.value),this.$h.set(this.ca.$h.value),this.lu.set(this.ca.lu.value),this.Oe.set(this.ca.Oe.value),this.Mg.set(this.ca.Mg.value),this.uxa=this.ca);};c.prototype.Po=function(Z,na){this.uxa && Z(this.uxa).removeListener(na);Z(this.ca).addListener(na);};c.prototype.Sxb=function(){var Z;return !(null === (Z=this.Vc) || void 0 === Z?0:Z.El.value);};c.prototype.load=function(Z){var na,Ha;na=this;this.load=function(){};this.o$a=Z;if(this.state.value == R.Wb.mJ){this.Fc.info("Playback loading",this);this.oVb();this.re("asl_load_start");Ha=this.QA;Z=Ha.startTime;Ha=Ha.endTime;(0,L.Xc)(Z)?(0,L.Xc)(Ha)?this.re("asl_ended"):this.re("asl_in_progress"):this.re("asl_not_started");this.QA.BV(function(Sa){na.re("asl_load_complete");Sa.ia?na.LBb():na.Sr(Sa.errorCode || E.V.Jda,Sa);});}};c.prototype.MYb=function(){!1;try{this.state.value === R.Wb.LOADING && (this.ygb(),this.Gl=this.wK.tub({Fz:(0,D.Ob)(this.kb),P:this.P,AC:this.Xx,cb:this.cb,uC:this.cb.sg?u.config.oua:u.config.uC,kd:this.kd}).ea(D.pa),this.bja(),this.LCb());}catch(Z){this.Sr(E.V.Ilb,{za:E.S.sl,Nb:(0,J.Ae)(Z)});}};c.prototype.ygb=function(){var Z,na,Ha;Ha={width:1,height:1};this.IB({Hgb:!0}).forEach(function(Sa){Ha.width * Ha.height < Sa.width * Sa.height && (Ha={width:Sa.width,height:Sa.height});});Ha.height === (null === (Z=this.iD.value) || void 0 === Z?void 0:Z.height) && Ha.width === (null === (na=this.iD.value) || void 0 === na?void 0:na.width) || this.iD.set(Ha);};c.prototype.Yv=function(){var Z,na;!1;na=this.tb.u6(this);this.eXa(na);null === (Z=this.fb) || void 0 === Z?void 0:Z.tu(na);};c.prototype.aH=function(Z){var na,Ha;!1;(0,G.oa)(this.fb,"ASE should be initialized");Ha=this.tb.oU(Z);Ha?Z === this.tb.ih?this.fb.T3(Ha,!0) || this.IU(Ha,{}):null === (na=this.fb) || void 0 === na?void 0:na.Rj(Z,Ha,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.IU=function(Z,na,Ha){var Sa,Q,ra,qa,O;Sa=this;Ha=void 0 === Ha?!0:Ha;!1;qa=this.tb.me(Z);if(this.zi.xba && this.tb.ca.J === qa.J)return Promise.resolve(this.Vd.seek(qa.ta,R.oc.jx,void 0));qa=this.Wj.bM(qa.J);na=(0,P.J8)(qa.wb,na);if(null === (Q=this.fb) || void 0 === Q || !Q.Bh)throw (!1,Error("No streaming session"));!1;this.TE("Transition " + this.tb.ih + "->" + Z);O=this.Vi(Z);O.mm=this.Ea.Kb().ea(D.pa);O.cb=na;return "seamless" !== (null !== (ra=this.tb.me(Z).ce) && void 0 !== ra?ra:"seamless") || Ha?(this.fb.pU(Z).JS?this.iNb(Z,O.P):this.KX(Z,O.P)).then(function(){Sa.xIb(O.P);}):Promise.resolve();};c.prototype.KX=function(Z,na){var Ha;Ha=this.tb.sk.O[Z].ta;!1;this.TE("NO DATA " + Z + ", SEEKING " + Ha + ", viewableId: " + na);return Promise.resolve(this.Vd.seek(Ha,R.oc.jx,Z,!0));};c.prototype.iNb=function(Z,na){var Ha,Sa,Q,ra,qa;Ha=this;!1;Sa=this.fb;if(null === Sa || void 0 === Sa || !Sa.Bh)throw Error("No streaming session");Q=new Promise(function(O){function ia(){!1;Sa.removeEventListener("stop",ia);O();}Sa.addEventListener("stop",ia);});ra=!1;qa=new Promise(function(O){function ia(Oa){!1;Ha.removeEventListener(R.ga.Ij,ia);ra=Oa.skip;O();}function va(){!1;Ha.removeEventListener(R.ga.MC,va);Sa.stop();}Ha.addEventListener(R.ga.MC,va);Ha.addEventListener(R.ga.Ij,ia);});Q=Promise.all([Q,qa]).then(function(){var O;O=!1;ra && (O=Sa.T3(Z,!1));if(!O)return (Ha.TE("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),Ha.KX(Z,na));});qa=Sa.ila(Z,this.tb.sk.O[Z].ta);!1;this.Vd.seek(qa,R.oc.WD,Z,!0);return Q;};c.prototype.Eia=function(Z,na,Ha){var Sa,Q,ra,qa,O,ia,va,Oa;na=void 0 === na?this.ty.dB():na;Ha=void 0 === Ha?this.Ea.Kb():Ha;ra=!!u.config.ahb && !(na % u.config.ahb);qa=Z.J;O=Z.I;ia=Z.cb;va=Z.Gf;if(this.hq.has(qa))na=this.hq.get(qa);else {na=this.UW(y.eA.index++,qa,O,ia,na,Ha,ra,this.ca,this.hG,va,this);this.hq.set(qa,na);1 < this.hq.size && (na.GM=this.HM.create(this,na,!1,this.hG));na.SM=new x.uJa(this,na);Oa=null === va || void 0 === va?void 0:va.$b;(Z=Z.ewb) || (Z=null === (Q=null === (Sa=this.ca.Y) || void 0 === Sa?void 0:Sa.yp) || void 0 === Q?void 0:Q.find(function(eb){return eb.Fa.P === qa && (void 0 === Oa || eb.Fa.$b === Oa);}));Z && this.q$(Z,na);1 < this.hq.size && this.Nh.M6(na.P) && this.x$(na);}};c.prototype.dXa=function(Z,na,Ha,Sa){var Q,ra,qa,O,ia,va,Oa,eb,Xa,qb;Q=this;!1;eb={rM:!0,sg:!1,fD:Date.now()};(0,G.oa)(na.Ff,"Auxiliary viewable config request options must have auxiliary options");Xa=na.Ff;na=Xa.$b;Xa=Xa.zd;if(this.T6(Xa)){qb=null === (ra=this.jk(Xa).Y) || void 0 === ra?void 0:ra.Fa;ra={$b:na,FW:this.Gd,zd:Xa,LW:qb};(0,G.oa)(null === (qa=this.fb) || void 0 === qa?void 0:qa.zj,"If we have auxiliary viewables combined playgraph must exist");if(null === (ia=null === (O=this.fb) || void 0 === O?void 0:O.zj) || void 0 === ia?0:ia.O)(qa=Object.keys(null === (Oa=null === (va=this.fb) || void 0 === va?void 0:va.zj) || void 0 === Oa?void 0:Oa.O).find(function(zb){var Ta,bb;return (null === (bb=null === (Ta=Q.fb) || void 0 === Ta?void 0:Ta.zj) || void 0 === bb?void 0:bb.O[zb].J) === Z;}),(0,G.oa)(!!qa,"Segment for the auxiliary viewable should exist in the combined playgraph"),this.Eia({ewb:Sa,Gf:ra,cb:eb,I:qa,J:Z},Ha));}};c.prototype.T6=function(Z){return !!this.hq.has(Z);};c.prototype.P2a=function(Z){try{return (this.Vi(Z),!0);}catch(na){return !1;}};c.prototype.jk=function(Z){if(Z === La.Dq)return this.ca;if(!this.hq.has(Z))throw Error("Playback segment not found: " + Z);return this.hq.get(Z);};c.prototype.Vi=function(Z){var na,Ha,Sa;a:{for(var Q=ja(this.lH),ra=Q.next();!ra.done;ra=Q.next()){if((ra=ra.value,ra.I === Z)){Q=ra;break a;}}Q=void 0;}return Q?Q:(null === (Ha=null === (na=this.fb) || void 0 === na?void 0:na.zj) || void 0 === Ha?0:Ha.O[Z])?(Z=null === (Sa=this.fb) || void 0 === Sa?void 0:Sa.zj.O[Z].J,this.gsa.P === Z && (Q=this.gsa),null !== Q && void 0 !== Q?Q:this.jk(Z)):this.ca;};c.prototype.QLb=function(Z){for(var na,Ha,Sa=ja(this.lH),Q=Sa.next();!Q.done;Q=Sa.next()){if((Q=Q.value,(null === (Ha=null === (na=Q.je) || void 0 === na?void 0:na.Eb) || void 0 === Ha?void 0:Ha.sessionId) === Z))return Q;}return this.ca;};c.prototype.a1a=function(Z){return this.n3a.get(Z);};c.prototype.x$=function(Z){var na,Ha;na=this;!1;Ha=Z.P;this.Wj.l3b(Ha);return this.TX(Z).then(function(Sa){na.q$(Sa,Z);Sa=Z.zG?na.Gb.Yk.kbb(Z):Promise.resolve();na.YYb(Z);return Sa.then(function(){return na.Wj.Hcb(Ha);});}).catch(function(Sa){na.log.error("queueManifest failed",Sa);na.Wj.k3b(Ha,Sa);throw na.sh(Sa.code,Sa);});};c.prototype.qw=function(Z,na){var Ha,Sa,Q,ra,qa;Ha=this;(0,G.oa)(na.Ff,"auxiliaryOptions must exist if an adBreak hydration was requested");Sa=na.Ff;Q=Sa.$b;ra=Sa.zd;(0,G.oa)(!!Q,"auxiliaryManifestToken must exist if an adBreak hydration was requested");!1;na=this.jk(na.Ff.zd);Sa=N.ul.wm;qa={rM:!0,sg:!1,fD:Date.now()};return this.Nh.ny({na:na.na,cb:qa,J:na.P,jr:Sa,kf:void 0,RO:void 0,Gf:{fh:Z,$b:Q,zd:ra,FW:na.Gd}},!1).then(function(O){var ia,va;O.yp.forEach(function(Oa){Ha.n3a.set(Oa.Fa.P,Oa);});if(null === (ia=O.Fa.Gm) || void 0 === ia || !ia.ie.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (ra + ", adBreakToken: " + Z));return null === (va=O.Fa.Gm) || void 0 === va?void 0:va.ie[0];});};c.prototype.xJb=function(){if((0,L.Sb)(this.Yc.ats) && (0,L.Sb)(this.Yc.at))return this.Yc.at - this.Yc.ats;};c.prototype.m0a=function(){var Z,na;Z=this.cZ();na=this.wS();return Math.min(Z,na);};c.prototype.uO=function(){this.background.value || (this.Fc.info("Starting inactivity monitor for movie " + this.P),new w.lHa(this));};c.prototype.close=function(Z){Z && (this.state.value == R.Wb.CLOSED?Z():this.addEventListener(R.ga.closed,function(){Z();}));this.rya();};c.prototype.rd=function(Z,na,Ha){Z=this.sh(Z,na,Ha);this.mF(Z,void 0);};c.prototype.mF=function(Z,na){var Ha,Sa,Q,ra;Ha=this;!1;(0,E.u_)(Z.errorCode,Z.za,this.Ea.Kb().qa(this.Oh).ea(D.pa),null === (Sa=this.Vd) || void 0 === Sa?void 0:Sa.Gv()) || this.Zja.add(this.sa.ke,null === (Q=this.je) || void 0 === Q?void 0:Q.SL(),Z.errorCode,Z.za,Z.He);Z.Tcb(this.gl);if(this.state.value == R.Wb.mJ)this.mh || (this.mh=Z,this.load());else {na && (this.state.value == R.Wb.CLOSED?na():this.addEventListener(R.ga.closed,function(){na();}));Sa=function(){Ha.rya(Z);};Q=u.config.cYa && Z && u.config.cYa[Z.errorCode];ra=-1;(0,L.wM)(Q) && (ra=(0,J.aj)(Q));this.Fc.error("Fatal playback error",{Error:"" + Z,HandleDelay:"" + Q});0 <= ra?setTimeout(Sa,ra):Sa();}};c.prototype.TE=function(Z){var na;na=void 0 === na?this.I:na;Z=this.Ea.Kb().ea(D.pa) + "-" + na + "-" + Z;!1;this.l$a.push(Z);};c.prototype.mIb=function(){this.s_a();};c.prototype.Voa=function(){var Z;if(null === (Z=this.fb) || void 0 === Z?0:Z.Bh)if((Z=this.fb.ko().id,void 0 !== Z))return Z;return null;};c.prototype.FB=function(){var Z,na;na=null === (Z=this.fb) || void 0 === Z?void 0:Z.Bh;return void 0 === this.ca.$S || na?this.hG(this.mediaTime.value):this.ca.$S;};c.prototype.Uoa=function(){var Z;Z=this.hG(this.Vd.N0a());return null === Z?null:Math.min(this.Xx.ea(D.pa),Math.max(0,Z));};c.prototype.cU=function(){var Z,na;return null === (na=null === (Z=this.Y) || void 0 === Z?void 0:Z.Fa.Dp) || void 0 === na?void 0:na.O;};c.prototype.uba=function(Z){!1;this.cb=(0,P.J8)(this.cb,Z);this.bja();};c.prototype.xpa=function(Z){return (null === Z || void 0 === Z?0:Z.J)?Z.J:(null === Z || void 0 === Z?0:Z.Hgb) && this.nF?this.nF.J === La.Dq?(Z=this.nF.Fb) && this.fb && this.fb.zj?this.fb.zj.O[Z].J:this.P:this.nF.J:this.P;};c.prototype.tJb=function(){var Z;Z=this.jk(this.xpa(void 0)).uc;return Z.value?Z.value.streams:[];};c.prototype.IB=function(Z){return (Z=this.jk(this.xpa(Z)).Gg) && Z.value?Z.value.streams:[];};c.prototype.J2a=function(Z){for(var na=ja(this.lH),Ha=na.next();!Ha.done;Ha=na.next()){if(Ha=(Ha=Ha.value.ng) && Ha.find(function(Sa){return Sa.id === Z;}))return Ha;}!1;};c.prototype.YYb=function(Z){Z=void 0 === Z?this.ca:Z;!1;Z.Mb.value?this.An.VYb(Z.Mb.value):Promise.resolve();};c.prototype.F2a=function(Z){for(var na=ja(this.lH),Ha=na.next();!Ha.done;Ha=na.next()){Ha=ja(Ha.value.ci);for(var Sa=Ha.next();!Sa.done;Sa=Ha.next()){if(Sa=Sa.value.streams.find(function(Q){return Q.Vb === Z;}))return Sa;}}!1;};c.prototype.U2a=function(Z){for(var na=ja(this.lH),Ha=na.next();!Ha.done;Ha=na.next()){Ha=ja(Ha.value.Ew);for(var Sa=Ha.next();!Sa.done;Sa=Ha.next()){if(Sa=(Sa=Sa.value) && Sa.streams.find(function(Q){return Q.Vb === Z;}))return Sa;}}!1;};c.prototype.SNb=function(Z){for(var na=ja(this.lH),Ha=na.next();!Ha.done;Ha=na.next()){if(Ha.value.Gd === Z)return !0;}return !1;};c.prototype.jt=function(){var Z,na,Ha;return null !== (Ha=null === (na=null === (Z=this.a$) || void 0 === Z?void 0:Z.bT) || void 0 === na?void 0:na.call(Z)) && void 0 !== Ha?Ha:this.UBb().b_a;};c.prototype.ddb=function(Z){var na,Ha;null !== (na=this.fb) && void 0 !== na && na.Bh && this.hq.has(Z) && ((null === (Ha=this.a$) || void 0 === Ha?0:Ha.bT)?this.a$.cgb():(na=this.sla(Z),this.fb.xaa(na,Z)));};c.prototype.AQb=function(){return "trailer" === this.Cd;};c.prototype.FPb=function(){return !!this.Cd && 0 <= this.Cd.indexOf("billboard");};c.prototype.HQb=function(){return !!this.Cd && 0 <= this.Cd.indexOf("video-merch");};c.prototype.fQb=function(){return !!this.Cd && 0 <= this.Cd.indexOf("mini-modal");};c.prototype.tM=function(){return this.AQb() || this.FPb() || this.HQb() || this.fQb();};c.prototype.a6=function(){var Z,na,Ha;na={Hgb:!0};if((null === (Z=this.jk(this.xpa(na)).Y) || void 0 === Z || !Z.Fa.Fqa) && this.Ew){this.IB(na).forEach(function(Sa){var Q,ra;if((0,L.Sb)(Sa.tla) && (0,L.Sb)(Sa.yXa) && (0,L.Sb)(Sa.xXa) && (0,L.Sb)(Sa.wXa) && (0 < Sa.tla || 0 < Sa.yXa)){Q=1;ra=1;(0,L.Sb)(Sa.S9a) && (0,L.Sb)(Sa.T9a) && (Q=Sa.S9a,ra=Sa.T9a);Q=Sa.wXa * ra / (Sa.xXa * Q);Ha=(0,L.Sb)(Ha)?0 < Sa.tla?Math.max(Ha,Q):Math.min(Ha,Q):Q;}});return Ha;}};c.prototype.lMb=function(){return {tr:this.nza,rt:this.Mwa};};c.prototype.UL=function(Z){return this.oo[Z];};c.prototype.aka=function(){return this.mm?this.Ea.Kb().ea(D.pa) - this.mm:this.sa.ke.ea(D.pa) - this.SF();};c.prototype.MS=function(){var Z;if(this.mm)return this.Ea.Kb().ea(D.pa) - this.mm;Z=this.Ea.Gy;return this.TW - (this.Oh.ea(D.pa) + Z.ea(D.pa));};c.prototype.bka=function(){return this.mm?this.Ea.Kb().ea(D.pa) - this.mm:this.TW - this.SF();};c.prototype.DJb=function(){var Z,na;Z=this.loadTime;na={};(0,J.Wf)(this.Cja,function(Ha,Sa){na[Ha]=Sa.map(function(Q){return Q - Z;});});return g.sv?{level:g.sv.j1a(),charging:g.sv.hoa(),statuses:na}:null;};c.prototype.I6=function(){this.r_a();return this.Hba;};c.prototype.SF=function(){var Z;Z=this.cb.fD;Z=(0,L.Sb)(Z)?Z:this.Oh.ea(D.pa) + this.Ea.Gy.ea(D.pa);(0,G.oa)((0,L.ZB)(Z));return Z;};c.prototype.X1a=function(){return this.Ea.Kb().ea(D.pa) - this.Oh.ea(D.pa);};c.prototype.P9b=function(){this.r4b=!0;};c.prototype.m9=function(){this.Lab();};c.prototype.cZ=function(){var Z;Z=this.tK();return Z && Z.vbuflmsec || 0;};c.prototype.wS=function(){var Z;Z=this.tK();return Z && Z.abuflmsec || 0;};c.prototype.y6b=function(){var Z;Z=this.tK();return Z && Z.tbuflmsec || 0;};c.prototype.fAa=function(){var Z;Z=this.tK();return Z && Z.vbuflbytes || 0;};c.prototype.mja=function(){var Z;Z=this.tK();return Z && Z.abuflbytes || 0;};c.prototype.x6b=function(){var Z;Z=this.tK();return Z && Z.tbuflbytes || 0;};c.prototype.TX=function(Z,na,Ha){var Sa,Q,ra,qa;Sa=this;Z=void 0 === Z?this.ca:Z;Ha=void 0 === Ha?!0:Ha;!1;Q=!!na;ra=!Q && Z !== this.ca;qa=u.config.v$.enabled?N.ul.sob:ra?N.ul.qJ:this.tM()?N.ul.l1:N.ul.wm;Q=this.tM() || Q || ra?void 0:this.Gb.Yk.n6(ra);return this.Nh.ny({na:Z.na,cb:Z.cb,J:Z.P,jr:qa,kf:Q,RO:na,Gf:Z.Gf},Z.Gf?!1:Ha).then(function(O){O.Nqa && Sa.fireEvent(R.ga.zV,{P:Z.P});return O;});};c.prototype.q$=function(Z,na,Ha){var Sa,Q,ra;na=void 0 === na?this.ca:na;Ha=void 0 === Ha?!1:Ha;!1;if(na.cb.sg && !Z.Fa.Dp)this.rd(E.V.Iib);else {Sa=this.PV.create(this);Q=!!(na.Gf && na.Gf.$b && na.Gf.LW);if(Ha){ra=Sa.sOb(na.Y,na.Bc,Z);Z=ra.Y;ra=ra.Bc;}else (Z=Q?Sa.b2b(Z,null === (ra=na.Gf) || void 0 === ra?void 0:ra.LW):Z,ra=Sa.B9a(Z));na.Y=Z;na.Bc=ra;Ha || (na.Gg.set(ra.F4),na.uc.set(ra.iT),na.Mb.set(ra.jT));na.kd.aa && na.kd.LZb();}};c.prototype.xIb=function(Z){var na;na=void 0 === na?!1:na;!1;this.OH({J:Z,wG:na});};c.prototype.K2a=function(Z,na){if(!this.zi.cAa)return !0;Z=this.iq.ea(D.pa) - Z;return 0 > Z || Z > na;};c.prototype.E1b=function(){!1;this.Vd.seek(this.FB() || 0,R.oc.x_);};c.prototype.l3a=function(Z,na){var Ha,Sa;Ha=this;!1;Sa=this.ca;Sa.Q4=!0;return this.TX(Sa,{FW:Sa.Gd,n1b:Z,q1b:na},!1).then(function(Q){var ra;Ha.q$(Q,Sa,!0);Ha.Nh.lY(Sa.P,Sa.Y);return null === (ra=Ha.fb) || void 0 === ra?void 0:ra.WO(Ha.k$a);}).then(function(){var Q,ra;Q=Sa.ci.find(function(qa){return qa.trackId === Z;});ra=Sa.Xg.find(function(qa){return qa.trackId === na;});if(!(Q && Q.Yf && ra && ra.Yf))throw Error("Track hydration failed: requiredAudioTrackId=" + Z + " requiredTextTrackId=" + na);Ha.fireEvent(R.ga.Afb);return {uc:Q,AY:ra};});};c.prototype.ho=function(){return this.Vc;};c.prototype.OH=function(Z){var na,Ha,Sa;na=Z.J;Ha=Z.wG;Z=Z.nF;!1;Z !== this.nF && (this.nF=Z,this.ygb());if(this.DN){if(na === this.gB){this.DN=na;return;}Z=this.jk(na);Sa=Z.Y;Sa && (0,L.Xc)(Sa.FH) && (0,L.Xc)(Sa.WN) && Z.uy({pr_ats:Sa.FH,pr_at:Sa.WN});this.fireEvent(R.ga.ksa,{P:this.gB});this.gB=na;this.bja();Ha || this.Lbb();this.yy=this.sa.SH;this.ca.mm || (this.ca.mm=this.Ea.Kb().ea(D.pa));}("boolean" === typeof this.cb.nL?this.cb.nL:u.config.nL) && !Ha && this.xza.nL(this);Ha={P:na,wG:Ha,DN:this.DN};this.DN=na;this.fireEvent(R.ga.NG,Ha);};c.prototype.LBb=function(){!1;try{this.Gb=new n.fJa(this);this.k4=new ha.BDa(this);this.GM=this.HM.create(this,this.ca,!0,this.hG);u.config.Vxb && new ta.mFa(this,this.Kf,this.log);u.config.QS && this.QS(this);this.m9b();}catch(Z){this.Sr(E.V.Hlb,{za:E.S.sl,Nb:(0,J.Ae)(Z)});}};c.prototype.m9b=function(){!1;this.mh?this.mF(this.mh):(0,L.Xqa)(this.P)?this.xyb():this.Sr(E.V.Elb,{Nb:"" + this.P});};c.prototype.xyb=function(){var Z;!1;Z=f.gI.zcb;Z?Z.ia?this.Kka():this.Sr(E.V.eHa,Z):((0,G.oa)(!u.config.i5),this.mia());};c.prototype.Kka=function(){var Z;Z=this;!this.background.value && u.config.Kka?(0,y.ifa)(function(){Z.mia();},this):this.mia();};c.prototype.mia=function(){var Z;Z=this;!1;this.state.value == R.Wb.LOADING && (u.config.Ima && !this.tM()?f.gI.Ws(y.WLa,function(na){na.ia?(Z.l8=na.l8,Z.iUa()):Z.Sr(E.V.dHa);},!0):this.iUa());};c.prototype.iUa=function(){var Z,na,Ha;Z=this;if(this.state.value == R.Wb.LOADING){this.log.info("Authorizing",this);na=this.Ea.Kb().ea(D.pa);this.re("ats");(0,G.WK)(this.P);(0,G.WK)(this.Uj);Ha=this.RZb.bind(this,na);Promise.all([this.Y,u.config.Qr && this.Nh.M6(this.P)?this.Nh.V5(this.P).catch(function(){}):void 0]).then(function(Sa){var Q,ra;Q=ja(Sa);Sa=Q.next().value;Q=Q.next().value;Sa && Q?ra=Q.Fa.expiration > Sa.Fa.expiration?Q:Sa:Sa?ra=Sa:Q && (ra=Q);ra && 18E5 > ra.Fa.expiration - (0,Za.Jka)() && (ra=void 0);return ra?(Z.gF=ra === Sa?"ui":"videopreparer",ra):Z.TX();}).then(function(Sa){try{Z.q$(Sa);Ha(p.dg);Z.b$a || (Z.b$a=!0,Z.Iua.Sj(Z));}catch(Q){Z.log.error("Exception processing authorization response",Q);Ha({ia:!1,za:E.S.cob});}}).catch(Ha);}};c.prototype.RZb=function(Z,na){var Ha,Sa;Ha=this;!1;if(this.state.value == R.Wb.LOADING){this.re("at");Sa=this.Y;this.uy({pr_ats:Sa && (0,L.Xc)(Sa.FH)?Sa.FH:Z,pr_at:Sa && (0,L.Xc)(Sa.WN)?Sa.WN:this.Ea.Kb().ea(D.pa)});na.ia?0 < this.Bc.ng.length && this.Bc.iT && this.Bc.F4 && this.Bc.jT?this.o$a?(this.log.info("Processing post-authorize",this),this.o$a(this,function(Q){Q.ia?Ha.fgb():Ha.Sr(E.V.Llb,Q);})):this.fgb():this.Sr(E.V.CIa,this.lsa(this.Bc)):this.Sr(E.V.LD,na);}};c.prototype.fgb=function(){var Z,na;l.__awaiter(this,void 0,void 0,function Sa(){var Q;Q=this;return Ja(Sa,function(ra){!1;if(Q.state.value != R.Wb.LOADING)return ra.return();(null === (Z=Q.ca.Y) || void 0 === Z?0:Z.Fa.Dp) && Q.tb.reset((0,La.S3)(null === (na=Q.ca.Y) || void 0 === na?void 0:na.Fa.Dp,{config:u.config}));Q.fb=Q.gja(Q.tb,Q);Q.fb.S3b({vp:d.vp,config:u.config,de:Q.de,Fc:Q.Fc,Ot:Q.Ot.bind(Q),Ui:C.Ui,XX:Q.XX.bind(Q),OH:Q.OH.bind(Q)});Q.MYb();ra.Uv=0;});});};c.prototype.LCb=function(){var Z,na,Ha,Sa,Q,ra,qa;Z=this;!1;try{if(this.state.value === R.Wb.LOADING){this.Gb.open();na=new Promise(function(O){Z.Gb.addEventListener(H.Th.Ldb,O);});this.Vd=new K.nJa(this);Ha=this.Bc.iT.wh === la.Wo.NONE;Sa={fhb:this.Bc.iT.mo || Ha};Q={na:this.na,Sg:this.Bf,pB:this.pB};try{if(this.state.value !== R.Wb.LOADING)return;ra=this.fb;ra.ZU({flags:Sa,AXa:Q,I:this.k$a,sla:this.sla.bind(this)});qa=this.tb.u6(this);this.eXa(qa);ra.tu(qa);this.Xtb();ra.wwb({oo:this.oo,loadTime:this.loadTime});this.Vc=this.ria(ra,this);this.Vc.El.addListener(function(O){O.newValue?(Z.An.$Nb(),u.config.Qr && Z.ed.D2a()):Z.An.t4b();});this.Vc.addEventListener(R.CZ.KA,function(){Z.ed.D2a();});}catch(O){throw (this.log.error("Failed to initialize ASE streaming",{error:O,startPts:this.kb,flags:Sa}),O);}na.then(function(){var O;Z.state.value !== R.Wb.CLOSING && Z.state.value !== R.Wb.CLOSED && (null === (O=Z.fb) || void 0 === O?void 0:O.open());});this.mediaTime.set(this.kb);this.An=new h.bPa(this);if("boolean" === typeof this.cb.I$?this.cb.I$:u.config.I$)this.FY=new A.cPa(this);this.uO();y.kfa.forEach(function(O){O(Z);});this.nVb();}}catch(O){this.Sr(E.V.Jlb,{za:E.S.sl,Nb:(0,J.Ae)(O)});}};c.prototype.oVb=function(){(0,G.oa)(this.state.value == R.Wb.mJ);this.loadTime=this.Ea.Kb().ea(D.pa);this.state.set(R.Wb.LOADING);};c.prototype.Sr=function(Z,na){this.done || (this.done=!0,na instanceof X.Mc?this.rd(na.code,na):this.rd(Z,na));};c.prototype.QS=function(Z){var Ha,Sa;function na(){var Q,ra;Q=g.sv.hoa() + "";ra=Z.Cja[Q];ra || (ra=Z.Cja[Q]=[]);ra.push(Ha.Ea.Kb().ea(D.pa));Ha.log.trace("charging change event",{level:g.sv.j1a(),charging:g.sv.hoa()});}Ha=this;Sa=g.sv.kjb;g.sv.addEventListener(Sa,na);Z.addEventListener(R.ga.og,function(){g.sv.removeEventListener(Sa,na);});};c.prototype.rya=function(Z){var na,Ha;na=this;if(this.state.value == R.Wb.mJ || this.state.value == R.Wb.LOADING || this.state.value == R.Wb.fe){this.Fc.info("Playback closing",this,Z?{ErrorCode:Z.S4}:void 0);this.TE("Closing");v.oe.removeListener(v.Wk,this.tW);this.mh=Z;this.ca.$S=this.FB();this.r_a();(null === (Ha=this.fb) || void 0 === Ha?0:Ha.Bh) && this.fb.flush();try{this.Jb.Ec(R.ga.og,{movieId:this.gB});}catch(Sa){this.Fc.error("Unable to fire playback closing event",Sa);}this.state.set(R.Wb.CLOSING);this.Xhb();this.r4b || (0,M.If)(function(){return na.Lab();});}};c.prototype.bIb=function(){this.Jb.Ec(R.ga.bgb);};c.prototype.s_a=function(){var Z;Z=this.mediaTime.value;this.iRb != Z && (!1,this.iRb=Z,this.Jb.Ec(R.ga.Zya));};c.prototype.Lab=function(){var Z,na;Z=this;(0,G.oa)(this.state.value == R.Wb.CLOSING);na=this.l8;this.l8=void 0;na?f.gI.release(na,function(Ha){(0,G.oa)(Ha.ia);Z.Rka();}):this.Rka();};c.prototype.Xhb=function(){var Z;null === (Z=this.fb) || void 0 === Z?void 0:Z.$e();delete this.fb;};c.prototype.Rka=function(){var Z;this.Rka=p.dx;(0,G.oa)(this.state.value == R.Wb.CLOSING);Z=y.In.indexOf(this);(0,G.oa)(0 <= Z);y.In.splice(Z,1);this.state.set(R.Wb.CLOSED);this.Jb.Ec(R.ga.closed,void 0,!0);this.Jb.Ag();delete this.je;this.ca.m9();};c.prototype.bja=function(){this.cb.playbackState && ("number" === typeof this.cb.playbackState.volume && this.volume.set((0,F.fx)(this.cb.playbackState.volume,0,1)),"boolean" === typeof this.cb.playbackState.muted && this.muted.set(this.cb.playbackState.muted),"number" === typeof this.cb.playbackState.playbackRate && this.playbackRate.set(this.cb.playbackState.playbackRate));};c.prototype.r_a=function(){this.Jb.Ec(R.ga.tdb,{Hba:this.Hba});};c.prototype.XX=function(Z,na,Ha){na=this.J2a(na);Z=this.Vi(Z);na && Z.Dc[Ha].set(na);};c.prototype.Ot=function(){return {AudioBufferLength:this.wS(),VideoBufferLength:this.cZ()};};c.prototype.tK=function(){var Z;if(null === (Z=this.fb) || void 0 === Z?0:Z.Bh)return this.fb.e4a();};c.prototype.nVb=function(){this.state.value == R.Wb.LOADING && this.state.set(R.Wb.fe);};c.prototype.UBb=function(){var Z,na,Ha;Z=void 0 === Z?this.P:Z;na=this.IB({J:Z});Ha=this.jk(Z);return (0,xa.jt)(na,function(Sa){return Ha.SM.vz(Sa);});};c.prototype.sla=function(Z){var na,Ha;Z=void 0 === Z?this.P:Z;na=this.IB({J:Z});Ha=this.jk(Z);return (0,xa.v2a)(na,function(Sa){return Ha.SM.vz(Sa);});};c.prototype.eXa=function(Z){var na;na=this;Object.keys(Z.O).filter(function(Ha){return !na.hq.has(Z.O[Ha].J);}).forEach(function(Ha){var Sa,Q,ra;Q=Z.O[Ha];ra=Q.J;Q=Object.assign(null !== (Sa=na.Wj.bM(ra).wb) && void 0 !== Sa?Sa:{},{kb:Q.ta,ff:Q.va,sg:!1,fD:Date.now(),rM:!0});na.Eia({J:ra,I:Ha,cb:Q});});};Ya.Object.defineProperties(c.prototype,{lH:{configurable:!0,enumerable:!0,get:function(){return this.hq.values();}},ca:{configurable:!0,enumerable:!0,get:function(){return this.hq.get(this.gB);}},gsa:{configurable:!0,enumerable:!0,get:function(){return this.jk(this.DSb);}},kb:{configurable:!0,enumerable:!0,get:function(){var Z,na;return void 0 !== this.Gl?this.Gl:null !== (na=null === (Z=this.lH.next()) || void 0 === Z?void 0:Z.value.cb.kb) && void 0 !== na?na:0;}},Bc:{configurable:!0,enumerable:!0,get:function(){return this.ca.Bc;},set:function(Z){this.ca.Bc=Z;}},K5:{configurable:!0,enumerable:!0,get:function(){return this.ca.cb.K5;}},L5:{configurable:!0,enumerable:!0,get:function(){return this.ca.cb.L5;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ca.index;}},I:{configurable:!0,enumerable:!0,get:function(){return this.ca.I;}},k$a:{configurable:!0,enumerable:!0,get:function(){return this.tb.dAa?this.tb.ih:this.ca.I;}},je:{configurable:!0,enumerable:!0,get:function(){return this.ca.je;},set:function(Z){this.ca.je=Z;}},mm:{configurable:!0,enumerable:!0,get:function(){return this.ca.mm;},set:function(Z){this.ca.mm=Z;}},gF:{configurable:!0,enumerable:!0,get:function(){return this.ca.gF;},set:function(Z){this.ca.gF=Z;}},fF:{configurable:!0,enumerable:!0,get:function(){return this.ca.fF;},set:function(Z){this.ca.fF=Z;}},m7:{configurable:!0,enumerable:!0,get:function(){return this.ca.m7;},set:function(Z){this.ca.m7=Z;}},Y:{configurable:!0,enumerable:!0,get:function(){return this.ca.Y;},set:function(Z){this.ca.Y=Z;}},Gl:{configurable:!0,enumerable:!0,get:function(){return this.ca.Gl;},set:function(Z){this.ca.Gl=Z;}},vY:{configurable:!0,enumerable:!0,get:function(){return this.ca.vY;},set:function(Z){this.ca.vY=Z;}},cb:{configurable:!0,enumerable:!0,get:function(){return this.ca.cb;},set:function(Z){this.ca.cb=Z;}},GM:{configurable:!0,enumerable:!0,get:function(){return this.ca.GM;},set:function(Z){this.ca.GM=Z;}},fl:{configurable:!0,enumerable:!0,get:function(){return this.ca.fl;}},P:{configurable:!0,enumerable:!0,get:function(){return this.ca.P;}},Cd:{configurable:!0,enumerable:!0,get:function(){return this.ca.Cd;}},ci:{configurable:!0,enumerable:!0,get:function(){return this.ca.ci;}},Ew:{configurable:!0,enumerable:!0,get:function(){return this.ca.Ew;}},Cz:{configurable:!0,enumerable:!0,get:function(){return this.ca.Cz;}},Xg:{configurable:!0,enumerable:!0,get:function(){return this.ca.Xg;}},Gd:{configurable:!0,enumerable:!0,get:function(){return this.ca.Gd;}},zG:{configurable:!0,enumerable:!0,get:function(){return this.ca.zG;}},bu:{configurable:!0,enumerable:!0,get:function(){return this.ca.bu;}},Uk:{configurable:!0,enumerable:!0,get:function(){return this.ca.Uk;}},ng:{configurable:!0,enumerable:!0,get:function(){return this.ca.ng;}},Xx:{configurable:!0,enumerable:!0,get:function(){return this.ca.Xx;},set:function(Z){this.ca.Xx=Z;}},na:{configurable:!0,enumerable:!0,get:function(){return this.ca.na;}},Uj:{configurable:!0,enumerable:!0,get:function(){return this.ca.Uj;}},Oh:{configurable:!0,enumerable:!0,get:function(){return this.ca.Oh;}},yy:{configurable:!0,enumerable:!0,get:function(){return this.ca.yy;},set:function(Z){this.ca.yy=Z;}},Bf:{configurable:!0,enumerable:!0,get:function(){return this.ca.Bf;}},UH:{configurable:!0,enumerable:!0,get:function(){return this.ca.UH;}},dT:{configurable:!0,enumerable:!0,get:function(){return this.ca.dT;}},Yc:{configurable:!0,enumerable:!0,get:function(){return this.ca.Yc;}},Ap:{configurable:!0,enumerable:!0,get:function(){return this.ca.Ap;}},oma:{configurable:!0,enumerable:!0,get:function(){return this.ca.oma;}},SM:{configurable:!0,enumerable:!0,get:function(){return this.ca.SM;}},pB:{configurable:!0,enumerable:!0,get:function(){return 0 !== u.config.U4 && 0 === this.ca.na % u.config.U4;}},Q4:{configurable:!0,enumerable:!0,get:function(){return this.ca.Q4;}},kd:{configurable:!0,enumerable:!0,get:function(){return this.ca.kd;}},Bla:{configurable:!0,enumerable:!0,get:function(){return this.muted.value?0:Math.round(100 * this.volume.value) / 100;}},ug:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.P,TrackingId:this.Uj,Xid:this.na};}},e$:{configurable:!0,enumerable:!0,get:function(){return this.tb.e$;}}});b.aMa=c;},52200:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C,D){var E;E=this;this.j=x;this.Tk=z;this.WY=A;this.xh=B;this.cY=C;this.Qm=D;this.HXa={};this.update=function(){var G;if(E.Jo.selectionStart == E.Jo.selectionEnd){G="";E.kU().forEach(function(F){G=G?G + "\n":"";Object.entries(F).forEach(function(J){var M;M=ja(J);J=M.next().value;M=M.next().value;G+=J + ": " + M + "\n";});});E.Jo.style.fontSize=(0,k.fx)((0,g.jJ)(E.element.clientHeight / 60),8,18) + "px";E.Jo.value=G;}};this.nWb=function(){var G,F;if(E.j.Vd){F=E.j.Vd.XF();F && (E.vla=F - (null !== (G=E.sfb) && void 0 !== G?G:0),E.sfb=F,E.hN());}};this.hN=function(){E.WY.Pj(E.update);};this.onkeydown=function(G){G.ctrlKey && G.altKey && G.shiftKey && (G.keyCode == m.Zz.Ejb || G.keyCode == m.Zz.Q) && E.toggle();};this.Z9a=[x.mediaTime,x.Dc[q.u.$],x.Dc[q.u.X],x.nf,x.Zd,x.Mg,x.Oe,x.$h,x.state,x.Sq,x.zb,x.volume,x.muted];this.element=this.xh.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.Jo=this.xh.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.Jo);this.controls=this.xh.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);z=this.xh.createElement("button",void 0,"X");z.addEventListener("click",function(){return E.Jv();},!1);this.controls.appendChild(z);f.oe.addListener(f.JB,this.onkeydown);x.addEventListener(h.ga.og,function(){f.oe.removeListener(f.JB,E.onkeydown);E.Jv();});}Object.defineProperty(b,"__esModule",{value:!0});b.cMa=void 0;l=a(13044);f=a(37509);k=a(8825);d=a(77705);g=a(22365);n=a(32687);h=a(85001);m=a(43193);p=a(5021);q=a(60328);u=a(93161);r={};t=(r[h.Wb.mJ]="Not Loaded",r[h.Wb.LOADING]="Loading",r[h.Wb.fe]="Normal",r[h.Wb.CLOSING]="Closing",r[h.Wb.CLOSED]="Closed",r);r={};w=(r[h.tf.fe]="Normal",r[h.tf.ee]="Pre-buffering",r[h.tf.INa]="Network stalled",r);r={};v=(r[h.lb.Ef]="Waiting for decoder",r[h.lb.he]="Playing",r[h.lb.Kg]="Paused",r[h.lb.zq]="Media ended",r);y=[h.ga.XV];c.prototype.f3b=function(x){this.HXa.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.bV=ob.setInterval(this.nWb,1E3),document.body.appendChild(this.element),this.Z9a.forEach(function(z){z.addListener(x.hN);}),y.forEach(function(z){x.j.addEventListener(z,x.hN);}),this.visible=!0,this.Qm.qY().then(function(z){x.Lpa=z;x.hN();}));this.update();};c.prototype.Jv=function(){var x;x=this;this.visible && (clearInterval(this.bV),this.sfb=this.vla=void 0,document.body.removeChild(this.element),this.Z9a.forEach(function(z){z.removeListener(x.hN);}),y.forEach(function(z){x.j.removeEventListener(z,x.hN);}),this.WY.Pj(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.Jv():this.show();};c.prototype.kU=function(){var x,z,A,B,C,D,E,G,F,J,M,L,K,P,H,I,N,R,X,ha,ta,la,xa,Ba,La,Za,ab,Z,na,Ha,Sa,Q,ra,qa,O,ia,va,Oa,eb,Xa,qb,zb,Ta,bb,kb,sb,pb,Cb,Ab,Kb,Pb,Xb,Jb,Qb;x=this;X=[];ha=this.Tk();X.push({Version:"6.0043.369.911",Esn:ha?ha.hk:"UNKNOWN",PBCID:this.j.Bf,UserAgent:g.QD});try{ta=this.j.mediaTime.value;la={MovieId:this.j.P,PackageId:null === (A=null === (z=this.j.Y) || void 0 === z?void 0:z.Fa) || void 0 === A?void 0:A.tn,Xid:this.j.na + " (" + l.In.map(function(Nb){return Nb.na;}).join(", ") + ")",Position:(0,k.bh)(ta),Duration:(0,k.bh)(this.j.Xx.ea(p.pa)),PlayerDuration:(0,k.bh)(this.j.iq.ea(p.pa)),Volume:(0,g.Fn)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":""),Segment:this.j.Voa()};if(this.j.cb.sg || this.j.cb.rM)la["Segment Position"]=(0,k.bh)(this.j.FB());if(this.j.kd.aa){la["Is Live"]="true";la["Live Event Slate"]=this.j.kd.EB();la["Is At Live Edge"]="" + this.j.kd.WB();la["Adjusted Live Edge Target"]=(0,k.bh)(this.j.kd.mr());la["Live Adjusted Duration"]=(0,k.bh)(this.j.kd.m1a());la["Live Adjusted Playback Position"]=(0,k.bh)(this.j.kd.F6());la["Live Event Time Playback Position"]=this.j.kd.tKb();xa=[q.u.X,q.u.$,q.u.Ga].reduce(function(Nb,Zb){var nc,Ac,Pc;Pc=null === (Ac=null === (nc=x.j.fb) || void 0 === nc?void 0:nc.Pv) || void 0 === Ac?void 0:Ac[Zb];Nb[(0,u.TG)(Zb)]=Pc?{encoderRegion:Pc.rB,encoderTag:Pc.sB}:void 0;return Nb;},{});la["Live Logging Info"]=JSON.stringify(xa);}X.push(la);}catch(Nb){}try{X.push({"Player state":t[this.j.state.value],"Buffering state":w[this.j.Sq.value],"Rendering state":v[this.j.zb.value]});}catch(Nb){}try{Ba=this.j.fAa() + this.j.mja();La=this.j.nf.value;Za=null === La || void 0 === La?void 0:La.stream;ab=this.j.Zd.value;Z=null === ab || void 0 === ab?void 0:ab.stream;na=null !== (B=null === Za || void 0 === Za?void 0:Za.bitrate) && void 0 !== B?B:"?";Ha=Z?Z.bitrate + " (" + Z.width + "x" + Z.height + ")":"?";Sa=null !== (C=null === Za || void 0 === Za?void 0:Za.Vb) && void 0 !== C?C:"?";Q=null !== (D=null === Z || void 0 === Z?void 0:Z.Vb) && void 0 !== D?D:"?";ra=null !== (E=null === Z || void 0 === Z?void 0:Z.xb) && void 0 !== E?E:"?";qa=null !== (F=null === (G=this.j.Oe.value) || void 0 === G?void 0:G.xb) && void 0 !== F?F:"?";O=null !== (M=null === (J=this.j.Mg.value) || void 0 === J?void 0:J.bitrate) && void 0 !== M?M:"?";ia=null !== (K=null === (L=this.j.Oe.value) || void 0 === L?void 0:L.bitrate) && void 0 !== K?K:"?";va=this.j.Dc[q.u.X].value;Oa=this.j.Dc[q.u.$].value;X.push({"Playing bitrate (a/v)":na + " / " + Ha,"Playing/Buffering vmaf":ra + "/" + qa,"Buffering bitrate (a/v)":O + " / " + ia,"Buffer size in Bytes (a/v)":this.j.mja() + " / " + this.j.fAa(),"Buffer size in Bytes":"" + Ba,"Buffer size in Seconds (a/v)":(0,k.bh)(this.j.wS()) + " / " + (0,k.bh)(this.j.cZ()),"Downloadables (a/v)":Sa + " / " + Q,"Current CDN (a/v)":(Oa?Oa.name + ", Id: " + Oa.id:"?") + " / " + (va?va.name + ", Id: " + va.id:"?")});}catch(Nb){}try{eb=this.j.nf.value;z={};if(eb && eb.stream){Xa=eb.stream;qb=Xa.track;zb=this.cY.n4(qb.streams);Ta=Xa.Fd;bb=(/xheaac/).test(Ta)?"xhe-aac":(/heaac/).test(Ta)?"he-aac":(/ddplus/).test(Ta)?"ddplus":"unknown";(/atmos/).test(Ta) && (bb+=", atmos");z["Audio Track"]=qb.ye + ", Id: " + qb.trackId + ", Channels: " + qb.channels + ", Codec: " + zb + " (" + bb + ")";z["Audio Tags"]=null === (P=eb.stream) || void 0 === P?void 0:P.Di.toString();}kb=this.j.Zd.value;if(kb && kb.stream){sb=kb.stream;pb=this.cY.t4(this.j.Gg.value?this.j.Gg.value.streams:[]);Cb=sb.Fd;Ab=(/hevc/).test(Cb)?"hevc":(/vp9/).test(Cb)?"vp9":(/h264hpl/).test(Cb)?"avchigh":(/av1/).test(Cb)?"av1":"avc";(/hdr/).test(Cb) && (Ab+=", hdr");(/dv/).test(Cb) && (Ab+=", dv");(/prk/).test(Cb) && (Ab+=", prk");z["Video Track"]="Codec: " + pb + " (" + Ab + ")";z["Video Tags"]=null === (H=kb.stream) || void 0 === H?void 0:H.Di.toString();}Kb=this.j.$h.value;z["Timed Text Track"]=Kb?Kb.ye + ", Profile: " + Kb.profile + ", Id: " + Kb.trackId + ", DownloadableId: " + Kb.Vb:"none";X.push(z);}catch(Nb){}try{Pb=this.j.Vd;Xb=this.j.Oe.value?this.j.Oe.value.framerate:0;Jb=a(99732).p6a;X.push({Framerate:Xb.toFixed(3),"Current Dropped Frames":(0,n.Sb)(this.vla)?this.vla:"","Total Frames":Pb.Gv(),"Total Dropped Frames":Pb.XF(),"Total Corrupted Frames":Pb.gU(),"Main Thread stall/sec":Jb?Jb.l6().join(" "):"DISABLED",KeySystem:null === (I=this.j.je) || void 0 === I?void 0:I.SL(),KeyStatus:null === (R=null === (N=this.j.je) || void 0 === N?void 0:N.g1a) || void 0 === R?void 0:R.call(N),VideoDiag:(0,d.hsa)(this.j.I6()),"HDR support":this.Lpa?this.Lpa.result + " (" + this.Lpa.reason + ")":"unknown"});}catch(Nb){}try{X.push({Throughput:this.j.gb + " kbps"});}catch(Nb){}Qb=void 0;try{Object.entries(this.HXa).forEach(function(Nb){var Zb;Zb=ja(Nb);Nb=Zb.next().value;Zb=Zb.next().value;Qb=Qb || ({});Qb[Nb]=JSON.stringify(Zb);});Qb && X.push(Qb);}catch(Nb){}return X;};b.cMa=c;},25138:function(r,b,a){var f,k,d,g;function c(n,h,m,p){this.na=n;this.k1b=h;this.ma=m;this.Vf=p;this.Yc={};}function l(n,h){this.Df=n;this.Vf=h;this.Wd={};this.ma=n.ab("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.job=b.eMa=void 0;r=a(5163);f=a(22674);k=a(87386);d=a(81918);g=a(5021);l.prototype.r0b=function(n,h){this.Wd[n] && this.ma.warn("registerPlayback: xid " + n + " already registered, overriding");h=(h?h:this.Vf.Kb()).ea(g.pa);this.ma.trace("registerPlayback: xid " + n + " at " + h);this.Wd[n]=new c(n,h,this.ma,this.Vf);return this.Wd[n];};l.prototype.PLb=function(n){this.Wd[n] || this.ma.warn("getPlaybackMilestones: xid " + n + " is not registered");return this.Wd[n];};l.prototype.M0b=function(n){this.ma.trace("removePlayback: xid " + n);delete this.Wd[n];};a=l;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(k.bb)),r.__param(1,(0,f.l)(d.Lc))],a);b.eMa=a;c.prototype.rp=function(n,h){h=h?h.ea(g.pa):this.Vf.Kb().ea(g.pa) - this.k1b;this.ma.trace("addMilestone: xid " + this.na + " " + n + " at " + h);this.Yc[n]=h;};b.job=c;},81889:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.nfa=void 0;a.prototype.msa=function(c){c=void 0 === c?{}:c;return {Uj:c.trackingId,w3:c.authParams,fm:c.sessionParams,Cd:c.uiLabel,zba:c.uxLabels,ema:c.disableTrackStickiness,fD:c.uiPlayStartTime,K5:c.forceAudioTrackId,L5:c.forceTimedTextTrackId,sg:c.isBranching,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,nL:c.enableTrickPlay,Npa:c.heartbeatCooldown,rM:c.isPlaygraph,k8:c.loadImmediately || !1,O9a:c.pin,YW:c.preciseSeeking,kb:c.startPts,ff:c.endPts,Zi:c.logicalEnd,I$:c.renderTimedText,NZa:c.extraManifestParams,kja:c.assetId,Kvb:c.audioLanguages,A6b:c.textLanguages,dhb:c.videoLanguage,tn:c.packageId,iYa:c.desiredDownloadables,Bwa:c.requestReference,kub:c.additionalAudioAssets,nub:c.additionalTextAssets};};b.nfa=a;},65361:function(r,b,a){var l,f;function c(k,d){k=l.Ib.call(this,k) || this;k.zsa=d;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.fMa=void 0;l=a(81734);f=a(8825);da(c,l.Ib);c.prototype.set=function(k){l.Ib.prototype.set.call(this,(0,f.fx)(k,0,this.zsa));};b.fMa=c;},37025:function(r,b,a){var l,f,k;function c(d,g,n,h,m,p,q,u,t,w,v,y,x,z){this.index=d;this.P=g;this.I=n;this.cb=h;this.na=m;this.Oh=p;this.g6a=q;this.Mzb=t;this.t7a=v;this.Gf=x;this.uc=new l.Ib(null);this.Gg=new l.Ib(null);this.Mb=new l.Ib(null);this.$h=new l.Ib(null);this.lu=new l.Ib(void 0);this.Oe=new l.Ib(null);this.Mg=new l.Ib(null);this.nf=new l.Ib(null);this.Zd=new l.Ib(null);this.Dc=[new l.Ib(null),new l.Ib(null)];this.mediaTime=new l.Ib(void 0);this.playbackRate=new l.Ib(1);this.Ap=new l.Ib(null);this.background=new l.Ib(!1);this.gF=this.fF="notcached";this.Q4=!1;u && (this.Oe.set(u.Oe.value),this.Mg.set(u.Mg.value));this.fl=w(this);this.bm=this.t7a.r0b(this.na,this.Oh);this.kd=y(this,z);}Object.defineProperty(b,"__esModule",{value:!0});b.gMa=void 0;l=a(81734);f=a(5021);k=a(45146);c.prototype.re=function(d){this.bm.rp(d);};c.prototype.uy=function(d){var g;g=this;Object.entries(d).forEach(function(n){var h;h=ja(n);n=h.next().value;h=h.next().value;g.bm.rp(n,(0,f.Ob)(h - g.Oh.ea(f.pa)));});};c.prototype.m9=function(){this.t7a.M0b(this.na);};Ya.Object.defineProperties(c.prototype,{Cd:{configurable:!0,enumerable:!0,get:function(){return this.cb.Cd;}},zba:{configurable:!0,enumerable:!0,get:function(){return this.cb.zba;}},Uk:{configurable:!0,enumerable:!0,get:function(){return this.Bc && this.Bc.Uk;}},ci:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Bc && this.Bc.ci) && void 0 !== d?d:[];}},Ew:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Bc && this.Bc.Ew) && void 0 !== d?d:[];}},Cz:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Bc && this.Bc.Cz) && void 0 !== d?d:[];}},Xg:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Bc && this.Bc.Xg) && void 0 !== d?d:[];}},Gd:{configurable:!0,enumerable:!0,get:function(){return this.Bc && this.Bc.Gd;}},zG:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Bc && this.Bc.zG) && void 0 !== d?d:!1;}},bu:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Bc && this.Bc.bu) && void 0 !== d?d:[];}},ng:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Bc && this.Bc.ng) && void 0 !== d?d:[];}},Xx:{configurable:!0,enumerable:!0,get:function(){var d,g,n,h,m;return this.kd.aa?((0,k.oa)(void 0 === this.PJ || Infinity === this.PJ.ea(f.pa),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + this.kd.aa + ", contentDuration:" + (null === (d=this.PJ) || void 0 === d?void 0:d.display)),(0,f.Ob)(Math.max(null !== (g=this.kd.mr()) && void 0 !== g?g:0,null !== (n=this.mediaTime.value) && void 0 !== n?n:0))):this.PJ && 0 < this.PJ.ea(f.pa)?this.PJ:(0,f.Ob)(null !== (m=null === (h=this.Y) || void 0 === h?void 0:h.Fa.duration) && void 0 !== m?m:0);},set:function(d){this.PJ=d;}},a7a:{configurable:!0,enumerable:!0,get:function(){var d;return this.kd.aa?((0,k.oa)(void 0 === this.m2 || Infinity === this.m2.ea(f.pa),"Unexpected maxSeekPts from ASE. Live should be Infinity. - isLive:" + this.kd.aa + ", maxSeekPts:" + (null === (d=this.m2) || void 0 === d?void 0:d.display)),(0,f.Ob)(this.kd.kLb())):this.m2;},set:function(d){this.m2=d;}},Uj:{configurable:!0,enumerable:!0,get:function(){return this.cb.Uj || 0;}},dT:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.$S?this.$S:void 0 === this.mediaTime.value?null:this.Mzb(this.mediaTime.value,this.I);}},Bf:{configurable:!0,enumerable:!0,get:function(){var d,g;return null === (g=null === (d=this.Y) || void 0 === d?void 0:d.Fa.Ox) || void 0 === g?void 0:g.Sg;}},UH:{configurable:!0,enumerable:!0,get:function(){var d,g;return null === (g=null === (d=this.Y) || void 0 === d?void 0:d.Fa.Ox) || void 0 === g?void 0:g.UH;}},Yc:{configurable:!0,enumerable:!0,get:function(){return this.bm.Yc;}}});b.gMa=c;},69334:function(r,b,a){var l,f,k;function c(d,g,n){this.Ug=d;this.Bb=n;this.O=[];this.log=g.ab("PlayedSegmentsTrackerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.kMa=void 0;l=a(5163);r=a(22674);f=a(42207);k=a(87386);a(5021);c.prototype.some=function(d){return this.O.some(d);};c.prototype.V6=function(){return !!(this.O[0] && this.O[0].stream && this.Bb.qg(this.O[0].stream.xb));};c.prototype.Pp=function(d){return this.O.filter(d).reduce(function(g,n){return g + (n.endTime - n.startTime) / n.rate;},0);};c.prototype.DU=function(d){return this.O.filter(d).reduce(function(g,n){return g + n.endTime - n.startTime;},0);};c.prototype.Xna=function(d,g){var n,h;n=this;h={};return this.O.filter(function(m){return !g || m.track.zC === g;}).reduce(function(m,p){var q,u,t;q=d.bind(n,p)();u=q.key;q=l.__rest(q,["key"]);p=p.endTime - p.startTime;t=h[u];t?t.duration+=p:(t=q,t.duration=p,m.push(t),h[u]=t);return m;},[]);};c.prototype.Ge=function(d,g,n){var h;n=void 0 === n?this.Ug.playbackRate.value:n;h=this.O;d && g && g >= d.startTime && (d={Dc:d.Dc,track:d.track,stream:d.stream,startTime:d.startTime,WB:d.WB,Mqa:d.Mqa,endTime:g,rate:n},(g=h[h.length - 1]) && g.track === d.track && g.stream === d.stream && g.Dc === d.Dc && g.endTime === d.startTime && g.rate === d.rate?g.endTime=d.endTime:h.push(d),!1);};a=c;a=l.__decorate([l.__param(1,(0,r.l)(k.bb)),l.__param(2,(0,r.l)(f.Uf))],a);b.kMa=a;},82557:function(r,b,a){var l,f,k,d;function c(g){this.Ea=g;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.tNa=void 0;r=a(5163);l=a(85001);f=a(22674);k=a(81918);d=a(5021);c.prototype.Ij=function(g){g.Xb !== l.oc.xs && (this.trace.unshift({time:this.Ea.Kb(),event:g}),5 < this.trace.length && this.trace.pop());};c.prototype.k2a=function(){var g,n;g=this;if(0 === this.trace.length)return {};n=this.trace[0];return {timeSinceLastRepositionMs:this.gfb(n.time),lastRepositionCause:this.t0a(n.event.Xb),repositionTrace:this.trace.map(function(h){return {timeSince:g.gfb(h.time),cause:g.t0a(h.event.Xb),newMediaTime:h.event.e9,oldMediaTime:h.event.Jta,contentPts:h.event.Zq,skip:h.event.skip};})};};c.prototype.gfb=function(g){return this.Ea.Kb().qa(g).ea(d.pa);};c.prototype.t0a=function(g){switch(g){case l.oc.xs:return "initial";case l.oc.jx:return "seek";case l.oc.fJ:return "live_edge";case l.oc.WD:return "segment_changed";case l.oc.LQ:return "track_changed";case l.oc.x_:return "force_rebuffer";case l.oc.MP:return "fragments_missing";case l.oc.mea:return "media_discontinuity";}};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(k.Lc))],a);b.tNa=a;},13889:function(r,b,a){var l,f,k,d;function c(g,n,h){this.config=g;this.j=n;this.Df=h;this.Zy=void 0;this.T9=!1;this.v5a=0;this.log=this.Df.ab();}Object.defineProperty(b,"__esModule",{value:!0});b.UNa=void 0;l=a(85001);f=a(5021);k=a(8825);d=a(32687);c.prototype.vLb=function(g,n,h,m,p){var q,u,t,w;h=void 0 === h?this.j.I:h;m=void 0 === m?!1:m;q=n === l.oc.WD;u=this.Gxb(q?g:this.Kyb(g,h),n,m,h);m=this.j.fb;q?(g=u,u=m.gla(u)):g=m.ila(h,u);n === l.oc.xs && (this.j.EUa=u);p=this.di(g,n,p);t=(q=q || p)?g:u;if(this.j.iq){w=this.j.cb.sg?this.config().oua:this.config().uC;this.j.K2a(t,w) || n !== l.oc.jx && n !== l.oc.fJ || (t=this.j.iq.ea(f.pa) - w - 1E3,q?(g=t,u=m.gla(t)):(g=m.ila(h,t),u=t));}return {e9:t,Zq:u,vYb:g,di:p};};c.prototype.Gxb=function(g,n,h,m){this.nQb() || h?g=Math.round(g):(h=this.j.fb.Ixb(g,m),g=(0,d.Sb)(h)?h:Math.round(g));this.j.cb.sg && (g=this.wIb(g));this.config().fcb && 0 !== g && n !== l.oc.xs && (g+=this.config().fcb);return g;};c.prototype.di=function(g,n,h){if(this.config().wEb || n === l.oc.xs || n === l.oc.LQ || n === l.oc.x_ || !h || g < h.start.ea(f.pa) || g >= h.end.ea(f.pa))return !1;n=this.j.fb;return (null === n || void 0 === n?void 0:n.Bh) && n.di(g) || !1;};c.prototype.nQb=function(){return this.j.cb.sg?!0:"boolean" === typeof this.j.cb.YW?this.j.cb.YW:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().YW && this.config().SYb:this.config().YW;};c.prototype.Kyb=function(g,n){var h;h=this.j.Vi(n);n=h.Xx;h=h.a7a;!1;n=h || n;h=this.j.kd.aa && !this.j.kd.A7()?0:this.config().g$b;n=Math.max(0,n.ea(f.pa) - h);return (0,k.fx)(g,0,n);};c.prototype.wIb=function(g){var n,h,m;n=this.j.cU();if(Object.values(n).find(function(p){var q;q=p.va;q=g < (null !== q && void 0 !== q?q:Infinity);return p.ta <= g && q;}))return (!1,g);m=g;Object.entries(n).forEach(function(p){var q;p=ja(p);p.next();p=p.next().value.ta;q=p - g;0 < q && (void 0 === h || q < h) && (h=q,m=p);});!1;return m;};Ya.Object.defineProperties(c.prototype,{C7:{configurable:!0,enumerable:!0,get:function(){return this.T9 || !!this.Zy;}}});b.UNa=c;},74834:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.YNa=void 0;r=a(5163);a=a(22674);c.prototype.UZb=function(f,k){k.GM.ib.sxa({xid:k.na,auxPlaybackcontextid:k.Gd,auxMid:f.auxMid,auxMidType:f.auxMidType,reason:f.reason,adBreakLocationMs:f.adBreakLocationMs},"error" === f.sev);};l=c;l=r.__decorate([(0,a.U)()],l);b.YNa=l;},37517:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q,u,t,w,v,y,x,z){var A;A=this;this.x7b=m;this.j=p;this.id=q;this.height=u;this.width=t;this.bYb=w;this.cYb=v;this.size=y;this.Ft=x;this.urls=z;this.type=l.Zj.yza;this.retry=!0;this.state=g.Xo.L0;this.ug={};this.o3={};this.SZb=function(B){if(B.ia)try{A.data=A.x7b.parse(B.content);A.state=g.Xo.GD;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.ug);A.j.fireEvent(n.ga.OY);}catch(C){A.state=g.Xo.rKa;A.log.error("TrickPlay parse failed.",C);}else (A.state=g.Xo.L0,A.log.error("TrickPlay download failed.",(0,h.Vw)(B),A.ug));};this.log=(0,k.Fh)(p,"TrickPlay");}b.z=void 0;l=a(51344);f=a(29204);k=a(31276);d=a(61726);g=a(94025);n=a(85001);h=a(36129);c.prototype.CKb=function(m){if(this.data && (this.Ft && (m+=this.Ft),m=Math.floor(m / this.data.header.jfb),0 <= m && m < this.data.images.length))return {image:this.data.images[m],time:m * this.data.header.jfb,height:this.height,width:this.width,pixelAspectHeight:this.bYb,pixelAspectWidth:this.cYb};};c.prototype.ZL=function(){switch(this.state){case g.Xo.GD:return "downloaded";case g.Xo.LOADING:return "loading";case g.Xo.bQ:return "downloadfailed";case g.Xo.rKa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var m;m=this.ZMb();m?(this.state=g.Xo.LOADING,this.NEb(m)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.ZMb=function(){var m,p,q;m=this;p=Object.keys(this.urls).find(function(u){return (m.o3[m.urls[u]] || 0) <= f.config.t7b;});if(p){q=this.urls[p];(q in this.o3)?this.o3[q]++:this.o3[q]=1;return {url:q,Lm:p};}};c.prototype.NEb=function(m){var p,q;this.log.trace("Downloading",m.url,this.ug);q=this.W5(m.Lm);m={responseType:d.QU,Dc:q,url:m.url,track:this,Xr:null !== (p=null === q || void 0 === q?void 0:q.type) && void 0 !== p?p:"unknown",kB:"trickplay"};this.j.Y6.download(m,this.SZb);};c.prototype.W5=function(m){return this.j.ng.find(function(p){return p && p.id === m;});};b.z=c;},18181:function(r,b,a){var l,f,k,d,g,n;function c(h,m){this.Vf=h;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.oPa=void 0;r=a(5163);l=a(85001);f=a(94025);k=a(81918);d=a(22674);g=a(5021);a=a(4203);c.prototype.nL=function(h){var m;h.PY={};if(!h.tM() && h.Cz && 0 < h.Cz.length && (h.Bz=this.$0a(h),h.Bz)){m=this.T3b(h);m() || (h.zb.addListener(m),h.Oe.addListener(m));}};c.prototype.T3b=function(h){var p;function m(){var q,u;if(!h.Oe.value || h.zb.value === l.lb.Ef)return !1;q=h.Bz;u=q.getState();return u === f.Xo.LOADING?!1:u !== f.Xo.GD && q.retry?(q=p.UMb(h))?(h.PY.offset=p.Vf.Kb().ea(g.pa),h.Bz=q,q.download(),!0):!1:(h.zb.removeListener(m),h.Oe.removeListener(m),!1);}p=this;return m;};c.prototype.UMb=function(h){var m,p;m=this.config();p=h.fl.Pp() < m.v7b;m=(h.Oe.value?h.Oe.value.bitrate:0) > m.u7b;return this.oMb(h,p && m);};c.prototype.oMb=function(h,m){if(m && (m=this.$0a(h),this.b2a(h,m.size)))return (h.PY.sbb="h",m);m=this.gLb(h);if(this.b2a(h,m.size))return (h.PY.sbb="l",m);};c.prototype.b2a=function(h,m){var p,q;p=this.config();q=Math.min(h.wS(),h.cZ());return h.kwb.rxb(m) * (1 + .01 * p.mub[2]) < q * p.y7b;};c.prototype.$0a=function(h){return h.Cz[h.Cz.length - 1];};c.prototype.gLb=function(h){return h.Cz[0];};n=c;n=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(k.Lc)),r.__param(1,(0,d.l)(a.Yb))],n);b.oPa=n;},25837:function(r,b,a){var l,f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.qPa=void 0;r=a(5163);f=a(62082);a=a(22674);c.prototype.parse=function(d){var g,n;if(!d)throw Error("invalid array buffer");g=new Uint8Array(d);n=new f.GP(g);d=this.xXb(n);g=this.yXb(n,g,d);return {header:d,images:g};};c.prototype.xXb=function(d){var g,n,h,m;if(d.apa() < this.o1b())throw Error("array buffer too short");l.BIa.forEach(function(p){if(p != d.fz())throw Error("BIF has invalid magic.");});g=d.MN();if(g > l.VERSION)throw Error("BIF version in unsupported");n=d.MN();if(0 == n)throw Error("BIF has no frames.");h=d.MN();m=d.Hj(l.gNa);return {version:g,GVb:n,jfb:h,ubb:m};};c.prototype.yXb=function(d,g,n){var p,q;for(var h=[],m=0;m <= n.GVb;m++){p={timestamp:d.MN(),offset:d.MN()};void 0 != q && h.push(g.subarray(q.offset,p.offset));q=p;}return h;};c.prototype.o1b=function(){return l.BIa.length + 4 + 4 + 4 + l.gNa;};k=l=c;k.BIa=[137,66,73,70,13,10,26,10];k.VERSION=0;k.gNa=44;k=l=r.__decorate([(0,a.U)()],k);b.qPa=k;},72614:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v;function c(y){return function(){return y.ob.get(l.xLa).Db();};}Object.defineProperty(b,"__esModule",{value:!0});b.nH=void 0;r=a(22674);l=a(96687);f=a(32979);k=a(23048);d=a(62278);g=a(95480);n=a(91859);h=a(95398);m=a(77334);p=a(10469);q=a(44698);u=a(36258);t=a(78339);w=a(50889);v=a(18477);b.nH=new r.gd(function(y){y(h.jMa).to(m.iMa).ha();y(f.Zea).to(k.tLa).ha();y(d.VKa).to(g.UKa).ha();y(l.xLa).to(n.wLa).ha();y(l.AQ).JY(c);y(w.vLa).to(v.uLa).ha();y(p.aLa).to(q.$Ka).ha().mZ();y(u.zLa).to(t.yLa).ha();y(u.qLa).to(t.pLa).ha();y(u.sLa).to(t.rLa).ha();});},62278:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VKa="PboCachedPlaydataSymbol";},10469:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wea={qV:"keepAlive",splice:"splice"};b.aLa="PboEventSenderSymbol";},32979:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zea="PboPlaydataFactorySymbol";},50889:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vLa="PboPlaydataPlaybackMonitorSymbol";},96687:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xLa="PboPlaydataServicesSymbol";b.AQ="PboPlaydataServicesProviderSymbol";},95398:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jMa="PlaydataConfigSymbol";},95480:function(r,b,a){var k,d,g,n,h,m,p,q,u,t;function c(){}function l(){}function f(w,v,y,x,z){var A;A=this;this.is=w;this.ml=v;this.config=y;this.AF=x;this.OXb=z;this.qu=function(){return new c().encode({version:A.version,data:A.nH});};this.N8b=function(B){B=A.upgrade(B);A.OXb.validate(B);return B;};this.upgrade=function(B){var C;if(A.is.Fm(B))return A.O8b(B);C=B.version;if(void 0 != C && A.is.dk(C) && 1 == C)return A.P8b(B);C=B.version;if(void 0 != C && A.is.dk(C) && 2 == C)return new c().decode(B);if(B.version && A.is.dk(B.version))throw new h.Mc(g.V.Yz,g.S.FCa,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new h.Mc(g.V.Yz,g.S.Tz,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.xk=new m.Mda(2,this.config().c$a,"" !== this.config().c$a && 0 < this.config().pYb,this.ml,this.qu);}Object.defineProperty(b,"__esModule",{value:!0});b.UKa=void 0;r=a(5163);k=a(22674);d=a(4203);g=a(36129);n=a(42207);h=a(31149);m=a(52657);p=a(17892);q=a(33554);u=a(23048);a=a(36258);f.prototype.D_b=function(){return this.xk.load(this.N8b).catch(function(w){throw new h.Mc(g.V.Yz,w.za || w.ic,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w);});};f.prototype.Ztb=function(w){return this.xk.add(w);};f.prototype.Wab=function(w){return this.xk.remove(w,function(v,y){return v.na === y.na;});};f.prototype.Rza=function(w){return this.xk.update(w,function(v,y){return v.na === y.na;});};f.prototype.toString=function(){return JSON.stringify(this.qu(),null,"  ");};f.prototype.Cgb=function(w){return w?"/events?playbackContextId=" + w + "&esn=" + this.AF().hk:"";};f.prototype.Yza=function(w){return w.map(function(v){return {Vb:v.downloadableId,duration:v.duration};});};f.prototype.Dgb=function(w){var v;return w?{total:w.playTimes.total,wI:null !== (v=w.playTimes.totalContentTime) && void 0 !== v?v:w.playTimes.total,OO:w.playTimes.total,cD:0,dD:0,xI:0,yI:0,audio:this.Yza(w.playTimes.audio || []),video:this.Yza(w.playTimes.video || []),text:this.Yza(w.playTimes.timedtext || [])}:{total:0,wI:0,OO:0,cD:0,dD:0,xI:0,yI:0,audio:[],video:[],text:[]};};f.prototype.O8b=function(w){var v,y,x;v=this;w=JSON.parse(w);y={ag:"VOD",href:this.Cgb(w.playbackContextId),na:w.xid?w.xid.toString():"",P:w.movieId,position:w.position,Rx:w.timestamp,gm:w.playback?1E3 * w.playback.startEpoch:-1,NM:w.mediaId,cw:this.Dgb(w.playback),trackId:"",fm:{},HN:w.accountKey};x=JSON.stringify({keySessionIds:w.keySessionIds,movieId:w.movieId,xid:w.xid,licenseContextId:w.licenseContextId,profileId:w.profileId});this.ml.create().then(function(z){z.save(v.config().tT,x,!1);});if("" === y.href || "" === y.na)throw new h.Mc(g.V.Yz,g.S.Tz);return {version:2,data:[y]};};f.prototype.P8b=function(w){var v;v=this;if(!w.playdata || !this.is.PA(w.playdata))throw new h.Mc(g.V.Yz,g.S.Tz,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,w);return {version:2,data:(function(y){return y.map(function(x){var z;return {ag:null !== (z=x.streamingType) && void 0 !== z?z:"VOD",href:v.Cgb(x.playbackContextId),na:x.xid?x.xid.toString():"",P:x.movieId,position:x.position,Rx:x.timestamp,gm:x.playback?1E3 * x.playback.startEpoch:-1,NM:x.mediaId,cw:v.Dgb(x.playback),trackId:"",fm:{},HN:x.profileId};});})(w.playdata)};};Ya.Object.defineProperties(f.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.xk.version;}},nH:{configurable:!0,enumerable:!0,get:function(){return this.xk.Il;}}});t=f;t=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(n.Uf)),r.__param(1,(0,k.l)(p.Kw)),r.__param(2,(0,k.l)(d.Yb)),r.__param(3,(0,k.l)(q.Rw)),r.__param(4,(0,k.l)(a.sLa))],t);b.UKa=t;l.prototype.encode=function(w){var v;v=new u.T0();return w.map(v.encode);};l.prototype.decode=function(w){var v;v=new u.T0();return w.map(v.decode);};c.prototype.encode=function(w){return {version:w.version,data:new l().encode(w.data)};};c.prototype.decode=function(w){return {version:w.version,data:new l().decode(w.data)};};},44698:function(r,b,a){var l,f,k;function c(d,g){this.WS=g;this.log=d.ab("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.$Ka=void 0;r=a(5163);l=a(87607);f=a(87386);a=a(22674);c.prototype.Axa=function(d,g){var n;n=this.WS(l.Ro.start);return this.IZa(n,d,g);};c.prototype.rcb=function(d){var g;g=this;return this.WS(l.Ro.stop).Cf(this.log,d).then(function(){}).catch(function(n){g.log.error("PBO stop event failed",n);throw n;});};c.prototype.SX=function(d,g,n){d=this.WS(d);return this.IZa(d,g,n);};c.prototype.IZa=function(d,g,n){var h;h=this;return d.eo(this.log,g.Y.ri,n).then(function(){}).catch(function(m){h.log.error("PBO event failed",m);throw m;});};k=c;k=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(f.bb)),r.__param(1,(0,a.l)(l.pda))],k);b.$Ka=k;},23048:function(r,b,a){var d,g,n,h,m,p;function c(q,u,t,w){this.sa=q;this.GU=u;this.Ea=t;this.profile=w;}function l(){}function f(){}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.tLa=b.T0=void 0;r=a(5163);d=a(22674);g=a(30869);n=a(5021);h=a(4203);m=a(81918);a=a(71501);k.prototype.encode=function(q){return {downloadableId:q.Vb,duration:q.duration};};k.prototype.decode=function(q){return {Vb:q.downloadableId,duration:q.duration};};f.prototype.encode=function(q){return {total:q.total,totalContentTime:q.wI,totalAdDuration:q.cD,totalCombinedDuration:q.OO,totalOtherDuration:q.dD,totalStartSlateDuration:q.yI,totalLiveEdgeDuration:q.xI,audio:q.audio.map(new k().encode),video:q.video.map(new k().encode),text:q.text.map(new k().encode)};};f.prototype.decode=function(q){var u;return {total:q.total,wI:null !== (u=q.totalContentTime) && void 0 !== u?u:q.total,cD:q.totalAdDuration,OO:q.totalCombinedDuration,dD:q.totalOtherDuration,yI:q.totalStartSlateDuration,xI:q.totalLiveEdgeDuration,audio:q.audio.map(new k().decode),video:q.video.map(new k().decode),text:q.text.map(new k().decode)};};l.prototype.encode=function(q){return {streamingType:q.ag,href:q.href,xid:q.na,movieId:q.P,position:q.position,clientTime:q.Rx,sessionStartTime:q.gm,videoTrackId:q.cP,audioTrackId:q.xp,timedTextTrackId:q.MO,mediaId:q.NM,playTimes:new f().encode(q.cw),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.fm,profileId:q.HN};};l.prototype.decode=function(q){return {ag:q.streamingType,href:q.href,na:q.xid,P:q.movieId,position:q.position,Rx:q.clientTime,gm:q.sessionStartTime,cP:q.videoTrackId,xp:q.audioTrackId,MO:q.timedTextTrackId,NM:q.mediaId,cw:new f().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,fm:q.sessionParams,HN:q.profileId};};b.T0=l;c.prototype.create=function(q){var u,t,w,v,y,x,z,A;A=Object.assign(Object.assign({},null !== (u=q.cb.fm) && void 0 !== u?u:{}),{uiVersion:this.GU().Ip.Aw});u=null !== (t=q.kd.aa?q.kd.F6():q.dT) && void 0 !== t?t:0;return {href:q.Y && q.Y.ri?q.Y.ri.TL("events").href:"",ag:null !== (v=null === (w=q.Y) || void 0 === w?void 0:w.Fa.ag) && void 0 !== v?v:"VOD",na:q.na.toString(),P:q.P,position:Math.floor(u),Rx:this.sa.SH.ea(n.pa),gm:q.yy?q.yy.ea(n.pa):-1,cP:null === (y=q.Gg.value) || void 0 === y?void 0:y.trackId,xp:null === (x=q.uc.value) || void 0 === x?void 0:x.trackId,MO:null === (z=q.Mb.value) || void 0 === z?void 0:z.trackId,NM:void 0,cw:this.Soa(q),trackId:void 0 !== q.Uj?q.Uj.toString():"",sessionId:this.GU().sessionId || this.Ea.id,appId:this.GU().appId || this.Ea.id,fm:A,HN:this.profile};};c.prototype.load=function(q){return new l().decode(q);};c.prototype.Woa=function(q){return q.map(function(u){return {Vb:u.downloadableId,duration:u.duration};});};c.prototype.Soa=function(q){return (q=q.fl)?(q=q.OLb(),{total:q.total,wI:q.totalContentTime,cD:q.totalAdDuration,dD:q.totalOtherDuration,OO:q.totalCombinedDuration,xI:q.totalLiveEdgeDuration,yI:q.totalStartSlateDuration,audio:this.Woa(q.audio),video:this.Woa(q.video),text:this.Woa(q.timedtext)}):{total:0,wI:0,cD:0,OO:0,dD:0,xI:0,yI:0,video:[],audio:[],text:[]};};p=c;p=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(g.cg)),r.__param(1,(0,d.l)(h.Yb)),r.__param(2,(0,d.l)(m.Lc)),r.__param(3,(0,d.l)(a.xJ))],p);b.tLa=p;},18477:function(r,b,a){var l,f,k,d;function c(g,n){this.J9a=n;this.log=g.ab("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.uLa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(85001);a=a(96687);c.prototype.Sj=function(g){var n;n=this;this.J9a().then(function(h){g.addEventListener(k.ga.NG,function(m){var p;if(void 0 !== m.DN){p=g.jk(m.DN);h.kY(p);m.wG || new Promise(function(q){var u;if(g.Ai.value)q();else {u=function(t){t.newValue && (q(),g.Ai.removeListener(u));};g.Ai.addListener(u);}}).then(function(){return h.Sj(g,n.sdb(g),function(q){return g.mF(q);});});}});g.addEventListener(k.ga.Wt,function(){h.Sj(g.ca,n.sdb(g),function(m){return g.mF(m);});});g.background.value || g.addEventListener(k.ga.zV,function(m){var p;m=g.jk(m.P);if(m.Gf){p=g.jk(m.Gf.zd);n.log.trace("Auxiliary viewable segment (viewableId: " + m.P + "). Starting playdata monitor for parent viewable " + p.P);m=p;}h.vya(m);});g.addEventListener(k.ga.og,function(){h.aeb();});g.addEventListener(k.ga.Vgb,function(){h.pcb(g.ca).catch(function(m){(m=m.yN) && g.mF(m);});});g.Mb.addListener(function(){g.cb.ema?n.log.trace("stickiness is disabled for timedtext"):h.oaa(g.ca);});g.uc.addListener(function(){g.cb.ema?n.log.trace("stickiness is disabled for audio"):h.oaa(g.ca).catch(function(m){(m=m.yN) && g.mF(m);});});});};c.prototype.sdb=function(g){return g.state.value == k.Wb.fe;};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.bb)),r.__param(1,(0,l.l)(a.AQ))],d);b.uLa=d;},91859:function(r,b,a){var k,d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C,D,E,G){this.config=x;this.yc=A;this.Bw=B;this.Yt=C;this.b$=D;this.sh=E;this.EG=Promise.resolve();this.closed=!1;this.log=z.ab("PlaydataServices");this.mH=[];this.active=new Set();this.I1b=new l(x,G);}function l(x,z){this.config=x;this.sa=z;}function f(x,z,A,B,C,D){this.log=x;this.yc=z;this.Ug=A;this.Yt=B;this.Bw=C;this.iYb=D;this.UZa=this.Rd=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.wLa=b.eob=void 0;r=a(5163);k=a(22674);d=a(5021);g=a(87386);n=a(53085);h=a(32979);m=a(62278);p=a(95398);q=a(36129);u=a(23048);t=a(10469);w=a(45266);v=a(30869);a=a(79274);f.prototype.WM=function(x,z){var B;function A(){var C;C=B.Yt.create(B.Ug);B.Bw.Rza(C).catch(function(D){var E;E=B.UZa?g.ij.nga:g.ij.Hk;B.UZa=!0;B.log.write(E,"Unable to save playdata changes to IDB",D);});}B=this;this.log.trace("Adding initial playdata",z);this.Bw.Ztb(z).then(function(){B.log.trace("Scheduling monitor",{interval:x});B.Vr=B.yc.MH(x,A);}).catch(function(C){B.log.error("Unable to add playdata",{error:C,playdata:new u.T0().encode(z)});B.Vr=B.yc.MH(x,A);});};f.prototype.stop=function(x){var z,A;z=this;if(this.Rd)return Promise.resolve();this.Vr && this.Vr.cancel();A=this.Yt.create(this.Ug);return this.Bw.Rza(A).catch(function(B){z.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(x){if(z.Ug.background.value)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());z.log.trace("Sending final playdata to the server",A);return z.iYb.rcb(A);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(x)return (z.log.trace("Removing playdata from the persisted store",A),z.Bw.Wab(A));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",A.P);}).catch(function(B){z.log.error("Unable to remove playdata changes",B);throw B;});};f.prototype.cancel=function(){this.Rd=!0;this.Vr && this.Vr.cancel();this.Bw.Rza(this.Yt.create(this.Ug));};Ya.Object.defineProperties(l.prototype,{Pxb:{configurable:!0,enumerable:!0,get:function(){var x;x=this.sa.ke;return !this.EG || 0 <= x.qa(this.EG).Qk(this.config.f5a)?(this.EG=x,!0):!1;}}});b.eob=l;c.prototype.Db=function(){var x;x=this;this.QB || (this.log.trace("Starting playdata services"),this.QB=this.Bw.D_b().then(function(){!1;return x;}).catch(function(z){x.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return x;}));return this.QB;};c.prototype.close=function(){this.closed=!0;this.mH.forEach(function(x){x.WM.cancel();});};c.prototype.send=function(x){var z;if(this.closed)return Promise.resolve();z=this.config;return z.jH && z.yxa?this.G2b(x):Promise.resolve();};c.prototype.Sj=function(x,z,A){var B;B=this;this.closed || (this.vya(x),this.Axa(x).catch(function(C){B.log.error("Start command failed",{playdata:C.nH,error:C.GT});}),z && this.sya(this.UKb(x),x,A));};c.prototype.kY=function(x){var z,A,B;z=this;if(this.closed)return Promise.resolve();A=this.Yt.create(x);this.active.delete(A.na);x=ja((0,w.vC)(function(C){return C.key === A.na;},this.mH));B=x.next().value;this.mH=x.next().value;return Promise.all(B.map(function(C){C.stopped=!0;return C.WM.stop(z.config.yxa);})).then(function(){});};c.prototype.vya=function(x){var z,A;x.re("pdb");if(this.config.Pua.I4a()){z=this.Yt.create(x);A=z.na;this.mH.some(function(B){return B.key === A;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(A),this.mH.push({key:A,WM:this.sLb(x,z),ww:!1,stopped:!1}));}};c.prototype.G2b=function(x){var z,A,B,C;z=this;A=this.Bw.nH.filter(function(D){return !z.active.has(D.na);});B=void 0;C=void 0;x && Infinity === x?B=A:(A=ja((0,w.vC)(function(D){return D.P === x;},A)),B=A.next().value,C=A.next().value);C && 0 < C.length && this.yc.vk(this.config.ocb,function(){z.qcb(C).catch(function(){});});return B && 0 !== B.length?this.qcb(B):Promise.resolve();};c.prototype.qcb=function(x){var A;function z(B){return A.b$.rcb(B).then(function(){return A.L0b(B);});}A=this;return x.reduce(function(B,C){return B.then(function(){return z(C);});},Promise.resolve());};c.prototype.L0b=function(x){var z;z=this;return this.Bw.Wab(x).then(function(){}).catch(function(A){z.log.error("Unable to complete the stop lifecycle event",A);throw A;});};c.prototype.sLb=function(x,z){x=new f(this.log,this.yc,x,this.Yt,this.Bw,this.b$);x.WM(this.config.Pua,z);return x;};c.prototype.Axa=function(x){var z,A;z=this;A=this.Yt.create(x);return this.b$.Axa(x,A).then(function(){!1;z.F6a(x);}).catch(function(B){z.F6a(x);throw {nH:A,GT:B};});};c.prototype.F6a=function(x){this.mH.filter(function(z){return z.key === x.na.toString();}).forEach(function(z){z.ww=!0;});};c.prototype.pcb=function(x){return this.I1b.Pxb?this.SX(t.Wea.qV,x,q.V.Tda):Promise.resolve();};c.prototype.oaa=function(x){return this.SX(t.Wea.splice,x,q.V.HNa);};c.prototype.SX=function(x,z,A){var C;function B(D){var E;E=C.mH.filter(function(G){return G.key === D.na.toString();});return 0 === E.length?!0:E.reduce(function(G,F){return G || F.stopped || !F.ww;},!1);}C=this;return B(z)?this.EG:this.EG=this.EG.catch(function(){return Promise.resolve();}).then(function(){var D;if(B(z))return Promise.resolve();!1;D=C.Yt.create(z);return C.b$.SX(x,z,D);}).then(function(D){!1;return D;}).catch(function(D){var E;C.log.error("Failed to send event",{eventKey:x,xid:z.na,error:D});D.Cj?E=C.sh(A,D):D.Uy === q.F0.iga && (E=C.sh(A,D));throw {GT:D,yN:E};});};c.prototype.sya=function(x,z,A){var B;B=this;!1;this.Dka();this.kra=this.yc.vk(x,function(){B.Dka();B.SX(t.Wea.qV,z,q.V.Tda).then(function(){B.sya(x,z,A);}).catch(function(C){var D;D=C.GT;(C=C.yN) && A(C);D.Uy !== q.F0.iga && B.sya(x,z,A);});});};c.prototype.aeb=function(){this.Dka();};c.prototype.Dka=function(){this.kra && (this.kra.cancel(),this.kra=void 0);};c.prototype.UKb=function(x){return x.cb.Npa?(0,d.Ob)(x.cb.Npa):this.config.e5a;};y=c;y=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(p.jMa)),r.__param(1,(0,k.l)(g.bb)),r.__param(2,(0,k.l)(n.Vh)),r.__param(3,(0,k.l)(m.VKa)),r.__param(4,(0,k.l)(h.Zea)),r.__param(5,(0,k.l)(t.aLa)),r.__param(6,(0,k.l)(a.BQ)),r.__param(7,(0,k.l)(v.cg))],y);b.wLa=y;},78339:function(r,b,a){var k,d,g,n;function c(){}function l(h){this.NXb=h;}function f(h){this.PXb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.yLa=b.rLa=b.pLa=void 0;r=a(5163);k=a(22674);d=a(36258);g=a(31149);n=a(36129);f.prototype.validate=function(h){h.map(this.PXb.validate);};a=f;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.zLa))],a);b.pLa=a;l.prototype.validate=function(h){this.NXb.validate(h.data);};a=l;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.qLa))],a);b.rLa=a;c.prototype.validate=function(h){var m;h.na && "string" === typeof h.na?h.href && "string" === typeof h.href?h.HN && "string" === typeof h.HN || (m="ProfileId value is corrupted."):m="Href value is corrupted.":m="Xid value is corrupted.";if(m)throw new g.Mc(n.V.Yz,n.S.Tz,void 0,void 0,void 0,m,void 0,h.na);};d=c;d=r.__decorate([(0,k.U)()],d);b.yLa=d;},77334:function(r,b,a){var l,f,k,d,g,n;function c(h,m){h=f.Qe.call(this,h,"PlaydataConfigImpl") || this;h.config=m;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.iMa=void 0;r=a(5163);l=a(22674);f=a(64174);k=a(83767);d=a(12501);g=a(5021);a=a(34231);da(c,f.Qe);Ya.Object.defineProperties(c.prototype,{jH:{configurable:!0,enumerable:!0,get:function(){return this.config.iy?"unsentplaydatatest":"unsentplaydata";}},yxa:{configurable:!0,enumerable:!0,get:function(){return !0;}},ocb:{configurable:!0,enumerable:!0,get:function(){return (0,g.Ob)(1E4);}},Pua:{configurable:!0,enumerable:!0,get:function(){return (0,g.Ob)(4E3);}},e5a:{configurable:!0,enumerable:!0,get:function(){return (0,g.V8)(1);}},f5a:{configurable:!0,enumerable:!0,get:function(){return (0,g.uh)(30);}}});n=c;r.__decorate([d.config(d.string,"playdataPersistKey")],n.prototype,"jH",null);r.__decorate([d.config(d.bd,"sendPersistedPlaydata")],n.prototype,"yxa",null);r.__decorate([d.config(d.pk,"playdataSendDelayMilliseconds")],n.prototype,"ocb",null);r.__decorate([d.config(d.pk,"playdataPersistIntervalMilliseconds")],n.prototype,"Pua",null);r.__decorate([d.config(d.pk,"heartbeatCooldown")],n.prototype,"e5a",null);r.__decorate([d.config(d.pk,"keepAliveWindow")],n.prototype,"f5a",null);n=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.zl)),r.__param(1,(0,l.l)(a.Dn))],n);b.iMa=n;},58343:function(r,b,a){var l,f;function c(k,d){var g;g=this;this.Oh=k;this.Dg=d;this.addEventListener=function(n,h,m){return g.Dg.addListener(n,g.SXa(n,h),m);};this.removeEventListener=function(n,h){return g.Dg.removeListener(n,g.SXa(n,h));};this.getReady=function(){return g.Dg.Mv();};this.getXid=function(){return g.Ab().Ct();};this.getMovieId=function(){return g.Ab().A1a();};this.getPlaygraphId=function(){return g.Dg.RLb();};this.getElement=function(){return g.Dg.Ym();};this.isPlaying=function(){return g.Ab().YB();};this.isPaused=function(){return g.Ab().Mt();};this.isMuted=function(){return g.Ab().Qqa();};this.isReady=function(){return g.Ab().Mv();};this.isBackground=function(){return g.Ab().m4a();};this.setBackground=function(n){return g.Ab().Gxa(n);};this.startInactivityMonitor=function(){return g.Ab().uO();};this.setTransitionTime=function(n){return g.Ab().Yxa(n);};this.getDiagnostics=function(){return g.Ab().H0a();};this.getTextTrackList=function(n){return g.Ab().qpa(n);};this.getMaxRecommendedTextIndex=function(n){return g.Ab().Hoa(n);};this.getTextTrack=function(){return g.Ab().ppa();};this.setTextTrack=function(n){return g.Ab().Txa(n);};this.getVolume=function(){return g.Ab().y2a();};this.isEnded=function(){return g.Ab().Kqa();};this.getBusy=function(){return g.Ab().ph();};this.getError=function(){return g.Ab().getError();};this.getCurrentTime=function(){return g.Ab().OL();};this.getAdManager=function(){return g.Ab().ho();};this.getLivePlaybackManager=function(){var n;n=g.Ab().Sl();(0,f.oa)(n,"Unexpected call to getLivePlaybackManager()");if(n.aa && !n.h4b())return {seekToLiveEdge:function(){return n.iaa();},isAtLiveEdge:function(){return n.WB();},getLiveEventState:function(){return n.EB();},isLiveEventEnded:function(){return n.A7();}};};this.getBufferedTime=function(){return g.Ab().n0a();};this.getSegmentTime=function(){return g.Ab().Z5();};this.getDuration=function(){return g.Ab().koa();};this.getVideoSize=function(){return g.Ab().w2a();};this.getAudioTrackList=function(){return g.Ab().f0a();};this.getMaxRecommendedAudioIndex=function(){return g.Ab().u1a();};this.getAudioTrack=function(){return g.Ab().e0a();};this.getTimedTextTrackList=function(n){return g.Ab().qpa(n);};this.getMaxRecommendedTimedTextIndex=function(n){return g.Ab().Hoa(n);};this.getTimedTextTrack=function(){return g.Ab().ppa();};this.getAdditionalLogInfo=function(){return g.Ab().c0a();};this.getTrickPlayFrame=function(n){return g.Ab().t2a(n);};this.getSessionSummary=function(){return g.Ab().gpa();};this.getTimedTextSettings=function(){return g.Ab().CU();};this.setMuted=function(n){return g.Ab().Rcb(n);};this.setVolume=function(n){return g.Ab().edb(n);};this.getPlaybackRate=function(){return g.Ab().WL();};this.setPlaybackRate=function(n){return g.Ab().uaa(n);};this.setAudioTrack=function(n){return g.Ab().Bcb(n);};this.setTimedTextTrack=function(n){return g.Ab().Txa(n);};this.setTimedTextSettings=function(n){return g.Ab().nO(n);};this.prepare=function(){return g.Ab().qH();};this.load=function(){return g.Ab().load();};this.close=function(n){return g.MTa(g.Dg.close(),n);};this.play=function(){return g.Ab().play();};this.pause=function(){return g.Ab().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(n,h){return g.MTa(g.Ab().pL(n),h);};this.induceError=function(n){return g.Ab().I3a(n);};this.loadCustomTimedTextTrack=function(n,h,m,p){return g.Ab().U5a(n,h,m,p);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return g.Ab().a6();};this.generateScreenshots=function(n){return g.Ab().W_a(n);};this.getCurrentSegmentId=function(){return g.Dg.C0a();};this.getPlaygraphMap=function(){return g.Dg.fG();};this.updatePlaygraphMap=function(n){return g.Dg.tu(n);};this.Uma=new Map();this.log=(0,l.Ui)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.F1=void 0;l=a(31276);a(24550);f=a(45146);c.prototype.Ab=function(){return this.Dg.Ab();};c.prototype.SXa=function(k,d){var g;this.Uma.has(k) || this.Uma.set(k,new Map());g=this.Uma.get(k);g.has(d) || g.set(d,this.tDb(k,d));return g.get(d);};c.prototype.tDb=function(k,d){var g;g=this;return function(n){return d(Object.assign({},n,{type:k,target:g}));};};c.prototype.MTa=function(k,d){return d?k.then(d,d):k;};b.F1=c;},64059:function(r,b,a){var l;function c(f,k,d){var g;g=l.F1.call(this,f,k) || this;g.seek=function(n){return g.Ab().seek(n);};g.addEpisode=function(n){return g.zra.Jtb(n);};g.playNextEpisode=function(n){n=void 0 === n?{}:n;return g.zra.jYb(n);};g.watchCredits=function(n){return g.zra.V9b(n);};g.playSegment=function(n){return g.Ab().Y9a(n);};g.queueSegment=function(n){return g.Ab().eab(n);};g.updateNextSegmentWeights=function(n,h){return g.Ab().gj(n,h);};g.setNextSegment=function(n){for(var h=[],m=0;m < arguments.length;++m){h[m - 0]=arguments[m];}h=h.map(function(p){return {I:p.segmentId,$M:p.nextSegmentId};});g.Dg.Rj.apply(g.Dg,ba(h));};g.clearNextSegment=function(n){for(var h=[],m=0;m < arguments.length;++m){h[m - 0]=arguments[m];}return g.Dg.Oyb.apply(g.Dg,ba(h));};g.goToNextSegment=function(n,h){return g.Dg.ypa(n,h);};g.getPlaying=function(){return g.isPlaying();};g.getPaused=function(){return g.isPaused();};g.getMuted=function(){return g.isMuted();};g.getEnded=function(){return g.isEnded();};g.getTimedTextVisibility=function(){return g.isTimedTextVisible();};g.isTimedTextVisible=function(){return !!g.Ab().CU().visibility;};g.setTimedTextVisibility=function(n){return g.setTimedTextVisible(n);};g.setTimedTextSize=function(n){return g.Ab().nO({size:n});};g.setTimedTextBounds=function(n){return g.Ab().nO({bounds:n});};g.setTimedTextMargins=function(n){return g.Ab().nO({margins:n});};g.setTimedTextVisible=function(n){return g.Ab().nO({visibility:n});};g.getCongestionInfo=function(n){n && n({success:!1,name:null,isCongested:null});};g.zra=d(f,k,g.log);return g;}b.IZ=void 0;l=a(58343);da(c,l.F1);b.IZ=c;},59219:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x;function c(z){var A,B;A=this;this.Z9=new x.nfa();this.createPlaygraphPlayer=function(C,D,E){var G;C=t.rfa.encode(C);G=d.Ba.get(w.iJ);E=E?G.create(E):void 0;G=d.Ba.get(p.tfa).create(C);return G.uCb(C.Be,A.Z9.msa(A.hUa(D,G.loa())),E);};this.closeAllPlayers=function(C){C=void 0 === C?function(){}:C;(0,k.ifa)(C);};this.init=function(C){A.QA.BV(function(D){D.ia?A.J2b().then(function(){(0,l.NLa)();}).catch(function(E){d.log.error("Unable to initialize the playdata services",E);}).then(function(){Object.assign(A,c.uK);C(Object.assign({success:!0},c.uK));}):C({success:!1,error:(0,d.nMa)(D.errorCode || n.V.Jda,D)});});};this.applyConfig=function(C){A.kgb(C);(0,f.Xka)(C);};this.prepare=function(C,D){var E;C=A.x$a.gEb(C) || [];E=new Set();C=C.filter(function(G){var F;F=E.has(G.P);E.add(G.P);return !F;});if(f.config.Qr && A.ed)try{A.ed.qH(C,D);}catch(G){d.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(C){ob._cad_global.playerPredictionModel?(C=A.x$a.iEb(C)) && ob._cad_global.playerPredictionModel.update(C):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(C){(0,d.PL)().qY().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.supportsUltraHd=function(C){(0,d.PL)().rY().then(C).catch(function(){return C(!1);});};this.supportsDolbyAtmos=function(C){(0,d.PL)().oY().then(C).catch(function(){return C(!1);});};this.supportsDolbyVision=function(C){(0,d.PL)().$aa().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return f.config.XFb;};this.kgb(z);d.Ba.get(y.qBa);this.x$a=d.Ba.get(g.PLa);this.QA=d.Ba.get(u.Rh);B=d.Ba.get(v.KLa).apply();(0,f.xWa)([z],B);this.ed=d.Ba.get(q.bE);(0,d.PL)().rY();}Object.defineProperty(b,"__esModule",{value:!0});b.cE=void 0;l=a(86258);f=a(29204);k=a(13044);d=a(31276);g=a(68976);n=a(36129);h=a(83767);m=a(96687);p=a(58252);q=a(66476);u=a(11479);t=a(50954);w=a(17398);v=a(52033);y=a(13847);x=a(81889);c.prototype.hUa=function(z,A){var B,C,D,E;z=void 0 === z?{}:z;E=null !== (C=null === (B=z.playbackState) || void 0 === B?void 0:B.currentTime) && void 0 !== C?C:A.ta;return Object.assign(Object.assign({startPts:E,uiPlayStartTime:Date.now()},z),{endPts:null !== (D=A.va) && void 0 !== D?D:void 0,isPlaygraph:!0});};c.prototype.kgb=function(z){d.Ba.get(h.YP).QTb(z);};c.prototype.J2b=function(){d.Ba.get(m.AQ)().catch(function(z){d.log.error("Unable to initialize the playdata services",z);throw z;}).then(function(z){return z.send(Infinity);}).catch(function(z){d.log.error("Unable to send deferred playdata",z);});return Promise.resolve();};b.cE=c;c.uK={};},17925:function(r,b,a){var l,f,k,d,g,n;function c(h){var m;m=k.cE.call(this,h) || this;m.createPlayer=function(p,q){var u,t,w;q=void 0 === q?{}:q;q="number" === typeof q?{Uj:q}:q;u=l.Ba.get(f.vJ);t=l.Ba.get(g.iJ).create(q.manifest);w=l.Ba.get(d.vfa);p=u.rCb(p);u=l.Ba.get(n.tfa).create(p);p=u.loa();w=w.nXa(u);w.addEpisode({movieId:p.J,playbackParams:m.hUa(q,p),manifest:t});return w;};return m;}Object.defineProperty(b,"__esModule",{value:!0});b.QPa=void 0;l=a(31276);f=a(75864);k=a(59219);d=a(32050);g=a(17398);n=a(58252);da(c,k.cE);b.QPa=c;},41325:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperty(b,"__esModule",{value:!0});r=a(17925);c=a(29204);l=a(13044);b=a(87386);f=a(31276);k=a(45118);d=a(36410);g=a(45146);n=a(32687);ob.netflix=ob.netflix || ({});(0,g.oa)(!ob.netflix.player);ob.netflix.player={VideoSession:r.QPa,diag:{togglePanel:function(h,m){var p;p=[];if(!c.config || c.config.pX){switch(h){case "info":p=l.In.map(function(q){return q.X9;});break;case "streams":p=l.In.map(function(q){return q.a$;});break;case "log":p=[];}p.forEach(function(q){(0,n.Xc)(m)?m?q.show():q.Jv():q.toggle();});}},addLogMessageSink:function(h){f.Ba.get(k.tl).addListener({Ajc:function(){},RTb:function(m){h({data:m.data});}});}},log:(0,f.Ui)("Ext"),LogLevel:b.ij,addLogSink:function(h,m){f.Ba.get(d.hJ).F$(h,m);},getVersion:function(){return "6.0043.369.911";},getMostRecentPlaybackDiagnosticGroups:function(){var h;return null === (h=l.eA.O7a) || void 0 === h?void 0:h.pYa.kU();}};},61524:function(r,b,a){var c,l,f,k,d,g,n,h,m,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(1481);l=a(59219);f=a(33096);k=a(29204);r=a(36129);d=a(31276);g=a(45146);n=a(3887);h=a(32687);m=a(45118);p=a(31850);a=a(11479);d.Ba.get(a.Rh).register(r.V.ZGa,function(q){var u,t;u=(0,d.Ui)("NccpApi");t=(0,n.UTa)(["info","warn","trace","error"]);l.cE.uK.nccp={getEsn:function(){return c.Tk.hk;},getPreferredLanguages:function(){return k.config.Ip.ova;},setPreferredLanguages:function(w){(0,g.oa)((0,h.isArray)(w) && (0,h.wM)(w[0]));k.config.Ip.ova=w;},queueLogblob:function(w,v,y){var x;if(w && v)if((v=v.toLowerCase(),t[v])){x=d.Ba.get(m.tl);w=d.Ba.get(p.Yw).kt(w,v,y);x.xc(w);}else u.warn("Invalid severity",{severity:v});},flushLogblobs:function(){d.Ba.get(m.tl).flush(!0);}};q(f.dg);});},42433:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(59219);l=a(1481);f=a(33096);k=a(52569);r=a(36129);d=a(31276);g=a(62082);n=a(45146);h=a(32687);m=a(22365);b=a(11479);p=a(24066);q=a(71501);u=a(97996);t=a(22816);d.Ba.get(b.Rh).register(r.V.$Ga,function(w){var B;function v(){return l.Tk.hk;}function y(C){var D;D=d.Ba.get(q.xJ);d.Ba.get(u.tQ)().then(function(E){var G,F;G=E.hW.getStateForMdx(D);F=G.cryptoContext;E=G.masterToken;G=G.userIdToken;E && G?((0,n.oa)(F),E=["1",(0,d.Ix)(JSON.stringify(E.toJSON())),(0,d.Ix)(JSON.stringify(G.toJSON()))].join(),C({success:!0,cryptoContext:{cTicket:E,encrypt:function(J,M){J=(0,h.tg)(J)?(0,d.$O)(J):J;F.encrypt(J,{result:function(L){L=(0,d.Ix)(L);M({success:!0,mslEncryptionEnvelopeBase64:L});},timeout:function(){M({success:!1});},error:function(L){(0,n.oa)(!1,"Encrypt error: " + L);M({success:!1});}});},decrypt:function(J,M){J=(0,d.Tq)(J);F.decrypt(J,{result:function(L){M({success:!0,text:(0,d.ZY)(L)});},timeout:function(){M({success:!1});},error:function(L){(0,n.oa)(!1,"Decrypt error: " + L);M({success:!1});}});},hmac:function(J,M){J=(0,h.tg)(J)?(0,d.$O)(J):J;F.sign(J,{result:function(L){M({success:!0,hmacBase64:(0,d.Ix)(L)});},timeout:function(){M({success:!1});},error:function(L){(0,n.oa)(!1,"Hmac error: " + L);M({success:!1});}});}}})):((0,n.oa)(!1,"Must login first"),C({success:!1}));});}function x(C,D){var E;E=(0,d.Tq)(C);C=E.subarray(32,48);E=E.subarray(0,32);if(16 != C.length || 32 != E.length)throw Error("Bad shared secret");Promise.all([(0,k.dH)(m.Gp.importKey("raw",C,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,k.dH)(m.Gp.importKey("raw",E,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(G){D({success:!0,cryptoContext:z(G[0],G[1])});},function(){D({success:!1});});}function z(C,D){function E(G){G=new g.GP((0,d.Tq)(G));G.fz();return {iv:G.kab(),kGb:G.kab()};}return {encrypt:function(G,F){var J;G=(0,h.tg)(G)?(0,d.$O)(G):G;J=m.cA.getRandomValues(new Uint8Array(16));(0,k.dH)(m.Gp.encrypt({name:"AES-CBC",iv:J},C,G)).then(function(M){var L,K;M=new Uint8Array(M);L=[];K=new g.GP(L);K.Sba(2);K.Fhb(J);K.Fhb(M);M=(0,d.Ix)(L);F({success:!0,encryptedDataAsn1Base64:M});},function(M){(0,n.oa)(!1,"Encrypt error: " + M);F({success:!1});});},decrypt:function(G,F){var J;J=E(G);G=J.iv;J=J.kGb;(0,k.dH)(m.Gp.decrypt({name:"AES-CBC",iv:G},C,J)).then(function(M){M=new Uint8Array(M);F({success:!0,text:(0,d.ZY)(M)});},function(M){(0,n.oa)(!1,"Decrypt error: " + M);F({success:!1});});},hmac:function(G,F){G=(0,h.tg)(G)?(0,d.$O)(G):G;(0,k.dH)(m.Gp.sign({name:"HMAC",hash:{name:"SHA-256"}},D,G)).then(function(J){J=new Uint8Array(J);F({success:!0,hmacBase64:(0,d.Ix)(J)});},function(J){(0,n.oa)(!1,"Hmac error: " + J);F({success:!1});});}};}function A(){return (0,p.Jka)();}B=d.Ba.get(t.rD);if(B.r4a || B.By)c.cE.uK.mdx={getEsn:v,createCryptoContext:y,createCryptoContextFromSharedSecret:x,getServerEpoch:A};w(f.dg);});},13777:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});r=a(11479);b=a(36129);c=a(87386);l=a(91581);f=a(15348);k=a(33096);d=a(29204);g=a(31276);n=a(13044);h=a(59219);m=a(62898);p=a(66476);q=a(45118);g.Ba.get(r.Rh).register(b.V.aHa,function(u){var v,y,x,z;function t(A,B){return void 0 === A || void 0 === B?Promise.reject("Invalid email and/or password"):g.Ba.get(m.RKa).Cf(this.log,{},{email:A,password:B}).then(function(){});}function w(A){var B;B=g.Ba.get(p.bE);return B.a_a.fetch(A,B);}if(d.config.ZGb){v=g.Ba.get(f.$ea);y=g.Ba.get(l.Hn);x=g.Ba.get(c.bb).ab("Test");z=g.Ba.get(q.tl);h.cE.uK.test={setPboRequestsListener:function(A){return v.s3b(A);},playbacks:n.In,getPlayback:function(A){return n.In.find(function(B){return B.na === A;});},playgraphManager:{isNextSegmentReady:function(A){var B,C;return void 0 !== (null === (C=null === (B=n.In.find(function(D){return D.na === A;})) || void 0 === B?void 0:B.fb) || void 0 === C?void 0:{Jja:0});},isNextSegmentBuffering:function(A,B){var C,D;return null === (D=null === (C=n.In.find(function(E){return E.na === A;})) || void 0 === C?void 0:C.fb) || void 0 === D?void 0:D.pU(B).JS;}},device:{esn:ob._cad_global.device.hk,esnPrefix:y.bo,errorPrefix:y.dr},log:{info:function(A,B){for(var C=[],D=1;D < arguments.length;++D){C[D - 1]=arguments[D];}return x.info(A,C);},error:function(A,B){for(var C=[],D=1;D < arguments.length;++D){C[D - 1]=arguments[D];}return x.error(A,C);},warn:function(A,B){for(var C=[],D=1;D < arguments.length;++D){C[D - 1]=arguments[D];}return x.warn(A,C);},trace:function(A,B){for(var C=[],D=1;D < arguments.length;++D){C[D - 1]=arguments[D];}return x.trace(A,C);},log:function(A,B){for(var C=[],D=1;D < arguments.length;++D){C[D - 1]=arguments[D];}return x.log(A,C);},debug:function(A,B){for(var C=[],D=1;D < arguments.length;++D){C[D - 1]=arguments[D];}return x.debug(A,C);},flush:function(){return z.flush();}},login:t,getManifest:w};}u(k.dg);});},66093:function(r,b,a){var c,l,f,k,d,g,n,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.sv=void 0;c=a(33096);l=a(29204);r=a(36129);f=a(31276);k=a(22365);d=a(11479);g=a(32687);n=a(59818);h=a(5021);a=f.Ba.get(d.Rh);m=f.Ba.get(n.fA);a.register(r.V.QGa,function(p){var w,v;function q(){p(c.dg);q=c.dx;}function u(y){if(!(y instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(x){if(!(0,g.Vp)(y[x]))throw x + " is not a function";});}function t(){return Promise.resolve().then(function(){var y;y=k.Ee.getBattery();if(!(0,g.Vp)(y.then))throw "getBattery did not return a promise";return y;});}w=(0,f.Ui)("BatteryManager");b.sv={kjb:"chargingchange",j1a:function(){return v?v.level:null;},hoa:function(){return v?v.charging:null;},addEventListener:function(y,x){v && v.addEventListener(y,x);},removeEventListener:function(y,x){v && v.removeEventListener(y,x);}};l.config.QS && (0,g.Vp)(k.Ee.getBattery)?m.oq((0,h.Ob)(l.config.CJb),t()).then(function(y){u(y);v=y;}).catch(function(y){w.error("getBattery failed",y);}).then(q):q();});},94886:function(r,b,a){var l,f;function c(){var k,d;k=this;this.Ms={};this.on=function(g,n,h){k.addListener(g,n,h);};this.addListener=function(g,n,h){k.Ms && (k.Ms[g]=k.Ms[g] || new f.xfa(!0)).add(n,h);};this.removeListener=function(g,n){k.Ms && k.Ms[g] && k.Ms[g].removeAll(n);};this.soa=function(g){return k.Ms && k.Ms[g]?k.Ms[g].flatten():[];};d=this;this.Ec=function(g,n,h){var m;if(d.Ms){m=d.soa(g);for(g={MI:0};g.MI < m.length;(g={MI:g.MI},g.MI++)){h?(function(p){return function(){var q;q=m[p.MI];(0,l.If)(function(){q(n);});};})(g)():m[g.MI].call(this,n);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Yj=void 0;l=a(32219);f=a(20483);c.prototype.Ag=function(){this.Ms=void 0;};b.Yj=c;},31298:function(r,b,a){var l,f,k;function c(d,g,n,h,m,p,q){this.debug=d;this.config=g;this.platform=n;this.C8=h;this.debug.assert(m && m != f.V.Yo,"There should always be a specific error code");this.errorCode=m || f.V.Yo;p && "object" === typeof p?(this.za=p.za || p.ic,this.He=p.He || p.Wc,this.Lma=p.Lma || p.Tm,this.Nb=p.Nb || p.details,this.pT=p.Cj,this.k5=p.k5 || p.tic || p.Uy,this.wB=p.wB || p.data,p.ZV && (this.ZV=p.ZV),this.NW=p.NW,this.S9=p.S9,this.Nl=p.Nl,this.method=p.method,this.b9=p.b9,this.alert=p.alert,this.Oia=p.Oia,this.nG=p.nG,!this.Nb && this.nG && (this.Nb=JSON.stringify(this.nG)),this.Gd=p.Gd,this.debug.assert(!this.Nl || this.Nl == this.He)):(this.za=p,this.He=q);this.stack=[this.errorCode];this.za?this.stack.push(this.za):this.He && this.stack.push(f.S.Yo);this.He && this.stack.push(this.He);this.S4=this.lV?this.NW:this.platform.dr + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.oMa=void 0;l=a(33096);f=a(36129);k=a(32687);a(3887);c.prototype.Tcb=function(d){this.uYb=d;};c.prototype.toString=function(){var d;d="[PlayerError #" + this.S4 + "]";this.Nb && (d+=" " + this.Nb);this.pT && (d+=" (CustomMessage: " + this.pT + ")");return d;};c.prototype.KY=function(){var d,g,n,h;this.pT && (n=["streaming_error"]);n || this.C8.zt() !== l.r_ || ("80080017" == this.He && (n=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.He && (n=["pause_timeout"]));n || this.C8.zt() !== l.gda || this.errorCode !== f.V.GEa && this.errorCode !== f.V.JP || (n=["no_cdm","platform_error","plugin_error"]);n || this.errorCode !== f.V.jda || this.za !== f.S.hda || (n=["pause_timeout"]);this.k5 === f.F0.iga && (this.qka("2018") || this.qka("2020")?n=["received_soad"]:this.qka("5000") && (n=["should_reset_device"]));h=this.KJb();h && (n=[h],this.pT=void 0);if(!n)switch(this.errorCode){case f.V.Q0:case f.V.u0:case f.V.iib:case f.V.Pea:this.uYb && (n=["pause_timeout"]);break;case f.V.dHa:case f.V.eHa:n=this.za?["platform_error"]:["multiple_tabs"];break;case f.V.Kda:case f.V.FKa:case f.V.Rea:case f.V.zKa:n=["platform_error","plugin_error"];break;case f.V.yQ:n=["no_cdm","platform_error","plugin_error"];break;case f.V.NEa:case f.V.Eq:case f.V.R0:switch(this.He){case "FFFFD000":n=["device_needs_service","platform_error"];break;case "48444350":n=["unsupported_output","platform_error"];break;case "00000024":n=["private_mode"];}break;case f.V.BKa:case f.V.Qea:n=["unsupported_output"];}!n && (0,f.hFa)(this.za) && (n=this.za == f.S.UP?["geo"]:["internet_connection_problem"]);n || this.errorCode !== f.V.JP || this.za !== f.S.sl || "S" !== this.platform.dr || (n=["private_mode"]);if(!n)switch(this.Kya(this.za)){case f.S.oga:n=["should_upgrade"];break;case f.S.vKa:n=["should_reset_device"];break;case f.S.uKa:n=["should_reload_device"];break;case f.S.tKa:n=["should_exit_device"];break;case f.S.Mmb:case f.S.IIa:n=["should_signout_and_signin"];break;case f.S.Nmb:n=["internet_connection_problem"];break;case f.S.KDa:n=["platform_error","plugin_error"];break;case f.S.Ojb:case f.S.NGa:case f.S.OGa:n=["private_mode"];break;case f.S.kea:n=["should_reload_with_preferred_locales"];}n=n || [];if(this.lV)(n.push(this.NW,this.S9),this.Kya(this.za) === f.S.Mea && n.push("incorrect_pin"));else if((n.push(this.platform.dr + this.errorCode),this.za))switch(this.Kya(this.za)){case f.S.Mea:n.push("incorrect_pin");break;default:n.push("" + this.za);}n={display:{code:this.S4,text:this.pT},messageIdList:n,alert:this.alert,alertTag:this.Oia,preferredAudioLocale:null === (d=this.nG) || void 0 === d?void 0:d.o3a,preferredTextLocale:null === (g=this.nG) || void 0 === g?void 0:g.p3a};this.config().YGb && (n.debugData=this.wB);return n;};c.prototype.Kya=function(d){var g;g=parseInt(d,10);return isNaN(g)?d:g;};c.prototype.qka=function(d){return ((0,k.Sb)(this.He)?this.He.toString():(0,k.tg)(this.He)?this.He:"").endsWith(d);};c.prototype.KJb=function(){if(this.errorCode === f.V.eJ && (this.za === f.S.Lea || this.za === f.S.sKa))return this.LJb(this.za === f.S.Lea);};c.prototype.LJb=function(d){var g,n,h,m;h=this.config().browserInfo || ({});m=null === (g=h.os) || void 0 === g?void 0:g.name;g=((null === (n=h.os) || void 0 === n?void 0:n.version) || "").split(".");n=parseInt(g && g[0]);g=parseInt(g && g[1]);switch(m){case "windows":return 6 > n || 6 === n && 1 > g?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > n || 10 === n && 10 > g?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};Ya.Object.defineProperties(c.prototype,{lV:{configurable:!0,enumerable:!0,get:function(){return !!this.NW && !!this.S9;}}});b.oMa=c;},981:function(r,b){function a(c,l){this.hza=c;this.Iv=l;}Object.defineProperty(b,"__esModule",{value:!0});b.mNa=void 0;a.prototype.M3b=function(){this.C2 || (this.C2=setInterval(this.Iv,this.hza));};a.prototype.UVa=function(){this.C2 && (clearInterval(this.C2),this.C2=void 0);};b.mNa=a;},35128:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.y1=void 0;b.Wo={rJ:"PRIMARY",$ba:"ASSISTIVE",PCa:"COMMENTARY",NONE:"NONE"};b.y1={assistive:b.Wo.$ba,closedcaptions:b.Wo.$ba,directorscommentary:b.Wo.PCa,commentary:b.Wo.PCa,subtitles:b.Wo.rJ,primary:b.Wo.rJ,none:b.Wo.NONE};},24066:function(r,b,a){var l,f,k,d,g;function c(){return l.ac.get(k.Lc).Gy.ea(g.pa);}Object.defineProperty(b,"__esModule",{value:!0});b.Zyb=b.Jka=b.YVa=b.Xyb=b.Yyb=b.Ika=b.Xn=void 0;l=a(83989);f=a(30869);k=a(81918);d=a(62665);g=a(5021);b.Xn=function(){return l.ac.get(k.Lc).Kb().ea(g.pa);};b.Ika=function(){return l.ac.get(f.cg).ke.ea(g.xm);};b.Yyb=function(){return l.ac.get(k.Lc).Gy.ea(g.xm);};b.Xyb=function(){return l.ac.get(d.Xw).dB();};b.YVa=c;b.Jka=function(){return l.ac.get(f.cg).ke.ea(g.pa);};b.Zyb=function(){return c();};},33096:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kQ=b.B0=b.$ib=b.Vib=b.Xib=b.Yib=b.pCa=b.Uib=b.Wib=b.oCa=b.Zib=b.fjb=b.djb=b.ejb=b.cjb=b.Ckb=b.Bkb=b.Akb=b.omb=b.qmb=b.pmb=b.FIa=b.HIa=b.GIa=b.xEa=b.Dkb=b.gda=b.r_=b.$mb=b.Mob=b.EIa=b.Oib=b.HDa=b.Hea=b.oJ=b.O0=b.DIa=b.Zw=b.Nib=b.aCa=b.cmb=b.opb=b.nmb=b.mmb=b.Fob=b.Eob=b.zs=b.dg=b.hNa=b.dx=void 0;b.ZBa=b.Dfa=void 0;b.dx=function(){};b.hNa=function(){return !0;};b.dg={ia:!0};b.zs=1E3;b.Eob=86400;b.Fob=604800;b.mmb=1E4;b.nmb=1E7;b.opb=1.5;b.cmb=.128;b.aCa=7.8125;b.Nib=128;b.Zw=145152E5;b.DIa=1E5;b.O0="$netflix$player$order";b.oJ=-1;b.Hea=1;b.HDa=["en-US"];b.Oib=8;b.EIa=65535;b.Mob=65536;b.$mb=Number.MAX_VALUE;b.r_="playready";b.gda="widevine";b.Dkb="fps";b.xEa="clearkey";b.GIa='audio/mp4; codecs="mp4a.40.5"';b.HIa='audio/mp4; codecs="mp4a.40.42"';b.FIa='audio/mp4; codecs="ec-3"';b.pmb='video/mp4; codecs="avc1.640028"';b.qmb='video/mp4; codecs="hev1.2.6.L153.B0"';b.omb='video/mp4; codecs="dvhe.01000000"';b.Akb="9A04F079-9840-4286-AB92-E65BE0885F95";b.Bkb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.Ckb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.cjb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.ejb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.djb="4E657466-6C69-7846-7261-6D6552617465";b.fjb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.Zib="mp4a";b.oCa="enca";b.Wib="ec-3";b.Uib="avc1";b.pCa="encv";b.Yib="hvcC";b.Xib="hev1";b.Vib="dvhe";b.$ib="vp09";b.B0=0;b.kQ=1;b.Dfa="position:relative;width:100%;height:100%;overflow:hidden";b.ZBa="AAAAJGZ0eXBpc28yAAAAAGlzb21pc28yZGFzaGlzbzZwaWZmAAAAhHV1aWROZXRmbGl4UGlmZlN0cm0hAQAAAAAAAAAEnph8AAAAAACYloAAAAABBq7BRQAAAAAAADQaAAAAAASeVDAAAAAAAAAjXwAAELsAAAAAAAAIKwAACoQxmsddr5Pt+Lrq/zLsOAU/AAAAAAAAHRsAAAOSAAAAAAAAIK0AAAKyAAAAGGZyZWUAAAAAAAAAAAAAAAAAAAAAAAAATXV1aWTi6QKlfkPiQZDaISEYxWQyAAAAAAAAAADesO2iTmV0ZmxpeCBNZWRpYSBMaWJyYXJ5IFZlcnNpb24gODAuMTAuMTcuIAAAAAcebW9vdgAAAHhtdmhkAQAAAAAAAADesO2jAAAAAN6w7aMAmJaAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAr5wc3NoAAAAAJoE8HmYQEKGq5LmW+CIX5UAAAKengIAAAEAAQCUAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AQQBBAEEAQQBBAE8AYwBHAHkAeQA0AEEAQQBBAEEAQQBBAEEAQQBBAEEAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBvAE8ARwBWAHcAUwB0AGYAcABvAHMAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABDAFUAUwBUAE8ATQBBAFQAVABSAEkAQgBVAFQARQBTAD4APABMAGkAdAB0AGwAZQBFAG4AZABpAGEAbgBLAEkARAA+AHQAcgB1AGUAPAAvAEwAaQB0AHQAbABlAEUAbgBkAGkAYQBuAEsASQBEAD4APAAvAEMAVQBTAFQATwBNAEEAVABUAFIASQBCAFUAVABFAFMAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AAAAAExwc3NoAAAAAClwH+Q8x0o0jFuukMdDmkcAAAAsAAAABAAAAAAG5y7LEQCZXm+LFtZ8GJ3qeQbAI/HmYiUnLTrYNjnKW2j/oyoAAAA0cHNzaAAAAADt74upedZKzqPIJ9zVHSHtAAAAFAgBEhAAAAAABucuywAAAAAAAAAAAAADJHRyYWsAAABodGtoZAEAAAcAAAAA3rDtowAAAADesO2jAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAFAAAAAtAAAAAAACxlZHRzAAAAJGVsc3QBAAAAAAAAAQAAAAEGrsFFAAAAAAAGW5sAAQAAAAACiG1kaWEAAAAsbWRoZAEAAAAAAAAA3rDtowAAAADesO2jAJiWgAAAAAAAAAAAVcQAAAAAADRoZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW8gTWVkaWEgSGFuZGxlcgAAAAIgbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAB4HN0YmwAAAAQc3R0cwAAAAAAAAAAAAAAEGN0dHMAAAAAAAAAAAAAAYRzdHNkAAAAAAAAAAEAAAF0ZW5jdgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAUAAtAASAAAAEgAAAAAAAAAAQpBVkMgQ29kaW5nAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADxhdmNDAU1AH//hACVnTUAf6IAoAt2AiAAAAwAIAAADAYcBAAHH7gAAl/pSYYA8YMRIAQAEaOvssgAAABBwYXNwAAAAAQAAAAEAAAAidXVpZE5ldGZsaXhGcmFtZVJhdGUAAAAAAABdwAPoAAAAYHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABwaWZmAAEAAQAAADhzY2hpAAAAMHV1aWSJdNvOe+dMUYT5cUj5iCVUAAAAAAAAAQgAAAAABucuywAAAAAAAAAAAAAAUHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAAAAAAG5y7LAAAAAAAAAAAAAAAQc3RzYwAAAAAAAAAAAAAAFHN0c3oAAAAAAAAAAAAAAAAAAAAQc3RjbwAAAAAAAAAAAAAAPG12ZXgAAAAUbWVoZAEAAAAAAAABBq7BRQAAACB0cmV4AAAAAAAAAAIAAAABAAAAAAAAAAABoQAA";},77705:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.zXa=b.hsa=void 0;c=a(45146);l=a(3887);f=a(32687);(function(){var d,g,n;function k(h){(0,c.oa)(void 0 !== d[h]);return d[h];}d={'"':'""',"\r":"","\n":" "};g=/["\r\n]/g;n=/[", ]/;b.zXa=function(h){return (0,f.Xc)(h)?(0,f.Sb)(h)?h:(0,f.tg)(h)?h.replace(g,k):(0,f.n4a)(h)?h:isNaN(h)?"NaN":"":"";};b.hsa=function(h){var m,p;m=b.zXa;p="";(0,l.Wf)(h,function(q,u){q=m(q) + "=" + m(u);n.test(q) && (q='"' + q + '"');p=p?p + ("," + q):q;});return p;};})();},45146:function(r,b,a){var f,k,d;function c(){d || (d=f.Ba.get(k.Ow));return d;}function l(g,n){return c().assert(g,n);}Object.defineProperty(b,"__esModule",{value:!0});b.eDb=b.Hla=b.YCb=b.bDb=b.WK=b.gT=b.aDb=b.cDb=b.hT=b.LXa=b.$Cb=b.ZCb=b.oa=b.dDb=b.yib=void 0;f=a(31276);k=a(90597);b.yib=function(){l(!1);};b.dDb=!0;d=void 0;b.oa=l;b.ZCb=function(g,n){return c().nvb(g,n);};b.$Cb=function(g,n){return c().ovb(g,n);};b.LXa=function(g,n){return c().k3(g,n);};b.hT=function(g,n){return c().uvb(g,n);};b.cDb=function(g,n){return c().svb(g,n);};b.aDb=function(g,n){return c().j3(g,n);};b.gT=function(g,n){return c().qvb(g,n);};b.WK=function(g,n){return c().tvb(g,n);};b.bDb=function(g,n){return c().rvb(g,n);};b.YCb=function(g,n){return c().mvb(g,n);};b.Hla=function(g,n){return c().pvb(g,n);};b.eDb=function(){return c().wPb();};},32219:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.If=void 0;b.If=function(a){return setTimeout(a,0);};},22894:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CFa=void 0;b.CFa=function(a){var f,k,d,g;function c(){if(d)for(var n;n=f.pop();){n(g);}}function l(n){d=!0;g=n;c();}f=[];return function(n){f.push(n);k || (k=!0,a(l));c();};};},37509:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.J6=b.qr=b.K6=b.JB=b.Wk=b.oe=void 0;r=a(94886);c=a(32219);l=a(22365);b.oe=new r.Yj();b.Wk=1;b.JB=2;b.K6=3;b.qr=4;b.J6=5;(0,c.If)(function(){var k,d,g;function f(n,h){if(d)d.on(n,h);else ob.addEventListener(n,h);}k=ob.jQuery;d=k && k(ob);k=(k=ob.netflix) && k.cadmium && k.cadmium.addBeforeUnloadHandler;g=l.Ig.hidden;k?k(function(n){b.oe.Ec(b.Wk,n);}):f("beforeunload",function(n){b.oe.Ec(b.Wk,n);});f("keydown",function(n){b.oe.Ec(b.JB,n);});f("resize",function(){b.oe.Ec(b.K6);});l.Ig.addEventListener("visibilitychange",function(){g !== l.Ig.hidden && (g=l.Ig.hidden,b.oe.Ec(b.qr));});});(function(){ob.addEventListener("error",function(f){b.oe.Ec(b.J6,f);return !0;});})();},52828:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(36129);c=a(31276);l=a(31701);a=a(11479);c.Ba.get(a.Rh).register(r.V.SGa,function(f){c.Ba.get(l.BEa)().then(function(){f({ia:!0});}).catch(function(k){c.log.error("error in initializing indexedDb debug tool",k);f({ia:!0});});});},15208:function(r,b,a){var n,h,m,p,q;function c(u){var t,v;(0,h.hT)(u);if((0,p.tg)(u) && b.fHa.test(u)){t=u.split(".");if(4 === t.length){for(var w=0;w < t.length;w++){v=(0,q.aj)(t[w]);if(0 > v || !(0,p.ZB)(v,0,255) || 1 !== t[w].length && 0 === t[w].indexOf("0"))return;}return u;}}}function l(u){var t;t=0;if(c(u) === u)return (u=u.split("."),t+=(0,q.aj)(u[0]) << 24,t+=(0,q.aj)(u[1]) << 16,t+=(0,q.aj)(u[2]) << 8,t + (0,q.aj)(u[3]));}function f(u){var t,w;(0,h.hT)(u);if((0,p.tg)(u) && u.match(b.gHa)){t=u.split(":");-1 !== t[t.length - 1].indexOf(".") && (u=k(t[t.length - 1]),t.pop(),t.push(u[0]),t.push(u[1]),u=t.join(":"));u=u.split("::");if(!(2 < u.length || 1 === u.length && 8 !== t.length) && (t=1 < u.length?d(u):t,u=t.length,8 === u)){for(;u--;){w=parseInt(t[u],16);if(!(0,p.ZB)(w,0,n.EIa))return;}return t.join(":");}}}function k(u){var t;u=l(u) >>> 0;t=[];t.push((u >>> 16 & 65535).toString(16));t.push((u & 65535).toString(16));return t;}function d(u){var t,w,v;t=u[0].split(":");u=u[1].split(":");1 === t.length && "" === t[0] && (t=[]);1 === u.length && "" === u[0] && (u=[]);w=8 - (t.length + u.length);if(1 > w)return [];for(v=0;v < w;v++){t.push("0");}for(v=0;v < u.length;v++){t.push(u[v]);}return t;}function g(u){return -1 << 32 - u;}Object.defineProperty(b,"__esModule",{value:!0});b.Ulb=b.Zlb=b.Wlb=b.Vlb=b.Ylb=b.Tlb=b.Xlb=b.DD=b.gHa=b.fHa=void 0;n=a(33096);h=a(45146);m=a(22365);p=a(32687);q=a(3887);b.fHa=/^[0-9.]*$/;b.gHa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.DD="0000000000000000";b.Xlb=c;b.Tlb=l;b.Ylb=f;b.Vlb=k;b.Wlb=d;b.Zlb=function(u,t,w){var v,y,x,z;v=c(u);y=f(u);x=c(t);z=f(t);if(!v && !y || !x && !z || v && !x || y && !z)return !1;if(u === v)return (w=g(w),(l(u) & w) !== (l(t) & w)?!1:!0);if(u === y){u=u.split(":");t=t.split(":");for(v=(0,m.jJ)(w / b.DD.length);v--;){if(u[v] !== t[v])return !1;}w%=b.DD.length;if(0 !== w)for((u=parseInt(u[v],16).toString(2),t=parseInt(t[v],16).toString(2),u=b.DD.substring(0,b.DD.length - u.length) + u,t=b.DD.substring(0,b.DD.length - t.length) + t,v=0);v < w;v++){if(u[v] !== t[v])return !1;}return !0;}return !1;};b.Ulb=g;},32687:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Vp=b.n4a=b.wM=b.tg=b.gra=b.VPb=b.HPb=b.Xqa=b.ZB=b.z4a=b.Sb=b.fra=b.isArray=b.R4a=b.Lt=b.Xc=b.is=void 0;r=a(76564);b.is=r.ED;b.Xc=function(c){return b.is.qg(c);};b.Lt=function(c){return b.is.qS(c);};b.R4a=function(c){return b.is.kia(c);};b.isArray=function(c){return b.is.PA(c);};b.fra=function(c){return b.is.yTa(c);};b.Sb=function(c,l,f){return b.is.dk(c,l,f);};b.z4a=function(c,l,f){return b.is.Sia(c,l,f);};b.ZB=function(c,l,f){return b.is.rS(c,l,f);};b.Xqa=function(c){return b.is.ZR(c);};b.HPb=function(c){return b.is.ftb(c);};b.VPb=function(c){return b.is.gtb(c);};b.gra=function(c){return b.is.zTa(c);};b.tg=function(c){return b.is.qp(c);};b.wM=function(c){return b.is.Fm(c);};b.n4a=function(c){return b.is.G2(c);};b.Vp=function(c){return b.is.I2(c);};},2734:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(31276);b=a(36410);a=a(34126);r.Ba.get(b.hJ).F$(a.eea.vjb,function(c){var l,f;l=c.level;if(!ob._cad_global.config || l <= ob._cad_global.config.tSb){c=c.jba();f=ob.console;1 >= l?f.error(c):2 >= l?f.warn(c):f.log(c);}});},73100:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(29204);a(33096);r=a(31276);a(36410);a(34126);a(36129);a(45842);a(5021);a=a(11479);r.Ba.get(a.Rh);!1;},8825:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.bh=b.anb=b.fx=void 0;c=a(32687);b.fx=b.fx || (function(l,f,k){return l >= f?l <= k?l:k:f;});b.anb=function(l,f,k,d,g){return (l - f) * (g - d) / (k - f) + d;};b.bh=function(l){if((0,c.Sb)(l))return (l / 1E3).toFixed(3);};},87051:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.e9b=b.gpb=b.epb=b.dpb=b.fpb=void 0;c=a(32687);l=a(22365);b.fpb=function(f,k,d){for(d=(d - f.length) / k.length;0 < d--;){f+=k;}return f;};b.dpb=function(f,k,d){d=(0,c.tg)(d)?d:"...";return f.length <= k?f:f.substr(0,f.length - (f.length + d.length - k)) + d;};b.epb=function(f,k){var g;for(var d=1;d < arguments.length;++d){;}g=l.slice.call(arguments,1);return f.replace(/{(\d+)}/g,function(n,h){return "undefined" != typeof g[h]?g[h]:n;});};b.gpb=function(f){for(var k=f.length,d=new Uint16Array(k),g=0;g < k;g++){d[g]=f.charCodeAt(g);}return d.buffer;};b.e9b=function(f){var k;k=new Uint8Array(f.length);Array.prototype.forEach.call(f,function(d,g){k[g]=d.charCodeAt(0);});return k;};},52569:function(r,b,a){var n,h,m,p,q,u;function c(){var t,w;if(t=b.w6.SRa)return t;t=p.J0.search.substr(1);w=t.indexOf("#");0 <= w && (t=t.substr(0,w));t=l(t);return b.w6.SRa=t;}function l(t){for(var w=/[+]/g,v=(t || "").split("&"),y={},x,z=0;z < v.length;z++){t=(0,m.trim)(v[z]);x=t.indexOf("=");0 <= x?y[decodeURIComponent(t.substr(0,x).replace(w,"%20")).toLowerCase()]=decodeURIComponent(t.substr(x + 1).replace(w,"%20")):y[t.toLowerCase()]=null;}return y;}function f(t){return (t=(/function (.{1,})\(/).exec(t.toString())) && 1 < t.length?t[1]:"";}function k(t){return f(t.constructor);}function d(t){return p.sort.call(t,function(w,v){return w - v;});}function g(t){for(var w=0,v=t.length;v--;){w+=t[v];}return w;}Object.defineProperty(b,"__esModule",{value:!0});b.LYb=b.eG=b.O0a=b.hra=b.HYb=b.J4a=b.ajb=b.bjb=b.kIb=b.DK=b.wzb=b.H5=b.vHb=b.dH=b.sib=b.oP=b.tib=b.EZ=b.rib=b.tPb=b.createElement=b.aT=b.nZb=b.Hta=b.joa=b.getFunctionName=b.MW=b.w6=b.$Lb=b.mab=b.iTa=b.FWa=b.y_b=b.aB=b.lWa=void 0;n=a(33096);h=a(31276);m=a(3887);p=a(22365);q=a(32687);u=a(82100);b.lWa=function(t,w){if(t === w)return !0;if(!t || !w)return !1;for(var v in t){if(t.hasOwnProperty(v) && (!w.hasOwnProperty(v) || t[v] !== w[v]))return !1;}return !0;};b.aB=b.aB || (function(t,w){if(t.length == w.length){for(var v=t.length;v--;){if(t[v] != w[v])return !1;}return !0;}return !1;});b.y_b=function(t){var w;if(t){w=t.length;if(w)return (w=(0,m.hab)(0,w - 1),t[w]);}};b.FWa=function(t,w){if(t.length != w.length)return !1;t.sort();w.sort();for(var v=t.length;v--;){if(t[v] !== w[v])return !1;}return !0;};b.iTa=function(t,w,v){function y(){t.removeEventListener(w,y);v.apply(this,arguments);}t.addEventListener(w,y);};b.mab=function(){var t,w,v,y,x,z;t=p.Ig.cookie.split("; ");w=t.length;x={};for(v=0;v < w;v++){if(y=(0,m.trim)(t[v])){z=y.indexOf("=");0 < z && (x[y.substr(0,z)]=y.substr(z + 1));}}return x;};b.$Lb=c;b.w6=Object.assign(c,{SRa:void 0});b.MW=l;b.getFunctionName=f;b.joa=k;b.Hta=function(t){var w;w="";(0,q.isArray)(t) || (0,q.fra)(t)?w=p.reduce.call(t,function(v,y){return v + (32 <= y && 128 > y?(0,p.GOa)(y):".");},""):(0,q.tg)(t)?w=t:(0,m.Wf)(t,function(v,y){w+=(w?", ":"") + "{" + v + ": " + ((0,q.Vp)(y)?f(y) || "function":y) + "}";});return "[" + k(t) + " " + w + "]";};b.nZb=function(t,w){t.firstChild?t.insertBefore(w,t.firstChild):t.appendChild(w);};b.aT=b.aT || (function(t){var w;w="";(0,m.Wf)(t,function(v,y){w+=(w?";":"") + v + ":" + y;});return w;});b.createElement=b.createElement || (function(t,w,v,y){var x;x=p.Ig.createElement(t);w && (x.style.cssText=w);v && (x.innerHTML=v);y && (0,m.Wf)(y,function(z,A){x.setAttribute(z,A);});return x;});b.tPb=function(t,w){var v;v=t[0];if(w <= v[0])return v.slice(1);for(var y=1,x;x=t[y++];){if(w <= x[0]){t=(w - v[0]) / (x[0] - v[0]);w=[];for(y=1;y < v.length;y++){w.push((v[y] || 0) + t * ((x[y] || 0) - (v[y] || 0)));}return w;}v=x;}return v.slice(1);};b.rib=function(t,w){var x;for(var v={},y=0;y < w.length;y++){x=w[y];if("string" != typeof x && "number" != typeof x)return !1;v[w[y]]=1;}for(y=0;y < t.length;y++){if((x=t[y],!v[x]))return !1;}return !0;};b.EZ=d;b.tib=g;b.oP=function(t,w){var v,y,x,z;v=-1;y=t.length;if(1 === arguments.length){for(;++v < y && !(null != (x=t[v]) && x <= x);){x=void 0;}for(;++v < y;){null != (z=t[v]) && z > x && (x=z);}}else {for(;++v < y && !(null != (x=w.call(t,t[v],v)) && x <= x);){x=void 0;}for(;++v < y;){null != (z=w.call(t,t[v],v)) && z > x && (x=z);}}return x;};b.sib=function(t,w){var v,y,x,z;v=-1;y=t.length;if(1 === arguments.length){for(;++v < y && !(null != (x=t[v]) && x <= x);){x=void 0;}for(;++v < y;){null != (z=t[v]) && x > z && (x=z);}}else {for(;++v < y && !(null != (x=w.call(t,t[v],v)) && x <= x);){x=void 0;}for(;++v < y;){null != (z=w.call(t,t[v],v)) && x > z && (x=z);}}return x;};b.dH=function(t){return (0,q.Vp)(t.then)?t:new Promise(function(w,v){t.oncomplete=function(){w(t.result);};t.onerror=function(){v(t.error);};});};b.vHb=function(t,w){var y,x,z,A,B,C;function v(D){0 > y.indexOf(D) && (0,q.Sb)(D) && y.push(D);}t=t.slice();d(t);y=[];if(!w || !w.length)return t;if(!t.length)return [];x=w.length;try{for(;x--;){A="" + w[x];B=(0,m.aj)(A);switch(A[A.length - 1]){case "-":for(z=t.length;z--;){C=t[z];if(C < B){v(C);break;}}break;case "+":for(z=0;z < t.length;z++){if((C=t[z],C > B)){v(C);break;}}break;default:0 <= t.indexOf(B) && v(B);}}}catch(D){}y.length || y.push(t[0]);d(y);return y;};b.H5=b.H5 || (function(t,w,v){var y;if(t / w > v){y=(0,p.Fn)(w * v);t=w;}else (y=t,t=(0,p.Fn)(t / v));return {width:y,height:t};});b.wzb=function(t,w,v){for(var y=[],x=0;x < w;x++){y.push((0,p.WIa)(t[x] - v,2));}return (0,p.XIa)(g(y) / y.length);};b.DK=function(t,w){var v;v=t.length;w=(v - 1) * w + 1;if(1 === w)return t[0];if(w == v)return t[v - 1];v=(0,p.jJ)(w);return t[v - 1] + (w - v) * (t[v] - t[v - 1]);};b.kIb=function(t,w){if(!(0,q.isArray)(t))throw Error("boxes is not an array");if(0 >= t.length)throw Error("There are no boxes in boxes");w=(0,q.isArray)(w)?w:[w];for(var v=t.length,y=0;y < v;y++){for(var x=0;x < w.length;x++){if(t[y].type == w[x])return t[y];}}throw Error("Box not found " + w);};b.bjb=function(t){return t.cKb("trak/mdia/minf/stbl/stsd/" + n.oCa + "|" + n.pCa).children.filter(function(w){return "sinf" == w.type && w.ygc.schm.ojc == u.Cu;})[0].cKb("schi/tenc").no;};b.ajb=function(t){var v;function w(y,x){var z;z=v[y];v[y]=v[x];v[x]=z;}v=new Uint8Array(t);w(0,3);w(1,2);w(4,5);w(6,7);return v;};b.J4a=function(){return (0,q.Vp)(p.Ee.requestMediaKeySystemAccess);};b.HYb=function(t){return function(w){return w && w[t];};};(0,q.Vp)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(t,w){var v,y;void 0 === t && (t=0);void 0 === w && (w=this.byteLength);t=Math.floor(t);w=Math.floor(w);0 > t && (t+=this.byteLength);0 > w && (w+=this.byteLength);t=Math.min(Math.max(0,t),this.byteLength);w=Math.min(Math.max(0,w),this.byteLength);if(0 >= w - t)return new ArrayBuffer(0);v=new ArrayBuffer(w - t);y=new Uint8Array(v);t=new Uint8Array(this,t,w - t);y.set(t);return v;});b.hra=function(t){return t && 0 == t.toLowerCase().indexOf("https");};b.O0a=function(){var t,w;t=new ArrayBuffer(4);w=new Uint8Array(t);t=new Uint32Array(t);w[0]=161;w[1]=178;w[2]=195;w[3]=212;return 3569595041 == t[0]?"LE":2712847316 == t[0]?"BE":"undefined";};b.eG=function(){var t,w,v;try{t=/playercore.*js/;w=p.Lu.getEntries("resource").filter(function(y){return null !== t.exec(y.name);});if(w && 0 < w.length){v=(0,p.Fn)(w[0].duration);return JSON.stringify(v);}}catch(y){}};b.LYb=function(t,w,v){if(t && t.length){if(v && v.Eyb)try{t.forEach(function(y,x){var z;z=(x=v.Eyb[x]) && x.media;z && (0,q.tg)(z)?(!1,z=(0,h.Tq)(z).buffer,y.media={arrayBuffer:z,length:z.byteLength,stream:w,Dc:x.cdn}):h.log.warn("chunk not in cache",y.ug);});}catch(y){h.log.error("error reading cached chunks",y);}else h.log.warn("chunks not available in cached stream",v.type);}else h.log.warn("chunks not available in mediabuffer",v.type);};},3887:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.Rzb=b.Pl=b.Xf=b.dzb=b.Ae=b.Qv=b.trim=b.Wpa=b.seb=b.hab=b.tXb=b.aj=b.UTa=b.eVa=b.Xd=b.Wf=void 0;c=a(45146);l=a(22365);f=a(32687);b.Wf=function(k,d){for(var g in k){k.hasOwnProperty(g) && d(g,k[g]);}};b.Xd=b.Xd || (function(k,d,g){var n,h,m;if(d)if(g){n=g.LV;h=g.prefix;m=g.H9;(0,b.Wf)(d,function(p,q){if(!m || (0,f.Xc)(q))k[(h || "") + (n?p.toLowerCase():p)]=q;});}else (0,b.Wf)(d,function(p,q){k[p]=q;});return k;});b.eVa=function(k,d,g,n){var h;if(k){h=k[d];(0,f.Vp)(h) && (g=h.apply(k,l.slice.call(arguments,3)));}return g;};b.UTa=function(k){for(var d={},g=k.length;g--;){d[k[g]]=!0;}return d;};b.aj=b.aj || (function(k){return parseInt(k,10);});b.tXb=function(k){return (/^true$/i).test(k);};b.hab=function(k,d){return (0,l.Fn)(k + (0,l.D0)() * (d - k));};b.seb=function(k){return JSON.stringify(k,null,"  ");};b.Wpa=(function(){var d,g;function k(n){(0,c.oa)(void 0 !== d[n]);return d[n];}d={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};g=/[&'"<>]/g;return function(n){return n.replace(g,k);};})();b.trim=(function(){var k;k=/^\s+|\s+$/gm;return function(d){return d.replace(k,"");};})();b.Qv=function(k){return Array.isArray(k)?k:[k];};b.Ae=b.Ae || (function(k){var d,g,n;if(k){d=k.stack;g=k.number;n=k.message;n || (n="" + k);d?(k="" + d,0 != k.indexOf(n) && (k=n + "\n" + k)):k=n;g && (k+="\nnumber:" + g);return k;}});b.dzb=function(k){var n;for(var d=0;d < arguments.length;++d){;}d=0;for(var g=arguments.length;d < g;){n=arguments[d++];if((0,f.Xc)(n))return n;}};b.Xf=function(k){return (0,f.Sb)(k)?k.toFixed(0):void 0;};b.Pl=function(k){return (0,f.Sb)(k)?(k / 1E3).toFixed(0):void 0;};b.Rzb=function(k){for(var d=[],g=0;g < k.length;g++){d[g]=k[g];}return d;};},29204:function(r,b,a){var f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C;function c(D){return (D=b.config.O7b[l(D)])?D:{};}function l(D){if(D)return 0 <= D.indexOf("billboard")?"billboard":0 <= D.toLowerCase().indexOf("preplay")?"preplay":0 <= D.indexOf("embedded")?"embedded":0 <= D.indexOf("content-sampling")?"content-sampling":0 <= D.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= D.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= D.indexOf("standard")?"standard":0 <= D.indexOf("branching")?"branching":0 <= D.indexOf("live")?"live":D;}Object.defineProperty(b,"__esModule",{value:!0});b.yzb=b.zzb=b.wWa=b.f4=b.xWa=b.Xka=b.config=void 0;f=a(33096);k=a(52569);d=a(31276);g=a(34231);n=a(45146);h=a(56800);m=a(75568);p=a(3887);a(87386);q=a(22365);u=a(32687);t=a(93294);w=a(45118);v=a(31850);y=a(5614);x=a(72574);z=a(5021);A=a(91581);B=a(81918);C=a(88195);b.xWa=function(D,E){var La,Za,ab,Z,na,Ha,Sa,Q,ra;function G(qa,O){(0,p.Wf)(qa,function(ia,va){(0,u.Vp)(va)?O[ia]=va.call(void 0,O[ia]):(0,u.Lt)(va) && (O[ia]=O[ia] || ({}),G(va,O[ia]));});}function F(qa,O,ia,va){for(var Oa=[],eb=3;eb < arguments.length;++eb){Oa[eb - 3]=arguments[eb];}return function(Xa){(0,u.Xc)(Xa) && (ia=Xa);(0,n.oa)((0,u.Vp)(qa));return qa.apply(void 0,[O,ia].concat(ba(Oa)));};}function J(qa){qa=qa.toLowerCase();Z.hasOwnProperty(qa) && (ab[qa]=Z[qa],na[qa]=Z[qa]);return qa;}function M(qa,O,ia){var va;qa=qa.toLowerCase();if(ab.hasOwnProperty(qa)){va=ab[qa];try{va=ia?ia(va):va;}catch(Oa){va=void 0;}if(void 0 !== va)return va;(0,n.oa)(!1);d.log.error("Invalid configuration value. Name: " + qa);}return O;}function L(qa,O,ia,va){return M(qa,O,function(Oa){(0,u.tg)(Oa) && (Oa=(0,p.aj)(Oa));if((0,u.z4a)(Oa,ia,va))return Oa;});}function K(qa,O,ia,va){return M(qa,O,function(Oa){(0,u.tg)(Oa) && (Oa=(0,p.aj)(Oa));if((0,u.ZB)(Oa,ia,va))return Oa;});}function P(qa,O,ia,va){return M(qa,O,function(Oa){(0,u.tg)(Oa) && (Oa=parseFloat(Oa));if((0,u.Sb)(Oa,ia,va))return Oa;});}function H(qa,O,ia){return M(qa,O,function(va){if(ia?ia.test(va):(0,u.tg)(va))return va;});}function I(qa,O){return M(qa,O,function(ia){if("true" == ia || !0 === ia)return !0;if("false" == ia || !1 === ia)return !1;});}function N(qa,O){return M(qa,O,function(ia){if((0,u.tg)(ia))return JSON.parse((0,q.K0)(ia));if((0,u.Lt)(ia))return ia;});}function R(qa,O,ia,va,Oa,eb){var Xa;qa=qa.toLowerCase();ab.hasOwnProperty(qa) && (Xa=ab[qa]);if(!(0,u.Xc)(Xa))return O;if((0,u.tg)(Xa))if(Xa[0] !== ia)Xa=va(Xa);else try{Xa=JSON.parse((0,q.K0)(Xa));}catch(qb){Xa=void 0;}if(void 0 === Xa)return O;for(qa=0;qa < Oa.length;qa++){if(!Oa[qa](Xa))return O;}return eb?eb(Xa):Xa;}function X(qa,O,ia,va,Oa){return R(qa,O,"[",function(eb){eb=eb.split("|");for(var Xa=eb.length;Xa--;){eb[Xa]=(0,p.aj)(eb[Xa]);}return eb;},[function(eb){return (0,u.isArray)(eb) && 0 < eb.length;},function(eb){for(var Xa=eb.length;Xa--;){if(!(0,u.ZB)(eb[Xa],ia,va))return !1;}return !0;},function(eb){return void 0 === Oa || eb.length >= Oa;}]);}function ha(qa,O){return R(qa,O,"[",function(ia){ia=(0,u.isArray)(ia)?ia:ia.split("|");for(var va=ia.length;va--;){try{ia[va]=JSON.parse((0,q.K0)(ia[va]));}catch(Oa){ia=void 0;break;}}return ia;},[function(ia){return (0,u.isArray)(ia) && 0 < ia.length;},function(ia){for(var va=ia.length;va--;){if(!(0,u.Xc)(ia[va]) || !(0,u.Lt)(ia[va]))return !1;}return !0;}]);}function ta(qa,O){var ia;ia=la(qa,[]);return ia && 0 < ia.length?(0,C.Eg)(ia):ha(qa,O);}function la(qa,O,ia,va){return R(qa,O,"[",function(Oa){return (0,u.isArray)(Oa)?Oa:Oa.split("|");},[function(Oa){return (0,u.isArray)(Oa) && 0 < Oa.length;},function(Oa){for(var eb=Oa.length;eb--;){if(ia?!ia.test(Oa[eb]):!(0,u.wM)(Oa[eb]))return !1;}return !0;},function(Oa){return void 0 === va || Oa.length >= va;}]);}function xa(qa,O,ia){return R(qa,O,"{",function(va){var Oa,Xa,qb;Oa={};va=va.split(";");for(var eb=va.length;eb--;){Xa=va[eb];qb=Xa.indexOf(":");if(0 >= qb)return;Oa[Xa.substring(0,qb)]=Xa.substring(qb + 1);}return Oa;},[function(va){return (0,u.Lt)(va) && 0 < Object.keys(va).length;},function(va){if(ia)for(var Oa in va){if(!ia.test(va[Oa]))return !1;}return !0;}],function(va){var Oa;Oa={};(0,p.Xd)(Oa,O);(0,p.Xd)(Oa,va);return Oa;});}function Ba(qa){var O;O=[];(0,p.Wf)(qa,function(ia,va){var Oa;try{Oa="videoapp" === ia.toLowerCase()?"[object object]":JSON.stringify(va);}catch(eb){Oa="cantparse";}O.push(ia + "=" + Oa);});return O.join("\n");}La=/^[0-9]+[%]?$/;Za=/^[0-9]*$/;na={};Ha=d.Ba.get(g.Dn);Sa=d.Ba.get(y.uJ);(function(qa){function O(ia){ia.split(",").forEach(function(va){var Oa;Oa=va.indexOf("=");0 < Oa && (ab[va.substring(0,Oa).toLowerCase()]=va.substring(Oa + 1));});}ab={};(0,p.Xd)(ab,qa);D && D.length && q.forEach.call(D,function(ia){(0,u.tg)(ia)?O(ia):(0,u.Lt)(ia) && (0,p.Xd)(ab,ia,{LV:!0});});Z=(0,p.Xd)({},(0,k.w6)(),{LV:!0});if(qa=(0,k.mab)().cadmiumconfig)(d.log.info("Config cookie loaded",qa),O(qa));if(d.Ba.get(A.Hn).V2 || ab.istestaccount)((0,p.Xd)(ab,Z),na=Z);})(E);b.config={};Q={eGb:F(I,J("enableXHEAAC"),!1),dZa:F(I,J("enableDDPlus20"),!0),cZa:F(I,J("enableDDPlus"),!0),kL:F(I,J("enableDDPlusAtmos"),!1),IFb:F(I,J("enableLSSDH"),!0),FFb:F(I,J("enableHEVC"),!1),p9a:F(I,J("overrideEnableHEVC"),!1),zma:F(I,J("enableHDR"),!1),o9a:F(I,J("overrideEnableHDR"),!1),n9a:F(I,J("overrideEnableDV"),!1),iL:F(I,J("enableAVCHigh"),Sa.iL),l9a:F(I,J("overrideEnableAVCHigh"),!1),wma:F(I,J("enableAVCHighLive"),Sa.wma),m9a:F(I,J("overrideEnableAVCHighLive"),!0),aGb:F(I,J("enableVP9"),!1),q9a:F(I,J("overrideEnableVP9"),!1),rFb:F(I,J("enableAV1"),!1),k9a:F(I,J("overrideEnableAV1"),!1),iXb:F(I,J("overrideEnableXHEAAC"),!1),gXb:F(I,"overrideEnableAllAudioProfiles",!1),hXb:F(I,"overrideEnableAllVideoProfiles",!1),RFb:F(I,J("enablePRK"),!1),AFb:F(I,J("enableDV"),!1),gZa:F(I,J("enableHWDRM"),!1),HFb:F(I,J("enableImageSubs"),!0),ZE:F(ta,J("audioProfiles"),Sa.ZE),EFb:F(I,J("enableFullHdForWidevineL3"),!1),fZa:F(I,J("enableFullHdForWidevineL1"),!1),$Fb:F(I,J("enableUHD"),!0),Gba:F(K,"videoCapabilityDetectorType",h.Al.Pw),pja:F(K,"audioCapabilityDetectorType",h.Bu.Pw),Qh:F(ta,J("videoProfiles"),Sa.Qh),Dr:F(ta,J("liveVideoProfiles"),Sa.Dr),pTa:F(ta,J("additionalVideoProfiles"),[]),Ksb:F(la,J("timedTextProfiles"),Sa.ou),ou:function(){return Q.Ksb().filter(function(qa){return qa === m.ym.Qca?Q.IFb():qa === m.ym.lJ?Q.HFb():!0;});},endpoint:F(I,J("endpoint"),!1),version:F(H,"version","unknown"),GFb:F(I,J("enableHdcp"),!1),Qr:F(I,J("prepareCadmium"),!1),ktb:F(I,J("acceptManifestOnPrepareItemParams"),!0),PYb:F(N,"ppmconfig",{maxNumberTitlesScheduled:1}),zT:F(I,J("enableLdlPrefetch"),!1),mZa:F(I,J("enableMediaPrefetch"),!1),MFb:F(I,J("enableManifestCache"),!0),VDb:F(I,J("deleteCachedManifestOnPlayback"),!1),UDb:F(I,J("deleteCachedManifestOnCreate"),!1),XDb:F(I,J("deleteOtherManifestCacheOnCreate"),!1),WDb:F(I,J("deleteOtherLdlCacheOnCreate"),!1),Nic:F(K,J("periodicPrepareLogsIntervalMilliseconds"),36E5),jZb:F(K,J("prepareManifestCacheMaxCount"),50),hZb:F(K,J("prepareLdlCacheMaxCount"),30),z$a:F(K,J("prepareManifestExpiryMilliseconds"),12E5),iZb:F(K,J("prepareLdlExpiryMilliseconds"),78E4),bZb:F(K,J("prefetcherMaxWishlistSize"),10),aZb:F(K,J("prefetcherBudgetInBytes"),Infinity),cZb:F(I,J("prefetcherOverrideItemPriority"),!0),gZb:F(H,J("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),zkc:F(N,"videoApp"),XC:F(N,"storageRules"),WIb:F(I,"ftlEnabled",!0),cqa:F(K,J("imageSubsResolution"),0),DOb:F(K,J("imageSubsMaxBuffer"),Sa.jTb.ea(x.rs),0),QS:F(I,J("captureBatteryStatus"),!1),CJb:F(K,J("getBatteryApiTimeoutMilliseconds"),5E3),Yl:F(H,J("keySystemId"),Sa.Yl),j5a:F(la,J("keySystemList"),void 0,void 0),eAa:F(I,J("validateKeySystemAccess"),!1),XTb:F(K,J("hdcpGlobalTimeout1"),1E4),YTb:F(K,J("hdcpGlobalTimeout2"),1E4),dic:F(K,J("hdcpQueryTimeout1"),1E3),eic:F(K,J("hdcpQueryTimeout2"),1E3),o7a:F(K,J("hdcpQueryTimeout2"),100),p7a:F(I,J("microsoftHwdrmRequiresHevc"),!1),ZTb:F(I,J("microsoftHwdrmRequiresQHD"),!1),n7a:F(I,J("microsoftClearLeadRequiresSwdrm"),!1),UTb:F(I,J("microsoftEnableDeviceInfo"),!1),VTb:F(I,J("microsoftEnableHardwareInfo"),!1),WTb:F(I,J("microsoftEnableHardwareReset"),!1),T8b:F(I,J("useHevcCodecForDolbyVision"),!1),NFb:F(I,J("enableMediaCapabilities"),!1),OYb:F(I,J("powerEfficientForVideo"),!1),OFb:F(I,J("enableMediaCapabilitiesSourceBufferCheck"),!1),pSb:F(I,"logMediaPipelineStatus",!1),pX:F(I,J("renderDomDiagnostics"),!0),f6a:function(){return -1;},FM:F(L,J("logDisplayMaxEntryCount"),Sa.FM,-1),tSb:F(L,J("logToConsoleLevel"),-1),ffc:F(L,J("bladerunnerCmdHistorySize"),10),iy:function(){return Ha.iy;},Ora:F(I,"logErrorIfEsnNotProvided",!0),Ima:F(I,"enforceSinglePlayback",Sa.Ima),i5:F(I,"enforceSingleSession",Sa.i5),Kka:F(I,"closeOtherPlaybacks",!0),xvb:F(K,"asyncLoadTimeout",15E3,1),FSb:F(K,"mainThreadMonitorPollRate",0),kG:function(){return Ha.kG;},EK:function(){return Ha.EK;},RY:function(){return Ha.RY;},ahb:F(K,J("verbosePlaybackInfoDenominator"),0),I$:F(I,"renderTimedText",!0),QYb:F(I,"preBufferTimedText",!0),oHb:F(I,"fatalOnTimedTextLoadError",!0),fza:F(xa,"timedTextStyleDefaults",{}),iba:F(xa,"timedTextStyleOverrides",{}),hba:F(xa,"timedTextFontFamilyMapping",Sa.hba || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),LO:F(K,"timedTextSimpleFallbackThreshold",Sa.LO.ea(x.rs)),e7:F(la,J("increasedMediumScaleLanguageList"),Sa.e7),f7:F(la,J("increasedSmallScaleLanguageList"),Sa.f7),c8:F(la,J("lessBoldLanguageList"),Sa.c8),Ela:F(H,J("customDfxpUrl")),ZFb:F(I,J("enableSubtitleTrackerLogging"),!1),M2b:F(I,J("sendSubtitleQoeLogblobOnMidplay"),!1),lka:F(X,"cdnIdWhiteList",[]),kka:F(X,"cdnIdBlackList",[]),Jna:F(H,J("forceAudioTrack")),Nna:F(H,J("forceTimedTextTrack")),sTb:F(K,J("maxRetriesTimedTextDownload"),0),R6b:F(K,J("timedTextRetryInterval"),8E3),s5b:F(H,"storageType","idb",/^(none|fs|idb|ls)$/),b6a:F(K,"lockExpiration",1E4),nSb:F(K,"lockRefresh",3E3),Vxb:F(I,"captureUnhandledExceptions",!0),COb:F(I,"ignoreUnhandledExceptionDuringPlayback",!0),R7b:F(I,"unhandledExceptionsArePlaybackErrors",!1),Vfb:F(H,"unhandledExceptionSource",""),tZb:F(I,"preserveLastFrame",!1),gUb:F(K,"minBufferingTimeInMilliseconds",4E3),a_b:F(K,"progressBackwardsGraceTimeMilliseconds",4E3),b_b:F(K,"progressBackwardsMinPercent",10),zwb:F(H,J("bookmarkIgnoreBeginning"),"0",La),Awb:F(H,J("bookmarkIgnoreEnd"),"5%",La),Bwb:F(H,J("bookmarkIgnoreEndForBranching"),"60000",La),ysa:F(K,"maxParallelConnections",3),uwa:F(I,"reportThroughputInLogblobs",!0),Tv:F(K,"minAudioMediaRequestDuration",16E3),eUb:F(K,"minAudioMediaRequestDurationBranching",0),Sy:F(K,"minVideoMediaRequestDuration",4E3),nUb:F(K,"minVideoMediaRequestDurationVariableGOP",0),mUb:F(K,"minVideoMediaRequestDurationBranching",0),Usa:F(K,"minAudioMediaRequestSizeBytes",0),Ysa:F(K,"minVideoMediaRequestSizeBytes",0),YEb:F(I,"droppedFrameRateFilterEnabled",!1),ZEb:F(K,"droppedFrameRateFilterMaxObservation",60,10,1E3),aFb:F(function(qa,O,ia,va,Oa,eb){return R(qa,O,"[",function(Xa){Xa=Xa.split(";");for(var qb=Xa.length;qb--;){Xa[qb]=Xa[qb].split("|");for(var zb=Xa[qb].length;zb--;){Xa[qb][zb]=(0,p.aj)(Xa[qb][zb]);}}return Xa;},[function(Xa){return (0,u.isArray)(Xa) && 0 < Xa.length;},function(Xa){for(var qb=Xa.length;qb-- && void 0 !== Xa;){if(!(0,u.isArray)(Xa[qb]))return !1;for(var zb=Xa[qb].length;zb--;){if(!(0,u.ZB)(Xa[qb][zb],ia,va))return !1;}}return !0;},function(Xa){if(void 0 !== Oa)for(var qb=Xa.length;qb--;){if(Oa !== Xa[qb].length)return !1;}return !0;},function(Xa){return void 0 === eb || Xa.length >= eb;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),$Eb:F(K,"droppedFrameRateFilterMinHeight",384),bFb:F(X,"droppedFramesPercentilesList",[]),$Tb:F(I,"microsoftScreenSizeFilterEnabled",!1),UQb:F(I,"keyStatusFilterEnabled",!1),N7b:F(I,"uiLabelFilterEnabled",!0),M7b:F(N,"uiLabelFilter",{}),EDb:F(K,J("defaultVolume"),100,0,100),zsa:F(K,J("maxPlaybackRate"),2,0,16),XZa:F(I,"fastForwardAds",!1),sYa:F(I,"disableVideoRightClickMenu",!1),N8:F(K,"minDecoderBufferMilliseconds",1E3,0,f.Zw),uC:F(K,"optimalDecoderBufferMilliseconds",5E3,0,f.Zw),oua:F(K,"optimalDecoderBufferMillisecondsBranching",3E3,0,f.Zw),U8:F(K,"minimumTimeBeforeBranchDecision",3E3,0,f.Zw),G7a:F(K,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,f.Zw),Oy:F(K,"maxDecoderBufferMilliseconds",Sa.Oy.ea(z.pa),0,f.Zw),RXa:F(K,"decoderTimeoutMilliseconds",1E4,1),j8a:F(K,"noRenderTimeoutMilliseconds",0),chb:F(K,"videoGapsTimeoutMilliseconds",500),LXb:F(K,"pauseTimeoutLimitMilliseconds",18E5),gqa:F(K,"inactivityMonitorInterval",3E4,0),jtb:F(X,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),nL:F(I,"enableTrickPlay",!1),mub:F(X,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),u7b:F(K,"trickPlayHighResolutionBitrateThreshold",1E3),v7b:F(K,"trickPlayHighResolutionThresholdMilliseconds",1E4),y7b:F(P,"trickplayBufferFactor",.5),t7b:F(K,"trickPlayDownloadRetryCount",1),osa:F(H,"marginPredictor","simple",/^(simple|scale|iqr|percentile|ci)$/),TGb:F(la,"experimentalFilter",["throughput-wssl"]),zka:F(H,"ciPredictorSource","throughput-ci"),kya:F(H,"simulationDurationStrategy","default"),kta:F(H,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),zGa:F(N,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),Q6a:F(L,"maxIQRSamples",Infinity),x7a:F(L,"minIQRSamples",5),Pgb:F(I,"useResourceTimingAPI",!1),AOb:F(I,"ignoreFirstByte",!0),iHb:F(X,"failedDownloadRetryWaitsASE",[200,500,1E3,2E3,4E3]),g4:F(K,"connectTimeoutMilliseconds",8E3,500),rta:F(K,"noProgressTimeoutMilliseconds",8E3,500),hfb:F(K,"timedTextDownloadRetryCountBeforeCdnSwitch",3),vic:F(K,"netflixRequestExpiryTimeout",0),Y9b:F(I,"webkitDecodedFrameCountIncorrectlyReported",!1),Zaa:F(la,J("supportedAudioTrackTypes"),[],void 0,1),k7:F(K,"initialLogFlushTimeout",5E3),c$a:F(H,"playdataPersistKey",Ha.iy?"unsentplaydatatest":"unsentplaydata"),yjc:F(I,"sendPersistedPlaydata",!0),pYb:F(K,"playdataPersistIntervalMilliseconds",4E3),Pic:F(K,"playdataSendDelayMilliseconds",1E4),zjc:F(I,"sendPlaydataBackupOnInit",!0),rSb:F(la,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),q7a:F(I,"midplayEnabled",!0),K8:F(K,"midplayIntervalMilliseconds",3E5),r7a:F(X,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),U4:F(K,"downloadReportDenominator",0),PEb:F(K,"downloadReportInterval",3E5),e6a:F(K,"logConfigApplyDenominator",0),CUa:F(xa,J("bookmarkByMovieId"),{}),TT:F(I,J("forceLimitedDurationLicense"),!1),cC:F(K,J("licenseRenewalRequestDelay"),0),Qua:F(K,J("persistedReleaseDelay"),1E4),Fhc:F(I,J("limitedDurationFlagOverride"),void 0),Sbb:F(K,"safariPlayPauseWorkaroundDelay",100),g$b:F(K,"workaroundValueForSeekIssue",1200),fka:F(I,J("callEndOfStream"),Sa.fka),UXb:F(I,"performRewindCheck",!0),qHb:F(I,"fatalOnUnexpectedSeeking",!0),pHb:F(I,"fatalOnUnexpectedSeeked",!0),nHb:F(I,"fatalOnManifestMistmatch",!0),O3b:F(I,J("setVideoElementSize")),Uyb:F(I,J("clearVideoSrc"),!0),dYa:F(K,J("delayPlayPause"),0),ks:F(I,J("useTypescriptEme"),!1),Igb:F(I,J("useEncryptedEvent"),!0),tT:F(H,J("drmPersistKey"),"unsentDrmData"),T$a:F(I,J("promiseBasedEme"),!1),zVb:F(I,J("nudgeSourceBuffer"),!1),fcb:F(L,J("seekDelta"),1),YW:F(I,J("preciseSeeking"),!1),SYb:F(I,J("preciseSeekingOnTwoCoreDevice"),!1),cYa:F(xa,J("delayErrorHandling")),hk:F(H,"esn",""),ZZa:F(H,"fesn",""),UFb:F(I,J("enablePerformanceLogging"),!1),eZa:F(I,J("enableEmeVerboseLogging"),!1),appId:F(H,"appId","",Za),sessionId:F(H,"sessionId","",Za),mVa:F(H,"cdnProxyUrl"),$8b:F(I,"usePlayReadyHeaderObject",!1),I_a:F(K,"forceXhrErrorResponseCode",void 0),Ip:{sic:F(H,"mslApiPath","/msl/"),Xic:F(H,"proxyPath",""),Aw:F(H,"uiVersion"),rba:F(H,"uiPlatform"),sfc:function(){return "0";},ova:F(la,"preferredLanguages",f.HDa,/^[a-zA-Z-]{2,5}$/,1),sIb:F(H,J("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),$5b:F(I,"supportPreviewContentPin",!0),a6b:F(I,"supportWatermarking",!0),s4b:F(I,"showAllSubDubTracks",!1),wgc:F(I,J("failOnGuidMismatch"),!1)},v$:{enabled:F(I,"qcEnabled",!1),tn:F(H,"qcPackageId","")},js:F(I,"useRangeHeader",!1),AT:F(I,"enableMilestoneEventList",!0),bwb:F(xa,"authenticationKeyNames",(0,p.Xd)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),m6b:F(H,"systemKeyWrapFormat"),m4b:F(I,"shouldSendUserAuthData",!0),Bxa:F(I,"sendUserAuthIfRequired",Sa.Bxa),f4b:F(I,"shouldClearUserData",!1),ZO:F(I,"usesMsl",!0),GUb:F(I,"mslDeleteStore",!1),IUb:F(I,"mslPersistStore",!0),Wzb:F(I,"correctNetworkForShortTitles",!0),NYb:F(I,"postplayHighInitBitrate",!1),h6b:F(I,"supportsUnequalizedDownloadables",!0),MXa:F(K,J("debugAseDenominator"),100),f3:F(K,"aseAudioBufferSizeBytes",Sa.f3.ea(x.rs)),i3:F(K,"aseVideoBufferSizeBytes",Sa.i3.ea(x.rs)),h3:F(K,"aseTextBufferSizeBytes",Sa.h3.ea(x.rs)),Qt:F(K,"minInitVideoBitrate",560),iUb:F(K,"minHCInitVideoBitrate",560),Py:F(K,"maxInitVideoBitrate",Infinity),O8:F(K,"minInitAudioBitrate",0),hUb:F(K,"minHCInitAudioBitrate",0),u8:F(K,"maxInitAudioBitrate",65535),L8:F(K,"minAcceptableVideoBitrate",235),mC:F(K,"minRequiredBuffer",3E4),Yp:F(K,"minPrebufSize",7800),Vsa:F(K,"minCheckBufferingCompleteInterval",999999),Zva:F(P,"rebufferingFactor",1),Ir:F(K,"maxBufferingTime",2600),bAa:F(I,"useMaxPrebufSize",!0),jC:F(K,"maxPrebufSize",45E3),Asa:F(K,"maxRebufSize",Infinity),i7:F(ha,"initialBitrateSelectionCurve",null),M3a:F(K,"initSelectionLowerBound",560),N3a:F(K,"initSelectionUpperBound",1050),BY:F(K,"throughputPercentForAudio",15),yja:F(K,"bandwidthMargin",10),zja:F(I,"bandwidthMarginContinuous",!1),Aja:F(ha,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),Zka:F(K,"conservBandwidthMargin",20),Sya:F(I,"switchConfigBasedOnInSessionTput",!1),ala:F(K,"conservBandwidthMarginTputThreshold",0),$ka:F(ha,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),Ieb:F(I,"switchAlgoBasedOnHistIQR",!1),Tya:F(H,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),W6a:F(L,"maxPlayerStateToSwitchConfig",-1),j6a:F(H,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),hHa:F(P,"IQRThreshold",.5),g3a:F(H,"histIQRCalcToUse","simple"),UV:F(K,"maxTotalBufferLevelPerSession",0),yT:F(I,"enableCombinedPlaygraphs",!0),jL:F(I,"enableAdPlaygraphs",!0),S$:F(I,"retainSbrOnFade",!1),$ma:F(la,"excludedContentPlaygraphIds",[]),e5:F(I,"enableDiscontiguousBuffering",!1),Lna:F(X,"forceImmediateTransitionTypeForTitles",[]),Kna:F(K,"forceImmediateTransitionExitZone",0),XY:F(I,"useBufferSizeLimiter",!1),U8b:F(I,"useLegacyFragmentRounding",!1),b3a:F(K,"highWatermarkLevel",3E4),pfb:F(K,"toStableThreshold",3E4),kba:F(K,"toUnstableThreshold",Sa.kba.ea(z.pa)),mya:F(I,"skipBitrateInUpswitch",!1),rAa:F(K,"watermarkLevelForSkipStart",8E3),Ppa:F(K,"highStreamRetentionWindow",9E4),Zra:F(K,"lowStreamTransitionWindow",51E4),Rpa:F(K,"highStreamRetentionWindowUp",3E5),bsa:F(K,"lowStreamTransitionWindowUp",3E5),Qpa:F(K,"highStreamRetentionWindowDown",6E5),$ra:F(K,"lowStreamTransitionWindowDown",0),Opa:F(P,"highStreamInfeasibleBitrateFactor",.5),Ky:F(K,"lowestBufForUpswitch",15E3),EV:F(K,"lockPeriodAfterDownswitch",15E3),dsa:F(K,"lowWatermarkLevel",25E3),Ly:F(K,"lowestWaterMarkLevel",2E4),esa:F(I,"lowestWaterMarkLevelBufferRelaxed",!1),E8:F(P,"mediaRate",1),LM:F(K,"maxTrailingBufferLen",1E4),nja:F(K,"audioBufferTargetAvailableSize",262144),gAa:F(K,"videoBufferTargetAvailableSize",1048576),d7a:F(K,"maxVideoTrailingBufferSize",8388608),I6a:F(K,"maxAudioTrailingBufferSize",393216),v5:F(P,"fastUpswitchFactor",3),kna:F(P,"fastDownswitchFactor",1),QG:F(K,"maxMediaBufferAllowed",24E4),zdb:F(I,"simulatePartialBlocks",!0),ydb:F(I,"simulateBufferFull",!0),bla:F(I,"considerConnectTime",!1),Yka:F(P,"connectTimeMultiplier",1),zSb:F(K,"lowGradeModeEnterThreshold",12E4),ASb:F(K,"lowGradeModeExitThreshold",9E4),L6a:F(K,"maxDomainFailureWaitDuration",3E4),q8:F(K,"maxAttemptsOnFailure",40),Bma:F(I,"enableMaxAttemptsOnFailure",!0),JZa:F(I,"exhaustAllLocationsForFailure",!0),S6a:F(K,"maxNetworkErrorsDuringBuffering",20),r8:F(K,"maxBufferingTimeAllowedWithNetworkError",12E4),WZa:F(K,"fastDomainSelectionBwThreshold",2E3),Zeb:F(K,"throughputProbingEnterThreshold",4E4),$eb:F(K,"throughputProbingExitThreshold",34E3),$5a:F(K,"locationProbingTimeout",1E4),d_a:F(K,"finalLocationSelectionBwThreshold",1E4),Xeb:F(P,"throughputHighConfidenceLevel",.75),Yeb:F(P,"throughputLowConfidenceLevel",.4),oZa:F(I,"enablePerfBasedLocationSwitch",!1),wH:F(I,"probeServerWhenError",!0),yva:F(K,"probeRequestTimeoutMilliseconds",8E3),pS:F(I,"allowSwitchback",!0),I$a:F(K,"probeDetailDenominator",100),s8:F(K,"maxDelayToReportFailure",300),Lra:F(K,"locationStatisticsUpdateInterval",6E4),Yzb:F(I,"countGapInBuffer",!1),Bub:F(I,"allowCallToStreamSelector",!0),Nwb:F(K,"bufferThresholdForAbort",1E4),rTb:F(K,"maxResponsesInitialTput",6),iZa:F(I,"enableInitialTputLogging",!1),$Xb:F(K,"pipelineScheduleTimeoutMs",2),KM:F(K,"maxPartialBuffersAtBufferingStart",2),wTb:F(K,"maxStreamingSkew",4E3),pTb:F(K,"maxPendingBufferPercentage",10),W6:F(K,"headerRequestSize",4096),Qma:F(I,"estimateHeaderSize",!1),dW:F(K,"minBufferLenForHeaderDownloading",1E4),BVb:F(K,"numExtraFragmentsAllowed",2),un:F(I,"pipelineEnabled",!1),Hdb:F(K,"socketReceiveBufferSize",0),s3:F(K,"audioSocketReceiveBufferSize",32768),Jba:F(K,"videoSocketReceiveBufferSize",65536),Mpa:F(K,"headersSocketReceiveBufferSize",32768),z8b:F(K,"updatePtsIntervalMs",1E3),Qwb:F(K,"bufferTraceDenominator",100),KUa:F(K,"bufferLevelNotifyIntervalMs",2E3),vS:F(K,"aseReportDenominator",0),ija:F(K,"aseReportIntervalMs",3E5),sFb:F(I,"enableAbortTesting",!1),htb:F(K,"abortRequestFrequency",8),B5b:F(K,"streamingStatusIntervalMs",2E3),XW:F(K,"prebufferTimeLimit",24E4),u7a:F(K,"minBufferLevelForTrackSwitch",2E3),Kua:F(K,"penaltyFactorForLongConnectTime",2),Wra:F(K,"longConnectTimeThreshold",200),Kia:F(K,"additionalBufferingLongConnectTime",2E3),Lia:F(K,"additionalBufferingPerFailure",8E3),iX:F(K,"rebufferCheckDuration",6E4),LFb:F(I,"enableLookaheadHints",!1),xSb:F(K,"lookaheadFragments",2),mL:F(I,"enableOCSideChannel",!0),M0:F(N,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),ggb:F(I,"updateDrmRequestOnNetworkFailure",!1),PDb:F(I,"deferAseScheduling",!1),fTb:F(K,"maxDiffAudioVideoEndPtsMs",16E3),Sla:F(K,"defaultHeaderCacheSize",4),Rla:F(K,"defaultHeaderCacheDataPrefetchMs",8E3),$7a:F(I,"neverWipeHeaderCache",!0),jta:F(K,"networkFailureResetWaitMs",2E3),ita:F(K,"networkFailureAbandonMs",6E4),x8:F(K,"maxThrottledNetworkFailures",3),cba:F(K,"throttledNetworkFailureThresholdMs",200),csa:F(L,"lowThroughputThreshold",400),Zma:F(I,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),EUb:F(I,"mp4ParsingInNative",!1),R4b:F(I,"sourceBufferInOrderAppend",!0),XN:F(I,"requireAudioStreamToEncompassVideo",!0),Aub:F(I,"allowAudioToStreamPastVideo",!0),lZa:F(I,"enableManagerDebugTraces",!1),t6a:F(K,"managerDebugMessageInterval",1E3),s6a:F(K,"managerDebugMessageCount",20),Bic:F(I,"notifyManifestCacheEom",!1),Pwb:F(K,"bufferThresholdToSwitchToSingleConnMs",18E4),Owb:F(K,"bufferThresholdToSwitchToParallelConnMs",12E4),V9:F(K,"periodicHistoryPersistMs",3E5),caa:F(K,"saveVideoBitrateMs",18E4),HTa:F(I,"appendMediaRequestOnComplete",!0),mAa:F(I,"waitForDrmToAppendMedia",!1),Ina:F(I,J("forceAppendHeadersAfterDrm"),!1),pIb:F(I,J("forceAppendEncryptedStreamHeaderFirst"),!0),I_b:F(I,J("reappendRequestsOnSkip"),!1),NUb:F(K,"netIntrStoreWindow",36E3),kUb:F(K,"minNetIntrDuration",8E3),kHb:F(K,"fastHistoricBandwidthExpirationTime",10368E3),iwb:F(K,"bandwidthExpirationTime",5184E3),jHb:F(K,"failureExpirationTime",86400),bOb:F(K,"historyTimeOfDayGranularity",4),SGb:F(I,"expandDownloadTime",!1),tUb:F(K,"minimumMeasurementTime",500),sUb:F(K,"minimumMeasurementBytes",131072),I6b:F(K,"throughputMeasurementTimeout",2E3),bPb:F(K,"initThroughputMeasureDataSize",262144),J6b:F(H,"throughputPredictor","ewma"),H6b:F(K,"throughputMeasureWindow",5E3),M6b:F(K,"throughputWarmupTime",5E3),G6b:F(K,"throughputIQRMeasureWindow",5E3),$lb:F(K,"IQRBucketizerWindow",15E3),Bzb:F(K,"connectTimeHalflife",10),B1b:F(K,"responseTimeHalflife",10),aOb:F(K,"historicBandwidthUpdateInterval",2E3),rUb:F(K,"minimumBufferToStopProbing",1E4),oxa:F(H,"secondThroughputEstimator","none"),ccb:F(L,"secondThroughputMeasureWindowInMs",Infinity),CFb:F(la,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),AHb:F(N,"filterDefinitionOverrides",{}),zDb:F(H,"defaultFilter","throughput-ewma"),q2b:F(H,"secondaryFilter","none"),XXa:F(N,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),hta:F(I,"needMinimumNetworkConfidence",!0),Dja:F(I,"biasTowardHistoricalThroughput",!0),yia:F(I,"addHeaderDataToNetworkMonitor",!1),tya:F(I,"startMonitorOnLoadStart",!1),twa:F(I,"reportFailedRequestsToNetworkMonitor",!1),usa:F(L,"maxFastPlayBufferInMs",Infinity),N6a:F(L,"maxFastPlayBitThreshold",Infinity),Wia:F(I,"appendFirstHeaderOnComplete",!0),jvb:F(H,"ase_stream_selector","optimized"),j8:F(H,"liveStreamSelectorAlgorithm","livesimple"),sqa:F(H,"initBitrateSelectorAlgorithm","default"),Nja:F(H,"bufferingSelectorAlgorithm","default"),fDb:F(H,"ase_ls_failure_simulation",""),Ila:F(I,"ase_dump_fragments",!1),Jla:F(K,"ase_location_history",0),OXa:F(K,"ase_throughput",0),gDb:F(I,"ase_simulate_verbose",!1),IYb:F(K,"pollingPeriod",150),hSb:F(K,"loadTimeMs",18E4),XSb:F(K,"marginTimeMs",1E4),noa:F(I,"getDeviceIdFromBindDevice",!1),xia:F(I,"addFailedLogBlobsToQueue",!0),O7b:{"content-sampling":{Ir:F(K,"contentSamplingMaxBufferingTime",3E3),iO:F(H,"contentSamplingSelectStartingVMAFMethod","fallback"),dS:F(I,"contentSamplingActivateSelectStartingVMAF",!0),Rt:F(K,"contentSamplingMinStartingVideoVMAF",80),cW:F(K,"contentSamplingMinAcceptableVMAF",70),WG:F(K,"contentSamplingMinAllowedVmaf",60)},billboard:{Qt:F(K,"billboardMinInitVideoBitrate",1050),Py:F(K,"billboardMaxInitVideoBitrate",null),Yp:F(K,"billboardMinPrebufSize",null),jC:F(K,"billboardMaxPrebufSize",null),Ir:F(K,"billboardMaxBufferingTime",null),KM:F(K,"billboardMaxPartialBuffersAtBufferingStart",null),Ly:F(K,"billboardLowestWaterMarkLevel",6E3),Ky:F(K,"billboardLowestBufForUpswitch",25E3),Tya:F(H,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{Qt:F(K,"preplayMinInitVideoBitrate",1050),Py:F(K,"preplayMaxInitVideoBitrate",null),Yp:F(K,"preplayMinPrebufSize",null),jC:F(K,"preplayMaxPrebufSize",null),Ir:F(K,"preplayMaxBufferingTime",null),KM:F(K,"preplayMaxPartialBuffersAtBufferingStart",null),Ly:F(K,"preplayLowestWaterMarkLevel",6E3),Ky:F(K,"preplayLowestBufForUpswitch",25E3)},embedded:{Qt:F(K,"embeddedMinInitVideoBitrate",1050),Py:F(K,"embeddedMaxInitVideoBitrate",null),Yp:F(K,"embeddedMinPrebufSize",null),jC:F(K,"embeddedMaxPrebufSize",null),Ir:F(K,"embeddedMaxBufferingTime",null),KM:F(K,"embeddedMaxPartialBuffersAtBufferingStart",null),Ly:F(K,"embeddedLowestWaterMarkLevel",6E3),Ky:F(K,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{Qt:F(K,"videoMerchBobHorizontalMinInitVideoBitrate",null),Py:F(K,"videoMerchBobHorizontalMaxInitVideoBitrate",null),Yp:F(K,"videoMerchBobHorizontalMinPrebufSize",null),jC:F(K,"videoMerchBobHorizontalMaxPrebufSize",null),Ir:F(K,"videoMerchBobHorizontalMaxBufferingTime",null),KM:F(K,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),Ly:F(K,"videoMerchBobHorizontalLowestWaterMarkLevel",null),Ky:F(K,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{Qt:F(K,"miniModalHorizontalMinInitVideoBitrate",null),Py:F(K,"miniModalHorizontalMaxInitVideoBitrate",null),Yp:F(K,"miniModalHorizontalMinPrebufSize",null),jC:F(K,"miniModalHorizontalMaxPrebufSize",null),Ir:F(K,"miniModalHorizontalMaxBufferingTime",500),KM:F(K,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),Ly:F(K,"miniModalHorizontalLowestWaterMarkLevel",null),Ky:F(K,"miniModalHorizontalLowestBufForUpswitch",null)},live:{}},bGb:F(I,"enableVerbosePlaydelayLogging",!1),XFb:F(I,"enableSeamless",!1),e3a:F(K,"hindsightDenominator",0),d3a:F(K,"hindsightDebugDenominator",0),f3a:F(N,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),pZa:F(I,"enableSessionHistoryReport",!1),NYa:F(K,"earlyStageEstimatePeriod",1E4),D5a:F(K,"lateStageEstimatePeriod",3E4),T6a:F(K,"maxNumSessionHistoryStored",30),B7a:F(K,"minSessionHistoryDuration",3E4),RV:F(K,"maxActiveRequestsPerSession",3),G6a:F(K,"maxActiveRequestsSABCell100",2),Cra:F(I,"limitAudioDiscountByMaxAudioBitrate",!0),qd:F(N,"browserInfo",{}),$wb:F(K,J("busyGracePeriod"),199),N2b:F(I,J("sendTransitionLogblob"),!0),iFb:F(I,J("editVideoFragments"),!0),MYa:F(I,J("earlyAppendSingleChildBranch"),!0),LOb:F(I,J("includeSegmentInfoOnLogblobs"),!0),ZGb:F(I,"exposeTestData",!1),YGb:F(I,J("exposeErrorData"),!1),QXa:F(I,"declareBufferingCompleteAtSegmentEnd",!0),uS:F(I,J("applyProfileTimestampOffset"),!1),r$:F(N,J("profileTimestampOffsets"),{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}),Hm:F(I,J("applyProfileStreamingOffset"),!1),G8:F(I,J("mediaSourceSupportsNegativePts"),!1),Fub:F(I,J("allowSmallSeekDelta"),!1),I4b:F(K,J("smallSeekDeltaThresholdMilliseconds"),t.j1),wFb:F(I,"enableCDMAttestedDescriptors",!1),Dwa:F(I,"requireDownloadDataAtBuffering",!1),Ewa:F(I,"requireSetupConnectionDuringBuffering",!1),Gab:F(I,"recordFirstFragmentOnSubBranchCreate",!1),Lgb:F(I,"useMobileVMAF",!1),kYa:F(H,"desiredVMAFTypeMobile","phone_plus_lts"),lYa:F(H,"desiredVMAFTypeNonMobile","plus_lts"),dS:F(I,"activateSelectStartingVMAF",!1),Rt:F(K,"minStartingVideoVMAF",1),cW:F(K,"minAcceptableVMAF",1),WG:F(K,"minAllowedVmaf",1),Iub:F(I,"alwaysNotifyEOSForPlaygraph",!0),PFb:F(I,"enableNewAse",!0),V8b:F(I,"useNewApi",!0),p8:F(K,"maxAllowedOutstandingRequests",4),qK:F(I,"alwaysRunUnderflowTimer",!0),Wsa:F(K,"minStreamableConcurrencyWindow",3E3),Fya:F(P,"streamableConcurrencyFactor",.3),KS:F(K,"bufferingConcurrencyWindow",7800),A4b:F(I,"singleStreamablePerBranch",!0),h5:F(I,"enableResolutionVMAFStreamFilter",!1),Q$:F(N,"resolutionVMAFCappingRuleList",{}),Nua:F(L,"percentCapTitlesForResolutionVMAFStreamFilter",100),wEb:F(I,"disableSkipping",!1),wba:F(I,"useHLSPlayer",Sa.wba),aAa:F(I,J("useExitZones"),!0),j1b:F(I,"requestSegmentVmaf",!1),tN:F(N,"perFragmentVMAFConfig",{enabled:!1}),vua:F(K,"paddingDurationMs",1E3),wua:F(H,"paddingMediaType","padding"),Geb:F(I,"supportsPtsChanged",!1),UYb:F(I,J("preferUnletterboxed"),!1),jZa:F(I,"enableKeySystemRestrictor",!1),GGb:F(K,"errorEventToRestrict",2),FGb:F(X,"errorCodesToRestrict",[7353,7361,7377,7701,7702,7703,7717]),EGb:F(X,"errorCodesToCache",[7353,7361,7377,7701,7702,7703,7717]),bZa:F(I,"enableCachedErrors",!1),jxb:F(K,"cachedErrorCountLimit",20),lxb:F(K,"cachedErrorExpirationSeconds",604800),mxb:F(K,"cachedErrorsStorageTimeoutSeconds",2E3),KG:F(K,"liveTargetBufferDuration",1E4),f8:F(L,"liveEdgeCushion",2E3),Hra:F(I,"liveSwitchStreamsOnErrorInPipeline",!0),e8:F(I,"liveAccurateFragmentTimestamps",!1),BT:F(I,"enableMissingSegmentsDetection",!1),CT:F(I,"enableMissingSegmentsReplacement",!1),PRb:F(L,"liveMaxTemporaryRequestErrorRetries",6),BSb:F(L,"lowerStreamLiveMaxTemporaryRequestErrorRetries",3),XGb:F(L,"explorationPhaseLiveMaxTemporaryRequestErrorRetries",1),LRb:F(L,"liveEdgeThreshold",1E4),DFb:F(I,"enableForceLiveEdgeAtEventStart",!0),JFb:F(I,"enableLivePlaybackRateDriftCorrection",!1),URb:F(P,"livePlaybackRateMin",.98),TRb:F(P,"livePlaybackRateMax",1.02),SRb:F(L,"livePlaybackRateAdjustmentThresholdMs",20),RRb:F(L,"livePlaybackRateAdjustmentIntervalMs",1E3),QRb:F(P,"livePlaybackRateAdjustmentFactor",.1),rIb:F(L,"forceAstRelativeLiveBookmark",void 0),tIb:F(L,"forceEstRelativeLiveBookmark",void 0),i5b:F(L,"startSlateMs",void 0),WRb:F(L,"liveSlateMs",void 0)};ra=!0;b.Xka=function(qa){var O,ia,va;O=d.Ba.get(B.Lc).id;if(0 < b.config.e6a && 0 === O % b.config.e6a)try{ia=d.Ba.get(w.tl);va=d.Ba.get(v.Yw).kt("config","info",{params:qa});ia.xc(va);}catch(Oa){d.log.error("Failed to log config$apply",Oa);}ob._cad_global.config=b.config;(0,n.oa)(qa);qa && (ab=(0,p.Xd)({},qa,{LV:!0}),(0,p.Xd)(ab,na,{LV:!0}),G(Q,b.config),ab.istestaccount && d.log.trace("Config applied for",Ba(ra?ab:qa)),ra=!1);};(0,b.Xka)(ab);};b.f4=function(D){D=c(D);return (0,p.Xd)({},a(87141)(D),{H9:!0});};b.wWa=function(D,E,G){G=!!G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("vp9") || 0 <= G.indexOf("av1"));D={Tv:D?b.config.eUb:b.config.Tv,Sy:D?b.config.mUb:G?b.config.nUb:b.config.Sy,MYa:!E};return (0,p.Xd)({},a(87141)(D),{H9:!0});};b.zzb=c;b.yzb=l;},70:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(52569);l=a(33096);f=a(36129);k=a(22365);r=a(31276);a=a(11479);d=r.Ba.get(a.Rh);d.register(f.V.bHa,function(g){k.Gp && k.Gp.generateKey && k.Gp.importKey && k.Gp.unwrapKey?(d.re("wcs"),(0,c.dH)(k.Gp.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){d.re("wcdone");g(l.dg);},function(n){var h;n="" + n;if(0 <= n.indexOf("missing crypto.subtle"))h=f.S.oga;else 0 <= n.indexOf("timeout waiting for iframe to load") && (h=f.S.rpb);g({za:h,Nb:n});})):g({za:f.S.oga});});},1481:function(r,b,a){var c,l,f,k,d,g,n,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.Tk=void 0;c=a(33096);l=a(29204);r=a(36129);f=a(45146);k=a(31276);d=a(68703);g=a(22365);n=a(11479);h=a(91581);m=k.Ba.get(n.Rh);m.register(r.V.Kda,function(p){var q,u,t;q=k.Ba.get(h.Hn);(0,f.oa)(l.config);(0,f.oa)(g.cA && g.cA.getDeviceId || g.MJa || q.IL);u=k.Ba.get(d.hEa);t=(0,k.Ui)("Device");m.re("devs");u.create({deviceId:l.config.deviceId,IL:q.IL,nYa:"deviceid",hk:l.config.hk,bo:q.bo,mT:q.mT,userAgent:g.QD,Ora:l.config.Ora,noa:l.config.noa,uic:l.config.iy?"mslstoretest":"mslstore",ZO:l.config.ZO}).then(function(w){b.Tk=w;ob._cad_global.device=b.Tk;t.info("Esn source: " + b.Tk.l5);m.re("devdone");p(c.dg);}).catch(function(w){w.ia=void 0;p(w);});});},15531:function(r,b,a){var p,q,u,t,w,v,y;function c(x,z,A,B,C){var D;D={};"right" == x.horizontalAlignment?D.right=100 * (A - z.left - z.width - C) / A + "%":D.left=100 * (z.left - C) / A + "%";"bottom" == x.verticalAlignment?D.bottom=100 * (B - z.top - z.height - C) / B + "%":D.top=100 * (z.top - C) / B + "%";return D;}function l(x,z){var A;if(x && z){40 === z.x && 19 === z.y?A=4 / 3 / (40 / 19):52 === z.x && 19 === z.y && (A=16 / 9 / (52 / 19));if(A)return x.width / x.fontSize / A;}}function f(x,z,A,B,C,D,E){for(var G=x.style,F=(0,q.Wpa)(x.text),J=x.lineBreaks;J--;){F="<br />" + F;}return k(F,G,z,A,B,C,D,x.lang,E);}function k(x,z,A,B,C,D,E,G,F){var J;J=z.characterStyle;C=C[J];J=0 <= J.indexOf("MONOSPACE")?l(C,z.cellResolution) || C.lineHeight:C.lineHeight;B=z.characterSize * B.height / (J || 1);G && "ja" === G.slice(0,2) && z.ruby && "text" === z.ruby && (B/=2);B=0 < D?(0,u.jJ)(B * D):(0,u.Fn)(B);D={"font-size":B + "px","line-height":"normal","font-weight":"normal"};z.characterItalic && (D["font-style"]="italic");z.characterUnderline && (D["text-decoration"]="underline");z.characterColor && (D.color=z.characterColor);z.backgroundColor && 0 !== z.backgroundOpacity && (D["background-color"]=d(z.backgroundColor,z.backgroundOpacity));if(G && "ja" === G.slice(0,2)){if(z.textEmphasis){B=z.textEmphasis;switch(B.textEmphasisShape){case "auto":D["text-emphasis"]="vertical-lr" === E || "vertical-rl" === E?"filled sesame":"filled circle";break;default:D["text-emphasis"]=B.textEmphasisFill + " " + B.textEmphasisShape;}F=n(B.textEmphasisPosition,F);switch(E){case "vertical-rl":D["text-emphasis-position"]=v[F];break;case "vertical-lr":D["text-emphasis-position"]=y[F];break;default:D["text-emphasis-position"]=w[F];}}z.textCombine && (D["text-combine-upright"]=z.textCombine);}E=z.characterEdgeColor || "#000000";switch(z.characterEdgeAttributes){case "DROP_SHADOW":D["text-shadow"]=E + " 0px 0px 7px";break;case "UNIFORM":D["text-shadow"]="-1px 0px " + E + ",0px 1px " + E + ",1px 0px " + E + ",0px -1px " + E;break;case "RAISED":D["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":D["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}E=(0,p.aT)(D);(A=A[z.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (E+=";" + A);A=z.characterOpacity;0 < A && 1 > A && (x='<span style="opacity:' + A + '">' + x + "</span>");G && "ja" === G.slice(0,2)?(x='<span lang="ja" style="' + E + '">' + x + "</span>",z.ruby && "text" === z.ruby && (x="<rt>" + x + "</rt>")):x='<span style="' + E + '">' + x + "</span>";return x;}function d(x,z){x=x.substring(1);x=parseInt(x,16);return "rgba(" + (x >> 16 & 255) + "," + (x >> 8 & 255) + "," + (x & 255) + "," + (void 0 !== z?z:1) + ")";}function g(x,z,A,B){var C;C="";x && "text" === x && (C='<ruby style="ruby-position: ' + ("before" === z || "over" === z || "outside" === z && 0 === A?"over":"under") + "; " + B + '">');return C;}function n(x,z){return x === t[0] || "outside" === x && 0 === z?t[0]:t[1];}function h(x){return x.replace(/(<ruby[\s\S]*?)(<br\s*\/?>+)([\s\S]*?<\/ruby>)/g,"$2$1$3");}function m(x){return (x=x.match(/(font-size:\d+px)/))?x[0]:"";}Object.defineProperty(b,"__esModule",{value:!0});b.zKb=b.BUb=b.Pzb=b.Ywb=b.zZa=b.wGb=b.uGb=b.xGb=b.vGb=b.AZa=b.BZa=b.Kma=void 0;p=a(52569);q=a(3887);u=a(22365);b.Kma=function(x,z,A,B,C){var D,E,G,F,J,M,L;D="";E="";G=0;F="";J=!1;M="";L="";x.textNodes.forEach(function(K){var P,H,I,N;G+=K.lineBreaks;I=f(K,A,z,B,C,x.region.writingMode,G);if(K.lang && "ja" === K.lang.slice(0,2)){if(K.style && K.style.ruby && "" != K.style.ruby && ("base" === K.style.ruby && (L=m(I)),"container" !== K.style.ruby && (M+=I),I="","text" === K.style.ruby)){N=g(K.style.ruby,null !== (P=K.style.rubyPosition) && void 0 !== P?P:"outside",G,L);J="" !== N;M=N + M;}!F || "" === F || K.style.ruby && "" !== K.style.ruby && "container" !== K.style.ruby || (M=h(M + (J?"</ruby> ":"")),I=M + I,J=!1,M="");}D+=I;F=null !== (H=K.style.ruby) && void 0 !== H?H:"";"" === E && K.style && K.style.shear && (E="font-style: oblique " + -90 * parseFloat(K.style.shear) + "deg;");});"" !== M && (D+=M + (J?"</ruby> ":""));x.region && x.region.multiRowAlignment && (D='<span style="display:inline-block;' + E + "text-align:" + x.region.multiRowAlignment + '">' + D + "</span>");return D;};b.BZa=function(x,z,A,B,C){var D,E,F,J,M;D="";E=C.width;C=C.height;for(var G=z.length;G--;){F=z[G];J=x[G];J=J && J.region;M="position:absolute;background:" + B + ";width:" + (0,u.Fn)(F.width + 2 * A) + "px;height:" + (0,u.Fn)(F.height + 2 * A) + "px;";F=c(J,F,E,C,A);(0,q.Wf)(F,function(L,K){M+=L + ":" + K + ";";});D+='<div style="' + M + '"></div>';}return D;};b.AZa=c;b.vGb=l;b.xGb=f;b.uGb=k;b.wGb=d;b.zZa=function(x){var z;x=x.region;z={display:"block","white-space":"nowrap"};switch(x.horizontalAlignment){case "left":z["text-align"]="left";break;case "right":z["text-align"]="right";break;default:z["text-align"]="center";}!x.writingMode || "vertical-lr" !== x.writingMode && "vertical-rl" !== x.writingMode || (z["writing-mode"]=x.writingMode);return (0,p.aT)(z);};b.Ywb=g;b.Pzb=n;b.BUb=h;b.zKb=m;t=["before","after"];w={before:"over right",after:"under right"};v={before:"over right",after:"over left"};y={before:"over left",after:"over right"};},33579:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Tfb=void 0;c=a(22365);b.Tfb=function(l,f){function k(n,h,m){var t,v,y,x,z;if(n && 1 < n.length){for(var p=[],q=[],u=0;u < n.length;u++){p[u]=0;q[u]=0;}t=!1;for(u=0;u < n.length;u++){for(var w=u + 1;w < n.length;w++){v=n[u];y=n[w];if(0 > v.width || 0 > y.width || y.left > v.left + v.width || y.left + y.width < v.left || y.top > v.top + v.height?0:y.top + y.height >= v.top){x=(0,c.As)(v.left,y.left);z=(0,c.As)(v.top,y.top);x={width:(0,c.As)((0,c.$w)(v.left + v.width,y.left + y.width) - x,0),height:(0,c.As)((0,c.$w)(v.top + v.height,y.top + y.height) - z,0),x:x,y:z};}else x=void 0;if(x && 1 < x.width && 1 < x.height)if((z=x.width <= x.height,v=d(n[u]),y=d(n[w]),z && h || !z && !h))(x=(0,c.As)(x.width / 2,.25),v.x <= y.x?(q[u]-=x,q[w]+=x):(q[w]-=x,q[u]+=x));else if(z && !h || !z && h)(v=(0,c.As)(x.height / 2,.25),p[u]-=v,p[w]+=v);}}for(u=0;u < n.length;u++){if(-.25 > q[u] && 0 <= n[u].left + q[u] || .25 < q[u] && n[u].left + n[u].width + q[u] <= m.width)(n[u].left+=q[u],t=!0);if(-.25 > p[u] && 0 <= n[u].top + p[u] || .25 < p[u] && n[u].top + n[u].height + p[u] <= m.height)(n[u].top+=p[u],t=!0);}return t;}}function d(n){return {x:n.left + n.width / 2,y:n.top + n.height / 2};}l=l.map(function(n){return {top:n.top,left:n.left,width:n.width,height:n.height};});(function(n,h){n.forEach(function(m){0 > m.left && m.left + m.width < h.width?m.left+=(0,c.$w)(-m.left,h.width - (m.left + m.width)):m.left + m.width > h.width && 0 < m.left && (m.left-=(0,c.$w)(m.left + m.width - h.width,m.left));0 > m.top && m.top + m.height < h.height?m.top+=(0,c.$w)(-m.top,h.height - (m.top + m.height)):m.top + m.height > h.height && 0 < m.top && (m.top-=(0,c.$w)(m.top + m.height - h.height,m.top));});})(l,f);for(var g=0;50 > g && k(l,!0,f);g++){;}for(g=0;50 > g && k(l,!1,f);g++){;}return l;};},99732:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.p6a=void 0;c=a(29204);l=a(33096);f=a(24066);r=a(36129);k=a(22365);d=a(32687);g=a(31276);a=a(11479);g.Ba.get(a.Rh).register(r.V.UGa,function(n){var p,q,u,t,w;function h(){return (0,k.jJ)((0,f.Xn)() / u);}function m(){var v;v=h();if(v != w){for(var y=(0,k.$w)(v - w,30);y--;){t.push(0);}(y=(0,k.As)(t.length - 31,0)) && t.splice(0,y);w=v;}t[t.length - 1]++;}p=c.config.FSb;q=-6 / (p - 2 - 2);u=l.zs;t=[];w=h();(0,d.Xqa)(p) && (setInterval(m,1E3 / p),b.p6a={l6:function(){var x;for(var v=[],y=t.length - 1;y--;){x=t[y];v.unshift(0 >= x?9:1 >= x?8:x >= p - 1?0:(0,k.Fn)((x - 2) * q + 7));}return v;}});n(l.dg);});},24674:function(r,b,a){var d,g,n,h,m,p;function c(q){var u;q=new n.GP(q);if(1481462272 != q.mq())throw Error("Invalid header");u={XMR:{Version:q.mq(),RightsID:q.lw(16)}};l(q,u.XMR,q.buffer.length);return u;}function l(q,u,t){var w,v,y,x,z;for(;q.position < t;){w=q.Vg();v=q.mq();v-=8;switch(w){case 1:y="OuterContainer";break;case 2:y="GlobalPolicy";break;case 3:y="MinimumEnvironment";break;case 4:y="PlaybackPolicy";break;case 5:y="OutputProtection";break;case 6:y="UplinkKID";break;case 7:y="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:y="AnalogVideoOutputConfiguration";break;case 9:y="KeyMaterial";break;case 10:y="ContentKey";break;case 11:y="Signature";break;case 12:y="DeviceIdentification";break;case 13:y="Settings";break;case 18:y="ExpirationRestriction";break;case 42:y="ECCKey";break;case 48:y="ExpirationAfterFirstPlayRestriction";break;case 50:y="PlayReadyRevocationInformationVersion";break;case 51:y="EmbeddedLicenseSettings";break;case 52:y="SecurityLevel";break;case 54:y="PlayEnabler";break;case 57:y="PlayEnablerType";break;case 85:y="RealTimeExpirationRestriction";break;default:y="Other";}x={Type:f(w)};z=u[y];z?(0,p.isArray)(z)?z.push(x):(u[y]=[],u[y].push(z),u[y].push(x)):u[y]=x;switch(w){case 1:case 2:case 4:case 7:case 9:case 54:l(q,x,q.position + v);break;case 5:x.Reserved1=q.Vg();x.MinimumUncompressedDigitalVideoOutputProtectionLevel=q.Vg();x.MinimumAnalogVideoOutputProtectionLevel=q.Vg();x.Reserved2=q.Vg();x.MinimumUncompressedDigitalAudioOutputProtectionLevel=q.Vg();break;case 10:x.Reserved=q.lw(16);x.SymmetricCipherType=q.Vg();x.AsymmetricCipherType=q.Vg();v=q.Vg();x.EncryptedKeyLength=v;w=q.lw(v);x.EncryptedKeyData=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 11:x.SignatureType=q.lw(2);v=q.Vg();w=q.lw(v);x.SignatureData=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 13:x.Reserved=q.Vg();break;case 18:x.BeginDate=q.mq();x.EndDate=q.mq();break;case 42:x.CurveType=q.lw(2);v=q.Vg();w=q.lw(v);x.Key=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 48:x.ExpireAfterFirstPlay=q.mq();break;case 50:x.Sequence=q.mq();break;case 51:x.LicenseProcessingIndicator=q.Vg();break;case 52:x.MinimumSecurityLevel=q.Vg();break;case 57:x.PlayEnablerType=k(q.lw(16));break;case 85:break;default:x.OtherData=q.lw(v);}}}function f(q){return "0x" + q.toString(16);}function k(q){return q.substring(6,8) + q.substring(4,6) + q.substring(2,4) + q.substring(0,2) + "-" + q.substring(10,12) + q.substring(8,10) + "-" + q.substring(14,16) + q.substring(12,14) + "-" + q.substring(16,20) + "-" + q.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.lDb=b.mDb=b.kDb=b.jDb=b.iDb=void 0;d=a(33096);g=a(31276);n=a(62082);h=a(62604);m=a(84281);p=a(32687);b.iDb=function(q,u,t){switch(u){case d.r_:q && (q=(0,g.uUa)(q),(0,m.Khb)(q,function(w){w.ia && (w=w.object) && (w=(0,h.G0a)(w,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (w=(0,h.D9a)(w)) && (w=(0,g.Tq)(w)) && (w=c(w)) && t(w);}));}};b.jDb=c;b.kDb=l;b.mDb=f;b.lDb=k;},59032:function(r,b){var c;function a(l,f){var k;k=this;this.Xga=[];c.forEach(function(d){(d=d(l,f)) && k.Xga.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.nQ=b.uJa=void 0;c=[];a.prototype.vz=function(l){var d;for(var f=[],k=this.Xga.length;k--;){d=this.Xga[k];d.vz(l) && f.push(d.y5);}if(f.length)return f;};b.uJa=a;b.nQ=function(l){c.push(l);};},3390:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});r=a(59032);c=a(31276);l=a(4203);f=a(95136);k=a(81918);(0,r.nQ)(function(d,g){var n,h;n=c.Ba.get(l.Yb);if(n().YEb){h=c.Ba.get(k.Lc);return new f.yEa(d,g,c.Df,h,n);}});},95136:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p,q,u){var t;t=this;this.j=h;this.Da=m;this.ma=p;this.Ea=q;this.u9={};this.dL={};this.sO=[];this.g4a=1E3;this.Raa=l.DIa;this.eua=function(){var w;w=t.j.zb.value === d.lb.he && t.j.state.value === d.Wb.fe && t.j.P === t.Da.P;t.bV?w || (clearInterval(t.bV),t.bV=void 0,t.uV=void 0):w && (t.bV=ob.setInterval(t.N6b,t.g4a));};this.N6b=function(){var w,v,y,x;v=t.j.Zd.value;v=v && v.stream;v=null !== (w=v && v.height) && void 0 !== w?w:null;if(null !== v && 0 < v){w=t.Ea.Kb().ea(n.pa);y=t.j.Vd.XF();if(y){if(t.uV && w - t.uV.time < 2 * t.g4a && v === t.uV.height){x=y - t.uV.XEb;t.Fia(v,x);t.Utb(v,x);}t.uV={time:w,XEb:y,height:v};t.j.X9 && t.j.X9.f3b(t.u9);}}};this.boa=function(){var w;w={};t.dL && t.sO.forEach(function(v){var y,x,z;y=t.dL[v];if(y){x=0;z=0;(0,g.Wf)(y,function(A,B){z+=(0,g.aj)(A);x+=B;});w[v]=z / x;}});return w;};this.tU=function(w){var v;v={};w.forEach(function(y){v[y]={};});t.dL && ((0,f.EZ)(w),t.sO.forEach(function(y){var x,z,A,B;x=t.dL[y];if(x){z=0;A=0;(0,g.Wf)(x,function(F,J){z+=J;});B=Object.keys(x).map(Number);(0,f.EZ)(B);for(var C=B.length - 1,D=B[C],E=w.length - 1;0 <= E;E--){for(var G=w[E];D >= G && 0 <= C;){(D=x[D]) && (A+=D);D=B[--C];}v[G][y]=(0,k.Fn)(A / z * 100);}}}));return v;};this.log=this.ma.ab("DFF",h);this.h$=u().aFb;this.oTb=u().ZEb;this.D7a=u().$Eb;this.Da.oma={boa:this.boa,tU:this.tU};h.state.addListener(this.eua);h.zb.addListener(this.eua);h.addEventListener(d.ga.NG,this.eua);}Object.defineProperty(b,"__esModule",{value:!0});b.yEa=void 0;l=a(33096);f=a(52569);k=a(22365);d=a(85001);g=a(3887);n=a(5021);c.prototype.vz=function(h){return h.lower && h.height > this.D7a?h.height >= this.DMb():!1;};c.prototype.Fia=function(h,m){var p;p=this.u9[h];p || (this.u9[h]=p=[],h > this.D7a && (this.sO.push(h),(0,f.EZ)(this.sO)));0 < m && !(this.eW && this.eW < h) && (this.eW=h);p.push(m);p.length > this.oTb && p.shift();};c.prototype.Utb=function(h,m){var p;p=this.dL[h];p || (this.dL[h]=p={});h=p[m];p[m]=h?h + 1:1;};c.prototype.DMb=function(){var p,q;if(this.eW){for(var h=this.sO.length,m=0;m < h;m++){p=this.sO[m];if(p >= this.eW && p < this.Raa){q=this.u9[p];if(q && this.tyb(this.h$,q) && this.Raa != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.Da.Ap.set({reason:"droppedFrames",height:p}),this.Raa=p);}}this.eW=void 0;}return this.Raa;};c.prototype.tyb=function(h,m){var t,w;for(var p=h.length,q=m.length,u=0;u < p;u++){t=h[u];w=t[0];t=t[1];for(var v=0;v < q;v++){if(m[v] >= t && 0 >= --w)return !0;}}return !1;};Ya.Object.defineProperties(c.prototype,{y5:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.yEa=c;},25357:function(r,b,a){var l,f,k;function c(d,g,n,h){var m;m=this;this.j=d;this.Da=g;this.ma=n;this.sa=h;this.Gub=function(p){!0 === p.oldValue && !1 === p.newValue && (m.log.error("RestartStreaming: UHD key is no longer usable"),m.j.E1b());};this.L7b=function(p){var q,u,t;m.log.trace("UhdKeyStatus: " + p.oldValue + " -> " + p.newValue);u=null === p || void 0 === p?void 0:p.newValue;t=null === p || void 0 === p?void 0:p.oldValue;"usable" !== u && (m.Y2b(u,(null === (q=null === p || void 0 === p?void 0:p.Eh) || void 0 === q?void 0:q.height) || 0),"usable" === t && (p=m.sa.ke.qa(m.WQb),m.log.error("UHD KeyStatus unexpectedly changed: " + p.ea(k.pa))));};this.Q4a=!1;this.log=this.ma.ab("KeyStatusStreamFilter",this.j);this.wTa=new f.Ib(!1,this.Gub);this.K7b=new f.Ib(void 0,this.L7b);}Object.defineProperty(b,"__esModule",{value:!0});b.FHa=void 0;l=a(28048);f=a(81734);k=a(5021);c.prototype.vz=function(d){return d.ki && (this.L5b(),this.wTa.set(this.Q4a),d.lower && 1080 < d.height && !this.wTa.value)?!0:!1;};c.prototype.c8a=function(d){var g;g=this;Object.entries(d).forEach(function(n){var h,m,p;h=ja(n);n=h.next().value;h=h.next().value;n=null !== (p=null === (m=g.VQb) || void 0 === m?void 0:m[n]) && void 0 !== p?p:0;1080 < n && (g.Q4a="usable" === h,g.K7b.set(h,{height:n}));});};c.prototype.L5b=function(){var d,g,n;d=this;n=this.Da.je;!this.yQb && (0,l.Jqa)(n) && (this.yQb=!0,this.VQb=null === (g=null === n || void 0 === n?void 0:n.context) || void 0 === g?void 0:g.N7,this.c8a(n.keyStatuses.value),n.keyStatuses.addListener(function(h){return d.c8a(h.newValue);}),this.WQb=this.sa.ke);};c.prototype.Y2b=function(d,g){this.log.error("Restricting resolution due to keyStatus",{keyHeight:g,keyStatus:d});this.Da.Ap.set({reason:"keyStatus",height:g});};Ya.Object.defineProperties(c.prototype,{y5:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.FHa=c;},2898:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});r=a(59032);c=a(29204);l=a(31276);f=a(25357);(0,r.nQ)(function(k,d){if(c.config.UQb)return new f.FHa(k,d,l.Df,l.sa);});},45706:function(r,b,a){var l,f;function c(k,d){var g,n;g=(0,f.Fh)(k,"MSS");if(l.config.$Tb)return {y5:"mss",vz:function(h){var m,p;if(h.lower && 2160 <= h.height)a:{for(m=h;m.lower;){if(2160 > m.height && 1080 < m.height){m=!0;break a;}if(1080 >= m.height)break;m=m.lower;}m=!1;}else m=void 0;if(m){if(void 0 === n){try{p=ob.MSMediaKeys;n=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(q){g.error("hasUltraHdDisplay exception");n=!0;}n || (g.warn("Restricting resolution due screen size",{MaxHeight:h.height}),d.Ap.set({reason:"microsoftScreenSize",height:h.height}));}return !n;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Imb=void 0;r=a(59032);l=a(29204);f=a(31276);(0,r.nQ)(c);b.Imb=c;},76563:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(59032);c=a(29204);l=a(31276);(0,r.nQ)(function(f,k){var d,g,n,h;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.M7b);g=d[k.Cd];if(c.config.N7b && g){n={};h=(0,l.Fh)(f,"MediaStreamFilter");return {y5:"uiLabel",vz:function(m){if(m.lower && m.height > g)return (n[m.height] || (n[m.height]=!0,h.warn("Restricting resolution due to uiLabel",{MaxHeight:g,streamHeight:m.height}),k.Ap.set({reason:"uiLabel",height:m.height})),!0);}};}});},24427:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.EGa=void 0;c=a(85001);l=a(61726);b.EGa=function(f){function k(d){f.fireEvent(c.ga.CF,{response:d,P:f.ca.P});}return {download:function(d,g){d.j=f;d=l.Je.download(d,g);d.P2(k);return d;}};};},61726:function(r,b,a){var g,n,h,m,p,q,u,t,w,v,y,x,z,A;function c(){this.Ji=(0,q.Ui)("Http");this.pj=new g.Yj();this.iE=0;this.Pf={ssl:0,"non-ssl":0,invalid:0};this.e1={Ga:1,tpb:2,$Ba:3};this.addEventListener=this.pj.addListener;this.removeEventListener=this.pj.removeListener;}function l(B){var C,D,E,G;C=B.url.split("?");D="sc=" + B.o2b;E=B.exb?"random=" + (1E17 * (0,w.D0)()).toFixed(0):"";G=C[0];G=C[1]?G + ("?" + C[1] + "&" + D):G + ("?" + D);G+=E?"&" + E:"";B.Dc && !(0,h.hra)(G) && (B=n.config && n.config.mVa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;}function f(B,C){var D,E,G;D=B.url.split("?");E=k(B);G=D[0];E && (C.jw=E,(void 0 === B.js?n.config.js:B.js) || B.Xr !== x.vQ?(B.headers=B.headers || ({}),B.headers.Range="bytes=" + E):(C.jw=E,G="/" === G[G.length - 1]?G + "range/":G + "/range/",G+=E));E=B.exb?"random=" + (1E17 * (0,w.D0)()).toFixed(0):"";n.config.mL && B.YH && (E="sc=" + B.YH + (E?"&" + E:""));G=D[1]?G + ("?" + D[1] + (E?"&" + E:"")):G + (E?"?" + E:"");B.Dc && !(0,h.hra)(G) && (B=n.config && n.config.mVa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));C.url=G;}function k(B){var C;C=B.offset;if(void 0 !== C)return ((0,u.gT)(C),void 0 !== B.length?(B=C + B.length - 1,(0,u.gT)(B),C + "-" + B):C + "-");}function d(B,C,D,E){var G,F;G=E.p$a;F=E.headers;B.open(G?"POST":"GET",C,D);switch(E.responseType){case b.QU:B.responseType="arraybuffer";break;case b.Ypa:(0,t.eVa)(B,"overrideMimeType",void 0,"text/xml");}G && (C={"Content-Type":(0,y.tg)(G)?"text/plain":"application/x-octet-stream"},F=F?(0,t.Xd)(C,F):C);F && (0,t.Wf)(F,function(J,M){B.setRequestHeader(J,M);});E.withCredentials && (B.withCredentials=!0);G?B.send(G):B.send();}Object.defineProperty(b,"__esModule",{value:!0});b.QU=b.Ypa=b.Xpa=b.jOb=b.Zpa=b.iOb=b.j3a=b.X6=b.Je=b.gOb=b.hOb=void 0;g=a(94886);n=a(29204);r=a(33096);h=a(52569);m=a(24066);p=a(36129);q=a(31276);u=a(45146);t=a(3887);w=a(22365);v=a(32219);y=a(32687);x=a(32934);z=a(57504);c.prototype.u4b=function(B){var C;C=new XMLHttpRequest();B=l(B);C.open("HEAD",B,!0);C.onreadystatechange=function(){2 === C.readyState && 200 <= C.status && 299 >= C.status && !1;};C.send();return function(){return C.abort();};};c.prototype.download=function(B,C){var P,H,I,N,R,X,ha,ta,la,xa,Ba,La,Za,ab;function D(){var Z;if(!ha){ha=!0;ab && (ob.clearTimeout(ab),ab=null);P.pj.removeListener(b.Zpa,J);P.Nha(Ba,La);La && (La.onloadstart=null,La.onreadystatechange=null,La.onprogress=null,La.onerror=null,La.onload=null,La=La.onabort=null);Ba.ia || (Ba.za != p.S.BD?I.warn("Download failed",X,(0,p.Vw)(Ba)):I.trace("Download aborted",X));Z=ta;ta=null;null === Z || void 0 === Z?void 0:Z.reduceRight(function(na,Ha){(0,v.If)(function(){return Ha(Ba);});},null);P.pj.Ec(b.j3a,Ba,!0);}}function E(){ab && (ob.clearTimeout(ab),ab=null);ab=ob.setTimeout(M,Za?R:N);}function G(Z,na,Ha,Sa){var Q,ra;Ba.ia=!1;Ba.za=Z;Q=(0,m.Xn)();ra=Ba.$l;ra.cj=ra.cj || Q;ra.pq=ra.pq || Q;na && 0 < na && (Ba.Nl=na,Ba.He=na.toString());Ha && (Ba.Nb=Ha);Sa && (Ba.PC=Sa);Z !== p.S.SP && Z !== p.S.CD && Z !== p.S.VP || !La || (La.onabort=null,L());D();}function F(Z){var na,Ha;try{Ha=Z.getResponseHeader("X-Netflix.Retry.Server.Policy");Ha && (na=JSON.parse(Ha));}catch(Sa){!1;}return na;}function J(){A() || G(p.S.SP);}function M(){G(Za?p.S.CD:p.S.VP);}function L(){try{null === La || void 0 === La?void 0:La.abort();}catch(Z){}}function K(){G(p.S.BD);}P=this;(0,u.oa)(C);I=(null === (H=null === B || void 0 === B?void 0:B.j) || void 0 === H?0:H.log)?(0,q.Fh)(B.j,"Http"):this.Ji;N=B.g4 || n.config.g4;R=B.rta || n.config.rta;X={Num:this.iE++};ha=!1;ta=[C];la={};this.Vsb(B);Ba=new z.HGa(B,L,M,la,function(Z){ha || ((0,u.oa)(ta,"Callback should be added before download starts."),ta && ta.unshift(Z));});Za=!1;(0,v.If)(function(){var Z;if((0,y.gra)(B.url))try{if((f(B,Ba),xa=Ba.url,(0,u.hT)(xa),X.Url=xa,A())){!1;La=new XMLHttpRequest();La.onreadystatechange=function(){2 === (null === La || void 0 === La?void 0:La.readyState) && (Za=!0,la.cj=(0,m.Xn)(),La.onreadystatechange=null,E(),!1,P.Nha(Ba,La),Ba.bH({timestamp:la.cj,connect:!0,mediaRequest:B,start:la.kz,rt:[la.cj - la.kz],responseHeaders:Ba.headers,httpCode:Ba.dn}));};La.onprogress=function(na){Za=!0;la.i4=na.loaded;E();P.Nha(Ba,La);na={mediaRequest:B,bytes:na.loaded,timestamp:(0,m.Xn)(),bytesLoaded:na.loaded,responseHeaders:Ba.headers,httpCode:Ba.dn};Ba.bH(na);};La.onload=function(na){if(!ha && La){(0,u.oa)(void 0 === la.pq);la.pq=(0,m.Xn)();la.cj=la.cj || la.pq;la.i4=na.loaded;if(200 <= La.status && 299 >= La.status){a:switch((na=La,Ba.type)){case b.QU:na=na.response || new ArrayBuffer(0);break a;case b.Ypa:na=na.responseXML;break a;default:na=na.responseText;}Ba.parsed=!1;Ba.content=na;Ba.ia=!0;}else 420 === La.status?G(p.S.UP,La.status):G(p.S.TP,La.status,La.response,F(La));D();}};La.onabort=K;La.onerror=function(){var na,Ha;if(La){na=La.status;"undefined" !== typeof n.config.I_a && (na=n.config.I_a);if(0 < na){if(420 === na)G(p.S.UP,na);else {try{Ha=La.responseText;}catch(Sa){}G(p.S.TP,na,Ha,F(La));}}else G(p.S.WP);}};Z=(0,m.Xn)();d(La,xa,!0,B);P.pj.Ec(b.X6,Ba,!0);la.kz=Z;Ba.gN({mediaRequest:B,timestamp:Z});E();P.pj.addListener(b.Zpa,J);}else (0,v.If)(G.bind(void 0,p.S.SP));}catch(na){I.error("Exception starting download",na,X);G(p.S.Hda,void 0,(0,t.Ae)(na));}else G(p.S.kGa);});return Ba;};c.prototype.GZb=function(B){var C,D;C=new XMLHttpRequest();D=B.DZb;C.open("HEAD",B.url,!0);C.timeout=n.config.yva;C.onreadystatechange=function(){2 === C.readyState && (!1,D && D.cN(C.status));};C.ontimeout=C.onerror=function(){!1;D && D.Ata(C.status);};C.send();};c.prototype.Vsb=function(B){var C;try{C=B.url;(0,y.gra)(C)?0 === C.indexOf("https")?this.Pf.ssl++:0 === C.indexOf("http")?this.Pf["non-ssl"]++:this.Pf.invalid++:this.Pf.invalid++;}catch(D){}};c.prototype.Nha=function(B,C){var D;if((void 0 === B.dn || void 0 === B.headers) && C){B.dn=C.status;D={};C.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(E){var G;G=ja(E.split(": "));E=G.next().value;G=Y(G).join(": ");E && (D[E.toLowerCase()]=G);});B.headers=D;}};b.hOb=f;b.gOb=k;A=r.hNa;b.Je=new c();b.X6=1;b.j3a=2;b.iOb=3;b.Zpa=4;b.jOb=5;b.Xpa=b.Je.e1.Ga;b.Ypa=b.Je.e1.tpb;b.QU=b.Je.e1.$Ba;ob._cad_global.http=b.Je;},57504:function(r,b,a){var l;function c(f,k,d,g,n){this.P2=this.bH=this.gN=l.dx;this.request=f;this.type=f.responseType;this.$l=g;this.abort=k;this.timeout=d;this.P2=n;}Object.defineProperty(b,"__esModule",{value:!0});b.HGa=void 0;l=a(33096);c.prototype.t3b=function(f){this.gN=f;};c.prototype.z3b=function(f){this.bH=f;};b.HGa=c;},31276:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.Ba=b.nMa=b.$T=b.Fh=b.Ui=b.log=b.Df=b.PL=b.uUa=b.Tq=b.Ix=b.kc=b.pwb=b.Bja=b.nwb=b.owb=b.Ri=b.$O=b.ZY=b.Zg=b.yc=b.sa=void 0;c=a(83989);r=a(87386);l=a(56800);f=a(84408);k=a(6405);d=a(2248);g=a(32687);n=a(79274);h=a(30869);a=a(53085);b.sa=c.ac.get(h.cg);b.yc=c.ac.get(a.Vh);b.Zg=c.ac.get(f.Jq);b.ZY=b.Zg.encode.bind(b.Zg);b.$O=b.Zg.decode.bind(b.Zg);b.Ri=c.ac.get(k.Mw);b.owb=b.Ri.encode.bind(b.Ri);b.nwb=b.Ri.decode.bind(b.Ri);b.Bja=b.Ri.RF.bind(b.Ri);b.pwb=b.Ri.qfb.bind(b.Ri);b.kc=c.ac.get(d.$g);b.Ix=function(m){m=(0,g.tg)(m)?(0,b.$O)(m):m;return b.kc.encode(m);};b.Tq=b.kc.decode.bind(b.kc);b.uUa=function(m){return (0,b.ZY)((0,b.Tq)(m));};b.PL=function(){return c.ac.get(l.Qw);};b.Df=c.ac.get(r.bb);b.log=b.Df.ab("General");b.Ui=function(m,p){return b.Df.ab(m,void 0,p);};b.Fh=function(m,p,q){return b.Df.ab(p,m,q);};b.$T=function(m,p,q,u){return b.Df.ab(m,void 0,u,p,q);};b.nMa=function(m,p,q){return c.ac.get(n.BQ)(m,p,q).KY();};b.Ba=c.ac;},93114:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v;Object.defineProperty(b,"__esModule",{value:!0});c=a(82956);l=a(33096);f=a(29204);k=a(13044);d=a(24066);r=a(36129);g=a(31276);n=a(77134);h=a(22365);m=a(32219);p=a(32687);q=a(45118);u=a(31850);a=a(11479);v=g.Ba.get(a.Rh);v.register(r.V.TGa,function(y){var z;function x(){var A,B,C;A=v.startTime;B={browserua:h.QD,browserhref:h.J0.href,initstart:A,initdelay:v.endTime - A};(A=h.Ig.documentMode) && (B.browserdm="" + A);(0,p.wM)(f.config.ZZa) && (B.fesn=f.config.ZZa);Object.assign(B,(0,c.dpa)());C=h.Lu && h.Lu.timing;C && f.config.rSb.map(function(D){var E;E=C[D];E && (B["pt_" + D]=E - (0,d.YVa)());});A=z.iLb();Object.entries(A).forEach(function(D){var E;E=ja(D);D=E.next().value;E=E.next().value;return B["m_" + D]=E;});A=w.kt("startup","info",B,k.eA.Dna);t.xc(A);}w=g.Ba.get(u.Yw);t=g.Ba.get(q.tl);z=g.Ba.get(n.BJ);v.BV(function(){t.Db();(0,m.If)(x);});y(l.dg);});},86258:function(r,b,a){var f,k,d,g,n,h,m,p,q,u,t,w;function c(v,y){var z;function x(){function A(B,C){return C.pe && 0 !== C.pe.length && C.pe[0].JG?(0,f.hz)(v,C).then(function(){z.trace("Successfully released license for session",JSON.stringify(C));return B?B.oX(C):Promise.resolve();}).catch(function(D){z.error("Unable to send stop command for session",JSON.stringify({qz:C,error:D}));throw D;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),B?B.oX(C):Promise.resolve());}l(z).then(function(B){var C;C=B.Y4.filter(function(D){return !1 === D.active;}).map(function(D){return A(B,D);});Promise.all(C).then(function(){z.info("release drm session completed for " + C.length + " entries");y(k.dg);}).catch(function(D){D=D || ({});D.DrmCacheSize=C.length;z.error("Unable to release one or more DRM session data",D);y(k.dg);});}).catch(function(B){z.error("Unable to load DRM session data",B);y(k.dg);});}z=(0,h.Ui)("PlayDataManager");y=y || k.dx;d.config.ks?y(k.dg):x();}function l(v){var y;if(!b.kma){y=h.Ba.get(m.Kca);b.kma=new Promise(function(x,z){y.oab().then(function(){x(y);}).catch(function(A){v.error("Unable to load DRM data for license release",A);z(A);});});}return b.kma;}Object.defineProperty(b,"__esModule",{value:!0});b.NLa=b.MLa=b.kma=void 0;f=a(43422);k=a(33096);d=a(29204);g=a(37509);n=a(91581);h=a(31276);r=a(36129);m=a(93673);p=a(96687);q=a(85001);u=a(45118);t=a(11479);w=a(21892);b.MLa=function(v){var z,A,B,C,D,E;function y(){A || (v.re("pdsb"),A=h.Ba.get(p.AQ)().then(function(G){C=G;v.re("pdsc");return G;}).catch(function(G){z.error("Unable to initialize the playdata services",G);v.re("pdse");throw G;}));return A;}function x(){B=!0;C && C.close();g.oe.removeListener(g.Wk,x);}z=(0,h.Fh)(v,"PlayDataManager");B=!1;D=h.Ba.get(n.V0);if(!D.YI || !D.WI){E=h.Ba.get(w.dfa)();D.YI=E.qz;D.WI=E.request;}v.re("pdctor");v.addEventListener(q.ga.og,function(){g.oe.removeListener(g.Wk,x);});v.addEventListener(q.ga.zV,function(){var G;if(!d.config.ks && v.je){G=v.k4.UWa();l(z).then(function(F){return F.USa(G);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});v.addEventListener(q.ga.og,function(){var G;if(!B){v.P9b();G=[(function(){return d.config.ks || !v.je?Promise.resolve():new Promise(function(F){var J;z.info("Sending the expedited playdata");J=v.k4.UWa();v.je.KZa(J).then(function(){z.info("Sent the expedited playdata");return l(z);}).then(function(M){return M?M.oX(J):Promise.resolve();}).then(function(){F(void 0);}).catch(function(M){z.error("Unable to send the expedited playdata",M);F();});});})(),(function(){return y().then(function(F){return F.kY(v.ca);}).then(function(){z.info("Sent the playdata");}).catch(function(F){z.error("Unable to send the playdata",F);});})(),(function(){return new Promise(function(F){h.Ba.get(u.tl).flush(!1).catch(function(){z.error("Unable to send logblob");F(void 0);}).then(function(){F(void 0);});});})()];Promise.all(G).then(function(){v.m9();}).catch(function(){v.m9();});}});g.oe.addListener(g.Wk,x);return {};};b.NLa=function(){return new Promise(function(v){c({},function(y){v(y);});});};h.Ba.get(t.Rh).register(r.V.Yz,function(v){v(k.dg);});},46493:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,E;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);l=a(50040);f=a(1481);k=a(29204);d=a(33096);g=a(36129);n=a(45146);h=a(31276);m=a(77134);p=a(63156);q=a(17892);u=a(3887);t=a(22365);w=a(32687);v=a(52569);y=a(45842);x=a(5021);r=a(11479);z=a(50681);A=a(59219);B=a(32934);C=a(71501);D={};E=h.Ba.get(r.Rh);E.register(g.V.VGa,function(G){var L,K,P,H,I,N,R,X,ha,ta,la,xa,Ba,La;function F(Za){Za && Za.userList && k.config.f4b && (Za.userList=[]);H({esn:f.Tk.hk,esnPrefix:f.Tk.bo,authenticationKeyNames:k.config.bwb,systemKeyWrapFormat:k.config.m6b,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:Ba,storeState:Za,notifyMilestone:E.re.bind(E),log:R,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:g.S.Dmb,MSL_READ_TIMEOUT:g.S.Cmb}},{result:function(ab){J(ab);},timeout:function(){G({za:g.S.JIa});},error:function(ab){G(M(g.S.JIa,void 0,ab));}});}function J(Za){var Z,na,Ha,Sa;function ab(){xa && h.Ba.get(q.Kw).create().then(function(Q){return Q.save(ta,Ha,!1);}).catch(function(Q){R.error("Error persisting msl store",(0,g.Vw)(Q));});}Z=this;na=h.Ba.get(y.ZD)((0,x.Ob)(100));Sa=I.extend({init:function(Q){this.vRa=Q;},getResponse:function(Q,ra,qa){var O,ia;ra=this.vRa;O=ra.fta.Je || O;Q=(0,w.fra)(Q.body)?(0,h.ZY)(Q.body):Q.body;(0,n.hT)(Q,"Msl should not be sending empty request");Q={url:ra.url,p$a:Q,withCredentials:!0,kB:"nq-" + ra.method,headers:ra.headers};ra=this.vRa.timeout;Q.g4=ra;Q.rta=ra;ia=O.download(Q,function(va){try{if(va.ia)qa.result({body:va.content});else if(400 === va.Nl && va.Nb)qa.result({body:va.Nb});else throw (0,u.Xd)(new N("HTTP error, SubCode: " + va.za + (va.Nl?", HttpCode: " + va.Nl:"")),{cadmiumResponse:va});}catch(Oa){qa.error(Oa);}});return {abort:function(){ia.abort();}};}});ha && Za.addEventHandler("shouldpersist",function(Q){Ha=Q.storeState;na.Pj(ab);});(0,u.Xd)(D,{ohc:function(){la=!0;},send:function(Q){function ra(){var qa,O;qa=Q.fta;O={method:Q.method,nonReplayable:Q.n8a,encrypted:Q.HF,userId:Q.Tgb,body:Q.body,timeout:2 * Q.timeout,url:new Sa(Q),allowTokenRefresh:xa,sendUserAuthIfRequired:La,shouldSendUserAuthData:k.config.m4b};qa.email?(O.email=qa.email,O.password=qa.password || ""):la && (O.useNetflixUserAuthData=!0);return O;}return new Promise(function(qa,O){var ia;ia=ra();Za.send(ia).then(function(va){la && (la=!1);qa({ia:!0,body:va.body});}).catch(function(va){var Oa,eb;if(va.error){Oa=va.error.cadmiumResponse && va.error.cadmiumResponse.za?va.error.cadmiumResponse.za:Za.isErrorReauth(va.error)?g.S.IIa:Za.isErrorHeader(va.error)?g.S.wmb:g.S.vmb;eb=Za.getErrorCode(va.error);O(M(Oa,eb,va.error));}else (R.error("Unknown MSL error",va),va.ic=va.subCode,O({za:va.ic?va.ic:g.S.Emb}));});});},hW:Za});A.cE.uK.mslFetch=function(Q,ra){return c.__awaiter(Z,void 0,void 0,function O(){var ia,va,Oa;return Ja(O,function(eb){if(1 == eb.Uv)return (ia=h.Ba.get(C.xJ),Ma(eb,D.send({fta:{Je:h.Ba.get(B.Gu),profile:ia},timeout:8E3,url:Q.toString(),body:null === ra || void 0 === ra?void 0:ra.body,headers:{"Content-Encoding":"msl_v1","Content-Type":"application/json"},Tgb:ia,T0b:!1,n8a:!0,HF:!0}),2));va=eb.uZ;Oa={get body() {this.bodyUsed=!0;return va.body;}};return eb.return((Oa.bodyUsed=!1,Oa.ok=va.ia,Oa.status=va.ia?200:400,Oa.statusText=va.ia?"OK":"Bad Request",Oa.type="basic",Oa.url=Q.toString(),Oa.headers=new Headers({"Content-Type":"application/json"}),Oa.text=function(){return Promise.resolve(this.body);},Oa.json=function(){return Promise.resolve(JSON.parse(this.body));},Oa.arrayBuffer=function(){return Promise.resolve(new Uint8Array(this.body));},Oa.clone=function(){return Object.assign({},this);},Oa.blob=function(){return this.arrayBuffer().then(function(Xa){return new Blob([Xa]);});},Oa.formData=function(){throw Error("Not implemented");},Oa.redirected=!1,Oa));});});};G(d.dg);h.Ba.get(z.Aea).KUb(D);}function M(Za,ab,Z){var na,Ha,Sa,Q;Sa={za:Za,k5:ab};if(Z){Q=function(ra){var qa;ra=ra || "" + Z;if(Z.stack){qa="" + Z.stack;ra=0 <= qa.indexOf(ra)?qa:ra + qa;}return ra;};if(Ha=Z.cadmiumResponse){if(na=Ha.He && Ha.He.toString())Ha.He=na;Ha.za=Za;Ha.k5=ab;Ha.Nb=Q(Z.message);Ha.error={ic:Za,Wc:na,Uy:ab,data:Z.cause,message:Z.message};return Ha;}Q=Q(Z.errorMessage);na=(0,u.aj)(Z.internalCode) || (0,u.aj)(Z.error && Z.error.internalCode);Ha=void 0 !== Z.JGb?(0,v.Hta)(Z.JGb):void 0;}Q && (Sa.Nb=Q);na && (Sa.He=na);Sa.error={ic:Za,Wc:na.toString(),Uy:ab,data:Ha,message:Q};return Sa;}(0,n.oa)(k.config);L=h.Ba.get(m.BJ);K=p.Xj.lj;if(t.cA && t.Gp && t.Gp.unwrapKey){try{P=ob.netflix.msl;H=P.createMslClient;I=P.IHttpLocation;N=P.MslIoException;}catch(Za){G({za:g.S.xmb});return;}R=(0,h.Ui)("Msl");X=k.config.GUb;ha=k.config.IUb;ta=k.config.iy?"mslstoretest":"mslstore";P=l.gI.zcb;la=!0;xa=!P || P.ia;Ba=(0,h.Tq)(k.config.iy?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");La=!!k.config.Bxa;h.Ba.get(q.Kw).create().then(function(Za){X?Za.remove(ta).then(function(){F();}).catch(function(ab){R.error("Unable to delete MSL store",(0,g.Vw)(ab));F();}):ha?Za.load(ta).then(function(ab){L.mark(K.zmb);F(ab.value);}).catch(function(ab){ab.za == g.S.lx?(L.mark(K.Bmb),F()):(R.error("Error loading msl store",(0,g.Vw)(ab)),L.mark(K.Amb),Za.remove(ta).then(function(){F();}).catch(function(Z){G(Z);}));}):F();}).catch(function(Za){R.error("Error creating app storage while loading msl store",(0,g.Vw)(Za));G(Za);});}else G({za:g.S.ymb});});},78719:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.mFa=void 0;c=a(29204);l=a(37509);f=a(3887);k=a(36129);d=a(85001);b.mFa=function(g,n,h){function m(q){var u,t;u=q.error || q;t=(0,f.Ae)(u);h.error("uncaught exception",u,t);(u=(u=u && u.stack) && c.config.Vfb && c.config.R7b?0 <= u.indexOf(c.config.Vfb):void 0) && (q && q.stopImmediatePropagation && q.stopImmediatePropagation(),g.rd(k.V.vPa));}function p(){l.oe.removeListener(l.J6,m);g.removeEventListener(d.ga.og,p);g.removeEventListener(d.ga.Wt,p);}try{l.oe.addListener(l.J6,m);g.addEventListener(d.ga.og,p);c.config.COb && g.addEventListener(d.ga.Wt,p);}catch(q){h.error("exception in exception handler ",q);}};},42654:function(r,b,a){var c,l,f,k,d,g,n,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.lHa=void 0;c=a(29204);l=a(24066);f=a(36129);k=a(981);d=a(22365);g=a(32687);n=a(85001);h=a(31276);m=a(4246);b.lHa=function(p){var u,t,w,v;function q(){p.state.value !== n.Wb.fe || p.zb.value !== n.lb.Kg && p.zb.value !== n.lb.zq?t.Ho():t.tB();}u=c.config.LXb;if(!p.tM() && u){t=h.Ba.get(m.NQ)(u,function(){p.fireEvent(n.ga.gM,f.V.Q0);});p.zb.addListener(q);p.state.addListener(q);if(c.config.gqa){w=(0,l.Xn)();v=new k.mNa(c.config.gqa,function(){var y,x;y=(0,l.Xn)();x=y - w;x > u && (p.fireEvent(n.ga.gM,f.V.u0),v.UVa());x > 2 * c.config.gqa && (p.hqa=(0,d.As)(x,p.hqa || 0));w=y;});v.M3b();}p.addEventListener(n.ga.og,function(){t.Ho();(0,g.Xc)(v) && v.UVa();});}};},33059:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v;function c(y,x){this.j=y;this.ej=x;this.i6b=!1;this.log=(0,k.Fh)(this.j,"MediaAppendManager");this.Gb=this.j.Gb;this.ba=this.Gb.ba;this.iZ=this.AS=!1;this.audio={type:f.Zj.audio,xv:[],cl:[],sN:!1};this.video={type:f.Zj.video,xv:[],cl:[],sN:!1};y={};this.zI=(y[v.u.X]=this.video,y[v.u.$]=this.audio,y);this.closed=!1;this.Oy=l.config.Oy;this.N8=l.config.N8;this.uC=this.j.cb.sg?l.config.oua:l.config.uC;this.pUa=!0;this.kc=k.Ba.get("Base64EncoderSymbol");this.Bna=!1;this.Lua=[];(0,g.oa)(this.Oy > this.N8,"bad config");(0,g.oa)(this.Oy > this.uC,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.YIa=void 0;l=a(29204);f=a(51344);k=a(31276);d=a(36129);g=a(45146);n=a(3887);h=a(33096);m=a(85001);p=a(93294);q=a(5021);u=a(63156);t=a(75568);w=a(69931);v=a(60328);c.prototype.T5=function(){var z,A;function y(B,C){return x(B,C.F8);}function x(B,C){var D,E,G,F;G=!!C.response;F=C.response;if(C.Ke)return B + (F.byteLength || 0);C=(null !== (D=null === C || void 0 === C?void 0:C.K3) && void 0 !== D?D:0) - (null !== (E=null === C || void 0 === C?void 0:C.L3) && void 0 !== E?E:0);return (G?F.byteLength:C) + B;}z=this.zI[v.u.X];A=this.zI[v.u.$];return {videoToAppend:z.cl.reduce(x,0),videoInBuffer:z.xv.reduce(y,0),audioToAppend:A.cl.reduce(x,0),audioInBuffer:A.xv.reduce(y,0)};};c.prototype.yVb=function(){this.audio.Ci && !this.audio.Ci.ph() && (!1,this.audio.Ci.GTa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.B3b=function(){this.audio.bya=!0;this.video.bya=!0;};c.prototype.I3b=function(y){y === v.u.$?this.AS=!0:y === v.u.X && (this.iZ=!0);};c.prototype.ph=function(){var y,x;return !(null === (y=this.audio.Ci) || void 0 === y || !y.ph()) || !(null === (x=this.video.Ci) || void 0 === x || !x.ph());};c.prototype.saa=function(y){var x,z;null === (x=this.audio.Ci) || void 0 === x?void 0:x.saa(y);null === (z=this.video.Ci) || void 0 === z?void 0:z.saa(y);};c.prototype.Tub=function(y){var x;y.mediaType === v.u.$?this.AS=!1:y.mediaType === v.u.X && (this.iZ=!1);x=this.zI[y.mediaType];x?x.cl.push(y):(0,g.oa)(!1);};c.prototype.Sub=function(y,x,z){var A;A=this;x=this.QUa(y.mediaType,x,z);if(!this.Bna)if(y.mediaType === v.u.X)(this.mZb(y),this.Bna=!0,this.Lua.forEach(function(B){return A.Yia(B);}),this.Lua=[]);else {this.Lua.push(x);return;}this.Yia(x);};c.prototype.Yia=function(y){var x;x=this.zI[y.mediaType];x?x.cl.push(y):(0,g.oa)(!1);};c.prototype.QUa=function(y,x,z){return {mediaType:y,Jt:!1,response:x,Wi:function(){return "header";},get Ke() {return !this.Jt;},profile:z.profile};};c.prototype.mZb=function(y){(0,g.oa)(!!y.Sdb,"startOfSegment properties need to be set before first header is appended");this.Bna || !l.config.pIb || !this.j.O6() && !this.j.dM() || y.Sdb.t4a || (this.log.trace("Force appending encrypted stream header first to allow mixed clear & encrypted content"),y=this.kc.decode(h.ZBa),this.Yia(this.QUa(v.u.X,y,{profile:t.H.xD})));};c.prototype.F3b=function(y){var x;x=this.zI[y.type];if(x)try{x.Ci=y;}catch(z){this.rd(d.V.Rea,{za:(0,p.i6)(y.type),Nb:(0,n.Ae)(z)});}};c.prototype.close=function(){this.ba=this.Gb=void 0;this.closed=!0;};c.prototype.rd=function(y,x,z){this.closed || this.j.rd(y,x,z);};c.prototype.Nla=function(y){return this.xYa(this.audio,y,this.y4()) && this.xYa(this.video,y,this.y4());};c.prototype.y4=function(){return this.j.zb.value === m.lb.Ef?this.uC:this.N8;};c.prototype.W6b=function(){var y,x;y=this.video.cl.filter(function(z){return !z.Ke;}).reduce(function(z,A){return z + A.qt;},0);x=this.audio.cl.filter(function(z){return !z.Ke;}).reduce(function(z,A){return z + A.qt;},0);return Math.min(y,x);};c.prototype.xYa=function(y,x,z){var A;A=y.Ola;A=A && A.F8;return !y.Ci || 0 === y.cl.length && (y.type === f.Zj.audio && this.AS || y.type === f.Zj.video && this.iZ)?!0:A && A.HC - x >= z || !1;};c.prototype.Kfb=function(y){this.i6b || (this.Jfb(this.audio,y),this.Jfb(this.video,y));this.closed || this.xVa();};c.prototype.xVa=function(){var y,x,z,A,B,C;A=!this.audio.Ci || 0 !== this.audio.xv.length;B=0 === this.video.cl.length && this.iZ;C=!this.video.Ci || 0 !== this.video.xv.length;!(0 === this.audio.cl.length && this.AS && C || B && A) || (null === (y=this.audio.Ci) || void 0 === y?0:y.ph()) || (null === (x=this.video.Ci) || void 0 === x?0:x.ph()) || this.Ema || !(this.ba.readyState > u.Xj.Xz.HAVE_NOTHING) || this.ej.C7 || (this.Ema=!0,null === (z=this.Gb) || void 0 === z?void 0:z.endOfStream());};c.prototype.Jfb=function(y,x){var z,A,B,C;if(!this.closed && y.Ci){A=y.Ci;B=y.xv;!A.ph() && 0 < B.length && (y.Ola=B[B.length - 1]);if(y.bya){if(A.ph())return;y.bya=!1;C=null === (z=this.Gb) || void 0 === z?void 0:z.v1a().s$a(q.xm);C && 0 < C && A.remove(0,C);}for(z=y.cl[0];z && z.response && (z.Ke || z.JN - x <= this.Oy);){if((this.Ema=!1,this.I7b(z)))(y.cl.shift(),z=y.cl[0]);else break;}!A.ph() && 0 < B.length && (y.Ola=B[B.length - 1]);}};c.prototype.I7b=function(y){var x,z,A;!1;(0,g.oa)(y && !!y.response);x=y.response;z=y.mediaType;A=this.zI[z];if(!this.closed && A.Ci && !A.Ci.ph()){try{y.Ke && y.profile && A.Ci.fyb(y.profile);this.log.trace("Feeding media segment to decoder",{Bytes:x.byteLength});A.Ci.GTa(x,y);y.Ke || A.xv.push(this.NBb(y));}catch(B){"QuotaExceededError" === B.name?(this.j.A4=this.j.A4?this.j.A4 + 1:1,this.pUa=!1,A.sN=!0):(this.log.error("Exception while appending media",y,B),this.rd("CodecSwitchingError" === B.name?d.V.GKa:d.V.Wnb,(0,p.i6)(z)));return;}return !0;}};c.prototype.FBb=function(y){var x;if(w.Vfa[y.Pb])return w.Vfa[y.Pb];x=this.j.J2a(y.Rc);x || (this.log.warn("Could not find CDN",{cdnId:y.Rc}),x={id:y.Rc,Z5a:y.location});return x;};c.prototype.pXa=function(y){var x,z;x=y.Pb;if(w.Wfa[x])return w.Wfa[x];y.mediaType === v.u.$?z=this.j.F2a(x):y.mediaType === v.u.X && (z=this.j.U2a(x));z || this.log.error("Could not find stream",{stream:x});return z;};c.prototype.NBb=function(y){var x;x=this.pXa(y);return {F8:y,stream:x,HK:{startTime:Math.floor(y.JN),endTime:Math.floor(y.HC)},Dc:this.FBb(y)};};c.prototype.rka=function(y){this.DVa(y,v.u.$);this.DVa(y,v.u.X);};c.prototype.DVa=function(y,x){var z,A,B,C,D,E,G,F,J;z=this;A=y;this.pUa && (A-=l.config.LM);B=this.zI[x];C=B.xv;G=!1;C.some(function(M,L){var K;K=M.F8;if(y < K.JN)return ((0,g.oa)(!1,"decoder content does not contain media time"),!0);A >= K.HC && (D=L);if(y < K.HC)return (E=L,L=x === v.u.$?z.j.nf:z.j.Zd,M !== L.value && (L.set(M),G=!0),!0);});if((B.sN || G) && void 0 !== D && !this.Ema){if(D + 1 === E){if(0 === D)return;D--;}F=C[D].F8.HC - 1;if(0 < F){J=B.Ci;J && !J.ph()?(J.remove(0,F / h.zs),B.sN=!1,C.splice(0,D + 1)):(B.sN=!0,!1);}}};c.prototype.wbb=function(){!1;[this.audio,this.video].forEach(function(y){y.xv=[];y.Ola=void 0;y.cl=[];});this.iZ=this.AS=!1;this.j.fireEvent(m.ga.XV);};c.prototype.vpa=function(){return [this.audio,this.video].filter(function(y){return y.Ci;});};c.prototype.HJb=function(){var y,x;if(this.ph())(0,g.oa)(!1,"should not be busy while checking buffer ranges");else {y=this.vpa().map(function(z){var A,B,C,D,E;D=z.cl.filter(function(G){return G.Jt;});E=z.Ci.buffered();z=E.length?Math.ceil(1E3 * E.start(0)):void 0;E=E.length?Math.floor(1E3 * E.end(E.length - 1)):void 0;z=null !== z && void 0 !== z?z:null === (A=D[0]) || void 0 === A?void 0:A.JN;A=null !== (C=null === (B=D[D.length - 1]) || void 0 === B?void 0:B.HC) && void 0 !== C?C:E;if(void 0 !== z && void 0 !== A)return {start:z,end:A};});if(y.every(function(z){return z;})){x=Math.max.apply(Math,ba(y.map(function(z){return z.start;})));y=Math.min.apply(Math,ba(y.map(function(z){return z.end;})));if(y > x)return {start:(0,q.Ob)(x),end:(0,q.Ob)(y)};}}};c.prototype.skip=function(y){(0,g.oa)(!this.ph(),"should not be busy while skipping");this.vpa().forEach(function(x){x.sN=!0;});this.rka(y);this.vpa().forEach(function(x){0 < x.xv.length || (x.cl=x.cl.filter(function(z){return z.Ke || z.HC > y?!0:!1;}));});};b.YIa=c;},36582:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tea="MediaElementHelpersSymbol";},50093:function(r,b,a){var l,f,k;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.eJa=void 0;r=a(5163);l=a(4203);f=a(33096);a=a(22674);c.prototype.zt=function(){return this.KPb()?f.xEa:(/widevine/i).test(this.config().Yl)?f.gda:(/fps/i).test(this.config().Yl)?"fairplay":f.r_;};c.prototype.KPb=function(){return (/clearkey/i).test(this.config().Yl);};k=c;k=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(l.Yb))],k);b.eJa=k;},90762:function(r,b,a){var f,k,d,g,n,h,m,p,q,u,t,w;function c(v){v=Error.call(this,v);this.message=v.message;("stack" in v) && (this.stack=v.stack);this.name="CodecSwitchingError";}function l(v,y,x,z){var A,B;A=this;this.j=v;this.type=y;this.log=z;this.e2=new d.Ib(!1);this.jE={data:[],state:"",operation:""};this.error=void 0;this.mimeType=this.QZa((this.type === w.u.X?this.j.Gg.value:this.j.uc.value).streams);this.pj=new g.Yj();this.xha={Type:this.type};if(k.config.cC){B=!0;this.Ana=new d.Ib(!1);}this.log.trace("Adding source buffer",this.xha,{TypeId:this.mimeType});this.Tc=x.addSourceBuffer(this.mimeType);this.Tc.addEventListener("updatestart",function(){!1;A.jE.state="updatestart";});this.Tc.addEventListener("update",function(){!1;A.jE.state="update";});this.Tc.addEventListener("updateend",function(){var C;!1;A.e2.set(!1);A.rQa && A.rQa();A.jE.state="updateend";C=0;try{C=A.Tc.buffered.length;}catch(D){}B && C && (B=!1,A.Ana.set(!0),!1);});this.Tc.addEventListener("error",function(C){var D;!1;try{D=C.target.error && C.target.error.message;(C.message || D) && z.error("error event received on sourcebuffer",{mediaErrorMessage:C.message});}catch(E){}v.rd(h.V.Xnb,(0,f.i6)(A.type));});this.Tc.addEventListener("abort",function(){!1;});v.addEventListener(q.ga.closed,function(){A.Tc=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.Cjb=b.uea=void 0;f=a(93294);k=a(29204);d=a(81734);g=a(94886);n=a(31276);a(24550);h=a(36129);a(5021);m=a(45146);p=a(32687);q=a(85001);u=a(95162);t=a(48220);w=a(60328);l.prototype.ph=function(){return this.e2.value;};l.prototype.updating=function(){return this.Tc?this.Tc.updating:!1;};l.prototype.saa=function(v){this.rQa=v;};l.prototype.loa=function(){return this.jE;};l.prototype.buffered=function(){return this.Tc.buffered;};l.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};l.prototype.toJSON=function(){return {type:this.type};};l.prototype.goa=function(){var v,z,A;try{v=this.Tc.buffered;if(v){for(var y=[],x=0;x < v.length;x++){z=1E3 * v.start(x);A=1E3 * v.end(x);(0,m.oa)(A > z);y.push({start:z,end:A});}return y;}}catch(B){}};l.prototype.U5=function(){var v,y;v=this.goa();if(v){v=v.map(function(x){return {start:x.start / 1E3,end:x.end / 1E3};});y=v.reduce(function(x,z){return x + z.end - z.start;},0);v=v.map(function(x){return x.start + "-" + x.end;});return {Buffered:y.toFixed(3),Ranges:v.join("|")};}};l.prototype.GTa=function(v,y){!1;try{(0,m.oa)(this.Tc.buffered && 1 >= this.Tc.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.U5()));}catch(x){}(0,m.oa)(!this.ph());this.kdb("append",v);y=y && y.u$ / 1E3;(0,p.Sb)(y) && this.Tc.timestampOffset !== y && (!1,this.Tc.timestampOffset=y);this.Tc.appendBuffer(v);!1;this.e2.set(!0);};l.prototype.remove=function(v,y){(0,m.oa)(!this.ph());try{this.kdb("remove");!1;this.Tc.remove(v,y);this.e2.set(!0);}catch(x){this.log.error("SourceBuffer remove exception",x,this.xha);}};l.prototype.kdb=function(v,y){this.jE.data=y || [];this.jE.state="init";this.jE.operation=v;};l.prototype.cdb=function(v,y){this.jRb=v / y * 1E3;};l.prototype.fyb=function(v){var y;if(this.Tc){if((v=this.QZa([{type:this.Lzb,Fd:v}]),v !== this.mimeType)){y=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + v);if(!this.Tc.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.Tc.changeType(v);this.mimeType=v;}catch(x){throw (this.log.error("Error changing SourceBuffer type",x,this.xha,{From:y,To:v}),new c(x.message));}}}else this.log.info("No SourceBuffer");};l.prototype.appendBuffer=function(v,y){!y || y.Ke?this.Xia(v,y):this.Zia(v,y);return !0;};l.prototype.Xia=function(v,y){this.j.Vd.Xia(this,v,y || ({}));};l.prototype.Zia=function(v,y){v=this.Fzb(v,y);!1;this.j.Vd.Zia(v);};l.prototype.Fzb=function(v,y){var x;x=this.jRb || 0;return {Wi:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:t.Zc.Nc.DONE,JN:y.kb,HC:y.kb + y.duration,qt:y.duration,u$:x,Zq:y.Zq,I:y.I,Pb:y.Pb,Rc:+y.Rc,location:y.location,L3:y.offset,K3:y.offset + y.xa - 1,bitrate:y.bitrate,response:v,NNb:v && 0 < v.byteLength,Jt:!0,get Ke() {return !this.Jt;},hcb:this.oj - Math.floor(x) || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.I,isHeader:this.Ke,ptsStart:this.JN,ptsOffset:this.u$,responseType:this.Gec,duration:this.qt,readystate:this.Ue};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};l.prototype.endOfStream=function(){var v;this.j.TE("EndOfStream");null === (v=this.j.Vd) || void 0 === v?void 0:v.n9(this.mediaType);return !0;};l.prototype.Rdb=function(v){this.Hsb=v;};l.prototype.addEventListener=function(v,y,x){this.pj.addListener(v,y,x);};l.prototype.removeEventListener=function(v,y){this.pj.removeListener(v,y);};l.prototype.QZa=function(v){var y;y=n.Ba.get(u.IQ);return this.type === w.u.X?y.t4(v):y.n4(v);};Ya.Object.defineProperties(l.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},Sdb:{configurable:!0,enumerable:!0,get:function(){return this.Hsb;}},Lzb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.uea=l;da(c,Error);b.Cjb=c;},73056:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,E,G,F,J,M,L,K,P;function c(H){var I;I=this;this.j=H;this.Gb=this.j.Gb;this.log=(0,h.Fh)(this.j,"MediaPresenterASE");this.c9=this.z4=0;this.ba=this.Gb.ba;this.Yy=new K.IPa(this.ba,this.j);this.X9a=this.L9a=this.D7=this.Xua=!1;this.d8=new Set();this.l6b=h.Ba.get(B.ZD)((0,A.Ob)(x.j1));this.sK=void 0;this.ej=h.Ba.get(D.TNa)(this.j);this.Dw={};this.g7a={};this.HU={};this.vg=new G.YIa(this.j,this.ej);this.j6b=function(){var N,R,X;I.j.vY=(0,n.Xn)();if(!I.Xl() && I.RB){N=I.Gb.c2a();N || (I.TXb(),I.vg.Kfb(I.mediaTime));I.j.paused.value || !I.vg.Nla(I.mediaTime) || !I.Pja() || N || I.ej.C7?I.Twa():I.Xua || I.Uwa();I.SXb();if(!I.Gb.c2a() && !I.D7){N=I.Gb.OL(!0);R=I.j.zb.value;X=I.vzb();R !== X && !1;X === v.lb.zq?(I.mediaTime=I.j.iq.ea(A.pa),I.Twa()):X !== v.lb.Ef && I.w8b(N);I.rgb();I.vg.rka(I.mediaTime);I.j.zb.set(X);X !== v.lb.Ef || R !== v.lb.he && R !== v.lb.Kg || I.aua();}}};this.nl=(0,E.V$a)(this.j6b);this.mediaTime=H.kb;this.j.Dh=!1;this.Gb.addEventListener(z.Th.Jdb,function(){if(I.Kdb){I.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{I.Db();}catch(N){I.log.error("Exception while initializing",N);I.rd(m.V.Knb);}}});this.Gb.addEventListener(z.Th.J5a,function(N){N=N.J;I.Kdb?I.O8a(N):I.d8.add(N);});}Object.defineProperty(b,"__esModule",{value:!0});b.nJa=void 0;l=a(33096);f=a(29204);k=a(13044);d=a(37509);g=a(52569);n=a(24066);h=a(31276);a(24550);m=a(36129);p=a(91591);q=a(45146);u=a(8825);t=a(3887);w=a(32219);v=a(85001);y=a(32687);x=a(93294);z=a(16520);A=a(5021);B=a(45842);C=a(4246);D=a(65106);E=a(97368);G=a(33059);F=a(36418);J=a(28048);M=a(22365);L=a(60328);K=a(49587);P=a(63156);c.prototype.l_b=function(H){var I,N,R;I=this;if(this.Yy.paused){N=Math.ceil(H.ePb);R=function(X){I.ej.Zy?I.ej.Zy.time=X:I.j7a=X;};N > (this.ej.Zy?this.ej.Zy.time:this.mediaTime) && (this.log.trace("ptsChanged adjusting for initialTimestamp",N),R(N));H.Ona && (this.log.trace("ptsChanged forcedTimestamp",H.Ona),R(H.Ona));}else this.log.error("Unexpected setMediaTime while not paused, ignoring");};c.prototype.N0a=function(){return this.Gb.OL(!1);};c.prototype.d6=function(){return this.Gb.d6();};c.prototype.Gv=function(){return this.Gb.Gv();};c.prototype.XF=function(){return this.Gb.XF();};c.prototype.gU=function(){return this.Gb.gU();};c.prototype.Db=function(){var H,I;H=this;this.log.trace("Video element initializing");this.Gb.sourceBuffers.forEach(function(N){return H.vg.F3b(N);});this.j.zG?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.P}),null === (I=this.j.fb) || void 0 === I?void 0:I.Z4(this.j.P));0 < this.d8.size && setTimeout(function(){H.log.trace("Notifying about licenses that were added before source buffers created");Array.from(H.d8).forEach(function(N){H.d8.delete(N);H.O8a(N);});},0);this.log.trace("Waiting for loadedmetadata");(0,g.iTa)(this.ba,"loadedmetadata",function(){H.log.trace("Video element event: loadedmetadata");H.j.re("md");});d.oe.addListener(d.Wk,this.HU[d.Wk]=function(){return H.close();},l.oJ);this.j.addEventListener(v.ga.og,function(){return H.close();},l.oJ);this.j.addEventListener(v.ga.Tbb,function(){return H.Uwa();});this.j.addEventListener(v.ga.NG,function(){return H.pWb();});this.j.paused.addListener(function(){return H.nl();});this.j.muted.addListener(function(){return H.Vza();});this.j.volume.addListener(function(){return H.Vza();});this.j.playbackRate.addListener(function(){return H.VO();});this.j.Sq.addListener(function(){return H.nl();});this.j.jm.addListener(function(){return H.nl();});this.Vza();this.VO();this.vg.saa(function(){return H.B8();});this.B8();this.B7b();};c.prototype.O8a=function(H){var I;this.j.re("ld",H);null === (I=this.j.fb) || void 0 === I?void 0:I.Z4(H);this.j.fireEvent(v.ga.G5a);};c.prototype.Zia=function(H){var I;I=this;!1;this.vg.Tub(H);this.eyb(H).then(function(){I.B8();I.j.fireEvent(v.ga.XV);}).catch(function(N){I.rd(m.V.Onb,{Nb:(0,t.Ae)(N)});});};c.prototype.Xia=function(H,I,N){N=void 0 === N?{}:N;I=this.fFb(H,I);this.vg.Sub(H,I,N);this.B8();this.L9a || H.type !== L.u.X || (this.ej.C7 || this.seek(this.j.kb,v.oc.xs),this.L9a=!0);};c.prototype.B7b=function(){var H;H=this;this.Gb.addEventListener(z.Th.LX,this.Dw[z.Th.LX]=function(){return H.GWb();});this.Gb.addEventListener(z.Th.$n,this.Dw[z.Th.$n]=function(){return H.y9();});this.ba.addEventListener("ended",this.Dw.ended=function(){return H.iWb();});this.ba.addEventListener("play",this.Dw.play=function(){return H.Xta();});this.ba.addEventListener("pause",this.Dw.pause=function(){return H.Wta();});this.ba.addEventListener("playing",this.Dw.playing=function(){return H.Zta();});this.RB=!0;this.vg.Kfb(this.mediaTime);this.log.trace("Video element initialization complete");this.j.re("vi");f.config.dYa?setTimeout(function(){H.Ita=!0;H.nl();},f.config.dYa):this.Ita=!0;this.a5b();this.j.kd.aa && this.b5b();(0,w.If)(function(){return H.nl();});};c.prototype.a5b=function(){var N;function H(){var R;N.j.zb.value !== v.lb.he || 0 !== (null === (R=N.j.Vd) || void 0 === R?void 0:R.d6()) || M.Ig.hidden?(N.k8a.Ho(),R="stopTimer"):(N.k8a.tB(),R="ensureTimer");N.log.trace("No render timer update: " + R,{presentingState:v.lb[N.j.zb.value],hidden:M.Ig.hidden});}function I(R){var X,ha;R=void 0 === R?!0:R;X=N.j.fb;ha=(null === X || void 0 === X?void 0:X.Bh) && X.M2a();N.j.zb.value == v.lb.Ef && N.j.state.value == v.Wb.fe && N.j.Sq.value == v.tf.fe && N.j.jm.value == v.tf.fe && !N.j.Dh && ha?(R && N.B4.Ho(),N.B4.tB(),X="ensureTimer"):(N.B4.Ho(),X="stopTimer");N.log.trace("Timer update: " + X,{presentingState:v.lb[N.j.zb.value],playbackState:v.Wb[N.j.state.value],avBufferingState:v.tf[N.j.Sq.value],textBufferingState:v.tf[N.j.jm.value],autoplayWasBlocked:N.j.Dh,hasLicense:ha,restartTimer:R});}N=this;f.config.RXa && ((0,q.oa)(!this.B4),this.B4=h.Ba.get(C.NQ)(f.config.RXa,function(){var R;R=h.Ba.get(p.bda).oYa(N.j);N.rd(R.code,R);}),this.j.zb.addListener(function(){return I();}),this.j.Sq.addListener(function(){return I();}),this.j.jm.addListener(function(){return I();}),this.j.state.addListener(function(){return I();}),this.j.addEventListener(v.ga.G5a,function(){return I();}),this.j.addEventListener(v.ga.Dh,function(){return I();}),this.j.addEventListener(v.ga.sja,function(){return I();}),this.j.addEventListener(v.ga.MC,function(){return I(!0);}),I());f.config.j8a && (this.k8a=h.Ba.get(C.NQ)(f.config.j8a,function(){var R;0 === (null === (R=N.j.Vd) || void 0 === R?void 0:R.Gv()) && (R=h.Ba.get(p.bda).oYa(N.j),N.rd(R.code,R));N.j.zb.removeListener(H);d.oe.removeListener(d.qr,N.HU[d.qr]);}),this.j.zb.addListener(H),d.oe.addListener(d.qr,this.HU[d.qr]=H),H());};c.prototype.b5b=function(){var N;function H(){var R,X,ha,ta;ta=N.Gb.sourceBuffers.find(function(la){return la.mediaType === L.u.X;});ta=null !== (R=null === ta || void 0 === ta?void 0:ta.goa()) && void 0 !== R?R:[];1 < ta.length?(R=null !== (ha=null === (X=N.ba) || void 0 === X?void 0:X.readyState) && void 0 !== ha?ha:P.Xj.Xz.HAVE_NOTHING,ha=R < P.Xj.Xz.HAVE_FUTURE_DATA,X=I(ta,N.mediaTime),ha && X?(N.Iba.tB(),ha="ensureTimer"):(N.Iba.Ho(),ha="stopTimer"),N.log.trace("Video Gaps Monitor Timer update: " + ha,{mediaTime:N.mediaTime,bufferedRanges:JSON.stringify(ta),nextRange:JSON.stringify(X),readyState:R})):N.Iba.Ho();}function I(R,X){return R.find(function(ha,ta){if(Math.abs(X - ha.end) < Math.abs(X - ha.start))return !1;ha=ha.end - ha.start;return ta !== R.length - 1 && ha < f.config.KG?!1:!0;});}N=this;f.config.chb && ((0,q.oa)(!this.Iba),this.Iba=h.Ba.get(C.NQ)(f.config.chb,function(){var R,X;X=N.Gb.sourceBuffers.find(function(ha){return ha.mediaType === L.u.X;});X=null !== (R=null === X || void 0 === X?void 0:X.goa()) && void 0 !== R?R:[];if(R=I(X,N.mediaTime))(N.log.error("Detected media gaps: seeking over gap",{seekPoint:R.start,ranges:JSON.stringify(X)}),N.Gb.t1b(),N.seek(R.start,v.oc.mea));}),this.j.mediaTime.addListener(H),this.j.Gb.addEventListener(z.Th.vab,H),this.j.addEventListener(v.ga.XV,H),H());};c.prototype.fFb=function(H,I){var N;N=this.j.je;(N=(0,J.Jqa)(N)?N.QL():void 0) && H.type === L.u.X && ((H=new F.$P(this.log,{mediaType:L.u.X,url:"http://some-url"},I).Ja(N))?I=H:!1);return I;};c.prototype.B8=function(){this.RB && this.nl();this.vg.xVa();};c.prototype.l5b=function(){!1;this.j.zb.set(v.lb.Ef);this.D7=!0;this.nl();};c.prototype.szb=function(){var H;H=this;this.D7 && (!1,this.D7=!1,(0,w.If)(function(){return H.seek(H.j.FB() || 0,v.oc.LQ);}));};c.prototype.T5=function(){return this.vg.T5();};c.prototype.n9=function(H){var I;I=this;this.vg.I3b(H);(0,w.If)(function(){return I.nl();});};c.prototype.PKb=function(){return {z4:this.z4,c9:this.c9};};c.prototype.eyb=function(H){var I;I=this.Gb && this.Gb.v1a();(0,q.oa)(this.j.iq,"Player duration should be defined before appends start (ase did not fire segmentNormalized event)");this.j.iq && I && (H=Infinity !== H.hcb?H.hcb + H.u$:H.HC,H > this.j.iq.s$a(A.pa) && (this.j.iq=(0,A.Ob)(H)));return Promise.resolve();};c.prototype.SXb=function(){var H,I;H=this;this.ej.T9 && (!1,this.Pja() && this.vg.Nla(this.mediaTime) && (this.Gb.seek(null !== (I=this.j7a) && void 0 !== I?I:this.mediaTime),this.j7a=void 0,this.ej.T9=!1,(0,w.If)(function(){return H.nl();})));};c.prototype.w8b=function(H){var I;if(H < this.mediaTime){I=this.mediaTime - H;f.config.UXb && H && I > x.j1 && (H={ElementTime:(0,u.bh)(H),MediaTime:(0,u.bh)(this.mediaTime)},I > x.iNa?this.rd(m.V.Ynb,{Nb:Object.assign({Trace:this.Gb.HB()},H)}):this.log.warn("VIDEO.currentTime became smaller",H));}else this.mediaTime=(0,u.fx)(H,0,this.j.iq.ea(A.pa));};c.prototype.Pja=function(){return this.j.Sq.value === v.tf.fe && this.j.jm.value === v.tf.fe;};c.prototype.vzb=function(){var H,I,N;H=this;I=this.j.zb.value;N=I;this.ej.C7?N=v.lb.Ef:this.ba && this.ba.ended?I === v.lb.he && (N=v.lb.zq):this.Pja() && this.vg.Nla(this.mediaTime)?this.Gb.oEb()?N=this.Yy.paused?v.lb.Kg:v.lb.he:this.l6b.Pj(function(){return H.k6b();}):N=this.j.iq?this.j.K2a(this.mediaTime,this.vg.y4())?v.lb.Ef:v.lb.zq:v.lb.Ef;return N;};c.prototype.aua=function(){var H;if(this.j.zb.value === v.lb.Ef){H=this.vg.W6b() > this.vg.y4();this.j.jm.value !== v.tf.fe?this.j.$h.value?(this.j.fireEvent(v.ga.Kx,{Xb:k.ULa}),this.log.warn("rebuffer due to timed text",this.j.$h.value.ug)):this.j.fireEvent(v.ga.KO):H?(this.z4++,this.j.fireEvent(v.ga.Kx,{Xb:k.ffa})):(this.c9++,this.j.fireEvent(v.ga.Kx,{Xb:k.gfa}));}};c.prototype.k6b=function(){this.Xl() || (f.config.zVb && this.vg.yVb(),this.nl());};c.prototype.GWb=function(){this.nl();};c.prototype.y9=function(){this.nl();this.j.fireEvent(v.ga.$n);};c.prototype.iWb=function(){this.log.trace("Video element event: ended");this.nl();};c.prototype.Xta=function(){this.log.trace("Video element event: play");this.nl();};c.prototype.Wta=function(){this.log.trace("Video element event: pause");this.Yy.Wta();this.nl();};c.prototype.Zta=function(){this.log.trace("Video element event: playing");this.Yy.Xta();this.nl();};c.prototype.Vza=function(){this.Xl() || (this.ba && this.ba.volume !== this.j.volume.value && (this.ba.volume=this.j.volume.value),this.ba && this.ba.muted !== this.j.muted.value && (this.ba.muted=this.j.muted.value));};c.prototype.VO=function(){!this.Xl() && this.ba && (this.ba.playbackRate=this.j.playbackRate.value);};c.prototype.Uwa=function(){var H;H=this;!this.Xl() && (0,y.Xc)(this.ba) && !this.ba.ended && this.Ita && this.Yy.paused && (this.log.trace("Calling play on element"),Promise.resolve(this.Yy.play()).then(function(){H.closed || (H.Xua=!1,H.ba.style.display=null,H.j.Dh=!1,H.j.fireEvent(v.ga.sja));}).catch(function(I){"NotAllowedError" === I.name?(H.log.warn("Playback is blocked by the browser settings",I),H.j.Dh=!0,H.closed || (H.Xua=!0,H.ba.style.display="none",H.j.fireEvent(v.ga.Dh,{player:{play:function(){return H.Uwa();}}}))):H.closed || H.X9a || (H.X9a=!0,H.log.error("Play promise rejected",I));}));};c.prototype.pWb=function(){this.ej.v5a=this.j.FB() || 0;};c.prototype.Twa=function(){this.Xl() || !(0,y.Xc)(this.ba) || this.ba.ended || !this.Ita || this.Yy.paused || (this.log.trace("Calling pause on element"),this.Yy.pause());};c.prototype.rgb=function(H){this.j.mediaTime.set(this.mediaTime);H && this.j.mIb();};c.prototype.seek=function(H,I,N,R){var X,ha;N=void 0 === N?this.j.I:N;R=void 0 === R?!1:R;ha=null === (X=this.j.fb) || void 0 === X?void 0:X.Bh;!this.Xl() && ha && (this.j.fireEvent(v.ga.MC,{Xb:I}),this.ej.Zy={time:H,Xb:I,I:N,vIb:R},this.j.zb.set(v.lb.Ef),this.nl());};c.prototype.TXb=function(){var H,I,N,R,X,ha,ta,la;if(this.ej.Zy){H=this.ej.Zy;I=H.time;N=H.Xb;R=H.I;X=H.vIb;if(!this.vg.ph() || N === v.oc.xs){H=this.j.Vi(R).P;ha=this.vg.ph()?void 0:this.vg.HJb();ha=this.ej.vLb(I,N,R,X,ha);R=ha.e9;X=ha.Zq;ta=ha.vYb;ha=ha.di;this.vg.rka(this.mediaTime);la=this.mediaTime;I=(0,u.bh)(I);this.j.TE("SEEKING: Requested: (" + H + ":" + N + ":" + I + ") - Actual: (contentPts: " + X + ",playerPts: " + (ta + ", newMediaTime: " + R + ")"));this.log.info("Seeking",{Requested:I,Actual:(0,u.bh)(R),Cause:N,Skip:ha});N === v.oc.xs || ha || (this.vg.wbb(),this.vg.B3b());this.mediaTime=R;this.ej.v5a=X;I=this.j.nf.value;ta=this.j.Zd.value;this.j.nf.set(null);this.j.Zd.set(null);this.rgb(!0);this.ej.Zy=void 0;this.ej.T9=!0;this.j.fireEvent(v.ga.Ij,{Jta:la,e9:R,Zq:X,Xb:N,skip:ha,nf:I,Zd:ta,P:H});ha && this.vg.skip(R);}}};c.prototype.rd=function(H,I,N){this.closed || this.j.rd(H,I,N);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.vg.close();this.Gb.removeEventListener(z.Th.LX,this.g7a[z.Th.LX]);this.Gb.removeEventListener(z.Th.$n,this.g7a[z.Th.$n]);this.ba.removeEventListener("ended",this.Dw.ended);this.ba.removeEventListener("play",this.Dw.play);this.ba.removeEventListener("pause",this.Dw.pause);this.ba.removeEventListener("playing",this.Dw.playing);this.Yy.close();d.oe.removeListener(d.Wk,this.HU[d.Wk]);d.oe.removeListener(d.qr,this.HU[d.qr]);this.closed=!0;try{this.ba.volume=0;this.ba.muted=!0;this.Twa();this.Gb.close();}catch(H){}this.ba=void 0;this.vg.wbb();}};c.prototype.Xl=function(){return this.closed?!0:(0,y.Xc)(this.ba)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};Ya.Object.defineProperties(c.prototype,{Kdb:{configurable:!0,enumerable:!0,get:function(){var H,I;H=this;return !(null === (I=this.j.fb) || void 0 === I || !I.Cg) && [].concat(ba(this.j.fb.Cg)).every(function(N){return H.Gb.sourceBuffers.find(function(R){return R.mediaType === N;});});}}});b.nJa=c;},93294:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.iNa=b.j1=b.i6=void 0;c=a(60328);l=a(36129);b.i6=function(f){return f === c.u.$?l.S.pea:l.S.qea;};b.j1=50;b.iNa=1E3;},53754:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p){var u,t;function q(){u.UR=new h.dPa();return u.UR;}(0,l.Ui)("MediaSourceASE").trace("Inside MediaSourceASE");u=this;t=p.nLb();u.rRa=t;u.readyState=m.Nc.CLOSED;u.addSourceBuffer=function(w){return w === n.u.Ga?q():t.addSourceBuffer(w);};u.mS=function(w){w.includes(n.u.Ga) && q();return t.mS(w);};u.removeSourceBuffer=function(w){if(w.mediaType === n.u.Ga)u.UR=void 0;else return ((0,g.oa)(w.mediaType === n.u.Ga,"Unexpected removeSourceBuffer. Only TEXT is expected to ever be removed."),t.removeSourceBuffer(w));};u.pt=function(w){u.UR=void 0;t.pt(w);};u.duration=void 0;this.readyState=m.Nc.OPEN;this.zf=f.Ba.get(k.dh).nC(m.zf,{});p=new d.EventEmitter();p.on("subtitleData",function(w){(0,g.oa)(t.j.Mb.value,"Unexpected AseSubtitleEvent. No current timedTextTrack.");t.j.Mb.value.Nva(w);});this.events=p;}Object.defineProperty(b,"__esModule",{value:!0});b.sJa=void 0;l=a(31276);f=a(31276);k=a(74870);d=a(57055);g=a(45146);n=a(93161);h=a(91515);Object.defineProperty(c.prototype,"sourceBuffers",{get:function(){return this.UR?this.rRa.sourceBuffers.concat(this.UR):this.rRa.sourceBuffers;}});Object.defineProperty(c.prototype,"duration",{get:function(){return this.oj;},set:function(p){var q;this.oj=p || Infinity;q=Math.floor(1E3 * p) || Infinity;this.sourceBuffers.forEach(function(u){u.oj=q;});}});m={Nc:{CLOSED:0,OPEN:1,zq:2,name:["CLOSED","OPEN","ENDED"]},zf:{bzb:!0,LUb:!0}};b.sJa=Object.assign(c,m);},69931:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Wfa=b.Vfa=void 0;r=a(50954);a={};b.Vfa=(a[r.Dq]={id:-1,name:"hardcoded",bc:1,type:"hardcoded",Z5a:"-1",eQb:!1,location:{id:"-1",bc:1,level:100,weight:1}},a);a={};b.Wfa=(a[r.Dq]={track:{type:"padding",trackId:"padding",wh:"padding",Bf:"padding",zC:"other",ye:"padding",KC:"padding",tG:"padding",ug:{}},type:"padding",Vb:"-1",bitrate:1,xb:100,Fd:"unknown",size:1,ima:{},ug:{},Uk:"",framerate:0,ki:!1,Di:[],height:1,width:1},a);},6305:function(r,b,a){var l,f,k;function c(d,g,n,h,m,p,q,u,t,w,v){this.track=d;this.type=g;this.Vb=n;this.bitrate=h;this.xb=m;this.size=p;this.ima=q;this.Fd=u;this.framerate=t;this.ki=w;this.Di=v;this.ug={Type:g,Bitrate:h,DownloadableId:n};}Object.defineProperty(b,"__esModule",{value:!0});b.Bjb=b.MediaStream=void 0;l=a(33096);f=a(32687);k=a(51344);c.prototype.toJSON=function(){return this.ug;};c.prototype.P3b=function(d,g,n,h){(0,f.Xc)(d) && (0,f.Xc)(g) && (this.width=d,this.height=g,(0,f.Sb)(n) && (0,f.Sb)(h) && (this.width=Math.round(n / h * d)),this.ug.Resolution=(this.width || "") + ":" + (this.height || ""));};c.prototype.d3b=function(d,g,n,h,m,p){(0,f.Xc)(d) && (0,f.Xc)(g) && (0,f.Xc)(n) && (0,f.Xc)(h) && (this.tla=d,this.yXa=g,this.xXa=n,this.wXa=h);(0,f.Xc)(m) && (0,f.Xc)(p) && (this.S9a=m,this.T9a=p);};b.MediaStream=c;b.Bjb=function(d,g,n,h,m){if(d == l.B0 || d === k.Zj.audio)return g;if(d == l.kQ || d === k.Zj.video)return n;if(d == k.Zj.gza)return h;if(d == k.Zj.yza)return m;};},51344:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zj={audio:"audio",video:"video",gza:"timedtext",yza:"trickplay"};},62439:function(r,b,a){var l,f,k,d,g,n,h;function c(m){var p,q,u,t;p=this;this.j=m;this.bT=void 0;this.Rga=(0,f.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.Hga=(0,f.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.Aga=(0,f.createElement)("DIV","width:100%;text-align:center");this.Epb=this.Kga("Audio Bitrate");this.fia=this.Kga("Video Bitrate / VMAF");this.Ega=this.Kga("CDN");this.BR={};this.GU=k.Ba.get(d.Dn);this.Rga.appendChild(this.Hga);this.Hga.appendChild(this.Aga);q=(0,f.createElement)("BUTTON",void 0,"Override");q.addEventListener("click",this.Dpb.bind(this),!1);this.Aga.appendChild(q);q=(0,f.createElement)("BUTTON",void 0,"Reset");q.addEventListener("click",this.Sha.bind(this),!1);this.Aga.appendChild(q);u=this.Trb.bind(this);l.oe.addListener(l.JB,u);m.addEventListener(n.ga.NG,function(){p.BR={};});m.addEventListener(n.ga.og,function(){l.oe.removeListener(l.JB,u);});t=this.psb.bind(this);m.Dc.forEach(function(w){w.addListener(t);});m.uc.addListener(t);m.Gg.addListener(t);}Object.defineProperty(b,"__esModule",{value:!0});b.hMa=void 0;l=a(37509);f=a(52569);k=a(31276);d=a(34231);g=a(43193);n=a(85001);h=a(60328);c.prototype.show=function(){this.YR || (this.ZRa(),document.body.appendChild(this.Rga),this.YR=!0);};c.prototype.Jv=function(){this.YR && (document.body.removeChild(this.Rga),this.YR=!1);};c.prototype.toggle=function(){this.YR?this.Jv():this.show();};c.prototype.cgb=function(){var q,u,t,w;function m(v,y,x){var z,A,B;A=[];y.filter(function(C){return C.Fd === v;}).forEach(function(C){0 <= x.indexOf(C)?(void 0 === B?B=C.bitrate:z=C.bitrate,void 0 === z && (z=C.bitrate)):void 0 !== B && void 0 !== z && (A.push({min:B,max:z}),B=z=void 0);});if(void 0 !== B && void 0 !== z){A.push({min:B,max:z});B=z=void 0;}return A;}function p(v,y,x){var z;z=[];y.filter(function(A){return A.Fd === v;}).forEach(function(A){-1 === x.indexOf(A) && z.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return z;}u=this.j.jt();t=this.j.IB().sort(function(v,y){return v.bitrate - y.bitrate;});w=t.reduce(function(v,y){0 > v.indexOf(y.Fd) && v.push(y.Fd);return v;},[]).map(function(v){return {profile:v,ranges:m(v,t,u),disallowed:p(v,t,u)};});!1;null === (q=this.j.fb) || void 0 === q?void 0:q.xaa(w,this.j.P);};c.prototype.Dpb=function(){var q,u;this.BR={};for(var m=this.fia.options,p=m.length;p--;){q=m[p];q.selected && (this.BR[q.value]=1);}this.bT=this.Upb.bind(this);this.cgb();if(m=this.j.ng){u=this.Ega.value;m=m.filter(function(t){return t.id == u;})[0];p=this.j.Dc[h.u.X].value;m && m != p && (m.nVa={testreason:"streammanager",selreason:"userselection"},this.j.Dc[h.u.X].set(m));}this.Jv();};c.prototype.Sha=function(){this.bT=void 0;this.j.ddb(this.j.P);this.Jv();};c.prototype.Upb=function(){var m;m=this;return this.j.IB().filter(function(p){return m.BR[p.bitrate];});};c.prototype.ZRa=function(){var m,p,q,u;m=this;p=this.j.uc.value;q=this.j.Gg.value;u=this.j.ng;p && (u=u.slice(),u.sort(function(t,w){return t.bc - w.bc;}),this.Xha(this.Epb,p.streams.map(function(t){return {value:t.bitrate,caption:t.bitrate,selected:t == m.j.Mg.value};})));q && (this.Xha(this.fia,q.streams.map(function(t){var w,v,y;w=m.j.SM.vz(t);v=t.bitrate;t=t.xb;y="" + v;t && (y+=" / " + t);w && (y+=" (" + w.join("|") + ")");return {value:v,caption:y,selected:m.bT?m.BR[v]:!w};})),this.fia.removeAttribute("disabled"));u && (this.Xha(this.Ega,u.map(function(t){return {value:t.id,caption:"[" + t.id + "] " + t.name,selected:t == m.j.Dc[h.u.X].value};})),this.Ega.removeAttribute("disabled"));};c.prototype.psb=function(){this.YR && this.ZRa();};c.prototype.Kga=function(m){var p,q;p=(0,f.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");m=(0,f.createElement)("DIV",void 0,m);q=(0,f.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(m);p.appendChild(q);this.Hga.appendChild(p);return q;};c.prototype.Xha=function(m,p){m.innerHTML="";p.forEach(function(q){var u;u={title:q.caption};q.selected && (u.selected="selected");u=(0,f.createElement)("option",void 0,q.caption,u);u.value=q.value;m.appendChild(u);});};c.prototype.Trb=function(m){m.ctrlKey && m.altKey && m.shiftKey && m.keyCode == g.Zz.IZ && this.GU.dra && this.toggle();};b.hMa=c;},79173:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.aNa=void 0;c=a(31276);l=a(61726);b.aNa=(function(){(0,c.Ui)("ProbeDownloader");return {YT:function(f){f={url:f.url,DZb:f};!1;l.Je.GZb(f);}};})();},27758:function(r,b,a){var l,f,k,d,g,n,h;function c(){var m;m=new f.Yj();this.addEventListener=m.addListener.bind(this);this.removeEventListener=m.removeListener.bind(this);this.emit=m.Ec.bind(this);this.t2=n++;this.Ji=(0,k.Ui)("ProbeRequest");this.LRa=l.aNa;(0,d.oa)(void 0 !== this.LRa);this.Ue=b.kj.Nc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.kj=void 0;l=a(79173);f=a(94886);k=a(31276);d=a(45146);g=a(3887);n=0;(function(){function m(){return JSON.stringify({url:this.cf,id:this.t2,affected:this.I1,readystate:this.Ue});}(0,g.Xd)(c.prototype,{cN:function(p){this.Ue !== b.kj.Nc.v_ && this.Ue !== b.kj.Nc.DONE && (this.y2=p,p={url:this.cf,affected:this.I1,probed:{requestId:this.t2,url:this.cf,Rc:this.SR,groupId:this.c2}},200 <= this.y2 && 299 >= this.y2?(this.Ue=b.kj.Nc.DONE,this.emit(b.kj.Ik.wQ,p)):(this.Ue=b.kj.Nc.v_,this.emit(b.kj.Ik.dA,p)));},Ata:function(p){this.Ue !== b.kj.Nc.v_ && this.Ue !== b.kj.Nc.DONE && (this.y2=p,p={url:this.cf,affected:this.I1,probed:{requestId:this.t2,url:this.cf,Rc:this.SR,groupId:this.c2}},this.Ue=b.kj.Nc.v_,this.emit(b.kj.Ik.dA,p));},open:function(p,q,u){if(!p)return (!1,!1);this.cf=p;this.I1=q;this.SR=u;this.Ue=b.kj.Nc.OPENED;this.LRa.YT(this);this.Ue=b.kj.Nc.kx;return !0;},$e:function(){!1;return !0;},Wi:function(){return this.t2;},toString:m,toJSON:m});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.Ue;}},status:{get:function(){return this.y2;}},url:{get:function(){return this.cf;}},Pec:{get:function(){return this.I1;}}});})();(function(m){m.Ik={wQ:"pr0",dA:"pr1"};m.Nc={UNSENT:0,OPENED:1,kx:2,DONE:3,v_:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(h || (h={}));b.kj=Object.assign(c,h);},59405:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(29204);l=a(33096);r=a(36129);f=a(31276);k=a(69484);a=a(11479);f.Ba.get(a.Rh).register(r.V.RGa,function(d){c.config.WIb && f.Ba.get(k.BFa).start();d(l.dg);});},91515:function(r,b,a){var l;function c(){this.mediaType=l.u.Ga;}Object.defineProperty(b,"__esModule",{value:!0});b.dPa=void 0;l=a(93161);c.prototype.appendBuffer=function(){return !0;};c.prototype.cdb=function(){};b.dPa=c;},49587:function(r,b){function a(c,l){this.j=l;this.iH=!0;this.oba=!1;this.ba=c;}Object.defineProperty(b,"__esModule",{value:!0});b.IPa=void 0;a.prototype.Xta=function(){this.iH && (this.iH=!1,this.j.paused.set(!1));};a.prototype.Wta=function(){this.iH || (this.iH=!0,this.j.paused.set(!0));};a.prototype.pause=function(){var c;this.paused || (this.iH=!0,null === (c=this.ba) || void 0 === c?void 0:c.pause());};a.prototype.play=function(){var c,l;c=this;return this.paused && !this.oba?(this.oba=!0,Promise.resolve(null === (l=this.ba) || void 0 === l?void 0:l.play()).then(function(){c.oba=!1;}).catch(function(f){var k;c.oba=!1;c.iH=!(null === (k=c.ba) || void 0 === k || !k.paused);throw f;})):Promise.resolve();};a.prototype.close=function(){this.ba=void 0;};Ya.Object.defineProperties(a.prototype,{paused:{configurable:!0,enumerable:!0,get:function(){return this.iH;}}});b.IPa=a;},20318:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.vp=b.wib=void 0;b.wib=a;b.vp=new a();},70632:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z;Object.defineProperty(b,"__esModule",{value:!0});c=a(5163);l=a(93161);f=a(51790);k=a(27758);d=a(90762);g=a(29204);n=a(33096);h=a(67263);m=a(53754);p=a(24066);r=a(36129);q=a(31276);u=a(21941);t=a(22365);w=a(59416);b=a(11479);v=a(13044);y=a(20318);x=a(2248);z=a(84408);q.Ba.get(b.Rh).register(r.V.PGa,function(A){var B,C,D,E,G,F,J,M,L;B=q.Ba.get(u.VJa).oCb();C=q.Ba.get(h.eda).IP;D=q.Ba.get(f.pJa).Uo;E=q.Ba.get(x.$g);G=q.Ba.get(z.Jq);F={Y9:(0,q.$T)("ASE"),fvb:(0,q.$T)("JS-ASE",void 0,"Platform"),Ui:q.$T,storage:w.storage,CLb:t.QDa,getTime:p.Xn,x4:function(K){return E.decode(K).buffer;},Mla:function(K){return G.encode(K);},BM:{},Uo:D,kj:k.kj,IP:C,MediaSource:m.sJa,SourceBuffer:d.uea,nU:function(){return [g.config.f3,g.config.i3,g.config.h3];},jt:function(K){v.In.forEach(function(P){P.ddb(K);});}};C=new Promise(function(K){w.storage.load("nh",function(P){F.BM.nh=P.ia?P.data:void 0;K();});});D=new Promise(function(K){w.storage.load("lh",function(P){F.BM.lh=P.ia?P.data:void 0;K();});});J=new Promise(function(K){w.storage.load("gh",function(P){F.BM.gh=P.ia?P.data:void 0;K();});});M=new Promise(function(K){w.storage.load("sth",function(P){F.BM.sth=P.ia?P.data:void 0;K();});});L=new Promise(function(K){w.storage.load("vb",function(P){F.BM.vb=P.ia?P.data:void 0;K();});});Promise.all([C,D,L,M,J]).then(function(){return c.__awaiter(this,void 0,void 0,function P(){var H,I;return Ja(P,function(N){if(1 == N.Uv)return (H=a(92623)(F),y.vp.bi=a(21457),y.vp.bi.declare(l.Aj),y.vp.bi.set(a(87141)(g.config),!0,(0,q.$T)("ASE")),Ma(N,l.VL(H),2));I=N.uZ;I.open(y.vp.bi,B);I.Z2b({audio:g.config.f3,video:g.config.i3,text:g.config.h3},{G:g.config.LM,xa:void 0});y.vp.Ph=I;A(n.dg);N.Uv=0;});});}).catch(function(K){F.Y9.error("Exception loading location history from local storage",K);});});},39480:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.XLa=void 0;c=a(33096);l=a(29204);f=a(24066);k=a(8825);d=a(22365);g=a(32219);n=a(32687);h=a(85001);b.XLa=function(m){var t,w,v,y,x,z;function p(){return m.state.value === h.Wb.LOADING || m.state.value === h.Wb.fe && m.zb.value === h.lb.Ef;}function q(){p()?z || (z=setInterval(u,100)):z && (clearInterval(z),z=void 0,(0,g.If)(u));}function u(){var A,B,C,D,E,G,F,J;A=(0,f.Xn)();B=t.value;C=B?B.progress:0;D=m.state.value == h.Wb.LOADING || p() && A - w > l.config.$wb;if(D && m.state.value == h.Wb.fe){if(m.Qd.value === h.tf.INa)(E=C,G=!0);else {F=A;v=v || A;y=y || v + l.config.gUb + 1;(0,n.Sb)(F) && (F=(0,d.As)(F,y),E=(0,d.Fn)(1E3 * (0,k.fx)((A - v) / (F - v),0,.99)) / 1E3);}if(E < C)if(C - E < l.config.b_b / 100)(E=C,x=void 0);else if(x){if(A - x > l.config.a_b){J=!0;x=void 0;}else E=C;}else (x=A,E=C);}else x=y=v=void 0;A=D?{$r:G,progress:E,c_b:J}:null;(!A || !t || !B || (0,n.Sb)(A.progress) && !(0,n.Sb)(B.progress) || (0,n.Sb)(A.progress) && (0,n.Sb)(B.progress) && .01 < (0,d.C0)(A.progress - B.progress) || A.$r !== B.$r) && t.set(A);}t=m.Tja;w=0;m.state.addListener(function(){q();u();},c.Hea);m.zb.addListener(function(A){if(A.oldValue !== h.lb.Ef || A.newValue !== h.lb.Ef)w=(0,f.Xn)();q();});m.Qd.addListener(function(){q();});m.Sq.addListener(function(){q();});m.jm.addListener(function(){q();});z || (z=setInterval(u,100));};},13044:function(r,b,a){var l,f;function c(k,d){var g;g=b.In[0];g == d && (g=b.In[1]);g?g.close(function(){c(k,d);}):k && k(l.dg);}Object.defineProperty(b,"__esModule",{value:!0});b.WLa=b.ULa=b.ffa=b.gfa=b.eA=b.hfa=b.VLa=b.kfa=b.jfa=b.In=b.YLa=b.ifa=void 0;l=a(33096);f=a(45146);b.ifa=c;b.YLa=function(k,d){switch(k){case b.VLa:b.jfa.push(d);return;case b.hfa:b.kfa.push(d);return;}(0,f.oa)(!1);};b.In=[];b.jfa=[];b.kfa=[];b.VLa=1;b.hfa=3;b.eA={index:0,O7a:void 0,Dna:void 0};b.gfa="network";b.ffa="media";b.ULa="timedtext";b.WLa="playback";},30689:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(29204);l=a(33096);r=a(36129);f=a(31276);b=a(11479);k=a(66476);f.Ba.get(b.Rh).register(r.V.WGa,function(g){var n,h,m;if(c.config.Qr){n=(0,f.Ui)("PlayerPredictionModel");h=f.Ba.get(k.bE);m=a(99886);n.log=n.trace.bind(n);d=new m({},n,{sX:function(){},U0b:function(){}},h,{qH:function(){}});ob._cad_global.playerPredictionModel=d;n.info("ppm v2 initialized");}g(l.dg);});},22365:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kra=b.localStorage=b.ROb=b.indexedDB=b.MJa=b.Gp=b.cA=b.bA=b.URL=b.K0=b.Qmb=b.XIa=b.WIa=b.C0=b.D0=b.$w=b.As=b.Fn=b.Gmb=b.jJ=b.GOa=b.QDa=b.dnb=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.Gx=b.Pmb=b.Ig=b.Lu=b.NJa=b.Ou=b.J0=b.QD=void 0;r=ob;b.Ee=r.navigator;b.QD=null === b.Ee || void 0 === b.Ee?void 0:b.Ee.userAgent;b.J0=r.location;b.Ou=r.screen;b.NJa=r.devicePixelRatio;b.Lu=r.performance;b.Ig=r.document;b.Pmb=b.Ig.documentElement;b.Gx=Array.prototype;b.sort=b.Gx.sort;b.map=b.Gx.map;b.slice=b.Gx.slice;b.every=b.Gx.every;b.reduce=b.Gx.reduce;b.filter=b.Gx.filter;b.forEach=b.Gx.forEach;b.pop=b.Gx.pop;b.dnb=Object.create;b.QDa=Date.now;b.GOa=String.fromCharCode;b.jJ=Math.floor;b.Gmb=Math.ceil;b.Fn=Math.round;b.As=Math.max;b.$w=Math.min;b.D0=Math.random;b.C0=Math.abs;b.WIa=Math.pow;b.XIa=Math.sqrt;b.Qmb=r.escape;b.K0=r.unescape;b.URL=r.URL || r.webkitURL;b.bA=r.MediaSource || r.WebKitMediaSource;b.cA=r.webkitCrypto || r.msCrypto || r.crypto;b.Gp=b.cA && (b.cA.webkitSubtle || b.cA.subtle);b.MJa=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.ROb=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.Kra=a || "noex";}},59416:function(r,b,a){var c,l,f,k,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(29204);l=a(33096);f=a(50350);r=a(36129);k=a(75876);d=a(19630);g=a(31276);a=a(11479);b.storage=b.storage || void 0;g.Ba.get(a.Rh).register(r.V.XGa,function(n){var h;switch(c.config.s5b){case "idb":h=k.beb;break;case "none":h=f.deb;break;case "ls":h=d.ceb;}h(function(m){m.ia?(b.storage=m.storage,n(l.dg)):n(m);});});},75876:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.beb=void 0;c=a(31276);l=a(17892);f=a(74870);k=a(6675);b.beb=function(d){c.Ba.get(l.Kw).create().then(function(g){d({ia:!0,storage:new k.Zda(g,c.Ba.get(f.dh))});}).catch(function(g){d(g);});};},19630:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.ceb=void 0;c=a(6675);l=a(31276);f=a(56278);k=a(74870);b.ceb=function(d){d({ia:!0,storage:new c.Zda(l.Ba.get(f.fIa),l.Ba.get(k.dh))});};},50350:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.deb=void 0;c=a(33096);l=a(31276);f=a(36129);a(3887);b.deb=function(k){var d;(0,l.Ui)("Storage");d={};k({ia:!0,storage:{load:function(g,n){var h;if(d.hasOwnProperty(g)){h=d[g];!1;n({ia:!0,data:h,Paa:g});}else (!1,n({za:f.S.lx}));},save:function(g,n,h,m){h && d.hasOwnProperty(g)?m({ia:!1}):(d[g]=n,!1,m && m({ia:!0,Paa:g}));},remove:function(g,n){delete d[g];!1;n && n(c.dg);}}});};},50040:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.gI=void 0;c=a(33096);l=a(29204);f=a(37509);k=a(24066);d=a(36129);g=a(45146);n=a(31276);h=a(3887);m=a(22365);p=a(59416);q=a(32687);r=a(11479);n.Ba.get(r.Rh).register(d.V.YGa,function(u){var v,y,x;function t(){var z;t=c.dx;z=setInterval(w,l.config.nSb);f.oe.addListener(f.Wk,function(A){A && A.isPopStateEvent?v.trace("popstate event, Lock timers can stay"):((0,h.Wf)(y,function(B,C){localStorage.removeItem(C.Fr);}),clearInterval(z));},c.oJ);}function w(){var z;z=(0,k.Ika)();(0,h.Wf)(y,function(A,B){!1;A=localStorage.getItem(B.Fr);(A=JSON.parse(A))?A.updated=z:A={updated:z,sessionId:x,count:1};localStorage.setItem(B.Fr,JSON.stringify(A));});}(0,g.oa)(p.storage);v=(0,n.Ui)("StorageLock");y={};x=Date.now() + "-" + Math.floor(1E6 * Math.random());b.gI={Ws:function(z,A,B){var D,E,G,F,J,M,L,K,P,H;function C(I){localStorage.setItem(G,JSON.stringify(I));I={Fr:G};y[G]=I;v.trace("Lock acquired",{Name:I.Fr});t();A({ia:!0,l8:I});}D=this;B=void 0 === B?!1:B;if(localStorage){E=(0,k.Ika)();G="lock-" + z;F={updated:E,sessionId:x,count:1};try{if((G in localStorage)){J=localStorage.getItem(G);M=0;L=JSON.parse(J);(0,q.ZB)(L.updated) && (M=L.updated);K=(0,m.C0)(E - M) * c.zs;P=x === L.sessionId;if(K < l.config.b6a){if(P)(L.count+=1,v.debug("Incremented lock count for existing playbackSession",{id:x,count:L.count}),L.updated=E,C(L));else if(B){H=l.config.b6a - K + c.zs;v.error("Waiting until current expiration to confirm whether lock is still active",{id:x,count:L.count,Epoch:E,LockEpoch:M,waitTimeoutMs:H});ob.setTimeout(function(){return D.Ws(z,A,!1);},H);}else A({ia:!1});}else (v.error("Lock was expired or invalid, ignoring",{Epoch:E,LockEpoch:M}),C(F));}else C(F);}catch(I){v.error("Error acquiring Lock",{errorSubCode:d.S.sl,errorDetails:(0,h.Ae)(I)});A({ia:!0});}}else (m.Kra?v.error("Local storage access exception",{errorSubCode:d.S.Uob,errorDetails:(0,h.Ae)(m.Kra)}):v.error("No localstorage",{errorSubCode:d.S.Vob}),A({ia:!0}));},release:function(z,A){var B,C;(0,g.oa)(y[z.Fr] == z);if(localStorage){try{B=localStorage.getItem(z.Fr);C=JSON.parse(B);C && 1 < C.count?(--C.count,localStorage.setItem(z.Fr,JSON.stringify(C)),v.trace("Lock count decremented",{Name:z.Fr,count:C.count})):(localStorage.removeItem(z.Fr),delete y[z.Fr],v.trace("Lock released",{Name:z.Fr}));}catch(D){v.error("Unable to release Lock",{Name:z.Fr},D);}A && A(c.dg);}}};l.config.i5?b.gI.Ws("session",function(z){b.gI.zcb=z;u(c.dg);}):u(c.dg);});},991:function(r,b,a){var k,d,g,n;function c(h,m,p,q){var u,t,w;(0,k.oa)((0,n.Lt)(h) && !(0,n.isArray)(h));q=q || "";u="";t=h.hasOwnProperty(g.sZ) && h[g.sZ];t && (0,d.Wf)(t,function(v,y){u && (u+=" ");u+=v + '="' + f(y) + '"';});p=(m?m + ":":"") + p;t=q + "<" + p + (u?" " + u:"");w=h.hasOwnProperty(g.Iw) && h[g.Iw].trim && "" !== h[g.Iw].trim() && h[g.Iw];if(w)return t + ">" + f(w) + "</" + p + ">";h=l(h,m,q + "  ");return t + (h?">\n" + h + "\n" + q + "</" + p + ">":"/>");}function l(h,m,p){var q;(0,k.oa)((0,n.Lt)(h) && !(0,n.isArray)(h));p=p || "";q="";(0,d.Wf)(h,function(u,t){var y;if("$" != u[0])for(var w=(0,d.Qv)(t),v=0;v < w.length;v++){if((t=w[v],q && (q+="\n"),(0,n.Lt)(t)))q+=c(t,m,u,p);else {y=(m?m + ":":"") + u;q+=p + "<" + y + ">" + f(t) + "</" + y + ">";}}});return q;}function f(h){if((0,n.tg)(h))return (0,d.Wpa)(h);if((0,n.Sb)(h))return ((0,k.gT)(h,"Convert non-integer numbers to string for xml serialization."),"" + h);if(null === h || void 0 === h)return "";(0,k.oa)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.e7b=b.RQb=b.QQb=void 0;k=a(45146);d=a(3887);g=a(62604);n=a(32687);b.QQb=c;b.RQb=l;b.e7b=f;},62604:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.NSb=b.D9a=b.zXb=b.G0a=b.JXb=b.Jhb=b.Ihb=b.Iw=b.xAa=b.Hhb=b.sZ=void 0;c=a(3887);l=a(45146);b.sZ="$attributes";b.Hhb="$children";b.xAa="$name";b.Iw="$text";b.Ihb="$parent";b.Jhb="$sibling";b.JXb=/^\s*<\?xml.*\?>/i;b.G0a=function(f,k,d){for(var g=2;g < arguments.length;++g){;}for(g=1;(k=arguments[g++]) && (f=f[k]);){;}return f;};b.zXb=function(f,k){var d;f?d=(0,c.aj)(f[b.Iw]):void 0 !== k && (d=k);(0,l.gT)(d);return d;};b.D9a=function(f,k){var d;f?d=f[b.Iw]:void 0 !== k && (d=k);(0,l.LXa)(d);return d;};b.NSb=function(f,k){var d;d={};d[b.sZ]=f;d[b.Iw]=k;return d;};},84281:function(r,b,a){var c,l,f,k,d;Object.defineProperty(b,"__esModule",{value:!0});b.Khb=void 0;c=a(31276);l=a(36129);f=a(78857);k=a(74413);d=a(32219);b.Khb=function(g,n){var h,m;try{m=(0,f.Lhb)(g);}catch(p){c.log.error("xml2xmlDoc exception",p);}(0,d.If)(function(){if(m && m.documentElement)try{h=(0,k.Mhb)(m);}catch(p){c.log.error("xmlDoc2js exception",p);}(0,d.If)(function(){h?n({ia:!0,object:h}):n({ia:!1,za:l.S.$kb});});});};},78857:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Lhb=void 0;c=a(31276);l=a(32687);b.Lhb=function(f){var k,d;if((0,l.wM)(f)){k=new DOMParser().parseFromString(f,"text/xml");d=k.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:f.slice(0,300),fileSize:f.length});}catch(g){}throw Error("xml parser error");}return k;}throw Error("bad xml text");};},74413:function(r,b,a){var l;function c(f){var k,d,g,n,h,m,p;d={};d[l.xAa]=f.localName;g={};d[l.sZ]=g;n=[];d[l.Hhb]=n;h=f.attributes;m=h.length;for(k=0;k < m;k++){p=h[k];g[p.localName]=p.value;}f=f.childNodes;m=f.length;g={};for(k=0;k < m;k++){switch((h=f[k],h.nodeType)){case b.Phb:h=c(h);p=h[l.xAa];h[l.Ihb]=d;n.push(h);d[p]?g[p][l.Jhb]=h:d[p]=h;g[p]=h;break;case b.Qhb:case b.Nhb:(h=h.text || h.nodeValue,n.push(h),d[l.Iw] || (d[l.Iw]=h));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.Ohb=b.Nhb=b.Qhb=b.l$b=b.Phb=b.m$b=b.Mhb=void 0;l=a(62604);b.Mhb=function(f){return c(f.nodeType == b.Ohb?f.documentElement:f);};b.m$b=c;b.Phb=1;b.l$b=2;b.Qhb=3;b.Nhb=4;b.Ohb=9;},87886:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v;Object.defineProperty(b,"__esModule",{value:!0});b.Dg=void 0;r=a(22674);c=a(58252);l=a(60443);f=a(32050);k=a(62468);d=a(75864);g=a(45716);n=a(99282);h=a(52531);m=a(88063);p=a(79054);q=a(56190);u=a(69751);t=a(62665);w=a(7342);v=a(82585);b.Dg=new r.gd(function(y){y(c.tfa).to(l.AMa).ha();y(f.vfa).to(k.NMa).ha();y(d.vJ).to(g.yMa).ha();y(h.TD).to(n.wMa).ha();y(m.GMa).to(p.FMa).ha();y(q.KMa).ae(function(x){var z;z=x.ob;return function(A){return new u.LMa(A,z.get(t.Xw),z.get(h.TD));};});y(w.NHa).ae(function(x){var z;z=x.ob;return function(A,B,C){return new v.OHa(A,B,C,z.get(h.TD),z.get(d.vJ));};});});},7342:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NHa="LegacyPostPlayShimFactorySymbol";},52531:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TD="PlaygraphConfigSymbol";},75864:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vJ=b.VD=void 0;r=b.VD || (b.VD={});r.Qbc="ident";r.jea="main";r.WCa="credits";b.vJ="PlaygraphHelperSymbol";},58252:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tfa="PlaygraphManagerFactorySymbol";},88063:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GMa="PlaygraphPlaybackStrategyFactorySymbol";},56190:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KMa="PlaygraphStateFactorySymbol";},32050:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vfa="PlaygraphVideoPlayerFactorySymbol";},56819:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.px=void 0;r=b.px || (b.px={});r[r.aKa=0]="None";r[r.uFa=1]="Fetching";r[r.zkb=2]="Done";r[r.Error=3]="Error";},82585:function(r,b,a){var l,f;function c(k,d,g,n,h){this.Oh=k;this.Dg=d;this.log=g;this.zi=n;this.cm=h;this.Z9=new l.nfa();}Object.defineProperty(b,"__esModule",{value:!0});b.OHa=void 0;l=a(81889);f=a(75864);c.prototype.Jtb=function(k){var d,g,n,h,m,p,q;this.log.info("Next episode added",k);p=this.Z9.msa(k.playbackParams);q=Math.max(0,null !== (n=null !== (g=null !== (d=k.startPts) && void 0 !== d?d:k.nextStartPts) && void 0 !== g?g:p.kb) && void 0 !== n?n:0);d=null !== (m=null !== (h=k.endPts) && void 0 !== h?h:k.currentEndPts) && void 0 !== m?m:p.Zi;return this.Dg.jub({P:k.movieId,kb:q,Zi:d,wb:p,Y:k.manifest,Oh:this.Oh});};c.prototype.jYb=function(k){var d,g,n,h,m,p;k=this.Z9.msa(k);this.log.info("Playing the next episode",k);n=this.Dg.C0a();h=this.Dg.fG();m=h.O[n];p=Object.keys(null !== (d=m.next) && void 0 !== d?d:{}).find(function(q){return m.J !== h.O[q].J;});d=!this.zi.i$ || !(null === (g=k.fm) || void 0 === g?0:g.isUIAutoPlay);return p?this.Dg.ypa(n,p,k,d):Promise.reject(Error("Next episode not found"));};c.prototype.V9b=function(k){var d,g;d=this.cm.kr(k,f.VD.jea);k=this.cm.kr(k,f.VD.WCa);g=this.Dg.tb;this.zi.i$ && g.ih !== k && g.SC(k) && g.oU(d) !== k && this.Dg.Rj({I:d,$M:k});};b.OHa=c;},65473:function(r,b,a){var l;function c(f,k,d,g,n){var h;h=this;this.tb=f;this.Wj=k;this.iu=d;this.Jb=g;this.cm=n;this.k$=new Map();this.U3b();this.Jb.addListener(l.La.loaded,function(){return h.A$a();});}Object.defineProperty(b,"__esModule",{value:!0});b.PD=void 0;l=a(85001);c.prototype.lTa=function(f){var k,d;k=this;d=Object.keys(this.tb.sk.O).find(function(g){return k.tb.sk.O[g].J === f.P;});f.id || (f.id=null !== d && void 0 !== d?d:this.cm.kr(f.P));d || (this.tb.sk=this.cm.Vub(this.tb.sk,f));d=this.rH(f.id);f.Zi && this.tb.C8b(f.id,f.Zi);return d;};c.prototype.Nfb=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.zpa=function(f,k){var d;d=this;k=void 0 === k?{}:k;return this.iu.transition(f,k).then(function(){d.tb.ih=f;});};c.prototype.close=function(f){return this.iu.close(f);};c.prototype.Mv=function(){return this.iu.cMb();};c.prototype.Ym=function(){return this.iu.Ym();};c.prototype.dG=function(){return this.iu.dG();};c.prototype.rH=function(f){this.k$.has(f) || this.k$.set(f,this.iu.Ge(this.Zwb(f)));return this.k$.get(f);};c.prototype.U3b=function(){var f;f=this;this.iu.addListener(l.UD.PX,function(){return f.Jb.Ec(l.UD.PX);});Object.values(l.La).forEach(function(k){f.iu.addListener(k,function(d){return f.Jb.Ec(k,d);});});};c.prototype.Yv=function(){this.A$a();};c.prototype.dua=function(f){this.iu.B8b({id:f,P:this.tb.me(f).J,Zi:this.tb.uMb(f)});};c.prototype.aH=function(){};c.prototype.A$a=function(){var f,k;if(this.Mv()){f=this.tb.ih;k=this.tb.oU(f);k && !this.k$.has(k) && (this.dua(f),this.rH(k));}};c.prototype.Zwb=function(f){var k,d,g,n;d=this.tb.me(f);g=this.Wj.bM(d.J);n=null === g || void 0 === g?void 0:g.wb;g=null === g || void 0 === g?void 0:g.Y;return {id:f,P:d.J,kb:d.ta,Zi:null !== (k=null === n || void 0 === n?void 0:n.Zi) && void 0 !== k?k:d.va,wb:n,Y:g};};b.PD=c;},99282:function(r,b,a){var l,f,k,d,g;function c(n){return f.Qe.call(this,n,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.wMa=void 0;r=a(5163);l=a(22674);f=a(64174);k=a(83767);d=a(12501);g=a(5021);da(c,f.Qe);Ya.Object.defineProperties(c.prototype,{lZb:{configurable:!0,enumerable:!0,get:function(){return 2;}},kZb:{configurable:!0,enumerable:!0,get:function(){return (0,g.V8)(3);}},cAa:{configurable:!0,enumerable:!0,get:function(){return !1;}},xba:{configurable:!0,enumerable:!0,get:function(){return !1;}},Qgb:{configurable:!0,enumerable:!0,get:function(){return !1;}},H_a:{configurable:!0,enumerable:!0,get:function(){return !1;}},i$:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;r.__decorate([d.config(d.Dz,"prepareSegmentsUpfront")],a.prototype,"lZb",null);r.__decorate([d.config(d.pk,"prepareSegmentsDuration")],a.prototype,"kZb",null);r.__decorate([d.config(d.bd,"usePlaygraphForPostPlay")],a.prototype,"cAa",null);r.__decorate([d.config(d.bd,"usePlaygraphForSkipSegment")],a.prototype,"xba",null);r.__decorate([d.config(d.bd,"useSinglePlayerPlayback")],a.prototype,"Qgb",null);r.__decorate([d.config(d.bd,"forcePlaygraphTrace")],a.prototype,"H_a",null);r.__decorate([d.config(d.bd,"postPlayDefaultNextEpisode")],a.prototype,"i$",null);a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.zl))],a);b.wMa=a;},45716:function(r,b,a){var l,f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.yMa=void 0;r=a(5163);l=a(75864);f=a(22674);k=a(50954);c.prototype.rCb=function(d){var h,m,p;for(var g=[],n=0;n < arguments.length;++n){g[n - 0]=arguments[n];}h=this;if(0 === g.length)throw Error("Empty playgraph");m=new k.Gq().rz(this.kr(g[0]));g.reverse().forEach(function(q){var u;u=h.kr(q);m.Ge(u,Object.assign({J:q,ta:0,va:Infinity},p?{Fb:p}:{}));p=u;});return m.Ng();};c.prototype.kr=function(d,g){g=void 0 === g?l.VD.jea:g;return d + ":" + g;};c.prototype.Vub=function(d,g){var n,h,m,p;if(void 0 === m)m=null !== (n=g.id) && void 0 !== n?n:this.kr(g.P);n=this.h1a(d);p=new k.Gq(d);p.Ge(m,{J:g.P,ta:null !== (h=g.kb) && void 0 !== h?h:0,va:Infinity});d=d.O[n];g={};p.Ge(n,Object.assign({},d,{Fb:m,next:Object.assign({},d.next || ({}),(g[m]={},g))}));return p.Ng();};c.prototype.h1a=function(d){for(var g=d.Be,n=g;n=d.O[n].Fb;){g=n;}return g;};a=c;a=r.__decorate([(0,f.U)()],a);b.yMa=a;},60443:function(r,b,a){var l,f,k,d,g,n,h,m,p;function c(q,u,t,w,v,y,x){this.Df=q;this.Wma=u;this.zi=t;this.uza=w;this.CYb=v;this.EYb=y;this.DYb=x;}Object.defineProperty(b,"__esModule",{value:!0});b.AMa=void 0;r=a(5163);l=a(22674);f=a(9862);k=a(87386);d=a(52531);g=a(44720);n=a(88063);h=a(25830);m=a(56190);a=a(32050);c.prototype.create=function(q){return new f.BMa(q,this.Df,this.Wma,this.zi,this.uza,this.CYb,this.EYb,this.DYb);};p=c;p=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.bb)),r.__param(1,(0,l.l)(g.LP)),r.__param(2,(0,l.l)(d.TD)),r.__param(3,(0,l.l)(h.jPa)),r.__param(4,(0,l.l)(n.GMa)),r.__param(5,(0,l.l)(m.KMa)),r.__param(6,(0,l.l)(a.vfa))],p);b.AMa=p;},9862:function(r,b,a){var l,f,k;function c(d,g,n,h,m,p,q,u){this.uza=m;this.iAa=u;this.RT=!1;h.xba && (d=new k.CMa().n7b(d));this.tb=q(d);this.Wj=new f.OMa(this.tb);this.Wj.Hcb(this.tb.ca.J);this.log=g.ab("PlaygraphManager");this.Jb=n.create();this.Xt=p.create(this.tb,this.Wj,this.log,this.Jb);this.V3b();}Object.defineProperty(b,"__esModule",{value:!0});b.BMa=void 0;l=a(85001);f=a(98899);k=a(15645);c.prototype.RLb=function(){return this.tb.e$;};c.prototype.loa=function(){return this.tb.ca;};c.prototype.C0a=function(){return this.tb.ih;};c.prototype.fG=function(){return this.tb.sk;};c.prototype.Rj=function(d){for(var g=[],n=0;n < arguments.length;++n){g[n - 0]=arguments[n];}this.tb.Rj.apply(this.tb,ba(g));};c.prototype.Oyb=function(d){for(var g=[],n=0;n < arguments.length;++n){g[n - 0]=arguments[n];}this.tb.ZTa(g);};c.prototype.tu=function(d){this.tb.sk=d;};c.prototype.gj=function(d,g){this.tb.gj(d,g);};c.prototype.ypa=function(d,g,n,h){var m,p;n=void 0 === n?{}:n;h=void 0 === h?!0:h;if(d !== this.tb.ih)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (m=this.fG().O[d].next) && void 0 !== m?m:{}).indexOf(g))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + g);this.ldb();null === (p=n.fm) || void 0 === p?void 0:p.isUIAutoPlay;return this.Xt.zpa(g,n,h);};c.prototype.Mv=function(){return this.Xt.Mv();};c.prototype.addListener=function(d,g,n){this.Jb.addListener(d,g,n);};c.prototype.removeListener=function(d,g){this.Jb.removeListener(d,g);};c.prototype.Ym=function(){return this.Xt.Ym();};c.prototype.Ab=function(){return this.Xt.dG();};c.prototype.uCb=function(d,g,n){var h;d=void 0 === d?this.fG().Be:d;g=void 0 === g?{}:g;h=this.iAa.nXa(this);this.fZb(null !== d && void 0 !== d?d:this.fG().Be,g,n);return h;};c.prototype.jub=function(d){var g;this.log.info("Adding segment - movieId: " + d.P + ", startPts: " + d.kb + ", logicalEnd: " + d.Zi);g=Object.assign({},d.wb,d.kb?{kb:d.kb}:{},d.Zi?{Zi:d.Zi}:{});this.geb(d.P,g,d.Y);d=this.Xt.lTa(d);this.ldb();return d;};c.prototype.transition=function(d){var g;g=this.tb.oU(this.tb.ih);return g?this.ypa(this.tb.ih,g,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.Xt.close(d);};c.prototype.fZb=function(d,g,n){var h;void 0 === d && (d=null === (h=this.fG()) || void 0 === h?void 0:h.Be);(g || n) && this.geb(this.fG().O[d].J,null !== g && void 0 !== g?g:{},n);this.Xt.rH(d);};c.prototype.geb=function(d,g,n){n && this.Wj.Q2(d,n);this.Wj.Ytb(d,g);};c.prototype.V3b=function(){var d;d=this;this.tb.O5b(function(){d.Wj.Yv();d.Xt.Yv();});this.tb.P5b(function(g){d.Xt.dua(g);});this.tb.N5b(function(g){d.Xt.aH(g);});this.addListener(l.UD.PX,function(){return d.HWb();});this.addListener(l.La.d4a,function(g){return d.wWb(g);});};c.prototype.ldb=function(){var d;d=this;this.RT || (this.Ab().Gia(l.ga.NH,function(g){return d.Zv(g);}),this.RT=!0);};c.prototype.wWb=function(d){var g;g=this;this.Xt.Nfb(d).catch(function(){return g.Jb.Ec(l.La.error,d.KY());});};c.prototype.HWb=function(){var d;d=this.Ab().getError();d?this.Jb.Ec(l.La.zK,d):(this.Jb.Ec(l.La.u3),this.Jb.Ec(l.La.Fl),this.Jb.Ec(l.La.pu),this.Jb.Ec(l.La.ol),this.Jb.Ec(l.La.OY),this.Jb.Ec(l.La.zK));};c.prototype.Zv=function(d){var g,n,h;!1;g=d.metrics;if(g){n=this.Ab();h=n.Vi(d.position.segmentId);g=n.Vi(g.srcsegment);this.uza.XZb(d,h,g,!!n.M1a().sg);}};b.BMa=c;},15645:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.CMa=void 0;l=a(50954);c.prototype.n7b=function(f){var k;if(!this.uQb(f.O))return f;k=new l.Gq().rz(f.Be);Object.entries(f.O).forEach(function(d){var g;g=ja(d);d=g.next().value;g=g.next().value;d === f.Be?k.Ge(d,Object.assign(Object.assign({},g),{next:void 0,va:void 0,Fb:void 0})):k.Ge(d,g);});return k.Ng();};c.prototype.uQb=function(f){f=Object.values(f).map(function(k){return k.J;});return 1 === new Set(f).size;};b.CMa=c;},79054:function(r,b,a){var l,f,k,d,g,n,h,m,p,q;function c(u,t,w,v,y,x,z){this.Ea=u;this.w2b=w;this.zi=y;this.cm=z;this.t2b=t.VF(!1,"6.0043.369.911",u.id,x,v);}Object.defineProperty(b,"__esModule",{value:!0});b.FMa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(52531);d=a(88574);g=a(93488);n=a(2911);h=a(4203);m=a(65473);p=a(63368);a=a(75864);c.prototype.create=function(u,t,w,v){var y,x;y=this.w2b.hCb(u,this.t2b,t);x=u.dAa;w.debug("Using " + (x?"single":"multiple") + " player playback strategy");return x?new d.lOa(this.zi,u,t,w,y,v,this.cm):new m.PD(u,t,y,v,this.cm);};q=c;q=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Lc)),r.__param(1,(0,l.l)(g.WNa)),r.__param(2,(0,l.l)(n.Rfa)),r.__param(3,(0,l.l)(h.Yb)),r.__param(4,(0,l.l)(k.TD)),r.__param(5,(0,l.l)(p.U0)),r.__param(6,(0,l.l)(a.vJ))],q);b.FMa=q;},69751:function(r,b,a){var l,f;function c(k,d,g){this.ty=d;this.zi=g;this.o2={};this.igb=[];this.Edb=[];this.e8a=[];this.hja=new WeakMap();this.reset(k);}Object.defineProperty(b,"__esModule",{value:!0});b.LMa=void 0;l=a(50954);f=a(50954);c.prototype.reset=function(k){var d;d=1 < Object.keys(k.O).length && 1 === new Set(Object.values(k.O).map(function(g){return g.J;})).size;this.Xsb=this.zi.Qgb || d;this.Ucb(k);this.ih=k.Be;this.$rb=this.ty.dB();this.nya=new Map();};c.prototype.u6=function(k){if(this.dAa)return this.sk;this.hja.has(k) || this.hja.set(k,(0,l.Faa)(k.P,k.I));return this.hja.get(k);};c.prototype.Ucb=function(k){this.bsb=k;this.o2={};k=Object.keys(k.O);this.ZTa(k);this.xVb();};c.prototype.Rj=function(k){var n;for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}n=this;d.filter(function(h){return n.SC(h.I);}).filter(function(h){h=h.$M;return !h || n.SC(h);}).forEach(function(h){var m;m=h.I;n.o2[m]=n.y8a(h.$M);n.rVb(m);});};c.prototype.ZTa=function(k){var d;d=this;k.filter(function(g){return d.SC(g);}).forEach(function(g){d.o2[g]=d.y8a(d.me(g).Fb);});};c.prototype.gj=function(k,d){var g,n,h;g=this.me(k);if(g && g.next){n=new f.Gq(this.sk);h=Object.keys(g.next).reduce(function(m,p){m[p]=void 0 === d[p]?g.next[p]:Object.assign({},g.next[p],{weight:d[p]});return m;},{});h=Object.assign({},g,{next:h});n.Ge(k,h);this.sk=n.Ng();}};c.prototype.SC=function(k,d){d=void 0 === d?this.sk.O:d;return (k in d);};c.prototype.oU=function(k){return this.o2[k];};c.prototype.me=function(k){return this.sk.O[k];};c.prototype.uMb=function(k){if(this.nya.has(k))return this.nya.get(k);k=this.me(k);return isFinite(k.va)?k.va:void 0;};c.prototype.C8b=function(k,d){this.nya.set(k,d);this.uVb(k);};c.prototype.O5b=function(k){this.igb.push(k);};c.prototype.P5b=function(k){this.Edb.push(k);};c.prototype.N5b=function(k){this.e8a.push(k);};c.prototype.xVb=function(){var k;k=this;this.igb.forEach(function(d){return d(k.sk);});};c.prototype.rVb=function(k){this.e8a.forEach(function(d){return d(k);});};c.prototype.uVb=function(k){this.Edb.forEach(function(d){return d(k);});};c.prototype.y8a=function(k){return null === k?void 0:k;};Ya.Object.defineProperties(c.prototype,{e$:{configurable:!0,enumerable:!0,get:function(){return this.$rb;}},dAa:{configurable:!0,enumerable:!0,get:function(){return this.Xsb;}},sk:{configurable:!0,enumerable:!0,get:function(){return this.bsb;},set:function(k){if(this.ih && !this.SC(this.ih,k.O))throw Error("Provided playgraphMap does not contain the current segmentId " + this.ih);this.Ucb(k);}},ih:{configurable:!0,enumerable:!0,get:function(){return this.cqb;},set:function(k){if(!this.SC(k))throw Error("Provided currentSegmentId " + k + " does not exist in the current playgraph");this.cqb=k;}},ca:{configurable:!0,enumerable:!0,get:function(){return this.me(this.ih);}}});b.LMa=c;},62468:function(r,b,a){var l,f,k,d;function c(g,n){this.Ea=g;this.mRb=n;}Object.defineProperty(b,"__esModule",{value:!0});b.NMa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(7342);c.prototype.create=function(g){return new (a(58343).F1)(this.Ea.Kb(),g);};c.prototype.nXa=function(g){return new (a(64059).IZ)(this.Ea.Kb(),g,this.mRb);};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.Lc)),r.__param(1,(0,l.l)(k.NHa))],d);b.NMa=d;},98899:function(r,b,a){var l;function c(f){this.da=f;this.dP={};this.Yv();}Object.defineProperty(b,"__esModule",{value:!0});b.OMa=void 0;l=a(56819);c.prototype.Yv=function(){var f;f=this;Object.values(this.da.sk.O).forEach(function(k){k=k.J;f.dP[k] || f.W3a(k);});this.tba();};c.prototype.bM=function(f){return this.dP[f];};c.prototype.l3b=function(f){this.rU(f).state=l.px.uFa;this.tba();};c.prototype.k3b=function(f,k){f=this.rU(f);f.state=l.px.Error;f.error=k;f.Cbb(!1);this.tba();};c.prototype.Hcb=function(f){f=this.rU(f);f.state=l.px.zkb;f.Cbb(!0);this.tba();};c.prototype.Ytb=function(f,k){this.rU(f).wb=k;};c.prototype.Q2=function(f,k){this.rU(f).Y=k;};c.prototype.rU=function(f){var k;return null !== (k=this.bM(f)) && void 0 !== k?k:this.W3a(f);};c.prototype.W3a=function(f){var k,d;k=void 0;d=new Promise(function(g,n){k=function(h){(h?g:n)();};});return this.dP[f]={state:l.px.aKa,F_b:d,Cbb:k};};c.prototype.tba=function(){var k;for(var f=this.da.ih;f=this.da.oU(f);){k=this.bn(f);if(this.dP[k].state === l.px.Error)break;if(this.dP[k].state === l.px.uFa)break;if(this.dP[k].state === l.px.aKa)break;}};c.prototype.bn=function(f){return this.da.sk.O[f].J;};b.OMa=c;},88574:function(r,b,a){var l,f,k,d,g;function c(n,h,m,p,q,u,t){var w;w=d.PD.call(this,h,m,q,u,t) || this;w.zi=n;w.ma=p;w.RT=!1;w.Oma=new Map();w.AWb=function(){w.dG().Gia(f.ga.NH,function(v){w.Jb.Ec(f.UD.PX);w.tb.ih=v.position.segmentId;});};w.UOb();u.addListener(f.La.loaded,w.AWb);return w;}Object.defineProperty(b,"__esModule",{value:!0});b.lOa=void 0;l=a(50954);f=a(85001);k=a(36129);d=a(65473);g=a(75864);da(c,d.PD);c.prototype.lTa=function(n){var h,m,p,q,u,t,w,v,y,x,z;h=this;p=this.tb.sk;q=this.cm.kr(n.P,"ident");u=this.cm.kr(n.P,"main");t=this.cm.kr(n.P,"credits");w=isFinite(n.Zi);v=isFinite(n.kb) && n.P !== p.O[p.Be].J;y={};x=new l.Gq(p).Ge(u,Object.assign({J:n.P,ta:v && n.kb || 0,va:null !== (m=n.Zi) && void 0 !== m?m:Infinity},w?{next:(y[t]={},y),Fb:t}:{}));v && (m={},x.Ge(q,{J:n.P,ta:0,va:n.kb,next:(m[u]={},m),Fb:u}));w && x.Ge(t,{J:n.P,ta:n.Zi,va:Infinity});if(!this.tb.SC(u)){n=p.O[this.cm.h1a(p)].J;z=this.cm.kr(n,g.VD.WCa);[this.cm.kr(n,g.VD.jea),z].filter(function(A){return h.tb.SC(A);}).forEach(function(A){var B,C,D;B=h.tb.me(A);C=A === z || h.zi.i$;D={};x.Ge(A,Object.assign({},B,{next:Object.assign({},B.next,(D[u]={},D))},C?{Fb:u}:{}));});}this.tb.sk=x.Ng();return this.rH(u);};c.prototype.Yv=function(){this.Mv() && this.dG().Yv();};c.prototype.dua=function(){};c.prototype.aH=function(n){this.dG().aH(n);};c.prototype.zpa=function(n,h,m){h=void 0 === h?{}:h;this.ma.debug("goToSegment " + n);return this.dG().IU(n,h,m);};c.prototype.rH=function(n){if(n === this.s2b)return null;this.s2b=n;return this.RT?this.Wj.bM(this.tb.me(n).J).F_b:(this.RT=!0,d.PD.prototype.rH.call(this,n));};c.prototype.Nfb=function(n){return n.errorCode && this.Oma.has(n.errorCode)?this.Oma.get(n.errorCode)(n):Promise.reject(Error("Error " + n.errorCode + " isn't recoverable"));};c.prototype.UOb=function(){var n;n=this;this.Oma.set(k.V.GKa,function(){var h,m;return null !== (m=null === (h=d.PD.prototype.rH.call(n,n.tb.ih)) || void 0 === h?void 0:h.then(function(){var p,q;d.PD.prototype.zpa.call(n,n.tb.ih,null !== (q=null === (p=n.Wj.bM(n.tb.ca.J)) || void 0 === p?void 0:p.wb) && void 0 !== q?q:{});})) && void 0 !== m?m:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.lOa=c;},32754:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.Z$a=void 0;r=a(22674);c=a(69493);l=a(28978);f=a(98166);k=a(660);b.Z$a=new r.gd(function(d){d(c.tEa).to(l.sEa).ha();d(f.cQ).to(k.THa).ha();});},82100:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.uWa=b.Hqa=b.Roa=b.p6=b.JGa=b.Bob=b.ws=b.rGa=b.n1=b.m1=b.WPa=b.XPa=b.yKa=b.w_=b.TEMPORARY=b.Cu=void 0;c=a(32687);l=a(22210);b.Cu="cenc";b.TEMPORARY="temporary";b.w_="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.yKa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.XPa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.WPa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.m1="SW_SECURE_CRYPTO";b.n1="SW_SECURE_DECODE";b.rGa="HW_SECURE_DECODE";b.ws="HW_SECURE_ALL";b.Bob={m1:"SW_SECURE_CRYPTO",n1:"SW_SECURE_DECODE",rGa:"HW_SECURE_DECODE",ws:"HW_SECURE_ALL"};b.JGa=[b.ws];b.p6=function(f){var k;k=f.getConfiguration();return [b.ws,b.n1,b.m1].find(function(d){var g;return null === (g=k.videoCapabilities) || void 0 === g?void 0:g.some(function(n){return n.robustness === d;});});};b.Roa=function(f){var k,n;try{for(var d=/\((\d[^)]+)\)/g,g;g=d.exec(f);){n=Number(g[1]);(0,c.Sb)(n) && (k=n);}}catch(h){}return k;};b.Hqa=function(f){return l.vd.Fi.test(f);};b.uWa=function(f){return f.robustness?f.keySystem + "." + f.robustness:f.keySystem;};},56039:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Eoa=void 0;c=a(31276);b.Eoa=function(l){var f;f={};try{l.forEach(function(k){var d,g;if(k.FF){for(var n=(0,c.Ix),h=k.FF,m=0,p=new Uint8Array(16),q=0;q < h.length;q+=2){p[m++]=parseInt(h.slice(q,q + 2),16);}n=n(p);k=null !== (d=k.height) && void 0 !== d?d:k.Hwa;f[n]=Math.max(k,null !== (g=f[n]) && void 0 !== g?g:0);}});}catch(k){}return f;};},69493:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tEa="DrmProviderSymbol";},98166:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cQ="LicenseProviderSymbol";},24735:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bra=b.yh=void 0;(function(a){a[a.wm=0]="STANDARD";a[a.En=1]="LIMITED";})(b.yh || (b.yh={}));b.Bra=function(a){return ["STANDARD","LIMITED"][a];};},28978:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q,u,t){this.xh=p;this.TA=q;this.f9b=u;this.CM=t;}Object.defineProperty(b,"__esModule",{value:!0});b.sEa=void 0;r=a(5163);l=a(22674);f=a(74870);k=a(2248);d=a(84408);g=a(53921);n=a(24735);h=a(82100);a=a(98166);c.prototype.Rg=function(p){var q;q=this;return this.xh.aB(p.xj[0].data[0],[8,4])?Promise.resolve({pe:[{id:"ddd",JG:"cert",yV:void 0}],Zk:[{sessionId:"ddd",data:new Uint8Array(this.TA.decode(h.WPa))}]}):this.xh.aB(p.xj[0].data[0],this.f9b.decode("certificate"))?Promise.resolve({pe:[{id:"ddd",JG:"cert",yV:void 0}],Zk:[{sessionId:"ddd",data:new Uint8Array(this.TA.decode(h.w_))}]}):this.CM.Ws(this.NIb(p)).then(function(u){return q.OIb(u);});};c.prototype.release=function(p){return this.CM.release(this.SIb(p)).then(function(){});};c.prototype.NIb=function(p){var q,u;q=this;u=p.xj.map(function(t){return t.data.map(function(w){return {sessionId:t.sessionId,dataBase64:q.TA.encode(w)};});});return {na:p.na,Gd:p.Gd,X4:p.X4,kf:(0,n.Bra)(p.kf),Sm:g.Gk[p.Sm],xj:u.reduce(function(t,w){return t.concat(w);},[]),ri:p.ri,ag:p.ag};};c.prototype.SIb=function(p){return {na:p.na,pe:p.pe};};c.prototype.OIb=function(p){return {pe:p.pe,Zk:p.Zk};};m=c;m=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.dh)),r.__param(1,(0,l.l)(k.$g)),r.__param(2,(0,l.l)(d.Jq)),r.__param(3,(0,l.l)(a.cQ))],m);b.sEa=m;},660:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p,q,u){this.ntb=h;this.z0b=m;this.qbb=q;this.C1b=u;this.ma=p.ab("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.THa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(81378);a(24674);d=a(75014);g=a(16257);a=a(829);c.prototype.Ws=function(h){var m,p;m=this;!1;p=this.qbb.l7b(h);return this.ntb.eo(this.ma,h.ri,p).then(function(q){q.map(function(u){return u.nRb;});return m.C1b.Bfb(q);}).catch(function(q){m.ma.error("PBO license failed",q);return Promise.reject(q);});};c.prototype.release=function(h){var m;m=this;!1;h=this.qbb.o7b(h);return this.z0b.Cf(this.ma,h).then(function(){return {ia:!0};}).catch(function(p){m.ma.error("PBO release license failed",p);return Promise.reject(p);});};n=c;n=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.PKa)),r.__param(1,(0,l.l)(d.CLa)),r.__param(2,(0,l.l)(f.bb)),r.__param(3,(0,l.l)(g.eLa)),r.__param(4,(0,l.l)(a.Xea))],n);b.THa=n;},45266:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});b.rYa=b.C2a=b.Wfb=b.vC=b.J8=b.k7a=void 0;r=a(29664);c=a(31435);l=a(60024);f=a(56663);a=a(5154);b.k7a=r;b.J8=function(k,d){return (0,b.k7a)(function(g,n){return void 0 !== n?n:g;},k,d);};b.vC=c;b.Wfb=l;b.C2a=f;b.rYa=a;},17892:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bpb="StorageValidatorSymbol";b.Kw="AppStorageFactorySymbol";},44272:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BOa="Storage";},62945:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(22674);c=a(91133);l=a(48159);f=a(56278);k=a(42304);d=a(42236);g=a(84970);n=a(57925);h=a(67894);m=a(17892);p=a(86607);q=a(26305);b.storage=new r.gd(function(u){u(l.PJa).ae(function(){return function(){return ob.localStorage;};});u(l.MGa).ae(function(){return function(){return ob.indexedDB;};});u(p.yJa).to(q.xJa).ha();u(m.Kw).to(h.rBa).ha();u(f.fIa).to(k.eIa).ha();u(c.w0).to(n.nHa).ha();u(d.pHa).to(g.oHa).ha();u(d.LGa).to(g.KGa).ha();u(d.rHa).to(g.qHa).ha();});},56278:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fIa="LocalStorageSymbol";},86607:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yJa="MemoryStorageSymbol";},48159:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Umb="NativeLocalStorageSymbol";b.PJa="NativeLocalStorageFactorySymbol";b.MGa="IDBFactorySymbol";},31679:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mjb="__default_rule_key__";},67894:function(r,b,a){var f,k,d,g,n,h,m;function c(p,q,u,t){this.ma=p;this.config=q;this.vOb=u;this.Lsa=t;this.pF={mem:{storage:this.Lsa,key:"mem"}};this.XC=this.config.XC;}function l(p,q,u,t){this.Df=p;this.ml=q;this.Lsa=u;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.kca=b.rBa=void 0;r=a(5163);f=a(22674);k=a(36129);d=a(42236);g=a(87386);n=a(86607);h=a(31679);a=a(34231);l.prototype.create=function(){this.cT || (this.cT=this.PK());return this.cT;};l.prototype.PK=function(){this.Nub=new c(this.Df.ab("AppStorage"),this.config,this.ml,this.Lsa);return this.Nub.create();};m=l;m=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(g.bb)),r.__param(1,(0,f.l)(d.rHa)),r.__param(2,(0,f.l)(n.yJa)),r.__param(3,(0,f.l)(a.Dn))],m);b.rBa=m;c.prototype.create=function(){var p;p=this;return this.ZBb().then(function(q){if(!p.Rxb(q,p.config.SU))throw p.fVb(q);return p;});};c.prototype.load=function(p){var q;q=this;return new Promise(function(u,t){q.eU(p).storage.load(p).then(function(w){u(w);}).catch(function(w){t(w);});});};c.prototype.save=function(p,q,u){var t;t=this;return new Promise(function(w,v){t.eU(p).storage.save(p,q,u).then(function(y){w(y);}).catch(function(y){v(y);});});};c.prototype.remove=function(p){var q;q=this;return new Promise(function(u,t){q.eU(p).storage.remove(p).then(function(){u();}).catch(function(w){t(w);});});};c.prototype.removeAll=function(){var p;p=this;return new Promise(function(q,u){p.Oab("mem").then(function(){return p.Oab("idb");}).catch(function(t){return Promise.reject(t);}).then(function(){q();}).catch(function(t){p.ma.error("remove all failed");u(t);});});};c.prototype.loadAll=function(){var p,q;p=this;q=[];return this.S5a("mem").then(function(u){q=q.concat(u);return p.S5a("idb");}).catch(function(u){p.vQb(u) || p.ma.error("IndexedDb.LoadAll exception",u);return [];}).then(function(u){return q=q.concat(u);}).catch(function(u){p.ma.error("load all failed",u);throw u;});};c.prototype.ZBb=function(){var p;p=this;return this.vOb.create().then(function(q){p.pF.idb={storage:q,key:"idb"};}).catch(function(q){p.ma.error("idb failed to load",q);return q || ({za:k.S.Yo});});};c.prototype.Rxb=function(p,q){return !p || p && q?!0:!1;};c.prototype.fVb=function(p){var q;q="";p && (q+=p.za);return {za:q};};c.prototype.Oab=function(p){return (p=this.pF[p])?p.storage.removeAll():Promise.resolve();};c.prototype.S5a=function(p){return (p=this.pF[p])?p.storage.loadAll():Promise.resolve([]);};c.prototype.PHb=function(p){for(var q in this.XC){if(p.startsWith(q))return this.XC[q];}return this.XC[h.Mjb];};c.prototype.eU=function(p){var q,u;q=this;this.PHb(p).every(function(t){return q.pF[t]?(u=q.pF[t],!1):!0;});if(!u){this.ma.error("component not found for storageKey",{r5b:p,afc:Object.keys(this.pF),rules:this.XC});u=this.pF.mem;}this.ma.trace("component found for key",{storageKey:p,componentKey:u.key});return u;};c.prototype.vQb=function(p){return (p && (p.za || p.errorSubCode)) === k.S.lx;};b.kca=c;},6675:function(r,b){function a(c,l){this.Fx=c;this.de=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Zda=void 0;a.prototype.load=function(c,l){var f;f=this;this.Fx.load(c).then(function(k){l && l(a.xeb(k));}).catch(function(k){l && l(f.Pma(c,k));});};a.prototype.save=function(c,l,f,k){var d;d=this;this.Fx.save(c,l,f).then(function(){k && k(a.xeb({key:c,value:l}));}).catch(function(g){k && k(d.Pma(c,g));});};a.prototype.remove=function(c,l){var f;f=this;this.Fx.remove(c).then(function(){l && l({ia:!0,Paa:c});}).catch(function(k){l && l(f.Pma(c,k));});};a.xeb=function(c){return {ia:!0,data:c.value,Paa:c.key};};a.prototype.Pma=function(c,l){return {ia:!1,Paa:c,za:l.za,Nb:l.Xb?this.de.Ae(l.Xb):void 0};};b.Zda=a;},42304:function(r,b,a){var l,f,k;function c(d){this.yC=d;}Object.defineProperty(b,"__esModule",{value:!0});b.eIa=void 0;r=a(5163);l=a(22674);f=a(36129);a=a(48159);c.prototype.load=function(d){var g;g=this;return new Promise(function(n,h){var m,p;try{m=g.yC.getItem(d);if(m){p=m;if("{" === m[0])try{p=JSON.parse(m) || m;}catch(q){}n({key:d,value:p});}else h({za:f.S.lx});}catch(q){h({za:f.S.KNa,Xb:q});}});};c.prototype.save=function(d,g,n){var h;h=this;return new Promise(function(m,p){if(n && h.yC.getItem(d))m(!1);else try{"string" === typeof g?h.yC.setItem(d,g):h.yC.setItem(d,JSON.stringify(g));m(!0);}catch(q){p({za:f.S.LNa,Xb:q});}});};c.prototype.remove=function(d){var g;g=this;return new Promise(function(n,h){try{g.yC.removeItem(d);n();}catch(m){h({za:f.S.Nfa,Xb:m});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};k=c;k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.Umb))],k);b.eIa=k;},26305:function(r,b,a){var l,f,k;function c(d){this.Df=d;this.ZG={};this.ma=this.Df.ab("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.xJa=void 0;r=a(5163);l=a(22674);f=a(36129);a=a(87386);c.prototype.load=function(d){var g;if(this.ZG.hasOwnProperty(d)){g=this.ZG[d];this.ma.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:g});}this.ma.debug("Storage entry not found",{key:d});return Promise.reject({za:f.S.lx});};c.prototype.save=function(d,g,n){if(n && this.ZG.hasOwnProperty(d))return Promise.resolve(!1);this.ZG[d]=g;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.ZG[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.ZG).map(function(g){var n;n=ja(g);g=n.next().value;n=n.next().value;return {key:g,value:n};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.ZG={};return Promise.resolve();};k=c;k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.bb))],k);b.xJa=k;},92093:function(r,b,a){var f,k,d;function c(g,n,h){this.config=g;this.Bo=n;this.yC=h;}function l(g,n){this.reason=g;this.Xb=n;}Object.defineProperty(b,"__esModule",{value:!0});b.mHa=b.lNa=void 0;f=a(36129);k=a(59818);(function(g){g[g.Eea=0]="NoData";g[g.Error=1]="Error";g[g.AJ=2]="Timeout";})(d=b.lNa || (b.lNa={}));c.prototype.load=function(g){var n;n=this;return new Promise(function(h,m){n.r5("get",!1,g).then(function(p){h({key:g,value:p});}).catch(function(p){var q;q=f.S.KNa;switch(p.reason){case d.Eea:q=f.S.lx;break;case d.AJ:q=f.S.Tob;}m({za:q,Xb:p.Xb});});});};c.prototype.save=function(g,n,h){var m;m=this;return new Promise(function(p,q){m.r5(h?"add":"put",!0,{name:g,data:n}).then(function(){p(!h);}).catch(function(u){var t;t=f.S.LNa;switch(u.reason){case d.AJ:t=f.S.Wob;}q({za:t,Xb:u.Xb});});});};c.prototype.remove=function(g){var n;n=this;return new Promise(function(h,m){n.r5("delete",!0,g).then(function(){h();}).catch(function(p){var q;q=f.S.Nfa;switch(p.reason){case d.AJ:q=f.S.JNa;}m({za:q,Xb:p.Xb});});});};c.prototype.removeAll=function(){var g;g=this;return new Promise(function(n,h){g.r5("clear",!0,"").then(function(){n();}).catch(function(m){var p;p=f.S.Nfa;switch(m.reason){case d.AJ:p=f.S.JNa;}h({za:p,Xb:m.Xb});});});};c.prototype.loadAll=function(){var g;g=this;return this.Bo.oq(this.config.timeout,new Promise(function(n,h){var m,p,q;if(g.config.iya)h(new l(g.config.iya));else {m=[];p=g.yC.transaction(g.config.sW,"readonly");q=p.objectStore(g.config.sW).openCursor();p.onerror=function(){h(new l(d.Error,q.error));};q.onsuccess=function(u){if(u=u.target.result)try{m.push({key:u.value.name,value:u.value.data});u.continue();}catch(t){h(new l(d.Error,t));}else n(m);};q.onerror=function(){h(new l(d.Error,q.error));};}})).catch(function(n){return n instanceof k.Hq?Promise.reject(new l(d.AJ,n)):n instanceof l?Promise.reject(n):Promise.reject(new l(d.Error,n));});};c.prototype.r5=function(g,n,h){var m;m=this;return this.Bo.oq(this.config.timeout,new Promise(function(p,q){var u,t;u=m.yC.transaction(m.config.sW,n?"readwrite":"readonly");t=u.objectStore(m.config.sW)[g](h);u.onerror=function(){q(new l(d.Error,t.error));};t.onsuccess=function(w){var v;if("get" == g)try{v=w.target.result;v?p(v.data):q(new l(d.Eea));}catch(y){q(new l(d.Eea,y));}else p(void 0);};t.onerror=function(){q(new l(d.Error,t.error));};})).catch(function(p){return p instanceof k.Hq?Promise.reject(new l(d.AJ,p)):p instanceof l?Promise.reject(p):Promise.reject(new l(d.Error,p));});};b.mHa=c;},91133:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.w0="IndexedDBConfigSymbol";},42236:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LGa="IDBDatabaseFactorySymbol";b.pHa="IndexedDBFactorySymbol";b.rHa="IndexedDBStorageFactorySymbol";},57925:function(r,b,a){var l,f,k,d,g;function c(n,h){n=k.Qe.call(this,n,"IndexedDBConfigImpl") || this;n.config=h;n.version=1;n.sW="namedatapairs";return n;}Object.defineProperty(b,"__esModule",{value:!0});b.nHa=void 0;r=a(5163);l=a(22674);f=a(12501);k=a(64174);d=a(34231);a=a(83767);da(c,k.Qe);Ya.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.iy?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.eeb;}},d3:{configurable:!0,enumerable:!0,get:function(){return this.config.d3;}},jya:{configurable:!0,enumerable:!0,get:function(){return 0;}},iya:{configurable:!0,enumerable:!0,get:function(){return 0;}},B_a:{configurable:!0,enumerable:!0,get:function(){return !0;}}});g=c;r.__decorate([f.config(f.Dz,"simulateIdbOpenError")],g.prototype,"jya",null);r.__decorate([f.config(f.Dz,"simulateIdbLoadAllError")],g.prototype,"iya",null);r.__decorate([f.config(f.bd,"fixInvalidDatabase")],g.prototype,"B_a",null);g=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.zl)),r.__param(1,(0,l.l)(d.Dn))],g);b.nHa=g;},84970:function(r,b,a){var k,d,g,n,h,m,p,q,u,t,w,v;function c(y,x,z,A,B,C){this.config=x;this.fT=z;this.ml=A;this.q9b=B;this.Ck=C;this.ma=y.ab(m.BOa);}function l(y,x){this.config=y;this.NO=x;}function f(y,x,z,A,B){this.config=x;this.NO=z;this.Ck=B;this.ma=y.ab(m.BOa);this.fT=new Promise(function(C,D){var E;try{E=A();E?C(E):D({za:h.S.NGa});}catch(G){D({za:h.S.v0,Xb:G});}});}Object.defineProperty(b,"__esModule",{value:!0});b.qHa=b.oHa=b.KGa=void 0;r=a(5163);k=a(22674);d=a(87386);g=a(92093);n=a(48159);h=a(36129);m=a(44272);p=a(91133);q=a(59818);u=a(17892);t=a(77134);w=a(42236);v=a(63156);f.prototype.create=function(){this.Fla || (this.Fla=this.PK());return this.Fla;};f.prototype.pt=function(y){var x;x=this;this.Fla=null;return this.NO.oq(this.config.timeout,new Promise(function(z,A){y.close();x.delete(y.name).then(function(){z();}).catch(function(B){A(B);});})).catch(function(z){return z instanceof q.Hq?Promise.reject({za:h.S.v0}):z.za?Promise.reject(z):Promise.reject({za:h.S.v0,Xb:z});});};f.prototype.delete=function(y){var x;x=this;return this.NO.oq(this.config.timeout,new Promise(function(z,A){x.fT.then(function(B){var C;C=B.deleteDatabase(y);C.onsuccess=function(){z();};C.onerror=function(){A({za:h.S.v0,Xb:C.error});};}).catch(function(B){A(B);});}));};f.prototype.PK=function(){var y,x;y=this;return this.NO.oq(this.config.timeout,new Promise(function(z,A){if(y.config.jya)return A({za:y.config.jya});y.fT.then(function(B){y.Ck.mark(v.lj.wlb);x=B.open(y.config.name,y.config.version);if(!x)return A({za:h.S.OGa});x.onblocked=function(){y.Ck.mark(v.lj.tlb);A({za:h.S.plb});};x.onupgradeneeded=function(){var C;y.Ck.mark(v.lj.Dlb);C=x.result;try{C.createObjectStore(y.config.sW,{keyPath:"name"});}catch(D){y.ma.error("Exception while creating object store",D);}};x.onsuccess=function(C){var D,E;y.Ck.mark(v.lj.Clb);try{D=C.target.result;E=D.objectStoreNames.length;y.ma.trace("objectstorenames length ",E);if(0 === E){y.ma.error("invalid indexedDb state, deleting");y.Ck.mark(v.lj.vlb);try{D.close();}catch(G){}B.deleteDatabase(y.config.name);setTimeout(function(){A({za:h.S.olb});},1);return;}}catch(G){y.ma.error("Exception while inspecting indexedDb objectstorenames",G);}z(x.result);};x.onerror=function(){y.Ck.mark(v.lj.ulb);y.ma.error("IndexedDB open error",x.error);A({za:h.S.qlb,Xb:x.error});};}).catch(function(B){A(B);});})).catch(function(z){if(z instanceof q.Hq){try{x && x.readyState && y.Ck.mark("readyState-" + x.readyState);}catch(A){}if(y.config.d3 && x && "done" === x.readyState){if(y.k9b(x))return (y.Ck.mark(v.lj.Alb),Promise.resolve(x.result));y.Ck.mark(v.lj.zlb);}y.Ck.mark(v.lj.ylb);return Promise.reject({za:h.S.slb});}if(z.za)return Promise.reject(z);y.Ck.mark(v.lj.xlb);y.ma.error("IndexedDB open exception occurred",z);return Promise.reject({za:h.S.rlb,Xb:z});});};f.prototype.k9b=function(y){try{return 0 < y.result.objectStoreNames.length;}catch(x){this.Ck.mark(v.lj.Blb);this.ma.error("failed to check open request state",x);}return !1;};a=f;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.bb)),r.__param(1,(0,k.l)(p.w0)),r.__param(2,(0,k.l)(q.fA)),r.__param(3,(0,k.l)(n.MGa)),r.__param(4,(0,k.l)(t.BJ))],a);b.KGa=a;l.prototype.create=function(y){return Promise.resolve(new g.mHa(this.config,this.NO,y));};a=l;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(p.w0)),r.__param(1,(0,k.l)(q.fA))],a);b.oHa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.cT || (this.cT=this.PK(this.q9b));return this.cT;};c.prototype.PK=function(y){var x;x=this;y=void 0 === y?[]:y;return new Promise(function(z,A){x.Ck.mark(v.lj.Sob);x.fT.create().then(function(B){x.ml.create(B).then(function(C){Promise.all(y.map(function(D){return D.validate(C);})).then(function(){x.storage=C;z(x.storage);}).catch(function(D){x.ma.debug("DB validation failed, cause: " + D);x.config.B_a?(x.ma.debug("Fixing corrupt DB"),x.fT.pt(B).then(function(){x.ma.error("Invalid database deleted, creating new database.");x.PK().then(function(E){x.ma.error("Invalid database successfully recreated.");x.storage=E;z(x.storage);});}).catch(function(E){x.ma.error("Couldn't delete invalid database.");A(E);})):(x.ma.debug("Ignoring invalid DB due to config"),x.storage=C,z(x.storage));});}).catch(function(C){A(C);});}).catch(function(B){A(B);});});};a=c;a=r.__decorate([(0,k.U)(),r.__param(0,(0,k.l)(d.bb)),r.__param(1,(0,k.l)(p.w0)),r.__param(2,(0,k.l)(w.LGa)),r.__param(3,(0,k.l)(w.pHa)),r.__param(4,(0,k.optional)()),r.__param(4,(0,k.YG)(u.bpb)),r.__param(5,(0,k.l)(t.BJ))],a);b.qHa=a;},69899:function(r,b,a){var f;function c(k,d,g){this.start=k;this.track=d;this.$C=Array.isArray(g)?g:[];}function l(k,d){this.log=k;this.Iz=d;this.Sva=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.JOa=void 0;f=a(45146);l.prototype.qtb=function(k,d){this.a8a(k,d,"activating");};l.prototype.XCb=function(k){this.Gma(k,"de-activating");};l.prototype.a8a=function(k,d,g){var n;this.fk && this.Gma(k,"close current for new");n=[];this.orphans.length && (n.push.apply(n,ba(this.orphans)),this.orphans=[]);this.fk=new c(k,d,n);this.Iz && this.log.trace("new range: " + g,this.fk);};l.prototype.Gma=function(k,d){this.fk && (this.fk.end=k,this.Sva.push(this.fk),this.Iz && this.log.trace("end range: " + d,this.fk || ({})),this.fk=void 0);};l.prototype.Agb=function(k){for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}this.fk?this.fk.$C.push.apply(this.fk.$C,ba(d)):this.orphans.push.apply(this.orphans,ba(d));};l.prototype.npa=function(k){var d,g;d=this.Sva.slice(0);if(this.fk && "undefined" !== typeof k){g=new c(this.fk.start,this.fk.track,this.fk.$C);g.end=k;d.push(g);}k=d.reduce(function(n,h){var m,p,q,u;if(!h.track)return n;p=h.track.Vb;q=h.track.Ul(h.start,h.end);if(void 0 === q || null === q)return n;u=new Set(h.$C);n[p]?(h=n[p],h.expected+=q,h.missed+=q - u.size):n[p]={dlid:p,bcp47:h.track.ye,profile:h.track.profile,expected:q,missed:q - u.size,startPts:null !== (m=h.track.yMb()) && void 0 !== m?m:0};return n;},{});k=Object.values(k);this.Iz && this.log.trace("subtitleqoe:",JSON.stringify(k,null,"\t"));return k;};l.prototype.pMb=function(k){var d,g,n,h;d=this.Sva.slice(0);g=0;n=0;if(this.fk && "undefined" != typeof k){h=new c(this.fk.start,this.fk.track,this.fk.$C);h.end=k;d.push(h);}d.forEach(function(m){var p,q;if(m.track){if(m.end < m.start){(0,f.oa)(!1,"negative range");m.QC=0;return;}p=new Set(m.$C);q=m.track.Ul(m.start,m.end);m.t5=q;m.QC=void 0 === q || null === q?0:0 === q?100:100 * p.size / q;}else m.QC=100;p=m.end - m.start;g+=p;n+=m.QC * p;});h=g?Math.round(n / g):100;this.log.trace("qoe score " + h + ", at pts: " + k);this.Iz && (k=d.map(function(m){return {start:m.start,"end  ":m.end,duration:m.end - m.start,score:Math.round(m.QC),lang:m.track?m.track.ye:"none","actual  ":m.$C.join(" "),expected:m.t5};}),this.log.trace("score for each range: ",JSON.stringify(k,function(m,p){return p;}," ")));return h;};b.JOa=l;},40076:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.pI=void 0;r=a(22674);c=a(53205);l=a(29773);f=a(22692);k=a(87549);b.pI=new r.gd(function(d){d(k.ZOa).to(c.YOa);d(f.WOa).pl(new l.VOa());d(k.XOa).ae(function(g){return function(){return g.ob.get(k.ZOa);};});});},87549:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZOa="ThroughputTrackerSymbol";b.XOa="ThroughputTrackerFactorySymbol";},22692:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WOa="ThroughputTrackerConfigSymbol";},70826:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.lEa=void 0;c=a(72574);b.lEa=function(l,f){this.QEb=l;this.size=f.Sqa()?c.Ia:f;};},29773:function(r,b,a){function c(l){this.REb=void 0 === l?10:l;}Object.defineProperty(b,"__esModule",{value:!0});b.VOa=void 0;r=a(5163);a=a(22674);c=r.__decorate([(0,a.U)()],c);b.VOa=c;},53205:function(r,b,a){var l,f,k,d;function c(g){this.config=g;this.lya=f.Ia;this.rO=[];}Object.defineProperty(b,"__esModule",{value:!0});b.YOa=void 0;r=a(5163);l=a(22674);f=a(72574);k=a(5021);a=a(22692);c.prototype.$m=function(){var n;for(var g;0 < this.rO.length;){g=this.rO.shift();this.TSa(g);}g=void 0 === this.rT || void 0 === this.DF?k.Ia:this.DF.qa(this.rT);n=g.T4a()?0:this.lya.ea(f.pD) / g.ea(k.pa);return {aza:Math.floor(n),dgc:g.ea(k.pa)};};c.prototype.Itb=function(g){this.lya=this.lya.add(g.size);this.rO.push(g.QEb);for(this.rO.sort(function(n,h){return n.start.Qk(h.start);});this.rO.length > this.config.REb;){g=this.rO.shift();this.TSa(g);}};c.prototype.TSa=function(g){void 0 === this.rT && (this.rT=g.start);void 0 !== this.DF && 0 > this.DF.Qk(g.start) && (this.rT=this.rT.add(g.start.qa(this.DF)));if(void 0 === this.DF || 0 > this.DF.Qk(g.end))this.DF=g.end;};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.WOa))],d);b.YOa=d;},35781:function(r,b,a){var l,f,k,d,g,n,h,m,p;function c(q,u,t,w,v,y){var x,z;q=g.$D.call(this,u,q,q,v,!0,{Bf:"",zC:"content"},"1",[{yg:0,url:t,type:"unknown"}],"xx",w || q,n.Wo.rJ,void 0,void 0,"primary",null !== (x=null === y || void 0 === y?void 0:y.profile) && void 0 !== x?x:"dfxp-ls-sdh",null !== (z=null === y || void 0 === y?void 0:y.midx) && void 0 !== z?z:{},!1,!1,null === y || void 0 === y?void 0:y.isLanguageLeftToRight) || this;q.j=u;q.url=t;q.options=y;q.js=null === y || void 0 === y?void 0:y.useRangeHeader;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.$Oa=void 0;r=a(13044);l=a(29204);f=a(37509);k=a(31276);d=a(52569);g=a(26159);n=a(35128);h=a(61726);m=a(43193);p=a(85001);(0,r.YLa)(r.hfa,function(q){var t;function u(w){var v;if(w.ctrlKey && w.altKey && w.shiftKey && w.keyCode == m.Zz.ipb){v=(0,d.createElement)("INPUT",void 0,void 0,{type:"file"});v.addEventListener("change",function(){var y,x,z;y=v.files[0];if(y){x=y.name;t.info("Loading file",{FileName:x});z=new FileReader();z.readAsText(y);z.addEventListener("load",function(){return q.An.uia("nourl",x,{content:z.result});});}});v.click();}}t=(0,k.Fh)(q,"TimedTextCustomTrack");l.config.Ela && (t.info("Loading url",{Url:l.config.Ela}),q.An.uia(l.config.Ela,"custom"));f.oe.addListener(f.JB,u);q.addEventListener(p.ga.og,function(){f.oe.removeListener(f.JB,u);});});da(c,g.$D);c.MBb=function(q,u,t,w){var v;v="custom" + c.qPb++;return new c(v,q,u,t,-1,w);};c.prototype.FYa=function(){var q;q=this;return new Promise(function(u,t){var w,v;if(null === (w=q.options) || void 0 === w?0:w.content)u(q.options.content);else if(q.url){v={responseType:h.Xpa,url:q.url,track:q,Dc:void 0,kB:"tt-" + q.ye,Xr:"unknown"};q.j.Y6.download(v,function(y){y.ia?u(y.content):(y.reason="downloadfailed",y.url=v.url,y.track=q,t(y));});}});};b.$Oa=c;c.qPb=0;},97154:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p){this.I5=h;this.fy={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,l.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.Kcb(m);this.Gna=this.V0a(this.I5);this.lang=p;}Object.defineProperty(b,"__esModule",{value:!0});b.aPa=void 0;l=a(52569);f=a(33579);k=a(15531);d=a(29204);g=a(22365);n=a(3887);c.prototype.Ym=function(){return this.element;};c.prototype.X2b=function(h){this.pv=h;};c.prototype.i3b=function(h){this.entry=h;this.BH();};c.prototype.p3b=function(h){this.Kcb(h);this.BH();};c.prototype.q3b=function(h){this.lang=h;this.BH();};c.prototype.BH=function(){var h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,E;h=this;p=this.Ym();q=p.parentElement;u=q && q.clientWidth || 0;t=q && q.clientHeight || 0;w=0;v=0;y=0;q={width:u,height:t};z=null !== (m=d.config.iba.characterSize) && void 0 !== m?m:d.config.fza.characterSize;this.lang && d.config.e7 && d.config.e7.includes(this.lang) && "MEDIUM" === z && (y=1.4);this.lang && d.config.f7 && d.config.f7.includes(this.lang) && "SMALL" === z && (y=1.6);if(0 < u && 0 < t && this.entry){this.pv && (q=(0,l.H5)(u,t,this.pv),w=Math.round((u - q.width) / 2),v=Math.round((t - q.height) / 2));A=this.Hxb(q);B=(0,l.H5)(A.width,A.height,this.pv);(x=this.O4b(this.entry.blocks)) && (x=this.M1b(x));A=x && x.map(function(G){var F;F=null === G || void 0 === G?void 0:G.region;switch(F.horizontalAlignment){case "start":F.horizontalAlignment="rtl" === h.fy.direction?"right":"left";break;case "end":F.horizontalAlignment="rtl" === h.fy.direction?"left":"right";}F=(0,k.Kma)(G,B,h.I5,h.Gna,y);G=(0,k.zZa)(G) + ";position:absolute";return (0,l.createElement)("div",G,F,c.Pca);});}Object.assign(this.fy,{left:w + "px",right:w + "px",top:v + "px",bottom:v + "px"});p.style.display="none";p.style.direction=this.fy.direction;p.innerHTML="";if(A && A.length){m=q.width;u=q.height;w=q;this.HS && (w=this.ltb(q,this.HS,t,v));this.fy.margin=this.Hr?this.N3(q,"top") + "px " + this.N3(q,"right") + "px " + this.N3(q,"bottom") + "px " + this.N3(q,"left") + "px ":void 0;A.forEach(function(G){return p.appendChild(G);});t=(0,l.aT)(this.fy);p.style.cssText=t + ";visibility:hidden;z-index:-1";v=[];for(z=A.length - 1;0 <= z;z--){C=A[z];D=x[z];E=this.m8a(C,D,m,u);y=0 < y?m / E.width * y:m / E.width;E.width > m && (C.innerHTML=(0,k.Kma)(D,q,this.I5,this.Gna,y),E=this.m8a(C,D,m,u));v[z]=E;}v=(0,f.Tfb)(v,w);if(z=x && x[0] && x[0].textNodes && x[0].textNodes[0] && x[0].textNodes[0].style)(w=z.windowColor,z=z.windowOpacity,w && 0 < z && (C=Math.round(u / 50),q=(0,k.BZa)(x,v,C,w,q),q=(0,l.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,q,c.Pca),p.insertBefore(q,p.firstChild)));p.style.display="none";for(q=v.length - 1;0 <= q;q--){z=v[q];w=A[q].style;C=x[q].region;z=(0,k.AZa)(C,z,m,u,0);Object.assign(w,z);}p.style.cssText=t;}};c.prototype.Uxa=function(h){this.HS=h;this.BH();};c.prototype.rpa=function(){return this.HS;};c.prototype.Vxa=function(h){this.Hr=h;this.BH();};c.prototype.spa=function(){return this.Hr;};c.prototype.tpa=function(){return "block" === this.fy.display;};c.prototype.Wxa=function(h){var m;m=h?"block":"none";this.element.style.display=m;this.fy.display=m;h && this.BH();};c.prototype.n8b=function(h){this.I5=h;this.Gna=this.V0a(h);};c.prototype.V0a=function(h){var m,p;m=this;p={};(0,n.Wf)(h,function(q,u){p[q]=m.JTb(u);});return p;};c.prototype.Kcb=function(h){this.fy.direction="boolean" === typeof h?h?"ltr":"rtl":"inherit";};c.prototype.N3=function(h,m){if(this.Hr){if("left" === m || "right" === m)return h.width * (this.Hr[m] || 0);if("top" === m || "bottom" === m)return h.height * (this.Hr[m] || 0);}return 0;};c.prototype.Hxb=function(h){return this.Hr?{height:h.height * (1 - (this.Hr.top || 0) - (this.Hr.bottom || 0)),width:h.width * (1 - (this.Hr.left || 0) - (this.Hr.right || 0))}:h;};c.prototype.JTb=function(h){var m;h="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + h + ";";h=(0,l.createElement)("DIV",h,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.Pca);g.Ig.body.appendChild(h);m={fontSize:1E3,height:h.clientHeight,width:h.clientWidth / 52,lineHeight:h.clientHeight / 1E3};g.Ig.body.removeChild(h);return m;};c.prototype.m8a=function(h,m,p,q){var u,t,w,v,y;u=m.region;t=(u.marginTop || 0) * q;w=(u.marginBottom || 0) * q;v=(u.marginLeft || 0) * p;y=(u.marginRight || 0) * p;m=h.clientWidth || 1;h=h.clientHeight || 1;switch(u.verticalAlignment){case "top":q=t;break;case "center":q=(t + q - w - h) / 2;break;default:q=q - w - h;}switch(u.horizontalAlignment){case "left":p=v;break;case "right":p=p - y - m;break;default:p=(v + p - y - m) / 2;}return {top:q,left:p,width:m,height:h};};c.prototype.ltb=function(h,m,p,q){return {height:p - Math.max(q,m.bottom || 0) - Math.max(q,m.top || 0),width:h.width};};c.prototype.M1b=function(h){var m,u,t,w;m=h && h.map(function(v,y){var x;return "vertical-rl" === (null === (x=null === v || void 0 === v?void 0:v.region) || void 0 === x?void 0:x.writingMode)?y:-1;}).filter(function(v){return -1 !== v;});if(m && 0 !== m.length)for(var p=0,q=m.length - 1;p < q;(p++,q--)){u=m[p];t=m[q];w=ja([h[t],h[u]]);h[u]=w.next().value;h[t]=w.next().value;}return h;};c.prototype.O4b=function(h){var m,p;if(!h || 0 === h.length)return h;p=h.filter(function(t){var w;return "horizontal-tb" === (null === (w=t.region) || void 0 === w?void 0:w.writingMode);}).sort(function(t,w){return t.region.marginTop - w.region.marginTop;});if(!p || 0 === p.length)return h;for(var q=0,u=0;q < p.length && u < h.length;u++){"horizontal-tb" === (null === (m=h[u].region) || void 0 === m?void 0:m.writingMode) && (h[u]=p[q++]);}return h;};b.aPa=c;c.Pca={"class":"player-timedtext-text-container"};},7953:function(r,b){function a(c,l){var f;f=this;this.w1a=c;this.K8a=l;this.jza=!1;this.jN=function(){f.km=void 0;f.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.ePa=void 0;a.prototype.update=function(c){var l,f,k,d,g;k=this.w1a();if(this.Bgb !== k){d=null === (f=null === (l=this.MV) || void 0 === l?void 0:l.BB(k)) || void 0 === f?void 0:f[0];if(d && ("startTime" in d))if(d.startTime <= k && k <= d.endTime){g=d;this.lgb(d.endTime - k);}else this.lgb(d.startTime - k);this.Bgb=k;this.pia !== g && (this.pia=g,!c && this.K8a && this.K8a());}};a.prototype.start=function(){this.jza=!0;this.update();};a.prototype.Qcb=function(c){this.MV=c;this.pia=this.Bgb=void 0;c || this.stop();};a.prototype.stop=function(){this.jza=!1;this.Ho();};a.prototype.iJb=function(){this.update(!0);return this.pia;};a.prototype.lgb=function(c){this.Ho();this.jza && 0 < c && (this.km=ob.setTimeout(this.jN,c + a.Omb));};a.prototype.Ho=function(){this.km && (ob.clearTimeout(this.km),this.km=void 0);};b.ePa=a;a.Omb=10;},26159:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C,D,E,G,F,J,M,L,K,P,H,I,N,R,X,ha){this.j=x;this.trackId=z;this.tG=A;this.bc=B;this.Yf=C;this.vfb=D;this.Vb=E;this.urls=G;this.ye=F;this.displayName=J;this.wh=M;this.iI=L;this.variant=K;this.KC=P;this.profile=H;this.Pt=I;this.k9=N;this.yIb=R;this.z7=X;this.Ft=ha;this.type=d.Zj.gza;this.js=void 0;this.lk=!(!H || H != n.ym.lJ);this.ug={bcp47:F,trackId:z,downloadableId:E,isImageBased:this.lk};this.log=(0,g.Fh)(x,"TimedTextTrack");this.state=y.L0;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.$D=void 0;l=a(5163);f=a(61726);k=a(29204);d=a(51344);g=a(31276);n=a(75568);h=a(45146);m=a(32687);p=a(58174);q=a(85001);u=a(36129);t=a(56485);w=a(32934);v=a(93161);(function(x){x[x.L0=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.GD=2]="LOADED";x[x.bQ=3]="LOAD_FAILED";})(y || (y={}));c.prototype.h7=function(){var x;x=this;if(this.j.state.value === q.Wb.CLOSED || this.j.state.value === q.Wb.CLOSING)return Promise.reject({ia:!1});if(this.lk)return this.hPb();if(this.j.kd.aa)return (this.state=y.LOADING,this.U3a());this.DYa || (this.DYa=this.FYa());return this.DYa.then(function(z){return x.U3a(z);});};c.prototype.getState=function(){return this.state;};c.prototype.mo=function(){return this.k9;};c.prototype.jn=function(){return this.yIb;};c.prototype.mpa=function(){var x;return (null === (x=this.mY) || void 0 === x?0:x.ready)?this.mY.MV:void 0;};c.prototype.Ul=function(x,z){var A;try{return null === (A=this.mpa()) || void 0 === A?void 0:A.Ul(x,z);}catch(B){this.log.error("error in getSubtitlesCount",B,{start:x,end:z,isImageBased:this.lk});}};c.prototype.yMb=function(){var x,z,A;if(!(0,m.Xc)(this.kb))try{A=null === (z=null === (x=this.mpa()) || void 0 === x?void 0:x.BB(0)) || void 0 === z?void 0:z[0];this.kb=null === A || void 0 === A?void 0:A.displayTime;}catch(B){this.log.error("exception in getStartPts",B);}return this.kb;};c.prototype.Nva=function(x){var z,A;(0,h.oa)((0,v.i4a)(x));(0,h.oa)(null === (z=this.j.Y) || void 0 === z?void 0:z.Fa.Jh,"Live manifest is unavailable.");(0,h.oa)(null === (A=this.mY) || void 0 === A?void 0:A.MV,"Subtitle manager is unavailable");z=x.Ofb;this.mY.MV.Nva({I:x.I,xml:z,kb:x.kb,ff:x.ff,size:z.length,Rr:x.Rr,endOfStream:x.endOfStream});};c.prototype.zaa=function(x){return this.j.state.value === q.Wb.CLOSING || this.j.state.value === q.Wb.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.Mb.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.rXa=function(x){var z,A;z=this;A=(0,g.Fh)(this.j,"TimedTextTrack");A.warn=A.trace.bind(A);A.info=A.debug.bind(A);A=(0,p.sXa)(this.j,A,this.request,this);x=new t.default(A,x);this.mY={MV:x,ready:!1};x.on("ready",function(){z.mY.ready=!0;});return x;};c.prototype.hPb=function(){var x,z,A,B,C,D,E;x=this;if(!this.R3a){this.state=y.LOADING;z={profile:"nflx-cmisc",url:"",lUa:!1,Rsa:this.Pt.offset,s7a:this.Pt.length,Ce:this.j.mediaTime.value || 0,bufferSize:k.config.DOb,laa:{O:this.j.cU()}};A=(this.urls || []).map(function(G){return G.yg;});B=0;C={};D=!0;E=function(G,F){var J;(0,m.Xc)(G)?D || x.zaa(x.At(x.nt,"","image"))?(D=!1,x.Pt.url=null === (J=x.W5(x.nt)) || void 0 === J?void 0:J.url,z.url=x.Pt.url,C[G]=(C[G] || 0) + 1,J=x.rXa(z),J.on("ready",function(){F({ia:!0,track:x});}),J.on("error",function(M){var L;M=Object.assign({ia:!1},M);L=x.At(x.nt,x.Pt.url,"image");L.details={midxoffset:x.Pt.offset,midxsize:x.Pt.length};L.errorstring=M.errorString;C[G] <= k.config.hfb?(x.B5(L,!0,"retry with current cdn"),x.xja(C[G]).then(function(K){x.log.trace("retry timed text download after " + K,x.At(x.nt,"","image"));E(x.nt,F);})):(x.nt=A[B++],x.nt?(x.B5(L,!0,"retry with next cdn"),x.xja(C[G]).then(function(K){x.log.trace("retry timed text download after " + K,x.At(x.nt,"","image"));E(x.nt,F);})):(x.B5(L,!1,"all cdns tried"),F({ia:!1,FUb:"all cdns failed for image subs",track:x})));}),J.start()):F({ia:!1,aborted:!0}):(F({ia:!1,FUb:"cdnId is not defined for image subs downloadUrl"}),x.B5(x.At(0,"","image"),!1,"cdnId is undefined"));};this.nt=A[B++];this.R3a=new Promise(function(G,F){E(x.nt,function(J){J.ia?(x.log.info("Loaded image subtitle manager"),x.state=y.GD,G(J)):(x.log.error("Unable to load image subtitles manager",J),x.state=y.bQ,F(J));});});}return this.R3a;};c.prototype.U3a=function(x){var z,A;z=this;A=this.j.iD.value;(0,h.oa)(A);(0,h.oa)(void 0 !== x || this.j.kd.aa);return new Promise(function(B,C){var D;D=z.rXa({profile:z.profile,xml:x,Aj:k.config.fza,preferences:k.config.iba,Ce:z.j.mediaTime.value || 0,lUa:!1,videoSize:A,aa:z.j.kd.aa});D.on("ready",function(){B(D);}).on("error",function(E){C({ia:!1,error:E});}).start();}).then(function(){z.state=y.GD;return {ia:!0,track:z};}).catch(function(B){z.log.error("Unable to parse timed text track",(0,u.Vw)(B),z.ug,{url:B.url});z.state=y.bQ;B.reason="parseerror";B.track=z;throw B;});};c.prototype.B5=function(x,z,A){x=Object.assign({},x,{Fkc:z,status:A});this.j.fireEvent(q.ga.DO,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,z){var A,B,C;A=this;this.log.trace("Downloading",x);C=this.W5(this.nt);x={url:x.url,offset:x.offset,length:x.size,js:this.js,responseType:f.QU,headers:{},Dc:C?{id:C.yg}:void 0,kB:"tt-" + this.ye,Xr:null !== (B=null === C || void 0 === C?void 0:C.type) && void 0 !== B?B:w.vQ};this.j.Y6.download(x,function(D){A.log.trace("imgsub: request status " + D.ia);D.ia?z(null,new Uint8Array(D.content)):z({za:D.za,He:D.He});});};c.prototype.At=function(x,z,A){return {currentCdnId:x,url:z,profile:this.profile,dlid:this.Vb,subtitletype:A,bcp47:this.ye,trackId:this.trackId,cdnCount:Object.keys(this.urls).length,isImageBased:this.lk};};c.prototype.W5=function(x){return (this.urls || []).find(function(z){return z.yg === x;});};c.prototype.FYa=function(){var B,C;function x(D){return l.__awaiter(B,void 0,void 0,function G(){var F,J,M;J=this;return Ja(G,function(L){F=A();M=J.At(D.Dc.yg,D.url,"text");M.errorstring=D.reason;return F && J.zaa(M)?L.return(J.xja(C[F.yg]).then(z)):L.return(Promise.reject({ia:!1,aborted:!0}));});});}function z(){return l.__awaiter(B,void 0,void 0,function E(){var G,F,J;J=this;return Ja(E,function(M){G=A();F=null === G || void 0 === G?void 0:G.url;return G && F?(C[G.yg]=(C[G.yg] || 0) + 1,M.return(J.MEb(F,G).catch(x))):M.return(Promise.reject({}));});});}function A(){return (B.urls || []).find(function(D){return !!((C[D.yg] || 0) < k.config.hfb);});}B=this;this.state=y.LOADING;C={};return z();};c.prototype.xja=function(x){return new Promise(function(z){var A;A=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return z(A);},A);});};c.prototype.MEb=function(x,z){var A;A=this;this.log.trace("Downloading",z && ({Dc:z.yg}),this.At(z.yg,x,"text"));return new Promise(function(B,C){var D,E;E={responseType:f.Xpa,url:x,track:A,Dc:{id:z.yg},kB:"tt-" + A.ye,Xr:null !== (D=z.type) && void 0 !== D?D:w.vQ};A.j.Y6.download(E,function(G){G.ia?B(G.content):(G=Object.assign(Object.assign({},G),{reason:"downloadfailed",url:E.url,track:A,Dc:z}),C(G));});});};Ya.Object.defineProperties(c.prototype,{Bf:{configurable:!0,enumerable:!0,get:function(){return this.vfb.Bf;}},zC:{configurable:!0,enumerable:!0,get:function(){return this.vfb.zC;}}});b.$D=c;c.hA=y;},58174:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sXa=void 0;b.sXa=function(a,c,l,f){return {ZLb:function(){var k;k=a.Uoa();f.Ft && (k+=f.Ft);return k;},ma:c,request:l,gf:!1};};},73585:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t){var w;w=this;this.j=t;this.Nya=this.U7a=0;this.og=this.gl=!1;this.OC=0;this.b7=new Set();this.YX=!0;this.ol=function(){var v,y;w.P$();w.tF && (w.log.info("Deactivating",w.tF),w.xz.XCb(w.yt()));w.j.$h.set(null);w.sI.Qcb(void 0);w.SVa();v=w.j.Mb.value;v && v.mo() && !v.jn() && (v=null);if(v && w.j.zb.value !== q.lb.Ef){y=w.yt();w.xz.qtb(y,v);}v?(w.log.info("Activating",v),w.j.jm.set(v.getState() === l.$D.hA.GD?q.tf.fe:q.tf.ee),w.gl || w.j.re("tt_start"),v.h7().then(w.iK).catch(w.iK)):w.j.jm.set(q.tf.fe);w.tF=v;w.Gz();};this.sync=function(){w.gl && (w.sI.start(),w.j.zb.value !== q.lb.he && w.sI.stop());};this.Gz=function(){var v;w.YX && w.j.state.value === q.Wb.fe && w.j.zb.value !== q.lb.Ef && (w.Wg?v=w.sI.iJb():w.j.Mb.value && (v=c.m5b[w.j.Mb.value.getState()]));v && (0,p.Xc)(v.startTime) && w.j.lu.value !== v && (w.U7a++,w.Nya+=w.sI.w1a() - v.startTime,w.oUa=Math.ceil(w.Nya / (w.U7a + 0)));w.j.lu.set(v);};this.yt=function(){var v;v=w.j.Uoa();w.tF && w.tF.Ft && (v+=w.tF.Ft);return v;};this.cua=function(v){w.b7.add(v);w.YX && (w.fireEvent(c.vdb,v),v && v.id && (w.xz.Agb(v.id),!1));w.log.trace("showsubtitle",w.z6(v));};this.xW=function(v){w.b7.delete(v) && w.YX && (w.fireEvent(c.bbb,v),w.log.trace("removesubtitle",w.z6(v)));};this.ZNb=function(){w.b7.forEach(function(v){w.fireEvent(c.bbb,v);w.log.trace("hide subtitle",w.z6(v));});};this.H1b=function(){w.b7.forEach(function(v){w.fireEvent(c.vdb,v);w.log.trace("resume subtitle",w.z6(v));});};this.rh=function(){w.log.warn("imagesubs buffer underflow",w.j.Mb.value.ug);w.j.jm.set(q.tf.ee);};this.Nta=function(){w.log.info("imagesubs buffering complete",w.j.Mb.value.ug);w.j.jm.set(q.tf.fe);};this.y9=function(){w.gl && w.Wg && w.Wg.Hz(w.yt());};this.T8a=function(v){w.gl && w.Wg && (w.Wg.pause(),w.Wg.TC(v.Zq));};this.Zv=function(){w.gl && w.Wg && w.Wg.aab();};this.Q8a=function(v){w.Wg && w.Wg.Rj(v.ih,v.$M);};this.Y8a=function(v){w.Wg && w.Wg.gj(v.I,v.M8b);};this.yWb=function(){w.gl=!0;(0,m.If)(function(){var v,y;(null === (v=w.tF) || void 0 === v?0:v.lk)?null === (y=w.Wg) || void 0 === y?void 0:y.Hz(w.yt()):w.sync();w.Gz();});};this.vWb=function(){w.SVa();w.sI.stop();w.Gz();w.og=!0;w.P$();};this.gua=function(v){(v=v.newValue) && (0,p.isArray)(v.blocks) && (w.xz.Agb.apply(w.xz,ba(v.blocks.map(function(y){return y.id;}))),!1);};this.CWb=function(v){w.F8b(v.newValue,v.oldValue);w.sync();w.Gz();};this.iK=function(v){var y;if(!w.og){y=v.track;if(y === w.j.Mb.value)try{w.Wg=y.mpa();y.lk?w.otb(v):w.ptb(v);}catch(x){w.log.error("Error activating track:",x,y);return;}w.gl || w.j.re(v.ia?"tt_comp":"tt_err");v.ia?(d.config.Sbb?setTimeout(function(){w.j.jm.set(q.tf.fe);},d.config.Sbb):w.j.jm.set(q.tf.fe),y.lk || w.Gz()):v.aborted?w.log.warn("aborted timed text track loading"):d.config.oHb?w.j.rd(h.V.Mlb,{Nb:v.track?v.track.ug:{}}):(w.log.error("ignore subtitle initialization error",v),w.j.jm.set(q.tf.fe));}};this.Jb=new k.Yj();this.xz=new n.JOa((0,g.Fh)(t,"SubtitleTracker"),d.config.ZFb);this.log=(0,g.Fh)(t,"TimedTextManager");this.sI=new f.ePa(this.yt,this.Gz);this.j.Mb.addListener(this.ol);d.config.QYb?(this.j.addEventListener(q.ga.gl,this.yWb),this.ol()):(this.j.jm.set(q.tf.fe),this.j.addEventListener(q.ga.gl,function(){w.gl=!0;w.ol();}));this.j.zb.addListener(this.CWb);this.j.addEventListener(q.ga.Zya,this.sync);this.j.lu.addListener(this.gua);this.j.addEventListener(q.ga.og,this.vWb);}Object.defineProperty(b,"__esModule",{value:!0});b.bPa=void 0;l=a(26159);f=a(7953);k=a(94886);d=a(29204);g=a(31276);n=a(69899);h=a(36129);m=a(32219);p=a(32687);q=a(85001);u=a(35781);c.prototype.t4b=function(){this.YX=!0;this.H1b();this.Gz();};c.prototype.$Nb=function(){this.YX=!1;this.ZNb();this.Gz();};c.prototype.addEventListener=function(t,w,v){this.Jb.addListener(t,w,v);};c.prototype.removeEventListener=function(t,w){this.Jb.removeListener(t,w);};c.prototype.fireEvent=function(t,w,v){this.Jb.Ec(t,w,v);};c.prototype.uia=function(t,w,v){var y,x;y=this;x=u.$Oa.MBb(this.j,t,w,v);this.b4a(this.j.Xg,x);this.j.ci.forEach(function(z){y.b4a(z.Xg,x);});this.j.Mb.set(x);this.j.fireEvent(q.ga.pu);};c.prototype.VYb=function(t){this.Gwa(t)?t.h7().then(function(){}):Promise.resolve();};c.prototype.IMb=function(t){return this.xz.pMb(t);};c.prototype.npa=function(t){return this.xz.npa(t);};c.prototype.CU=function(){var t,w;t=this.j.FY;w=d.config.fza.characterSize;w={size:d.config.iba.characterSize || w};t && (w.visibility=t.tpa(),w.HS=t.rpa(),w.Hr=t.spa());return w;};c.prototype.L3b=function(t){d.config.iba.characterSize=t;t=this.j.Mb.value;this.Gwa(t) && !t.lk && t.h7().then(this.iK).catch(this.iK);};c.prototype.F8b=function(t,w){var v;t === q.lb.he || t == q.lb.Kg?w !== q.lb.he && w !== q.lb.Kg && ((w=this.j.Mb.value) && !this.Gwa(w) || this.xz.a8a(this.yt(),w || void 0,"presentingstate:" + t)):t !== q.lb.Ef && t !== q.lb.zq || this.xz.Gma(null !== (v=this.yt()) && void 0 !== v?v:void 0,"presentingstate:" + t);};c.prototype.P$=function(){this.OC=0;ob.clearTimeout(this.K1b);};c.prototype.SVa=function(){var t;this.Wg && this.Wg.stop();(null === (t=this.tF) || void 0 === t?0:t.lk) && this.r6a("removeListener");this.Wg=void 0;};c.prototype.r6a=function(t){this.Wg && (this.Wg[t]("showsubtitle",this.cua),this.Wg[t]("removesubtitle",this.xW),this.Wg[t]("underflow",this.rh),this.Wg[t]("bufferingComplete",this.Nta),"addListener" === t?(this.j.addEventListener(q.ga.$n,this.y9),this.j.addEventListener(q.ga.Ij,this.T8a),this.j.addEventListener(q.ga.NH,this.Zv),this.j.addEventListener(q.ga.f9,this.Q8a),this.j.addEventListener(q.ga.Pza,this.Y8a)):(this.j.removeEventListener(q.ga.$n,this.y9),this.j.removeEventListener(q.ga.Ij,this.T8a),this.j.removeEventListener(q.ga.NH,this.Zv),this.j.removeEventListener(q.ga.f9,this.Q8a),this.j.removeEventListener(q.ga.Pza,this.Y8a)));};c.prototype.z6=function(t){return {currentPts:this.yt(),displayTime:t.displayTime,duration:t.duration,id:t.id,originX:t.originX,originY:t.originY,sizeX:t.sizeX,sizeY:t.sizeY,rootContainerExtentX:t.rootContainerExtentX,rootContainerExtentY:t.rootContainerExtentY};};c.prototype.otb=function(t){var w,v;w=this;v=t.track;if(!v || !v.lk)throw Error("Not an image base subtitle");t.ia?(this.P$(),this.r6a("addListener"),this.log.info("Activated",v),this.j.$h.set(v),this.gl?(0,m.If)(function(){w.Wg.Hz(w.yt());}):this.Wg.pause()):this.Ibb(v,t);};c.prototype.ptb=function(t){var w,v;w=t.track;v=t.ia;if(!w || w.lk)throw Error("Not a valid text track");v?(this.P$(),this.sI.Qcb(this.Wg),this.log.info("Activated",w),this.j.$h.set(w)):this.Ibb(w,(0,h.Vw)(t));this.Gz();};c.prototype.Ibb=function(t,w){var v,y;v=this;y=this.OC < d.config.sTb;y && (this.K1b=ob.setTimeout(function(){v.OC++;t.h7().then(v.iK).catch(v.iK);},d.config.R6b));this.log.error("Failed to activate" + ((null === t || void 0 === t?0:t.lk)?" img subtitle":""),{retry:y},w,t);};c.prototype.Gwa=function(t){return !(!t || t.mo() && !t.jn());};c.prototype.b4a=function(t,w){var v;v=t.findIndex(function(y){return y.bc >= w.bc;});-1 === v && (v=0);t.splice(v,0,w);};b.bPa=c;r={};c.m5b=(r[l.$D.hA.LOADING]={CV:!0},r[l.$D.hA.bQ]={hr:!0},r);c.vdb="showsubtitle";c.bbb="removesubtitle";},79014:function(r,b,a){var l,f,k,d,g,n;function c(h){var m,p,q,u;m=this;this.j=h;this.gWb=function(){var t;k.oe.removeListener(k.K6,m.V8a);t=m.lo.Ym();t && t.parentNode && t.parentNode.removeChild(t);};this.gua=function(t){m.lo.i3b(t.newValue);};this.MWb=function(t){var w;m.lo.p3b(t.newValue?t.newValue.z7:void 0);m.lo.q3b(null === (w=t.newValue) || void 0 === w?void 0:w.ye);m.lo.n8b(m.U0a(t.newValue));};this.V8a=function(){m.lo.BH();};q=h.Mb.value?h.Mb.value.z7:void 0;u=null === (p=h.Mb.value) || void 0 === p?void 0:p.ye;p=this.U0a(h.Mb.value);this.lo=new g.aPa(p,q,u);q=h.iD.value;(0,f.oa)(.1 < q.width / q.height);this.lo.X2b(q.width / q.height);h.uk.appendChild(this.lo.Ym());h.lu.addListener(this.gua);h.Mb.addListener(this.MWb);h.addEventListener(n.ga.og,this.gWb,l.oJ);k.oe.addListener(k.K6,this.V8a);}Object.defineProperty(b,"__esModule",{value:!0});b.cPa=void 0;l=a(33096);f=a(45146);k=a(37509);d=a(29204);g=a(97154);n=a(85001);c.prototype.Wxa=function(h){this.lo.Wxa(h);};c.prototype.tpa=function(){return this.lo.tpa();};c.prototype.Uxa=function(h){this.lo.Uxa(h);};c.prototype.rpa=function(){return this.lo.rpa();};c.prototype.Vxa=function(h){this.lo.Vxa(h);};c.prototype.spa=function(){return this.lo.spa();};c.prototype.U0a=function(h){var m;if(h && d.config.c8 && 0 <= d.config.c8.indexOf(h.ye)){m=Object.assign({},d.config.hba);Object.entries(m).forEach(function(p){var q;q=ja(p);p=q.next().value;q=q.next().value;m[p]=q.replace(/font-weight:bolder/g,"font-weight:normal");});return m;}return d.config.hba;};b.cPa=c;},79342:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tsa=void 0;b.tsa=function(a,c){var d,g;if(0 !== a.length){if(1 === a.length)return a[0];for(var l=a[0],f=c(l),k=1;k < a.length;k++){d=a[k];g=c(d);g > f && (l=d,f=g);}return l;}};},28838:function(r,b,a){var c,l,f,k,d,g,n,h,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.de=void 0;r=a(22674);c=a(58421);l=a(6856);f=a(48864);k=a(37187);d=a(17842);g=a(96723);n=a(67371);h=a(47511);m=a(45613);p=a(51361);b.de=new r.gd(function(q){q(k.v1).to(c.HOa).ha();q(d.Afa).to(f.eNa).ha();q(g.EPa).to(l.DPa).ha();q(n.enb).to(h.mKa).ha();q(m.bQa).to(p.aQa).ha();});},97368:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.V$a=void 0;b.V$a=function(a){var c,l;c=!1;l=!1;return function(){if(c)l=!0;else for(l=!0;l;){l=!1;c=!0;a();c=!1;}};};},99037:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.b8=void 0;b.b8=function(a,c,l){var f;if(l.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");f=l.get;l.get=function(){var k,d;k=f.apply(this,arguments);d={enumerable:l.enumerable,value:k};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return k;};};},67371:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.enb="ObjectComparerSymbol";},88195:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.eN=b.Eg=void 0;c=a(45266);b.Eg=function(l,f){return [].concat.apply([],ba(l)).map(function(k){return Object.assign({name:k},null !== f && void 0 !== f?f:{});});};b.eN=function(l,f){for(var k=[],d=1;d < arguments.length;++d){k[d - 1]=arguments[d];}return (0,c.rYa)(function(g,n){return g.name === n;},l,k);};},17842:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Afa="QueryStringDataProviderSymbol";},37187:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.v1=b.Vo=void 0;b.Vo=function(){};b.v1="StringObjectReaderSymbol";},79542:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wL=b.Yqa=void 0;b.Yqa=function(a){return void 0 !== a && null !== a;};b.wL=function(){return null;};},96723:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EPa="UuidProviderSymbol";},45613:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bQa="WindowUtilsSymbol";},47511:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.mKa=void 0;r=a(5163);l=a(22674);f=a(76564);c.prototype.compare=function(k,d){var g;g=[];this.Pka(k,d,"",g);return g;};c.prototype.Pka=function(k,d,g,n){var h;h=this;if(f.ED.PA(k))f.ED.PA(d) && k.length === d.length?k.forEach(function(q,u){h.Pka(k[u],d[u],g + "[" + u + "]",n);}):n.push({a:k,b:d,path:g});else if(f.ED.qS(k) && null != k){if(f.ED.qS(d) && null != d){for(var m in k){this.Pka(k[m],d[m],g + "." + m,n);}for(var p in d){(p in k) || void 0 === d[p] || n.push({a:void 0,b:d[p],path:g + "." + p});}}else n.push({a:k,b:d,path:g});}else k !== d && n.push({a:k,b:d,path:g});};a=c;a=r.__decorate([(0,l.U)()],a);b.mKa=a;},48864:function(r,b,a){var l,f,k,d;function c(g){this.location=g;(0,f.po)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.eNa=void 0;r=a(5163);f=a(66523);k=a(63368);a=a(22674);c.MW=function(g){var n,m,p;n={};if(0 < g.length){g=g.split("&");for(var h=0;h < g.length;h++){m=g[h].trim();p=m.indexOf("=");0 <= p?n[decodeURIComponent(m.substr(0,p).replace(l.HKa,"%20"))]=decodeURIComponent(m.substr(p + 1).replace(l.HKa,"%20")):n[m.toLowerCase()]="";}}return n;};Ya.Object.defineProperties(c.prototype,{s_b:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=l.MW(this.cab);}},cab:{configurable:!0,enumerable:!0,get:function(){var g;if(void 0 !== this.hX)return this.hX;this.hX=this.location.search.substr(1);g=this.hX.indexOf("#");0 <= g && (this.hX=this.cab.substr(0,g));return this.hX;}}});d=l=c;d.HKa=/[+]/g;d=l=r.__decorate([(0,a.U)(),r.__param(0,(0,a.l)(k.hIa))],d);b.eNa=d;},58421:function(r,b,a){var l,f,k,d,g,n;function c(h,m){this.is=h;this.json=m;(0,f.po)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.HOa=void 0;r=a(5163);f=a(66523);k=a(63368);d=a(22674);g=a(42207);n=a(37187);c.prototype.qab=function(h){var m;m=this;return l.read(h,function(p){return parseInt(p);},function(p){return m.is.Sia(p);});};c.prototype.Uva=function(h){var m;m=this;return l.read(h,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return m.is.G2(p);});};c.prototype.mq=function(h){var m;m=this;return l.read(h,function(p){return parseInt(p);},function(p){return m.is.rS(p);});};c.prototype.B_b=function(h){var m;m=this;return l.read(h,function(p){return parseFloat(p);},function(p){return m.is.dk(p);});};c.prototype.pab=function(h,m){return l.read(h,function(p){return l.JHb(p,m);},function(p){return void 0 !== p;});};c.prototype.Xva=function(h,m){return l.read(h,function(p){return p;},function(p){return m?m.test(p):!0;});};c.prototype.rab=function(h){var m,p;m=this;p=void 0 === p?function(){return !0;}:p;try{return l.read(h,function(q){return m.json.parse(decodeURIComponent(q));},function(q){return m.is.qS(q) && p(q);});}catch(q){return new n.Vo();}};c.prototype.Hj=function(h,m,p){var q,u;q=this;p=void 0 === p?1:p;h=h.trim();u=m instanceof Function?m:this.nCb(m,p);m=h.indexOf("[");p=h.lastIndexOf("]");if(0 != m || p != h.length - 1)return new n.Vo();h=h.substring(m + 1,p);try{return l.CXb(h).map(function(t){t=u(q,l.o9b(t));if(t instanceof n.Vo)throw t;return t;});}catch(t){return t instanceof n.Vo?t:new n.Vo();}};c.prototype.nCb=function(h,m){var p;p=this;m=void 0 === m?1:m;return function(q,u){q=l.GLb(h);return 1 < m?p.Hj(u,h,m - 1):q(p,u);};};c.JHb=function(h,m){var q;for(var p in m){q=parseInt(p);if(m[q] == h)return q;}};c.read=function(h,m,p){h=m(h);return void 0 !== h && p(h)?h:new n.Vo();};c.GLb=function(h){switch(h){case "int":return function(m,p){return m.qab(p);};case "bool":return function(m,p){return m.Uva(p);};case "uint":return function(m,p){return m.mq(p);};case "float":return function(m,p){return m.B_b(p);};case "string":return function(m,p){return m.Xva(p);};case "object":return function(m,p){return m.rab(p);};}};c.CXb=function(h){var y;for(var m=[["[","]"]],p=[],q=0,u=0,t=0,w=[],v={};u < h.length;(v={iP:v.iP},++u)){v.iP=h.charAt(u);y=void 0;"," == v.iP && 0 == t?(p.push(h.substr(q,u - q)),q=u + 1):(y=m.find((function(x){return function(z){return z[0] == x.iP;};})(v)))?(++t,w.push(y)):0 < w.length && w[w.length - 1][1] == v.iP && (--t,w.pop());}if(q != u)p.push(h.substr(q,u - q));else if(q == u && 0 < q)throw new n.Vo();return p;};c.o9b=function(h){var m;m=h.charAt(0);if('"' == m || "'" == m){if(h.charAt(h.length - 1) != m)throw new n.Vo();return h.substring(1,h.length - 1);}return h;};a=l=c;a=l=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(g.Uf)),r.__param(1,(0,d.l)(k.FD))],a);b.HOa=a;},6856:function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.DPa=void 0;r=a(5163);a=a(22674);c.prototype.Y_a=function(f){var k;k=this;return f?(f ^ 16 * Math.random() >> f / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(d){return k.Y_a(d);});};l=c;l=r.__decorate([(0,a.U)()],l);b.DPa=l;},51361:function(r,b,a){var l,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.aQa=void 0;r=a(5163);l=a(22674);f=a(22365);c.prototype.fMb=function(){var k;k=ob.devicePixelRatio || 1;return {width:f.Ou.width * k,height:f.Ou.height * k};};a=c;a=r.__decorate([(0,l.U)()],a);b.aQa=a;},67590:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tca="AsePrefetcherAdapterSymbol";b.GBa="AsePrefetcherProviderSymbol";},18148:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jca="CacheManagerFactorySymbol";},99584:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y;Object.defineProperty(b,"__esModule",{value:!0});b.ed=void 0;r=a(22674);c=a(68976);l=a(37780);f=a(66476);k=a(87657);d=a(12849);g=a(85671);n=a(27162);h=a(19484);m=a(71576);p=a(32737);q=a(59315);u=a(20318);t=a(67590);w=a(61170);v=a(18148);y=a(94028);b.ed=new r.gd(function(x){x(c.PLa).to(l.OLa).ha();x(k.wfa).to(d.XMa).ha();x(f.bE).to(g.NPa).ha();x(p.WMa).to(m.TIa).ha();x(p.VMa).to(h.SHa).ha();x(p.UMa).to(n.MHa).ha();x(t.GBa).a7b(function(){var z;return null === (z=u.vp.Ph) || void 0 === z?void 0:z.gw;});x(t.tca).to(w.FBa).ha();x(q.ufa).to(q.IMa);x(v.Jca).to(y.ZCa).ha();});},68976:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PLa="PlayPredictionDeserializerSymbol";},32737:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WMa="PreparerManifestFetcherSymbol";b.VMa="PreparerLicenseFetcherSymbol";b.UMa="PreparerLegacyLicenseFetcherSymbol";},32573:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jj=void 0;r=b.jj || (b.jj={});r.Zn="created";r.ww="started";r.EO="succeeded";r.hr="failed";r.Rd="cancelled";r.jVa="cancelled_on_start";r.hka="cancelled_not_encrypted";},87657:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wfa=b.wJ=void 0;r=b.wJ || (b.wJ={});r.v6b="taskstart";r.t6b="taskabort";r.u6b="taskfail";r.w6b="tasksuccess";b.wfa="PreparerTaskSchedulerSymbol";},66476:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bE="VideoPreparerSymbol";},61170:function(r,b,a){var f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A;function c(){var B;B=this;this.promise=new Promise(function(C,D){B.resolve=C;B.reject=D;});}function l(B,C,D,E,G){var F;F=this;this.hva=D;this.dZb=E;this.Nh=G;this.oZ=[];this.CC=new Map();this.aqa=new Map();this.BWb=function(J){var M,L;J=J.wishListItem.key.J;if(F.CC.has(J)){L=F.CC.get(J);J=L.CN;L=L.Tka;null === (M=L.resolve) || void 0 === M?void 0:M.call(L,J);}};this.C9=function(J){var M,L;M=J.J;L=J.Y;J.target.kAa(J.J) || (F.Pe.has({J:M}) && (F.Pe.Xm(M).gr=!0),null === L || void 0 === L?void 0:L.then(function(K){var P;P=K.Fa;P && P.$b && P.yp && P.yp.forEach(function(H){var I;I={Ff:{$b:P.$b,zd:M}};F.Pe.has({J:H.P,zd:P.P,$b:P.$b}) && (F.Pe.Xm(H.P,I).gr=!0);});}).catch(function(){}),F.Rab(M),F.gdb(F.oZ));};this.LZa=function(J,M){var L,K;L=J.J;K=J.Y;J.target.kAa(L) || (null === K || void 0 === K?void 0:K.then(function(P){(P=P.Fa) && P.$b && P.$b === M.$b && L === M.zd && (P={Ff:{$b:P.$b,zd:L}},F.Pe.has(M) && (F.Pe.Xm(M.J,P).gr=!0),F.aqa.delete(F.Pe.generateKey(M)));}).catch(function(){}));};this.ma=B.ab("VideoPreparer");this.config=C();}Object.defineProperty(b,"__esModule",{value:!0});b.FBa=void 0;r=a(5163);f=a(87386);a(50323);k=a(20318);d=a(93161);g=a(4203);n=a(29204);h=a(72639);m=a(67590);p=a(22674);q=a(59315);u=a(57055);t=a(49745);w=a(24735);v=a(64213);y=a(25505);x=a(32573);z=a(45146);A=a(37991);l.prototype.Db=function(B){var C;C=this;this.Pe=new v.mga(function(D,E){return C.wv(D,B,k.vp.bi,E);},function(D,E){return C.qw(D,B,E);});};l.prototype.fetch=function(B,C){var D;D=this;if(-1 === C.events.listeners("manifestRemovedFromCache").indexOf(this.C9))C.events.on("manifestRemovedFromCache",this.C9);if(-1 === C.events.listeners("playbackClosing").indexOf(this.C9))C.events.on("playbackClosing",this.C9);!1;return this.ny(B.P,C,B.wb).then(function(E){if("LIVE" === E.Fa.ag)throw {status:x.jj.jVa};D.gdb(D.lzb(D.KCb(B,C)));return D.CC.get(B.P).Tka.promise;});};l.prototype.getStats=function(){return this.gw.getStats();};l.prototype.t5b=function(B,C,D){C={fh:C,Y:D};this.aqa.set(this.Pe.generateKey(B),C);};l.prototype.TLb=function(B){return this.aqa.get(this.Pe.generateKey(B));};l.prototype.lzb=function(B){return [B].concat(ba(this.oZ.filter(function(C){return C.key.J !== B.key.J;}))).slice(0,this.config.bZb).map(this.config.cZb?function(C,D){return Object.assign({},C,{priority:D});}:function(C){return C;});};l.prototype.p1a=function(B,C,D){var E;E=this;D=void 0 === D?{}:D;return this.ny(B,C,D).then(function(G){E.RWa(G,C);return G.Fa;});};l.prototype.ny=function(B,C,D){var E;D=void 0 === D?{}:D;return this.Nh.ny({na:null !== (E=C.Ct(B)) && void 0 !== E?E:C.u4(B),J:B,jr:h.ul.qJ,kf:w.yh.En,cb:D});};l.prototype.qw=function(B,C,D){var E,G,F,J,M,L;E=this;(0,z.oa)(D.Ff,"auxiliaryOptions must exist if an adBreak hydration was requested");F=D.Ff;J=F.$b;M=F.zd;(0,z.oa)(!!J,"auxiliaryManifestToken must exist if an adBreak hydration was requested");L=this.Pe.Xm(null === (G=null === D || void 0 === D?void 0:D.Ff) || void 0 === G?void 0:G.zd);return L.uq.then(function(K){var P,H,I;K=K.Y.Gd;P=L.na;(0,z.oa)(void 0 !== P,"parent xid must exist if an adBreak hydration was requested");H=h.ul.wm;I={rM:!0,sg:!1,fD:Date.now()};return E.Nh.ny({na:Number(P),cb:I,J:M,jr:H,kf:void 0,RO:void 0,Gf:{fh:B,$b:J,zd:M,FW:K}},!1).then(function(N){var R,X;E.RWa(N,C);N.yp.forEach(function(ha){var xa;function ta(Ba){E.LZa(Ba,xa);C.events.Lr("playbackClosing",ta);}function la(Ba){E.LZa(Ba,xa);C.events.Lr("manifestRemovedFromCache",la);}xa={J:ha.Fa.P,zd:M,$b:J};E.t5b(xa,B,ha);C.events.on("manifestRemovedFromCache",la);C.events.on("playbackClosing",ta);});if(null === (R=N.Fa.Gm) || void 0 === R || !R.ie.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (M + ", adBreakToken: " + B));return null === (X=N.Fa.Gm) || void 0 === X?void 0:X.ie[0];});});};l.prototype.RWa=function(B,C){var D,E,G;D=this;E=B.Fa;null === (G=E.yp) || void 0 === G?void 0:G.forEach(function(F){D.wv(F.P,C,k.vp.bi,{Ff:{$b:F.$b,zd:E.P}},F);});};l.prototype.KCb=function(B,C){var D,E,G,F,J,M;G=new c();if(this.CC.has(B.P)){F=this.CC.get(B.P);J=F.CN;if(J.P === B.P && J.Cd === B.Cd)M=F.c$b.key;this.gw.getStats().contents.some(function(L){return L.id === B.P;}) && (G=F.Tka);}F=k.vp.bi.Yn((0,n.f4)(B.Cd));M || (M={J:B.P,config:F});J={J:B.P};this.Pe.has(J) || this.Pe.store(J,this.ICb(B,C,F));C={key:M,thc:!1,priority:B.priority,B3:d.L.Na(null !== (E=null === (D=B.wb) || void 0 === D?void 0:D.kb) && void 0 !== E?E:0),Pe:this.Pe};this.CC.set(B.P,{c$b:C,CN:B,Tka:G});return C;};l.prototype.ICb=function(B,C,D){var E,G,F;E=this;G=B.P;return {get na() {return C.Ct(G);},gr:!1,events:new u.EventEmitter(),iVa:function(){},get uq() {F || (F=E.p1a(B.P,C,B.wb).then(function(J){return {Y:J,uv:J.N6 && !J.MB,config:D,fya:{}};}));return F;},J:G,Pya:!1,equals:function(J){var M;M=C.Ct(G);return J && J.J === G && (!J.na || !M || M === J.na);}};};l.prototype.wv=function(B,C,D,E,G){var F,J,M,L,K,P,H,I;F=this;K=C.Ct(B);if(K || E){P={J:B,zd:null === (J=null === E || void 0 === E?void 0:E.Ff) || void 0 === J?void 0:J.zd,$b:null === (M=null === E || void 0 === E?void 0:E.Ff) || void 0 === M?void 0:M.$b};if(!this.Pe.has(P)){H=null !== K && void 0 !== K?K:this.Pe.Xm(null === (L=null === E || void 0 === E?void 0:E.Ff) || void 0 === L?void 0:L.zd).na;this.Pe.store(P,{iVa:function(){},equals:function(N){return N && N.J === P.J && (H === N.na || !N.na || !H);},get uq() {I || (I=(G?Promise.resolve(G):F.p1a(B,C)).then(function(N){return {Y:N,uv:N.N6 && !N.MB,config:D,fya:{}};}));return I;},set uq(N) {I=N;},events:new u.EventEmitter(),na:H,J:P.J,gr:!1,Pya:!1});}}};l.prototype.Pcb=function(B){this.oZ=B;};l.prototype.gdb=function(B){this.Pcb(B);this.gw.fdb(this.oZ);};l.prototype.Rab=function(B){this.CC.has(B) && (this.Pcb(this.oZ.filter(function(C){return C.key.J !== B;})),this.CC.delete(B));};Ya.Object.defineProperties(l.prototype,{gw:{configurable:!0,enumerable:!0,get:function(){this.zx || (this.zx=this.dZb(),this.zx.Iia(new A.CNa()).Mxa(this.hva).Xcb(new y.tHa()).Ccb({OB:this.config.aZb}),this.zx.events.on("prefetchComplete",this.BWb));return this.zx;}}});a=l;a=r.__decorate([(0,p.U)(),r.__param(0,(0,p.l)(f.bb)),r.__param(1,(0,p.l)(g.Yb)),r.__param(2,(0,p.l)(q.ufa)),r.__param(3,(0,p.l)(m.GBa)),r.__param(4,(0,p.l)(t.ND))],a);b.FBa=a;},94028:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p){var q;q=this;this.Vf=m;m=p();this.mg=new n({log:h.ab("CacheManager"),sa:{getTime:function(){return q.Vf.Kb().ea(d.pa);}},Promise:Promise,gf:!1,ixb:m.jZb,hxb:m.hZb,WGb:m.z$a,VGb:m.iZb});}Object.defineProperty(b,"__esModule",{value:!0});b.ZCa=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(87386);d=a(5021);g=a(4203);n=a(41385);c=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.bb)),r.__param(1,(0,l.l)(f.Lc)),r.__param(2,(0,l.l)(g.Yb))],c);b.ZCa=c;},25505:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.tHa=void 0;a.prototype.n_a=function(c,l){var f;return null !== (f=this.KHb(c,l)) && void 0 !== f?f:this.OHb(c,l);};a.prototype.KHb=function(c,l){var f,k;f=this;k=l.da;return c.find(function(d){var g;return f.C4(k,null === (g=d.da) || void 0 === g?void 0:g.da);});};a.prototype.OHb=function(c,l){var f,k;f=l.da.Be;k=l.da.O[f];return c.find(function(d){var g;d=null === (g=d.da) || void 0 === g?void 0:g.da;d=(g=null === d || void 0 === d?void 0:d.Be) && (null === d || void 0 === d?void 0:d.O[g]) || void 0;return f === g && k.J === (null === d || void 0 === d?void 0:d.J) && k.ta === (null === d || void 0 === d?void 0:d.ta);});};a.prototype.C4=function(c,l){var f;f=this;return c === l?!0:"object" !== typeof c || "object" !== typeof l?c === l:Object.keys(c).length === Object.keys(l).length && Object.keys(c).every(function(k){return f.C4(c[k],l[k]);});};b.tHa=a;},27162:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z;function c(A,B,C,D,E,G,F,J,M,L,K){this.Or=C;this.cY=D;this.kc=E;this.sa=G;this.Ea=F;this.CM=J;this.fYb=M;this.Nh=L;this.fi=K;this.log=A.ab("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.MHa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(4203);d=a(32573);g=a(63156);n=a(24735);h=a(91581);m=a(95162);p=a(98166);q=a(2248);u=a(5021);t=a(30869);w=a(81918);v=a(50323);y=a(21892);x=a(49745);a=a(23563);c.prototype.fetch=function(A,B){var C;C=this;this.log.trace("Fetching LDL",(0,v.ZI)(A));this.P=A.P;this.ed=B;return B.KL(A.P,"ldl").catch(function(){C.log.trace("Requesting a new license",(0,v.ZI)(A));return C.Nh.V5(A.P).then(function(D){var E,G;C.Y=D;C.Fa=D.Fa;if(D=C.ed.qdb(A.P,C.Fa))throw {status:D};D=C.Fa.uu[0].aX;E=C.Fa.uu[0].lma;G=(D?D:[E]).map(function(F){return C.kc.decode(F.bytes);});C.je=C.cB({VYa:C.log,Mma:function(F){return C.handleError(F);},re:void 0,yta:function(){},sa:{getTime:function(){return C.Ea.Kb().ea(u.pa);},Mgc:function(){return C.sa.ke.ea(u.xm);}}});B.Dcb(A.P,C.je);return C.je.create(C.config.Yl).then(function(){return C.je.Rg(n.yh.En,G,!0);}).then(function(){return C.je;}).catch(function(F){C.handleError(F);throw F;});}).catch(function(D){C.log.warn("Manifest not available for ldl request",D);if(void 0 !== D.status)throw D;throw {status:d.jj.Rd};});});};c.prototype.handleError=function(A){this.log.warn("ldl is now invalid",A);this.je.close();this.ed.NVa(this.P);this.ed.Hka(this.P);};c.prototype.cB=function(A){var B,C;B=this;if(!this.Or.YI || !this.Or.WI){C=this.fYb();this.Or.YI=C.qz;this.Or.WI=C.request;}C=new this.Or.WI(A.VYa,function(D){var E;E=[];D.xj.forEach(function(G){E.push({sessionId:G.sessionId,dataBase64:B.kc.encode(G.data)});});D={xj:E,X4:[B.Fa.Uk],kf:g.Xj.MWa(D.kf),Gd:B.Fa.Gd,na:B.ed.u4(B.P),ri:B.Y.ri,ag:B.Y.Fa.ag};B.log.trace("xid created ",{MovieId:B.P,xid:D.na});return B.CM.Ws(D);},void 0,{gf:!1,kk:!1});return this.Or.YI(A.VYa,A.re,{gf:!1,kk:!1,Hd:C,dX:this.config.T$a,ba:void 0,Iz:this.config.eZa,onerror:A.Mma,yta:A.yta,sa:A.sa,kH:!1,Jvb:this.cY.n4([]),z9b:this.cY.t4([]),Ara:this.fi.a3.ea(u.pa)});};z=c;z=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.bb)),r.__param(1,(0,l.l)(k.Yb)),r.__param(2,(0,l.l)(h.V0)),r.__param(3,(0,l.l)(m.IQ)),r.__param(4,(0,l.l)(q.$g)),r.__param(5,(0,l.l)(t.cg)),r.__param(6,(0,l.l)(w.Lc)),r.__param(7,(0,l.l)(p.cQ)),r.__param(8,(0,l.l)(y.dfa)),r.__param(9,(0,l.l)(x.ND)),r.__param(10,(0,l.l)(a.Aq))],z);b.MHa=z;},19484:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t;function c(w,v,y,x,z,A){this.kc=y;this.VEb=x;this.PM=z;this.Nh=A;this.log=w.ab("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.SHa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(4203);d=a(24735);g=a(2248);n=a(47737);h=a(92395);m=a(32573);p=a(50323);q=a(49745);u=a(82100);t=a(56039);c.prototype.fetch=function(w,v){var y;y=this;this.log.trace("Fetching LDL",(0,p.ZI)(w));this.P=w.P;this.ed=v;return v.KL(w.P,"ldl").then(function(x){return x.qaa;}).catch(function(){y.log.trace("Requesting a new license",(0,p.ZI)(w));return y.Nh.V5(w.P).then(function(x){var z,A,B,C,D,E;y.Fa=x.Fa;if(v.I2a(w.P))return v.KL(w.P,"ldl").then(function(G){return G.qaa;});z=y.ed.qdb(w.P,y.Fa);if(z)throw {status:z};A=y.Fa.uu[0];z=A.aX;B=A.lma;A=A.streams[0].bB;C=(0,u.Hqa)(A);D=(z?z:[B]).map(function(G){return y.kc.decode(G.bytes);});E=y.VEb().then(function(G){var F;F={type:d.yh.En,initData:D,s7:C,context:{N7:(0,t.Eoa)(x.Fa.uu[0].streams)},yi:{P:w.P,na:v.u4(w.P),Gd:y.Fa.Gd,Uk:y.Fa.Uk,ri:x.ri,ag:x.Fa.ag}};return G.Rg(F,y.PM());}).catch(function(G){y.handleError("Unable to prepare an EME session.",G);throw G;});y.ed.Dcb(w.P,{qaa:E,source:"videopreparer"},function(){if(!y.ed.kAa(w.P))try{E.then(function(G){return G.close();}).catch(function(G){y.handleError("Unable to cleanup LDL session, Unable to get the session.",G);});}catch(G){y.handleError("Unable to cleanup LDL session, unexpected exception.",G);}});return E;}).catch(function(x){y.log.warn("Manifest not available for ldl request",x);if(void 0 !== x.status)throw x;throw {status:m.jj.Rd};});});};c.prototype.handleError=function(w,v){this.log.warn(w + " LDL is now invalid.",v);this.ed.NVa(this.P);this.ed.Hka(this.P);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.bb)),r.__param(1,(0,l.l)(k.Yb)),r.__param(2,(0,l.l)(g.$g)),r.__param(3,(0,l.l)(n.q_)),r.__param(4,(0,l.l)(h.mQ)),r.__param(5,(0,l.l)(q.ND))],a);b.SHa=a;},71576:function(r,b,a){var l,f,k,d,g,n,h,m,p,q;function c(u,t,w,v,y){this.NV=w;this.Vf=v;this.Nh=y;this.log=u.ab("VideoPreparer");this.config=t();}Object.defineProperty(b,"__esModule",{value:!0});b.TIa=void 0;r=a(5163);l=a(4203);f=a(22674);k=a(87386);d=a(81918);g=a(5021);n=a(17398);h=a(72639);m=a(50323);p=a(49745);q=a(24735);c.prototype.fetch=function(u,t){var w,v;this.log.trace("Fetching manifest",(0,m.ZI)(u));v=u.wb;this.config.ktb && v && v.Y && !this.Nh.M6(u.P) && (!(("clientGenesis" in v.Y) && v.Y.clientGenesis) || "number" === typeof v.Y.clientGenesis && Date.now() - v.Y.clientGenesis < this.config.z$a) && (v=this.NV.create(v.Y)) && (v.FH=this.Vf.Kb().ea(g.pa),v.WN=this.Vf.Kb().ea(g.pa),this.Nh.lY(u.P,v));return this.Nh.ny({na:t.u4(u.P),J:u.P,cb:null !== (w=u.wb) && void 0 !== w?w:{},jr:h.ul.qJ,kf:q.yh.En},!0,function(y){t.events.emit("manifestRemovedFromCache",{target:t,type:"manifestRemovedFromCache",J:u.P,Y:y});});};a=c;a=r.__decorate([(0,f.U)(),r.__param(0,(0,f.l)(k.bb)),r.__param(1,(0,f.l)(l.Yb)),r.__param(2,(0,f.l)(n.iJ)),r.__param(3,(0,f.l)(d.Lc)),r.__param(4,(0,f.l)(p.ND))],a);b.TIa=a;},37780:function(r,b,a){var l,f,k;function c(d,g){this.Bb=g;this.ma=d.ab("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.OLa=void 0;r=a(5163);l=a(22674);f=a(87386);a=a(42207);c.prototype.iEb=function(d){var g;g=this;try{return {direction:d.direction,Dhc:d.layoutHasChanged,fjc:d.rowInteractionIndex,Lb:d.lolomos.map(function(n){return g.dEb(n);})};}catch(n){this.ma.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.dEb=function(d){var g;g=this;return {context:d.context,list:d.list.map(function(n){return g.cEb(n);}),requestId:d.requestId,rowIndex:d.rowIndex,gjc:d.rowSegment};};c.prototype.cEb=function(d){var g,n;g={Ce:d.pts,property:d.property,J:d.viewableId,index:d.index};n=d.preplay;this.Bb.qg(n) && (g.m$=this.hEb(n));d=d.params;this.Bb.qg(d) && (g.wb=this.hYa(d));return g;};c.prototype.hEb=function(d){var g;g={Ce:d.pts,J:d.viewableId,vN:d.pipelineNum,index:d.index};d=d.params;this.Bb.qg(d) && (g.wb=this.hYa(d));return g;};c.prototype.hYa=function(d){return {Cd:d.uiLabel,Uj:d.trackingId,fm:d.sessionParams};};c.prototype.gEb=function(d){var g;g=this;try{return d.map(function(n){return g.eEb(n);});}catch(n){this.ma.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.eEb=function(d){var g,n;n=d.params;this.Bb.qg(n) && (g=this.fEb(n));return {P:d.movieId,priority:d.priority,force:d.force,wb:g,Cd:d.uiLabel,mkc:d.uiExpectedStartTime,lkc:d.uiExpectedEndTime,Vk:d.firstTimeAdded};};c.prototype.fEb=function(d){var g,n;g=void 0;n=d.sessionParams;this.Bb.qg(n) && (g=n);return {w3:this.bEb(d.authParams),fm:g,Uj:d.trackingId,kb:d.startPts,Y:d.manifest,sg:d.isBranching};};c.prototype.bEb=function(d){return {ZXb:null === d || void 0 === d?void 0:d.pinCapableClient};};k=c;k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.bb)),r.__param(1,(0,l.l)(a.Uf))],k);b.OLa=k;},59315:function(r,b,a){var l,f,k,d;function c(g,n){this.cm=g;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.ufa=b.IMa=void 0;r=a(5163);l=a(22674);f=a(75864);k=a(50954);a=a(4203);c.prototype.z6a=function(g){var n,h;n=this;if(g.Dd.key.da)return Promise.resolve(g.Dd.key.da);h=g.Dd.key.J;return g.Dd.Pe.Xm(h).uq.then(function(m){m=m.Y;return m.Dp?(0,k.S3)(m.Dp,{config:n.config()}):(0,k.Faa)(h,n.cm.kr(h));});};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.vJ)),r.__param(1,(0,l.l)(a.Yb))],d);b.IMa=d;b.ufa="PlaygraphResolverSymbol";},50323:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZI=void 0;b.ZI=function(){return "";};},79538:function(r,b,a){var l,f;function c(k,d,g,n,h,m,p,q){this.type=k;this.Zn=d;this.VXb=void 0 === g?!1:g;this.notify=h;this.uHb=m;this.CN=p;this.ed=q;this.id=++f;this.status=l.jj.Zn;}Object.defineProperty(b,"__esModule",{value:!0});b.DQ=void 0;l=a(32573);f=0;c.prototype.At=function(){var k;k={id:this.id,type:this.type,created:this.Zn,status:this.status,movieId:this.P};this.startTime && (k.startTime=this.startTime);this.endTime && this.startTime && (k.duration=this.endTime - this.startTime,k.endTime=this.endTime);return k;};c.prototype.cN=function(k){this.notify && this.notify(k);};c.prototype.T1b=function(){return this.uHb.fetch(this.CN,this.ed);};Ya.Object.defineProperties(c.prototype,{P:{configurable:!0,enumerable:!0,get:function(){return this.CN.P;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.CN.priority;}}});b.DQ=c;},12849:function(r,b,a){var l,f,k,d,g,n,h,m,p,q;function c(u,t,w,v){this.is=w;this.Vf=v;this.log=u.ab("TaskScheduler");this.Jb=new p.Yj();this.config=t();this.currentIteration=this.eT=0;this.nI=[];this.paused=!1;this.Naa=[];this.rWa=[];this.oPb=this.config.gZb || q.append;this.addEventListener=this.Jb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.XMa=void 0;r=a(5163);l=a(22674);f=a(87657);k=a(87386);d=a(4203);g=a(32573);n=a(42207);h=a(81918);m=a(5021);p=a(94886);(function(u){u.prepend="prepend";u.append="append";u.wOb="ignore";})(q || (q={}));c.prototype.eub=function(u){this.log.trace("adding tasks, number of tasks: " + u.length);this.paused=!1;this.nI=this.pPb(u);this.eT=0;this.currentIteration+=1;this.If();};c.prototype.pause=function(){this.paused=!0;};c.prototype.If=function(){var u,t,w,v;u=this;if(this.eT === this.nI.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.eT,numberOfTasks:this.nI.length});else {t=this.BLb();w=this.currentIteration;t.startTime=this.Vf.Kb().ea(m.pa);t.status=g.jj.ww;this.Jb.Ec(f.wJ.v6b,{P:t.P,type:t.type});this.Naa.push(t);v=function(y){t.endTime=u.Vf.Kb().ea(m.pa);y();u.rWa.push(t);u.Naa.splice(u.Naa.indexOf(t),1);u.currentIteration === w && (u.eT++,u.If());};t.T1b().then(function(){v(function(){t.status=g.jj.EO;u.Cva(t,f.wJ.w6b,"task succeeded");});}).catch(function(y){v(function(){0 <= [g.jj.Rd,g.jj.jVa,g.jj.hka].indexOf(y.status)?(t.status=y.status,u.Cva(t,f.wJ.t6b,"cancelled task")):(t.status=g.jj.hr,u.Cva(t,f.wJ.u6b,"task failed",y));});});}};c.prototype.BLb=function(){return this.nI[this.eT];};c.prototype.getStats=function(u,t,w){var v,y,x,z;v=this.rWa.map(function(A){return A.At();});y=this.Naa.map(function(A){return A.At();});x=this.is.qg(u) && this.is.qg(t);z={};if(this.is.qg(w))return (z.tzb=v.filter(function(A){return A.movieId === w;}),z);v.concat(y).forEach(function(A){var B;z[A.type + "_" + A.status]=(z[A.type + "_" + A.status] | 0) + 1;B=A.status == g.jj.ww?A.startTime:A.endTime;x && B && B >= u && B < t && (z[A.type + "_" + A.status + "_delta"]=(z[A.type + "_" + A.status + "_delta"] | 0) + 1);});return z;};c.prototype.Cva=function(u,t,w,v){var y;y=u.At();v?this.log.warn(w,y,v):this.log.trace(w,y);this.Jb.Ec(t,{P:u.P,type:u.type,reason:u.status});u.cN(y);};c.prototype.pPb=function(u){var t,w;t=this.nI.filter(function(v){return v.VXb && v.status === g.jj.Zn;});w=this.oPb;return w === q.wOb?[].concat(u):w === q.prepend?t.concat(u):u.concat(t);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.bb)),r.__param(1,(0,l.l)(d.Yb)),r.__param(2,(0,l.l)(n.Uf)),r.__param(3,(0,l.l)(h.Lc))],a);b.XMa=a;},37991:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.CNa=void 0;a.prototype.cka=function(c,l){var f;c=l(c);null === (f=c.kl) || void 0 === f?void 0:f.forEach(function(k){k.ieb.video.push({Q3:!1,oh:function(d){return d.filter(function(g){return !g.ki || 1080 >= g.BX;});}});});return c;};b.CNa=a;},85671:function(r,b,a){var f,k,d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C,D,E,G,F,J,M){this.k$b=A;this.Bb=B;this.Vf=C;this.tc=D;this.a_a=E;this.sHb=G;this.tHb=F;this.x5=J;this.events=new y.EventEmitter();this.log=x.ab("VideoPreparer");this.config=z();this.wAa={};this.X8={};this.Pf={num_of_calls:0,num_of_movies:0};this.x5.Db(this);this.mg=M.mg;}function l(x){return void 0 !== x;}Object.defineProperty(b,"__esModule",{value:!0});b.NPa=void 0;r=a(5163);f=a(79538);k=a(4203);d=a(22674);g=a(87386);n=a(62665);h=a(42207);m=a(87657);p=a(81918);q=a(5021);u=a(32573);t=a(18148);w=a(32737);v=a(67590);y=a(57055);c.prototype.Dcb=function(x,z,A){this.mg.setData(x,"ldl",z,A);};c.prototype.I2a=function(x){return this.mg.KU(x,"ldl");};c.prototype.NVa=function(x){this.mg.clearData(x,"ldl",void 0,!0);};c.prototype.KL=function(x,z){return this.mg.getData(x,z);};c.prototype.p0a=function(x){var z;z=this.mg.getData(x,"ldl");this.mg.clearData(x,"ldl",void 0,!0);return z;};c.prototype.kAa=function(x){return this.Xdb === x || this.vXa === x;};c.prototype.qH=function(x,z){var A,B,C;A=this;x=x.map(function(D){D.wb=D.wb || ({w3:{ZXb:!1},Uj:0});A.Bb.xF(D.wb.Uj) || (D.wb.Uj=0);A.Bb.xF(D.Ce) && (D.wb.kb=D.Ce);return D;});B=x.map(function(D){return A.ACb(D,z);}).reduce(function(D,E){return D.concat(E);},[]);C=B.map(function(D){return D.P + "-" + D.type;});this.log.trace("prepare tasks",C);this.tc.eub(B);this.Pf.num_of_calls++;this.Pf.num_of_movies+=x.length;};c.prototype.getStats=function(x,z,A){return Object.assign(Object.assign({},A && this.X8[A] || ({})),{nI:this.tc.getStats(x,z,A),cache:this.mg.getStats(x,z),YIb:Object.assign(Object.assign({},this.Pf),this.x5.getStats())});};c.prototype.zNb=function(x){this.Xdb=x;};c.prototype.xNb=function(x){this.log.trace("task scheduler paused on playback created");this.tc.pause();this.config.XDb && this.mg.Cka(x,["manifest"]);this.config.WDb && this.mg.Cka(x,["ldl"]);this.config.UDb && this.mg.clearData(x,"manifest");this.x5.Rab(x);this.vXa=x;};c.prototype.D2a=function(){this.log.info("ad played, clearing all manifests from cache");this.C_a();};c.prototype.E2a=function(){this.log.info("track changed, clearing all manifests from cache");this.C_a();};c.prototype.wNb=function(x){var z;z=this;this.config.VDb?this.mg.clearData(x,"manifest"):this.mg.KU(x,"manifest") && this.mg.getData(x,"manifest").then(function(A){A.Fa.isSupplemental || z.mg.clearData(x,"manifest");},function(A){z.log.warn("Failed to get manifest for movieId [" + x + "] from cacheManager.",A);});this.Hka(x);this.Xdb=this.vXa=void 0;this.events.emit("playbackClosing",{J:x,type:"playbackClosing",target:this});};c.prototype.C_a=function(){this.mg.Cka("none",["manifest","ldl"]);};c.prototype.Hka=function(x){delete this.wAa[x];};c.prototype.Ct=function(x){return this.wAa[x];};c.prototype.u4=function(x){return this.wAa[x]=this.k$b.dB();};c.prototype.qdb=function(x,z){if(this.I2a(x))return u.jj.Rd;if(!z.MB)return u.jj.hka;};c.prototype.ACb=function(x,z){var A,B;x.Cd && x.wb && (x.wb.Cd=x.Cd);this.D8b(x.P,x.Vk);A=this.iCb(x,z);B=this.dCb(x,null === A || void 0 === A?void 0:A.id,z);x=this.lCb(x,null === A || void 0 === A?void 0:A.id,z);return [A,B,x].filter(l);};c.prototype.iCb=function(x,z){if(this.mg.KU(x.P,"manifest"))this.log.trace("manifest exists in cache for " + x.P);else return new f.DQ("manifest",this.Vf.Kb().ea(q.pa),!!x.wb.cxa,void 0,z,this.a_a,x,this);};c.prototype.dCb=function(x,z,A){if(this.config.zT)if(this.mg.KU(x.P,"ldl"))!1;else return this.config.ks?new f.DQ("ldl",this.Vf.Kb().ea(q.pa),!!x.wb.cxa,z,A,this.sHb,x,this):new f.DQ("ldl",this.Vf.Kb().ea(q.pa),!!x.wb.cxa,z,A,this.tHb,x,this);};c.prototype.lCb=function(x,z,A){if(this.config.mZa)return new f.DQ("getMedia",this.Vf.Kb().ea(q.pa),!!x.wb.cxa,z,A,this.x5,x,this);};c.prototype.D8b=function(x,z){this.X8[x] || (this.X8[x]={j$:0,Vk:0});x=this.X8[x];x.j$=(void 0 !== x?void 0 !== x.j$?x.j$:0:0) + 1;x.Vk=z;};a=c;a=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(g.bb)),r.__param(1,(0,d.l)(k.Yb)),r.__param(2,(0,d.l)(n.Xw)),r.__param(3,(0,d.l)(h.Uf)),r.__param(4,(0,d.l)(p.Lc)),r.__param(5,(0,d.l)(m.wfa)),r.__param(6,(0,d.l)(w.WMa)),r.__param(7,(0,d.l)(w.VMa)),r.__param(8,(0,d.l)(w.UMa)),r.__param(9,(0,d.l)(v.tca)),r.__param(10,(0,d.l)(t.Jca))],a);b.NPa=a;},36149:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.ghb=void 0;r=a(22674);c=a(58872);l=a(52357);b.ghb=new r.gd(function(f){f(c.LPa).to(l.KPa).ha();});},58872:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LPa="VideoPlayerFactorySymbol";},85001:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.oc=b.lb=b.tf=b.Wb=b.CZ=b.ga=b.Oda=b.UD=b.La=void 0;(function(c){c.Y5a="loadedtracks";c.X5a="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.$n="currenttimechanged";c.agb="unthrottledcurrenttimechanged";c.G3="bufferedtimechanged";c.pma="durationchanged";c.jAa="videosizechanged";c.H9a="pausedchanged";c.iva="playingchanged";c.wZa="endedchanged";c.zK="busychanged";c.u3="audiotracklistchanged";c.Fl="audiotrackchanged";c.pu="timedtexttracklistchanged";c.ol="timedtexttrackchanged";c.OY="trickplayframeschanged";c.T7a="mutedchanged";c.ohb="volumechanged";c.eya="showsubtitle";c.lwa="removesubtitle";c.X9b="watermark";c.ara="isReadyToTransition";c.gM="inactivated";c.d4a="internalPlaybackError";c.z2b="segmentmaploaded";c.A2b="segmentpresenting";c.kUa="autoplaywasallowed";c.x3="autoplaywasblocked";c.wub="adsstatechanged";c.eC="livestatechanged";})(b.La || (b.La={}));(b.UD || (b.UD={})).PX="playgraphsegmenttransition";b.Oda=a;a.wcb="serverTimeChanged";(function(c){c.YE="aseReport";c.i8="liveReport";c.h8="livePipelineFailover";c.sja="autoplayWasAllowed";c.Dh="autoplayWasBlocked";c.Kx="bufferUnderrun";c.closed="closed";c.og="closing";c.$n="currentTimeChanged";c.CF="downloadComplete";c.gM="inactivated";c.G5a="licenseAdded";c.zV="licensed";c.DV="locationSelected";c.ksa="manifestClosing";c.NG="manifestPresenting";c.XV="mediaBufferChanged";c.f9="nextBranchingSegmentChosen";c.Wt="playbackStart";c.gl="playbackReady";c.Ij="repositioned";c.MC="repositioning";c.Tbb="safePlayRequested";c.NH="segmentPresenting";c.UX="serverSwitch";c.tdb="shouldUpdateVideoDiagInfo";c.DO="subtitleError";c.Zya="throttledMediaTimeChanged";c.bgb="unthrottledMediaTimeChanged";c.KO="timedTextRebuffer";c.pu="timedTextTrackListChanged";c.OY="trickPlayFramesChanged";c.Pza="updateNextBranchingSegmentWeights";c.Ugb="userInitiatedPause";c.Vgb="userInitiatedResume";c.Afb="tracksHydrated";c.eC="livestatechanged";})(b.ga || (b.ga={}));(b.CZ || (b.CZ={})).KA="adBreakComplete";(function(c){c[c.mJ=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.fe=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.Wb || (b.Wb={}));(function(c){c[c.fe=1]="NORMAL";c[c.ee=2]="BUFFERING";c[c.INa=3]="STALLED";})(b.tf || (b.tf={}));(function(c){c[c.Ef=1]="WAITING";c[c.he=2]="PLAYING";c[c.Kg=3]="PAUSED";c[c.zq=4]="ENDED";})(b.lb || (b.lb={}));(function(c){c[c.xs=0]="INITIAL";c[c.jx=1]="SEEK";c[c.fJ=2]="LIVE_EDGE";c[c.LQ=3]="TRACK_CHANGED";c[c.WD=4]="SEGMENT_CHANGED";c[c.x_=5]="FORCE_REBUFFER";c[c.MP=6]="FRAGMENTS_MISSING";c[c.mea=7]="MEDIA_DISCONTINUITY";})(b.oc || (b.oc={}));},91122:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iDa="CdnPartitionerSymbol";},75950:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B;Object.defineProperty(b,"__esModule",{value:!0});b.h3a=void 0;r=a(22674);c=a(70673);l=a(78033);f=a(23002);k=a(487);d=a(77764);g=a(23179);n=a(52794);h=a(52961);m=a(44376);p=a(15850);q=a(47500);u=a(68272);t=a(10242);w=a(78029);v=a(62553);y=a(91122);x=a(12394);z=a(20034);A=a(91825);B=a(27134);b.h3a=new r.gd(function(C){C(c.tGa).to(l.sGa).ha();C(f.xGa).to(k.wGa).ha();C(d.fGa).to(g.eGa).ha();C(n.hGa).to(h.gGa).ha();C(y.iDa).to(x.hDa).ha();C(m.rMa).to(p.qMa).ha();C(q.Yfa).to(u.COa);C(t.eQ).to(z.dQ);C(A.hQ).to(B.gQ);C(w.Cda).to(v.AGa);});},78029:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cda="HLSConfigSymbol";},77764:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fGa="HLSPlaylistBuilderSymbol";},52794:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hGa="HLSPlaylistTransformerSymbol";},70673:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tGa="HeaderFetcherSymbol";},23002:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xGa="HLSHeaderParserFactorySymbol";},10242:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xbc="LogblobBuilderSymbol";b.eQ="HLSLogblobBuilderFactorySymbol";},91825:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hQ="HLSLogblobMonitorFactorySymbol";},44376:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rMa="PlayerPlaydataMonitorSymbol";},47500:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yfa="StreamChangeDetectorSymbol";},12394:function(r,b,a){var l,f;function c(k){this.ma=k.ab("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.hDa=void 0;r=a(5163);l=a(22674);a=a(87386);c.prototype.MJb=function(k){var g,n,h,m,p,q,u;function d(t,w,v){var y,x,z;y=t.map(function(A){return A.yg;});y.sort(function(A,B){return w[A] - w[B];});if(1 === y.length)(!1,h.set(v,{FN:t[0],gaa:t[0]}));else {x=y.find(function(A){return g.has(A);});x || ((x=y.find(function(A){return !n.has(A);}))?g.add(x):(x=y[0],!1));z=y.find(function(A){return n.has(A) && A !== x;});z || ((z=y.find(function(A){return !g.has(A) && A !== x;}))?n.add(z):(z=y.find(function(A){return A !== x;}),!1));h.set(v,{FN:t.find(function(A){return A.yg === x;}),gaa:t.find(function(A){return A.yg === z;})});}}g=new Set();n=new Set();h=new Map();m=k.video;p=k.audio;q=k.text;u=k.yk.reduce(function(t,w){t[w.id]=w.bc;return t;},{});m.forEach(function(t){t=t.stream;d(t.urls,u,t.Rm);});p.forEach(function(t){t=t.stream;d(t.urls,u,t.Rm);});q.forEach(function(t){var w,v;if(!t.track.Kt || t.track.x7){w=t.stream;t=t.id;v=w.urls.reduce(function(y,x,z){y[x.yg]=z + 1;return y;},{});d(w.urls,v,t);}});return h;};f=c;f=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.bb))],f);b.hDa=f;},62553:function(r,b,a){var l,f,k,d;function c(g){return f.Qe.call(this,g,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.AGa=void 0;r=a(5163);l=a(22674);f=a(64174);k=a(83767);a=a(12501);da(c,f.Qe);Ya.Object.defineProperties(c.prototype,{n$a:{configurable:!0,enumerable:!0,get:function(){return !0;}},Tv:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},Sy:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},i3a:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},Rt:{configurable:!0,enumerable:!0,get:function(){return 80;}}});d=c;r.__decorate([a.config(a.bd,"playsInline")],d.prototype,"n$a",null);r.__decorate([a.config(a.TB,"minAudioMediaRequestDuration")],d.prototype,"Tv",null);r.__decorate([a.config(a.TB,"minVideoMediaRequestDuration")],d.prototype,"Sy",null);r.__decorate([a.config(a.TB,"hlsVideoMediaRequestTargetDuration")],d.prototype,"i3a",null);r.__decorate([a.config(a.TB,"minStartingVideoVMAF")],d.prototype,"Rt",null);d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.zl))],d);b.AGa=d;},23179:function(r,b,a){var d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z){this.kT=z;this.Wd=x.filter(function(A){return A.Cza[p.ym.G1];}).map(function(A){return {track:A,stream:A.Cza[p.ym.G1],id:A.GYa[p.ym.G1]};});}function l(x,z,A){var B;this.lI=z;this.Rt=A;B=x[0];this.MY=B.streams.map(function(C){return {track:B,MU:C.Odb,stream:C};});}function f(x,z,A,B){function C(D,E){return D.bitrate > E.bitrate?D:E;}this.log=x;this.lI=A;this.kT=B;this.MY=z.map(function(D){var E;E=D.streams.reduce(C);return {track:D,MU:E.zk?E.zk.offset + E.zk.size:void 0,stream:E};});}function k(x,z,A,B,C,D){this.XNb=x;this.YNb=z;this.GYb=A;this.Yxb=B;this.OU=C;this.Df=D;this.ma=D.ab("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.jpb=b.qpb=b.xib=b.eGa=void 0;r=a(5163);d=a(22674);g=a(70673);n=a(23002);h=a(36129);m=a(31149);p=a(75568);q=a(52794);u=a(91122);t=a(78029);w=a(87386);v=a(79542);y=a(60328);k.prototype.Ng=function(x,z){var A,B,C,D,E,G;A=this;D=x.Fa;x=this.uJb(D,z);E=this.dNb(D,z);G=null !== (C=null === (B=D.kX) || void 0 === B?void 0:B.MO) && void 0 !== C?C:D.tI.find(function(F){var J;return F.id === (null === (J=D.E4) || void 0 === J?void 0:J[0].web);}).Zf;B=new c(D.tI,G);return Promise.all([x,E,B]).then(function(F){var J,M;J=ja(F);F=J.next().value;M=J.next().value;J=J.next().value;F={audio:F.getMetadata(),video:M.getMetadata(),text:J.getMetadata(),UXa:F.moa(),BDb:J.moa(),duration:D.duration,yk:D.yk};M=A.Yxb.MJb(F);z("h_s");return {RSb:A.GYb.transform(F,M),ayb:M,w5b:F};});};k.prototype.dNb=function(x,z){var A;A=new l(x.uu,this.OU.i3a,this.OU.Rt);return this.AYa(A.MY,y.u.X,z).then(function(B){A.Hxa(B);return A;});};k.prototype.uJb=function(x,z){var A,B,C,D;C=null !== (B=null === (A=x.kX) || void 0 === A?void 0:A.xp) && void 0 !== B?B:x.$s.find(function(E){var G;return E.id === (null === (G=x.E4) || void 0 === G?void 0:G[0].xp);}).Zf;D=new f(this.ma,x.$s,this.OU.Tv,C);return this.AYa(D.MY,y.u.$,z).then(function(E){D.Hxa(E);return D;});};k.prototype.Bua=function(x,z,A,B){if(x=this.YNb.parse(z,x,A))return x;this.ma.error("Failed to parse headers",{type:z === y.u.$?"audio":"video",downloadableId:B.stream.Rm});};k.prototype.AYa=function(x,z,A){var B;B=this;return Promise.all(x.map(function(C,D){if(C.MU)return B.XNb.download({urls:C.stream.urls,offset:0,length:C.MU}).then(function(E){A("h_" + (0 === z?"A":"V") + "_" + D + "_s");return B.Bua(E,z,z == y.u.$?B.OU.Tv:B.OU.Sy,C);}).catch(function(){A("h_" + C.track.wh[0] + "_" + D + "_f");B.ma.warn("Failed to download and parse headers for " + C.stream.Rm);});B.ma.warn("Stream data offset is missing",{downloadableId:C.stream.Rm});}));};a=k;a=r.__decorate([(0,d.U)(),r.__param(0,(0,d.l)(g.tGa)),r.__param(1,(0,d.l)(n.xGa)),r.__param(2,(0,d.l)(q.hGa)),r.__param(3,(0,d.l)(u.iDa)),r.__param(4,(0,d.l)(t.Cda)),r.__param(5,(0,d.l)(w.bb))],a);b.eGa=a;f.prototype.Hxa=function(x){var z;z=this;if(!x.find(function(A){return void 0 !== A;}))throw m.Mc.Ahb(h.V.cHa,h.S.pea);this.Wd=this.MY.map(function(A,B){if(B=x[B])return {track:A.track,stream:A.stream,Ha:B,lI:z.lI};}).filter(v.Yqa);};f.prototype.getMetadata=function(){return this.Wd;};f.prototype.moa=function(){var x,z;x=this;if(!this.Wd.find(function(A){return A.track.Zf === x.kT;}) && 0 < this.Wd.length){z=this.Wd[0].track.Zf;this.log.warn("Did not find metadata for audio track " + this.kT + ", falling back to " + z);return z;}return this.kT;};b.xib=f;l.prototype.Hxa=function(x){var z,A;z=this;if(!x.find(function(B){return void 0 !== B;}))throw m.Mc.Ahb(h.V.cHa,h.S.qea);A=this.MY.map(function(B,C){if(C=x[C])return {track:B.track,stream:B.stream,Ha:C,lI:z.lI};}).filter(v.Yqa);this.Wd=this.ILb(A);};l.prototype.getMetadata=function(){return this.Wd;};l.prototype.ILb=function(x){var z,A,B;z=this;x.sort(function(C){return C.stream.bitrate;});A=x.findIndex(function(C){var D;return (null !== (D=C.stream.xb) && void 0 !== D?D:0) >= z.Rt;});if(-1 !== A && A !== x.length - 1){B=x[A];x.splice(A,1);x.push(B);}x.reverse();return x;};b.qpb=l;c.prototype.moa=function(){return this.kT;};c.prototype.getMetadata=function(){return this.Wd;};b.jpb=c;},52961:function(r,b,a){var l,f,k,d,g,n;function c(h){this.ma=h.ab("HLSPlaylistTransformerImpl");this.G9b=d.n_.ar();this.Svb=g.cda.ar();}Object.defineProperty(b,"__esModule",{value:!0});b.gGa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(35128);d=a(48617);g=a(12187);n=[0,1];c.prototype.transform=function(h,m){var p,q,u,t,w,v,y,x,z;p=this;q=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];u=h.text;t=h.audio;w=h.video;v=h.duration;y=h.UXa;x=h.BDb;u.forEach(function(A){n.forEach(function(B){var C,D,E,G;C=0 === B;D=A.stream;E=A.track;G=m.get(A.id);C=C?G.FN:G.gaa;D=p.NMb({url:C.url,duration:v / 1E3,size:D.size,Ll:"Manifest for subtitles " + E.language + ' stream "' + E.bC + '", ' + E.Zf + ", cdn " + C.yg});p.ma.trace("Text variant manifest",D.join("\n"));B=p.OMb({groupId:B,name:E.bC,Iqa:E.Zf === x,jn:E.x7,EPb:E.wh === k.Wo.$ba,language:E.language,uri:p.o8(D)});q.push(B);});});t.forEach(function(A){n.forEach(function(B){var C,D,E,G,F,J;C=0 === B;D=A.stream;E=A.track;G=A.Ha;F=A.lI;J=m.get(D.Rm);C=C?J.FN:J.gaa;D=p.x1a({url:C.url,MU:D.zk.offset + D.zk.size,Ha:G,Neb:Math.floor(F / 1E3),Ll:"Manifest for audio " + E.language + ' stream "' + E.bC + '", ' + E.Zf + ", cdn " + C.yg});p.ma.trace("Audio variant manifest",D.join("\n"));B=p.vJb({groupId:B,language:E.language,name:E.bC,Iqa:E.Zf === y,uri:p.o8(D)});q.push(B);});});z=this.Svb[t[0].track.profile];w.forEach(function(A){n.forEach(function(B){var C,D,E,G,F,J;C=0 === B;D=A.stream;E=A.track;G=A.Ha;F=A.lI;J=m.get(D.Rm);J=C?J.FN:J.gaa;C=0 < u.length;E=p.x1a({url:J.url,MU:D.zk?D.zk.offset + D.zk.size:D.Odb,Ha:G,Neb:Math.floor(F / 1E3),Ll:"Manifest for video bitrate " + D.bitrate + ", stream " + E.Zf + ", cdn " + J.yg});p.ma.trace("Video variant manifest",E.join("\n"));B=p.eNb({groupId:B,FS:1E3 * D.bitrate,fwb:1E3 * D.bitrate,kQb:0 <= D.bB.indexOf("-hdr-") || 0 <= D.bB.indexOf("-dv5-"),framerate:(D.P_a / D.O_a).toFixed(3),tk:D.Hwa + "x" + D.tbb,y9b:p.G9b[D.bB],Ivb:z,B6b:C});q.push(B);B=p.o8(E);q.push("" + B);});});this.ma.trace("Primary manifest",q.join("\n"));return this.o8(q);};c.prototype.vJb=function(h){var m;m=h.Iqa;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + h.groupId + '"','CHANNELS="2"','LANGUAGE="' + h.language + '"','NAME="' + h.name + '"',"DEFAULT=" + (m?"YES":"NO"),"AUTOSELECT=" + (m?"YES":"NO"),'URI="' + h.uri + '"'].join(", ");};c.prototype.x1a=function(h){var m,p;m=h.Ha;p=["#EXTM3U","# " + h.Ll,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + h.Neb,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + h.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + m[0].byteOffset + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];m.forEach(function(q,u){p.push("#EXTINF:" + q.duration.toFixed(3) + "," + q.kb.toFixed(3));p.push("#EXT-X-BYTERANGE:" + q.bxb + "@" + q.byteOffset);p.push("{$U}&fi=" + u);});p.push("#EXT-X-ENDLIST");return p;};c.prototype.eNb=function(h){var m,p;m=h.groupId;p=["#EXT-X-STREAM-INF:BANDWIDTH=" + h.FS,"AVERAGE-BANDWIDTH=" + h.fwb,"VIDEO-RANGE=" + (h.kQb?"PQ":"SDR"),"FRAME-RATE=" + h.framerate,'AUDIO="group_' + m + '"',"RESOLUTION=" + h.tk,'CODECS="' + h.y9b + "," + h.Ivb + '"'];h.B6b && p.push('SUBTITLES="subs_' + m + '"');return p.join(", ");};c.prototype.NMb=function(h){var m;m=h.duration;return ["#EXTM3U","# " + h.Ll,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(m),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + h.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + m.toFixed(3),"#EXT-X-BYTERANGE:" + h.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.OMb=function(h){var m,p,q;m=h.Iqa;p=h.language;q=h.uri;m=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + h.groupId + '"','NAME="' + h.name + '"',"DEFAULT=" + (m?"YES":"NO"),"AUTOSELECT=" + (m?"YES":"NO"),"FORCED=" + (h.jn?"YES":"NO")];h.EPb && m.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');m.push('LANGUAGE="' + p + '"');m.push('URI="' + q + '"');return m.join(", ");};c.prototype.o8=function(h){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(h.join("\n"));};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.bb))],a);b.gGa=a;},78033:function(r,b,a){var l,f,k,d;function c(g,n){this.kOb=g;this.log=n.ab("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.sGa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(2571);d=a(32934);c.prototype.download=function(g){var h,m,p,q,u;function n(t){if(u < m.length - 1)return (!1,u++,h.CYa(m[u].url,p,q).catch(n));throw t;}h=this;m=g.urls;p=g.offset;q=g.length;u=0;return this.CYa(m[u].url,p,q).catch(n);};c.prototype.CYa=function(g,n,h){return this.kOb.download({url:g,withCredentials:!1,responseType:d.ResponseType.Qib,kB:"hls_headers",js:!0,offset:n,length:h,Xr:d.vQ},{$6a:1});};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.DGa)),r.__param(1,(0,l.l)(f.bb))],a);b.sGa=a;},487:function(r,b,a){var l,f,k;function c(d){this.ma=d.ab("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.wGa=void 0;r=a(5163);l=a(22674);f=a(36418);a=a(87386);c.prototype.parse=function(d,g,n){d=new f.Bq(this.ma,{mediaType:d},g,["sidx"]).parse();if(d.$v && d.Ha)return this.Nia(d.Ha,n);};c.prototype.Nia=function(d,g){var n,h,m,p,q;n=0;h=0;m=0;p=d.offset;q=[];d.ef.forEach(function(u,t){h+=u;m+=d.sizes[t];if(1E3 * h / d.N >= g || t === d.ef.length - 1)(q.push({duration:h / d.N,kb:n / d.N,byteOffset:p,bxb:m}),n+=h,h=0,p+=m,m=0);});return q;};k=c;k=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.bb))],k);b.wGa=k;},20034:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q,u,t){this.Df=m;this.Jy=p;this.Kf=q;this.wc=u;this.Ea=t;}Object.defineProperty(b,"__esModule",{value:!0});b.dQ=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(87386);d=a(45118);g=a(98326);n=a(31850);h=a(97444);c.prototype.create=function(m){return new h.fQ(this.Df,this.Jy,this.Kf,this.Ea,this.wc,m);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(k.bb)),r.__param(1,(0,l.l)(n.Yw)),r.__param(2,(0,l.l)(d.tl)),r.__param(3,(0,l.l)(g.dea)),r.__param(4,(0,l.l)(f.Lc))],a);b.dQ=a;},97444:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q,u,t,w){var v;v=this;this.Jy=p;this.Kf=q;this.Ea=u;this.wc=t;this.Qsa=this.UB=this.tX=0;this.FG=!1;this.Ry=function(){var y;y=v.SW();y.prstate=v.oy();y.paustate=v.j.Mt();y.midplayseq=v.Qsa++;v.wc.iM(y);v.xc(l.Gc.Ry,void 0,h.Pd | h.Ds,y);};this.Dh=function(){v.xc(l.Gc.BUa,void 0,h.Pd | h.Qo,{});};this.ol=function(y){v.vra=v.getTime();v.wra=y.oldValue;};this.zS=function(y){v.ora=y.oldValue;};this.R9=function(y){y != v.FG && (v.xya(v.FG,y),v.FG=y);};this.xya=function(y,x){var z;z=v.j.Da;y={newstate:x?"Paused":"Playing",oldstate:y?"Paused":"Playing"};v.wc.Sp(y,z.Zd.value && z.Zd.value.stream,z.nf.value && z.nf.value.stream);v.xc(l.Gc.iY,void 0,h.Pd,y);};this.dY=function(y){v.xc(l.Gc.Mdb,void 0,h.Pd,{speedold:Math.floor(1E3 * y.oldValue),speed:Math.floor(1E3 * y.newValue)});};this.Az=function(y){var x,z,A;x=v.j.Da;z=x.Mb.value;if(y.newValue || z && z.mo() && !z.jn()){A=(y=null !== (A=y.newValue) && void 0 !== A?A:z)?{trackId:y.trackId,bcp47:y.ye,downloadableId:y.Vb,rank:y.bc,isImageBased:y.lk}:{};y=(y=v.wra)?{trackId:y.trackId,bcp47:y.ye,downloadableId:y.Vb,rank:y.bc,isImageBased:y.lk}:{};A={switchdelay:(0,f.Xf)(v.getTime() - v.vra),track:A,oldtrack:y};v.wc.Sp(A,x.Zd.value && x.Zd.value.stream,x.nf.value && x.nf.value.stream);v.xc(l.Gc.ifb,void 0,h.Pd,A);}};this.Tua=function(y,x){var z;z=v.j.Da;y={waittime:(0,f.Xf)(y),abortedevent:"resumeplay",resumeplayreason:x};v.wc.Sp(y,z.Oe.value,z.Mg.value);v.xc(l.Gc.xN,void 0,h.Pd | h.Qo,y);};this.hu=function(y,x,z){var A;A=z.Pwa;z=z.ibb;y={playdelay:(0,f.Xf)(y),reason:A,intrplayseq:v.UB - 1,skipped:x};"repos" === A && (y.prstate=!0 === v.j.Ai.value?"playing":"paused",z === g.oc.MP && (y.repos_reason="missing_segments"));v.xc(l.Gc.hu,void 0,h.Pd | h.Fq,y);};this.qja=function(){var y,x,z,A;x=v.j.Da.uc.value;z=v.j.Da.Mg.value.Vb;x=x?{trackId:x.trackId,bcp47:x.ye,downloadableId:z,rank:x.bc,chan:x.channels}:{};z=v.Ey;A=null === (y=v.ora) || void 0 === y?void 0:y.Vb;y=z?{trackId:z.trackId,bcp47:z.ye,downloadableId:A,rank:z.bc,chan:z.channels}:{};v.xc(l.Gc.gUa,void 0,h.Pd,{switchdelay:(0,f.Xf)(v.getTime() - v.pra),track:x,oldtrack:y});};this.Fl=function(y){v.pra=v.getTime();v.Ey=y.oldValue;};this.Uua=function(){var y,x,z;y=v.j.Da;x={abortedevent:"startplay",trackid:y.Uj,prstate:v.oy(),paustate:v.j.Mt()};try{z=(0,k.eG)();z && (x.pdltime=z);(0,f.Xd)(x,y.Yc,{prefix:"sm_"});}catch(A){}v.wc.d7(x,y);v.wc.jM(x,!1,y.Gg.value,y);v.wc.Sp(x,y.Oe.value,y.Mg.value);v.pG(x);v.xc(l.Gc.xN,void 0,h.Pd | h.Ds | h.Qo,x);};this.Qx=function(y,x,z,A){y={moff:(0,f.Pl)(z),moffms:(0,f.Xf)(z),vbitrate:x.bitrate,vbitrateold:y.bitrate,vdlid:x.Vb,vdlidold:y.Vb,vheight:x.height,vheightold:y.height,vwidth:x.width,vwidthold:y.width,bw:A};v.xc(l.Gc.Qx,void 0,0,y);};this.LC=function(y,x,z){y={moffold:(0,f.Pl)(y),reposseq:v.tX++,prstate:v.oy(),paustate:v.j.Mt()};v.wc.Sp(y,z && z.stream,x && x.stream);v.xc(l.Gc.LC,void 0,h.Pd,y);};this.ds=function(y){var x,z,A,B,C;B=y.Da;C={playdelaysdk:(0,f.Xf)(v.j.MS()),applicationPlaydelay:(0,f.Xf)(v.j.aka()),playdelay:(0,f.Xf)(v.j.bka()),trackid:B.Uj,bookmark:(0,f.Xf)(B.Gl || 0),pbnum:B.index};v.j.Dh && (C.blocked=v.j.Dh);C.initvbitrate=v.j.YU;v.wc.kqa(C);v.wc.z3a(C);C.esnSource=null === (x=ob._cad_global.device) || void 0 === x?void 0:x.l5;v.G3a(C,B);C.pdltime=(0,k.eG)();(0,f.Xd)(C,B.Yc,{prefix:"sm_"});C.ttTrackFields=null === (z=B.Mb.value) || void 0 === z?void 0:z.ug;v.wc.v3a(C,B.uc.value,B);v.wc.jM(C,!0,B.Gg.value,B);C.packageId=null === (A=B.Y) || void 0 === A?void 0:A.Fa.tn;v.wc.iM(C);v.wc.d7(C,B);v.pG(C);v.xc(l.Gc.ds,y.mh,h.Pd | h.Fq | h.Ds | h.wD | h.Qo,C);};this.gy=function(){var y,x,z;y=v.j;x=y.Da;y=y.mh;z=v.SW();z.paustate=!v.j.YB();z.muted=v.j.Qqa();z.endreason=y?"error":v.j.Kqa()?"ended":"stopped";v.wc.jM(z,!1,x.Gg.value,x);v.wc.iM(z);v.pG(z);v.xc(l.Gc.gy,y,h.Pd | h.Fq | h.Ds | h.wD | h.Qo,z);};this.owa=function(y,x,z){var A;A=v.j.Da.nf;y={moff:(0,f.Pl)(z),moffms:(0,f.Xf)(z),vdlidold:y.Vb,vbitrateold:y.bitrate};v.wc.Sp(y,x,A.value && A.value.stream);v.xc(l.Gc.qX,void 0,0,y);};this.oy=function(){var y;y=v.j.zb.value;return y === g.lb.he?"playing":y === g.lb.Kg?"paused":y === g.lb.zq?"ended":"waiting";};this.ma=m.ab("LogblobBuilderImpl");this.j=w;}Object.defineProperty(b,"__esModule",{value:!0});b.fQ=void 0;l=a(18169);f=a(3887);k=a(52569);d=a(36129);g=a(85001);n=a(5021);c.prototype.getTime=function(){return this.Ea.Kb().ea(n.pa);};c.prototype.fpa=function(){return this.getTime() - this.j.Da.Oh.ea(n.pa);};c.prototype.G3a=function(m,p){var q;if(p=null === (q=p.Gg.value) || void 0 === q?void 0:q.streams)(m.maxbitrate=(0,k.oP)(p.map(function(u){return u.bitrate;})),m.maxresheight=(0,k.oP)(p.map(function(u){return u.height;})));};c.prototype.pG=function(m){m.cachedManifest="notcached";m.cachedLicense="notcached";m.usedldl="false";};c.prototype.SW=function(){var m,p,q,u;m=this.j.Da;p=m.fl;q={totaltime:(0,f.Pl)(p.Pp()),totalcontenttime:(0,f.Pl)(p.DU()),reposcount:this.tX,intrplaycount:this.UB};q.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});u=m.Oe.value;u && (q.videofr=u.framerate.toFixed(3));(u=p.aoa()) && (q.abrdel=u);(u=p.V6() && p.i0a()) && (q.tw_vmaf=u);(p=p.g0a()) && (0,f.Xd)(q,p);q.rbfrs=this.UB;this.G3a(q,m);return q;};c.prototype.xc=function(m,p,q,u){var t,w,v;t=this;p && (0,d.u_)(null === p || void 0 === p?void 0:p.errorCode,null === p || void 0 === p?void 0:p.za,this.fpa(),void 0) && (w="info");v=this.j.Da;this.tia(u,p,q);p=w || (p?"error":"info");u=this.Jy.kt(m,p,u,v);this.Kf.xc(u);"error" !== p && m !== l.Gc.gy || this.Kf.flush(!1).catch(function(){t.ma.debug("Failed to flush the logblobs");});};c.prototype.tia=function(m,p,q){var u;u=this.j.Da;this.wc.y3a(m,u);q & h.Pd && this.wc.C3a(m,u,!1);q & h.Fq && this.wc.E3a(m,u);q & h.Ds && this.wc.F3a(m,this.j.Ym());p && q & h.wD && this.wc.A3a(m,u,p);q & h.Qo && this.wc.kqa(m);};b.fQ=c;(function(m){m[m.Pd=1]="MOFF";m[m.Fq=2]="PRESENTEDSTREAMS";m[m.Ds=4]="SCREEN";m[m.wD=8]="FATALERROR";m[m.Qo=16]="BROWSERINFO";})(h || (h={}));},27134:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p,q,u,t){this.Kf=m;this.config=p;this.sa=q;this.Ea=u;this.Ura=t;}Object.defineProperty(b,"__esModule",{value:!0});b.gQ=void 0;r=a(5163);l=a(22674);f=a(81918);k=a(30869);d=a(4203);g=a(45118);n=a(10242);h=a(5522);c.prototype.create=function(m){return new h.iQ(m,this.Kf,this.config,this.Ea,this.Ura.create(m));};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(g.tl)),r.__param(1,(0,l.l)(d.Yb)),r.__param(2,(0,l.l)(k.cg)),r.__param(3,(0,l.l)(f.Lc)),r.__param(4,(0,l.l)(n.eQ))],a);b.gQ=a;},5522:function(r,b,a){var l,f,k;function c(d,g,n,h,m){var p;p=this;this.j=d;this.Kf=g;this.config=n;this.Ea=h;this.ib=m;this.RS=function(){p.og();p.j.Da.$h.removeListener(p.Az);p.j.Da.Mb.removeListener(p.ib.ol);p.j.Da.uc.removeListener(p.Fl);p.j.Da.Mg.removeListener(p.ib.zS);p.j.Ai.removeListener(p.m$a);p.j.VN.removeListener(p.Ij);p.j.Da.Zd.removeListener(p.$W);p.j.zb.removeListener(p.tv);p.j.zb.removeListener(p.GK);p.j.Da.Oe.removeListener(p.hZ);p.j.Da.playbackRate.removeListener(p.ib.dY);p.j.removeEventListener(k.La.closed,p.RS);p.j.removeEventListener(k.La.x3,p.ib.Dh);};this.GK=function(){p.j.zb.value === k.lb.he && (p.j.zb.removeListener(p.GK),p.Wt());};this.Az=function(q){p.gq && p.ib.Az(q);};this.Ij=function(q){p.gq && void 0 !== q.newValue && (p.$N && p.Oo && p.ib.Tua(p.getTime() - p.Oo,p.$N.Pwa),p.$N={Pwa:"repos",ibb:q.newValue},p.ib.LC(q.newValue,p.j.Da.nf.value,p.j.Da.Zd.value),p.Oo=p.getTime(),(0,f.If)(p.tv));};this.m$a=function(q){p.gq && p.ib.R9(!q.newValue);};this.Fl=function(q){q.oldValue && (p.Ey=q.oldValue,p.ib.Fl(q),p.$N={Pwa:"repos",ibb:k.oc.LQ},p.Oo=p.getTime(),(0,f.If)(p.tv));};this.tv=function(){var q;if(p.Oo && p.$N && p.j.zb.value !== k.lb.Ef){q=p.getTime() - p.Oo;p.ib.hu(q,!1,p.$N);p.Ey && p.Ey != p.j.Da.uc.value && p.ib.qja();p.Oo=void 0;p.$N=void 0;}};this.Wt=function(){p.gq || (p.gq=!0,p.ib.ds(p.j),p.tqa(),p.config().k7 && (p.xy=ob.setTimeout(function(){p.Kf.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.xy=void 0;},p.config().k7)));};this.og=function(){p.xy && (ob.clearTimeout(p.xy),p.xy=void 0);p.TY && p.TY();p.gq?p.ib.gy():p.j.mh?p.ib.ds(p.j):p.ib.Uua();};this.hZ=function(q){q.oldValue && q.Eh && q.Eh.kF && p.ib.Qx(q.oldValue,q.newValue,q.Eh.kF,q.Eh.FS);};this.$W=function(q){var u;if(q.newValue){u=q.newValue.stream;p.GG != u && (p.GG && u && p.ib.owa(p.GG,u,q.newValue.HK.startTime),p.GG=u);}};this.Jaa();}Object.defineProperty(b,"__esModule",{value:!0});b.iQ=void 0;l=a(5021);f=a(32219);k=a(85001);c.prototype.Jaa=function(){this.j.addEventListener(k.La.closed,this.RS);this.j.addEventListener(k.La.x3,this.ib.Dh);this.j.Da.$h.addListener(this.Az);this.j.Da.Mb.addListener(this.ib.ol);this.j.Da.uc.addListener(this.Fl);this.j.Da.Mg.addListener(this.ib.zS);this.j.Ai.addListener(this.m$a);this.j.VN.addListener(this.Ij);this.j.Da.Zd.addListener(this.$W);this.j.zb.addListener(this.tv);this.j.zb.addListener(this.GK);this.j.Da.Oe.addListener(this.hZ);this.j.Da.playbackRate.addListener(this.ib.dY);};c.prototype.getTime=function(){return this.Ea.Kb().ea(l.pa);};c.prototype.tqa=function(){var d,g,n;d=this;n=[];this.config().q7a && (this.config().r7a.forEach(function(h){n.push(ob.setTimeout(d.ib.Ry,h));}),this.config().K8 && (g=ob.setInterval(this.ib.Ry,this.config().K8)),this.TY=function(){n.forEach(function(h){ob.clearTimeout(h);});g && ob.clearInterval(g);});};b.iQ=c;},15850:function(r,b,a){var l,f,k,d,g;function c(n,h){var p;function m(){p.Jua.then(function(q){p.ma.trace("Unloading PBO Playdata Services");q.close();});d.oe.removeListener(d.Wk,m);}p=this;this.J9a=h;this.Jua=h();this.ma=n.ab("PlayerPlaydataMonitorImpl");d.oe.addListener(d.Wk,m);}Object.defineProperty(b,"__esModule",{value:!0});b.qMa=void 0;r=a(5163);l=a(22674);f=a(87386);k=a(96687);d=a(37509);g=a(85001);c.prototype.Sj=function(n,h){this.Jua.then(function(m){m.Sj(h,!0,function(p){return n.close(p);});m.vya(h);n.addEventListener(g.La.iva,function(){n.YB() && m.pcb(h).catch(function(p){(p=p.yN) && n.close(p);});});n.addEventListener(g.La.ol,function(){m.oaa(h).catch(function(p){(p=p.yN) && n.close(p);});});n.addEventListener(g.La.Fl,function(){m.oaa(h).catch(function(p){(p=p.yN) && n.close(p);});});});};c.prototype.kY=function(n){return this.Jua.then(function(h){h.aeb();return h.kY(n).catch();});};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.bb)),r.__param(1,(0,l.l)(k.AQ))],a);b.qMa=a;},68272:function(r,b,a){var l,f,k,d;function c(g){this.Osa={};this.g7={};this.S7=-1;this.Iya=new k.Ib(null);this.qva=new k.Ib(null);this.ma=g.ab("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.COa=void 0;r=a(5163);l=a(22674);f=a(93161);k=a(81734);a=a(87386);c.prototype.Db=function(g,n,h){var m;m=this;g.forEach(function(p){p.stream.urls.forEach(function(q){m.Osa[q.url]=[p,q.yg];});});this.Ula=n;this.yDb=h;new PerformanceObserver(function(p){m.p8b(p.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.Fcb=function(g){var n,h,m;if(this.Ula){h=this.j6(g);if(h !== this.S7){for(this.S7=h;0 <= h && !this.g7[h];){h--;}m=ja(null !== (n=this.g7[h]) && void 0 !== n?n:[this.Ula,this.yDb]);n=m.next().value;m=m.next().value;this.ma.debug("Setting time to " + g + ", using metadata from fragment " + h + " for " + ((0,f.TG)(n.track.type) + " track with bitrate ") + (n.stream.bitrate + " from cdn " + m));g=n.Ha[this.S7];h=g.kb;this.qva.set({stream:n,HK:{startTime:Math.floor(1E3 * h),endTime:Math.floor(1E3 * (h + g.duration))},Lm:m});}}};c.prototype.j6=function(g){var n,h,m,p,q;n=this.Ula.Ha;g/=1E3;h=0;m=n.length - 1;if(g >= n[m].kb)return m;for(;m >= h;){p=h + Math.floor((m - h) / 2);q=n[p];if(g < q.kb)m=p - 1;else if(g >= q.kb + q.duration)h=p + 1;else return p;}return n.length - 1;};c.prototype.p8b=function(g){var n;n=this;g.filter(function(h){return "video" === h.initiatorType;}).forEach(function(h){var m,p,q;m=h.name.indexOf("&fi=");if(0 < m){p=h.name.substring(0,m);m=Number(h.name.substring(m + 4));if(n.Osa[p]){q=ja(n.Osa[p]);h=q.next().value;q=q.next().value;p && !Number.isNaN(m) && h && (n.g7[m] && (n.S7=-1),n.g7[m]=[h,q],p=h.Ha[m].kb,!1,n.Iya.set(h,{kF:Math.floor(1E3 * p),Lm:q}));}}});};d=c;d=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(a.bb))],d);b.COa=d;},25050:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w;function c(v,y,x,z,A,B,C,D,E,G,F,J,M,L,K,P,H){var I,N,R;I=this;this.UW=y;this.ty=x;this.Ea=z;this.Nh=A;this.Jb=B;this.PV=C;this.FYb=D;this.a$a=E;this.Kba=G;this.t3=F;this.sa=J;this.HM=M;this.config=L;this.QA=K;this.v=P;this.sh=H;this.CV=new m.Ib(!0);this.Ai=new m.Ib(!1);this.$r=new m.Ib(!1);this.ended=new m.Ib(!1);this.J3=new m.Ib(0);this.zb=new m.Ib(l.lb.Ef);this.VN=new m.Ib(void 0);this.loaded=this.gY=this.closed=!1;this.D$a=function(X,ha){return function(ta){var la,xa,Ba,La,Za;la=ta.newValue;xa=la.Lm;ta=la.HK;Ba=la.stream;la=X.value;La=la.streams.find(function(ab){return ab.bitrate === Ba.stream.bitrate;});Za=I.Da.ng.find(function(ab){return ab.id === xa;});I.log.info("Presenting " + La.type + " request with bitrate " + La.bitrate + ", track " + (la.trackId + " [" + ta.startTime + "..." + ta.endTime + "]"));ha.set({stream:La,HK:ta,Dc:Za});};};this.neb=function(X,ha,ta){return function(la){var xa,Ba;xa=X.value;Ba=xa.streams.find(function(La){return La.bitrate === la.newValue.stream.bitrate;});I.log.info("Streaming " + Ba.type + " stream with bitrate " + Ba.bitrate + ", track " + xa.trackId);ha.set(Ba,{kF:la.Eh.kF,FS:void 0});xa=I.Da.ng.filter(function(La){return La.id === la.Eh.Lm;})[0];ta.set(xa);};};this.u_a=new Set();this.log=v.ab("HLSVideoPlayer");this.ba=(0,f.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.ba.playsInline=this.config.n$a;this.Da=this.UW(k.eA.index++,P.P,P.id,null !== (N=P.wb) && void 0 !== N?N:{},this.ty.dB(),this.Ea.Kb(),!1,void 0,function(){return I.pr();});this.Da.mediaTime.set(null !== (R=this.Da.Gl) && void 0 !== R?R:0);this.KI();this.crb=this.HM.create(this);this.crb;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.MPa=void 0;l=a(85001);f=a(52569);k=a(13044);d=a(72639);g=a(24735);n=a(36129);h=a(63156);m=a(81734);p=a(5021);q=a(32687);u=a(45266);t=a(3887);w=a(60328);c.prototype.f6b=function(){return !!this.ba.canPlayType && ("" !== this.ba.canPlayType("application/vnd.apple.mpegURL") || "" !== this.ba.canPlayType("audio/mpegurl"));};c.prototype.KI=function(){var v;v=this;this.ba.addEventListener("loadedmetadata",function(){v.rb(l.La.Y5a);v.rb(l.La.X5a);v.rb(l.La.Fl);v.rb(l.La.u3);v.rb(l.La.ol);v.rb(l.La.pu);});this.ba.addEventListener("error",function(y){y=v.sh(n.V.EKa,y);v.close(y);});this.ba.addEventListener("timeupdate",function(){v.ended.set(!1);v.Da.mediaTime.set(v.pr());v.$la();v.rb(l.La.$n);v.rb(l.La.agb);});this.ba.addEventListener("durationchange",function(){v.rb(l.La.pma);});this.ba.addEventListener("resize",function(){v.rb(l.La.jAa);});this.ba.addEventListener("playing",function(){v.$la();v.$r.set(!1);v.Ai.set(!0);v.ended.set(!1);v.zb.set(l.lb.he);});this.ba.addEventListener("pause",function(){v.Ai.set(!1);v.$r.set(!1);v.zb.set(l.lb.Kg);});this.ba.addEventListener("waiting",function(){v.zb.set(l.lb.Ef);});this.ba.addEventListener("stalled",function(){v.$r.set(!0);});this.ba.addEventListener("seeking",function(){v.$r.set(!1);v.VN.set(v.Da.mediaTime.value);v.zb.set(l.lb.Ef);});this.ba.addEventListener("seeked",function(){void 0 !== v.VN.value && (v.Da.fl.Bta(v.VN.value,v.pr()),v.VN.set(void 0));v.zb.set(v.YB()?l.lb.he:l.lb.Kg);});this.ba.addEventListener("progress",function(){v.rb(l.La.G3);v.f8b();});this.ba.addEventListener("ended",function(){v.zb.set(l.lb.zq);v.$r.set(!1);v.Ai.set(!1);v.ended.set(!0);});this.ba.addEventListener("volumechange",function(){v.rb(l.La.ohb);v.rb(l.La.T7a);});this.Ai.addListener(function(){v.rb(l.La.iva);v.rb(l.La.H9a);v.GK();});this.J3.addListener(function(){v.rb(l.La.zK);});this.$r.addListener(function(){v.rb(l.La.zK);});this.CV.addListener(function(){v.GK();});this.ended.addListener(function(){v.rb(l.La.wZa);});this.Da.playbackRate.addListener(function(y){v.ba.playbackRate=y.newValue;});};c.prototype.GK=function(){!this.YB() || this.CV.value || this.gY || this.jUa || (this.gY=!0,this.Da.yy=this.sa.SH,this.a$a.Sj(this,this.Da));};c.prototype.MS=function(){return this.TW - (this.Da.Oh.ea(p.pa) + this.Ea.Gy.ea(p.pa));};c.prototype.SF=function(){var v;v=this.Da.cb.fD;return (0,q.Sb)(v)?v:this.Da.Oh.ea(p.pa) + this.Ea.Gy.ea(p.pa);};c.prototype.aka=function(){return this.sa.ke.ea(p.pa) - this.SF();};c.prototype.bka=function(){return this.TW - this.SF();};c.prototype.f8b=function(){var v;v=this.ba.readyState <= h.Xj.Xz.HAVE_METADATA?0:this.ba.readyState <= h.Xj.Xz.HAVE_CURRENT_DATA?.5:1;1 === v && (this.TW=this.sa.ke.ea(p.pa),this.CV.set(!1),this.wna(l.La.loaded));this.J3.set(v);};c.prototype.$la=function(){var v;v=this.pr();this.Kba.Fcb(v);this.t3.Fcb(v);};c.prototype.TX=function(){var v;v=this;this.Da.re("ats");return this.Nh.ny({na:this.Da.na,cb:this.Da.cb,J:this.Da.P,jr:d.ul.l1,kf:g.yh.wm}).then(function(y){var z;function x(A){var B;B=A;A && A.mo() && !A.jn() && (B=null);v.Da.$h.set(B);}v.Da.re("at");z=v.PV.create({}).B9a(y);v.Da.Y=y;v.Da.Bc=z;v.ba.audioTracks.addEventListener("addtrack",function(){v.wgb(v.Da.uc.value);});v.ba.audioTracks.addEventListener("change",function(){for(var A,B,C={},D=ja(v.ba.audioTracks),E=D.next();!E.done;(C={jP:C.jP},E=D.next())){C.jP=E.value;C.jP.enabled && C.jP.label !== (null === (A=v.Da.uc.value) || void 0 === A?void 0:A.displayName) && (!1,E=null !== (B=v.Da.ci.find((function(G){return function(F){return F.displayName === G.jP.label;};})(C))) && void 0 !== B?B:null,v.Da.uc.set(E));}});v.Da.uc.addListener(function(A){v.wgb(A.newValue);v.rb(l.La.Fl);v.rb(l.La.pu);});v.ba.textTracks.addEventListener("addtrack",function(){v.xgb(v.Da.Mb.value);});v.ba.textTracks.addEventListener("change",function(){var G;for(var A,B,C=v.ba.textTracks,D={},E=0;E < C.length;(D={kP:D.kP},E++)){if((D.kP=C[E],"showing" === D.kP.mode && D.kP.label !== (null === (A=v.Da.Mb.value) || void 0 === A?void 0:A.displayName))){!1;G=null !== (B=v.Da.Xg.find((function(F){return function(J){return J.displayName === F.kP.label;};})(D))) && void 0 !== B?B:null;v.Da.Mb.set(G);x(G);}}});v.Da.Mb.set(z.jT);x(z.jT);v.Da.Mb.addListener(function(A){v.xgb(A.newValue);v.rb(l.La.ol);});return v.FYb.Ng(y,function(A){return v.Da.re(A);});}).then(function(y){var x,z,A,B,C,D,E,G,F,J,M,L,K,P,H,I;x=y.RSb;z=y.ayb;y=y.w5b;A=y.audio;B=y.UXa;C=y.video;D=v.Da;E=D.Mg;G=D.uc;F=D.ci;J=D.Oe;M=D.Gg;y=D.Gl;L=D.Zd;K=D.nf;P=D.fl;D=D.Bc;D.ci=F.filter(function(N){return A.find(function(R){return R.track.Zf === N.trackId;});});M.set(D.F4);G.set(F.find(function(N){return N.trackId === B;}));D=C[0];H=D.stream;F=A.find(function(N){return N.track.Zf === B;});I=F.stream;v.YU=H.bitrate;v.Kba.qva.addListener(v.D$a(M,L));v.Kba.Iya.addListener(v.neb(M,J,v.Da.Dc[w.u.X]));J=z.get(H.Rm).FN.yg;v.Kba.Db(C,D,J);v.t3.qva.addListener(v.D$a(G,K));v.t3.Iya.addListener(v.neb(G,E,v.Da.Dc[w.u.$]));z=z.get(I.Rm).FN.yg;v.t3.Db(A,F,z);v.ba.src=x;v.ba.currentTime=(null !== y && void 0 !== y?y:0) / 1E3;v.ba.load();P.Bta(0,y && 0 < y?y:1);}).catch(function(y){var x,z;if(y instanceof Error){z=(0,t.Ae)(y);v.log.error("uncaught exception",y,z);}v.close(v.sh(null !== (x=y.code) && void 0 !== x?x:n.V.vPa,y));});};c.prototype.xgb=function(v){var z;for(var y=this.ba.textTracks,x=0;x < y.length;x++){z=y[x];z.label === v.displayName && "showing" !== z.mode && (!1,z.mode="showing");z.label !== v.displayName && "showing" === z.mode && (!1,z.mode="hidden");}};c.prototype.wgb=function(v){for(var y=ja(this.ba.audioTracks),x=y.next();!x.done;x=y.next()){x=x.value;x.label !== v.displayName || x.enabled || (!1,x.enabled=!0);x.label !== v.displayName && x.enabled && (!1,x.enabled=!1);}};c.prototype.ho=function(){};c.prototype.Sl=function(){};c.prototype.pr=function(){return Math.floor(1E3 * this.ba.currentTime);};c.prototype.Z5=function(){return this.pr();};c.prototype.OL=function(){return this.pr();};c.prototype.koa=function(){return Math.floor(1E3 * this.ba.duration);};c.prototype.A1a=function(){return this.v.P;};c.prototype.Ct=function(){return this.Da.na;};c.prototype.Ym=function(){return this.ba;};c.prototype.Mv=function(){return null === this.ph();};c.prototype.YB=function(){return this.Ai.value;};c.prototype.Mt=function(){return !this.Ai.value;};c.prototype.Kqa=function(){return this.ba.ended;};c.prototype.ph=function(){return 1 !== this.J3.value?{stalled:this.$r.value,progress:this.J3.value,progressRollback:!1}:null;};c.prototype.getError=function(){var v,y;return null !== (y=null === (v=this.mh) || void 0 === v?void 0:v.KY()) && void 0 !== y?y:null;};c.prototype.n0a=function(){return 1 === this.ba.buffered.length?1E3 * this.ba.buffered.end(0):null;};c.prototype.w2a=function(){return {width:this.ba.videoWidth,height:this.ba.videoHeight};};c.prototype.Qqa=function(){return this.ba.muted;};c.prototype.y2a=function(){return this.ba.volume;};c.prototype.Rcb=function(v){this.ba.muted=v;};c.prototype.edb=function(v){this.ba.volume=v;};c.prototype.addEventListener=function(v,y,x){this.Jb.addListener(v,y,x);};c.prototype.removeEventListener=function(v,y){this.Jb.removeListener(v,y);};c.prototype.load=function(){var v;v=this;this.loaded || (this.loaded=!0,this.QA.BV(function(y){v.f6b()?y.ia?v.TX():v.close(v.sh(y.errorCode || n.V.Jda,y)):v.close(v.sh(n.V.hlb));}));};c.prototype.close=function(v){if(this.closed)return Promise.resolve();this.Da.mediaTime.set(this.pr());this.$la();this.Da.$S=this.Z5();this.closed=!0;this.ba.removeAttribute("src");this.ba.load();null === v || void 0 === v?void 0:v.Tcb(!this.CV.value);(this.mh=v) && this.rb(l.La.error,v.KY());this.rb(l.La.closed);return this.a$a.kY(this.Da);};c.prototype.play=function(){var v,y;v=this;y=this.ba.play();this.jUa=!1;y && y.then(function(){v.wna(l.La.kUa);}).catch(function(x){v.rb(l.La.zK);"NotAllowedError" === x.name && (v.log.warn("Playback is blocked by the browser settings",x),v.jUa=!0,v.Dh=!0,v.wna(l.La.x3,{player:{play:function(){return v.play();}}}));});};c.prototype.rb=function(v,y,x){y=y || ({});y.target=this;this.Jb.Ec(v,y,!x);};c.prototype.wna=function(v,y){this.u_a.has(v) || (this.u_a.add(v),this.rb(v,y,void 0));};c.prototype.pause=function(){this.ba.pause();};c.prototype.G9a=function(){this.pause();};c.prototype.seek=function(v){this.ba.currentTime=v / 1E3;};c.prototype.I3a=function(v){this.close(this.sh(n.V.TEa,n.S.Yo,v));};c.prototype.WL=function(){return this.Da.playbackRate.value;};c.prototype.uaa=function(v){this.Da.playbackRate.set(v);};c.prototype.f0a=function(){var v;v=this;return this.Da.ci.map(function(y){return v.Qp(y);});};c.prototype.qpa=function(v){var y;y=this;return this.vU(v).map(function(x){return y.Qp(x);});};c.prototype.e0a=function(){var v;v=this.Da.uc.value;return v && this.Qp(v);};c.prototype.ppa=function(){var v;v=this.Da.Mb.value;return v && this.Qp(v);};c.prototype.Bcb=function(v){if((v=this.NT(v)) && v.Yf)return (this.Da.uc.set(v),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.Txa=function(v){var y,x;y=this;x=this.Da.Xg.find(function(z){return y.Qp(z) === v;});if(x && x.Yf)return (this.Da.Mb.set(x),this.Da.$h.set(x),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.u1a=function(){var v;return this.mU(this.Da.ci,null === (v=this.Da.Y) || void 0 === v?void 0:v.Fa.X6a);};c.prototype.Hoa=function(v){var y;return this.mU(this.vU(v),null === (y=this.Da.Y) || void 0 === y?void 0:y.Fa.Y6a);};c.prototype.Qp=function(v){var y;y=v.Lva=v.Lva || ({trackId:v.trackId,bcp47:v.ye,displayName:v.displayName,trackType:v.wh,rawTrackType:v.KC,channels:v.channels});this.Vqa(v) && (y.isNative=v.isNative,y.surroundFormatLabel=v.sY);this.Wqa(v) && (y.isNoneTrack=v.mo(),y.isForcedNarrative=v.jn(),y.isImageBased=v.lk);y.subType=v.iI;y.variant=v.variant;return y;};c.prototype.Vqa=function(v){return "undefined" !== typeof v.isNative;};c.prototype.Wqa=function(v){return "undefined" !== typeof v.mo && "undefined" !== typeof v.jn;};c.prototype.NT=function(v){var y;y=this;return v && this.Da.ci.find(function(x){return y.Qp(x) === v;});};c.prototype.vU=function(v){var y;v=this.NT(v) || this.Da.uc.value;return null !== (y=null === v || void 0 === v?void 0:v.Xg) && void 0 !== y?y:[];};c.prototype.mU=function(v,y){var x;x=v.length - 1;if("number" !== typeof y)return x;v=v.findIndex(function(z){return z.bc > y;});return -1 === v?x:v - 1;};c.prototype.uba=function(v){this.Da.cb=(0,u.J8)(this.Da.cb,v);};c.prototype.Vi=function(v){if(v !== this.Da.I)throw (!1,Error("Unknown segmentId " + v));return this.Da;};c.prototype.M1a=function(){return this.Da.cb;};c.prototype.Gia=function(){!1;};c.prototype.Yv=function(){!1;};c.prototype.aH=function(){!1;};c.prototype.IU=function(){!1;return Promise.reject();};c.prototype.gpa=function(){return {};};c.prototype.a6=function(){};c.prototype.c0a=function(){return {};};c.prototype.Gxa=function(){};c.prototype.uO=function(){};c.prototype.m4a=function(){return !1;};c.prototype.H0a=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.pL=function(){!1;return Promise.resolve({success:!0});};c.prototype.t2a=function(){!1;};c.prototype.CU=function(){!1;};c.prototype.nO=function(){!1;};c.prototype.Yxa=function(){!1;};c.prototype.U5a=function(){!1;};c.prototype.W_a=function(){!1;return Promise.reject();};c.prototype.Y9a=function(){!1;return Promise.reject();};c.prototype.eab=function(){!1;return Promise.reject();};c.prototype.gj=function(){!1;return Promise.reject();};c.prototype.qH=function(){!1;};b.MPa=c;},41893:function(r,b,a){var l,f,k,d,g,n;function c(h,m,p,q,u,t,w,v,y,x,z,A,B,C,D){var E;E=this;this.de=h;this.Bb=m;this.Jb=q;this.Yt=t;this.WS=w;this.X_a=v;this.config=x;this.sh=A;this.v=B;this.j=z.create(B.P,B.Oh,y,C,D,B.wb,B.id,B.Y);this.j.background.set(!0);this.log=p.ab("VideoPlayer",this.j);this.K9a=[];this.ended=!1;this.KI();this.j.state.addListener(function(G){G.newValue === f.Wb.fe && E.rb(f.La.ara,{movieId:B.P});});this.j.cb.sg && (this.xK=u.CBb(this,this.j),this.j.addEventListener(f.ga.NH,function(G){G=G.position.segmentId;E.hRb !== G && (E.hRb=G,E.rb(f.La.A2b,{segmentId:G}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.xHa=void 0;l=a(36129);f=a(85001);k=a(5021);d=a(22365);g=a(87607);n=a(3887);c.prototype.Mv=function(){return this.j.state.value === f.Wb.fe;};c.prototype.A1a=function(){return this.j.P;};c.prototype.Ct=function(){return this.j.na;};c.prototype.Ym=function(){return this.j.uk;};c.prototype.YB=function(){return this.j.Ai.value;};c.prototype.Mt=function(){return this.j.paused.value;};c.prototype.Kqa=function(){return this.ended;};c.prototype.ph=function(){var h;h=this.j.Tja.value;return h?{networkStalled:!!h.$r,stalled:!!h.$r,progress:h.progress,progressRollback:!!h.c_b}:null;};c.prototype.getError=function(){var h;h=this.j.mh;return h?h.KY():null;};c.prototype.ho=function(){var h;return null === (h=this.j.ho()) || void 0 === h?void 0:h.jGb;};c.prototype.Sl=function(){return this.j.kd;};c.prototype.OL=function(){return this.Sl().aa?this.Sl().F6():this.pr();};c.prototype.pr=function(){return this.j.mediaTime.value;};c.prototype.n0a=function(){var h;h=(this.Z5() || 0) + this.j.m0a();return Math.min(h,this.koa());};c.prototype.Z5=function(){return this.Sl().aa?this.Sl().F6():this.j.FB();};c.prototype.koa=function(){return this.Sl().aa?this.Sl().m1a():this.j.Xx.ea(k.pa);};c.prototype.w2a=function(){var h;h=this.j.iD.value;return h?{width:h.width,height:h.height}:null;};c.prototype.a6=function(){return this.j.a6();};c.prototype.W_a=function(h){var m,p;return (null === (m=this.j.Y) || void 0 === m?0:m.ri.TL("generateScreenshots"))?this.X_a.eo(this.log,this.j.Y.ri,h):(m=null === (p=this.j.cb) || void 0 === p?void 0:p.tn)?this.X_a.Cf(this.log,Object.assign({packageId:m},h)):Promise.reject("Unknown packageId");};c.prototype.H0a=function(){return this.eKb(this.j.pYa);};c.prototype.f0a=function(){var h;h=this;return this.j.ci.map(function(m){return h.Qp(m);});};c.prototype.u1a=function(){var h;return this.mU(this.j.ci,null === (h=this.j.Y) || void 0 === h?void 0:h.Fa.X6a);};c.prototype.qpa=function(h){var m;m=this;return this.vU(h).map(function(p){return m.Qp(p);});};c.prototype.Hoa=function(h){var m;return this.mU(this.vU(h),null === (m=this.j.Y) || void 0 === m?void 0:m.Fa.Y6a);};c.prototype.Qqa=function(){return this.j.muted.value;};c.prototype.y2a=function(){return this.j.volume.value;};c.prototype.e0a=function(){var h,m;m=(null === (h=this.aw) || void 0 === h?void 0:h.uc) || this.j.uc.value;return m && this.Qp(m);};c.prototype.ppa=function(){var h,m;m=(null === (h=this.aw) || void 0 === h?void 0:h.AY) || this.j.Mb.value;return m && this.Qp(m);};c.prototype.m4a=function(){return this.j.background.value;};c.prototype.Rcb=function(h){this.j.muted.set(!!h);};c.prototype.edb=function(h){this.j.volume.set(this.FVb(h));};c.prototype.uaa=function(h){this.j.playbackRate.set(h);};c.prototype.WL=function(){return this.j.playbackRate.value;};c.prototype.Bcb=function(h){var m,p,q,u,t;m=this;q=this.NT(h);if(q){if(q.Yf)return (this.j.uc.set(q),Promise.resolve());u=(h=(null === (p=this.aw) || void 0 === p?void 0:p.AY) || this.j.Mb.value) && this.O4a(q,h)?h:q.Xg[0];p=q.trackId;t=u.trackId;this.aw={uc:q,AY:u};this.rb(f.La.Fl);this.rb(f.La.pu);u !== h && this.rb(f.La.ol);return this.j.l3a(p,t).then(function(w){w=w.uc;m.aw=void 0;m.j.uc.set(w);}).catch(function(w){m.aw=void 0;w=m.de.Ae(w);m.log.error(w);m.close(m.sh(l.V.LD,{za:l.S.kea,Nb:w,nG:{tOb:q.trackId,o3a:q.ye,uOb:u.trackId,p3a:u.ye}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.Txa=function(h){var m,p,q,u;m=this;q=(null === (p=this.aw) || void 0 === p?void 0:p.uc) || this.j.uc.value;if(null !== q){u=q.Xg;p={};for(var t=0;t < u.length;(p={ns:p.ns},t++)){p.ns=u[t];if(!h && null === p.ns)return (this.j.Mb.set(null),Promise.resolve());if(this.Qp(p.ns) === h){if(p.ns.Yf)return (this.log.info("Setting Timed Text, profile: " + p.ns.profile),this.j.Mb.set(p.ns),Promise.resolve());h=q.trackId;u=p.ns.trackId;this.aw={uc:q,AY:p.ns};this.rb(f.La.ol);return this.j.l3a(h,u).then(function(w){w=w.AY;m.aw=void 0;m.j.Mb.set(w);}).catch((function(w){return function(v){m.aw=void 0;v=m.de.Ae(v);m.log.error(v);m.close(m.sh(l.V.LD,{za:l.S.kea,Nb:v,nG:{tOb:q.trackId,o3a:q.ye,uOb:w.ns.trackId,p3a:w.ns.ye}}));};})(p));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.Gxa=function(h){this.j.background.set(h);};c.prototype.uO=function(){this.j.uO();};c.prototype.uba=function(h){this.j.uba(h);};c.prototype.Vi=function(h){return this.j.Vi(h);};c.prototype.M1a=function(){return this.j.cb;};c.prototype.Yv=function(){this.j.Yv();};c.prototype.aH=function(h){this.j.aH(h);};c.prototype.IU=function(h,m,p){return this.j.IU(h,m,p);};c.prototype.Gia=function(h,m){this.j.addEventListener(h,m,void 0);};c.prototype.addEventListener=function(h,m,p){this.Jb.addListener(h,m,p);};c.prototype.removeEventListener=function(h,m){this.Jb.removeListener(h,m);};c.prototype.qH=function(){};c.prototype.load=function(){var h;h=this;this.loaded || (this.loaded=!0,this.j.load(function(m,p){try{h.rb(f.La.Y5a,void 0,!0);m.Y && (m.Y.Fa.yhb && h.rb(f.La.X9b,m.Y.Fa.yhb,!0),m.Y.Fa.Dp && h.rb(f.La.z2b,{segmentMap:m.Y.Fa.Dp},!0));p({ia:!0});}catch(q){p({za:l.S.sl,Nb:h.de.Ae(q)});}}));};c.prototype.close=function(h){var m;m=this;this.ZVa || (this.ZVa=new Promise(function(p){h?m.j.mF(h,p):m.j.close(p);}));return this.ZVa;};c.prototype.play=function(){this.j.Dh?this.j.fireEvent(f.ga.Tbb):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(f.ga.Vgb)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(f.ga.Ugb));};c.prototype.G9a=function(){this.load();this.j.paused.value || this.j.paused.set(!0,{bN:!0});};c.prototype.seek=function(h,m,p,q){m=void 0 === m?f.oc.jx:m;this.j.Sxb() && (this.Sl().aa && this.Sl().S4a(this.Sl().Jbb(h))?this.Sl().iaa():this.j.Vd?(this.Sl().aa && (h=this.Sl().Jbb(h)),this.j.Vd.seek(h,m,p,q)):(this.Sl().aa && (h=this.Sl().Foa(h).Gl),this.j.Gl=h));};c.prototype.Y9a=function(h){return this.xK?(this.log.trace("Playing a segment",h),this.xK.play(h)):Promise.resolve();};c.prototype.eab=function(h){return this.xK?(this.log.trace("Queueing a segment",h),this.xK.KN(h)):Promise.resolve();};c.prototype.gj=function(h,m){return this.xK?(this.log.trace("Updating next segment weights",h,m),this.xK.gj(h,m)):Promise.resolve();};c.prototype.CU=function(){var h;h=this.j.An.CU();return {bounds:h.HS,margins:h.Hr,size:h.size,visibility:h.visibility};};c.prototype.nO=function(h){var m,p,q;m=h.bounds;p=h.margins;q=h.size;h=h.visibility;this.j.FY && (m && this.j.FY.Uxa(m),p && this.j.FY.Vxa(p),"boolean" === typeof h && this.j.FY.Wxa(h));this.j.An && q && this.j.An.L3b(q);};c.prototype.Yxa=function(h){this.j.mm=h;};c.prototype.t2a=function(h){return this.j.Bz && this.j.Bz.CKb(h) || null;};c.prototype.c0a=function(){return this.de.nC({playerver:this.config.version,jssid:this.config.SQb,groupName:this.config.FKb(),xid:this.j.na,pbi:this.j.index},this.config.hYb,{prefix:"pi_"});};c.prototype.I3a=function(h){this.j.rd(l.V.TEa,l.S.Yo,h);};c.prototype.U5a=function(h,m,p,q){if(!this.Bb.zTa(h))throw Error("invalid url");this.K9a.push({url:h,name:m,dwb:p,options:q});this.R$a();};c.prototype.gpa=function(){var h,m,p,q,u,t,w,v;h={};m=this.j.gY;try{if((this.j.mh && (h.errorCode=this.j.mh.S4,h.errorType=m?"endplay":"startplay"),h.playdelay=(0,n.Xf)(this.j.MS()),h.xid=this.j.na,this.j.Y && this.Bb.qp(this.j.Y.Fa.tn) && (h.packageId=Number(this.j.Y.Fa.tn)),h.auth=this.j.xJb(),m)){h.totaltime=this.j.fl?this.Pl(this.j.fl.Pp("content")):0;h.abrdel=this.j.fl?this.j.fl.aoa():0;p=this.j.Vd;q=p?p.XF():null;this.Bb.dk(q) && (h.totdfr=q);q=p?p.gU():null;this.Bb.dk(q) && (h.totcfr=q);u=p?p.PKb():null;u && (h.rbfrs_decoder=u.z4,h.rbfrs_network=u.c9);h.rbfrs_delay=this.j.fl?this.j.fl.Eqa:0;h.init_vbr=this.j.m7;t=this.eG();this.Bb.xF(t) && (h.pdltime=t);w=this.j.Zd.value;v=w && w.stream;v && (h.vbr=v.bitrate,h.vdlid=v.Vb);h.bufferedTime=this.j.m0a();}}catch(y){this.log.error("error capturing session summary",y);}return h;};c.prototype.pL=function(h){this.j.cb.fm && (this.j.cb.fm.userEngageAction=1);return this.Bb.dk(this.j.mediaTime.value)?(h=Object.assign(Object.assign({},this.Yt.create(this.j)),{action:h}),this.WS(g.Ro.pL).eo(this.log,this.j.Y.ri,h).then(function(){return {success:!0};}).catch(function(m){return {success:!1,errorCode:m.code,errorSubCode:m.ic,errorExternalCode:m.Wc,errorData:m.data,errorDetails:m.details};})):Promise.resolve({success:!1});};c.prototype.eKb=function(h){return {register:h.register.bind(h),notifyUpdated:h.x8a.bind(h),getModel:h.rLb.bind(h),getGroups:h.kU.bind(h),addEventListener:h.addEventListener.bind(h),removeEventListener:h.removeEventListener.bind(h),getTime:h.getTime.bind(h)};};c.prototype.Qp=function(h){var m;m=h.Lva=h.Lva || ({trackId:h.trackId,bcp47:h.ye,displayName:h.displayName,trackType:h.wh,rawTrackType:h.KC,channels:h.channels});this.Vqa(h) && (m.isNative=h.isNative,m.surroundFormatLabel=h.sY);this.Wqa(h) && (m.isNoneTrack=h.mo(),m.isForcedNarrative=h.jn(),m.isImageBased=h.lk);m.subType=h.iI;m.variant=h.variant;return m;};c.prototype.Vqa=function(h){return "undefined" !== typeof h.isNative;};c.prototype.Wqa=function(h){return "undefined" !== typeof h.mo && "undefined" !== typeof h.jn;};c.prototype.NT=function(h){var m;m=this;return h && this.j.ci.find(function(p){return m.Qp(p) === h;});};c.prototype.vU=function(h){var m,p;h=this.NT(h) || (null === (m=this.aw) || void 0 === m?void 0:m.uc) || this.j.uc.value;return null !== (p=null === h || void 0 === h?void 0:h.Xg) && void 0 !== p?p:[];};c.prototype.mU=function(h,m){var p;p=h.length - 1;if("number" !== typeof m)return p;h=h.findIndex(function(q){return q.bc > m;});return -1 === h?p:h - 1;};c.prototype.O4a=function(h,m){return 0 <= h.Xg.indexOf(m);};c.prototype.FVb=function(h){return 0 <= h?1 >= h?h:1:0;};c.prototype.Pl=function(h){return this.Bb.dk(h)?(h / 1E3).toFixed(0):"";};c.prototype.rb=function(h,m,p){m=m || ({});m.target=this;this.Jb.Ec(h,m,!p);};c.prototype.KI=function(){var h;h=this;this.j.addEventListener(f.ga.Zya,function(){h.rb(f.La.$n);});this.j.iD.addListener(function(){h.rb(f.La.jAa);});this.j.addEventListener(f.ga.bgb,function(){h.rb(f.La.agb);});this.j.addEventListener(f.ga.XV,function(){h.rb(f.La.G3);});this.j.addEventListener(f.ga.Ij,function(){h.rb(f.La.G3);});this.j.addEventListener(f.ga.gM,function(m){h.rb(f.La.gM,{errorCode:m});});this.j.addEventListener(f.ga.sja,function(){h.rb(f.La.kUa);});this.j.addEventListener(f.ga.Dh,function(m){h.rb(f.La.x3,m);});this.j.addEventListener(f.ga.Afb,function(){h.rb(f.La.u3);h.rb(f.La.pu);});this.j.Ai.addListener(function(){h.rb(f.La.iva);});this.j.paused.addListener(function(){h.rb(f.La.H9a);});this.j.muted.addListener(function(){h.rb(f.La.T7a);});this.j.volume.addListener(function(){h.rb(f.La.ohb);});this.j.zb.addListener(function(){h.hgb();});this.j.state.addListener(function(){h.hgb();});this.j.Tja.addListener(function(m){h.iSb || h.j.state.value != f.Wb.fe || m.newValue || (h.iSb=!0,h.rb(f.La.loaded),setTimeout(function(){h.log.debug.bind(h.log,"summary ",h.gpa());}));h.rb(f.La.zK);});this.j.uc.addListener(function(){h.rb(f.La.Fl);h.rb(f.La.pu);setTimeout(function(){var m,p;m=h.j.uc.value;p=h.j.Mb.value;null === m || null === p || h.O4a(m,p) || (h.log.info("Changing timed text track to match audio track"),h.j.Mb.set(m.Xg[0]));},0);});this.j.Mb.addListener(function(m){m.oldValue && m.newValue && m.oldValue.trackId == m.newValue.trackId || h.rb(f.La.ol);});this.j.addEventListener(f.ga.pu,function(){h.rb(f.La.pu);});this.j.addEventListener(f.ga.OY,function(){h.rb(f.La.OY);});this.j.state.addListener(function(m){switch(m.newValue){case f.Wb.fe:h.rb(f.La.pma);h.rb(f.La.jAa);h.rb(f.La.u3);h.rb(f.La.pu);h.rb(f.La.X5a);h.R$a();h.$9b();break;case f.Wb.CLOSING:h.j.mh && h.rb(f.La.d4a,h.j.mh);break;case f.Wb.CLOSED:(h.rb(f.La.closed),h.Jb.Ag());}});this.j.addEventListener(f.ga.eC,function(){h.rb(f.La.eC);h.rb(f.La.$n);h.rb(f.La.G3);h.rb(f.La.pma);});};c.prototype.$9b=function(){var h;h=this;this.j.An.addEventListener("showsubtitle",function(m){h.rb(f.La.eya,m,!0);});this.j.An.addEventListener("removesubtitle",function(m){h.rb(f.La.lwa,m,!0);});this.j.ho().El.addListener(function(){h.rb(f.La.wub);});};c.prototype.R$a=function(){if(this.j.state.value == f.Wb.fe){for(var h,m,p;m=this.K9a.shift();){h=this.j.An.uia(m.url,m.name,m.options);m.dwb && (p=h);}p && this.j.Mb.set(p);}};c.prototype.hgb=function(){var h;h=this.j.state.value == f.Wb.fe && this.j.zb.value == f.lb.zq;this.ended !== h && (this.ended=h,this.j.TE("Ended changed: " + h),(h || this.j.state.value === f.Wb.CLOSING) && this.rb(f.La.wZa));};c.prototype.eG=function(){var h,m;try{h=/playercore.*js/;m=d.Lu.getEntriesByType("resource").filter(function(p){return null !== h.exec(p.name);});if(m && 0 < m.length)return JSON.stringify(Math.round(m[0].duration));}catch(p){}};b.xHa=c;},52357:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,E,G,F,J,M;function c(L){this.ac=L;}Object.defineProperty(b,"__esModule",{value:!0});b.KPa=void 0;r=a(5163);l=a(22674);f=a(71501);k=a(74870);d=a(42207);g=a(87386);n=a(15160);h=a(2911);m=a(41106);p=a(41893);q=a(32979);u=a(87607);t=a(95738);w=a(25050);v=a(61861);y=a(62665);x=a(81918);z=a(49745);A=a(37104);B=a(77764);C=a(4203);D=a(44376);E=a(47500);G=a(30869);F=a(78029);J=a(91825);M=a(11479);c.prototype.QK=function(L,K,P,H,I,N){return this.ac.get(C.Yb)().wba?new w.MPa(this.ac.get(g.bb),this.ac.get(v.ofa),this.ac.get(y.Xw),this.ac.get(x.Lc),this.ac.get(z.ND),this.ac.get(n.qda),this.ac.get(A.rea),this.ac.get(B.fGa),this.ac.get(D.rMa),this.ac.get(E.Yfa),this.ac.get(E.Yfa),this.ac.get(G.cg),this.ac.get(J.hQ),this.ac.get(F.Cda),this.ac.get(M.Rh),H,P):new p.xHa(this.ac.get(k.dh),this.ac.get(d.Uf),this.ac.get(g.bb),this.ac.get(n.qda),this.ac.get(h.Rfa),this.ac.get(q.Zea),this.ac.get(u.pda),this.ac.get(t.cLa),this.ac.get(m.jEa),L,K,P,H,I,N);};a=c;a=r.__decorate([(0,l.U)(),r.__param(0,(0,l.l)(f.uHa))],a);b.KPa=a;},35558:function(r,b,a){r.exports={vob:a(81198),nac:a(52915)};},52915:function(r,b,a){function c(f){this.data=f;this.right=this.left=null;}function l(f){this.Ve=null;this.Ks=f;this.size=0;}b=a(61161);c.prototype.Pg=function(f){return f?this.right:this.left;};c.prototype.rq=function(f,k){f?this.right=k:this.left=k;};l.prototype=new b();l.prototype.Ht=function(f){if(null === this.Ve)(this.Ve=new c(f),this.size++);else for(var k=0,d=null,g=this.Ve;;){if(null === g){g=new c(f);d.rq(k,g);ret=!0;this.size++;break;}if(0 === this.Ks(g.data,f))break;k=0 > this.Ks(g.data,f);d=g;g=g.Pg(k);}};l.prototype.remove=function(f){var k,d,m;if(null === this.Ve)return !1;k=new c(void 0);d=k;d.right=this.Ve;for(var g=null,n=null,h=1;null !== d.Pg(h);){g=d;d=d.Pg(h);m=this.Ks(f,d.data);h=0 < m;0 === m && (n=d);}return null !== n?(n.data=d.data,g.rq(g.right === d,d.Pg(null === d.left)),this.Ve=k.right,this.size--,!0):!1;};r.exports=l;},81198:function(r,b,a){function c(g){this.data=g;this.right=this.left=null;this.red=!0;}function l(g){this.Ve=null;this.Ks=g;this.size=0;}function f(g){return null !== g && g.red;}function k(g,n){var h;h=g.Pg(!n);g.rq(!n,h.Pg(n));h.rq(n,g);g.red=!0;h.red=!1;return h;}function d(g,n){g.rq(!n,k(g.Pg(!n),!n));return k(g,n);}b=a(61161);c.prototype.Pg=function(g){return g?this.right:this.left;};c.prototype.rq=function(g,n){g?this.right=n:this.left=n;};l.prototype=new b();l.prototype.Ht=function(g){var n,h,m,p,q,u,t,w;if(null === this.Ve)(this.Ve=new c(g),this.size++);else {n=new c(void 0);h=0;m=0;p=null;q=n;u=null;t=this.Ve;for(q.right=this.Ve;;){null === t?(t=new c(g),u.rq(h,t),this.size++):f(t.left) && f(t.right) && (t.red=!0,t.left.red=!1,t.right.red=!1);if(f(t) && f(u)){w=q.right === p;t === u.Pg(m)?q.rq(w,k(p,!m)):q.rq(w,d(p,!m));}w=this.Ks(t.data,g);if(0 === w)break;m=h;h=0 > w;null !== p && (q=p);p=u;u=t;t=t.Pg(h);}this.Ve=n.right;}this.Ve.red=!1;};l.prototype.remove=function(g){var n,h,t,w,v;if(null === this.Ve)return !1;n=new c(void 0);h=n;h.right=this.Ve;for(var m=null,p,q=null,u=1;null !== h.Pg(u);){t=u;p=m;m=h;h=h.Pg(u);w=this.Ks(g,h.data);u=0 < w;0 === w && (q=h);if(!f(h) && !f(h.Pg(u)))if(f(h.Pg(!u)))(p=k(h,u),m.rq(t,p),m=p);else if(!f(h.Pg(!u)) && (w=m.Pg(!t),null !== w))if(f(w.Pg(!t)) || f(w.Pg(t))){v=p.right === m;f(w.Pg(t))?p.rq(v,d(m,t)):f(w.Pg(!t)) && p.rq(v,k(m,t));t=p.Pg(v);t.red=!0;h.red=!0;t.left.red=!1;t.right.red=!1;}else (m.red=!1,w.red=!0,h.red=!0);}null !== q && (q.data=h.data,m.rq(m.right === h,h.Pg(null === h.left)),this.size--);this.Ve=n.right;null !== this.Ve && (this.Ve.red=!1);return null !== q;};r.exports=l;},61161:function(r){function b(){}function a(c){this.vSa=c;this.$o=[];this.gg=null;}b.prototype.clear=function(){this.Ve=null;this.size=0;};b.prototype.find=function(c){var f;for(var l=this.Ve;null !== l;){f=this.Ks(c,l.data);if(0 === f)return l.data;l=l.Pg(0 < f);}return null;};b.prototype.lowerBound=function(c){var d;for(var l=this.Ve,f=this.iterator(),k=this.Ks;null !== l;){d=k(c,l.data);if(0 === d)return (f.gg=l,f);f.$o.push(l);l=l.Pg(0 < d);}for(d=f.$o.length - 1;0 <= d;--d){if((l=f.$o[d],0 > k(c,l.data)))return (f.gg=l,f.$o.length=d,f);}f.$o.length=0;return f;};b.prototype.upperBound=function(c){for(var l=this.lowerBound(c),f=this.Ks;null !== l.data() && 0 === f(l.data(),c);){l.next();}return l;};b.prototype.min=function(){var c;c=this.Ve;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.Ve;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.Hp=function(c){for(var l=this.iterator(),f;null !== (f=l.next());){c(f);}};a.prototype.data=function(){return null !== this.gg?this.gg.data:null;};a.prototype.next=function(){var c;if(null === this.gg){c=this.vSa.Ve;null !== c && this.uRa(c);}else if(null === this.gg.right){do {if((c=this.gg,this.$o.length))this.gg=this.$o.pop();else {this.gg=null;break;}}while(this.gg.right === c);}else (this.$o.push(this.gg),this.uRa(this.gg.right));return null !== this.gg?this.gg.data:null;};a.prototype.vH=function(){var c;if(null === this.gg){c=this.vSa.Ve;null !== c && this.pRa(c);}else if(null === this.gg.left){do {if((c=this.gg,this.$o.length))this.gg=this.$o.pop();else {this.gg=null;break;}}while(this.gg.left === c);}else (this.$o.push(this.gg),this.pRa(this.gg.left));return null !== this.gg?this.gg.data:null;};a.prototype.uRa=function(c){for(;null !== c.left;){this.$o.push(c);c=c.left;}this.gg=c;};a.prototype.pRa=function(c){for(;null !== c.right;){this.$o.push(c);c=c.right;}this.gg=c;};r.exports=b;},62680:function(r,b,a){var c,l,f;c=a(67286);l=a(89429);f=l(c("String.prototype.indexOf"));r.exports=function(k,d){d=c(k,!!d);return "function" === typeof d && -1 < f(k,".prototype.")?l(d):d;};},89429:function(r,b,a){var l,f,k,d,g,n,h;function c(){return d(l,f,arguments);}l=a(4090);b=a(67286);f=b("%Function.prototype.apply%");k=b("%Function.prototype.call%");d=b("%Reflect.apply%",!0) || l.call(k,f);g=b("%Object.getOwnPropertyDescriptor%",!0);n=b("%Object.defineProperty%",!0);h=b("%Math.max%");if(n)try{n({},"a",{value:1});}catch(m){n=null;}r.exports=function(m){var p;p=d(l,k,arguments);g && n && g(p,"length").configurable && n(p,"length",{value:1 + h(0,m.length - (arguments.length - 1))});return p;};n?n(r.exports,"apply",{value:c}):r.exports.apply=c;},14926:function(r,b,a){var c,l,f,k,d,g;c=a(33464);l="function" === typeof Symbol && "symbol" === typeof Symbol("foo");f=Object.prototype.toString;k=Array.prototype.concat;d=Object.defineProperty;b=a(81181)();g=d && b;r.exports=function(n,h){var m,p,u,t,w,v;m=2 < arguments.length?arguments[2]:{};p=c(h);l && (p=k.call(p,Object.getOwnPropertySymbols(h)));for(var q=0;q < p.length;q+=1){u=n;t=p[q];w=h[p[q]];v=m[p[q]];if(!((t in u)) || "function" === typeof v && "[object Function]" === f.call(v) && v())g?d(u,t,{configurable:!0,enumerable:!1,value:w,writable:!0}):u[t]=w;}};},5885:function(r,b,a){var c,l,f,k,d;c="function" === typeof Symbol && "symbol" === typeof Symbol.iterator;l=a(53919);f=a(9680);k=a(54277);d=a(88705);r.exports=function(g){var n,h,m;if(l(g))return g;n="default";1 < arguments.length && (arguments[1] === String?n="string":arguments[1] === Number && (n="number"));if(c)if(Symbol.toPrimitive){h=Symbol.toPrimitive;m=g[h];if(null !== m && "undefined" !== typeof m){if(!f(m))throw new TypeError(m + " returned for property " + h + " of object " + g + " is not a function");h=m;}else h=void 0;}else d(g) && (h=Symbol.prototype.valueOf);if("undefined" !== typeof h){n=h.call(g,n);if(l(n))return n;throw new TypeError("unable to convert exotic object to primitive");}"default" === n && (k(g) || d(g)) && (n="string");a:{n="default" === n?"number":n;if("undefined" === typeof g || null === g)throw new TypeError("Cannot call method on " + g);if("string" !== typeof n || "number" !== n && "string" !== n)throw new TypeError('hint must be "string" or "number"');n="string" === n?["toString","valueOf"]:["valueOf","toString"];for(h=0;h < n.length;++h){if((m=g[n[h]],f(m) && (m=m.call(g),l(m))))break a;}throw new TypeError("No default value");}return m;};},53919:function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},22699:function(r){function b(){this.mb=this.mb || ({});this.Rs=this.Rs || void 0;}function a(l){return "function" === typeof l;}function c(l){return "object" === typeof l && null !== l;}r.exports=b;b.EventEmitter=b;b.prototype.mb=void 0;b.prototype.Rs=void 0;b.Tla=10;b.prototype.setMaxListeners=function(l){if("number" !== typeof l || 0 > l || isNaN(l))throw TypeError("n must be a positive number");this.Rs=l;return this;};b.prototype.emit=function(l){var f,k,d,g;this.mb || (this.mb={});if("error" === l && (!this.mb.error || c(this.mb.error) && !this.mb.error.length)){k=arguments[1];if(k instanceof Error)throw k;d=Error('Uncaught, unspecified "error" event. (' + k + ")");d.context=k;throw d;}d=this.mb[l];if(void 0 === d)return !1;if(a(d))switch(arguments.length){case 1:d.call(this);break;case 2:d.call(this,arguments[1]);break;case 3:d.call(this,arguments[1],arguments[2]);break;default:(k=Array.prototype.slice.call(arguments,1),d.apply(this,k));}else if(c(d)){k=Array.prototype.slice.call(arguments,1);g=d.slice();d=g.length;for(f=0;f < d;f++){g[f].apply(this,k);}}return !0;};b.prototype.addListener=function(l,f){if(!a(f))throw TypeError("listener must be a function");this.mb || (this.mb={});this.mb.VUb && this.emit("newListener",l,a(f.listener)?f.listener:f);this.mb[l]?c(this.mb[l])?this.mb[l].push(f):this.mb[l]=[this.mb[l],f]:this.mb[l]=f;c(this.mb[l]) && !this.mb[l].pAa && (f=void 0 === this.Rs?b.Tla:this.Rs) && 0 < f && this.mb[l].length > f && (this.mb[l].pAa=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this.mb[l].length),"function" === typeof console.trace && console.trace());return this;};b.prototype.on=b.prototype.addListener;b.prototype.once=function(l,f){var d;function k(){this.removeListener(l,k);d || (d=!0,f.apply(this,arguments));}if(!a(f))throw TypeError("listener must be a function");d=!1;k.listener=f;this.on(l,k);return this;};b.prototype.removeListener=function(l,f){var k,d,g;if(!a(f))throw TypeError("listener must be a function");if(!this.mb || !this.mb[l])return this;k=this.mb[l];d=k.length;g=-1;if(k === f || a(k.listener) && k.listener === f)(delete this.mb[l],this.mb.removeListener && this.emit("removeListener",l,f));else if(c(k)){for(;0 < d--;){if(k[d] === f || k[d].listener && k[d].listener === f){g=d;break;}}if(0 > g)return this;1 === k.length?(k.length=0,delete this.mb[l]):k.splice(g,1);this.mb.removeListener && this.emit("removeListener",l,f);}return this;};b.prototype.removeAllListeners=function(l){var f;if(!this.mb)return this;if(!this.mb.removeListener)return (0 === arguments.length?this.mb={}:this.mb[l] && delete this.mb[l],this);if(0 === arguments.length){for(f in this.mb){"removeListener" !== f && this.removeAllListeners(f);}this.removeAllListeners("removeListener");this.mb={};return this;}f=this.mb[l];if(a(f))this.removeListener(l,f);else if(f)for(;f.length;){this.removeListener(l,f[f.length - 1]);}delete this.mb[l];return this;};b.prototype.listeners=function(l){return this.mb && this.mb[l]?a(this.mb[l])?[this.mb[l]]:this.mb[l].slice():[];};b.prototype.listenerCount=function(l){if(this.mb){l=this.mb[l];if(a(l))return 1;if(l)return l.length;}return 0;};b.listenerCount=function(l,f){return l.listenerCount(f);};},37795:function(r){var b,a;b=Array.prototype.slice;a=Object.prototype.toString;r.exports=function(c){var l;l=this;if("function" !== typeof l || "[object Function]" !== a.call(l))throw new TypeError("Function.prototype.bind called on incompatible " + l);for(var f=b.call(arguments,1),k,d=Math.max(0,l.length - f.length),g=[],n=0;n < d;n++){g.push("$" + n);}k=Function("binder","return function (" + g.join(",") + "){ return binder.apply(this,arguments); }")(function(){var h;if(this instanceof k){h=l.apply(this,f.concat(b.call(arguments)));return Object(h) === h?h:this;}return l.apply(c,f.concat(b.call(arguments)));});l.prototype && (d=function(){},d.prototype=l.prototype,k.prototype=new d(),d.prototype=null);return k;};},4090:function(r,b,a){b=a(37795);r.exports=Function.prototype.bind || b;},67286:function(r,b,a){var k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D;function c(E){var G,F,J;G=A(E,0,1);F=A(E,-1);if("%" === G && "%" !== F)throw new k("invalid intrinsic syntax, expected closing `%`");if("%" === F && "%" !== G)throw new k("invalid intrinsic syntax, expected opening `%`");J=[];z(E,C,function(M,L,K,P){J[J.length]=K?z(P,D,"$1"):L || M;});return J;}function l(){throw new g();}function f(E){try{return d('"use strict"; return (' + E + ").constructor;")();}catch(G){}}k=SyntaxError;d=Function;g=TypeError;n=Object.getOwnPropertyDescriptor;if(n)try{n({},"");}catch(E){n=null;}b=n?(function(){try{return (arguments.callee,l);}catch(E){try{return n(arguments,"callee").get;}catch(G){return l;}}})():l;h=a(32636)();m=Object.getPrototypeOf || (function(E){return E.__proto__;});p={};q="undefined" === typeof Uint8Array?void 0:m(Uint8Array);u={"%AggregateError%":"undefined" === typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined" === typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":h?m([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined" === typeof Atomics?void 0:Atomics,"%BigInt%":"undefined" === typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined" === typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined" === typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined" === typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined" === typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined" === typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined" === typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":p,"%Int8Array%":"undefined" === typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined" === typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined" === typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?m(m([][Symbol.iterator]())):void 0,"%JSON%":"object" === typeof JSON?JSON:void 0,"%Map%":"undefined" === typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined" !== typeof Map && h?m(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined" === typeof Promise?void 0:Promise,"%Proxy%":"undefined" === typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined" === typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined" === typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined" !== typeof Set && h?m(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined" === typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?m(("")[Symbol.iterator]()):void 0,"%Symbol%":h?Symbol:void 0,"%SyntaxError%":k,"%ThrowTypeError%":b,"%TypedArray%":q,"%TypeError%":g,"%Uint8Array%":"undefined" === typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined" === typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined" === typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined" === typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined" === typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined" === typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined" === typeof WeakSet?void 0:WeakSet};try{(null).error;}catch(E){b=m(m(E));u["%Error.prototype%"]=b;}t=function F(G){var J,M;if("%AsyncFunction%" === G)J=f("async function () {}");else if("%GeneratorFunction%" === G)J=f("function* () {}");else if("%AsyncGeneratorFunction%" === G)J=f("async function* () {}");else if("%AsyncGenerator%" === G){M=F("%AsyncGeneratorFunction%");M && (J=M.prototype);}else "%AsyncIteratorPrototype%" === G && (M=F("%AsyncGenerator%")) && (J=m(M.prototype));return u[G]=J;};w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};b=a(4090);v=a(23198);y=b.call(Function.call,Array.prototype.concat);x=b.call(Function.apply,Array.prototype.splice);z=b.call(Function.call,String.prototype.replace);A=b.call(Function.call,String.prototype.slice);B=b.call(Function.call,RegExp.prototype.exec);C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;D=/\\(\\)?/g;r.exports=function(G,F){var J,M,L,K,P,H,I,N,R;if("string" !== typeof G || 0 === G.length)throw new g("intrinsic name must be a non-empty string");if(1 < arguments.length && "boolean" !== typeof F)throw new g('"allowMissing" argument must be a boolean');if(null === B(/^%?[^%]*%?$/,G))throw new k("`%` may not be present anywhere but at the beginning and end of the intrinsic name");J=c(G);M=0 < J.length?J[0]:"";L="%" + M + "%";K=L;if(v(w,K)){P=w[K];K="%" + P[0] + "%";}if(v(u,K)){H=u[K];H === p && (H=t(K));if("undefined" === typeof H && !F)throw new g("intrinsic " + L + " exists, but is not available. Please file an issue!");}else throw new k("intrinsic " + L + " does not exist!");L=H;K=!1;P && (M=P[0],x(J,y([0,1],P)));P=1;for(H=!0;P < J.length;P+=1){I=J[P];N=A(I,0,1);R=A(I,-1);if(('"' === N || "'" === N || "`" === N || '"' === R || "'" === R || "`" === R) && N !== R)throw new k("property names with quotes must have matching quotes");"constructor" !== I && H || (K=!0);M+="." + I;N="%" + M + "%";if(v(u,N))L=u[N];else if(null != L){if(!((I in L))){if(!F)throw new g("base intrinsic for " + G + " exists, but the property is not available.");return;}n && P + 1 >= J.length?(R=n(L,I),L=(H=!!R) && ("get" in R) && !(("originalValue" in R.get))?R.get:L[I]):(H=v(L,I),L=L[I]);H && !K && (u[N]=L);}}return L;};},81181:function(r,b,a){var l;function c(){if(l)try{return (l({},"a",{value:1}),!0);}catch(f){}return !1;}l=a(67286)("%Object.defineProperty%",!0);c.GNb=function(){if(!c())return null;try{return 1 !== l([],"length",{value:1}).length;}catch(f){return !0;}};r.exports=c;},32636:function(r,b,a){var c,l;c="undefined" !== typeof Symbol && Symbol;l=a(66679);r.exports=function(){return "function" !== typeof c || "function" !== typeof Symbol || "symbol" !== typeof c("foo") || "symbol" !== typeof Symbol("bar")?!1:l();};},66679:function(r){r.exports=function(){var b,a,c;if("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols)return !1;if("symbol" === typeof Symbol.iterator)return !0;b={};a=Symbol("test");c=Object(a);if("string" === typeof a || "[object Symbol]" !== Object.prototype.toString.call(a) || "[object Symbol]" !== Object.prototype.toString.call(c))return !1;b[a]=42;for(a in b){return !1;}if("function" === typeof Object.keys && 0 !== Object.keys(b).length || "function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(b).length)return !1;c=Object.getOwnPropertySymbols(b);return 1 !== c.length || c[0] !== a || !Object.prototype.propertyIsEnumerable.call(b,a) || "function" === typeof Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(b,a),42 !== b.value || !0 !== b.enumerable)?!1:!0;};},67226:function(r,b,a){var c;c=a(66679);r.exports=function(){return c() && !!Symbol.toStringTag;};},23198:function(r,b,a){b=a(4090);r.exports=b.call(Function.call,Object.prototype.hasOwnProperty);},28041:function(r,b,a){var f,k;function c(d,g,n,h,m){var p,q,t;p={};q="number" === typeof m;m=void 0 !== m && q?m.toString():n;if(q && void 0 !== n)throw Error(f.Olb);Reflect.Jpa(d,g) && (p=Reflect.getMetadata(d,g));n=p[m];if(Array.isArray(n)){q=0;for(var u=n;q < u.length;q++){t=u[q];if(t.key === h.key)throw Error(f.qkb + " " + t.key.toString());}}else n=[];n.push(h);p[m]=n;Reflect.G4(d,p,g);}function l(d,g){return function(n,h){g(n,h,d);};}Object.defineProperty(b,"__esModule",{value:!0});f=a(25640);k=a(37425);b.kI=function(d,g,n,h){c(k.LOa,d,g,h,n);};b.xY=function(d,g,n){c(k.MOa,d.constructor,g,n);};b.hB=function(d,g,n){"number" === typeof n?(d=[l(n,d)],Reflect.hB(d,g)):"string" === typeof n?Reflect.hB([d],g,n):Reflect.hB([d],g);};},29385:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);l=a(37425);f=a(67258);k=a(28041);r=(function(){function d(g){this.Lpb=g;}d.prototype.Z7b=function(){return this.Lpb();};return d;})();b.Yda=r;b.l=function(d){return function(g,n,h){var m;if(void 0 === d)throw Error(c.lpb(g.name));m=new f.Metadata(l.XP,d);"number" === typeof h?k.kI(g,n,h,m):k.xY(g,n,m);};};},16504:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);l=a(37425);b.U=function(){return function(f){var k;if(Reflect.Jpa(l.Kea,f))throw Error(c.pkb);k=Reflect.getMetadata(l.Njb,f) || [];Reflect.G4(l.Kea,k,f);return f;};};},3342:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);f=a(28041);b.YG=function(k){return function(d,g,n){var h;h=new l.Metadata(c.MD,k);"number" === typeof n?f.kI(d,g,n,h):f.xY(d,g,h);};};},44466:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);f=a(28041);b.V7a=function(k){return function(d,g,n){var h;h=new l.Metadata(c.aA,k);"number" === typeof n?f.kI(d,g,n,h):f.xY(d,g,h);};};},5923:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);f=a(28041);b.optional=function(){return function(k,d,g){var n;n=new l.Metadata(c.jKa,!0);"number" === typeof g?f.kI(k,d,g,n):f.xY(k,d,n);};};},76311:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);l=a(37425);f=a(67258);b.q$a=function(){return function(k,d){d=new f.Metadata(l.zQ,d);if(Reflect.Jpa(l.zQ,k.constructor))throw Error(c.Fmb);Reflect.G4(l.zQ,d,k.constructor);};};},91823:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(67258);l=a(28041);b.Leb=function(f,k){return function(d,g,n){var h;h=new c.Metadata(f,k);"number" === typeof n?l.kI(d,g,n,h):l.xY(d,g,h);};};},67509:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);f=a(28041);b.yY=function(k){return function(d,g,n){var h;h=new l.Metadata(c.G0,k);f.kI(d,g,n,h);};};},53022:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(67258);f=a(28041);b.Bn=function(){return function(k,d,g){var n;n=new l.Metadata(c.PQ,!0);f.kI(k,d,g,n);};};},70078:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(5493);l=a(72632);r=(function(){function f(k,d){this.id=l.id();this.oia=!1;this.$f=k;this.scope=d;this.type=c.hj.bmb;this.rF=function(){return !0;};this.eL=this.Xv=this.dz=this.yL=this.cache=this.Wl=null;}f.prototype.clone=function(){var k;k=new f(this.$f,this.scope);k.oia=!1;k.Wl=this.Wl;k.eL=this.eL;k.scope=this.scope;k.type=this.type;k.yL=this.yL;k.dz=this.dz;k.rF=this.rF;k.Xv=this.Xv;k.cache=this.cache;return k;};return f;})();b.Rib=r;},57197:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dca={kcc:2,$Ja:0,fnb:1};},25640:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pkb="Cannot apply @injectable decorator multiple times.";b.qkb="Metadata key was used more than once in a parameter:";b.uQ="NULL argument";b.CHa="Key Not Found";b.Uhb="Ambiguous match found for serviceIdentifier:";b.ijb="Could not unbind serviceIdentifier:";b.Rmb="No matching bindings found for serviceIdentifier:";b.smb="Missing required @injectable annotation in:";b.tmb="Missing required @inject or @multiInject annotation in:";b.lpb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.ljb="Circular dependency found:";b.Ccc="Sorry, this feature is not fully implemented yet.";b.Nlb="Invalid binding type:";b.Tmb="No snapshot available to restore.";b.Rlb="Invalid return type in middleware. Middleware must return!";b.Qlb="Value provided to function binding must be a function!";b.Slb="The toSelf function can only be applied when a constructor is used as service identifier";b.Olb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.Whb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.zjb="Invalid Container constructor argument. Container options must be an object.";b.xjb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.wjb="Invalid Container option. Auto bind injectable must be a boolean";b.yjb="Invalid Container option. Skip base check must be a boolean";b.Fmb="Cannot apply @postConstruct decorator multiple times in the same class";b.aob=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.mjb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.Pob="Maximum call stack size exceeded";},5493:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qs={Request:"Request",Tfa:"Singleton",z1:"Transient"};b.hj={vDa:"ConstantValue",wDa:"Constructor",DEa:"DynamicValue",sda:"Factory",Function:"Function",Instance:"Instance",bmb:"Invalid",dNa:"Provider"};b.nx={lDa:"ClassProperty",xDa:"ConstructorArgument",kga:"Variable"};},37425:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aA="named";b.G0="name";b.PQ="unmanaged";b.jKa="optional";b.XP="inject";b.MD="multi_inject";b.LOa="inversify:tagged";b.MOa="inversify:tagged_props";b.Kea="inversify:paramtypes";b.Njb="design:paramtypes";b.zQ="post_construct";},99700:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u;c=this && this.__awaiter || (function(t,w,v,y){return new (v || (v=Promise))(function(x,z){function A(D){try{C(y.next(D));}catch(E){z(E);}}function B(D){try{C(y["throw"](D));}catch(E){z(E);}}function C(D){D.done?x(D.value):new v(function(E){E(D.value);}).then(A,B);}C((y=y.apply(t,w || [])).next());});});l=this && this.__generator || (function(t,w){var x,z,A,B,C;function v(D){return function(E){return y([D,E]);};}function y(D){if(z)throw new TypeError("Generator is already executing.");for(;x;){try{if((z=1,A && (B=A[D[0] & 2?"return":D[0]?"throw":"next"]) && !(B=B.call(A,D[1])).done))return B;if((A=0,B))D=[0,B.value];switch(D[0]){case 0:case 1:B=D;break;case 4:return (x.label++,{value:D[1],done:!1});case 5:x.label++;A=D[1];D=[0];continue;case 7:D=x.eH.pop();x.Vj.pop();continue;default:if(!(B=x.Vj,B=0 < B.length && B[B.length - 1]) && (6 === D[0] || 2 === D[0])){x=0;continue;}if(3 === D[0] && (!B || D[1] > B[0] && D[1] < B[3]))x.label=D[1];else if(6 === D[0] && x.label < B[1])(x.label=B[1],B=D);else if(B && x.label < B[2])(x.label=B[2],x.eH.push(D));else {B[2] && x.eH.pop();x.Vj.pop();continue;}}D=w.call(t,x);}catch(E){D=[6,E];A=0;}finally{z=B=0;}}if(D[0] & 5)throw D[1];return {value:D[0]?D[1]:void 0,done:!0};}x={label:0,Wa:function(){if(B[0] & 1)throw B[1];return B[1];},Vj:[],eH:[]};return (C={next:v(0),"throw":v(1),"return":v(2)},"function" === typeof Symbol && (C[Symbol.iterator]=function(){return this;}),C);});Object.defineProperty(b,"__esModule",{value:!0});f=a(70078);k=a(25640);d=a(5493);a(37425);g=a(11499);n=a(75262);h=a(85933);m=a(49825);p=a(72632);q=a(48530);a(95817);u=a(62240);r=(function(){function t(w){w=w || ({});if("object" !== typeof w)throw Error("" + k.zjb);if(void 0 === w.wF)w.wF=d.qs.z1;else if(w.wF !== d.qs.Tfa && w.wF !== d.qs.z1 && w.wF !== d.qs.Request)throw Error("" + k.xjb);if(void 0 === w.DS)w.DS=!1;else if("boolean" !== typeof w.DS)throw Error("" + k.wjb);if(void 0 === w.$H)w.$H=!1;else if("boolean" !== typeof w.$H)throw Error("" + k.yjb);this.options={DS:w.DS,wF:w.wF,$H:w.$H};this.id=p.id();this.gE=new u.jmb();this.Fsb=[];this.parent=this.Cha=null;this.lrb=new g.wea();}t.Xp=function(w,v){var x,z;function y(A,B){A.r7b(function(C,D){D.forEach(function(E){B.add(E.$f,E.clone());});});}x=new t();z=n.coa(x);w=n.coa(w);v=n.coa(v);y(w,z);y(v,z);return x;};t.prototype.load=function(){var x,z;for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}v=this.LQa();for(var y=0;y < w.length;y++){x=w[y];z=v(x.id);x.hwa(z.xUa,z.Sfb,z.U4a,z.yab);}};t.prototype.BV=function(){for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}c(this,void 0,void 0,function(){var y,x,z,A,B;return l(this,function(C){switch(C.label){case 0:(y=this.LQa(),x=0,z=w,C.label=1);case 1:if(!(x < z.length))return [3,4];A=z[x];B=y(A.id);return [4,A.hwa(B.xUa,B.Sfb,B.U4a,B.yab)];case 2:(C.Wa(),C.label=3);case 3:return (x++,[3,1]);case 4:return [2];}});});};t.prototype.Xfb=function(){function w(z){return function(A){return A.I7a === z;};}for(var v=this,y=[],x=0;x < arguments.length;x++){y[x]=arguments[x];}y.forEach(function(z){z=w(z.id);v.gE.G0b(z);});};t.prototype.bind=function(w){var v;v=new f.Rib(w,this.options.wF || d.qs.z1);this.gE.add(w,v);return new m.Tib(v);};t.prototype.K_b=function(w){this.Rfb(w);return this.bind(w);};t.prototype.Rfb=function(w){try{this.gE.remove(w);}catch(v){throw Error(k.ijb + " " + q.YL(w));}};t.prototype.o4a=function(w){var v;v=this.gE.L2a(w);!v && this.parent && (v=this.parent.o4a(w));return v;};t.prototype.restore=function(){var w;w=this.Fsb.pop();if(void 0 === w)throw Error(k.Tmb);this.gE=w.GS;this.Cha=w.aUb;};t.prototype.GBb=function(){var w;w=new t(this.options);w.parent=this;return w;};t.prototype.get=function(w){return this.KQa(!1,!1,d.nx.kga,w);};t.prototype.getAll=function(w){return this.KQa(!0,!0,d.nx.kga,w);};t.prototype.resolve=function(w){var v;v=this.GBb();v.bind(w).ofb();return v.get(w);};t.prototype.LQa=function(){var z;function w(A){return function(B){B=z.K_b.bind(z)(B);B.zc.I7a=A;return B;};}function v(){return function(A){return z.o4a.bind(z)(A);};}function y(){return function(A){z.Rfb.bind(z)(A);};}function x(A){return function(B){B=z.bind.bind(z)(B);B.zc.I7a=A;return B;};}z=this;return function(A){return {xUa:x(A),U4a:v(A),yab:w(A),Sfb:y(A)};};};t.prototype.KQa=function(w,v,y,x){var z;z=null;w={gwb:w,Nzb:function(A){return A;},gQb:v,key:void 0,$f:x,s6b:y,value:void 0};if(this.Cha){if((z=this.Cha(w),void 0 === z || null === z))throw Error(k.Rlb);}else z=this.Zrb()(w);return z;};t.prototype.Zrb=function(){var w;w=this;return function(v){var y;y=n.wN(w.lrb,w,v.gQb,v.s6b,v.$f,v.key,v.value,v.gwb);y=v.Nzb(y);return h.resolve(y);};};return t;})();b.XZ=r;},51164:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(72632);b.gd=(function(){return function(l){this.id=c.id();this.hwa=l;};})();b.SBa=(function(){return function(l){this.id=c.id();this.hwa=l;};})();},95817:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bac=(function(){function a(){}a.of=function(c,l){var f;f=new a();f.GS=c;f.aUb=l;return f;};return a;})();},62240:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);r=(function(){function l(){this.wf=new Map();}l.prototype.add=function(f,k){var d;if(null === f || void 0 === f)throw Error(c.uQ);if(null === k || void 0 === k)throw Error(c.uQ);d=this.wf.get(f);void 0 !== d?(d.push(k),this.wf.set(f,d)):this.wf.set(f,[k]);};l.prototype.get=function(f){if(null === f || void 0 === f)throw Error(c.uQ);f=this.wf.get(f);if(void 0 !== f)return f;throw Error(c.CHa);};l.prototype.remove=function(f){if(null === f || void 0 === f)throw Error(c.uQ);if(!this.wf.delete(f))throw Error(c.CHa);};l.prototype.G0b=function(f){var k;k=this;this.wf.forEach(function(d,g){d=d.filter(function(n){return !f(n);});0 < d.length?k.wf.set(g,d):k.wf.delete(g);});};l.prototype.L2a=function(f){if(null === f || void 0 === f)throw Error(c.uQ);return this.wf.has(f);};l.prototype.clone=function(){var f;f=new l();this.wf.forEach(function(k,d){k.forEach(function(g){return f.add(d,g.clone());});});return f;};l.prototype.r7b=function(f){this.wf.forEach(function(k,d){f(d,k);});};return l;})();b.jmb=r;},22674:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(37425);b.$bc=r;r=a(99700);b.XZ=r.XZ;r=a(5493);b.qs=r.qs;b.hj=r.hj;b.nx=r.nx;r=a(51164);b.SBa=r.SBa;b.gd=r.gd;r=a(16504);b.U=r.U;r=a(91823);b.Leb=r.Leb;r=a(44466);b.V7a=r.V7a;r=a(29385);b.l=r.l;b.Yda=r.Yda;r=a(5923);b.optional=r.optional;r=a(53022);b.Bn=r.Bn;r=a(3342);b.YG=r.YG;r=a(67509);b.yY=r.yY;r=a(76311);b.q$a=r.q$a;r=a(11499);b.wea=r.wea;r=a(72632);b.id=r.id;r=a(28041);b.hB=r.hB;r=a(41146);b.Ifb=r.Ifb;b.Meb=r.Meb;b.W7a=r.W7a;b.Qfb=r.Qfb;r=a(48530);b.YL=r.YL;a=a(14577);b.S7a=a.S7a;},91734:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(72632);r=(function(){function l(f){this.id=c.id();this.ob=f;}l.prototype.Wtb=function(f){this.wN=f;};return l;})();b.ADa=r;},67258:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);r=(function(){function l(f,k){this.key=f;this.value=k;}l.prototype.toString=function(){return this.key === c.aA?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return l;})();b.Metadata=r;},11499:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);r=(function(){function l(){}l.prototype.z0a=function(f){var k;k=Reflect.getMetadata(c.Kea,f);f=Reflect.getMetadata(c.LOa,f);return {nWa:k,d9b:f || ({})};};l.prototype.YLb=function(f){return Reflect.getMetadata(c.MOa,f) || [];};return l;})();b.wea=r;},4595:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iob=(function(){return function(a,c){this.oN=a;this.Rwa=c;};})();},75262:function(r,b,a){var d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C){var D,E;D=k(A.ob,C.$f);E=[];D.length === d.Dca.$Ja && A.ob.options.DS && "function" === typeof C.$f && x.z0a(C.$f).nWa && (A.ob.bind(C.$f).ofb(),D=k(A.ob,C.$f));E=z?D:D.filter(function(G){var F;F=new v.Request(G.$f,A,B,G,C);return G.rF(F);});l(C.$f,E,C,A.ob);return E;}function l(x,z,A,B){switch(z.length){case d.Dca.$Ja:if(A.D4a())return z;x=p.YL(x);z=g.Rmb;z+=p.rRb(x,A);z+=p.O5a(B,x,k);throw Error(z);case d.Dca.fnb:if(!A.isArray())return z;default:if(A.isArray())return z;x=p.YL(x);z=g.Uhb + " " + x;z+=p.O5a(B,x,k);throw Error(z);}}function f(x,z,A,B,C,D){var E;if(null === C){z=c(x,z,B,null,D);E=new v.Request(A,B,null,z,D);A=new t.iob(B,E);B.Wtb(A);}else (z=c(x,z,B,C,D),E=C.RSa(D.$f,z,D));z.forEach(function(G){var F,J,M;F=null;if(D.isArray())F=E.RSa(G.$f,G,D);else {if(G.cache)return;F=E;}if(G.type === n.hj.Instance && null !== G.Wl){J=w.bKb(x,G.Wl);if(!B.ob.options.$H){M=w.AJb(x,G.Wl);if(J.length < M)throw (G=g.Whb(w.getFunctionName(G.Wl)),Error(G));}J.forEach(function(L){f(x,!1,L.$f,B,F,L);});}});}function k(x,z){var A,B;A=[];B=x.gE;B.L2a(z)?A=B.get(z):null !== x.parent && (A=k(x.parent,z));return A;}Object.defineProperty(b,"__esModule",{value:!0});d=a(57197);g=a(25640);n=a(5493);h=a(37425);m=a(69523);p=a(48530);q=a(91734);u=a(67258);t=a(4595);w=a(34912);v=a(22929);y=a(23927);b.coa=function(x){return x.gE;};b.wN=function(x,z,A,B,C,D,E,G){void 0 === G && (G=!1);z=new q.ADa(z);A=new u.Metadata(A?h.MD:h.XP,C);B=new y.x1(B,"",C,A);void 0 !== D && (D=new u.Metadata(D,E),B.Wd.push(D));try{return (f(x,G,C,z,null,B),z);}catch(F){throw (m.M4a(F) && z.wN && p.Gyb(z.wN.Rwa),F);}};b.Gfc=function(x,z,A,B){A=new y.x1(n.nx.kga,"",z,new u.Metadata(A,B));x=new q.ADa(x);return new v.Request(z,x,null,[],A);};},11625:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.yO=c;}a.prototype.startsWith=function(c){return 0 === this.yO.indexOf(c);};a.prototype.endsWith=function(c){var l;l=c.split("").reverse().join("");c=this.yO.split("").reverse().join("");return this.startsWith.call({yO:c},l);};a.prototype.contains=function(c){return -1 !== this.yO.indexOf(c);};a.prototype.equals=function(c){return this.yO === c;};a.prototype.value=function(){return this.yO;};return a;})();b.tob=r;},34912:function(r,b,a){var d,g,n,h,m,p;function c(q,u,t,w){var v,y,x,z,B,C,D,E,G,F,J,M;v=q.z0a(t);y=v.nWa;if(void 0 === y)throw Error(g.smb + " " + u + ".");v=v.d9b;x=Object.keys(v);z=0 === t.length && 0 < x.length?x.length:t.length;x=[];for(var A=0;A < z;A++){B=A;C=w;D=u;E=y;G=v[B.toString()] || [];F=k(G);J=!0 !== F.Bn;E=E[B];M=F.l || F.YG;E=M?M:E;E instanceof d.Yda && (E=E.Z7b());if(J){J=E === Function;J=E === Object || J || void 0 === E;if(!C && J)throw Error(g.tmb + " argument " + B + " in class " + D + ".");B=new p.x1(n.nx.xDa,F.yY,E);B.Wd=G;G=B;}else G=null;null !== G && x.push(G);}q=l(q,t);return x.concat(q);}function l(q,u){var x,z,A;for(var t=q.YLb(u),w=[],v=0,y=Object.keys(t);v < y.length;v++){x=y[v];z=t[x];A=k(t[x]);x=new p.x1(n.nx.lDa,A.yY || x,A.l || A.YG);x.Wd=z;w.push(x);}u=Object.getPrototypeOf(u.prototype).constructor;u !== Object && (q=l(q,u),w=w.concat(q));return w;}function f(q,u){var t,w;u=Object.getPrototypeOf(u.prototype).constructor;if(u !== Object){t=m.getFunctionName(u);t=c(q,t,u,!0);w=t.map(function(v){return v.Wd.filter(function(y){return y.key === h.PQ;});});w=[].concat.apply([],w).length;t=t.length - w;return 0 < t?t:f(q,u);}return 0;}function k(q){var u;u={};q.forEach(function(t){u[t.key.toString()]=t.value;});return {l:u[h.XP],YG:u[h.MD],yY:u[h.G0],Bn:u[h.PQ]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(29385);g=a(25640);n=a(5493);h=a(37425);m=a(48530);b.getFunctionName=m.getFunctionName;p=a(23927);b.bKb=function(q,u){var t;t=m.getFunctionName(u);return c(q,t,u,!1);};b.AJb=f;},22929:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(72632);r=(function(){function l(f,k,d,g,n){this.id=c.id();this.$f=f;this.oN=k;this.Xy=d;this.target=n;this.wka=[];this.GS=Array.isArray(g)?g:[g];this.i1b=null === d?new Map():null;}l.prototype.RSa=function(f,k,d){f=new l(f,this.oN,this,k,d);this.wka.push(f);return f;};return l;})();b.Request=r;},23927:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(37425);l=a(72632);f=a(67258);k=a(11625);r=(function(){function d(g,n,h,m){this.id=l.id();this.type=g;this.$f=h;this.name=new k.tob(n || "");this.Wd=[];g=null;"string" === typeof m?g=new f.Metadata(c.aA,m):m instanceof f.Metadata && (g=m);null !== g && this.Wd.push(g);}d.prototype.T2a=function(g){for(var n=0,h=this.Wd;n < h.length;n++){if(h[n].key === g)return !0;}return !1;};d.prototype.isArray=function(){return this.T2a(c.MD);};d.prototype.bTb=function(g){return this.rsa(c.MD)(g);};d.prototype.Rqa=function(){return this.T2a(c.aA);};d.prototype.cra=function(){return this.Wd.some(function(g){return g.key !== c.XP && g.key !== c.MD && g.key !== c.G0 && g.key !== c.PQ && g.key !== c.aA;});};d.prototype.D4a=function(){return this.rsa(c.jKa)(!0);};d.prototype.tLb=function(){return this.Rqa()?this.Wd.filter(function(g){return g.key === c.aA;})[0]:null;};d.prototype.ZJb=function(){return this.cra()?this.Wd.filter(function(g){return g.key !== c.XP && g.key !== c.MD && g.key !== c.G0 && g.key !== c.PQ && g.key !== c.aA;}):null;};d.prototype.rsa=function(g){var n;n=this;return function(h){var q;for(var m=0,p=n.Wd;m < p.length;m++){q=p[m];if(q.key === g && q.value === h)return !0;}return !1;};};return d;})();b.x1=r;},40198:function(r,b,a){var f,k,d;function c(g,n,h){var m;n=n.filter(function(p){return null !== p.target && p.target.type === k.nx.lDa;});m=n.map(h);n.forEach(function(p,q){p=p.target.name.value();g[p]=m[q];});return g;}function l(g,n){var h;if(Reflect.ONb(d.zQ,g)){h=Reflect.getMetadata(d.zQ,g);try{n[h.value]();}catch(m){throw Error(f.aob(g.name,m.message));}}}Object.defineProperty(b,"__esModule",{value:!0});f=a(25640);k=a(5493);d=a(37425);b.w1b=function(g,n,h){var m;m=null;0 < n.length?(m=n.filter(function(p){return null !== p.target && p.target.type === k.nx.xDa;}).map(h),m=new (g.bind.apply(g,[void 0].concat(m)))(),m=c(m,n,h)):m=new g();l(g,m);return m;};},85933:function(r,b,a){var f,k,d,g,n;function c(h){return function(m){var p,q,u,t,w;p=m.GS;q=m.wka;u=m.target && m.target.isArray();t=!m.Xy || !m.Xy.target || !m.target || !m.Xy.target.bTb(m.target.$f);if(u && t)return q.map(function(v){return c(h)(v);});u=null;if(!m.target.D4a() || 0 !== p.length){w=p[0];p=w.scope === k.qs.Tfa;t=w.scope === k.qs.Request;if(p && w.oia)return w.cache;if(t && null !== h && h.has(w.id))return h.get(w.id);if(w.type === k.hj.vDa)u=w.cache;else if(w.type === k.hj.Function)u=w.cache;else if(w.type === k.hj.wDa)u=w.Wl;else if(w.type === k.hj.DEa && null !== w.eL)u=l("toDynamicValue",w.$f,function(){return w.eL(m.oN);});else if(w.type === k.hj.sda && null !== w.yL)u=l("toFactory",w.$f,function(){return w.yL(m.oN);});else if(w.type === k.hj.dNa && null !== w.dz)u=l("toProvider",w.$f,function(){return w.dz(m.oN);});else if(w.type === k.hj.Instance && null !== w.Wl)u=n.w1b(w.Wl,q,c(h));else throw (q=g.YL(m.$f),Error(f.Nlb + " " + q));"function" === typeof w.Xv && (u=w.Xv(m.oN,u));p && (w.cache=u,w.oia=!0);t && null !== h && !h.has(w.id) && h.set(w.id,u);return u;}};}function l(h,m,p){try{return p();}catch(q){if(d.M4a(q))throw Error(f.mjb(h,m.toString()));throw q;}}Object.defineProperty(b,"__esModule",{value:!0});f=a(25640);k=a(5493);d=a(69523);g=a(48530);n=a(40198);b.resolve=function(h){return c(h.wN.Rwa.i1b)(h.wN.Rwa);};},51580:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(5493);l=a(75714);r=(function(){function f(k){this.zc=k;}f.prototype.ha=function(){this.zc.scope=c.qs.Tfa;return new l.oD(this.zc);};f.prototype.fqa=function(){this.zc.scope=c.qs.z1;return new l.oD(this.zc);};return f;})();b.Sib=r;},61142:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(51580);l=a(1003);f=a(7190);r=(function(){function k(d){this.zc=d;this.aR=new f.Eca(this.zc);this.xga=new l.JZ(this.zc);this.nQa=new c.Sib(d);}k.prototype.ha=function(){return this.nQa.ha();};k.prototype.fqa=function(){return this.nQa.fqa();};k.prototype.when=function(d){return this.aR.when(d);};k.prototype.mZ=function(){return this.aR.mZ();};k.prototype.Xv=function(d){return this.xga.Xv(d);};return k;})();b.hCa=r;},1003:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(7190);r=(function(){function l(f){this.zc=f;}l.prototype.Xv=function(f){this.zc.Xv=f;return new c.Eca(this.zc);};return l;})();b.JZ=r;},49825:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);l=a(5493);f=a(61142);k=a(75714);r=(function(){function d(g){this.zc=g;}d.prototype.to=function(g){this.zc.type=l.hj.Instance;this.zc.Wl=g;return new f.hCa(this.zc);};d.prototype.ofb=function(){if("function" !== typeof this.zc.$f)throw Error("" + c.Slb);this.to(this.zc.$f);};d.prototype.pl=function(g){this.zc.type=l.hj.vDa;this.zc.cache=g;this.zc.eL=null;this.zc.Wl=null;new k.oD(this.zc);};d.prototype.bD=function(g){this.zc.type=l.hj.DEa;this.zc.cache=null;this.zc.eL=g;this.zc.Wl=null;return new f.hCa(this.zc);};d.prototype.$6b=function(g){this.zc.type=l.hj.wDa;this.zc.Wl=g;new k.oD(this.zc);};d.prototype.ae=function(g){this.zc.type=l.hj.sda;this.zc.yL=g;new k.oD(this.zc);};d.prototype.a7b=function(g){if("function" !== typeof g)throw Error(c.Qlb);this.pl(g);this.zc.type=l.hj.Function;};d.prototype.mfb=function(g){this.zc.type=l.hj.sda;this.zc.yL=function(n){return function(){return n.ob.get(g);};};new k.oD(this.zc);};d.prototype.JY=function(g){this.zc.type=l.hj.dNa;this.zc.dz=g;new k.oD(this.zc);};d.prototype.d7b=function(g){this.bD(function(n){return n.ob.get(g);});};return d;})();b.Tib=r;},75714:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(1003);l=a(7190);r=(function(){function f(k){this.zc=k;this.aR=new l.Eca(this.zc);this.xga=new c.JZ(this.zc);}f.prototype.when=function(k){return this.aR.when(k);};f.prototype.mZ=function(){return this.aR.mZ();};f.prototype.Xv=function(k){return this.xga.Xv(k);};return f;})();b.oD=r;},7190:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(1003);a(41146);r=(function(){function l(f){this.zc=f;}l.prototype.when=function(f){this.zc.rF=f;return new c.JZ(this.zc);};l.prototype.mZ=function(){this.zc.rF=function(f){return null !== f.target && !f.target.Rqa() && !f.target.cra();};return new c.JZ(this.zc);};return l;})();b.Eca=r;},41146:function(r,b,a){var f;function c(k){return function(d){function g(n){return null !== n && null !== n.target && n.target.rsa(k)(d);}g.m7a=new f.Metadata(k,d);return g;};}function l(k,d){k=k.Xy;return null !== k?d(k)?!0:l(k,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(37425);f=a(67258);b.Ifb=l;b.Meb=c;a=c(r.aA);b.W7a=a;b.Qfb=function(k){return function(d){var g;if(null !== d){g=d.GS[0];return "string" === typeof k?g.$f === k:k === d.GS[0].Wl;}return !1;};};},14577:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.S7a=function(a){return function(c){return function(){for(var l=[],f=0;f < arguments.length;f++){l[f]=arguments[f];}return l.forEach(function(k){return a.bind(k).d7b(c);});};};};},69523:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);b.M4a=function(l){return l instanceof RangeError || l.message === c.Pob;};},72632:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},48530:function(r,b,a){var g;function c(n){return "function" === typeof n?n.name:"symbol" === typeof n?n.toString():n;}function l(n,h){return null === n.Xy?!1:n.Xy.$f === h?!0:l(n.Xy,h);}function f(n){function h(m,p){var q;void 0 === p && (p=[]);q=c(m.$f);p.push(q);return null !== m.Xy?h(m.Xy,p):p;}return h(n).reverse().join(" --\x3e ");}function k(n){n.wka.forEach(function(h){if(l(h,h.$f))throw (h=f(h),Error(g.ljb + " " + h));k(h);});}function d(n){var h;if(n.name)return n.name;n=n.toString();h=n.match(/^function\s*([^\s(]+)/);return h?h[1]:"Anonymous function: " + n;}Object.defineProperty(b,"__esModule",{value:!0});g=a(25640);b.YL=c;b.O5a=function(n,h,m){var p;p="";n=m(n,h);0 !== n.length && (p="\nRegistered bindings:",n.forEach(function(q){var u;u="Object";null !== q.Wl && (u=d(q.Wl));p=p + "\n " + u;q.rF.m7a && (p=p + " - " + q.rF.m7a);}));return p;};b.Gyb=k;b.rRb=function(n,h){var m,p;if(h.cra() || h.Rqa()){m="";p=h.tLb();h=h.ZJb();null !== p && (m+=p.toString() + "\n");null !== h && h.forEach(function(q){m+=q.toString() + "\n";});return " " + n + "\n " + n + " - " + m;}return " " + n;};b.getFunctionName=d;},9680:function(r){var l,f,k,d,g,n,h,m;function b(){return !1;}function a(p){try{if(c(p))return !1;l.call(p);return !0;}catch(q){return !1;}}function c(p){var q;try{q=l.call(p);return g.test(q);}catch(u){return !1;}}l=Function.prototype.toString;f="object" === typeof Reflect && null !== Reflect && Reflect.apply;if("function" === typeof f && "function" === typeof Object.defineProperty)try{k=Object.defineProperty({},"length",{get:function(){throw d;}});d={};f(function(){throw 42;},null,k);}catch(p){p !== d && (f=null);}else f=null;g=/^\s*class\b/;n=Object.prototype.toString;h="function" === typeof Symbol && !!Symbol.toStringTag;m=!((0 in [,]));"object" === typeof document && n.call(document.all) === n.call(document.all) && (b=function(p){var q;if(!(!m && p || "undefined" !== typeof p && "object" !== typeof p))try{q=n.call(p);return ("[object HTMLAllCollection]" === q || "[object HTML document.all class]" === q || "[object HTMLCollection]" === q || "[object Object]" === q) && null == p("");}catch(u){}return !1;});r.exports=f?function(p){if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;try{f(p,null,k);}catch(q){if(q !== d)return !1;}return !c(p) && a(p);}:function(p){var q;if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;if(h)return a(p);if(c(p))return !1;q=n.call(p);return "[object Function]" === q || "[object GeneratorFunction]" === q || (/^\[object HTML/).test(q)?a(p):!1;};},54277:function(r,b,a){var c,l,f;c=Date.prototype.getDay;l=Object.prototype.toString;f=a(67226)();r.exports=function(k){if("object" !== typeof k || null === k)k=!1;else if(f)try{c.call(k);k=!0;}catch(d){k=!1;}else k="[object Date]" === l.call(k);return k;};},58786:function(r,b,a){var c,l,f,k,d,g,n;b=a(62680);if(a=a(67226)()){c=b("Object.prototype.hasOwnProperty");l=b("RegExp.prototype.exec");f={};k=function(){throw f;};d={toString:k,valueOf:k};"symbol" === typeof Symbol.toPrimitive && (d[Symbol.toPrimitive]=k);}g=b("Object.prototype.toString");n=Object.getOwnPropertyDescriptor;r.exports=a?function(h){var m;if(!h || "object" !== typeof h)return !1;m=n(h,"lastIndex");if(!m || !c(m,"value"))return !1;try{l(h,d);}catch(p){return p === f;}}:function(h){return !h || "object" !== typeof h && "function" !== typeof h?!1:"[object RegExp]" === g(h);};},26302:function(r,b,a){var c,l,f;c=String.prototype.valueOf;l=Object.prototype.toString;f=a(67226)();r.exports=function(k){if("string" === typeof k)k=!0;else if("object" !== typeof k)k=!1;else if(f)try{c.call(k);k=!0;}catch(d){k=!1;}else k="[object String]" === l.call(k);return k;};},88705:function(r,b,a){var c,l,f;c=Object.prototype.toString;if(a(32636)()){l=Symbol.prototype.toString;f=/^Symbol\(.*\)$/;r.exports=function(k){if("symbol" === typeof k)return !0;if("[object Symbol]" !== c.call(k))return !1;try{return "symbol" !== typeof k.valueOf()?!1:f.test(l.call(k));}catch(d){return !1;}};}else r.exports=function(){return !1;};},72145:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,E,G,F,J,M,L,K,P,H,I,N,R,X,ha,ta;Object.defineProperties(b,{__esModule:{value:!0}});b.mBa=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(42866);d=a(12043);g=a(16537);n=a(78764);h=a(73057);m=a(14386);p=a(30923);q=a(27364);a(72072);u=a(36021);t=a(62558);w=a(83386);v=a(83275);y=a(41471);x=a(35556);z=a(33285);A=a(48641);B=a(46059);C=a(7881);D=a(95971);E=a(97810);G=a(64048);F=a(59012);J=a(16567);M=a(42842);L=a(13043);K=a(86315);P=a(10711);H=a(72396);I=a(49550);N=a(58793);R=a(37953);X=a(51157);ha=a(1323);ta=a(16402);r=(function(){function la(xa){this.T=xa;this.Ya=g.Au.CLOSED;this.jv=[];this.$X=[];this.ER=[];this.On=[];this.pQa={};this.v2={};this.Hya=g.qP.default;this.Spb={YC:!1};this.Nsb=new z.Su({qn:this,source:"engine",ro:10,console:xa});}Object.defineProperties(la.prototype,{gw:{get:function(){(0,t.assert)(this.zx);return this.zx;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{state:{get:function(){return this.Ya;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{zYb:{get:function(){return this.ER;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{pH:{get:function(){return this.On.map(function(xa){return xa.da;});},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{BYb:{get:function(){return this.On;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{Jc:{get:function(){this.qI();return this.Ux.Jc;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{kW:{get:function(){this.qI();return this.Ux.kW;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{Ej:{get:function(){this.qI();return this.Ux.Ej;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{I9b:{get:function(){return this.jv.length;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{yK:{get:function(){return this.pQa;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{LUa:{get:function(){return this.Lk;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{aI:{get:function(){return this.v2;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{PTb:{get:function(){return this.sRa || (this.sRa=this.zxb());},enumerable:!1,configurable:!0}});la.prototype.open=function(xa,Ba,La,Za){var ab;ab=this;if(this.Ya === g.Au.OPEN)return !1;this.W=xa;H.Ifa.b3b(xa);this.vq=new C.MQ(new D.r1({li:!0,currentTime:function(){return f.L.Na(d.platform.time.wa());},speed:1}),this.T,"Engine Scheduler");this.RQa=new m.JFa(this.T,xa);this.BA=new u.yNa(this.G7.bind(this),xa);if(xa.XY || d.platform.Uo.zf.xhc)this.Lk=new n.DCa(this.T,function(){return ab.yK;});this.Ux=p.uD.Poa(xa,this.T,Ba);this.Ya=g.Au.OPEN;this.zx=(0,I.qU)(xa);La && this.zx.Xcb(La);Za && this.zx.Mxa(Za);this.j$a=new N.HMa({yj:function(){ab.Ya !== g.Au.CLOSED && ab.BA.yj("playgraphOpportunity");}});this.tRa=new J.wJa(function(){return ab.r6();},function(){return ab.s6().global;},this.T);this.wCb();return !0;};la.prototype.lS=function(xa,Ba,La,Za,ab){var Z,na,Ha;Z=this;void 0 === ab && (ab=!0);this.qI();La=Object.create(La,{oO:{value:this.aI},XY:{value:!!this.Lk}});if(ab){na=this.gw.Iyb(xa,La);if(na)return (na.zgb(Ba),xa=this.Co.bind(this,Za,na),na.C3b(xa),na);}na=new K.ANa(function(Sa){return Z.Co(Za,Ha,Sa);},function(Sa){return Z.qw(Za,Sa);});Ha=(0,X.r4)(this.W,[xa,Ba,La,la.$Ub++,this.Jc,na,function(Sa){return Z.BA.yj(Sa);},ab?this.gw.Hyb.bind(this.gw):function(){},this.r6.bind(this),this.Lk],this.T);Ha.Fe(new y.vOa(Ha));Ha.Fe(new x.POa(Ha.Ad));Ha.m8.Fe(new M.IBa(Ha));Ha.m8.Fe(new P.YHa(Ha));this.AA.EH.forEach(function(Sa){return Ha.Fe(Sa);});this.j$a.lS(Ha);xa=new l.De();xa.on(Ha.events,"requestsPruned",this.m1b.bind(this));xa.on(Ha.events,"weightUpdated",this.jua.bind(this));xa.on(Ha.events,"underflow",this.rh.bind(this,Ha));this.On.push({da:Ha,$k:xa,lX:0});this.jua();return Ha;};la.prototype.rh=function(xa){xa=this.tRa.JIb(xa);(null === xa || void 0 === xa?0:xa.P4) || this.gw.reset();};la.prototype.iz=function(xa){this.j$a.iz(xa);this.On=this.On.filter(function(Ba){return Ba.da === xa?(Ba.$k.clear(),!1):!0;});xa.Oa();this.jua();};la.prototype.$tb=function(xa,Ba){var La;this.qI();La=Ba.Cg;La=void 0 === La?[q.u.$,q.u.X]:La;xa=(0,ha.QK)(this.W,[xa,La,c.__assign({oO:Ba.oO || this.v2 || ({})},Ba)]);this.ER.push(xa);return xa;};la.prototype.Xab=function(xa){this.qI();this.ER=this.ER.filter(function(Ba){return Ba !== xa;});xa.Oa();};la.prototype.Z2b=function(xa,Ba){this.pQa=xa;this.v2=Ba;this.sRa=void 0;};la.prototype.lO=function(xa,Ba){var La,Za;Za=null === (La=(0,k.ec)(this.jv,function(ab){return ab.qF.equals(xa);})) || void 0 === La?void 0:La.la;Za?Za.lO(c.__assign(c.__assign({},Ba),{qW:this.wta.bind(this)})):this.$X.push({jhb:xa,fya:Ba});};la.prototype.Zab=function(xa){this.$X=this.$X.filter(function(Ba){return !Ba.jhb.equals(xa);});};la.prototype.close=function(){this.Ya !== g.Au.CLOSED && (this.C0b(),(0,t.assert)(0 === this.jv.length,"Unexpected viewable lease after Playgraph destruction."),this.B0b(),this.$X=[],delete this.Ux,this.Ya=g.Au.CLOSED,this.vq.Oa());};la.prototype.K3b=function(xa){this.Hya=xa;this.BA.yj("streamingModeChanged");};la.prototype.a3b=function(xa){var Ba,La,Za;this.Spb.YC=xa.YC;if(this.W.xma){Za=!0 === xa.YC;this.W.set?this.W.set((Ba={},Ba.enableCprVideo=Za,Ba)):this.W.enableCprVideo=!0 === xa.YC;try{for(var ab=c.__values(this.On),Z=ab.next();!Z.done;Z=ab.next()){Z.value.da.v3b(Za);}}catch(Ha){var na;na={error:Ha};}finally{try{Z && !Z.done && (La=ab.return) && La.call(ab);}finally{if(na)throw na.error;}}}};la.prototype.wCb=function(){this.AA=new L.Gfa(this.W);this.AA.Fe(new G.cFa(this));this.AA.Fe(new B.BNa(this.Jc,this.BA));this.AA.Fe(new v.$Ea(this.Jc));this.AA.Fe(new A.ox(this.Nsb));this.AA.Fe(new A.ox(this.BA.Wp));this.AA.Fe(new A.ox(this.RQa.Yg));this.AA.Fe(new A.ox(this.tRa.Yg));};la.prototype.wta=function(){};la.prototype.WO=function(xa){return c.__awaiter(this,void 0,void 0,function(){var Ba,La,Za,ab;return c.__generator(this,function(Z){switch(Z.label){case 0:return ((0,t.assert)(xa,"ase.updateViewable(): Viewable config not found."),Ba=(0,k.ec)(this.jv,function(na){return !0 !== na.qF.gr && na.qF.equals(xa);}),(0,t.assert)(Ba,"ase.updateViewable(): Viewable entry not found."),[4,Ba.Kz]);case 1:return (La=Z.Wa(),ab=(Za=La).WO,[4,xa.uq]);case 2:return (ab.apply(Za,[Z.Wa()]),[2]);}});});};la.prototype.Co=function(xa,Ba,La){var Za,ab,Z,na;Za=this;ab=La.J;Z=xa.Xm(ab,La.uX);(0,t.assert)(Z,"ase.requestViewable(): Viewable config not found.");na=(0,k.ec)(this.jv,function(Ha){return !0 !== Ha.qF.gr && Ha.qF.equals(Z);});na || (na={qF:Z,Kz:(function(){return c.__awaiter(Za,void 0,void 0,function(){var Ha,Sa;return c.__generator(this,function(Q){switch(Q.label){case 0:return [4,Z.uq];case 1:return (Ha=Q.Wa(),Sa=this.wv(ab,Z,Ha),na.la=Sa,[2,Sa]);}});});})(),la:void 0,yra:new w.y0(function(Ha){Ha() && Za.nwa(na);},(0,E.Mh)(d.platform,this.T,("").concat(ab)))},this.jv.push(na));xa=new ta.UPa(na,this.T,Ba,La);xa.events.once("error",this.nwa.bind(this,na,!1));return xa;};la.prototype.nwa=function(xa,Ba){var La,Za;void 0 === Ba && (Ba=!0);(0,t.assert)(xa,"expected viewableEntry to exist");La=xa.la;Za=xa.Kz;Ba && (La?La.Oa():Za.then(function(ab){ab.Oa();}));this.jv=this.jv.filter(function(ab){return ab !== xa;});};la.prototype.wv=function(xa,Ba,La){var Za,ab;Za=this;this.qI();ab=La.config;La={Y:La.Y,config:ab,uv:La.uv,Lp:La.Lp,Jc:this.Ux.Jc,Ej:this.Ux.Ej,IGb:{LB:function(){return Za.BA.yj("networkFailureReset");},qf:this.qf.bind(this,xa),zr:this.zr.bind(this,xa)},wX:{ov:this.ov.bind(this),Tr:this.Tr.bind(this)},aI:this.v2};xa=new h.PBa(xa,La);ab.mL && (ab=(0,k.ec)(this.$X,function(Z){return Z.jhb.equals(Ba);})) && (ab=ab.fya,this.Zab(Ba),xa.lO(c.__assign(c.__assign({},ab),{qW:this.wta.bind(this)})));return xa;};la.prototype.qw=function(xa,Ba){return c.__awaiter(this,void 0,void 0,function(){var La,Za,ab,Z,na,Ha,Sa,Q,ra;return c.__generator(this,function(qa){switch(qa.label){case 0:(La=Ba.fh,Za=Ba.J,ab=xa.Xm(Za),(0,t.assert)(ab,"ase.requestAdBreakHydration(): Parent viewable config not found."),Z=(0,k.ec)(this.jv,function(O){return !0 !== O.qF.gr && O.qF.equals(ab);}),(0,t.assert)(Z,("ase.requestAdBreakHydration(): Parent viewable entry not found, ").concat(Za)),na=Z.la,(0,t.assert)(na,("ase.requestAdBreakHydration(): Parent viewable entry has no aseViewable, ").concat(Za)),Ha=na.Y.$b,Sa={Ff:{$b:Ha,zd:Za}},qa.label=1);case 1:return (qa.Vj.push([1,3,,4]),[4,xa.qw(La,Sa)]);case 2:return (Q=qa.Wa(),[2,{L2:Q,jja:na}]);case 3:return (ra=qa.Wa(),[2,Promise.reject(ra)]);case 4:return [2];}});});};la.prototype.G7=function(){var xa,Ba;(0,t.assert)(this.state === g.Au.OPEN);xa=this.s6();Ba=this.$L();return this.RQa.U8a(xa,Ba);};la.prototype.$L=function(){var xa,Ba,La;xa=this;La=null !== (Ba=this.W.$Yb) && void 0 !== Ba?Ba:this.On.every(function(Za){return !Za.da.vr;});Ba=(0,k.flatten)(this.On.map(function(Za){return Za.da.$L().map(function(ab){Za.da.vr || 1 === Za.lX || (ab.Dt=Za.lX);return ab;});}));this.Hya === g.qP.disabled?Ba=[]:this.Hya === g.qP.ySb && (Ba=Ba.filter(function(Za){return xa.W.J6a >= Za.Bk - Za.Sk;}));La || (La=Ba.filter(function(Za){var ab;return 1 === (null !== (ab=Za.Dt) && void 0 !== ab?ab:1);}),La.length && (Ba=La));La=this.jv.reduce(function(Za,ab){return ab.la?c.__spreadArray(c.__spreadArray([],c.__read(Za),!1),c.__read(ab.la.$L()),!1):Za;},[]);return (0,k.flatten)(c.__spreadArray(c.__spreadArray([],c.__read(Ba),!1),c.__read(La),!1));};la.prototype.qI=function(){if(this.Ya === g.Au.CLOSED)throw Error("Engine CLOSED");};la.prototype.C0b=function(){var xa,Za;try{for(var Ba=c.__values(this.On),La=Ba.next();!La.done;La=Ba.next()){Za=La.value;Za.$k.clear();this.iz(Za.da);}}catch(Z){var ab;ab={error:Z};}finally{try{La && !La.done && (xa=Ba.return) && xa.call(Ba);}finally{if(ab)throw ab.error;}}};la.prototype.B0b=function(){var xa;try{for(var Ba=c.__values(this.ER),La=Ba.next();!La.done;La=Ba.next()){this.Xab(La.value);}}catch(ab){var Za;Za={error:ab};}finally{try{La && !La.done && (xa=Ba.return) && xa.call(Ba);}finally{if(Za)throw Za.error;}}};la.prototype.qf=function(xa,Ba,La,Za,ab,Z,na){var Ha;void 0 === na && (na=!1);Ha=!1;this.O1a(xa).forEach(function(Sa){if(!na || (0,q.gn)(Sa.Qd.value))Ha=Sa.qf(Ba,xa,La,Za,ab,Z,na);});return Ha;};la.prototype.zr=function(xa){return this.O1a(xa).some(function(Ba){return Ba.zr();});};la.prototype.O1a=function(xa){return this.On.filter(function(Ba){var La;for(Ba=Ba.da;Ba.Va;){Ba=Ba.Va;}La=Ba.da;return Object.keys(La.O).some(function(Za){return La.O[Za].J === xa;});}).map(function(Ba){return Ba.da;});};la.prototype.s6=function(){var xa;xa=new F.GFa();this.On.forEach(function(Ba){var La,Za;La=Ba.da;Ba=Ba.lX;Za=La.s6();Za.Dt=Ba;xa.add(La.id,Za);});return xa;};la.prototype.r6=function(){return this.PTb;};la.prototype.zxb=function(){var xa,Ba;Ba=(0,R.bVa)(this.W,this.yK);return {total:(xa={},xa[q.u.X]=this.yK.video || Infinity,xa[q.u.$]=this.yK.audio || Infinity,xa[q.u.Ga]=this.yK.text || Infinity,xa.total=this.yK.total || Infinity,xa),yya:Ba};};la.prototype.ov=function(xa){var Ba;this.BA.ov(xa);null === (Ba=this.Lk) || void 0 === Ba?void 0:Ba.ov(xa);};la.prototype.Tr=function(xa){this.BA.Tr(xa);};la.prototype.jua=function(){var xa;xa=this.pH.reduce(function(Ba,La){return Math.max(La.weight,0) + Ba;},0);this.On.forEach(function(Ba){Ba.lX=0 >= Ba.da.weight?0:Ba.da.weight / xa;});};la.prototype.m1b=function(xa){var Ba;Ba=this;this.Lk && xa.requests.forEach(function(La){return Ba.Lk.Tr(La);});};la.$Ub=0;c.__decorate([(0,z.Qb)({methodName:"open"})],la.prototype,"open",null);c.__decorate([(0,z.Qb)({methodName:"addPlaygraph",context:function(xa){var Ba,La;return {playgraphCount:null !== (La=null === (Ba=xa.I8a.On) || void 0 === Ba?void 0:Ba.length) && void 0 !== La?La:0};}})],la.prototype,"lS",null);c.__decorate([(0,z.Qb)({methodName:"removePlaygraph",context:function(xa){return {playgraphCount:xa.I8a.On.length};}})],la.prototype,"iz",null);c.__decorate([(0,z.Qb)({methodName:"close"})],la.prototype,"close",null);c.__decorate([(0,z.Qb)({methodName:"setStreamingMode",up:!0})],la.prototype,"K3b",null);c.__decorate([(0,z.Qb)({methodName:"setConcurrentStreamingDevice",up:!0})],la.prototype,"a3b",null);c.__decorate([(0,z.Qb)({methodName:"notifyAseException",up:!0})],la.prototype,"wta",null);c.__decorate([(0,z.Qb)({methodName:"updateViewable"})],la.prototype,"WO",null);c.__decorate([(0,z.Qb)({methodName:"requestViewable"})],la.prototype,"Co",null);c.__decorate([(0,z.Qb)({methodName:"removeViewable"})],la.prototype,"nwa",null);c.__decorate([(0,z.Qb)({methodName:"createViewable"})],la.prototype,"wv",null);c.__decorate([(0,z.Qb)({methodName:"requestAdBreakHydration"})],la.prototype,"qw",null);c.__decorate([(0,z.Qb)({methodName:"issueRequestOpportunity",gk:!0,return:!0})],la.prototype,"G7",null);c.__decorate([(0,z.Qb)({methodName:"reportStreamingFailure",up:!0})],la.prototype,"qf",null);return la;})();b.mBa=r;},1323:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.QK=void 0;c=a(5163);l=a(26967);f=a(19114);b.QK=function(k,d){var g,n,h;g=[function(m){return new (l.rca.bind.apply(l.rca,c.__spreadArray([void 0],c.__read(m.rYb),!1)))();}];if(k.yT){n=a(96855).dla;g.unshift(function(m,p){return n(m,p);});}if(k.jL){h=a(96855).dla;g.unshift(function(m,p){return h(m,p);});}return f.CP.n7({rYb:d},g);};},51157:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.r4=void 0;c=a(5163);l=a(49730);f=a(45331);k=a(35408);d=a(19114);b.r4=function(g,n,h){var m,p,q,u;m=[function(t){return new (f.sca.bind.apply(f.sca,c.__spreadArray([void 0],c.__read(t.WW),!1)))();}];p=(0,k.bn)({da:n[0]});l.K && h.trace("Creating playgraph",{Uic:p,Bfc:g.yT,Ye:g.jL});if(g.yT){q=a(18679);m.unshift(function(t,w){return q.ZS({},t,w);});}if(g.jL){u=a(78085);m.unshift(function(t,w){return u.ZS({},t,w);});}return d.CP.n7({WW:n,Tia:[]},m);};},82181:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.r1b=b.VL=void 0;c=a(12043);l=a(72145);b.VL=function(){var k;if(!f){k=new c.platform.Console("ASEJS","media|asejs");f=new l.mBa(k);}return f;};b.r1b=function(){f=void 0;};},58793:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.HMa=void 0;r=(function(){function a(c){this.yj=c.yj;this.Iv=this.WOb();}a.prototype.lS=function(c){c.events.on("requestsPruned",this.Iv);};a.prototype.iz=function(c){c.events.removeListener("requestsPruned",this.Iv);};a.prototype.WOb=function(){var c;c=this;return function(){return c.yj();};};return a;})();b.HMa=r;},49550:function(r,b,a){var l,f,k,d;function c(){return l.__awaiter(this,void 0,void 0,function(){var g;return l.__generator(this,function(n){switch(n.label){case 0:return [4,Promise.resolve().then(function(){return l.__importStar(a(82181));})];case 1:return (g=n.Wa().VL,[2,g()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.qU=void 0;l=a(5163);f=a(12043);k=a(30570);b.qU=function(g){var n;n=new f.platform.Console("ASEJS","media|asejs");d || (d=new k.TMa(function(){return c();},g,n));return d;};},37953:function(r,b,a){var l;function c(f,k,d,g){return f && k?Math.min(f - k * d,f - g):(f || Infinity) - g;}Object.defineProperties(b,{__esModule:{value:!0}});b.bVa=void 0;l=a(27364);b.bVa=function(f,k){var d,g,n,h,m,p,q,u;u=c(k.audio,k.Vec,f.fla,null !== (g=f.IWa) && void 0 !== g?g:0);g=c(k.video,k.Akc,f.fla,null !== (n=f.KWa) && void 0 !== n?n:0);n=c(k.text,k.Zjc,f.fla,null !== (h=f.JWa) && void 0 !== h?h:0);return (d={},d[l.u.$]=u,d[l.u.X]=g,d[l.u.Ga]=n,d.total=(k.total || Infinity) - (null !== (m=f.IWa) && void 0 !== m?m:0) - (null !== (p=f.KWa) && void 0 !== p?p:0) - (null !== (q=f.JWa) && void 0 !== q?q:0),d);};},16402:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.UPa=void 0;c=a(5163);l=a(57055);f=a(49730);k=a(60763);r=(function(){function d(g,n,h,m){this.mhb=g;this.console=n;this.lvb=h;this.uX=m;this.events=new l.EventEmitter();this.Hy=g.yra.Ws();}Object.defineProperties(d.prototype,{la:{get:function(){var g;return null === (g=this.mhb) || void 0 === g?void 0:g.la;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Kz:{get:function(){var g;g=this;return (function(){return c.__awaiter(g,void 0,void 0,function(){var n;return c.__generator(this,function(h){switch(h.label){case 0:return (h.Vj.push([0,2,,3]),[4,this.mhb.Kz]);case 1:return [2,h.Wa()];case 2:throw (n=h.Wa(),k.lfa.mQb(n) && this.lvb.qf(n),f.K && this.console.trace("Removing broken viewable entry due to error",this.uX),this.events.emit("error",{error:n}),n);case 3:return [2];}});});})();},enumerable:!1,configurable:!0}});return d;})();b.UPa=r;},18998:function(r,b,a){var l;function c(f,k){var d;void 0 === k && (k=c);d="";f.vL && (d=null === f || void 0 === f?void 0:f.vL.map(k).reduce(function(g,n){return ("").concat(g,",").concat(n);}));return ("").concat(null === f || void 0 === f?void 0:f.name,"::").concat(null === f || void 0 === f?void 0:f.message,"::{").concat(null === f || void 0 === f?void 0:f.stack,"}[").concat(d,"]");}Object.defineProperties(b,{__esModule:{value:!0}});b.jca=void 0;l=a(5163);r=(function(f){function k(d,g){d=f.call(this,k.aJb(d,g)) || this;d.oqb=g;d.name="AggregateError";return d;}l.__extends(k,f);k.aJb=function(d,g){return g.reduce(function(n,h){return ("").concat(n,"\n").concat(h);},d);};k.stringify=function(d){return c(d);};Object.defineProperties(k.prototype,{vL:{get:function(){return this.oqb;},enumerable:!1,configurable:!0}});return k;})(Error);b.jca=r;},40507:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(59782),b);r.__exportStar(a(16785),b);},59782:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16785:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},49030:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},75663:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},85668:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.rm=void 0;r=b.rm || (b.rm={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.yl=2]="STREAMING";},77518:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16537:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Au=b.qP=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.ySb=2]="lowCpuPlaybackStarting";})(b.qP || (b.qP={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.Au || (b.Au={}));},25850:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.mc=void 0;r=a(5163);r.__exportStar(a(16537),b);r.__exportStar(a(75663),b);r.__exportStar(a(85668),b);r.__exportStar(a(77518),b);r.__exportStar(a(10441),b);r.__exportStar(a(40507),b);r.__exportStar(a(16785),b);r.__exportStar(a(65375),b);r.__exportStar(a(49030),b);r.__exportStar(a(92128),b);c=a(13043);Object.defineProperties(b,{mc:{enumerable:!0,get:function(){return c.mc;}}});},10441:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65375:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},353:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.OI=void 0;r=b.OI || (b.OI={});r[r.start=0]="start";r[r.end=1]="end";},64905:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},63755:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},36570:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},55651:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(353),b);r.__exportStar(a(36570),b);r.__exportStar(a(64905),b);r.__exportStar(a(63755),b);},92128:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(55651),b);},22209:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.wq=void 0;c=a(12043);l=a(53265);r=(function(){function f(k){k=("(").concat(k,")");this.T=new c.platform.Console("ASEJS","media|asejs",k);this.Aha=[];}f.prototype.Hv=function(k){var d;if(!this.Aha[k]){d=("[").concat(k,"]");this.Aha[k]=(0,l.Mh)(c.platform,this.T,d);}return this.Aha[k];};return f;})();b.wq=new r(0);},73057:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x;Object.defineProperties(b,{__esModule:{value:!0}});b.PBa=b.Kmb=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(12043);d=a(10996);r=a(57196);g=a(78128);n=a(98705);h=a(9998);m=a(27364);p=a(62558);a(97810);q=a(10391);u=a(73098);t=a(58628);w=a(16824);v=a(45768);y=a(42477);x=(function(){return function(z){this.mediaType=z;this.B5a=void 0;};})();b.Kmb=x;a=(function(z){function A(B,C){var D,E,G,F,J,M,L,K,P,H,I,N,R,X,ha;E=C.Y;G=C.uv;F=C.Lp;J=C.config;M=C.wX;L=C.Jc;K=C.Ej;P=C.IGb;C=C.aI;H=z.call(this) || this;H.J=B;H.$2a=!1;H.A5a=0;H.YJ={};H.Pv=(D={},D[m.u.$]={},D[m.u.X]={},D[m.u.Ga]={},D);H.Aec=[];H.frb=[];H.LJ=[];H.iB=[];H.f2=!1;H.t8a=!1;H.J9b=[new x(m.u.$),new x(m.u.X),new x(m.u.Ga)];H.zWa={f8:"liveEdgeCushion",QG:"maxMediaBufferAllowed",BT:"enableMissingSegmentsDetection",CT:"enableMissingSegmentsReplacement",e8:"liveAccurateFragmentTimestamps",ogc:"enableMissingSegmentsSkip",q8:"maxAttemptsOnFailure"};H.yWa=Object.keys(H.zWa).reduce(function(ta,la){ta[H.zWa[la]]=la;return ta;},{});H.lRa=E;H.console=new k.platform.Console("ASEJS","media|asejs","<" + String(H.J) + ">");H.config=H.Usb(E,J);H.DM=new w.bIa();H.events=new l.EventEmitter();H.sy=new v.uGa(H,H.console,H.config,function(ta){return H.events.emit("logdata",ta);});H.Jc=L;H.wX=M;H.aI=C;H.uv=G;H.Lp=!!F;I=[[],[],[]];N=[{},{},{}];R=[0,0];X=!1;["audio_tracks","video_tracks"].forEach(function(ta,la){H.Y[ta].forEach(function(xa,Ba){if(xa.type !== m.u.$ || !xa.Kt && !1 !== xa.Yf)(Ba=new g.RI({la:H,qo:xa,mediaType:la,Lp:H.Lp,AI:Ba,QE:Ba + (la === m.u.$?H.Y.video_tracks.length:0)},H.config,H.console),la === m.u.X && J.cGb && new q.QBa(J).WZb(Ba.te),la === m.u.X && (ha=u.kA.from({Tt:xa.Dsa,cr:xa.Csa})),I[la].push(Ba),N[la]=c.__assign(c.__assign({},N[la]),Ba.iG()),Ba.maxBitrate > R[Ba.mediaType] && (R[Ba.mediaType]=Ba.maxBitrate),X=X || Ba.Vl);});});H.aa && H.Y.timedtexttracks.forEach(function(ta,la){var xa;if(!ta.Kt && !1 !== ta.Yf){xa=m.u.Ga;ta=new g.RI({la:H,qo:ta,mediaType:xa,Lp:!1,AI:la,QE:la},H.config,H.console);I[xa].push(ta);N[xa]=c.__assign(c.__assign({},N[xa]),ta.iG());}});H.Y.Gm && ((0,p.assert)(ha,"Should have video track if there are adverts"),H.Gm={ie:H.Y.Gm.ie.map(function(ta){var la;la=ha.normalize(ta.Er);la=c.__assign(c.__assign({},ta),{ru:ta.Er,Er:la.G,Wv:la});ta.Ye !== ta.ads && (la.unnormalizedLocationMs=la.ru,la.locationMs=la.Er,la.normalizedLocation=la.Wv);return la;})});H.al=new h.gIa(H.Y,N,L,K,H.config,function(ta){return H.events.emit("logdata",ta);});B=P.LB;D=P.zr;H.CE=P.qf;H.zr=D;H.LB=B;H.Y1=new n.fFa(H.al,H.config,H.pNb.bind(H),H.oNb.bind(H));H.Y1.events.addListener("requestError",function(ta){H.aa && H.config.VRb && 404 === ta.dn && H.DM.Hbb();});H.$Q=I;H.Saa=N;H.JM=R;H.Vl=X;return H;}c.__extends(A,z);Object.defineProperties(A.prototype,{Y:{get:function(){return this.lRa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{aa:{get:function(){var B,C;B=this.Y;C=B.Jh;return "LIVE" === B.ag && !!C;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{WV:{get:function(){var B;return !(null === (B=this.$Q[m.u.X][0]) || void 0 === B || !B.WV);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{P:{get:function(){return this.Y.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Dp:{get:function(){return this.Y.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{duration:{get:function(){return this.Y.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Xl:{get:function(){return this.f2;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Av:{get:function(){(0,p.assert)(this.Y1,"ErrorDirector is not available on old architecture prefetch viewables.");return this.Y1;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{uL:{get:function(){return this.Av.events;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ju:{get:function(){return this.DM.ju;},set:function(B){this.DM.ju=B;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Era:{get:function(){return this.YJ;},enumerable:!1,configurable:!0}});A.prototype.Oa=function(){this.close();this.$e();};A.prototype.close=function(){var B;this.iB=[];null === (B=this.Y1) || void 0 === B?void 0:B.Oa();this.al.Oa();this.f2=!0;};A.prototype.$e=function(){this.sy && this.sy.$e();};A.prototype.WO=function(B){var C,D;C=this;D=B.Y;B=B.uv;(0,p.assert)(B === this.uv,"Updating Viewable clearplay not supported");(0,p.assert)(D.movieId === this.Y.movieId,"Changing Viewable manifest movieId unsupported");["audio_tracks","video_tracks"].forEach(function(E,G){var F,J;F=D[E];J=C.$Q[G];(0,p.assert)(J.every(function(M){var L;L=F[M.AI];return L && L.TO === M.trackId && (L.type === m.u.X || !1 !== L.Yf);}),"Existing tracks must still exist and be hydrated in updated manifest");F.forEach(function(M,L){var K,P;if(M.type !== m.u.$ || !M.Kt && !1 !== M.Yf){K=C.getTrackById(M.TO);if(K){M=M.streams;P=Object.keys(K.iG());(0,p.assert)(M.length === P.length,"Expected updated manifest track to have same number of streams");M.forEach(function(H){H=H.downloadable_id;(0,p.assert)(-1 !== P.indexOf(H),"Changing Viewable track streams unsupported");});}else (K=new g.RI({la:C,qo:M,mediaType:G,Lp:C.Lp,AI:L,QE:L + (G === m.u.$?C.Y.video_tracks.length:0)},C.config,C.console),J.push(K),C.Saa[G]=c.__assign(c.__assign({},C.Saa[G]),K.iG()),K.maxBitrate > C.JM[K.mediaType] && (C.JM[K.mediaType]=K.maxBitrate),(0,p.assert)(C.Vl || !K.Vl,"Can not update clear viewable with drm track."));}});});this.lRa=D;this.al.Q2(this.Y,this.Saa);};A.prototype.qOb=function(B,C){var D,E;D=this;(0,p.assert)(this.Y.Gm,"AseViewable.manifest.adverts should be defined if an adBreak hydration was requested");(0,p.assert)(this.Gm,"AseViewable.adverts should be defined if an adBreak hydration was requested");this.Y.Gm.ie.some(function(G,F){var J,M,L;if(G.fh === C){J=D.Gm.ie[F];M=J.Er;L=J.ru;J=J.Wv;E=c.__assign(c.__assign({},B),{ru:L,Er:M,Wv:J,fh:C});G.Ye !== G.ads && (E.unnormalizedLocationMs=E.ru,E.locationMs=E.Er,E.adBreakToken=E.fh,E.normalizedLocation=E.Wv);D.Gm.ie[F]=E;return !0;}});return E;};A.prototype.lO=function(B){var C,D,E;C=B.Sg;D=B.na;E=B.gma;B=B.qW;C && D?(this.Baa=new d.eOa(C,{na:String(D),gma:!!E,DTb:this.config.M0.mx,Mwb:this.config.M0.lv},B),this.Av.lO(this.Baa)):this.t8a || (B("SideChannel: pbcid/xid is missing."),this.t8a=!0);};A.prototype.Gqa=function(){return void 0 !== this.Dp;};A.prototype.getTracks=function(B){return this.$Q[B];};A.prototype.getTrackById=function(B){var C;this.$Q.some(function(D){return D.some(function(E){if(E.trackId === B)return (C=E,!0);});});C || this.console.warn("getTrackById not found:",B,"length:",this.$Q.length);return C;};A.prototype.Op=function(B,C){return (B=this.iG(B)) && B[C];};A.prototype.iG=function(B){return this.Saa[B];};A.prototype.DQb=function(B){var C,D;if(void 0 === B.o$ || void 0 === B.wva){C=this.al.sC.filter(function(E){return void 0 !== E.streams[B.Pb];})[0];D=C.children.filter(function(E){return E.urls.some(function(G){return G.stream.id === B.Pb;});})[0];B.o$=C.id;B.wva=D.id;}return {ira:B.location === B.o$,EQb:B.Ub === B.wva};};A.prototype.Oxa=function(B,C,D){void 0 !== C && void 0 !== D && (this.hbb(B.mediaType,C),B.Oxa(C,D));};A.prototype.hbb=function(B,C){var D;D=this.config.kta;("location" === D || "video_location" === D && B === m.u.X) && this.Jc.taa(C);};A.prototype.qf=function(B,C,D,E,G,F){(0,p.assert)(this.CE,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.CE(B,C,D,E,G,F);};A.prototype.Cn=function(){var B;B=this;if(this.Xl)return (this.console.error("updateRequestUrls, closed Viewable:",this.J),!1);m.qQ.forEach(function(C){B.E8b(C) && B.u8b(C);});this.o8b();return !0;};A.prototype.ut=function(B,C){var D;D=this.getTracks(m.u.X)[0];(0,p.assert)(D);if(D.rG)return D.ut(B,C);};A.prototype.E8b=function(B){var C;C=this;return this.Xl?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.LJ.reduce(function(D,E){return (0,f.rK)(D,E.Bd.filter(function(G){return G.mediaType === B;}));},[]).map(function(D){return C.al.ugb(C.J,D.te);}).every(function(D){return D;});};A.prototype.o8b=function(){(0,p.assert)(this.sy,"Headers not available on old architecture prefetch viewables.");this.sy.Cn();};A.prototype.u8b=function(B){var C,D,F;D=[];if(this.Xl)this.console.warn("updateStreamUrls ignored, viewable cleaned up");else try{for(var E=c.__values(this.LJ),G=E.next();!G.done;G=E.next()){F=G.value.Cn(B);F.length && D.push.apply(D,F);}}catch(M){var J;J={error:M};}finally{try{G && !G.done && (C=E.return) && C.call(E);}finally{if(J)throw J.error;}}};A.prototype.Usb=function(B,C){var D,G,F;if((B=B.steeringAdditionalInfo) && B.streamingClientConfig && Object.keys(B.streamingClientConfig).length){B=B.streamingClientConfig;this.console.trace("applying manifest based streamingClientConfig" + JSON.stringify(B));for(var E in B){if(this.yWa.hasOwnProperty(E)){G=this.yWa[E];if(C.hasOwnProperty(G)){F=B[E];C.set?0 === C.set((D={},D[G]=F,D)) && this.console.trace("Invalid key" + E):C[G]=F;}}}}return C;};A.prototype.rh=function(){var B;B=this;this.al.rh();this.Av.rh();this.Baa && m.qQ.forEach(function(C){B.Baa.wxa("rebuffer",B.y1a(C).B5a);});};A.prototype.y1a=function(B){return this.J9b[B];};A.prototype.ZF=function(B,C){return this.sy.ZF(B,C);};A.prototype.Gcb=function(B,C,D){this.iB.push({v:C,stream:B,GMb:D});};A.prototype.Nab=function(){this.iB=[];};A.prototype.I0b=function(B){this.iB=this.iB.filter(function(C){return C.stream !== B;});};A.prototype.H0b=function(B){this.iB=this.iB.filter(function(C){return C !== B;});};A.prototype.$L=function(){var B;B=this;return this.zr()?[]:this.iB.map(function(C){return new y.VPa(B,C);});};A.prototype.CI=function(B,C,D){(0,p.assert)(this.sy,"Headers not available on old architecture prefetch viewables.");return this.sy.CI(B,C,D);};A.prototype.$R=function(B,C){(0,p.assert)(this.sy,"Headers not available on old architecture prefetch viewables.");return this.sy.$R(B,C);};A.prototype.rNb=function(B){var C,D;C=B.Pb;D=B.mediaType;this.aa || this.t8b(D,B.stream.Ha);this.Op(D,C).h8b(k.platform.nU()[D],this.Gqa()?this.config.iTb:0);this.events.emit("onHeaderFragments",B);};A.prototype.p0b=function(B){this.LJ.push(B);};A.prototype.U7b=function(B){B=this.LJ.indexOf(B);(0,p.assert)(-1 !== B,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.LJ.splice(B,1);};A.prototype.mua=function(B){var C;null === (C=this.wX) || void 0 === C?void 0:C.ov(B);};A.prototype.mN=function(B){this.Xl?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",B):void 0 !== B.location && this.hbb(B.mediaType,B.location);};A.prototype.nN=function(B){this.Xl?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",B):this.Av.sba(B);};A.prototype.Mr=function(B){var C;null === (C=this.wX) || void 0 === C?void 0:C.Tr(B);this.Xl?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",B):this.zr() || this.Av.sba(B);};A.prototype.DW=function(B,C,D){var E;D && (null === (E=this.wX) || void 0 === E?void 0:E.Tr(B));};A.prototype.cH=function(B){this.Xl?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",B):(this.Av.Ur(B,void 0,B.status,B.rg,B.$i),this.Cn() || this.qf(B.yB || "unknown","NFErr_MC_StreamingFailure",B.rg,B.status,B.$i));};A.prototype.KZb=function(){var B,C;this.mgb(null === (B=this.Y.Jh) || void 0 === B?void 0:B.Xma,null === (C=this.Y.Jh) || void 0 === C?void 0:C.p5,!0);};A.prototype.mgb=function(B,C,D){var E,G,F,J,M;(0,p.assert)(this.Y.Jh,"Missing manifest liveMetadata.");F=this.Y.Jh;J=F.Xma;M=F.p5;F=this.Era;this.YJ={startTime:null !== (E=null !== J && void 0 !== J?J:B) && void 0 !== E?E:F.startTime,endTime:null !== (G=null !== M && void 0 !== M?M:C) && void 0 !== G?G:F.endTime};B=this.YJ.startTime !== F.startTime;C=this.YJ.endTime !== F.endTime;(D || B || C) && this.events.emit("liveEventTimesUpdated",c.__assign({la:this},this.YJ));C && this.LJ.forEach(function(L){L.TN();});};A.prototype.r8b=function(B,C){if(this.Pv[B].rB !== C.rB || this.Pv[B].sB !== C.sB)(this.Pv[B]=C,this.events.emit("liveLoggingInfoUpdated",{la:this,mediaType:B,info:C}));};A.prototype.NRb=function(){(0,p.assert)(this.aa,"liveEventCompleted called on viewable that is not live");return void 0 !== this.YJ.endTime;};A.prototype.ZRb=function(){var B,C;(0,p.assert)(this.aa && this.Y.Jh,"liveMetadata missing from manifest");B=this.getTracks(m.u.X)[0].te[0].Pb;C=this.Y.Jh;B=C.OX[C.V4[B]];return new f.L(Number(B.C$a),B.N);};A.prototype.t8b=function(B,C){this.frb[B]=C.wsa;};A.prototype.pNb=function(B){var C,D,E;if(!this.f2){C=B.lQb;D=B.WWb;E=B.YWb;B=B.ZWb;this.console.warn("Streaming failure, is permanent: " + C + ", last error code: " + D + ", last http code: " + E + ", last native code: " + B);C?(this.console.warn(" > Permanent failure, done"),C=this.qf("Permanent failure","NFErr_MC_StreamingFailure",D,E,B)):(this.console.warn(" > We are buffering, calling it!"),C=this.qf("Temporary failure while buffering","NFErr_MC_StreamingFailure",B,E,B,!0));C || (this.console.warn(" > Resetting failures"),this.Av.O$());}};A.prototype.oNb=function(){(0,p.assert)(this.LB,"Error handling not available on old architecture prefetch viewables.");this.f2 || (this.Cn(),this.LB());};return A=c.__decorate([t.HL],A);})(r.lD);b.PBa=a;},9225:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.tCa=void 0;c=a(5163);r=(function(){function l(f,k,d,g){this.J=f;this.Co=k;this.AW=d;this.iua=g;}Object.defineProperties(l.prototype,{la:{get:function(){var f;return null === (f=this.lZ) || void 0 === f?void 0:f.la;},enumerable:!1,configurable:!0}});l.prototype.Oa=function(){var f;this.la && (this.la.U7b(this.Sa),this.iua(this.la));null === (f=this.lZ) || void 0 === f?void 0:f.Hy.release();this.lZ=void 0;};l.prototype.Db=function(f){return c.__awaiter(this,void 0,void 0,function(){var k,d,g,n,h;return c.__generator(this,function(m){switch(m.label){case 0:return (this.Sa=f,k=this.Co(this.J),d=k.Kz,g=k.la,n=k.Hy,this.lZ={Hy:n,la:g},g?(this.O3a(g,f,!1),[2,g]):[4,d]);case 1:return (h=m.Wa(),this.O3a(h,f,!0),[2,h]);}});});};l.prototype.O3a=function(f,k,d){this.lZ && (this.lZ.la=f,f.p0b(k),this.AW(k,f,d));};return l;})();b.tCa=r;},45768:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.uGa=void 0;c=a(5163);l=a(12043);f=a(22209);k=a(65593);r=a(57196);d=a(62558);g=a(39139);a=(function(n){function h(m,p,q,u){var t;t=n.call(this,m) || this;t.NE=m;t.T=p;t.W=q;t.zta=u;t.cRa=[void 0,void 0];t.gha={sA:[Object.create(null),Object.create(null)]};t.ve=g.vD.instance.ay("headers","" + t.NE.J,!0,!1,{},t.W);t.ve.Db();return t;}c.__extends(h,n);Object.defineProperties(h.prototype,{sA:{get:function(){return this.gha.sA;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{T1:{get:function(){return this.gha.T1;},set:function(m){this.gha.T1=m;},enumerable:!1,configurable:!0}});h.prototype.$e=function(){var m;m=this;this.sA.forEach(function(p,q){for(var u in p){p[u].$e();m.Xla(q,u);}});this.ve && g.vD.instance.N4(this.ve);this.ve=void 0;};h.prototype.ZF=function(m,p){return this.sA[m][p];};h.prototype.CI=function(m,p,q){var u,t,w,v;u=this.W;t=this.ZF(m.mediaType,m.Pb);if(t)return (t.stream.Ha || t.Gaa && this.RVa(t),!1);t=this.Xqb;w=this.Yqb;if(void 0 !== u.Xsa && void 0 !== t && void 0 !== w){v=l.platform.time.wa();if(v - t < u.Xsa || v - w < u.Xsa)return !1;}m=this.D7b(m,{v:p,offset:0},q);this.Yqb=l.platform.time.wa();return m;};h.prototype.D7b=function(m,p,q){var u,t,w,v;t=m.mediaType;f.wq.Hv(t);if(this.ZF(t,m.Pb))m=!1;else {w=p.offset;v=null !== (u=p.xa) && void 0 !== u?u:this.pqb(m);p=c.__assign(c.__assign({},p),{offset:w,xa:v});u=!!p.sT;w=!!p.lW;this.jMb?q=this.jMb(t,!!p.QT,u,w,!1):q || (q=this.ve);(0,d.assert)(q);m.aa && q.track.Feb && (p.offset=0,p.xa=0);m.url && (this.NE.y1a(t).B5a=m.xU(!0));if(!this.Wpb(m,q,p).open())return (this.NE.qf("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);m=!0;}return m;};h.prototype.Cn=function(){var m,p,q;m=this;p=[];q=this.NE.aa;this.sA.forEach(function(u,t){var v;f.wq.Hv(t);for(var w in u){t=u[w];v=t.Uza(q);1 === v?p.push(t):2 === v && m.NE.qf("swapUrl failure");}});return p;};h.prototype.Mr=function(m,p){var q,u;q=m.mediaType;u=f.wq.Hv(q);this.NE.Xl?u.warn("header onrequestcomplete ignored, session shutdown:",m.toString()):(this.zta({type:"logdata",target:"startplay",Ac:{usedNativeDataView:m.c9b}}),m.O9 > m.pua && (this.cRa[q]=m.O9),m.Gaa && this.RVa(m),this.Iqb(m),this.Xqb=l.platform.time.wa());this.PF(m,p);};h.prototype.$R=function(m,p){var q,u,t,w;q=[];u=this.sA[m];for(t in u){w=u[t];w && !w.stream.Ha && w.KN === p && (this.Xla(m,t),q.push({v:w.v,stream:w.stream,offset:w.offset,xa:w.xa,sT:w.sT,QT:w.QT,lW:w.lW,pN:w.pN}),w.$e());}return q;};h.prototype.Ntb=function(m){this.sA[m.mediaType][m.Pb]=m;};h.prototype.Iqb=function(m){var p,q,u,w;p=this.W;q=f.wq.Hv(m.mediaType);u=m.stream.Ha;if(p.Ila){p=u.length;q.trace("fragment count:",p);for(var t=0;t < p;++t){w=u.get(t);q.trace("fragment: " + t + ", startPts: " + w.Ka.G + ", duration: " + w.Md.G + ", offset: " + w.offset);}}this.Apb(m);};h.prototype.Apb=function(m){var p,q;p=m.mediaType;q=m.Pb;f.wq.Hv(p);m.e9a && (m.e9a.forEach(function(u){(u=u.Op(p,q)) && u !== m.stream && !u.Gh && u.Szb(m.stream);}),m.e9a=void 0);this.NE.rNb(m);};h.prototype.Wpb=function(m,p,q){var u,t;u=this;t=f.wq.Hv(m.mediaType);m=new k.ABa(m,this.W,p,q,this,q.v,!1,t);m.addListener("headerRequestCancelled",function(w){u.Hqb(w.request);});this.Ntb(m);return m;};h.prototype.pqb=function(m){var p,q,u,t;p=m.zk;q=m.la;u=q.duration;t=this.W;return m.aa?512:q.Lp?t.YZa?t.YZa:t.W6:t.a9b && p?p.offset + p.size:(m=this.cRa[m.mediaType])?m + 128:t.Qma?2292 + 12 * Math.ceil(u / 2E3):t.W6;};h.prototype.Hqb=function(m){this.Xla(m.mediaType,m.Pb);};h.prototype.Xla=function(m,p){delete this.sA[m][p];};h.prototype.RVa=function(m){this.T1 === m.Pb && (this.T1=void 0);};return h;})(r.lD);b.uGa=a;},16824:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.bIa=void 0;c=a(12043);l=a(49730);r=(function(){function f(){this.console=new c.platform.Console("ASEJS","asejs|serverclock");}Object.defineProperties(f.prototype,{ju:{get:function(){return void 0 === this.TH?(l.K && this.console.warn("serverTimeMs will be based on the device clock and may be inaccurate prior to setting serverTimeDelta from OC clock sync."),c.platform.time.now()):c.platform.time.wa() - this.TH;},set:function(k){this.HG=c.platform.time.wa();this.IG=k;k=this.HG - this.IG;if(void 0 === this.TH || k < this.TH)this.TH=k;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{oL:{get:function(){var k;k=c.platform.time.wa();return void 0 === this.TH?{WVa:k}:{WVa:k,ju:k - this.TH,HG:this.HG,IG:this.IG};},enumerable:!1,configurable:!0}});f.prototype.Hbb=function(){void 0 !== this.HG && void 0 !== this.IG && (this.TH=this.HG - this.IG);};return f;})();b.bIa=r;},42663:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.MKa=void 0;c=a(12043);l=a(50954);r=(function(){function f(k,d){this.J=k;this.C9b=d;this.uv=!0;this.$2a=this.Vl=this.Lp=!1;this.P=("").concat(l.Dq);this.aa=this.WV=!1;this.console=new c.platform.Console("ASEJS","media|asejs","PaddingViewable");}Object.defineProperties(f.prototype,{ju:{get:function(){this.console.warn("Uexpected access of serverTimeMs on PaddingViewable. serverTimeMs is not server synced on PaddingViewable and will be based on the device clock.");return c.platform.time.now();},enumerable:!1,configurable:!0}});f.prototype.getTrackById=function(){};f.prototype.rh=function(){};f.prototype.Nab=function(){};f.prototype.qf=function(){return !0;};return f;})();b.MKa=r;},42477:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.VPa=void 0;r=(function(){function a(c,l){var f;this.la=c;this.jYa=l;f=l.stream;l=l.GMb;l=l();this.identifier=("").concat(f.J,"-").concat(f.mediaType,"-").concat(f.bitrate);this.mediaType=f.mediaType;this.pf=l.pf;this.Qd=l.Qd;this.zo=l.zo;this.Bk=l.Bk;this.Sk=l.Sk;this.uH=0;this.tH=Infinity;this.qq=this.cz=1;this.BL=0;this.groupId=("").concat(c.J);this.yr=!0;this.mi=this.hn=!1;}a.prototype.E7=function(){return {result:!0};};a.prototype.AG=function(){var c,l;c=this.jYa;l=c.stream;if(l.CI(c.v))return (this.la.I0b(l),{Ih:!0,reason:"success"});this.la.H0b(this.jYa);return {Ih:!1,reason:"viewableTryIssueHeaderRequest"};};a.prototype.toJSON=function(){return {mediaType:this.mediaType,Dt:this.Dt,pf:this.pf,Qd:this.Qd,zo:this.zo,Bk:this.Bk,Sk:this.Sk,BL:this.BL,uH:this.uH,cz:this.cz,tH:this.tH,qq:this.qq,qt:this.qt,AO:this.AO,groupId:this.groupId,yr:this.yr,hn:this.hn,mi:this.mi,identifier:this.identifier};};return a;})();b.VPa=r;},10996:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.eOa=void 0;r=a(12043);c=a(97810);l=r.platform.Uo;new r.platform.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function f(k,d,g){this.qW=g;this.etb=new c.qga(k);this.na=d.na;this.Ipb=1E3 * d.DTb / d.Mwb;this.EEb=d.gma;this.RTa=!1;}f.prototype.kt=function(k){var d,g,n;d={s_xid:this.na,dl:this.EEb?1:0};k.VA && (d.bs=(0,c.IK)(Math.floor(k.VA / this.Ipb) + 1,1,5));k.i9 && (d.limit_rate=k.i9);k.AUa && (d.bb_reason=k.AUa);k.kfb && (d.tm=k.kfb);if(k.s9a){g=k.s9a;n=g.cq;"HYBRID" === n?(d.hybrid=g.eM.oOb,d.cspr=g.eM.sn,d.cu=g.eM.jka,d.cldl=g.eM.ywa,d.h_ms=g.eM.ETb):"CCSP" === n && ((n=g.B7()) || !n && this.RTa) && (d.cpr_ss=g.wz,d.cpr_ca=g.Wx,d.cpr_rec=g.gz,this.RTa=n);}k.Gja && (d.br="" + k.Gja.start + "+" + k.Gja.size);return this.Hrb(d);};f.prototype.wxa=function(k,d){var g,n;try{g=new l(void 0,"notification");n=this.kt({AUa:k});d && n && g.open(d,void 0,2,void 0,void 0,void 0,n);}catch(h){this.qW("SideChannel: Error when sending sendBlackBoxNotification. Error: " + h);}};f.prototype.Hrb=function(k){var d;try{d=this.Csb(k);return this.etb.encrypt(d);}catch(g){this.qW("SideChannel: Error when obfuscating msg. Error: " + g);}};f.prototype.Csb=function(k){return Object.keys(k).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(k[d]));}).join("&");};return f;})();b.eOa=a;},3863:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.ILa=void 0;r=a(5163);c=a(42866);l=a(12043);f=r.__importDefault(a(89956));k=f.default.vm;d=f.default.Es;g=a(27364);n=a(97810);h=r.__importDefault(a(76733));a=(function(){function m(p,q,u,t,w){this.Vt=p;this.zv=q;this.W=u;this.T=t;this.ue=w;}m.prototype.tVb=function(p){var q;q=p.v;p={type:"updateStreamingPts",mediaType:p.mediaType,position:{I:q.id,offset:c.L.Na(this.Vt.Ska).qa(q.se)},completePlayerStreamingTimestamp:c.L.Na(this.Vt.YS),trackIndex:p.stream.track.QE};(0,n.Wq)(this.zv,p.type,p);};m.prototype.vVb=function(p,q,u){var t,w,v;w=this.ue;v=this.Vt.Io.Yi(w);v.WH(p);w === g.u.X && this.W.caa && (void 0 === v.ura?v.Zcb(l.platform.time.wa()):l.platform.time.wa() - v.ura > this.W.caa && (p.bitrate !== v.y5a && (l.platform.storage.set("vb",p.bitrate),v.G3b(p.bitrate)),v.Zcb(l.platform.time.wa())));v.V7 && v.V7 === p || (this.Vt.Io.jeb(q,v.V7,p),v.u3b(p),q=0,p.jb && p.jb.confidence && p.jb.gb && (q=p.jb.gb.Ca),u={I:this.Vt.Sa.v.id,offset:c.L.Na(u).qa(this.Vt.Sa.v.se)},p={type:"streamSelected",nativetime:l.platform.time.wa(),mediaType:w,streamId:p.id,trackIndex:p.track.QE,streamIndex:p.xw,bandwidth:q,longtermBw:q,rebuffer:0,position:u,stream:p,manifest:null === (t=p.la) || void 0 === t?void 0:t.Y},(0,n.Wq)(this.zv,p.type,p));};m.prototype.qVb=function(p,q,u){var t,w,v,y;t=q.la;w=t.al;v=this.Vt.Io.Yi(q.mediaType);y=t.DQb(q);t=y.ira;y=y.EQb;u && q.Ub && !v.tV?(y=d.Qu,q.Fo=d.name[y],this.w8a(p,q.Ub,q.Fo,q.location,q.bitrate),v.tV=q.Ub):!u && q.Ub && q.Ub !== v.tV && (y=y?void 0 === v.tV?d.Qu:w.RH === d.Sea?d.Job:d.Aca:d.Iob,q.Fo=d.name[y],this.w8a(p,q.Ub,q.Fo,q.location,q.bitrate),v.tV=q.Ub);v.yM || (y={type:"logdata",target:"startplay",fields:{}},this.ue === k.$?y.fields.alocid=q.location:this.ue === k.X && (y.fields.locid=q.location),(0,n.Wq)(this.zv,y.type,y));u && q.location && !v.yM?(y=d.Qu,q.Fo=d.name[y],this.v8a(p,q.location,q.Mra,q.Ub,q.VX,q.Fo,q.iw),v.yM=q.location):!u && q.location && q.location !== v.yM && (y=t?void 0 === v.yM?d.Qu:w.RH === d.Sea?d.gmb:d.Aca:d.fmb,q.Fo=d.name[y],this.v8a(p,q.location,q.Mra,q.Ub,q.VX,q.Fo,q.iw),q.iw=void 0,v.yM=q.location);this.W.wH || (q.r5a=q.location,q.x5a=q.Ub);};m.prototype.Cta=function(p){p={type:"requestsPruned",requests:p};(0,n.Wq)(this.zv,p.type,p);};m.prototype.w8a=function(p,q,u,t,w){var v,y;if(this.ue === k.Ga)this.T.warn("notifyServerSwitch ignored for MediaType.TEXT");else {y=(v={},v[g.u.$]="audio",v[g.u.X]="video",v[g.u.Ga]="subtitle",v)[this.ue];v=h.default.instance().get();p={type:"serverSwitch",segmentId:p,mediatype:y,server:q,reason:u,location:t,bitrate:w,confidence:v.confidence};v.confidence && (p.throughput=v.gb.Ca);this.Vt.Io.Yi(this.ue).tV && (p.oldserver=q);(0,n.Wq)(this.zv,p.type,p);}};m.prototype.v8a=function(p,q,u,t,w,v,y){var x,z;if(this.ue === k.Ga)this.T.warn("notifyServerSwitch ignored for MediaType.TEXT");else {z=(x={},x[g.u.$]="audio",x[g.u.X]="video",x[g.u.Ga]="subtitle",x)[this.ue];p={type:"locationSelected",segmentId:p,mediatype:z,location:q,locationlv:u,serverid:t,servername:w,selreason:v,seldetail:y};(0,n.Wq)(this.zv,"locationSelected",p);}};m.prototype.Arb=function(p,q){p={type:"lastSegmentPts",segmentId:p.id,pts:Math.floor(q)};(0,n.Wq)(this.zv,p.type,p);};m.prototype.BIb=function(p){(0,n.Wq)(this.zv,"transportReport",p);};m.prototype.AIb=function(p){(0,n.Wq)(this.zv,"mediaRequestComplete",p);};return m;})();b.ILa=a;},99739:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x;Object.defineProperties(b,{__esModule:{value:!0}});b.GLa=void 0;c=a(5163);l=a(12043);f=a(57055);k=a(42866);d=a(3863);g=a(57196);n=a(88577);h=a(27364);m=a(27364);p=a(88181);q=a(39266);u=a(97810);t=a(62558);r=a(551);w=a(55011);v=a(39656);y=a(39139);x=a(58628);a=(function(z){function A(B,C,D,E,G,F,J,M,L,K,P){var H;H=z.call(this,B) || this;H.W=C;H.Gs=G;H.Pq=F;H.Rqb=J;H.dv=L;H.Lk=P;H.events=new f.EventEmitter();H.connected=!1;H.Gpa=!1;H.Js=!1;H.Jha=!1;H.GL=new n.bKa(H.mediaType,C,D,H);B="[" + H.mediaType + "]";H.T=(0,u.Mh)(l.platform,D,B);H.qA=H.T.error.bind(H.T);H.Sn=H.T.warn.bind(H.T);H.Dx=H.T.trace.bind(H.T);H.B2=J.G;H.ata=new Set();H.xla=0;H.hp=new d.ILa(H,E,H.W,H.T,H.mediaType);H.Oq=new p.xNa(H,C,H.T,H.hp,H.Gs,H.mediaType,H.dv,function(){return H.vn;});C.Ak && (H.Ak=new q.rOa(C.Ak,H.T));M && (H.Kj=K || (0,v.ay)(H.mediaType,H.track.la,H.W,H.T,H.track.aa,H.hp.BIb.bind(H.hp),H.hp.AIb.bind(H.hp),function(){}),H.Kj.on("created",function(){return H.events.emit("requestQueueCreated");}));return H;}c.__extends(A,z);Object.defineProperties(A.prototype,{mediaType:{get:function(){return this.Pq.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{track:{get:function(){return this.Pq;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Sa:{get:function(){return this.Gs;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{I:{get:function(){return this.Gs.v.id;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Le:{get:function(){return this.Oq;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{te:{get:function(){return this.Pq.te;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{d4:{get:function(){return this.Oq.d4;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{M$:{get:function(){return this.Oq.M$;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Tj:{get:function(){return this.B2;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Laa:{get:function(){return this.Cb || this.zy;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Rk:{get:function(){return this.Le.Rk || this.Laa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{YS:{get:function(){return this.Le.YS;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Ska:{get:function(){return this.Le.Ska;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{bRb:{get:function(){var B;B=this.Le.n5a;return null === B || void 0 === B?void 0:B.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{mi:{get:function(){return !!this.jf && (this.Vv > this.jf.index || this.B2 >= this.jf.Ua.G);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{zub:{get:function(){return this.mi && 0 === this.Le.gD;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ai:{get:function(){return this.mi && 0 === this.Oq.KXb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Hua:{get:function(){var B;if(this.Jha)return !0;if(!this.ai)return !1;B=this.sU();return this.Jha || (this.Jha=void 0 === B || B.Hua);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Jub:{get:function(){return !!this.Le.n5a;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{OA:{get:function(){return this.Le.OA;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{gs:{get:function(){return this.Hb?k.L.max(this.Hb.qa(this.ZC),k.L.Ia):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{AL:{get:function(){return this.Sa.AL;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{P5a:{get:function(){return this.arb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{hm:{get:function(){return this.Io.Yi(this.mediaType);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{TCb:{get:function(){return this.Le.Ha.Md;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{mk:{get:function(){return this.hm.mk;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{N:{get:function(){var B,C;return null !== (C=null === (B=this.af) || void 0 === B?void 0:B.N) && void 0 !== C?C:1;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{sb:{get:function(){var B;return null === (B=this.af) || void 0 === B?void 0:B.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{yb:{get:function(){var B;return null === (B=this.jf) || void 0 === B?void 0:B.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{vn:{get:function(){return this.Sa.xd.dd(this.N).ja;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Ipa:{get:function(){return this.Le.Ipa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ww:{get:function(){return this.Le.ww;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{uya:{get:function(){return this.Le.uya;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{zy:{get:function(){return this.Rqb.add(this.Sa.xd);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Io:{get:function(){return this.Sa.BU(this.mediaType);},enumerable:!1,configurable:!0}});A.prototype.aS=function(){var B;B=this;this.Oq.aS(function(C){var D,E;E=C[0];C=null === (D=E.Ka) || void 0 === D?void 0:D.G;D=E.index;D < B.Vv && B.VH(C,D);});};A.prototype.reset=function(){this.Le.reset();this.af && this.VH(this.af.Ka.G,this.af.index);this.Kj && this.Sa.la.$R(this.mediaType,this.Kj);};A.prototype.Hf=function(B){var C;this.Js=!0;this.Oq.Hf(B);null === (C=this.Io) || void 0 === C?void 0:C.Yi(this.mediaType).Oa();this.Kj && (this.Sa.la.$R(this.mediaType,this.Kj),y.vD.instance.N4(this.Kj),this.Kj.removeAllListeners(),this.Kj=void 0);};A.prototype.toJSON=function(){return {started:this.ww,startOfSequence:this.uya,segmentId:this.I,requestedBufferLevel:this.M$,viewableId:this.Gs.la.J,hasFragments:this.Ipa};};A.prototype.Cn=function(B){return this.Le.Cn(B);};A.prototype.VH=function(B,C){this.B2=B;this.Vv=C;};A.prototype.GB=function(){return this.Le.GB();};A.prototype.sU=function(){return this.Sa.I1a(this.mediaType);};A.prototype.MK=function(B){return (B=this.Le.VHb(B.G))?B.complete:!1;};Object.defineProperties(A.prototype,{pf:{get:function(){return this.Gs.pf;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ZC:{get:function(){var B,C;return this.Le.ZC || (null === (C=null === (B=this.af) || void 0 === B?void 0:B.Ka) || void 0 === C?void 0:C.add(this.Sa.xd)) || this.zy;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{meb:{get:function(){return k.L.Na(this.B2);},enumerable:!1,configurable:!0}});A.prototype.Lfb=function(B,C,D){var E;(0,t.assert)(this.Kj);(0,t.assert)(!this.Js,"pipeline.tryIssueRequest on disabled pipeline");(0,t.assert)(!this.hn(),"pipeline.tryIssueRequest on done pipeline");(0,t.assert)(!this.mi);if(!B.Gh)return (B=B.CI(this.Sa.v,this.Kj))?{Ih:B,reason:"success"}:{Ih:B,reason:"pipelineTryIssueHeaderRequest"};if(B.aa)((0,t.assert)(this.track.aa,"Unexpected live stream."),B=this.G7b(B,this.Kj,D));else {E=B.IKb();(0,t.assert)(E,("initialHeaderReceived and headerFragments mismatch - initialHeaderReceived:").concat(B.Gh,", headerFragments:").concat(E));B=this.H7b(B,E,this.Kj,C,D);}this.oyb();return B;};A.prototype.ZU=function(B,C){B && (this.af=B);C && (this.jf=C);(0,t.assert)(this.af);(0,t.assert)(this.jf);(0,t.assert)(void 0 === this.Vv);this.VH(this.af.Ka.G,this.af.index);};A.prototype.truncate=function(B){var C;C=this;(0,t.assert)(this.af,"expected first fragment to exist on updateStreaming");this.jf=B;this.mi && (B=c.__read(this.Oq.itb(B),2),this.VH(B[0],B[1]),this.mi && (this.Le.Acb(),this.Le.wVa(),Promise.resolve(function(){C.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:C.mediaType});})));};A.prototype.yr=function(){return this.hn()?!1:this.hf()?!0:this.track.jW;};A.prototype.hf=function(){return void 0 !== this.af && void 0 !== this.jf;};A.prototype.hn=function(){return this.Js || this.zub;};A.prototype.Uqa=function(){var B,C,D;D=this.W.un;if(null === (B=this.Kj) || void 0 === B?0:B.track)D=null === (C=this.Kj) || void 0 === C?void 0:C.track.un;return D;};Object.defineProperties(A.prototype,{pva:{get:function(){var B;B=!0;this.W.Ewa && (B=this.connected);this.W.Dwa && (B=B && this.Gpa);return B;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{j9a:{get:function(){return void 0 !== this.Ak;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{K9:{get:function(){var B;return (null === (B=this.Ak) || void 0 === B?0:B.iF())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});A.prototype.Mr=function(B,C){this.hp.tVb(B);"oncomplete" === this.W.H3a && (this.Gpa=!0);this.xla=0;this.PF(B,C);};A.prototype.mN=function(B){var C,D;B.Ke || this.hp.vVb(B.stream,null === (C=B.Cb) || void 0 === C?void 0:C.G,null === (D=B.Ka) || void 0 === D?void 0:D.G);this.hp.qVb(this.I,B.stream,B.Ke);this.N5(B);};A.prototype.cH=function(B){var C,D,E;if(this.dQb(B)){this.Sa.la.DM.Hbb();D=B.stream;E=this.te.indexOf(D);D=D.Tl().Dla - this.W.KRb;410 !== B.status && (null === (C=B.Ua) || void 0 === C?void 0:C.G) > D?(this.Sn("onrequesterror: 4xx error for live request, retrying the same url",B.toString()),this.ngb(B,!1)):0 < E?(this.Sn("onrequesterror: switching stream for 410 or 4xx after retries",B.toString()),this.ngb(B,!0)):this.W.BT?(this.Sn("onrequesterror: declaring missing segment after having ","retried the current stream and all lower streams"),this.Ttb(B)):this.M5(B);}else this.M5(B);};A.prototype.lN=function(B){this.connected=!0;"onfirstbyte" === this.W.H3a && (this.Gpa=!0);this.UT(B);};A.prototype.X0a=function(B){var C,D;C=this.Le.Ha;if(0 === C.length)return {Ha:[],P9:0,Nr:0,RN:0};D=C.MT(B.G);0 > D && (D=void 0 === C.Cb || B.G <= C.Cb.G?0:C.length);return {Ha:C.B2b(D),P9:Math.max(0,C.qWa - D),Nr:C.Nr,RN:C.RN};};A.prototype.DB=function(){return this.track.DB();};A.prototype.ngb=function(B,C){var D,E;D=this;if(C){if(this.W.Hra)if((C=this.te.indexOf(B.stream),-1 === C))this.qA("reissueLiveRequest: stream not found in stream list, falling back to first stream");else if((C=this.te[0 < C?Math.max(C - 1,0):Math.min(1,this.te.length - 1)],B.gyb(C),!C.Gh)){E=this.Rk.G;this.Sa.la.Gcb(C,this.Sa.v,function(){return {pf:D.pf,Qd:h.Sc.yl,zo:E,Bk:E,Sk:D.dv.sa.currentTime.G};});}}else this.Cn(!C);};A.prototype.Ttb=function(B){this.ata.add(B);this.xla+=1;this.arb=this.ata.size;this.Le.f1b(B);this.events.emit("liveMissingSegment",{type:"liveMissingSegment",I:B.index,mediaType:this.mediaType});this.W.CT && this.Vv === B.index && this.VH(B.Ua.G,this.Vv + 1);};A.prototype.xLb=function(){var B,C;(0,t.assert)(this.track.aa,"Unexpected live stream.");B=Array.from(this.ata).reduce(function(D,E){return void 0 !== E.Kh && (void 0 === (null === D || void 0 === D?void 0:D.Kh) || D.Kh < E.Kh)?E:D;},void 0);if(B && void 0 !== B.Kh){C=B.Kh + 1;return B.stream.Tl().fU(C).Ka;}};A.prototype.H7b=function(B,C,D,E,G){var F,J,M,L,K,P,H,I,N,R;H=this.Gs;I=H.la;N=this.mediaType;R=this.Vv;if(R >= C.length)return (this.Sn("makeRequest nextFragmentIndex:",R,"past fragments length:",C.length),{Ih:!1,reason:"insufficientFragments"});if(!this.af || !this.jf)return (this.Sn("makeRequest delayed, first or last fragment not set","first:",!!this.af,"last:",!!this.jf),{Ih:!1,reason:"noFirstOrLastFragment"});C=N === m.u.$ && !!this.W.mz && (null === (F=this.Sa.v.v) || void 0 === F?void 0:F.st) && this.af.Md.G < this.W.mz && void 0 !== this.af.Ja;F=N === m.u.$ && !!this.W.mz && (null === (J=this.Sa.v.v) || void 0 === J?void 0:J.fo) && this.jf.Md.G < this.W.mz && void 0 !== this.jf.Ja;J=this.GL.W0a(B,R,C,F);if(N === m.u.$ && this.W.mz){if(null === (M=this.Sa.v.v) || void 0 === M?0:M.st)J.Ev?J.Lcb():J.index === this.af.index + 1 && this.af.Md.G < this.W.mz && void 0 !== this.af.Ja && J.Lcb(this.af.Ja.end - this.af.Ja.start);if(null === (L=this.Sa.v.v) || void 0 === L?0:L.fo)J.Xk?J.Mcb():J.index === this.jf.index - 1 && this.jf.Md.G < this.W.mz && void 0 !== this.jf.Ja && J.Mcb(this.jf.Ja.end - this.jf.Ja.start);}if(this.Lk && !this.Lk.zVa(this.mediaType,J.xa))return {Ih:!1,reason:this.mediaType === m.u.X?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};this.rra=J.region;J.Wr=G;null === (K=this.Ak) || void 0 === K?void 0:K.POb(J,B);J.Xk && N === m.u.X && this.hp.Arb(H.v,J.Hb.G);this.W.SG && (J.SG=this.W.SG);J.location=B.location;J.Rc=B.Ub;J.Bjc=B.Fo;(G=H.la.Baa) && "OPEN_CONNECT_APPLIANCE" === B.Xr && (M=this.W.WFb && this.mediaType === m.u.X && this.W.un,J.GH=this.W.f5 || N === m.u.$ && this.W.c5 || N === m.u.X && this.W.d5?E:void 0,J.YH=G.kt({VA:H.io(this.mediaType),i9:this.W.QFb?this.W.i9:void 0,kfb:String(l.platform.time.wa()),s9a:E,Gja:M?{start:J.offset,size:J.xa}:void 0}));l.platform.time.wa();D=this.Le.lXa(J,D,B);if(!D.open()){this.Sn("MediaRequest.open error: " + D.rg + " native: " + D.$i);if(D.aborted)return {Ih:!1,reason:"requestAborted"};this.Sn("makeRequest caught:",D.rg);I.qf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Ih:!1,reason:"openAseMediaRequest"};}null === (P=this.Ak) || void 0 === P?void 0:P.sGb(D,J,B);this.VH(D.Ua.G,J.mW);return {Ih:!0,reason:"success"};};A.prototype.G7b=function(B,C,D){var E,G,F,J,M,L,K,P,H;F=this.Gs;J=F.la;M=this.Vv;L=B.Tl();K=L.fU(M);P=K.Ka;K=K.Ua;if(K.G > L.Dla)return {Ih:!1,reason:"exceedsLiveEdge"};if(this.Lk && !this.Lk.zVa(this.mediaType,0))return {Ih:!1,reason:this.mediaType === m.u.X?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};if((L=M === (null === (E=this.jf) || void 0 === E?void 0:E.index)) && this.mediaType === m.u.$ && (E=this.Sa.Ie(m.u.X)) && E.jf)H=E.jf.Ua.G;E=M === (null === (G=this.af) || void 0 === G?void 0:G.index);G=this.mediaType === m.u.Ga?0:this.mediaType === m.u.$ && E?0:void 0;D={Kh:M,index:M,sb:P.ja,yb:K.ja,N:B.N,offset:0,xa:0,Wr:D,Ev:E,Xk:L,nz:{ce:F.v.F0a(),uM:F.v.zY},yw:H,responseType:G};B=this.Le.lXa(D,C,B);if(!B.open()){this.Sn("MediaRequest.open error: " + B.rg + " native: " + B.$i);if(B.aborted)return {Ih:!1,reason:"requestAborted"};this.Sn("makeRequest caught:",B.rg);J.qf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Ih:!1,reason:"openAseMediaRequest"};}this.VH(K.G,this.Vv + 1);return {Ih:!0,reason:"success"};};A.prototype.dQb=function(B){return B.stream.aa && !B.Ke && void 0 !== B.Kh && 400 <= B.status && 499 >= B.status;};A.prototype.oyb=function(){this.mi && (this.Le.Acb(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));};return A=c.__decorate([x.HL],A);})(g.lD);b.GLa=a;(0,w.Ek)(r.Lw,a);},57903:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.EBa=void 0;c=a(5163);r=a(57055);l=a(42866);f=a(42866);k=a(12043);d=a(49730);g=a(62663);n=a(31549);h=a(55759);m=a(91829);p=a(1918);q=a(77029);u=a(62558);t=a(37096);w=a(97810);a=(function(v){function y(){var x;x=null !== v && v.apply(this,arguments) || this;x.$Ra=0;x.Rha=0;x.N1=0;x.Gga=0;return x;}c.__extends(y,v);y.prototype.Awa=function(x){var z,A,B,C;v.prototype.Awa.call(this,x);this.$Ra++;this.Rha++;this.uSa=k.platform.time.wa();this.SJ || (this.SJ={Jzb:null === (z=x.Ua) || void 0 === z?void 0:z.G,j4:null === (A=x.Ka) || void 0 === A?void 0:A.G,index:x.index},this.Z1 || (this.Z1=this.SJ));z=this.j2;A=!1;z && 100 > Math.abs(z.Hb.G - (null === (B=x.Cb) || void 0 === B?NaN:B.G)) && (this.N1+=x.Hb.G - z.Hb.G,this.Gga++,A=!0);A || (this.N1=null === (C=x.Md) || void 0 === C?void 0:C.G,this.Gga=1);this.j2=x;};y.prototype.stop=function(){v.prototype.stop.call(this);this.Rha=0;this.SJ=void 0;};y.prototype.f1a=function(){var x,z,A,B,C;z=this.Ss;A=z.v4;if(A){C=A.Ie(this.ue);C && C.Le && (B=C.Le.V1a());return {RM:B,currentBranch:{sId:A.v && A.v.id,cancelled:A.Rd},currentReceivedCount:z && z.RCb,totalReceivedCount:this.$Ra,currentState:z && z.EXa || "Uninitialized",lastRequestPushed:this.j2 && ({contentEndPts:null === (x=this.j2.Ua) || void 0 === x?void 0:x.G,fragmentIndex:this.j2.index}),tslp:this.uSa && k.platform.time.wa() - this.uSa,cpts:this.N1,crq:this.Gga,rslp:this.Rha,firstRequestSSPushed:this.SJ && ({contentStartPts:this.SJ.j4,fragmentIndex:this.SJ.index}),firstRequestPushed:this.Z1 && ({contentStartPts:this.Z1.j4,fragmentIndex:this.Z1.index})};}};return y;})((function(v){function y(x,z,A,B,C,D,E,G,F,J,M){var L;L=v.call(this) || this;L.fg=x;L.ue=z;L.W=B;L.T=C;L.Z=D;L.$ua=E;L.Ad=G;L.rl=F;L.wA=new f.Cq(!1);L.tA=new f.Cq(l.L.Na(-Infinity));L.T=(0,w.Mh)(k.platform,L.T,("AsePlayerBuffer [").concat(z,"]:"));L.Ss=new g.sCa(L.T,A,z);L.resume();D && E && G && (M?(L.DC=M,M.qv(D,G,L.fg)):L.aXa(),x=new m.nFa(null === D || void 0 === D?void 0:D.Ad,l.L.Na(L.W.T8),C),L.Ss.R2(x),L.W.ITa && (D=new p.KKa(null === D || void 0 === D?void 0:D.Ad,L.W.ITa,l.L.Na(L.W.Uub),C),L.Ss.R2(D)),J && (L.hSa=new q.SNa(J,L.mediaType,C),L.Ss.R2(L.hSa)),d.K && L.W.KFb && (C=new t.$Ha(C),L.Ss.R2(C)));L.fg.on("requestAppended",function(K){L.wA.set(!0);K.request.Hb && L.tA.set(K.request.Hb);L.emit("requestAppended");});return L;}c.__extends(y,v);Object.defineProperties(y.prototype,{Kr:{get:function(){return this.wA;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{R7:{get:function(){return this.tA;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{CPb:{get:function(){return this.Ss.li;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ZH:{get:function(){return this.fg.endOfStream;},enumerable:!1,configurable:!0}});y.prototype.aXa=function(){(0,u.assert)(this.Z && this.$ua && this.Ad,"Player should be defined");this.DC && this.DC.hua();this.DC=new h.$Ma(this.ue,this.T,this.Z,this.fg,this.Z.events,this.$ua,this.Ad,this.rl);};Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.ue;},enumerable:!1,configurable:!0}});y.prototype.f1a=function(){};y.prototype.resume=function(){d.K && this.T.trace("resume");this.Qdb();};Object.defineProperties(y.prototype,{Cvb:{get:function(){return this.JJ;},enumerable:!1,configurable:!0}});y.prototype.aY=function(){this.fg.n9(!0);};y.prototype.reset=function(x,z){var A,B,C;void 0 === x && (x=!1);d.K && this.T.trace("AsePlayerBuffer.reset mediaTypes:",z);this.stop();this.fg.reset(x);this.wA.set(!1);this.tA.set(l.L.Na(-Infinity));x || (this.JJ=void 0,null === (A=this.DC) || void 0 === A?void 0:A.reset(),x=null === (B=this.Z) || void 0 === B?void 0:B.Cg,null === (C=this.hSa) || void 0 === C?void 0:C.rWb(x,z || x));};y.prototype.rf=function(x){void 0 === x && (x=!1);d.K && this.T.trace("restart");this.reset(x);this.Qdb(!0);};y.prototype.stop=function(){d.K && this.T.trace("stop");this.Ss.$db();};y.prototype.close=function(){var x;d.K && this.T.trace("close");null === (x=this.DC) || void 0 === x?void 0:x.close();};y.prototype.Oa=function(){this.stop();this.close();};y.prototype.vW=function(){this.W.Ina && this.fg.qIb();this.fg.Z4();};y.prototype.UC=function(x){this.fg.UC(x);};y.prototype.gIb=function(x){this.fg.lVb(x);};y.prototype.di=function(x){var z;return !(null === (z=this.DC) || void 0 === z || !z.di(x));};y.prototype.Qdb=function(x){if(!this.Ss.li || x)(this.Ss.D1b(),n.AsyncIterator.J7(this.Ss,this.MQb.bind(this)));};y.prototype.MQb=function(x){x.done || this.Awa(x.value);};y.prototype.Awa=function(x){var z,A,B,C,D,E,G,F;d.K && this.T.trace(("requestReceived: ").concat(null === (z=this.Ss.v4) || void 0 === z?void 0:z.v.id) + (" ").concat(x.toString(),", edit: ").concat(JSON.stringify(x.Ja)));this.fg.endOfStream?d.K && this.T.error("Buffer manager has declared EOS, ignoring request",x.toString()):(this.JJ?(this.JJ.dRb=null === (E=x.Ua) || void 0 === E?void 0:E.G,this.JJ.fRb=null === (G=x.Hb) || void 0 === G?void 0:G.G,this.JJ.s5a=x.Hb):this.JJ={zgc:null === (A=x.Ka) || void 0 === A?void 0:A.G,Agc:null === (B=x.Cb) || void 0 === B?void 0:B.G,dRb:null === (C=x.Ua) || void 0 === C?void 0:C.G,fRb:null === (D=x.Hb) || void 0 === D?void 0:D.G,s5a:x.Hb},x.Ev && x.stream.track.Vl && (null === (F=this.Z) || void 0 === F || !F.gV(x.la.J)) && this.emit("drmNeeded",{J:x.la.J,jq:x.Cb}),this.fg.zvb(x));};return y;})(r.EventEmitter));b.EBa=a;},13407:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.FZ=void 0;c=a(5163);l=a(62558);r=a(55011);f=a(46892);a=a(551);k=(function(){function d(g,n){this.Xa=[];this.Se=void 0;this.jc=0;this.T=g;n && n.length && (Array.isArray(n)?(this.Xa=n.slice(),this.XQ(0,this.Xa.length)):n instanceof d && (this.Xa=n.Xa.slice(),this.XQ(0,this.Xa.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Xa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Xa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Xa[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ud:{get:function(){return this.Xa[this.Xa.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{sb:{get:function(){return this.first && this.first.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yb:{get:function(){return this.Ud && this.Ud.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$q:{get:function(){return this.Se;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xa:{get:function(){return this.jc;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{N:{get:function(){return this.first && this.first.N;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{vn:{get:function(){return this.first && this.first.vn;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ha:{get:function(){return this.Xa;},enumerable:!1,configurable:!0}});d.prototype.g8b=function(g){this.jc+=g;};d.prototype.Zvb=function(){var g;if(0 === this.Xa.length)((0,l.assert)(void 0 === this.Se),(0,l.assert)(0 === this.jc));else {(0,l.assert)(this.Se instanceof f.Qz);(0,l.assert)("number" === typeof this.jc);(0,l.assert)(void 0 !== this.$q && this.$q.sb === this.sb);g=this.Xa.reduce(function(n,h,m){return 0 === m || h.sb === n?h.yb:n;},0);(0,l.assert)(this.$q.yb === g);(0,l.assert)(this.Xa.reduce(function(n,h,m){return 0 === m || h.sb === n?h.yb:n;},0) === this.$q.yb);(0,l.assert)(this.Xa.reduce(function(n,h){return n + h.xa;},0) === this.jc);}};d.prototype.get=function(g){0 > g && (g+=this.Xa.length);return this.Xa[g];};d.prototype.push=function(g){this.Xa.push(g);this.XQ(this.Xa.length - 1);return this.length;};d.prototype.unshift=function(g){this.Xa.unshift(g);this.XQ(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Xa.length)return (this.Oha(this.Xa.length - 1),this.Xa.pop());};d.prototype.shift=function(){if(0 !== this.Xa.length)return (this.Oha(0),this.Xa.shift());};d.prototype.splice=function(g,n){for(var h,m=[],p=2;p < arguments.length;p++){m[p - 2]=arguments[p];}0 > g && (g+=this.Xa.length);0 > g && (g=0);g > this.Xa.length && (g=this.Xa.length);if(void 0 === n || 0 > n)n=0;n=Math.min(n,this.Xa.length - g);0 < n && this.Oha(g,g + n);p=(h=this.Xa).splice.apply(h,c.__spreadArray([g,n],c.__read(m),!1));0 < m.length && this.XQ(g,g + arguments.length - 2);return p;};d.prototype.slice=function(g,n){void 0 === g && (g=0);void 0 === n && (n=this.Xa.length);0 > g && (g+=this.Xa.length);if(g >= this.Xa.length)return new d(this.T);n > this.Xa.length && (n=this.Xa.length);0 > n && (n+=this.Xa.length);return new d(this.T,this.Xa.slice(g,n));};d.prototype.Ht=function(g){if(0 === this.Xa.length || g.sb >= this.yb)this.push(g);else if(g.yb <= this.sb)this.unshift(g);else {for(var n=0,h=this.Xa.length - 1,m;n < h - 1;){m=Math.floor((h + n) / 2);(0,l.assert)(m !== h && m !== n);g.sb >= this.Xa[m].yb?n=m:h=m;}(0,l.assert)(n !== h);(0,l.assert)(this.Xa[n].yb <= g.sb && this.Xa[h].sb >= g.yb);this.splice(h,0,g);}};d.prototype.remove=function(g){g=this.Xa.indexOf(g);if(0 > g)return !1;this.splice(g,1);return !0;};d.prototype.concat=function(){for(var g=[],n=0;n < arguments.length;n++){g[n]=arguments[n];}g=g.map(function(h){return h.Xa;});return new d(this.T,Array.prototype.concat.apply(this.Xa,g));};d.prototype.forEach=function(g){var n;n=this;this.Xa.forEach(function(h,m){return g(h,m,n);});};d.prototype.some=function(g){var n;n=this;return this.Xa.some(function(h,m){return g(h,m,n);});};d.prototype.every=function(g){var n;n=this;return this.Xa.every(function(h,m){return g(h,m,n);});};d.prototype.map=function(g){var n;n=this;return this.Xa.map(function(h,m){return g(h,m,n);});};d.prototype.reduce=function(g,n){var h;h=this;return this.Xa.reduce(function(m,p,q){return g(m,p,q,h);},n);};d.prototype.indexOf=function(g){return this.Xa.indexOf(g);};d.prototype.find=function(g){var n,h;n=this;return this.Xa.some(function(m,p){h=p;return g(m,p,n);})?this.Xa[h]:void 0;};d.prototype.findIndex=function(g){var n,h;n=this;return this.Xa.some(function(m,p){h=p;return g(m,p,n);})?h:-1;};d.prototype.filter=function(g){var n;n=this;return new d(this.T,this.Xa.filter(function(h,m){return g(h,m,n);}));};d.prototype.DL=function(g){for(var n=this.Xa.length - 1;0 <= n;--n){g(this.Xa[n],n,this);}};d.prototype.oya=function(g){for(var n=this.Xa.length - 1;0 <= n;--n){if(g(this.Xa[n],n,this))return !0;}return !1;};d.prototype.pna=function(g){if(this.empty || g < this.Ka.G || g >= this.Ua.G)return -1;for(var n=0,h=this.Xa.length - 1,m;h > n;){m=Math.floor((h + n) / 2);if(g >= this.Xa[m].Ka.G && g < this.Xa[m].Ua.G){h=m;break;}g < this.Xa[m].Ua.G?h=m - 1:n=m + 1;}return h;};d.prototype.MT=function(g){if(this.empty || g < this.Cb.G || g >= this.Hb.G)return -1;for(var n=0,h=this.Xa.length - 1,m;h > n;){m=Math.floor((h + n) / 2);if(g >= this.Xa[m].Cb.G && g < this.Xa[m].Hb.G){h=m;break;}g < this.Xa[m].Hb.G?h=m - 1:n=m + 1;}return h;};d.prototype.i_a=function(g){g=this.MT(g);return 0 <= g?this.Xa[g]:void 0;};d.prototype.update=function(){this.Se && (this.Se.c3b(this.sb),this.XR(0));};d.prototype.XR=function(g){var n;n=this.Xa[g].yb;for(g+=1;g < this.Xa.length && n === this.Xa[g].sb;++g){n=this.Xa[g].yb;}g < this.Xa.length?void 0 === this.Se?this.Se=new f.Qz(this,{yb:n}):this.Se.kO(n):void 0 === this.Se?this.Se=new f.Qz(this,{}):this.Se.W3();};d.prototype.GJ=function(g,n){for(var h=g;h < n;++h){this.jc+=this.Xa[h].xa;}void 0 === this.Se || 0 === g?this.XR(0):this.Se.yb === this.yb?this.XR(g - 1):this.Xa[g].sb === this.Se.yb && this.XR(g);};d.prototype.Ax=function(g,n){var h;if(0 === g)(this.Se=void 0,n < this.length && this.XR(n));else {h=this.Se;h.yb > this.Xa[g - 1].yb && (n < this.length?h.kO(this.Xa[g - 1].yb):h.W3());}for(;g < n;++g){this.jc-=this.Xa[g].xa;}};d.prototype.XQ=function(g,n){void 0 === n && (n=g + 1);this.GJ(g,n);};d.prototype.Oha=function(g,n){void 0 === n && (n=g + 1);this.Ax(g,n);};return d;})();b.FZ=k;(0,r.Ek)(a.Lw,k);},29930:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.mca=void 0;c=a(5163);l=a(12043);a(62558);r=a(55011);f=c.__importDefault(a(89956));k=a(35195);d=a(64406);g=l.platform.Uo;n=a(83350);a=(function(h){var R8;function m(p,q,u,t,w,v,y,x){var i2x,z;i2x=2;for(;i2x !== 7;){switch(i2x){case 8:return q;break;case 2:var G8d="me";G8d+="d";G8d+="i";G8d+="a";var N69="m";N69+="e";N69+="di";N69+="a(edit)";var p00="1SIYb";p00+="Zr";p00+="N";p00+="JCp9";p00;z=u.Ja?N69:G8d;void 0 === u.responseType && (u.responseType=u.Ja || g.zf && !g.zf.Nwa.Ofa?0:1);q=h.call(this,p,q,z,u,t,w,v,y) || this;q.Ty=!1;k.xq.Db(q,p,w,u,x);i2x=8;break;}}}R8=2;for(;R8 !== 3;){switch(R8){case 2:c.__extends(m,h);m.create=function(p,q,u,t,w,v,y,x){var o4R;o4R=2;for(;o4R !== 1;){switch(o4R){case 2:return !q.Ak && t.Ja && p.mediaType === f.default.vm.X?new n.vca(p,u,t,w,v,q,y,x):new m(p,u,t,w,v,q,y,x);break;}}};m.prototype.toString=function(){var K31;K31=2;for(;K31 !== 1;){switch(K31){case 2:var C_P="I";C_P+="D";C_P+=":";C_P+=" ";return C_P + this.Wi() + ":" + k.xq.prototype.toString.call(this);break;}}};return m;break;}}})(d.HZ);b.mca=a;(0,r.Ek)(k.xq,a,!1);},35195:function(r,b,a){var c,l,f,k,d,g,n,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.xq=void 0;c=a(5163);l=a(42866);f=a(62558);k=c.__importDefault(a(89956));d=a(94656);r=a(55011);g=a(89755);n=a(69028);h=a(46892);a=a(551);m=(function(p){function q(u,t,w,v){var y;y=p.call(this,u,w) || this;q.Db(y,u,t,w,v);return y;}c.__extends(q,p);q.Db=function(u,t,w,v,y){var x;n.QI.uqa(u,t,v);u.hg=v.index;u.pA=v.sb;u.Ls=v.yb;u.btb=v.xb?v.xb:t.xb;u.nz=v.nz;u.v=w;u.Ooa=y;u.JQa=!!v.Ev;u.gRa=!!v.Xk;u.XRa=null !== (x=v.region) && void 0 !== x?x:0;u.IQa=!!v.Ena;u.fRa=!!v.Nt;u.Ma=void 0 === v.O5 || void 0 === v.Qna || v.O5 === v.sb && v.Qna === v.yb?u:new h.Qz(u,{sb:v.O5,yb:v.Qna});u.qrb=v.cta;u.Bpb=v.vj;u.Mqb=t.S6;u.Ah=v.Ja?u.p8a(v.Ja):void 0;u.tSa=v.yw;u.tS=!1;u.SQa=!1;u.Do=[];};q.oXa=function(u){for(var t=new Uint32Array(u.length),w=new Uint32Array(u.length),v=new Uint8Array(u.length),y=new Uint8Array(u.length),x=0,z,A,B=0;B < u.length;++B){z=u[B];A=z.jc;t[B]=z.Ls - z.pA;w[B]=A;v[B]=z.stream.xw;void 0 !== z.xb && null !== z.xb && (y[B]=z.xb);x+=A;}return new d.Sfa(t,w,u.length?u[0].N:1E3,x);};Object.defineProperties(q.prototype,{DPb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Jt:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.hg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{xb:{get:function(){return this.btb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Eja:{get:function(){return 8 * this.xa / this.Md.G;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sb:{get:function(){return this.pA;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{yb:{get:function(){return this.Ls;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{vn:{get:function(){var u,t;return null !== (t=null === (u=this.Ooa) || void 0 === u?void 0:u.call(this)) && void 0 !== t?t:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ev:{get:function(){return this.JQa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Xk:{get:function(){return this.gRa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.XRa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ena:{get:function(){return this.IQa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Nt:{get:function(){return this.fRa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{cta:{get:function(){return this.qrb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{vj:{get:function(){return this.Bpb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ja:{get:function(){return this.Ah;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{yw:{get:function(){return this.tSa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Wwa:{get:function(){return this.Ah?this.Ah.end - this.Ah.start:this.vt;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{O5:{get:function(){return this.Ma.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Qna:{get:function(){return this.Ma.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{DIb:{get:function(){return this.Ma.nB;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{FL:{get:function(){return this.Ma.Ka;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Rna:{get:function(){return this.Ma.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{vt:{get:function(){var u;u=this.DIb;(0,f.assert)(u);return u / this.stream.Aa.ja;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Epa:{get:function(){return this.SQa;},enumerable:!1,configurable:!0}});q.prototype.k8b=function(u,t){(0,f.assert)(u.N === this.N,"Cannot change content timestamp timescale");(0,f.assert)(t.N === this.N,"Cannot change content timestamp timescale");this.pA=u.ja;this.Ls=t.ja;};q.prototype.YSb=function(){this.JQa=!0;};q.prototype.C6a=function(){this.gRa=!0;};q.prototype.D3b=function(u){this.nz={ce:u.F0a(),get uM() {return u.zY;}};};q.prototype.mO=function(u){this.tSa=u;};q.prototype.A3b=function(u,t,w){this.XRa=u;this.IQa=t;this.fRa=w;};q.prototype.Bi=function(u){var t,w;void 0 === u && (u={});t=this.stream.Aa.ja;w=this.Ah || ({start:0,end:this.vt});u=this.p8a(u);this.Ma && this.Ma !== this || (this.Ma=new h.Qz(this,this));u.start > w.start && (this.pA=this.Ma.sb + u.start * t);u.end < w.end && (this.Ls=this.Ma.sb + u.end * t);this.Ah=c.__assign(c.__assign({},w),u);};q.prototype.nma=function(u){void 0 === u && (u=1);this.Ah?this.Bi({start:this.Ah.start + u,end:this.Ah.end}):this.Bi({start:u});};q.prototype.a5=function(u){this.Ah?this.Bi({start:this.Ah.start,end:(this.Ah.end || 0) - u}):this.Bi({start:0,end:-u});};q.prototype.ei=function(){this.Ja?this.Bi({start:this.Ja.start,end:this.Ja.start}):this.Bi({start:0,end:0});};q.prototype.E3b=function(u){this.Ah || this.Bi();this.Ah.Eaa=u;};q.prototype.Lcb=function(u){this.Ah || this.Bi();this.Ah.st=!0;u && (this.Ah.SZa=u);};q.prototype.Mcb=function(u){this.Ah || this.Bi();this.Ah.fo=!0;u && (this.Ah.TZa=u);};q.prototype.q_a=function(u){var w;if(!(u < this.Ka.G || u >= this.Ua.G) && this.vj && this.vj.length){u=new l.L(u + 1 - this.Ka.G,1E3).jh(this.stream.Aa);for(var t=this.vj.length - 1;0 <= t;--t){w=this.vj[t];if(w.Nj <= u)return w;}return {Nj:0,Ce:this.FL.G};}};q.prototype.YHb=function(u){var w;if(!(u < this.Ka.G || u >= this.Ua.G) && this.vj && this.vj.length){u=new l.L(u + 1 - this.Ka.G,1E3).jh(this.stream.Aa);for(var t=this.vj.length - 1;0 <= t;--t){w=this.vj[t];if(w.Nj <= u)return w;}return {Nj:0,Ce:this.FL.G};}};q.prototype.g_a=function(u,t){var w,v,y;if(!(u < this.Ka.G || u >= this.Ua.G)){if(!t && this.Mqb)return {Nj:0,Ce:this.Ka.G};w=this.Aa.ja;v=this.Aa.N;y=Math.floor(this.nB / w);u=Math.min((t?Math.ceil:Math.floor)((l.L.Q7a(u,v) - this.sb + (t?-1:1) * (v / 1E3 - 1)) / w),y);w=l.L.lza(this.sb + u * w,v);return u === y?void 0:{Nj:u,Ce:w};}};q.prototype.WHb=function(u){return this.mediaType === k.default.vm.X?this.q_a(u):this.g_a(u,!1);};q.prototype.tna=function(u){return this.mediaType === k.default.vm.X?this.YHb(u):this.g_a(u,!0);};q.prototype.k4a=function(){return 0 < this.Do.length;};q.prototype.bpa=function(){(0,f.assert)(!this.CX,"Should not get response iterator more than once");this.CX=new g.mD(this.console);return this.CX.getIterator();};q.prototype.Pva=function(u,t){this.CX?(this.CX.enqueue(u),t && this.CX.IF()):this.Do.push(u);this.SQa=t;};q.prototype.QN=function(){this.Do=[];};q.prototype.Nia=function(u){this.jc+=u.xa;this.Ls=u.yb;this.Ah && (this.Ma=new h.Qz(this,{sb:this.O5,yb:this.Ls}),this.Ah.end=this.vt);};q.prototype.gbb=function(u){var t,w,v;t={type:"logdata",target:"endplay",fields:{}};w=this.mediaType === k.default.vm.$?"audioedit":"videoedit";v=this.FL.equal(this.Ka);v=[v?this.Ua.G:this.Ka.G,v?-this.Md.G:this.Md.G];u && v.push(u);t.fields[w]={type:"array",value:v};return t;};q.prototype.toString=function(){return ("[").concat(this.Pb,", ").concat(this.bitrate,"kbit/s, ") + ("c:").concat(this.Ka.G,"-").concat(this.Ua.G,",") + ("p:").concat(this.Cb.G,"-").concat(this.Hb.G,",d:").concat(this.Md.G,"]");};q.prototype.toJSON=function(){return {movieId:this.P,streamId:this.Pb,bitrate:this.bitrate,index:this.index,startPts:this.Ka.G,endPts:this.Ua.G,contentStartPts:this.Ka.G,contentEndPts:this.Ua.G,fragmentStartPts:this.FL.equal(this.Ka)?void 0:this.FL.G,fragmentEndPts:this.Rna.equal(this.Ua)?void 0:this.Rna.G,edit:this.Ja};};q.prototype.p_a=function(u){var w;if(this.vj)for(var t=0;t < this.vj.length;++t){if(this.vj[t].Nj === u)w=this.vj[t].offset;}return w;};q.prototype.p8a=function(u){var t,w;t=Math.max(u.start || 0,0);w=void 0 === u.end?this.vt:Math.min(this.vt,Math.max(t,0 > u.end?this.vt + u.end:u.end));return c.__assign(c.__assign({},u),{start:t,end:w});};return q;})(n.QI);b.xq=m;(0,r.Ek)(a.Lw,m);},2746:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.yBa=void 0;c=a(5163);a(62558);l=a(91219);r=a(55011);f=a(13407);k=a(551);d=a(57196);g=a(46892);a=(function(n){function h(m,p){var q,u;q=this;u=[new f.FZ(m),new f.FZ(m),new f.FZ(m)];q=n.call(this,u,function(t){return t.complete?q.empty || t.sb <= q.rzb?0:1:t.active?1:2;}) || this;u=c.__read(u,3);q.Mk=u[0];q.nj=u[1];q.Qq=u[2];q.mp=0;q.tga=0;q.T=m;q.Kq=p;return q;}c.__extends(h,n);Object.defineProperties(h.prototype,{xa:{get:function(){return this.Mk.xa + this.nj.xa + this.Qq.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{V7b:{get:function(){return this.Qq;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{active:{get:function(){return this.nj;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{complete:{get:function(){return this.Mk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{M_b:{get:function(){return this.mp;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{e4:{get:function(){return this.Mk.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Nr:{get:function(){return this.Mk.xa + this.nj.xa - this.mp;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{W7b:{get:function(){return this.Qq.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{RN:{get:function(){return this.xa - this.mp;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{first:{get:function(){return this.UIb();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ud:{get:function(){return this.hwb();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{rma:{get:function(){return !this.Mk.empty || this.Qq.empty || this.nj.empty?this.first:this.nj.sb < this.Qq.sb?this.nj.first:this.Qq.first;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{E5a:{get:function(){return this.Qq.empty || this.nj.empty?this.Ud:this.nj.yb < this.Qq.yb?this.Qq.Ud:this.nj.Ud;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{A_a:{get:function(){return this.Qq.first;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{N:{get:function(){return this.first && this.first.N;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{sb:{get:function(){return this.rma && this.rma.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{yb:{get:function(){return this.E5a && this.E5a.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{vn:{get:function(){return this.first && this.first.vn;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{rzb:{get:function(){return this.Mk.empty?this.sb:this.Mk.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{qzb:{get:function(){var m;return this.Mk.empty?null === (m=this.Ka) || void 0 === m?void 0:m.G:this.Mk.Ua.G;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{oWa:{get:function(){var m;return this.Mk.empty?null === (m=this.Cb) || void 0 === m?void 0:m.G:this.Mk.Hb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{F9a:{get:function(){var m,p;return (null === (m=this.nj.Hb) || void 0 === m?void 0:m.G) || (null === (p=this.Mk.Hb) || void 0 === p?void 0:p.G);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{gD:{get:function(){return this.Qq.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ni:{get:function(){return this.nj.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{qWa:{get:function(){return this.Mk.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Wa:{get:function(){return this.Mk.concat(this.nj);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$q:{get:function(){return this.Se;},enumerable:!1,configurable:!0}});h.prototype.GJ=function(m){var p;m.aborted?++this.tga:this.mp+=m.bytesReceived || 0;if(this.empty)this.Se=new g.Qz(this,{});else if(m.sb !== this.yb)if(m.sb > this.Se.yb)this.Se.kO(this.Se.yb);else if(m.sb < this.sb || m.sb === this.Se.yb){p=m.yb;this.oIb(function(q,u){return q.sb - u.sb;},function(q){p=q.sb === p?q.yb:p;});p === Math.max(this.yb,m.yb)?this.Se.W3():this.Se.kO(p);}m.Ycb(this);};h.prototype.Ax=function(m){m.aborted?--this.tga:this.mp-=m.bytesReceived;this.empty?this.Se=void 0:m.sb !== this.yb && m.yb <= this.Se.yb && m.sb > this.Se.sb && this.Se.kO(m.sb);m.Qyb();};h.prototype.update=function(){var m;this.Mk.update();this.nj.update();this.Qq.update();if(this.Se){m=this.map(function(u){return u;});m.sort(function(u,t){return u.sb - t.sb;});this.Se.W3();for(var p=m[0].yb,q=1;q < m.length;++q){if(m[q].sb !== p){this.Se.kO(p);break;}p=m[q].yb;}}};h.prototype.push=function(m){this.GJ(m);return n.prototype.push.call(this,m);};h.prototype.shift=function(){var m;m=n.prototype.shift.call(this);m && this.Ax(m);return m;};h.prototype.pop=function(){var m;m=n.prototype.pop.call(this);m && this.Ax(m);return m;};h.prototype.unshift=function(m){this.GJ(m);return n.prototype.unshift.call(this,m);};h.prototype.Ht=function(m){this.GJ(m);n.prototype.Ht.call(this,m);};h.prototype.remove=function(m){if(!n.prototype.remove.call(this,m))return !1;this.Ax(m);return !0;};h.prototype.splice=function(m,p){for(var q=[],u=2;u < arguments.length;u++){q[u - 2]=arguments[u];}u=n.prototype.splice.apply(this,c.__spreadArray([m,p],c.__read(q),!1));q.forEach(this.GJ.bind(this));u.forEach(this.Ax.bind(this));return u;};h.prototype.j_b=function(m){var p;p=this;this.reduce(function(q,u,t){u.aborted && !u.Ty && (m && m(u,t,p),0 === q.length || q[0].end !== t?q.unshift({start:t,end:t + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};h.prototype.pna=function(m){return this.j_a(function(p){return p.pna(m);});};h.prototype.MT=function(m){return this.j_a(function(p){return p.MT(m);});};h.prototype.i_a=function(m){m=this.MT(m);return -1 !== m?this.get(m):void 0;};h.prototype.B2b=function(m){var q;for(var p=[];m < this.length;){q=this.get(m);q && p.push(q);m++;}return p;};h.prototype.mN=function(m){this.move(m);this.N5(m);};h.prototype.nN=function(m,p){this.mp+=p;this.WT(m,p);};h.prototype.Mr=function(m,p){this.mp+=p;this.pdb();this.PF(m,p);};h.prototype.DW=function(m,p,q){this.mp-=m.bytesReceived;++this.tga;this.EL(m,p,q);};h.prototype.EW=function(m,p,q){this.nj.g8b(p - q);this.Pna(m,p,q);};h.prototype.PWb=function(){this.pdb();};h.prototype.pdb=function(){for(;this.nj.first && (this.nj.first.complete || this.nj.first.Ty) && (this.Mk.empty?this.nj.first === this.rma:this.nj.first.sb === this.Mk.yb);){this.Z3b();}};return h;})(l.rDa);b.yBa=a;(0,r.Ek)(d.lD,a,!1);(0,r.Ek)(k.Lw,a);},18621:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.nca=void 0;c=a(5163);l=a(69028);r=(function(f){function k(d,g,n,h){var m;m=f.call(this,d,n) || this;m.Gaa=!1;m.QT=!1;m.lW=!1;m.sT=!1;m.KN=void 0;k.K3a(m,d,g,n,h);return m;}c.__extends(k,f);k.K3a=function(d,g,n,h,m){l.QI.uqa(d,g,h);d.v=n;d.oE=h.Hh;d.lE=h.pN;d.CQa=h.HF;d.T=m;};Object.defineProperties(k.prototype,{Ke:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Hh:{get:function(){return this.oE;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{pN:{get:function(){return this.lE;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{HF:{get:function(){return this.CQa;},enumerable:!1,configurable:!0}});k.prototype.toJSON=function(){return {movieId:this.P,streamId:this.Pb,bitrate:this.bitrate};};return k;})(l.QI);b.nca=r;},65593:function(r,b,a){var l,f,k,d,g,n,h,m,p,q;function c(u){return {Ke:!0,Wr:{mf:m.eb.Jn},Rc:u,responseType:0};}Object.defineProperties(b,{__esModule:{value:!0}});b.ABa=void 0;l=a(5163);f=a(36418);k=a(42866);r=a(57055);d=a(12043);g=a(97810);n=a(55011);h=a(62558);m=a(27364);p=a(18621);a=a(64406);q=d.platform.MediaSource;a=(function(u){function t(w,v,y,x,z,A,B,C){var D,E,G;D=y.track;B=(B?"(cache)":"") + w.id + " header";E=x.offset;G=x.xa;x.pN && (E+=x.pN.byteLength,G-=x.pN.byteLength);x=l.__assign(l.__assign(l.__assign({},x),c(x.Rc)),{offset:E,xa:G});v=u.call(this,w,D,B,x,z,A,v,C) || this;v.KN=y;v.ota=0;p.nca.K3a(v,w,A,x,C);v.QT=!!x.QT;v.lW=!!x.lW;v.sT=!!x.sT;v.pua=x.xa;v.Gaa=!!x.Gaa;++v.ota;return v;}l.__extends(t,u);Object.defineProperties(t.prototype,{Ke:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{O9:{get:function(){return this.Wrb;},enumerable:!1,configurable:!0}});t.prototype.$e=function(){var w;if(!this.complete){w={type:"headerRequestCancelled",request:this};this.emit(w.type,w);}u.prototype.$e.call(this);};t.prototype.VT=function(w){this.stream.Rta();u.prototype.VT.call(this,w);};t.prototype.EL=function(w,v,y){this.stream.B9();u.prototype.EL.call(this,w,v,y);};t.prototype.Mr=function(w,v){var y;y=w.response;y && this.zpb(y);(0,h.assert)(this.lE);w.QN();this.Urb()?(this.stream.B9(),u.prototype.Mr.call(this,w,v)):this.S2?(this.bHb(w.offset + w.xa,this.S2),u.prototype.Mr.call(this,w,v)):u.prototype.cH.call(this,w);};t.prototype.bHb=function(w,v){this.MZa(this.bL,this.label + " (" + this.ota + ")",c(this.Rc),{offset:w,xa:v});++this.ota;};t.prototype.Urb=function(){var w,v,y,x,z,A,B;x=this.config;z=new f.Bq(t.CUb,this.stream,this.lE,this.stream.aa?["moov"]:["sidx"],x.sXb,{Gjc:this.stream.track.uva,C9a:void 0 === this.Aa,Ffb:!q.zf || !q.zf.bzb,vza:x.vza,Hm:x.Hm,YO:this.config.YO,L1b:!0,Haa:!q.zf || !q.zf.LUb,qwa:this.config.qwa});A=z.parse({Aa:this.Aa});this.c9b=x.YO && z.PNb;if(A.$v){(0,h.assert)(A.Hh);this.oE=A.Hh;this.Wrb=A.O9;this.CQa=!!A.lGb;void 0 === this.Aa && void 0 === A.Aa && this.T.error("No frame duration available for " + this.Pb);z=A.Aa?new k.L(A.Aa):this.Aa;B=void 0;if(this.stream.mediaType === m.u.X && (null === (w=x.tN) || void 0 === w?0:w.enabled))if(null === (v=this.stream.PH) || void 0 === v?0:v.length)B=this.stream.PH;else if((w=this.stream.Gr.PH,0 < (null === w || void 0 === w?void 0:w.length)))for((B=new Uint8Array(w.length),y=0);y < w.length;y++){B[y]=w[y].xb;}else if(null === (y=A.Gw) || void 0 === y?0:y.length)for((B=new Uint8Array(A.Gw.length),y=0);y < A.Gw.length;y++){B[y]=A.Gw[y];}this.stream.Qta(A.Hh,A.N,z,A.Ha,A.XM,A.vj,B,A.trackId);this.lE=void 0;}else this.S2=A.S2 || 0;return !!A.$v;};t.prototype.zpb=function(w){this.lE=this.lE?(0,g.LK)(this.lE,w):w;};t.CUb=new d.platform.Console("MP4","media|asejs");return t;})(a.HZ);b.ABa=a;(0,n.Ek)(p.nca,a,!1,!1);(0,n.Ek)(r.EventEmitter,a);},18792:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Uaa=b.GZ=void 0;c=a(27364);l=(function(){function f(k){this.audio=k.audio;this.video=k.video;this.text=k.text;}f.prototype.i2a=function(k){switch(k){case c.u.$:return this.audio;case c.u.X:return this.video;case c.u.Ga:return this.text;}};f.prototype.Op=function(k){return this.i2a(k);};f.prototype.EU=function(k){return (k=this.i2a(k))?k.track:void 0;};Object.defineProperties(f.prototype,{$d:{get:function(){return this.video || this.audio || this.text;},enumerable:!1,configurable:!0}});f.prototype.E_a=function(k){[this.audio,this.video,this.text].filter(function(d){return void 0 !== d;}).forEach(k);};f.prototype.MGb=function(k){return [this.audio,this.video,this.text].filter(function(d){return void 0 !== d;}).every(k);};Object.defineProperties(f.prototype,{bitrate:{get:function(){var k;return null !== (k=this.$d.bitrate) && void 0 !== k?k:0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{p3:{get:function(){var k;return null === (k=this.audio) || void 0 === k?void 0:k.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Eba:{get:function(){var k;return null === (k=this.video) || void 0 === k?void 0:k.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xb:{get:function(){var k;return null !== (k=this.$d.xb) && void 0 !== k?k:0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{gb:{get:function(){return this.$d.gb;},set:function(k){this.$d.gb=k;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{id:{get:function(){return this.$d.id;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Pb:{get:function(){return this.$d.Pb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ha:{get:function(){return this.$d.Ha;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Jr:{get:function(){return this.$d.Jr;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{CY:{get:function(){return this.$d.CY;},set:function(k){this.$d.CY=k;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Mp:{get:function(){return this.$d.Mp;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ub:{get:function(){return this.$d.Ub;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{aa:{get:function(){return this.$d.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ar:{get:function(){return this.MGb(function(k){return k.Ar;});},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Up:{get:function(){return this.$d.Up;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Cy:{get:function(){return this.$d.Cy;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{qy:{get:function(){return this.$d.qy;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Fd:{get:function(){return this.$d.Fd;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{yn:{set:function(k){this.E_a(function(d){d.yn=k;});},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{location:{get:function(){return this.$d.location;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Lh:{get:function(){var k;k=[];this.E_a(function(d){d.location && k.push(d.location);});return k;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Fo:{set:function(k){this.$d.Fo=k;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{vxa:{set:function(k){this.$d.vxa=k;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{kM:{set:function(k){this.$d.kM=k;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Tpa:{set:function(k){this.$d.Tpa=k;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Upa:{set:function(k){this.$d.Upa=k;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Gr:{get:function(){return this.$d.Gr;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{profile:{get:function(){return this.$d.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xw:{get:function(){return this.$d.xw;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{la:{get:function(){return this.$d.la;},enumerable:!1,configurable:!0}});f.prototype.s$=function(k){return this.$d.s$(k);};Object.defineProperties(f.prototype,{jb:{get:function(){return this.$d.jb;},set:function(k){this.$d.jb=k;},enumerable:!1,configurable:!0}});f.prototype.isEqual=function(k){return k && k.Pb === this.Pb;};f.prototype.toString=function(){return ("").concat(this.audio?this.audio.toString():"") + ("").concat(this.video?this.video.toString():"") + ("").concat(this.text?this.text.toString():"");};return f;})();b.GZ=l;b.Uaa=function(f){var k,d;d=(k={},k[c.u.$]={audio:f},k[c.u.X]={video:f},k[c.u.Ga]={text:f},k);return new l(d[f.mediaType]);};},54790:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.oca=void 0;c=a(5163);a(12043);l=a(62558);r=(function(f){function k(d,g,n,h,m,p,q){g=f.call(this,d,g,n,h,m,p,q) || this;g.Reb=0;(0,l.assert)(0 === n.responseType);(0,l.assert)(n.Kh);g.Kh=n.Kh;d=d.Tl();g.Reb=d.$t.G;return g;}c.__extends(k,f);return k;})(a(29930).mca);b.oca=r;},46541:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.qca=void 0;c=a(5163);l=a(50954);f=a(49730);r=(function(k){function d(g,n,h,m,p,q,u,t,w,v,y,x,z){void 0 === x && (x=!0);void 0 === z && (z=!0);g=k.call(this,h,w,{index:0,offset:0,xa:0,sb:p,yb:q,N:m,Ev:x,Xk:z,yw:y},v) || this;g.qXb=h;g.console=t;g.v=w;f.K && g.console.log(("AsePaddingRequest [").concat(g.mediaType,"], constructed ").concat(g.toString()) + (", ").concat(n.byteLength," bytes") + (", ").concat(g.vt," samples"));g.Pva(n,!0);return g;}c.__extends(d,k);Object.defineProperties(d.prototype,{profile:{get:function(){return this.qXb.profile;},enumerable:!1,configurable:!0}});d.prototype.abort=function(){return !1;};d.prototype.toJSON=function(){var g,n,h,m,p;return {viewableId:l.Dq,startPts:null === (g=this.Cb) || void 0 === g?void 0:g.G,endPts:(null === (n=this.Cb) || void 0 === n?void 0:n.G) + (null === (h=this.Md) || void 0 === h?void 0:h.G),"contentStartTicks:":this.sb,contentEndTicks:this.yb,contentStartPts:null === (m=this.Ka) || void 0 === m?void 0:m.G,contentEndPts:null === (p=this.Ua) || void 0 === p?void 0:p.G};};d.prototype.toString=function(){return ("[padding c:").concat(this.Ka.G,"-").concat(this.Ua.G,",") + ("p:").concat(this.Cb.G,"-").concat(this.Hb.G,",") + ("d:").concat(this.Ua.G - this.Ka.G,"]");};return d;})(a(35195).xq);b.qca=r;},57196:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.lD=b.JBa=void 0;c=a(5163);r=(function(){function l(f){this.Kq=f;}l.prototype.Ycb=function(f){this.Kq=f;};l.prototype.Qyb=function(){this.Kq=void 0;};l.prototype.VT=function(f){var k,d;null === (d=null === (k=this.Kq) || void 0 === k?void 0:k.mua) || void 0 === d?void 0:d.call(k,f);};l.prototype.N5=function(f){var k,d;null === (d=null === (k=this.Kq) || void 0 === k?void 0:k.mN) || void 0 === d?void 0:d.call(k,f);};l.prototype.UT=function(f){var k,d;null === (d=null === (k=this.Kq) || void 0 === k?void 0:k.lN) || void 0 === d?void 0:d.call(k,f);};l.prototype.WT=function(f,k){var d,g;null === (g=null === (d=this.Kq) || void 0 === d?void 0:d.nN) || void 0 === g?void 0:g.call(d,f,k);};l.prototype.PF=function(f,k){var d,g;null === (g=null === (d=this.Kq) || void 0 === d?void 0:d.Mr) || void 0 === g?void 0:g.call(d,f,k);};l.prototype.M5=function(f){var k,d;null === (d=null === (k=this.Kq) || void 0 === k?void 0:k.cH) || void 0 === d?void 0:d.call(k,f);};l.prototype.EL=function(f,k,d){var g,n;null === (n=null === (g=this.Kq) || void 0 === g?void 0:g.DW) || void 0 === n?void 0:n.call(g,f,k,d);};l.prototype.Pna=function(f,k,d){var g,n;null === (n=null === (g=this.Kq) || void 0 === g?void 0:g.EW) || void 0 === n?void 0:n.call(g,f,k,d);};l.prototype.J_a=function(f){var k,d;null === (d=null === (k=this.Kq) || void 0 === k?void 0:k.lua) || void 0 === d?void 0:d.call(k,f);};return l;})();b.JBa=r;r=(function(l){function f(){return null !== l && l.apply(this,arguments) || this;}c.__extends(f,l);return f;})(r);b.lD=r;r.prototype.mua=r.prototype.VT;r.prototype.mN=r.prototype.N5;r.prototype.lN=r.prototype.UT;r.prototype.nN=r.prototype.WT;r.prototype.Mr=r.prototype.PF;r.prototype.cH=r.prototype.M5;r.prototype.DW=r.prototype.EL;r.prototype.EW=r.prototype.Pna;r.prototype.lua=r.prototype.J_a;},64406:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.HZ=b.qm=void 0;c=a(5163);l=a(57055);f=a(36418);a(12043);r=a(55011);k=a(62558);a(26973);d=a(7033);g=a(93161);n=a(57196);a=a(69028);(function(h){h[h.OJa=0]="NOTHING_APPENDED";h[h.P0=1]="PARTIAL";h[h.um=2]="COMPLETE";h[h.Hk=3]="ERROR";})(b.qm || (b.qm={}));a=(function(h){function m(p,q,u,t,w,v,y,x){var z;z=h.call(this,p,t) || this;z.bL=q;z.label=u;z.properties=t;z.v=v;z.config=y;z.console=x;z.events=new l.EventEmitter();z.Ya=d.Jg.Du;z.hE=0;z.vR=-Infinity;z.Hd=[];z.Owa=0;z.Ycb(w);z.Ya=d.Jg.Du;z.cf=p.xU(!!t.Ke,t.Kh);z.tE=p.location || t.location;z.SR=p.Ub || t.Rc;z.Kh=t.Kh;z.YWa(q,u,t);return z;}c.__extends(m,h);Object.defineProperties(m.prototype,{Ke:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{state:{get:function(){return this.Ya;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{I9:{get:function(){return this.Ya >= d.Jg.OPENED && this.Ya < d.Jg.um;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{active:{get:function(){return this.Ya >= d.Jg.mP && this.Ya < d.Jg.um;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{awa:{get:function(){return this.Ya === d.Jg.xl;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{complete:{get:function(){return this.Ya === d.Jg.um;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{aborted:{get:function(){return this.Ya === d.Jg.ps;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{url:{get:function(){return this.cf;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{status:{get:function(){var p;return (null === (p=this.xM) || void 0 === p?void 0:p.status) || this.Hd[0].status;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{rg:{get:function(){var p;return null === (p=this.xM) || void 0 === p?void 0:p.rg;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{yB:{get:function(){var p;return null === (p=this.xM) || void 0 === p?void 0:p.yB;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{$i:{get:function(){var p;return null === (p=this.xM) || void 0 === p?void 0:p.$i;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{bytesReceived:{get:function(){return this.hE;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{qh:{get:function(){return this.vR;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{location:{get:function(){return this.tE;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Rc:{get:function(){return this.SR;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{wdb:{get:function(){return this.properties.YH;},enumerable:!1,configurable:!0}});m.prototype.Oxa=function(p,q){this.tE=p;this.SR=q;};m.prototype.Uza=function(p){var q,u,t;if(this.complete)return 0;q=this.stream;u=q.la;if(!q.url)return (this.console.warn("updateurl, missing url for streamId:",q.Pb,"mediaRequest:",this,"stream:",q),1);t=q.xU(this.Ke,this.Kh);if(this.url !== t || p)if((u.Oxa(this,q.location,q.Ub),!this.FO(t)))return (this.console.warn("swapUrl failed: ",this.yB),2);return 0;};m.prototype.gyb=function(p){(0,k.assert)(0 >= this.xa,"AseRequest.changeStream is only supported for open range requests");(0,k.assert)(1 <= this.Hd.length && void 0 !== this.Hd[0].rg,"AseRequest.changeStream only supported when open range request has failed");(0,k.assert)(this.stream.track === p.track,"AseStream.changeStream cannot change stream to a different track");this.H3b(p);this.Uza();};m.prototype.Mfb=function(){var u;for(var p,q;this.Owa < this.Hd.length && (q=this.Hd[this.Owa]).response;){u=++this.Owa === this.Hd.length;null === (p=this.Pva) || void 0 === p?void 0:p.call(this,q.response,u);q.QN();}};m.prototype.YWa=function(p,q,u){var t,w;if(0 < u.xa)u.SG && u.xa > u.SG?this.q_b(p,q,u,u.SG,u):this.yH(p,q,u,u);else if(this.Sua())this.yH(p,q,u,u);else {t=u.offset;w=this.mediaType === g.u.Ga?this.config.YRb:this.config.ORb;this.config.NXa && (u=c.__assign(c.__assign({},u),{responseType:0}));this.yH(p,q,u,{offset:t,xa:w});}};m.prototype.q_b=function(p,q,u,t,w){var v,y;t=Math.ceil(w.xa / t);v=w.offset;for(w=w.xa;0 < w;--t){y=Math.ceil(w / t);this.yH(p,q,u,{offset:v,xa:y});v+=y;w-=y;}};m.prototype.Sua=function(){return !!this.bL.Feb;};m.prototype.yH=function(p,q,u,t){p=new d.XJa(this.stream,this.cf,p,q,u,t,this,this.v,this.config,this.console);this.Hd.push(p);this.state >= d.Jg.OPENED && (p.open(),this.state >= d.Jg.um && (this.Ya=d.Jg.OPENED,this.VT(this)));};m.prototype.Tr=function(p){var q;q=this.Hd.indexOf(p);-1 !== q && (this.Hd.splice(q,1),0 < this.jc && ((0,k.assert)(this.jc >= p.xa),this.jc-=p.xa));};m.prototype.MZa=function(p,q,u,t){this.yH(p,q,u,t);this.jc+=t.xa;};m.prototype.open=function(){var p;null === (p=this.vha) || void 0 === p?void 0:p.uWb();if(p=this.Hd.every(function(q){return q.open();}))(this.Ya=d.Jg.OPENED,this.VT(this));return p;};m.prototype.abort=function(){var p,q;p=this.active;q=this.I9;this.Ya=d.Jg.ps;this.Hd.forEach(function(u){return u.abort();});this.EL(this,p,q);return !0;};m.prototype.$e=function(){this.Hd.forEach(function(p){return p.$e();});};m.prototype.FO=function(p){this.cf=p;return this.Hd.map(function(q){return q.FO(p);}).some(function(q){return q;});};m.prototype.mMb=function(){(0,k.assert)(0 < this.Hd.length);return this.Hd[0].response;};m.prototype.getResponseHeader=function(p,q){var u;u=null;this.Hd.some(function(t){return !!(u=t.getResponseHeader(p,q));});return u;};m.prototype.getAllResponseHeaders=function(p){var q;q=null;this.Hd.some(function(u){return !!(q=u.getAllResponseHeaders(p));});return q;};m.prototype.Wi=function(){return 1 === this.Hd.length?this.Hd[0].Wi():"(" + this.Hd.map(function(p){return p.Wi();}).join(", ") + ")";};m.prototype.mua=function(){};m.prototype.mN=function(p){var q;this.state > d.Jg.OPENED || (this.Ya=d.Jg.mP,this.vR=Math.max(this.vR,p.qh),null === (q=this.vha) || void 0 === q?void 0:q.oWb(),this.N5(this));};m.prototype.lN=function(p){var q,u;0 >= this.xa && !this.Sua() && (u=this.p_b(p,this.offset + p.xa));this.state <= d.Jg.mP && (this.kua(p,0),this.Ya=d.Jg.xl,null === (q=this.vha) || void 0 === q?void 0:q.kWb(),this.Mfb(),this.UT(this));void 0 !== u && this.EW(p,u,this.xa);};m.prototype.p_b=function(p,q){var u,t;u=p.TJb();if(void 0 !== u){t=u - q;0 < t && this.yH(p.bL,this.label,this.properties,{offset:q,xa:t});return u;}this.mNb(p);};m.prototype.mNb=function(p){this.GWa=(this.GWa || 0) + 1;1 >= this.GWa && (this.Tr(p),p.abort(),this.YWa(p.bL,this.label,this.properties));};m.prototype.nN=function(p,q){this.kua(p,q);this.WT(this,q);};m.prototype.Mr=function(p,q){var u,t,w,v,y;if(!(this.state > d.Jg.xl)){if(this.config.NXa && this.mediaType !== g.u.Ga && this.DPb && p === this.Hd[0] && p.response instanceof ArrayBuffer){t=f.kJ.PZa(new DataView(p.response));if(t){w=t.qza;v=t.x_a;t=t.Wwa;if(void 0 === v || void 0 === t)(v=void 0 === v?this.mediaType === g.u.X?this.stream.Aa.dd(this.Zp).ja:0:0,v=new g.L(w + v,this.stream.Zp));else {t=this.stream.Aa.wo(t);v=new g.L(w + v,this.stream.Zp);y=this.Md;!t.equal(this.Md) && this.console.error("fragment times mismatch:",("decode ").concat(w),("presentation ").concat(v.qb()),("duration ").concat(t.qb()),("expected ").concat(y.qb()));}}}this.kua(p,q);this.Mfb();this.Hd.every(function(x){return x.complete;})?(this.Ya=d.Jg.um,null === (u=this.vha) || void 0 === u?void 0:u.fN(),this.PF(this,q),this.$e()):this.WT(this,q);}};m.prototype.lua=function(){this.J_a(this);};m.prototype.cH=function(p){var q;this.console.warn("AseRequest.onrequesterror:",this.toString(),"sub request:",p.toString());q=p.status;(416 === q || 206 === q) && 0 >= this.xa && !this.Sua()?(p.abort(),p.$e(),this.Tr(p),this.yH(p.bL,this.label,this.properties,{offset:p.offset,xa:Math.max(Math.ceil(p.xa / 2),1)})):(this.xM=p,this.M5(this));};m.prototype.DW=function(){var p,q;if(this.state !== d.Jg.ps){this.console.warn("AseRequest.onrequestaborted:",this.toString());p=this.active;q=this.I9;this.Ya=d.Jg.ps;this.EL(this,p,q);}};m.prototype.EW=function(p,q,u){this.jc+=q - u;p={type:"updatedBytes",UUb:q,pua:u};this.events.emit(p.type,p);this.Pna(this,q,u);};m.prototype.kua=function(p,q){this.xM === p && (this.xM=void 0);this.vR=Math.max(this.vR,p.qh);this.hE+=q;};m.prototype.toString=function(){return "ID: " + this.Wi();};return m;})(a.QI);b.HZ=a;(0,r.Ek)(n.JBa,a,!1);},19616:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.uca=void 0;c=a(5163);l=a(42866);f=a(12043);k=a(87034);d=a(4399);g=a(62558);n=a(57578);h=a(35195);r=(function(){function m(p,q,u){var t,w,v;this.W=q;this.T=u;this.ORa=l.L.Ia;this.Pq=p.track;this.z2=p.xw;this.Gr=p.Gr;this.Tqb=this.mediaType !== k.u.Ga?this.OV.ki:!1;this.Jsb=p.z6b;this.Xa=void 0;this.oE=p.Hh;q=p.Up;this.Up=void 0 === q?!0:q;this.R4=p.R4;this.TJ=void 0;this.nRa=this.Dga=0;this.url=this.VX=this.Ub=this.Fo=this.Mra=this.location=this.gb=this.jb=void 0;this.qy=!1;this.ira=this.Nd=void 0;this.bR=new Set();p=this.W;!this.aa && (q=p && "object" === typeof p.r$ && p.r$[this.profile],"object" === typeof q && (q=q[this.bitrate])) && (this.ORa=new l.L(q.ticks,q.timescale));this.yrb=0 <= (null === (t=p.fUa) || void 0 === t?void 0:t.indexOf(this.profile));if((null === (w=p.tN) || void 0 === w?0:w.jgc) && this.mediaType === k.u.X && (t=this.Gr,0 < (null === (v=t.PH) || void 0 === v?void 0:v.length))){v=t.PH.splice(0,t.PH.length);t=new Uint8Array(v.length);for(w=0;w < v.length;w++){t[w]=v[w].xb;}this.PH=t;}}Object.defineProperties(m.prototype,{Gh:{get:function(){return this.aa?!!this.oE:!!this.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{l4a:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{la:{get:function(){return this.Pq.la;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{J:{get:function(){return this.la.J;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{P:{get:function(){return this.Pq.P;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.Pq.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Aa:{get:function(){return this.Pq.Aa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{N:{get:function(){return this.Pq.N;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Zp:{get:function(){return this.Pq.Zp;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{trackId:{get:function(){return this.Pq.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{track:{get:function(){return this.Pq;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{OV:{get:function(){if(this.mediaType !== k.u.Ga)return this.Gr;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{xw:{get:function(){return this.z2;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Pb:{get:function(){var p;return this.mediaType === k.u.Ga?null !== (p=this.Jsb) && void 0 !== p?p:"":this.OV.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{id:{get:function(){return this.Pb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ki:{get:function(){return this.Tqb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{aa:{get:function(){return this.track.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{bitrate:{get:function(){return this.mediaType === k.u.Ga?0:this.OV.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{xb:{get:function(){var p;if(this.m5)return this.m5;if(this.mediaType === k.u.X)return null !== (p=this.Gr.vmaf) && void 0 !== p?p:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{v1b:{get:function(){if(this.mediaType === k.u.X)return this.Gr.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{BX:{get:function(){if(this.mediaType === k.u.X)return this.Gr.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{profile:{get:function(){return this.mediaType === k.u.Ga?"timedtext":this.OV.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Fd:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zk:{get:function(){if(this.mediaType === k.u.X)return this.Gr.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Mf:{get:function(){return this.ORa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{$t:{get:function(){return this.aa?this.Tl().$t:l.L.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{E5:{get:function(){return this.track.E5;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{S6:{get:function(){return this.yrb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ha:{get:function(){return this.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Jr:{get:function(){return this.Xa && this.Xa.Jr;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Mp:{get:function(){return void 0 !== this.TJ?this.TJ:this.wQb();},set:function(p){this.TJ=p;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ar:{get:function(){return this.Up && !this.qy;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Cy:{get:function(){return this.Ar && !1 !== this.Mp;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Hh:{get:function(){return this.oE;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{PPb:{get:function(){return this.mediaType === k.u.$ || this.mediaType === k.u.X && (-1 !== this.Fd.indexOf("h264bpl") || -1 !== this.Fd.indexOf("h264mpl") || -1 !== this.Fd.indexOf("hevc") && -1 === this.Fd.indexOf("do"));},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{GPb:{get:function(){(0,g.assert)(!!this.Ha,"Initial header should have been received already");return this.la.Gqa() && -1 < this.Fd.indexOf("h264mpl") && void 0 === this.Ha.Mia;},enumerable:!1,configurable:!0}});m.prototype.ZF=function(){return this.la.ZF(this.mediaType,this.Pb);};m.prototype.IKb=function(){var p;p=this.ZF();return p && p.stream.Ha;};m.prototype.CI=function(p,q){return this.la.CI(this,p,q);};m.prototype.Rta=function(){this.track.Rta();};m.prototype.B9=function(){this.track.B9();};m.prototype.Qta=function(p,q,u,t,w,v,y,x){this.aa || t && void 0 !== t.cs && (this.track.Gh || void 0 !== t.ef && t.ef.length) && void 0 !== t.offset && void 0 !== t.sizes && t.sizes.length?(!this.aa && this.W.Hm && this.Mf && 0 === t.cs && (t.cs+=this.Mf.dd(t.N).ja),this.Gh || (this.oE=p,this.track.Qta(this,q,u,t,v,x),this.aa || (this.Xa=new d.DOa(this.z2,this.track.Lo,t,w,v,y,this.P)),this.track.mWb(this))):this.aa || (t?this.T.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== t.cs) + "," + this.track.Gh + "," + this.track.uva + "," + (void 0 !== t.ef) + "," + !(!t.ef || !t.ef.length) + "," + (void 0 !== t.offset) + "," + (void 0 !== t.sizes) + "," + !(!t.sizes || !t.sizes.length)):this.T.error("AseStream.onHeaderReceived: fragmentsData was undefined."));};m.prototype.Szb=function(p){this.Gh || (this.track.Tzb(p.track),this.Xa=p.Ha,this.oE=p.Hh);};m.prototype.jo=function(p){return new h.xq(this,void 0,this.Ha.get(p));};m.prototype.P0a=function(p){var q;q=this.jo(p.index);p.Ja && (q.Bi(p.Ja),q.mO(p.yw));return q;};m.prototype.h8b=function(p,q){this.Dga=p;this.nRa=q;};m.prototype.Tyb=function(){this.gb=this.jb=this.Ub=this.location=this.url=void 0;};m.prototype.Zm=function(){switch(this.mediaType){case k.u.$:return this.sJb();case k.u.X:return this.cNb();case k.u.Ga:return this.LMb();default:(0,g.assert)(!1,("Unsupported mediaType: ").concat(this.mediaType));}};m.prototype.xU=function(p,q,u){var t,w,v;return this.aa?(u=null === (t=u || this.url) || void 0 === t?void 0:t.split("?"),t=null !== (w=null === u || void 0 === u?void 0:u[0]) && void 0 !== w?w:"",w=null !== (v=null === u || void 0 === u?void 0:u[1]) && void 0 !== v?v:"",p?p=this.Tl().fPb:(void 0 === q && this.T.error("AseStream.getRequestUrl: liveSegmentId undefined"),(0,g.assert)(void 0 !== q,"liveSegmentId is required for live media requests"),p=this.Tl().media.replace("$Number$",q.toString())),t + "/" + p + (w?"?" + w:"")):u || this.url;};m.prototype.Tl=function(){var p,q,u,t,w,v,y;p=this;(0,g.assert)(this.aa && this.la.Y.Jh,"liveMetadata missing from manifest");q=this.la.Y.Jh;q=q.OX[q.V4[this.Pb]];u=new Date(q.y3).getTime();t=Math.max(0,this.la.ju - u - this.W.f8);w=Number(q.eY);v=new l.L(Number(q.C$a),q.N);y=new l.L(q.duration,q.N);return c.__assign(c.__assign({},q),{vja:u,Dla:t,eY:w,$t:v,Md:y,fU:function(x){var z,A,B,C;z=y.dd(p.N);if(p.W.e8 && p.mediaType === k.u.$){A=p.E5.dd(p.N);B=p.Aa.dd(p.Zp);C=Math.ceil(z.wo(x - w).qa(A).jh(B));z=Math.ceil(z.wo(x - w + 1).qa(A).jh(B));C=B.wo(C).add(A).dd(p.N);A=B.wo(z).add(A).dd(p.N);}else (C=z.wo(x - w),A=C.add(z));return {Ka:C,Ua:A};}});};m.prototype.BXb=function(p){var q,u,t,w,v,y,x,z,A;if(p){p.split(";").some(function(B){if(0 === B.indexOf("sc="))return (u=B.slice(3),!0);});if(u && (p=this.W.vDb,this.la.NRb() && (p=Math.max(p,this.W.wDb)),!(f.platform.time.wa() - this.la.A5a < p))){(0,g.assert)(null === (q=this.la.Y.Ox) || void 0 === q?void 0:q.Sg,"Missing pbcid for OC side channel message decryption.");q=new n.qga(this.la.Y.Ox.Sg).decrypt(u,!0);try{t=JSON.parse(q);w=t.time;v=Number(w);isNaN(v)?this.T.error(("Invalid live server time in OC side channel message. time:").concat(w)):this.la.ju=v;y=t["live-msg-start"];x=t["live-msg-end"];void 0 !== y && isNaN(new Date(y).getTime()) || void 0 !== x && isNaN(new Date(x).getTime())?this.T.error("Invalid live event times in OC side channel message. " + ("live-msg-start:").concat(y,", live-msg-end:").concat(x)):this.la.mgb(y,x);z=t["encoder-tag"];A=t["encoder-region"];z && A || this.T.error("Invalid encoder info in OC side channel message. " + ("encoder-tag:").concat(z,", encoder-region:").concat(A));this.la.r8b(this.mediaType,{sB:z,rB:A});this.la.A5a=f.platform.time.wa();}catch(B){this.T.error("Failed to parse decrypted OC side channel message. " + ("decryptedMessage:").concat(q));}}}};m.prototype.s$=function(p){return !this.bR.has(p);};m.prototype.Gtb=function(p){this.bR.has(p)?this.T.trace("segment already blocked: " + p):(this.T.trace("addBlockedLiveSegment: " + p),this.bR.add(p));};m.prototype.E0b=function(p){this.bR.has(p) && (this.T.trace("removeBlockedSegment: " + p),this.bR.delete(p));};m.prototype.toJSON=function(){return {movieId:this.P,mediaType:this.mediaType,streamId:this.Pb,bitrate:this.bitrate,streamIndex:this.xw,isAvailable:this.Up,fittable:this.Mp,vmaf:this.xb,resolutionWidth:this.v1b,resolutionHeight:this.BX};};m.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Pb + ":" + this.bitrate;};m.prototype.wQb=function(){var p,q,u,t,w,v,y;if(!this.Gh)return !0;if(this.track.Spa >= this.bitrate)return this.TJ=!0;if(this.track.m6a <= this.bitrate)return this.TJ=!1;(y=this.aa?this.W.E8 * this.bitrate / 8 * (this.W.mC + (null !== (q=null === (p=this.la) || void 0 === p?void 0:p.aI.G) && void 0 !== q?q:0)) < this.Dga:this.Xa.vxb(this.W.mC,this.Dga,null !== (t=null === (u=this.la) || void 0 === u?void 0:u.aI.G) && void 0 !== t?t:0,null !== (v=null === (w=this.la) || void 0 === w?void 0:w.aI.xa) && void 0 !== v?v:0,this.nRa))?this.track.uva && !this.ki && this.track.Vl || (this.track.Spa=this.bitrate):this.track.m6a=this.bitrate;return this.TJ=y;};m.prototype.cNb=function(){return c.__assign(c.__assign({},this.track.Zm()),{profile:this.Fd});};m.prototype.sJb=function(){return c.__assign(c.__assign({},this.track.Zm()),{profile:this.Fd,bitrate:this.bitrate});};m.prototype.LMb=function(){return c.__assign(c.__assign({},this.track.Zm()),{profile:this.Fd});};return m;})();b.uca=r;},69028:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.QI=void 0;a(62558);r=(function(){function c(l,f){c.uqa(this,l,f);}c.uqa=function(l,f,k){l.Jd=f;l.jc=k.xa;l.Zb=k.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.Jd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{xa:{get:function(){return this.jc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Zb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{la:{get:function(){return this.Jd.la;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{P:{get:function(){return this.Jd.P;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.Jd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Pb:{get:function(){return this.Jd.Pb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.Jd.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.Jd.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{N:{get:function(){return this.Jd.N;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Zp:{get:function(){return this.Jd.Zp;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Aa:{get:function(){return this.Jd.Aa;},enumerable:!1,configurable:!0}});c.prototype.H3b=function(l){this.Jd=l;};return c;})();b.QI=r;},46892:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Qz=void 0;r=a(55011);a=a(551);c=(function(){function l(f,k){this.Nn=f;this.pA=k.sb;this.Ls=k.yb;}Object.defineProperties(l.prototype,{sb:{get:function(){return void 0 !== this.pA?this.pA:this.Nn.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{yb:{get:function(){return void 0 !== this.Ls?this.Ls:this.Nn.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{N:{get:function(){return this.Nn.N;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{vn:{get:function(){return this.Nn.vn;},enumerable:!1,configurable:!0}});l.prototype.c3b=function(f){this.pA=f;};l.prototype.kO=function(f){this.Ls=f;};l.prototype.W3=function(){this.Ls=void 0;};return l;})();b.Qz=c;(0,r.Ek)(a.Lw,c);},551:function(r,b,a){var f;function c(k,d){return void 0 === k?void 0:0 === k?f.L.Ia:new f.L(k,d);}function l(k,d){return void 0 === k || void 0 === d?void 0:k + d;}Object.defineProperties(b,{__esModule:{value:!0}});b.Lw=void 0;f=a(42866);r=(function(){function k(){}Object.defineProperties(k.prototype,{nB:{get:function(){var d,g;d=this.yb;g=this.sb;return (void 0 === d || void 0 === g?void 0:d - g) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xYb:{get:function(){return l(this.sb,this.vn);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{tYb:{get:function(){return l(this.yb,this.vn);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Md:{get:function(){return c(this.nB,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ka:{get:function(){return c(this.sb,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ua:{get:function(){return c(this.yb,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Cb:{get:function(){return c(this.xYb,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Hb:{get:function(){return c(this.tYb,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Kva:{get:function(){return c(this.vn,this.N);},enumerable:!1,configurable:!0}});return k;})();b.Lw=r;},78128:function(r,b,a){var c,l,f,k,d,g,n,h,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.RI=void 0;c=a(5163);l=a(42866);f=a(87034);k=a(26218);d=a(62558);g=a(97810);n=a(61765);h=a(73098);m=a(92141);p=a(19616);r=(function(){function q(u,t,w){this.W=t;this.T=w;this.Zu=new g.fOa();this.p2=0;this.qo=u.qo;this.la=u.la;this.mediaType=u.mediaType;this.AI=u.AI;this.QE=u.QE;this.mediaType === f.u.X?(t=this.qo,w=c.__read(t.streams,1)[0],this.usb=new m.DJ({w:t.maxWidth,sr:t.maxHeight},{w:t.U9a,sr:t.V9a}),void 0 !== w.framerate_value && void 0 !== w.framerate_scale && (this.$ga=h.kA.from({Tt:w.framerate_value,cr:w.framerate_scale}),this.yha=this.$ga.Aa()),void 0 !== t.Dsa && void 0 !== t.Csa && (this.grb=h.kA.from({Tt:t.Dsa,cr:t.Csa}))):this.mediaType === f.u.$ && (this.Mpb=this.qo.streams[0].channels,this.xsb=48E3);this.nb=(this.UJ=this.yha) && this.UJ.N;this.mediaType === f.u.Ga && (this.nb=1E3);this.eha=this.KRa=!1;this.Spa=-Infinity;this.m6a=Infinity;u=q.Zpb(this,u.Lp);t=u.maxBitrate;w=u.te;this.Vl=u.Vl;this.maxBitrate=t;this.te=w;this.Isb=w.reduce(function(v,y){v[y.Pb]=y;return v;},{});!1;}q.Zpb=function(u,t){var w,v,y,x,z,A,B,C;w=u.W;v=u.mediaType === f.u.X;y=!1;x=0;z=[];if(u.mediaType === f.u.$ || u.mediaType === f.u.X){A=u.qo;B=A.streams.some(function(D){return D.ki;});A.streams.forEach(function(D,E){var G,F,J;G=D.bitrate;F=!0;if(v){J=D.ki;F=t?!0:J === B;y=y || J;}F && G > x && (x=G);D=new p.uca({Gr:D,xw:E,track:u,Up:F},w,u.T);z.push(D);});}else if(u.mediaType === f.u.Ga){C=u.qo;A=C.downloadableIds["imsc1.1"];if(C=C.ttDownloadables["imsc1.1"])(A=new p.uca({Gr:C,xw:0,track:u,Up:!0,z6b:A,Hh:[]},w,u.T),z.push(A),u.Zu.set(A));}return {Vl:y,maxBitrate:x,te:z};};Object.defineProperties(q.prototype,{jW:{get:function(){return !this.Gh && 0 === this.p2;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Gh:{get:function(){var u;return this.mediaType === f.u.Ga?!0:this.aa?!(null === (u=this.Zu.value) || void 0 === u || !u.Gh):!!this.Lo && !!this.Zu.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{uva:{get:function(){return this.KRa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{P:{get:function(){return String(this.la.P);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{trackId:{get:function(){return this.mediaType === f.u.Ga?this.qo.id:this.qo.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{vo:{get:function(){return this.trb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Aa:{get:function(){return this.UJ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{frameRate:{get:function(){return this.$ga;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{t8:{get:function(){return this.grb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{tk:{get:function(){return this.usb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{channels:{get:function(){return this.Mpb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sampleRate:{get:function(){return this.xsb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{profile:{get:function(){return this.mediaType === f.u.Ga?this.qo.rawTrackType:this.qo.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{cI:{get:function(){return this.mediaType === f.u.Ga?this.qo.rawTrackType:this.qo.cI;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{N:{get:function(){return this.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Zp:{get:function(){return this.srb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Lo:{get:function(){return this.Ic;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{rG:{get:function(){return this.Zu.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Cna:{get:function(){return this.Zu;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{WV:{get:function(){return this.te.some(function(u){var t;return 1 < ((null === (t=u.Hh) || void 0 === t?void 0:t.length) || 0);});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{aa:{get:function(){return this.la.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{E5:{get:function(){return this.xqb || l.L.Ia;},set:function(u){this.xqb=u;},enumerable:!1,configurable:!0}});q.prototype.Op=function(u){return this.iG()[u];};q.prototype.iG=function(){return this.Isb;};q.prototype.equals=function(u){return !!u && this.P === u.P && this.mediaType === u.mediaType && this.trackId === u.trackId;};q.prototype.Rta=function(){this.p2++;};q.prototype.B9=function(){0 < this.p2 && this.p2--;};q.prototype.Qta=function(u,t,w,v,y,x){if(this.aa || v && void 0 !== v.cs && (this.Gh || void 0 !== v.ef && v.ef.length)){if(u.ki || !u.track.Vl)this.KRa=!0;if(this.Gh)!this.eha && !this.aa && v.ef && v.ef.length > this.Lo.length && (this.Ic=new k.ega(this.mediaType,this.Aa,v,y),this.Zu.Abb(),this.Spa=-Infinity,this.eha=!0);else {this.lSa(t);this.trb=x;void 0 !== w && this.mediaType === f.u.X && this.W.c2b && (w=h.kA.R_a(w).Aa());if(w=w || this.yha)(this.kSa(w || this.yha),void 0 === this.N && this.mSa(w.N));this.aa || (this.Ic=new k.ega(this.mediaType,this.Aa,v,y));if(u.ki || !u.track.Vl)this.eha=!0;}}else this.aa || this.T && this.T.error("AseTrack.onHeaderReceived with missing fragments data");};q.prototype.mWb=function(u){void 0 === this.Zu.value && this.Zu.set(u);};q.prototype.Tzb=function(u){this.Gh || (this.mSa(u.N),this.lSa(u.Zp),this.kSa(u.Aa),this.Ic=u.Lo,u.Cna.value?this.Zu.set(u.Cna.value):this.Zu.Abb());};q.prototype.jWb=function(u){var t,w;t=u.qza;u=u.x_a;if(this.mediaType !== f.u.$ || void 0 === u)return !1;w=this.la.ZRb().dd(this.Zp);t=new l.L(t + u,this.Zp).qa(w);u=Math.floor(t.jh(this.Aa));this.E5=t.qa(this.Aa.wo(u));return !0;};q.prototype.ut=function(u,t,w,v){var y;(0,d.assert)(this.rG);y=this.rG;this.aa && (t=Math.min(t,this.DB().G));return (0,n.ut)(this.mediaType,u,y,t,w,v);};q.prototype.LF=function(u,t,w){var v,y,x,z,A;(0,d.assert)(this.rG);y=this.rG;if(this.aa){x=this.la.Y.Jh;z=null === x || void 0 === x?void 0:x.p5;A=void 0;if(z)A=new Date(z).getTime();else if(z=this.la.Era.endTime)(A=new Date(z).getTime() + this.W.MRb,t=Infinity);Infinity === t && void 0 !== A && (t=y.Tl().vja,z=null !== (v=null === x || void 0 === x?void 0:x.o5) && void 0 !== v?v:0,t=A - t + z,0 > t && this.T.error("AseTrack.findLastFragment negative pts.","liveMetadata:",JSON.stringify(x),"eventEndTime:",this.la.Era.endTime),(0,d.assert)(0 <= t));}return (0,n.LF)(this.mediaType,u,y,t,w);};q.prototype.Zm=function(){switch(this.mediaType){case f.u.$:return ((0,d.assert)(this.mediaType === f.u.$),(0,d.assert)(void 0 !== this.channels),(0,d.assert)(void 0 !== this.sampleRate),{channels:this.channels,profile:this.profile,cI:this.cI,bitrate:this.te[this.te.length - 1].bitrate,sampleRate:this.sampleRate,vo:this.vo});case f.u.X:return ((0,d.assert)(this.mediaType === f.u.X),(0,d.assert)(void 0 !== this.t8),(0,d.assert)(void 0 !== this.tk),{J:this.la.J,Vl:this.Vl,profile:this.profile,Igc:this.t8.Tt,Hgc:this.t8.cr,cI:this.cI,tk:this.tk,maxWidth:this.tk.tk.w,maxHeight:this.tk.tk.sr,U9a:this.tk.v9a.w,V9a:this.tk.v9a.sr,vo:this.vo});case f.u.Ga:return ((0,d.assert)(this.mediaType === f.u.Ga),{profile:this.profile,cI:this.cI});default:(0,d.assert)(!1,("Unsupported mediaType: ").concat(this.mediaType));}};q.prototype.toJSON=function(){return {movieId:this.P,mediaType:this.mediaType,trackId:this.trackId};};q.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};q.prototype.DB=function(){(0,d.assert)(this.aa,"Unexpected call to getLiveEdgeTargetTimestamp. Not a live track.");return l.L.Na(Math.max(0,this.D0a() - this.W.KG));};q.prototype.n1a=function(u){(0,d.assert)(this.aa,"Unexpected call to getLiveModeForContentTimestamp. Not a live track.");return this.D0a() - u.G > 1E3 * this.la.al.$Rb?"DVR":"LIVE";};q.prototype.D0a=function(){(0,d.assert)(this.aa,"Unexpected call to getCushionedLiveEdgeMs. Not a live track.");return (this.rG || this.te[0]).Tl().Dla;};q.prototype.mSa=function(u){this.nb=u;};q.prototype.lSa=function(u){this.srb=u;};q.prototype.kSa=function(u){new h.kA(u.N,u.ja).Aa();this.UJ=u;this.mediaType === f.u.X && (this.$ga=h.kA.R_a(u));};return q;})();b.RI=r;},83350:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.vca=void 0;c=a(5163);a(36418);a(12043);a(62558);r=a(55011);l=a(35195);a=(function(f){function k(d,g,n,h,m,p,q,u){var t;t=c.__assign(c.__assign({},n),{offset:n.offset,xa:n.cta + 8,SG:void 0,responseType:0});h=f.call(this,d,g,"moof",t,h,m,p,q) || this;h.Ty=!1;l.xq.Db(h,d,m,n,u);h.FTb=h.yxb(n,t.xa);h.MZa(g,"mdat",n,h.FTb);return h;}c.__extends(k,f);k.prototype.yxb=function(d,g){var n;g={offset:d.offset + g,xa:d.xa - g};if(this.Ja){if(0 < this.Ja.start){n=this.p_a(this.Ja.start);n && (g.offset=d.offset + n,g.xa=d.xa - n);}this.Ja.end < this.vt && (n=this.p_a(this.Ja.end)) && (g.xa-=d.xa - n);}return g;};k.prototype.toString=function(){return "ID: " + this.Wi() + ":" + f.prototype.toString.call(this);};return k;})(a(64406).HZ);b.vca=a;(0,r.Ek)(l.xq,a);},10391:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.QBa=void 0;c=a(42866);r=(function(){function l(f){this.config=f;}l.prototype.WZb=function(f){var k,d,g;k=this.config;d=[];g=[];f.forEach(function(q,u){void 0 === q.xb?g.push(u):d.push(u);});if(0 !== g.length)for(var n=-1,h=-1,m=function(q){var u,t,w,v,y,x;u=g[q];t=f[u];if(0 === q || u !== g[q - 1] + 1)(n=d[(0,c.dja)(d,function(z){return z < u;})] || -1,h=d[(0,c.Im)(d,function(z){return z > u;})] || -1);w=0;v=k.xTb;q=0;y=k.yTb;-1 < h && (v=f[h].bitrate,y=f[h].xb);-1 < n && (q=f[n].xb,w=f[n].bitrate);v=Math.log(v);w=0 === w?0:Math.log(w);x=Math.log(t.bitrate);t.m5=Math.max(0,Math.min(110,Math.round((q * (v - x) + y * (x - w)) / (v - w) * 100) / 100));},p=0;p < g.length;p++){m(p);}};return l;})();b.QBa=r;},31549:function(r,b,a){var f,k,d,g,n,h,m;function c(p){return p && "function" === typeof p.Ag?!0:!1;}function l(p){return c(p) && (p=typeof p.OPb,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.Djb=b.$Gb=b.NPb=b.uib=b.AsyncIterator=void 0;f=a(5163);k=a(49730);g=(function(){function p(q){var u;u=this;this.Lqb=q;this.sR=!1;this.jsb=function(t){return u.OZb(t);};this.TWa();}p.J7=function(q,u){function t(){var w;w=q.next();w.then(function(v){l(q) && q.OPb || u(v);});w.then(function(v){return !v.done && t();});}t();};Object.defineProperties(p.prototype,{Ay:{get:function(){return this.sR;},enumerable:!1,configurable:!0}});p.qKb=function(){return new n([]);};p.opa=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(p.prototype,{oM:{get:function(){return this.Js || !1;},enumerable:!1,configurable:!0}});p.prototype.Ag=function(){this.cancel();};p.prototype.cancel=function(){this.GRa();this.Js=!0;return this.Cga;};p.prototype.next=function(){return this.Js?this.Cga:Promise.race([this.Cga,this.Lqb()]).then(this.jsb);};p.prototype.OZb=function(q){q.done && (this.sR=!0,this.Ag());this.oM || (this.GRa(),this.TWa());return q;};p.prototype.TWa=function(){var q;q=this;this.Cga=new Promise(function(u){q.GRa=function(){u({done:!0});};});};return p;})();b.AsyncIterator=g;n=(function(p){function q(u){var t;t=p.call(this,function(){return t.wLb();}) || this;t.XE=u;t.index=0;return t;}f.__extends(q,p);q.prototype.Ag=function(){c(this.XE) && this.XE.Ag();p.prototype.Ag.call(this);};q.prototype.wLb=function(){return this.XE.length > this.index?Promise.resolve({value:this.XE[this.index++],done:!1}):Promise.resolve({done:!0});};return q;})(g);b.uib=n;b.NPb=c;b.$Gb=l;h=(function(p){function q(u,t,w){var v;v=p.call(this,function(){return v.mta();}) || this;v.console=t;v.Nk=w;v.Eva=!1;Array.isArray(u)?v.AR=new n(u):v.AR=u;return v;}f.__extends(q,p);q.prototype.QZb=function(u){var t;this.Eva=!1;t=this.console;k.K && t && t.trace("CompoundIterator: processNextOuterIterator");if(u.done)return u;u=u.value;if(this.WJ)return (c(u) && u.Ag(),g.opa());Array.isArray(u)?this.Nk=new n(u):this.Nk=u;return this.mta();};q.prototype.PZb=function(u){var t;t=this.console;k.K && t && t.trace("CompoundIterator: processNextInnerResult",this.WJ,u.done);if(!u.done || this.WJ)return u;this.Nk=void 0;return this.mta();};q.prototype.Ag=function(){var u;u=this.console;k.K && u && u.trace("CompoundIterator: dispose");this.WJ=!0;p.prototype.Ag.call(this);c(this.AR) && this.AR.Ag();c(this.Nk) && this.Nk.Ag();};q.prototype.toString=function(){return ("CompoundIterator ").concat(this.WJ," ").concat(this.AR," ").concat(this.Nk);};q.prototype.mta=function(){var u,t;u=this;t=this.console;k.K && t && t.trace("CompoundIterator: nextImpl");if(this.Nk)return (k.K && t && t.trace("CompoundIterator: getNextInner"),this.Nk.next().then(function(w){return u.PZb(w);}));this.Eva=!0;k.K && t && t.trace("CompoundIterator: getNextOuter");return this.AR.next().then(function(w){return u.QZb(w);});};return q;})(g);b.Djb=h;b.map=function(p,q,u){return new m(p,q,u);};m=(function(p){function q(u,t,w){var v;v=p.call(this,function(){return v.Dqb();}) || this;v.source=u;v.nsa=t;v.Wka=w;return v;}f.__extends(q,p);q.prototype.Ag=function(){c(this.source) && this.source.Ag();p.prototype.Ag.call(this);};q.prototype.Dqb=function(){var u,t,w;u=this.Wka;t=this.nsa;w=this.source;k.K && u && u.trace("MappedIterator: Requesting next");return w.next().then(function(v){return v.done?v:t(v.value);});};return q;})(g);b.flatten=function(p,q,u){return new h(p,q,u);};},89755:function(r,b,a){var f,k,d,g,n,h,m,p;function c(q,u){return q.done?q:{value:{value:q.value,FSa:u}};}function l(q){q.FSa();return {done:!1,value:q.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.cwb=b.uob=b.mD=void 0;f=a(5163);k=a(12043);r=a(57055);d=a(31549);g=a(49730);n=a(97810);h=a(62558);a=a(55011);m=(function(){function q(u,t){this.console=u;this.Rf=t;this.wrb=this.iR=0;this.eg=[];this.console=(0,n.Mh)(k.platform,this.console,"QueueIterator:");}Object.defineProperties(q.prototype,{aEb:{get:function(){return this.iR;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{pWa:{get:function(){var u,t,w;for(t=0;t < this.eg.length;t++){w=this.eg[t];if(!w.jV || (null === (u=w.item) || void 0 === u?0:u.done))break;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{count:{get:function(){return this.Rf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ay:{get:function(){return 0 === this.Rf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Cwa:{get:function(){var u;for(u=0;u < this.eg.length && this.eg[u].bra;u++){;}return u;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{head:{get:function(){var u;u=f.__read(this.eg,1)[0];return (u=u && u.item) && !u.done && u.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nta:{get:function(){var u;for(u=0;u < this.eg.length && this.eg[u].jV;u++){;}return u;},enumerable:!1,configurable:!0}});q.prototype.IF=function(){var u;if(void 0 === this.Rf){u=this.console;g.K && u && u.trace("QueueIterator: enqueueEnd");this.Nza(this.nta - (this.Rf || 0));}};q.prototype.Dk=function(){return this.eg.map(function(u){return u.item;});};q.prototype.LY=function(){this.yf || (this.yf=this.eg.filter(function(u){return (null === u || void 0 === u?void 0:u.item) && !u.item.done;}).map(function(u){return u.item.value;}));return this.yf;};q.prototype.Nza=function(u){var t;g.K && this.console.trace("updateCount",{Cic:this.Rf,ao:u});if(void 0 !== this.Rf){t=this.eg[this.Rf];t && this.Aqa(t);}this.Rf=void 0 === this.Rf?u:void 0 === u?u:this.Rf + u;void 0 !== this.Rf && (this.Rf=Math.max(0,this.Rf),(t=this.eg[this.Rf]) && t.BG.resolve({done:!0}));};q.prototype.enqueue=function(u){var t;g.K && this.console.trace("Enqueue called");t=this.nta;this.V3();return this.h_b(t,{value:u,done:!1}).gYa.promise;};q.prototype.ybb=function(){g.K && this.console.trace("resetEnd");this.Nza(void 0);};q.prototype.clear=function(u){var t,w,v;g.K && this.console.trace("clear");this.Iva();t=this.Cwa;w=this.eg.length - t;if(0 < w){v={index:t,Gta:w};g.K && this.console.trace("Removing items",v);this.eg.splice(t,w);this.V3();this.emit("onRemoved",v);}for(w=1;w < t;w++){this.Aqa(this.eg[w]);}this.Rf=void 0;this.Nza(u?u + t:u);this.iR && (this.iR=0);};q.prototype.getIterator=function(){var u,t;u=this;t=(0,n.Mh)(k.platform,this.console,"QueueIteratorInstance::");return new p(this,function(w){return u.C1a(w);},t);};q.prototype.$Db=function(){var u;if(0 < this.Cwa){u=f.__read(this.eg,1)[0];u.jV && (g.K && this.console.trace("dequeue",u.id),this.Iva(1),this.emit("onDequeue",u.BG.promise));}};q.prototype.remove=function(u){var t,w,v;for(t=0;t < this.eg.length;t++){w=this.eg[t];v=w.item;if(v && !v.done && v.value === u){this.eg.splice(t,1);this.Rf && this.Rf > t && this.Rf--;this.V3();g.K && this.console.trace("removed",{id:w.id});this.emit("onRemoved",{index:t,Gta:1});break;}}};q.prototype.Iva=function(u){var t;u=u || Math.min(this.Cwa,this.nta);if(0 < u){t=this.eg.splice(0,u);this.V3();this.Rf && (this.Rf-=u);g.K && this.console.trace("pruned",u);Promise.resolve().then(function(){t.forEach(function(w){w.gYa.resolve();});});this.emit("onRemoved",{index:0,Gta:u});this.iR+=u;}};q.prototype.C1a=function(u){var t;g.K && this.console.trace("getNextItemCalled",{offset:u});if(void 0 === this.count || 0 < this.count){this.L3a(u);t=this.eg[u];t.l1b.resolve();u=t.BG.promise;g.K && this.console.trace("getNextItem:return",{id:t.id});}else (g.K && this.console.trace("getNextItem:returnDone"),u=Promise.resolve({done:!0}));return u;};q.prototype.h_b=function(u,t){var w;w=!t.done && t.value;w=w && w.toJSON?w.toJSON():w;g.K && this.console.trace("Providing result",{bvb:u,item:w});this.L3a(u);u=this.eg[u];w=u.BG.resolve;w(t);return u;};q.prototype.L3a=function(u){var t;if(void 0 === this.eg[u]){t={};this.Aqa(t);this.eg[u]=t;u === this.Rf && t.BG.resolve({done:!0});g.K && this.console.trace("Item initialized",{bvb:u});}};q.prototype.ola=function(u){var t;t={};t.promise=new Promise(function(w,v){t.resolve=function(y){w(y);u && u(y);};t.reject=v;});return t;};q.prototype.Aqa=function(u){var t;t=this;u.BG=this.ola(function(w){u.item=w;u.jV=!0;g.K && t.console.trace("Item resolved",{id:u.id});});u.id && u.bra && !u.jV && (u.BG.resolve({done:!0}),g.K && this.console.warn("Overwriting requested queue item",u.id));u.gYa=this.ola();u.l1b=this.ola(function(){u.bra=!0;g.K && t.console.trace("Item requested",{id:u.id});});u.id=this.wrb++;u.bra=!1;u.jV=!1;u.item=void 0;};q.prototype.V3=function(){this.yf=void 0;};q.prototype.$na=function(){var u,t,w;u=this;t=(0,n.Mh)(k.platform,this.console,"QueueIteratorInstance::");w=new p(this,function(v){var y,x;if(0 === u.count)return d.AsyncIterator.opa();y=u.C1a(v);x=u.eg[0];return y.then(function(z){return c(z,function(){w.oM || (x === u.eg[0]?u.$Db():(0,h.assert)(!u.eg.filter(function(A){return A.BG.promise === y;}).length,"Out of order acknowledgements are not supported"));});});},t);return w;};return q;})();b.mD=m;(0,a.Ek)(r.EventEmitter,m);p=(function(q){function u(t,w,v){var y;y=q.call(this,function(){g.K && y.console.trace("Next item requested",{index:y.index});return y.P1b(y.index++);}) || this;y.parent=t;y.P1b=w;y.console=v;y.WJ=!1;y.index=0;y.mha=!1;y.S8a=function(x){var z;z=x.index;x=x.Gta;y.index >= z && (y.index=Math.max(z,y.index - x));z=y.console;g.K && z && z.trace("QueueIteratorInstance: onRemoved modified",y.index);};return y;}f.__extends(u,q);u.prototype.Ag=function(){this.console.trace("disposed");this.WJ=!0;this.$e();q.prototype.Ag.call(this);};u.prototype.next=function(){this.oM || this.zqa();return q.prototype.next.call(this);};u.prototype.cancel=function(){this.$e();return q.prototype.cancel.call(this);};u.prototype.$e=function(){this.parent.Lr("onRemoved",this.S8a);this.mha=!1;};u.prototype.zqa=function(){this.mha || (this.mha=!0,this.parent.on("onRemoved",this.S8a));};return u;})(d.AsyncIterator);b.uob=p;b.cwb=function(q){return (0,d.map)(q,l);};},62663:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.sCa=void 0;c=a(5163);l=a(31549);f=a(49730);r=(function(){function k(d,g,n){this.T=d;this.Hpb=g;this.ue=n;this.S1=0;this.i2=!1;this.ZQ=[];this.kE=void 0;f.K && d.trace(("BranchRequestIterator [").concat(this.ue,"]: created"));}Object.defineProperties(k.prototype,{RCb:{get:function(){return this.S1;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{v4:{get:function(){return this.vQa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{li:{get:function(){return this.i2;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{EXa:{get:function(){return this.Nk?this.Nk.Ay?"Complete":this.Nk.Eva?"WaitingForBranch":void 0 !== this.kE && 0 !== this.kE?("In Policy ").concat(this.ZQ[this.kE].name):"WaitingForRequest":("Uninitialized;Prior:").concat(this.hRa);},enumerable:!1,configurable:!0}});k.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,g,n,h;return c.__generator(this,function(m){switch(m.label){case 0:d=this.Nk;if(!d)return [3,6];this.kE=void 0;return [4,d.next()];case 1:(g=m.Wa(),n=0,m.label=2);case 2:if(!(n < this.ZQ.length))return [3,5];this.kE=n;h=this.ZQ[n];return [4,h.process(g)];case 3:(g=m.Wa(),m.label=4);case 4:return (n++,[3,2]);case 5:this.kE=void 0;if(g.done || this.Nk !== d)return [2,{done:!0}];this.S1++;g.value.FSa();return [2,{done:!1,value:g.value.value}];case 6:return [2,l.AsyncIterator.opa()];}});});};k.prototype.D1b=function(){this.$db();this.S_b();};k.prototype.$db=function(){var d;if(this.Nk){this.hRa=this.EXa;d=this.Nk;d && d.Ag();this.ZQ.forEach(function(g){return g.reset();});d && f.K && this.T.trace(("BranchRequestIterator [").concat(this.ue,"]: Disposing iterator that was on branch "),this.v4 && this.v4.v.id);this.i2=!1;this.kE=this.Nk=void 0;}};k.prototype.R2=function(d){this.ZQ.push(d);};k.prototype.S_b=function(){var d,g,n,h;d=this;if(!this.i2){g=this.T;n=this.Hpb;h=this.ue;this.S1=0;this.hRa=this.vQa=void 0;this.Nk=(0,l.flatten)((0,l.map)(n.rMb(),function(m){return c.__awaiter(d,void 0,void 0,function(){var p;return c.__generator(this,function(q){switch(q.label){case 0:return (this.vQa=m,this.S1=0,f.K && g.trace(("BranchRequestIterator [").concat(this.ue,"]: new branch ").concat(m.v.id)),[4,m.GB(h)]);case 1:if(p=q.Wa())return [2,{value:p}];f.K && g.error(("BranchRequestIterator [").concat(this.ue,"]: skipping branch ").concat(m.v.id));return [2,{value:[]}];}});});},g),g);this.i2=!0;}};return k;})();b.sCa=r;},76666:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p){return p === g.u.X?0:p === g.u.$?1:p === g.u.Ga?2:3;}Object.defineProperties(b,{__esModule:{value:!0}});b.Fca=b.Sz=b.Jmb=b.GI=void 0;l=a(5163);f=a(57055);k=a(12043);d=a(49730);g=a(27364);n=a(97810);h=a(62558);b.GI=function(p,q){p=c(p.mediaType);q=c(q.mediaType);return p - q;};b.Jmb={GI:b.GI};(function(p){p[p.Du=0]="CREATED";p[p.vP=1]="CANCELLED";})(m=b.Sz || (b.Sz={}));r=(function(){function p(q,u,t,w,v){this.Li=q;this.NQa=u;this.Vu=t;this.en=w;this.Ya=m.Du;this.gK=[];this.events=new f.EventEmitter();q=q.id && q.id.length?"{" + q.id + "}":"";this.console=(0,n.Mh)(k.platform,v,q);}Object.defineProperties(p.prototype,{state:{get:function(){return this.Ya;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Rd:{get:function(){return this.Ya === m.vP;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{v:{get:function(){return this.Li;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Bd:{get:function(){return this.gK;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{parent:{get:function(){var q;return null === (q=this.NQa) || void 0 === q?void 0:q.call(this,this);},enumerable:!1,configurable:!0}});p.prototype.Db=function(){return l.__awaiter(this,void 0,void 0,function(){var q,u,t;t=this;return l.__generator(this,function(){if(q=this.parent)(q.Hb && (u=q.Hb.qa(this.en),this.Cw(u,"init from parent")),q.eP.then(function(){var w;if(!t.Rd){w=t.parent;(0,h.assert)(w,"Parent is undefined after parent normalization");w.Hb && (w=w.Hb.qa(t.en),t.Cw(w,"parent normalization"));}}));return [2];});});};p.prototype.Cw=function(q,u){void 0 === u && (u="unknown");d.K && this.console.log(("AseBranch adjusting branchOffset to ").concat(q.G) + (" from ").concat(this.Vu.G,".  ").concat(u));this.Vu=q;};p.prototype.I1a=function(q){var t;if(!this.Rd)for(var u=this.parent;u;){t=u.cG(q);if(t)return t;u=u.parent;}};p.prototype.Hf=function(){this.NQa=void 0;};p.prototype.R6=function(q){return this.Bd.some(function(u){return u.mediaType === q;});};return p;})();b.Fca=r;},22494:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z;function c(A,B){return A.f5 || B === g.u.$ && A.c5 || B === g.u.X && A.d5 || A.xma;}Object.defineProperties(b,{__esModule:{value:!0}});b.qCa=b.Sz=void 0;l=a(5163);f=a(42866);k=a(42866);d=a(39139);g=a(27364);r=a(551);n=a(55011);h=a(62558);m=a(90187);p=a(1104);q=a(49730);u=a(58628);t=a(39656);w=a(35548);v=a(13326);y=a(76666);x=a(6173);(function(A){A[A.Du=0]="CREATED";A[A.vP=1]="CANCELLED";})(z=b.Sz || (b.Sz={}));a=(function(A){function B(C,D,E,G,F,J,M,L,K,P,H,I,N){D=A.call(this,G,K,M,J,D) || this;D.W=C;D.uN=E;D.e1a=F;D.bha=L;D.cR=P;D.dv=H;D.II=I;D.Lk=N;D.wy=new p.pQ();D.zwa=0;D.Mb=void 0;D.zz=void 0;D.$p=new k.Wz();D.j7=new k.Wz();D.Sta=D.ZOb();D.keb=[];return D;}l.__extends(B,A);B.prototype.BU=function(C){return this.W.L7?this.OQb:this.keb[C];};Object.defineProperties(B.prototype,{Bd:{get:function(){var C;this.cn && 0 === (null === (C=this.gK) || void 0 === C?void 0:C.length) && this.e1a && (q.K && this.console.trace("Branch getting initial tracks"),this.gK=this.e1a(this.la).sort(y.GI),q.K && this.console.trace("Branch got initial tracks:",this.gK));return this.gK;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{pK:{get:function(){return this.ai?this.nr().every(function(C){return C.Le.pK;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{ATa:{get:function(){return this.nr().some(function(C){return C.Jub;});},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{mi:{get:function(){var C;return !(null === (C=this.md) || void 0 === C || !C.mi);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{ai:{get:function(){var C;return !(null === (C=this.md) || void 0 === C || !C.ai);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{OA:{get:function(){var C,D;return null !== (D=null === (C=this.md) || void 0 === C?void 0:C.OA) && void 0 !== D?D:0;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{hf:{get:function(){var C;return !(null === (C=this.md) || void 0 === C || !C.hf);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{eP:{get:function(){return this.$p.promise.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{cn:{get:function(){var C;return !(null === (C=this.II) || void 0 === C || !C.la);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Q6:{get:function(){return !!this.Bd.length && this.Bd.every(function(C){return C.Gh;});},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{la:{get:function(){(0,h.assert)(this.II.la,"viewable should be available");return this.II.la;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{N:{get:function(){var C;return (null === (C=this.md) || void 0 === C?void 0:C.N) || this.en.N;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{sb:{get:function(){var C,D;return null !== (D=null === (C=this.md) || void 0 === C?void 0:C.sb) && void 0 !== D?D:this.en.ja;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{yb:{get:function(){var C,D;return null !== (D=null === (C=this.md) || void 0 === C?void 0:C.yb) && void 0 !== D?D:this.v.Jf.dd(this.en.N).ja;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{vn:{get:function(){var C,D;return null !== (D=null === (C=this.md) || void 0 === C?void 0:C.vn) && void 0 !== D?D:this.xd.dd(this.N).ja;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{zy:{get:function(){var C,D,E;return null !== (D=null === (C=this.md) || void 0 === C?void 0:C.zy) && void 0 !== D?D:null === (E=this.en) || void 0 === E?void 0:E.add(this.xd);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{AL:{get:function(){var C,D;D=null === (C=this.v.v.fr) || void 0 === C?void 0:C[0];return D && this.Ka?f.L.Na(Math.max(0,D[0] - this.Ka.G - this.v.se.G)):f.L.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Pr:{get:function(){var C,D;return null !== (D=null === (C=this.md) || void 0 === C?void 0:C.Pr) && void 0 !== D?D:this.v.se.add(this.xd);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{oH:{get:function(){var C,D;return null !== (D=null === (C=this.md) || void 0 === C?void 0:C.oH) && void 0 !== D?D:this.v.Jf.add(this.xd);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{a8:{get:function(){var C;return null === (C=this.md) || void 0 === C?void 0:C.a8;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{xd:{get:function(){var C,D;return null !== (D=null === (C=this.md) || void 0 === C?void 0:C.xd) && void 0 !== D?D:this.Vu;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{gs:{get:function(){var C;return (null === (C=this.md) || void 0 === C?void 0:C.gs) || this.v.Jf.qa(this.en || this.v.se);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Rk:{get:function(){var C;return null === (C=this.md) || void 0 === C?void 0:C.Rk;},enumerable:!1,configurable:!0}});B.prototype.Db=function(){return l.__awaiter(this,void 0,void 0,function(){var C,D,E;E=this;return l.__generator(this,function(G){switch(G.label){case 0:A.prototype.Db.call(this);if(this.Rd)return [2];q.K && this.console.log(("AseBranch {").concat(this.v.id,"} awaiting viewable"));return [4,this.II.Db(this)];case 1:G.Wa();q.K && this.console.log(("AseBranch {").concat(this.v.id,"} viewable available, branch ").concat(this.Rd?"cancelled":"active"));if(this.Rd)return [2];C=this.Bd.map(function(F){var J;return null === (J=E.parent) || void 0 === J?void 0:J.Yi(F.mediaType);});this.Ocb(this.en);this.Bd.some(function(F){F.mediaType === g.u.Ga && E.bdb(F);});return [4,this.$Za()];case 2:return (G.Wa(),q.K && this.console.log(("AseBranch {").concat(this.v.id,"} have headers")),this.Rd?[2]:(D=this.parent)?[4,D.eP]:[3,4]);case 3:G.Wa();if(this.Rd)return [2];this.YBb(C);G.label=4;case 4:return (this.normalize(),[2]);}});});};B.prototype.YBb=function(C){var D;D=this;this.wy.forEach(function(E){var G,F,J;J=null === (G=D.parent) || void 0 === G?void 0:G.Yi(E.mediaType);(0,h.assert)(J,"Parent state should be defined");-1 === (null === C || void 0 === C?void 0:C.indexOf(J)) && (null === (F=D.BU(E.mediaType).Yi(E.mediaType)) || void 0 === F?void 0:F.Oa(),G=new m.JQ(function(){var M;return null === (M=D.parent) || void 0 === M?void 0:M.Yi(E.mediaType);}),D.BU(E.mediaType).$cb(G));J=void 0;});C=void 0;};B.prototype.$Za=function(){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(){this.Q6?this.j7.resolve():(this.la.events.on("onHeaderFragments",this.Sta),this.events.emit("needsRequest"));return [2,this.j7.promise];});});};B.prototype.ZOb=function(){var C;C=this;return function(){!C.Rd && C.Q6 && (C.la.events.Lr("onHeaderFragments",C.Sta),C.j7.resolve());};};B.prototype.normalize=function(){this.Rd || (this.md=new x.cKa(this,this.W,this.console,this.la,this.uN,this.Li,this.en,this.wy.items,this.Vu,this.bha,this.cR,this.events,this.dv,this.Lk),this.tma(this.md.lB),this.$p.resolve(this.md));};B.prototype.TN=function(){var C;null === (C=this.md) || void 0 === C?void 0:C.TN();};B.prototype.update=function(C){var D;this.Li=C;(null === (D=this.md) || void 0 === D?0:D.update(C)) && this.tma(!0);};B.prototype.Cw=function(C,D){var E;void 0 === D && (D="unknown");A.prototype.Cw.call(this,C,D);null === (E=this.md) || void 0 === E?void 0:E.Cw(C);};B.prototype.GB=function(C){return l.__awaiter(this,void 0,void 0,function(){var D;return l.__generator(this,function(E){switch(E.label){case 0:return [4,this.$p];case 1:return (D=E.Wa(),[2,null === D || void 0 === D?void 0:D.GB(C)]);}});});};B.prototype.reset=function(){var C;null === (C=this.md) || void 0 === C?void 0:C.reset();};B.prototype.Hf=function(C){var D;void 0 === C && (C="other");A.prototype.Hf.call(this,C);this.Ya=z.vP;this.cn && this.la.events.Lr("onHeaderFragments",this.Sta);null === (D=this.md) || void 0 === D?void 0:D.Hf(C);this.wy.forEach(function(E){E.cancel();E.Io.Yi(E.mediaType).Oa();});this.II.Oa();this.zz && (this.zz.removeAllListeners(),q.K && this.console.trace("AseBranch destroying textRequestQueue:",this.zz),d.vD.instance.N4(this.zz),this.zz=void 0);this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:C});this.events.removeAllListeners();};B.prototype.p7=function(C){var D;return !(null === (D=this.md) || void 0 === D || !D.p7(C));};B.prototype.Ie=function(C){var D;return null === (D=this.md) || void 0 === D?void 0:D.Ie(C);};B.prototype.R6=function(C){return this.Bd.some(function(D){return D.mediaType === C;});};B.prototype.nr=function(C){var D,E;void 0 === C && (C=y.GI);return null !== (E=null === (D=this.md) || void 0 === D?void 0:D.nr(C)) && void 0 !== E?E:[];};B.prototype.Yi=function(C){var D;return null === (D=this.BU(C)) || void 0 === D?void 0:D.Yi(C);};B.prototype.q6=function(){var C,D,E;if(!this.Q6)return this.wy.items;E=null !== (D=null === (C=this.md) || void 0 === C?void 0:C.q6()) && void 0 !== D?D:[];q.K && this.console.trace("getMediaStreamables returning:",E);return E;};B.prototype.cG=function(C){var D;return (null === (D=this.md) || void 0 === D?void 0:D.cG(C)) || this.wy.get(C);};B.prototype.io=function(C,D){var E;return (null === (E=this.md) || void 0 === E?void 0:E.io(C,D)) || 0;};B.prototype.JL=function(){var C;return (null === (C=this.md) || void 0 === C?void 0:C.JL()) || ({});};B.prototype.NL=function(C){var D;return (null === (D=this.md) || void 0 === D?void 0:D.NL(C)) || this.zy.G;};B.prototype.uz=function(C,D,E){return l.__awaiter(this,void 0,void 0,function(){var G,F,J,M,L;L=this;return l.__generator(this,function(K){switch(K.label){case 0:q.K && this.console.trace("Branch.setTracks:",C);this.gK=C.sort(y.GI);this.Ocb(D);if(!this.hf)return [3,4];(0,h.assert)(this.md);G=this.wy.filter(function(P){return P.track.Gh;}).items;F=this.md.pgb(G,D,E);J=F.nT;M=F.lB;J && this.tma(M);if(this.Q6)return [3,4];this.j7=new k.Wz();this.$p=new k.Wz();q.K && this.console.log(("AseBranch {").concat(this.v.id,"} setTracks waiting for headers"));return [4,this.$Za()];case 1:return (K.Wa(),this.Rd?[2]:this.parent?[4,this.parent.eP]:[3,3]);case 2:(K.Wa(),K.label=3);case 3:(this.md.pgb(this.wy.items,D,E),q.K && this.console.log(("AseBranch {").concat(this.v.id,"} setTracks pipelines updated")),this.$p.resolve(this.md),this.events.emit("needsRequest"),K.label=4);case 4:return (C.some(function(P){if(P.mediaType === g.u.Ga)return (L.bdb(P),!0);}),[2]);}});});};B.prototype.bdb=function(C){var D;D=this;this.Mb=C;this.zz || (this.zz=(0,t.ay)(g.u.Ga,this.la,this.W,this.console,!0,function(E){return D.uN.emit("transportReport",E);},function(E){return D.uN.emit("mediaRequestComplete",E);},function(){}),q.K && this.console.trace("AseBranch created textRequestQueue:",this.zz));};B.prototype.bCb=function(C){var D,E,G,F,J,M;D=this;C=C.track.aa?this.W.j8:this.W.Taa;E=this.EU(g.u.$);G=this.EU(g.u.X);F=c(this.W,g.u.X);J=new m.JQ(function(){var L;return null === (L=D.parent) || void 0 === L?void 0:L.Yi(g.u.$);});M=new m.JQ(function(){var L;return null === (L=D.parent) || void 0 === L?void 0:L.Yi(g.u.X);});E && J.Xxa(E);G && M.Xxa(G);this.OQb=new w.ZP(C,this.W,J,M,F);};B.prototype.xCb=function(C){this.W.L7?this.bCb(C):this.eCb(C);};B.prototype.eCb=function(C){var D,E,G;D=this;E=C.mediaType === g.u.$?this.W.Vvb:C.track.aa?this.W.j8:this.W.Taa;G=new m.JQ(function(){var F;return null === (F=D.parent) || void 0 === F?void 0:F.Yi(C.track.mediaType);});G.Xxa(C.track);E=new w.KQ(E,this.W,G,c(this.W,C.mediaType));this.keb[C.mediaType]=E;};B.prototype.Ocb=function(C){var D,E,G;D=this;this.zwa=0;E=this.Bd;this.la.aa || (E=E.filter(function(F){return F.mediaType !== g.u.Ga;}));G=0;E=E.map(function(F){var J;J=D.wy.find(function(M){return M.track === F;});J || (++D.zwa,J=new v.vGa(D,F,function(){return (null === C || void 0 === C?void 0:C.add(D.xd)) || f.L.Ia;},C || f.L.Ia,D.W,D.console,D.uN,function(){0 === --D.zwa && D.events.emit("requestQueuesCreated");}),D.W.L7 && 0 < G || (D.xCb(J),G++));return J;});this.wy=new p.pQ(E);};B.prototype.Cn=function(C){var D;return (null === (D=this.md) || void 0 === D?void 0:D.Cn(C)) || [];};B.prototype.MK=function(C){var D;return !(null === (D=this.md) || void 0 === D || !D.MK(C));};B.prototype.c6=function(C){return this.md?this.md.c6(C):f.L.Ia;};B.prototype.pba=function(C){var D;return !(null === (D=this.md) || void 0 === D || !D.pba(C));};B.prototype.tma=function(C){C={type:"branchNormalized",segmentContentStart:this.v.se,branchContentStart:this.Ka,branchContentEnd:this.Ua,didNormalizeSegment:C};this.events.emit(C.type,C);q.K && this.console.trace("branchNormalized:",C);};B.prototype.EU=function(C){var D;D=this.Bd.filter(function(E){return E.mediaType === C;});return 0 < D.length?D[0]:void 0;};B.prototype.AU=function(C){var D;return (null === (D=this.EU(C)) || void 0 === D?void 0:D.te) || [];};B.prototype.toJSON=function(){var C;return (null === (C=this.md) || void 0 === C?void 0:C.toJSON()) || ({});};return B=l.__decorate([u.HL],B);})(y.Fca);b.qCa=a;(0,n.Ek)(r.Lw,a);},13326:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.vGa=void 0;c=a(39656);l=a(39139);a(27364);f=a(62558);r=(function(){function k(d,g,n,h,m,p,q,u){this.Sa=d;this.track=g;this.e5b=n;this.Y4b=h;this.config=m;this.console=p;this.events=q;this.FWb=u;this.Vv=0;this.pva=this.ai=!1;}Object.defineProperties(k.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{I:{get:function(){return this.Sa.v.id;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{pf:{get:function(){return this.Sa.pf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Laa:{get:function(){return this.e5b();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Rk:{get:function(){return this.Laa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ZC:{get:function(){return this.Laa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{meb:{get:function(){return this.Y4b;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{AL:{get:function(){return this.Sa.AL;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Kj:{get:function(){return this.ve || (this.ve=this.ay());},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{mi:{get:function(){return !this.track.jW;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Hua:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Io:{get:function(){return this.Sa.BU(this.mediaType);},enumerable:!1,configurable:!0}});k.prototype.yr=function(){return this.track.jW;};k.prototype.hn=function(){return this.track.Gh;};k.prototype.hf=function(){return !1;};k.prototype.X0a=function(){return {Ha:[],P9:0,Nr:0,RN:0};};k.prototype.k7b=function(){var d;(0,f.assert)(this.hn());d=this.Kj;this.ve=void 0;return d;};k.prototype.Lfb=function(d){return (d=d.CI(this.Sa.v,this.Kj))?{Ih:d,reason:"success"}:{Ih:d,reason:"pipelineTryIssueHeaderRequest"};};k.prototype.cancel=function(){this.ve && (this.Sa.la.$R(this.mediaType,this.ve),l.vD.instance.N4(this.ve),this.ve.removeAllListeners(),this.ve=void 0);};k.prototype.Uqa=function(){var d,g,n;n=this.config.un;if(null === (d=this.Kj) || void 0 === d?0:d.track)n=null === (g=this.Kj) || void 0 === g?void 0:g.track.un;return n;};k.prototype.sU=function(){return this.Sa.I1a(this.mediaType);};k.prototype.ay=function(){var d,g;d=this;g=(0,c.ay)(this.mediaType,this.track.la,this.config,this.console,this.track.aa,function(n){return d.events.emit("transportReport",n);},function(n){return d.events.emit("mediaRequestComplete",n);},function(){});g.on("created",this.FWb);return g;};return k;})();b.vGa=r;},6173:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v;function c(y,x){return (y.mediaType === m.u.X?0:1) - (x.mediaType === m.u.X?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.cKa=b.hob=void 0;l=a(5163);f=a(42866);k=a(42866);d=a(12043);g=a(99739);n=a(57196);h=a(31549);m=a(27364);p=a(40115);q=a(62558);r=a(551);u=a(55011);t=a(1104);w=a(7460);v=a(97810);b.hob={GI:c};a=(function(y){function x(z,A,B,C,D,E,G,F,J,M,L,K,P,H){var I,N;N=y.call(this,C) || this;N.Sa=z;N.W=A;N.la=C;N.uN=D;N.Li=E;N.Vu=J;N.bha=M;N.cR=L;N.events=K;N.dv=P;N.Lk=H;N.qj=new t.pQ([]);N.Js=!1;N.aRa=0;N.qQa=N.dWb.bind(N);(0,q.assert)(C.J === N.v.J || isNaN(C.J) && isNaN(N.v.J));z=E.id && E.id.length?"{" + E.id + "}":"";N.console=(0,v.Mh)(d.platform,B,z);N.en=G || N.v.se;B=N.parent;N.FRa=null === B || void 0 === B?void 0:B.Hb;null === (I=N.cR) || void 0 === I?void 0:I.addListener(N.qQa);F=N.cXa(F,N.en,!!B).lB;N.lB=F;return N;}l.__extends(x,y);Object.defineProperties(x.prototype,{Rd:{get:function(){return this.Js;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{v:{get:function(){return this.Li;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{mi:{get:function(){return this.qj.every(function(z){return z.mi;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ai:{get:function(){return this.qj.every(function(z){return z.ai;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{OA:{get:function(){return this.nr().reduce(function(z,A){return z + A.OA;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{hf:{get:function(){return this.nr().every(function(z){return z.hf();});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Bd:{get:function(){return this.Sa.Bd;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{N:{get:function(){return this.GR.N;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{sb:{get:function(){return this.GR.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{yb:{get:function(){return this.GR.yb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{vn:{get:function(){return this.xd.dd(this.N).ja;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{zy:{get:function(){return this.en.add(this.xd);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Pr:{get:function(){return this.v.se.add(this.xd);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{oH:{get:function(){return this.v.Jf.add(this.xd);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{a8:{get:function(){return this.qj.reduce(function(z,A){return z && A.Hb?f.L.max(z,A.Hb):A.Hb?A.Hb:z;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Rk:{get:function(){return this.qj.reduce(function(z,A){A=A.Rk;return z && A?f.L.max(z,A):z || A;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{gs:{get:function(){return this.GR.gs;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{xd:{get:function(){return this.Vu;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{parent:{get:function(){return this.Sa.parent;},enumerable:!1,configurable:!0}});x.prototype.pgb=function(z,A,B){void 0 === A && (A=this.Ka || this.en);return this.cXa(z,A,B);};x.prototype.TN=function(){var z,A,B,C;if(this.xE){z=this.Li;A=l.__read(this.xE.TN(z,z.Jf),3);B=A[0];z=A[1];A=A[2];C=this.Ie(m.u.$);C && ((0,q.assert)(B,"branch.renormalize: audioLastFragment should be defined"),C.truncate(B));if(B=this.Ie(m.u.X))((0,q.assert)(z,"branch.renormalize: videoLastFragment should be defined"),B.truncate(z));if(z=this.Ie(m.u.Ga))((0,q.assert)(A,"branch.renormalize: lastTextFragment should be defined"),z.truncate(A));this.events.emit("branchEdited",{type:"branchEdited"});}};x.prototype.update=function(z){var A;A=z.Jf.vta(this.Li.Jf);this.Li=z;return A && this.xE?(this.TN(),!0):!1;};x.prototype.Cw=function(z){this.xd.equal(z) || (this.Vu=z,this.events.emit("branchEdited",{type:"branchEdited"}));};x.prototype.GB=function(z){return l.__awaiter(this,void 0,void 0,function(){var A;return l.__generator(this,function(B){switch(B.label){case 0:return [4,Promise.resolve()];case 1:return (B.Wa(),(A=this.Ie(z))?[2,A.GB()]:[2,h.AsyncIterator.qKb()]);}});});};x.prototype.aS=function(){this.qj.forEach(function(z){return z.aS();});};x.prototype.reset=function(){this.qj.forEach(function(z){z.reset();});};x.prototype.Hf=function(z){var A,B;this.Js || (this.Js=!0,null === (A=this.xE) || void 0 === A?void 0:A.$e(),this.xE=void 0,this.qj.forEach(function(C){C.Hf("aborted" === z);}),null === (B=this.cR) || void 0 === B?void 0:B.removeListener(this.qQa));};x.prototype.p7=function(){return !0;};x.prototype.Ie=function(z){return this.qj.get(z);};x.prototype.nr=function(z){void 0 === z && (z=c);return this.qj.items.slice().sort(z);};x.prototype.q6=function(){return this.qj.items;};x.prototype.cG=function(z){return this.Ie(z);};x.prototype.io=function(z,A){z=this.Ie(z);if(!z)return 0;if(A)return z.M$;A=z.YS;if(void 0 === A)return 0;z=this.bha();return A - z;};x.prototype.JL=function(){var z,A,B,C,D,E,G;G=null === (z=this.Ie(m.u.$)) || void 0 === z?void 0:z.d4;z=null === (A=this.Ie(m.u.X)) || void 0 === A?void 0:A.d4;return {Cba:null !== (B=null === z || void 0 === z?void 0:z.G) && void 0 !== B?B:0,K2:null !== (C=null === G || void 0 === G?void 0:G.G) && void 0 !== C?C:0,bZ:null !== (D=null === z || void 0 === z?void 0:z.xa) && void 0 !== D?D:0,cS:null !== (E=null === G || void 0 === G?void 0:G.xa) && void 0 !== E?E:0};};x.prototype.NL=function(z){var A;return (z=this.Ie(z))?null !== (A=z.YS) && void 0 !== A?A:0:0;};x.prototype.Cn=function(z){var A;z=this.Ie(z);A=this.la.aa;return (null === z || void 0 === z?void 0:z.Cn(A)) || [];};x.prototype.dWb=function(z){z=z.newValue;(0,m.gn)(z) && this.wE();};x.prototype.MK=function(z){return this.qj.every(function(A){return A.MK(z);});};x.prototype.c6=function(z){var A;return (null === (A=this.qj.get(z)) || void 0 === A?void 0:A.TCb) || f.L.Ia;};x.prototype.pba=function(z){var A,B,C,D;A=this.GR.bRb;if(!A)return !1;z=(0,k.ec)(z,function(E){return A.G <= E.Ka.G;});if(!z)return !1;B=z.Ka;z=!1;C=l.__read((0,w.pwa)(this.W,this.qj,B),3);B=C[0];D=C[1];C=C[2];D && (this.Ie(m.u.X).truncate(D),z=!0);B && (this.Ie(m.u.$).truncate(B),z=!0);C && (this.Ie(m.u.Ga).truncate(C),z=!0);z && (B={type:"branchEdited"},this.events.emit(B.type,B));return z;};x.prototype.Mr=function(z,A){this.Js || ((0,q.assert)(!z.Ke),this.wE(),this.events.emit("requestComplete",{type:"requestComplete",Sa:this.Sa}),this.ai && this.Qrb());this.PF(z,A);};x.prototype.nN=function(z,A){this.W.nZa && this.wE(!0);this.WT(z,A);};x.prototype.lN=function(z){this.W.nZa && this.wE(!0);this.UT(z);};x.prototype.cXa=function(z,A,B){var C,D,E;C=this;D=new t.pQ();E=!1;z.forEach(function(G){var F;F=C.qj.find(function(J){return J.track === G.track;});void 0 === F?(E=!0,F=new g.GLa(C,C.W,C.console,C.uN,C.Sa,G.track,A,!0,C.dv,G.k7b(),C.Lk),C.iPb(F)):(C.qj.remove(F),F.aS());D.add(F);});this.qj.forEach(function(G){return G.Hf();});this.qj=D;return E?this.normalize(A,B):{nT:!1,lB:!1};};x.prototype.iPb=function(z){var A;A=this;z.events.on("lastRequestIssued",function(){return A.mi && A.events.emit("lastRequestIssued",{type:"lastRequestIssued"});});z.events.on("liveMissingSegment",function(B){return A.events.emit("liveMissingSegment",B);});};x.prototype.normalize=function(z,A){var B;null === (B=this.xE) || void 0 === B?void 0:B.$e();this.xE=new p.HLa({console:this.console,config:this.W,la:this.la,v:this.v,xC:this.qj,Ka:z,Ua:this.v.Jf,splice:A});this.GR=this.qj.vva;A=this.xE.normalize();z=A.nT;A=A.lB;z && this.FRa && (this.Vu=this.FRa.qa(this.Ka));return {nT:z,lB:A};};x.prototype.d4b=function(z){var A;return (0,m.gn)((null === (A=this.cR) || void 0 === A?void 0:A.value) || m.Sc.yl) && (!z || this.aRa + this.W.Vsa < d.platform.time.wa());};x.prototype.wE=function(z){void 0 === z && (z=!1);this.d4b(z) && (this.aRa=d.platform.time.wa(),z={type:"checkBufferingProgress"},this.events.emit(z.type,z));};x.prototype.Qrb=function(){var z;z={type:"branchStreamingComplete"};this.events.emit(z.type,z);};x.prototype.toJSON=function(){var z,A,B;return {segment:this.v.id,branchOffset:null === (z=this.xd) || void 0 === z?void 0:z.G,viewableId:this.Li.J,contentStartPts:null === (A=this.Ka) || void 0 === A?void 0:A.G,contentEndPts:null === (B=this.Ua) || void 0 === B?void 0:B.G};};return x;})(n.lD);b.cKa=a;(0,u.Ek)(r.Lw,a);},86787:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.LKa=b.Sz=void 0;c=a(5163);l=a(8604);f=a(42866);k=a(12043);d=a(27364);r=a(551);g=a(55011);n=a(89755);h=a(62558);m=a(97810);p=a(30923);q=a(38509);a=a(76666);(function(t){t[t.Du=0]="CREATED";t[t.vP=1]="CANCELLED";})(u=b.Sz || (b.Sz={}));a=(function(t){function w(v,y,x,z,A,B){v=t.call(this,y,z,x,f.L.Ia,(0,m.Mh)(k.platform,v,"AsePadding")) || this;v.la=A;v.config=B;v.HI=new n.mD(v.console);v.SA=new n.mD(v.console);v.$p=new f.Wz();v.console.trace(("PaddingBranch {").concat(y.id,"}: created"));return v;}c.__extends(w,t);w.prototype.ABb=function(v){return c.__awaiter(this,void 0,void 0,function(){var y,x,z,A,B,C,D,E;E=this;return c.__generator(this,function(G){switch(G.label){case 0:return [4,this.uZb()];case 1:return (y=G.Wa(),x=y.Mf,z=y.yd,A=y.bitrate,B=y.vo,C=(0,m.Mh)(k.platform,this.console,"[0]"),this.SA=new n.mD(C),D=p.uD.instance().jY.W$a(this.la,x,z,A,B,v,this.v,this.k0a.bind(this),this.config,C),D.forEach(function(F){return E.SA.enqueue(F);}),this.SA.IF(),[2]);}});});};w.prototype.HCb=function(v){var y,x,z;return c.__awaiter(this,void 0,void 0,function(){var A,B,C,D,E,G,F,J,M,L,K,P,H;H=this;return c.__generator(this,function(I){switch(I.label){case 0:return [4,this.wZb()];case 1:return (A=I.Wa(),B=A.profile,C=A.pv,D=A.vo,E=l.Jz.some(function(N){return -1 !== B.indexOf(N);})?B:"h264hpl",G=null === (z=null === (x=null === (y=this.parent) || void 0 === y?void 0:y.Ie(d.u.X)) || void 0 === x?void 0:x.track.Aa) || void 0 === z?void 0:z.bwa(),(0,h.assert)(G,"padding branches should always have a frameRate"),F=(0,m.Mh)(k.platform,this.console,"[0]"),J=p.uD.instance().jY.Y$a(this.la,this.la.C9b,E,G,C,D,v,this.v,this.k0a.bind(this),F),M=J.Ka,L=J.Ua,K=J.duration,P=J.Ha,this.v.normalize(M,L,[]),P.forEach(function(N){return H.HI.enqueue(N);}),this.HI.IF(),this.i9b=K,[2,{duration:K}]);}});});};Object.defineProperties(w.prototype,{mi:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ai:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{OA:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{hf:{get:function(){return this.$p.Lwa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{eP:{get:function(){return this.$p.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{cn:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{N:{get:function(){return this.v.se.N;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{sb:{get:function(){return this.v.se.ja;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{yb:{get:function(){return this.v.Jf.ja;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{vn:{get:function(){return this.xd.dd(this.N).ja;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{zy:{get:function(){return this.v.se.add(this.xd);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{AL:{get:function(){(0,h.assert)(!this.v.v.fr,"exit zone not supported for padding segments");return f.L.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{pK:{get:function(){return this.SA && this.HI?this.SA.Ay && this.HI.Ay:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ATa:{get:function(){return !(!this.SA && !this.HI);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Pr:{get:function(){return this.v.se.add(this.xd);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{oH:{get:function(){return this.v.Jf.add(this.xd);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{a8:{get:function(){return this.Hb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Rk:{get:function(){return this.Hb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{xd:{get:function(){return this.Vu;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Hsa:{get:function(){return this.qRa || this.v.Jf.qa(this.v.se);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{gs:{get:function(){return f.L.Ia;},enumerable:!1,configurable:!0}});w.prototype.Db=function(){return c.__awaiter(this,void 0,void 0,function(){var v;return c.__generator(this,function(y){switch(y.label){case 0:(t.prototype.Db.call(this),y.label=1);case 1:return (y.Vj.push([1,5,,6]),this.console.trace(("PaddingBranch {").concat(this.v.id,"}: init")),this.parent?[4,this.parent.eP]:[3,3]);case 2:(y.Wa(),y.label=3);case 3:return (this.qRa=this.v.Jf.qa(this.v.se),[4,this.mXa([d.u.$,d.u.X])]);case 4:return (y.Wa(),this.$p.resolve(),[3,6]);case 5:v=y.Wa();if(!this.Rd)throw v;return [3,6];case 6:return [2];}});});};w.prototype.update=function(v){this.Li=v;};w.prototype.GB=function(v){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){this.console.trace(("PaddingBranch {").concat(this.v.id,"}: getRequestIterator(").concat(v,")"));return v === d.u.$?[2,this.SA.$na()]:[2,this.HI.$na()];});});};w.prototype.reset=function(){};w.prototype.Hf=function(v){void 0 === v && (v="other");t.prototype.Hf.call(this,v);this.Ya=u.vP;this.qRa=void 0;this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:v});this.events.removeAllListeners();};w.prototype.p7=function(){return !0;};w.prototype.Ie=function(){};w.prototype.R6=function(v){return [d.u.$,d.u.X].some(function(y){return y === v;});};w.prototype.nr=function(){return [];};w.prototype.Yi=function(v){var y;return null === (y=this.parent) || void 0 === y?void 0:y.Yi(v);};w.prototype.q6=function(){return [];};w.prototype.cG=function(){};w.prototype.io=function(){return this.Hsa.G;};w.prototype.JL=function(){return {};};w.prototype.NL=function(){return this.v.Jf.G;};w.prototype.uz=function(v,y,x,z){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(A){switch(A.label){case 0:return [4,this.$p.promise];case 1:return (A.Wa(),this.parent?[4,this.parent.eP]:[3,3]);case 2:(A.Wa(),A.label=3);case 3:return [4,this.mXa(z)];case 4:return (A.Wa(),[2]);}});});};w.prototype.mXa=function(v){return c.__awaiter(this,void 0,void 0,function(){var y,x;return c.__generator(this,function(z){switch(z.label){case 0:y=f.L.Ia;if(-1 === v.indexOf(d.u.X))return [3,2];this.HI.clear();return [4,this.HCb(this.Hsa)];case 1:(x=z.Wa(),y=x.duration,z.label=2);case 2:if(-1 === v.indexOf(d.u.$))return [3,4];this.SA.clear();this.console.trace(("AsePaddingBranch {").concat(this.v.id,"}: video duration ").concat(y.qb()));return [4,this.ABb(this.i9b)];case 3:(z.Wa(),z.label=4);case 4:return [2];}});});};w.prototype.Cn=function(){return [];};w.prototype.MK=function(v){var y,x;return !!((null === (y=this.Hb) || void 0 === y?0:y.greaterThan(v)) && (null === (x=this.Cb) || void 0 === x?0:x.lessThan(v)));};w.prototype.c6=function(){return this.Hsa;};w.prototype.pba=function(){return !1;};w.prototype.toJSON=function(){var v,y;return {segment:this.v.id,viewableId:this.Li.J,contentStartPts:null === (v=this.Ka) || void 0 === v?void 0:v.G,contentEndPts:null === (y=this.Ua) || void 0 === y?void 0:y.G};};w.prototype.wZb=function(){var v,y,x,z,A,B,C;return c.__awaiter(this,void 0,void 0,function(){var D,E,G,F;return c.__generator(this,function(J){switch(J.label){case 0:return (D=null === (y=null === (v=this.parent) || void 0 === v?void 0:v.Ie(d.u.X)) || void 0 === y?void 0:y.hm.mk)?[3,2]:[4,null === (z=null === (x=this.parent) || void 0 === x?void 0:x.Ie(d.u.X)) || void 0 === z?void 0:z.hm.shb];case 1:J.Wa();if(this.Rd)return [2,Promise.reject()];J.label=2;case 2:return (D=null === (B=null === (A=this.parent) || void 0 === A?void 0:A.Ie(d.u.X)) || void 0 === B?void 0:B.hm.mk,(0,h.assert)(D,"Parent of padding branch must have last selected video stream"),E=null === (C=D.track.tk) || void 0 === C?void 0:C.pv,G=D.track.vo,F=D.Fd,[2,{profile:F,pv:E,vo:G}]);}});});};w.prototype.uZb=function(){var v,y,x,z,A,B;return c.__awaiter(this,void 0,void 0,function(){var C,D,E,G,F;return c.__generator(this,function(J){switch(J.label){case 0:return (C=null === (y=null === (v=this.parent) || void 0 === v?void 0:v.Ie(d.u.$)) || void 0 === y?void 0:y.hm.mk)?[3,2]:[4,null === (z=null === (x=this.parent) || void 0 === x?void 0:x.Ie(d.u.$)) || void 0 === z?void 0:z.hm.shb];case 1:J.Wa();if(this.Rd)return [2,Promise.reject()];J.label=2;case 2:return (C=null === (B=null === (A=this.parent) || void 0 === A?void 0:A.Ie(d.u.$)) || void 0 === B?void 0:B.hm.mk,(0,h.assert)(C,"Parent of padding branch must have last selected audio stream"),D=C.Mf || f.L.Ia,E=(0,q.ioa)(C.profile),G=C.bitrate,F=C.track.vo,[2,{Mf:D,yd:E,bitrate:G,vo:F}]);}});});};w.prototype.k0a=function(v,y){return this.Vu.add(y).dd(v).ja;};w.prototype.AU=function(){return [];};return w;})(a.Fca);b.LKa=a;(0,g.Ek)(r.Lw,a);},74029:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.DWa=void 0;c=a(50954);l=a(42866);f=a(42663);k=a(22494);b.DWa=function(d){var g,n,h,m,p,q,u,t,w,v,y,x;g=d.config;n=d.console;h=d.gva;m=d.v;p=d.events;q=d.QH;u=d.en;t=d.xd;w=d.yt;v=d.Qd;y=d.Ad;x=d.II;d=d.LUa;m.J === c.Dq && g.jL?(p=new f.MKa(m.J,g.wua),q=l.L.Ia,g=new (a(86787).LKa)(n,m,q,h.v6.bind(h),p,g)):g=new k.qCa(g,n,p,m,q,u,t,w,h.v6.bind(h),v,y,x,d);return g;};},23800:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.qD=void 0;c=a(15913);l=a(62558);r=(function(){function f(k){this.config=k;this.reset();}f.instance=function(){(0,l.assert)(void 0 !== f.Os);return f.Os;};f.Azb=function(k){f.Os=new f(k);};f.prototype.push=function(k){this.Ei && this.Ei.push(k);};f.prototype.jb=function(){if(this.Ei)return (this.Ei.Vx(),this.Ei.wi([.25,.5,.75,.9,.95,.99]).map(function(k){return k?parseFloat(k.toFixed(1)):0;}));};f.prototype.reset=function(){this.config.VFb && this.config.Qda && (this.Ei=new c.TDigest(this.config.Qda.c,this.config.Qda.maxc));};return f;})();b.qD=r;},87425:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.CCa=b.St=void 0;c=a(5163);r=a(57055);l=a(42866);f=a(42866);k=a(12043);d=a(22209);g=c.__importDefault(a(89956));n=a(27364);h=a(62558);m=a(29308);p=a(64406);q=a(7881);u=a(97810);t=a(31549);w=a(54790);b.St=function(v){return v.qa(l.L.Na(v.JH));};a=(function(v){function y(x,z,A,B,C,D){var E,G;E=this;E=v.call(this) || this;E.ue=x;E.jg=z;E.Tc=A;E.W=B;E.Z=C;E.Qn=D;E.zSa=!1;E.BQa=!1;E.TR=!1;E.T=d.wq.Hv(E.ue);E.qA=E.T.error.bind(E.T);E.Sn=E.T.warn.bind(E.T);E.Dx=E.T.trace.bind(E.T);null === (G=A.events) || void 0 === G?void 0:G.addListener("ready",function(){E.rx();});E.i7a=new m.tJa(E.W,E.ue,E.jg.zf,E.T);E.reset();return E;}c.__extends(y,v);Object.defineProperties(y.prototype,{endOfStream:{get:function(){return this.lR;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{c6b:{get:function(){return !!this.Tc.nGb;},enumerable:!1,configurable:!0}});y.prototype.reset=function(x){var z,A,B;null === (z=this.ARa) || void 0 === z?void 0:z.Oa();x || (this.Cx=[]);this.sha=this.a2=this.rE=void 0;this.lA && (this.lA.Rd=!0,this.lA.iterator.Ag(),this.lA=void 0);this.IJ && (this.IJ.Rd=!0,this.IJ.iterator.Ag(),this.IJ=void 0);this.Pga=!1;this.XJ=void 0;this.TR=this.lR=!1;this.nSa(l.L.Ia);null === (B=(A=this.Tc).reset) || void 0 === B?void 0:B.call(A);this.i7a.reset();};y.prototype.qIb=function(){this.a2=!0;};y.prototype.Z4=function(){this.BQa=!0;this.rx();};y.prototype.UC=function(x){this.zSa=x;};y.prototype.zvb=function(x){this.Cx.push(x);this.rx();};y.prototype.Hz=function(){this.rx();};y.prototype.lVb=function(x){this.W.Wia && void 0 === this.sha && this.lQa(x,0);this.rx();};y.prototype.n9=function(x,z){var A,B,C,D;A=this;void 0 === x && (x=!1);this.lR || (this.lR=!0,this.rx(),!x && this.c6b) || (z && this.Qn && this.W.SDb?(x=l.L.Na(this.W.P6b),z=z.qa(x),x=(0,q.Pba)(this.Qn,z,!0),z=x.Qf,x=x.promise,null === (B=this.ARa) || void 0 === B?void 0:B.Oa(),this.ARa=z,x.then(function(){var E,G;A.lR && (null === (G=(E=A.Tc).endOfStream) || void 0 === G?void 0:G.call(E));})):null === (D=(C=this.Tc).endOfStream) || void 0 === D?void 0:D.call(C));};y.prototype.nSa=function(x){var z;null !== (z=this.Msb) && void 0 !== z && z.equal(x) || (this.Msb=x,this.Tc.cdb(x.ja,x.N));};y.prototype.rx=function(){var x,z,A,B,C,D,E,G;C=this.W;if(!this.lA && !this.IJ && this.Cx.length)if(this.Tc && !1 !== this.Tc.ready){D=this.Cx[0];if(D.aborted)(this.Sn("aborted fragment should not appear in the toAppend list:",D.toString(),"complete:",D.complete),this.MR("@" + k.platform.time.wa() + ", append: removing aborted fragment from toAppend: " + D.toString()),this.Cx.shift());else {E=D.stream;G=E.la;if(E.Gh)if((D.Ev && !this.TR && (null === (z=(x=this.Tc).Rdb) || void 0 === z?void 0:z.call(x,{J:E.track.la.J,t4a:E.ki}),this.TR=!0),this.a4b(E,D.index)))(this.a2=!1,this.lQa(E,D.index));else if((x=this.Z.gV(G.J),E=this.FOb(E),x || E || !this.Pga && !C.mAa))if((x=this.Y1a(D),this.ue === g.default.vm.$ && (D.Xk || D.Nt || (null === (A=D.Ja) || void 0 === A?0:A.fo)) && D.Ja && !C.XN && !this.lR && this.Cx.length <= (D.Xk || D.Nt?1:2) && x > C.T8 && (null === (B=D.nz) || void 0 === B || !B.uM)))this.k2b();else {this.Pga || (this.Pga=E);this.Cx.shift();try{this.Rub(D);}catch(F){throw (this.T.error(F),F);}}}}else this.MR("@" + k.platform.time.wa() + ", append: not appending, sourceBuffer not ready");};y.prototype.k2b=function(){var x;x=this;this.Qn && (this.jra?this.jra.j4a || this.jra.rf():this.jra=this.Qn.$x(function(){return x.TQb();},"JIT Appender"));};y.prototype.TQb=function(){var x,z,A,B;return c.__generator(this,function(C){switch(C.label){case 0:if(1 !== this.Cx.length)return [3,3];x=this.Cx[0];if(!x.Xk && !x.Nt || (null === (B=x.nz) || void 0 === B?0:B.uM))return [2];z=this.Y1a(x);A=this.W.T8;return z > A?[4,q.Lg.jD(l.L.Na(z - A))]:[3,2];case 1:(C.Wa(),C.label=2);case 2:return (this.rx(),[3,0]);case 3:return [2];}});};y.prototype.Y1a=function(x){var z;return (null === (z=x.Cb) || void 0 === z?NaN:z.G) - this.Z.Ld.G;};y.prototype.a4b=function(x,z){var A;A=x.Hh;(0,h.assert)(A);return 0 === A.length?this.a2=!1:this.a2 || void 0 === this.rE || x.Pb !== this.rE.Pb?!0:1 < A.length?(0,f.dja)(A,function(B){return B.Td <= z;}) !== this.rE.y4a:!1;};y.prototype.FOb=function(x){if(x.mediaType === n.u.$ || !x.ki)return !0;if(void 0 === this.rE)return !1;if(!x.track.WV)return !x.ki;x=x.Hh;(0,h.assert)(x);return !1 === x[this.rE.y4a].HF;};y.prototype.lQa=function(x,z){var A,B,C,D;if(!this.zSa || this.BQa){if(x.Hh && 0 !== x.Hh.length){C=x.Hh.reduce(function(E,G,F){return G.Td <= z?F:E;},0);D=x.Hh[C];this.rE || (null === (B=(A=this.Tc).Rdb) || void 0 === B?void 0:B.call(A,{J:x.track.la.J,t4a:x.ki}),this.TR=!0);if(!this.Tc.appendBuffer(D.data,{Ke:!0,profile:x.profile,bitrate:x.bitrate,Pb:x.Pb}))throw (this.Sn("appendHeader error: " + this.Tc.error),this.MR("@" + k.platform.time.wa() + ", appendHeader error: " + this.Tc.error),Error("appendHeaderError"));this.MR("@" + k.platform.time.wa() + ", header appended, streamId: " + x.Pb);this.rE={Pb:x.Pb,y4a:C};this.qsb(x.Pb,C);}this.rx();}};y.prototype.Rub=function(x){var z,A,B,C,D;z=this;C=x.Kva || l.L.Ia;D=x.v;D.Jf && !D.Jf.equal(l.L.Tp) && (C=D.Jf.add(C).uh,Infinity === this.jg.duration || this.jg.duration < C) && (this.jg.duration=C);C=void 0 !== x.yw?l.L.Na(x.yw).add(x.Kva):void 0;D=null === (A=this.Cx[0]) || void 0 === A?void 0:A.Cb;A={endOfStream:this.endOfStream || !(null === (B=x.nz) || void 0 === B || !B.uM),QM:C,lta:D};D=this.i7a.append(x,A);B=D.ei;C=D.si;A=D.Do;D=D.offset;null === C || void 0 === C?void 0:C.forEach(function(E){return z.emit(E.type,E);});C=x.stream;C.aa && (D=D.qa(C.$t.dd(C.N)));this.nSa(D);B && (x.Xk || x.Nt) && x.ei();C=p.qm.OJa;B || (this.ue === n.u.$ || this.ue === n.u.X?C=this.Oub(x,A):this.ue === n.u.Ga && (C=this.Wub(x)));switch(C){case p.qm.Hk:this.Cpb(x);break;case p.qm.P0:this.sha=x;break;case p.qm.um:this.Pta(x);this.sha=x;break;case p.qm.OJa:this.N8a(x,!0);}};y.prototype.yeb=function(){var x;return k.platform.Uo.zf.Nwa.Ofa || !(null === (x=this.jg.zf) || void 0 === x || !x.yeb);};y.prototype.Oub=function(x,z){return this.yeb()?this.Pub(x,z):this.Qub(x,z);};y.prototype.Pub=function(x,z){var A,B,C;A=this;B=(0,u.jsa)(x);if((z=(z || x.Do).every(function(D,E){return A.Tc.appendBuffer(D,0 === E?B:void 0);})) && !x.Epa){z=x.bpa();C={Ma:x,iterator:z,Rd:!1};this.lA=C;t.AsyncIterator.J7(z,function(D){C.Rd || (D.done?(A.lA=void 0,A.Pta(x)):A.Tc.appendBuffer(D.value,B));});z=p.qm.P0;}else z=z?p.qm.um:p.qm.Hk;return z;};y.prototype.Qub=function(x,z){var A,B,C,D;A=this;B=(0,u.jsa)(x);z || (z=x.Do);if(x.Epa)C=(C=this.vWa(z,B))?p.qm.um:p.qm.Hk;else {C=x.bpa();D={Ma:x,iterator:C,Rd:!1};this.lA=D;t.AsyncIterator.J7(C,function(E){D.Rd || (E.done?(A.vWa(z,B),A.lA=void 0,A.Pta(x)):z.push(E.value));});C=p.qm.P0;}return C;};y.prototype.vWa=function(x,z){x=1 < x.length?(0,u.LK)(x):x[0];return this.Tc.appendBuffer(x,z);};y.prototype.Wub=function(x){var z,A,B,C;z=this;(0,h.assert)(x instanceof w.oca);A=x.Do;if(x.Epa){(0,h.assert)(A.every(function(D){return D instanceof ArrayBuffer;}));Promise.resolve().then(function(){return z.XYa(x,A);});B=p.qm.um;}else {B=x.bpa();C={Ma:x,iterator:B,Rd:!1};this.IJ=C;t.AsyncIterator.J7(B,function(D){C.Rd || (D.done?(z.IJ=void 0,(0,h.assert)(A.every(function(E){return E instanceof ArrayBuffer;})),z.XYa(x,A)):A.push(D.value));});B=p.qm.P0;}return B;};y.prototype.XYa=function(x,z){var A,B;z=(0,u.LK)(z);z=new Uint8Array(z);z=k.platform.Mla(z);(0,h.assert)(z);B=x.Xk && (null === (A=x.nz) || void 0 === A?void 0:A.uM);x={type:"subtitleData",I:x.Kh,kb:x.Ka.G,ff:x.Ua.G,Rr:x.Reb,Ofb:z,endOfStream:B};this.jg.events.emit(x.type,x);};y.prototype.Pta=function(x){var z;void 0 === this.XJ || this.ue !== g.default.vm.$ || x.Cb.equal(this.XJ) || (this.XJ=void 0);this.MR("@" + k.platform.time.wa() + ", request appended, type: " + x.mediaType + ", streamId: " + x.Pb + ", pts: " + (null === (z=x.Cb) || void 0 === z?void 0:z.G) + "-" + x.Hb.G);this.N8a(x,!1);};y.prototype.N8a=function(x,z){var A,B,C;x.Xk || x.Nt?(this.XJ=z?x.Cb:x.Hb,null === (B=(A=this.Tc).nGb) || void 0 === B?void 0:B.call(A,x.nz),this.TR=!1,(null === (C=x.nz) || void 0 === C?0:C.uM) && this.n9(!1,this.XJ)):this.XJ=void 0;x.tS=!0;x.QN();this.rsb(x);this.rx();};y.prototype.Cpb=function(x){if(void 0 !== this.Tc.error){if("done" === this.Tc.error)return;this.qA("failure to append queued mediaRequest:",null === x || void 0 === x?void 0:x.toString(),"err:",JSON.stringify(this.Tc.error));throw this.Tc.error;}x=Error("failure to append queued mediaRequest: " + (null === x || void 0 === x?void 0:x.toString()) + " err: " + this.Tc.error);this.qA(x.message);throw x;};y.prototype.qsb=function(x,z){x={type:"headerAppended",mediaType:this.ue,streamId:x,isIndex:z};this.emit(x.type,x);};y.prototype.rsb=function(x){x={type:"requestAppended",mediaType:this.ue,request:x};this.emit(x.type,x);};y.prototype.MR=function(x){x={type:"managerdebugevent",message:x};this.emit(x.type,x);};return y;})(r.EventEmitter);b.CCa=a;},78764:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.DCa=void 0;c=a(57055);l=a(27364);f=a(62558);r=(function(){function k(d,g){this.T=d;this.zqb=g;this.hv=this.Uu=this.op=0;this.Qha=new Map();}k.prototype.ov=function(d){var g,n,h;g=this;if(!d.Ke){n=d.xa;if(0 >= n){h=new c.De();h.on(d.events,"updatedBytes",function(m){g.QSa(d,m.UUb - m.pua);h.clear();g.Qha.delete(d);});this.Qha.set(d,h);}else this.QSa(d,n);}};k.prototype.Tr=function(d){var g;if(!d.Ke){g=d.xa;0 < g && (this.op-=g,d.mediaType === l.u.$?this.Uu-=g:this.hv-=g,(0,f.assert)(this.op === this.Uu + this.hv),(0,f.assert)(0 <= this.op),(0,f.assert)(0 <= this.Uu),(0,f.assert)(0 <= this.hv));this.Qha.delete(d);}};k.prototype.zVa=function(d,g){var n;(0,f.assert)(this.op === this.Uu + this.hv);n=this.zqb();if(void 0 !== n.total && this.op + g > n.total)return !1;n=d === l.u.$?n.audio:n.video;d=d === l.u.$?this.Uu:this.hv;return void 0 !== n && d + g > n?!1:!0;};k.prototype.QSa=function(d,g){this.op+=g;d.mediaType === l.u.$?this.Uu+=g:this.hv+=g;(0,f.assert)(this.op === this.Uu + this.hv);(0,f.assert)(0 < this.op);(0,f.assert)(0 <= this.Uu);(0,f.assert)(0 <= this.hv);};return k;})();b.DCa=r;},59322:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.o0a=b.r0a=b.gwa=b.Yja=b.hea=void 0;c=a(5163);l=a(12043);f=a(62558);k=a(97810);r=(function(){function g(n,h,m){void 0 === m && (m={});this.config=n;this.BGb=h;this.eh=[];this.Wja=new k.Wh();this.WUa=new k.Wh();this.options=c.__assign({ro:10},m);}Object.defineProperties(g.prototype,{isEnabled:{get:function(){return this.config.tFb;},enumerable:!1,configurable:!0}});g.prototype.Poa=function(n,h){var m;if(!this.isEnabled)return h();m=this.qJb(n);if(m)return m.value;h=h();this.Ht(n,h);return h;};g.prototype.findIndex=function(n){var h,m,p,q;h=Infinity;m=Infinity;if(this.options.bS || this.options.PN){p=l.platform.time.wa();this.options.PN && (h=p - this.options.PN);this.options.bS && (m=p - this.options.bS);}for(p=0;p < this.eh.length;p++){q=this.eh[p];if(this.options.PN && q.C5a < h){this.eh.splice(p,this.eh.length - p);break;}if(this.options.bS && q.Zn < m)(this.eh.splice(p,1),p--);else if(this.BGb(q.key,n))return p;}return -1;};g.prototype.qJb=function(n){var h;n=this.findIndex(n);if(-1 !== n){h=this.eh[n];this.eh.splice(n,1);this.eh.unshift(h);this.options.PN && (h.C5a=l.platform.time.wa());this.WUa.push(n);this.Wja.push(1);return h;}this.Wja.push(0);};g.prototype.Ht=function(n,h){this.eh.unshift({key:n,value:h});if(this.options.PN || this.options.bS)(n=l.platform.time.wa(),this.options.PN && (this.eh[0].C5a=n),this.options.bS && (this.eh[0].Zn=n));this.pyb();};g.prototype.pyb=function(){this.eh.length > this.options.ro && this.eh.pop();};g.prototype.clear=function(){this.eh=[];};return g;})();b.hea=r;d=new WeakMap();b.Yja=function(g){void 0 === g && (g="default");return function(n,h,m){var p;p=m.value;m.value=function(q){var u,t,w;u=this;w=null === (t=d.get(this)) || void 0 === t?void 0:t[g];(0,f.assert)(w,"lruCache not defined");return w.Poa(q,function(){return p.call(u,q);});};};};b.gwa=function(g,n,h){d.has(g) || d.set(g,{});d.get(g)[n]=h;};b.r0a=function(g){var n;if(!d.has(g))return [];n=d.get(g);return Object.keys(n).map(function(h){return n[h];});};b.o0a=function(g){return d.has(g)?d.get(g):{};};},97021:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ezb={Qt:["minInitVideoBitrate",-Infinity],Py:["maxInitVideoBitrate",Infinity],O8:["minInitAudioBitrate",-Infinity],u8:["maxInitAudioBitrate",Infinity],L8:["minAcceptableVideoBitrate",-Infinity],cW:["minAcceptableVMAF",0],cUb:["minAcceptableVMAFRebufferScalingFactor",0],Tsa:["minAllowedVideoBitrate",-Infinity],cTb:["maxAllowedVideoBitrate",Infinity],WG:["minAllowedVmaf",-Infinity],H6a:["maxAllowedVmaf",Infinity],zO:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],h5:["enableResolutionVMAFStreamFilter",!1],Nua:["percentCapTitlesForResolutionVMAFStreamFilter",100],Q$:["resolutionVMAFCappingRuleList",[]],s3a:["ignoreUserFilterOnEmptyResult",!0],mC:["minRequiredBuffer",2E4],Q8:["minRequiredAudioBuffer",0],Yp:["minPrebufSize",5800],Vsa:["minCheckBufferingCompleteInterval",200],nZa:["enableMoreFrequentBufferingCompleteCheck",!1],E7a:["minimumBufferingCompleteInterval",1E4],Dwa:["requireDownloadDataAtBuffering",!1],H3a:["indicatorForDownloadDataAtBuffering","oncomplete"],Ewa:["requireSetupConnectionDuringBuffering",!1],Zva:["rebufferingFactor",1],Ir:["maxBufferingTime",2E3],bAa:["useMaxPrebufSize",!0],jC:["maxPrebufSize",4E4],Asa:["maxRebufSize",Infinity],i7:["initialBitrateSelectionCurve",null],M3a:["initSelectionLowerBound",-Infinity],N3a:["initSelectionUpperBound",Infinity],BY:["throughputPercentForAudio",15],yja:["bandwidthMargin",0],Aja:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],sUa:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,Px:76376,scale:18862.4,gamma:3.0569}],zja:["bandwidthMarginContinuous",!1],tUa:["bandwidthMarginForAudio",!0],Sya:["switchConfigBasedOnInSessionTput",!0],Zka:["conservBandwidthMargin",20],ala:["conservBandwidthMarginTputThreshold",6E3],$ka:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],Ieb:["switchAlgoBasedOnHistIQR",!1],Tya:["switchConfigBasedOnThroughputHistory","iqr"],W6a:["maxPlayerStateToSwitchConfig",-1],j6a:["lowEndMarkingCriteria","iqr"],hHa:["IQRThreshold",.5],g3a:["histIQRCalcToUse","simple"],dt:["bandwidthManifold",{curves:[{min:.05,max:.82,Px:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,Px:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],UV:["maxTotalBufferLevelPerSession",0],b3a:["highWatermarkLevel",3E4],pfb:["toStableThreshold",3E4],kba:["toUnstableThreshold",0],mya:["skipBitrateInUpswitch",!1],rAa:["watermarkLevelForSkipStart",8E3],kya:["simulationDurationStrategy","default"],z4b:["simulationFullBufferPercentage",1],C7a:["minSimulationDuration",2E4],w8:["maxSimulationDuration",3E5],Zza:["upperThroughputPredictionFactor",1.6],Ppa:["highStreamRetentionWindow",9E4],Zra:["lowStreamTransitionWindow",51E4],Rpa:["highStreamRetentionWindowUp",5E5],bsa:["lowStreamTransitionWindowUp",1E5],Qpa:["highStreamRetentionWindowDown",6E5],$ra:["lowStreamTransitionWindowDown",0],Opa:["highStreamInfeasibleBitrateFactor",.5],Ky:["lowestBufForUpswitch",9E3],EV:["lockPeriodAfterDownswitch",15E3],dsa:["lowWatermarkLevel",15E3],Ly:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],esa:["lowestWaterMarkLevelBufferRelaxed",!1],E8:["mediaRate",1.5],LM:["maxTrailingBufferLen",15E3],nja:["audioBufferTargetAvailableSize",262144],gAa:["videoBufferTargetAvailableSize",1048576],d7a:["maxVideoTrailingBufferSize",8388608],I6a:["maxAudioTrailingBufferSize",393216],v5:["fastUpswitchFactor",3],mHb:["fastUpswitchFactorWithoutHeaders",3],lHb:["fastUpswitchFactorForNextSegment",1],kna:["fastDownswitchFactor",3],QG:["maxMediaBufferAllowed",27E4],nic:["minMediaBufferLen",1E4],zdb:["simulatePartialBlocks",!0],ydb:["simulateBufferFull",!0],bla:["considerConnectTime",!0],Yka:["connectTimeMultiplier",1],JRb:["liveDvrSwitchThresholdms",1E4],L6a:["maxDomainFailureWaitDuration",3E4],JZa:["exhaustAllLocationsForFailure",!0],S6a:["maxNetworkErrorsDuringBuffering",20],r8:["maxBufferingTimeAllowedWithNetworkError",6E4],qK:["alwaysRunUnderflowTimer",!0],WZa:["fastDomainSelectionBwThreshold",2E3],Zeb:["throughputProbingEnterThreshold",4E4],$eb:["throughputProbingExitThreshold",34E3],$5a:["locationProbingTimeout",1E4],d_a:["finalLocationSelectionBwThreshold",1E4],Xeb:["throughputHighConfidenceLevel",.75],Yeb:["throughputLowConfidenceLevel",.4],Lra:["locationStatisticsUpdateInterval",6E4],mSb:["locationSelectorPersistFailures",!0],oZa:["enablePerfBasedLocationSwitch",!1],Uhc:["maxRateMaxFragmentGroups",4500],QFb:["enableNginxRateLimit",!1],i9:["nginxSendingRate",4E4],G6a:["maxActiveRequestsSABCell100",2],vbb:["resetActiveRequestsAtSessionInit",!0],f5:["enableHybridPacing",!1],jka:["catchUpMode",!1],tTb:["maxSegHint",4],ywa:["requestLevelLogging",!1],zFb:["enableCsprNonPipelined",!1],c5:["enableCprAudio",!1],d5:["enableCprVideo",!1],xFb:["enableCprAudioNonPipelined",!1],yFb:["enableCprVideoNonPipelined",!0],xma:["enableConcurrentStreamingHandling",!1],SFb:["enablePaceReportLogging",!1],kXb:["paceRateSelectorAlgorithm","default"],lXb:["paceRateSelectorAlgorithmAudio","default"],mXb:["paceRateSelectorAlgorithmNonPipelined","default"],Zdb:["staticPacingRateKbps",0],Y3:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],T7b:["unpacedFragmentInterval",0],BOb:["ignorePacedRequestStrategy","none"],JW:["pacedThresholdPct",.1],sma:["effectivePaceRateFactor",1],v0b:["regressionAlgoPacingCoefficients",[{playerStates:[0,1,2],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[0,1,2],bufferLevelPct:0,coefficients:{offset:1E5}},{playerStates:[],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[],bufferLevelPct:1,coefficients:{maxAverageBitrate:2}}]],oXb:["pacingTargetBufferStrategy","implicit"],r6b:["targetBufferLevelStddevMultiplier",1],q6b:["targetBufferLevelDurationMs",0],lUb:["minTargetBufferLevelMs",27E4],zya:["stddevPredictorMultiplier",-.3],Aya:["stddevPredictorUpperMultiplier",2],o5b:["stddevPredictorSource","deliverytime"],zka:["ciPredictorSource","throughput-ci"],iZa:["enableInitialTputLogging",!1],hZa:["enableInitialThroughputHistory",!1],W6:["headerRequestSize",4096],Qma:["estimateHeaderSize",!0],$7a:["neverWipeHeaderCache",!1],a9b:["useSidxInfoFromManifestForHeaderRequestSize",!1],sXb:["parseAdditionalBoxesMp4Header",!0],YZa:["fastPlayHeaderRequestSize",0],SG:["maxRequestSize",0],fW:["minRequestSize",65536],dW:["minBufferLenForHeaderDownloading",1E4],Gdb:["smartHeaderPreDownloading",!1],$Ya:["enableAllHeadersPreDownloading",!1],un:["pipelineEnabled",!0],ysa:["maxParallelConnections",3],X8b:["usePipelineForAudio",!1],W8b:["usePipelineDetectionForAudio",!1],Z8b:["usePipelineForText",!0],Hdb:["socketReceiveBufferSize",0],s3:["audioSocketReceiveBufferSize",32768],Jba:["videoSocketReceiveBufferSize",65536],C6b:["textSocketReceiveBufferSize",32768],Ogb:["usePipelineDetectionForVideo",!1],oUb:["minVideoSocketReceiveBufferSize",65536],Mpa:["headersSocketReceiveBufferSize",32768],X3b:["shareDownloadTracks",!0],Y3b:["shareOpenRangeTracks",!1],uEb:["disableHeaderDownloadTracks",!1],Xsa:["minTimeBetweenHeaderRequests",void 0],XW:["prebufferTimeLimit",6E4],RYb:["prebufferTimeLimitFromPlayerAttach",!0],u7a:["minBufferLevelForTrackSwitch",2E3],TFb:["enablePenaltyForLongConnectTime",!1],Kua:["penaltyFactorForLongConnectTime",2],Wra:["longConnectTimeThreshold",200],Kia:["additionalBufferingLongConnectTime",2E3],Lia:["additionalBufferingPerFailure",8E3],iX:["rebufferCheckDuration",6E4],mL:["enableOCSideChannel",!0],vDb:["decryptOCSideChannelMinInterval",1E3],wDb:["decryptOCSideChannelMinIntervalAfterCompleted",1E3],yva:["probeRequestTimeoutMilliseconds",3E4],Vic:["probeRequestConnectTimeoutMilliseconds",8E3],M0:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],WFb:["enableSCByteRangeHints",!1],ggb:["updateDrmRequestOnNetworkFailure",!0],P6b:["timeBeforeEndOfStreamBufferMark",6E3],usa:["maxFastPlayBufferInMs",2E4],hTb:["maxFastPlayContentTimeThresholdMs",112E3],N6a:["maxFastPlayBitThreshold",2E8],J6a:["maxBufferingCompleteBufferInMs",Infinity],Rwb:["bufferingCompleteOnMemoryLimit",!1],Usa:["minAudioMediaRequestSizeBytes",0],Ysa:["minVideoMediaRequestSizeBytes",0],eTb:["maxAudioMediaRequestSizeBytes",Infinity],ATb:["maxVideoMediaRequestSizeBytes",Infinity],mTb:["maxMediaRequestSizeBytesInFraction",1],Tv:["minAudioMediaRequestDuration",0],Sy:["minVideoMediaRequestDuration",0],P8:["minMediaRequestDuration",0],dTb:["maxAudioMediaRequestDuration",Infinity],zTb:["maxVideoMediaRequestDuration",Infinity],v8:["maxMediaRequestDuration",Infinity],Qia:["allowFirstRequestAggregation",!1],gic:["minAudioMediaRequestDurationCache",0],ric:["minVideoMediaRequestDurationCache",0],Sla:["defaultHeaderCacheSize",4],Rla:["defaultHeaderCacheDataPrefetchMs",0],Y8b:["usePipelineForBranchedAudio",!0],U8:["minimumTimeBeforeBranchDecision",2E3],pUb:["minimumAppendedMediaBeforePlayback",5E3],qTb:["maxRequestsToAttachOnBranchActivation",void 0],T8:["minimumJustInTimeBufferLevel",3E3],ngc:["enableJustInTimeAppends",!1],ITa:["appendPacingFactor",0],Uub:["appendPacingThreshold",3E3],gfc:["branchEndPtsIntervalMs",250],nhc:["ignorePtsJustBeforeCurrentSegment",!1],iTb:["maxFragsForFittableOnBranching",300],jta:["networkFailureResetWaitMs",2E3],ita:["networkFailureAbandonMs",6E4],x8:["maxThrottledNetworkFailures",5],cba:["throttledNetworkFailureThresholdMs",200],csa:["lowThroughputThreshold",400],Zma:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],O6b:["timeAtEachBitrateRoundRobin",1E4],Q1b:["roundRobinDirection","forward"],lOb:["httpsConnectErrorAsPerm",!1],lZa:["enableManagerDebugTraces",!1],t6a:["managerDebugMessageInterval",1E3],s6a:["managerDebugMessageCount",20],XN:["requireAudioStreamToEncompassVideo",!1],Taa:["ase_stream_selector","optimized"],Vvb:["audiostreamSelectorAlgorithm","selectaudioadaptive"],j8:["liveStreamSelectorAlgorithm","livesimple"],l8a:["noRepeatedFirstSelectionLogic",!1],Web:["throughputDiscountForLive",.8],Veb:["throughputDiscountExponentBC",1.5],KG:["liveTargetBufferDuration",1E4],f8:["liveEdgeCushion",2E3],ORb:["liveInitialFetchSizeBytes",1024],YRb:["liveTextInitialFetchSizeBytes",40],VRb:["liveResyncClockOn404Error",!0],MRb:["liveEndSlateMaxDuration",6E4],Hra:["liveSwitchStreamsOnErrorInPipeline",!0],KRb:["liveEdgeRetryWindowMs",6E3],e8:["liveAccurateFragmentTimestamps",!1],BT:["enableMissingSegmentsDetection",!1],CT:["enableMissingSegmentsReplacement",!1],c2b:["sanitizeMediaVideoFrameDuration",!0],NXa:["debugFragmentTimes",!1],Ama:["enableLiveTemporaryRequestRetries",!0],q8:["maxAttemptsOnFailure",18],Bma:["enableMaxAttemptsOnFailure",!0],sqa:["initBitrateSelectorAlgorithm","default"],Nja:["bufferingSelectorAlgorithm","default"],y5b:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],qZa:["enableThroughputTraceResearchData",!1],afb:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],cjc:["researchEnvironmentEnabled",!1],YFb:["enableStreamSelectionAugmentData",!1],$vb:["augmentDataNumOfChunks",30],Ila:["ase_dump_fragments",!1],Jla:["ase_location_history",0],OXa:["ase_throughput",0],vua:["paddingDurationMs",1E3],wua:["paddingMediaType","padding"],Ak:["stallAtFrameCount",void 0],Ndb:["stallAtFrameCountAudio",void 0],osa:["marginPredictor","simple"],Ggb:["useBackupUnderflowTimer",!0],eVb:["noDuplicateUnderflowTimer",!1],skc:["useManifestDrmHeader",!0],ukc:["useOnlyManifestDrmHeader",!0],kta:["networkMeasurementGranularity","video_location"],RUb:["netIntrStoreWindow",36E3],wic:["minNetIntrDuration",8E3],uqb:["fastHistoricBandwidthExpirationTime",10368E3],Oqb:["bandwidthExpirationTime",5184E3],tqb:["failureExpirationTime",86400],HRa:["historyTimeOfDayGranularity",4],qqb:["expandDownloadTime",!0],orb:["minimumMeasurementTime",500],nrb:["minimumMeasurementBytes",131072],hsb:["throughputMeasurementTimeout",2E3],gsb:["initThroughputMeasureDataSize",262144],brb:["historicBandwidthUpdateInterval",2E3],Kec:["throughputPredictor","ewma"],oxa:["secondThroughputEstimator","slidingwindow"],ccb:["secondThroughputMeasureWindowInMs",3E5],Jec:["throughputMeasureWindow",5E3],Lec:["throughputWarmupTime",5E3],Iec:["throughputIQRMeasureWindow",1E3],tec:["IQRBucketizerWindow",15E3],Q6a:["maxIQRSamples",100],x7a:["minIQRSamples",5],Fec:["connectTimeHalflife",10],yec:["responseTimeHalflife",10],YQa:["historicThroughputHalflife",14400],XQa:["historicResponseTimeHalflife",100],WQa:["historicHttpResponseTimeHalflife",100],zGa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],yRa:["minReportedNetIntrDuration",4E3],Hec:["throughputBucketMs",500],wec:["bucketHoltWintersWindow",2E3],kqb:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-iqr avtp entropy deliverytime").split(" ")],rqb:["experimentalFilter",["throughput-wssl"]],Pha:["reportedFilters",[]],Wga:["filterDefinitionOverrides",{}],eqb:["defaultFilter","throughput-ewma"],fqb:["defaultFilterField","average"],zsb:["secondaryFilter","throughput-sw"],xQa:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:5E3,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-ci":{type:"ci",max_n:10,maxc:25,c:.5,lowPercentile:.1,highPercentile:.9,initialPercentile:.2,decay:!1,halfLife:5E3,maxDecay:1E9},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384},"deliverytime-ci":{type:"deliverytime-ci",hl:4E3,max_n:10,metric:"deliverytime",lowPercentile:.1,highPercentile:.9,initialPercentile:.2,accuracy:1E-10,maxIterations:20}}],dGb:["enableWsslEstimate",!1],Xhc:["maxWsslRequestSize",131072],Whc:["maxWsslRequestRatio",.2],Ghb:["wsslAggregationMethod","max"],pZa:["enableSessionHistoryReport",!0],NYa:["earlyStageEstimatePeriod",1E4],D5a:["lateStageEstimatePeriod",3E4],T6a:["maxNumSessionHistoryStored",10],B7a:["minSessionHistoryDuration",3E5],bhc:["highAndStableModelName","baseline"],mgc:["enableHighAndStablePredictor",!1],oic:["minNumSessionHistory",5],dfc:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],ahc:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],chc:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],yia:["addHeaderDataToNetworkMonitor",!0],tya:["startMonitorOnLoadStart",!1],twa:["reportFailedRequestsToNetworkMonitor",!1],V9:["periodicHistoryPersistMs",0],caa:["saveVideoBitrateMs",0],hta:["needMinimumNetworkConfidence",!0],Dja:["biasTowardHistoricalThroughput",!1],Ghc:["logMemoryUsage",!1],wH:["probeServerWhenError",!0],pS:["allowSwitchback",!0],I$a:["probeDetailDenominator",100],s8:["maxDelayToReportFailure",300],Cub:["allowParallelStreaming",!0],$hc:["mediaPrefetchDisabled",!1],hic:["minBufferLevelToAllowPrefetch",5E3],gO:["seamlessAudio",!1],qjc:["seamlessAudioProfiles",[]],rjc:["seamlessAudioProfilesAndTitles",{}],mxa:["seamlessAudioMaximumSyncError",void 0],nxa:["seamlessAudioMinimumSyncError",void 0],$3a:["insertSilentFrames",0],Dqa:["insertSilentFramesOnSeek",!1],a4a:["insertSilentFramesOnSeekForTitles",[]],nPb:["insertSilentFramesOnSeekCount",3],Egc:["forceDiscontinuityAtTransition",!0],Ujc:["supportAudioResetOnDiscontinuity",void 0],Tjc:["supportAudioEasingOnDiscontinuity",void 0],eFb:["editCompleteFragments",!0],qUb:["minimumAudioFramesPerFragment",1],uS:["applyProfileTimestampOffset",!1],Hm:["applyProfileStreamingOffset",!0],r$:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}],fUa:["audioProfilesNonSyncSamples",["xheaac-dash"]],A7b:["truncateEndOfStreamAudio",!1],S8b:["useDpiAssumedAacEncoderDelay",!0],G8:["mediaSourceSupportsNegativePts",!1],M8:["minAudioPtsGap",void 0],Rvb:["audioOverlapGuardSampleCount",2],VFb:["enableRecordJSBridgePerf",!1],Qda:["JSBridgeTDigestConfig",{maxc:25,c:.5}],K6b:["throughputThresholdSelectorParam",0],Q8b:["upswitchDuringBufferingFactor",2],Hub:["allowUpswitchDuringBuffering",!1],Efc:["contentOverrides",void 0],Ffc:["contentProfileOverrides",void 0],e3a:["hindsightDenominator",0],d3a:["hindsightDebugDenominator",0],fhc:["hindsightAlgorithmsEnabled",[]],f3a:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],HTa:["appendMediaRequestOnComplete",!1],mAa:["waitForDrmToAppendMedia",!1],N9b:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],Ina:["forceAppendHeadersAfterDrm",!1],QXa:["declareBufferingCompleteAtSegmentEnd",!1],RV:["maxActiveRequestsPerSession",void 0],Cra:["limitAudioDiscountByMaxAudioBitrate",!1],Wia:["appendFirstHeaderOnComplete",!0],Xaa:["strictBufferCapacityCheck",!1],vS:["aseReportDenominator",0],ija:["aseReportIntervalMs",3E5],ivb:["aseReportMaxStreamSelections",400],Q5a:["liveReportSendIntervalMs",6E4],Gra:["liveReportCollectIntervalMs",5E3],vza:["translateToVp9Draft",!1],qwa:["reorderTrakMvex",!1],uY:["switchableAudioProfiles",[]],Tvb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],Keb:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],Gvb:["audioBwFactor",1],Wvb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],Xvb:["audioSwitchConfigLive",{upSwitchFactor:2.5,downSwitchFactor:1.3,lowestBufForUpswitch:6E3,lockPeriodAfterDownswitch:3E4}],b7a:["maxStartingVideoVMAF",110],Rt:["minStartingVideoVMAF",1],dS:["activateSelectStartingVMAF",!1],maa:["selectStartingVMAFTDigest",-1],iO:["selectStartingVMAFMethod","fallback"],lcb:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],tN:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],Zfc:["disablePtsStartsEvent",!0],Gab:["recordFirstFragmentOnSubBranchCreate",!0],E6a:["markRequestActiveOnFirstByte",!1],SUb:["networkRequestRetryDelay",500],Oaa:["stopOnAllInactiveRequests",!1],ZYa:["enableActiveRequestsInFilters",!1],YO:["useNativeDataViewMethods",!0],gvb:["aseDiagnostics",[{jd:"queue-audit",enabled:!0},{jd:"task-audit",enabled:!0},{jd:"trace-ShimSession",enabled:!0},{jd:"trace-engine",enabled:!0},{jd:"trace-RequestPacer",enabled:!0},{jd:"trace-BufferStateTracker",enabled:!0},{jd:"trace-GraphStreamingProcess",enabled:!0},{jd:"trace-AsePlaygraph",enabled:!0},{jd:"playgraph-branch-audit",enabled:!0},{jd:"content-playgraph",enabled:!0},{jd:"trace-CphAsePlaygraph",enabled:!0},{jd:"trace-GraphLocation",enabled:!0},{jd:"cache-ads::gls",enabled:!0},{jd:"cache-content::gls",enabled:!0}]],uFb:["enableAseReporting",!0],Ewb:["branchDistanceThreshold",6E4],p8:["maxAllowedOutstandingRequests",4],Wsa:["minStreamableConcurrencyWindow",3E3],vTb:["maxStreamableConcurrencyWindow",Infinity],Fya:["streamableConcurrencyFactor",.3],KS:["bufferingConcurrencyWindow",7800],Hja:["branchCreationThreshold",12E4],e5:["enableDiscontiguousBuffering",!1],Lna:["forceImmediateTransitionTypeForTitles",[]],Kna:["forceImmediateTransitionExitZone",0],fla:["contiguousBufferMultiplier",3],IWa:["contiguousBufferMinimumAudio",1048576],KWa:["contiguousBufferMinimumVideo",8388608],JWa:["contiguousBufferMinimumText",0],WYb:["prefetchBudgetInBytes",0],zab:["rebufferRiskHalfLife",1E4],XY:["useBufferSizeLimiter",!1],b9b:["useStaticBufferSizeLimiter",!1],ZYb:["prefetchWeightBudget",32],Zsa:["minimumDownstreamBranchProbability",.075],aAa:["useExitZones",!0],$Yb:["prefetchWhilePlaying",!0],eZb:["prefetcherSoftReset",!0],AYb:["playgraphDefaultWeight",65520],SDb:["delayNotificationOfEoS",!1],OTb:["memDeadlockShouldCheckMemory",!0],NTb:["memDeadlockOverageThreshold",.9],MTb:["memDeadlockMaxUtilizationPercentage",.5],wYb:["playerPtsPadding",1],mic:["minFragmentVmaf",void 0],yT:["enableCombinedPlaygraphs",!0],jL:["enableAdPlaygraphs",!0],g5:["enablePrerollForInitialSeek",!1],$ma:["excludedContentPlaygraphIds",[]],B2a:["graphSelectorSetAudioRate",!1],cGb:["enableVmafEstimationFromBitrate",!1],xTb:["maxVMAFMappingBitrate",16E3],yTb:["maxVMAFMappingVMAF",110],byb:["cdndldistEnabled",!1],mz:["segmentFadeDuration",400],jaa:["segmentFadeInDuration",-1],kaa:["segmentFadeOutDuration",-1],MM:["maximumFade",{"heaac-2-dash":-44,"heaac-2hq-dash":-44,"ddplus-5.1hq-dash":-44,"ddplus-5.1-dash":-44}],S$:["retainSbrOnFade",!1],Z3a:["insertSilentFrameOnFade",!0],Gic:["optimizeEditedFragments",!1],Geb:["supportsPtsChanged",!0],tFb:["enableAdLruCaches",!1],YTa:["aseGcSettings",{segmentPresenting:!0,branchPruned:!0}],KFb:["enableLiveRequestLogger",!1],m3a:["hydrateWaitTimeBetweenAdBreaksMs",5E3],V6a:["maxPlayerDistancePriorToAdBreakHydrationMs",6E4],hD:["usePrioritySetTimeout",!1],pVa:["centralizeClockSchedulers",!0],qUa:["backOffSetTimeout",!0],w0b:["rehydrateSkippableAdBreaks",!0],Ijc:["skipIntroPlaygraphEnabled",!1],L7:["jointAudioVideoSelectorEnabled",!1]};b.Aj=b.Ezb;},2362:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},81883:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Koa=b.Eub=void 0;b.Eub=function(a){return a.gO;};b.Koa=function(a,c){return void 0 !== a.M8?a.M8:c && void 0 !== c.M8?c.M8:100;};},39656:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ay=void 0;c=a(49730);l=a(39139);f=a(62558);b.ay=function(k,d,g,n,h,m,p,q){var u;c.K && n.trace("AsePlaygraph.createRequestQueue()");u=l.vD.instance.ay(k,d.P,!0,!1,{pB:g.pB,aa:h},g);u.$k.on(u,"networkfailing",function(){var t;c.K && n.trace("requestQueue OnNetworkFailing: ",u);u.hna && ((0,f.assert)(u.ina),null === (t=d.Av) || void 0 === t?void 0:t.Ur(void 0,u.ina,void 0,u.rg,u.$i));d.Cn();});u.$k.on(u,"error",function(){q(u.rg,u.$i);});u.on("transportreport",function(t){t.Dma=d.DM.oL;m(t);});u.on("mediaRequestComplete",p);u.Db();return u;};},39139:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.vD=void 0;c=a(5163);l=a(12043);f=c.__importDefault(a(89956));k=a(27364);d=a(28302);r=(function(){function g(n){this.dE=n;this.Bd=[];this.console=new l.platform.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(g,{instance:{get:function(){void 0 === g.Os && (g.Os=new g(l.platform.IP));return g.Os;},enumerable:!1,configurable:!0}});g.reset=function(){g.Os=void 0;};g.prototype.ay=function(n,h,m,p,q,u){var t;t=u.X3b?this.QHb(m,h,n,u.Y3b):-1;-1 === t?(t={track:this.QBb(m,p,n,q,u),Ai:m,P:h,fab:n,JC:[],Zn:!1,zF:!1},this.Bd.push(t),this.R_b(t),n=!1):(n=!0,t=this.Bd[t]);n=new d.zNa(this.console,t.track,t.Zn,n);t.JC.push(n);return n;};g.prototype.R_b=function(n){function h(){n.Zn=!0;n.track.removeListener("created",h);}n.track.on("created",h);};g.prototype.N4=function(n){var h,m;n.pt();h=this.OT(function(p){return p.track === n.track;});if(-1 !== h){if((h=this.Bd[h],1 === h.JC.length))(h.track.pt(),h.zF=!0);else {m=h.JC.indexOf(n);0 <= m && h.JC.splice(m,1);}}else n.track.pt();};g.prototype.Cf=function(){this.dE.Cf();};g.prototype.QBb=function(n,h,m,p,q){var u,t,w,v,y,x;u=this;w=!1;v=t=!1;y=p.aa;n?m === k.u.X?(n=1,q.un?(v=!0,n=q.ysa):q.RV && 2 < q.RV && (v=!0,n=q.RV),t=y?!!q.YY:q.YY || !v,t={type:this.dE.X,openRange:t,pipeline:v,connections:n,socketBufferSize:q.Jba,minRequestSize:q.fW}):m === k.u.$?(w=q.un && (q.X8b || h && q.Y8b),t=y?!!q.YY:q.YY || !w,t={type:this.dE.$,openRange:t,pipeline:w,connections:1,socketBufferSize:q.s3,minRequestSize:q.fW}):m === k.u.Ga?(t=y?!!q.YY:q.YY || !q.Z8b,t={type:this.dE.Ga,openRange:t,pipeline:q.un,connections:1,socketBufferSize:q.C6b,minRequestSize:q.fW}):t={type:q.uEb?this.dE.X:this.dE.glb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:q.Mpa,minRequestSize:q.fW}:t={type:m === k.u.$?f.default.vm.$:f.default.vm.X,openRange:!1,pipeline:!1,connections:1,socketBufferSize:m === k.u.$?q.s3:q.Jba,minRequestSize:q.fW};x=new this.dE(t,p);x.un=v;x.on("transportreport",function(z){var A;A=u.OT(function(B){return B.track === x;});-1 !== A && (A=u.Bd[A],A.JC.length && A.JC[0].emit("transportreport",z));});x.on("mediaRequestComplete",function(z){var A;A=u.OT(function(B){return B.track === x;});-1 !== A && (A=u.Bd[A],A.JC.length && A.JC[0].emit("mediaRequestComplete",z));});x.on("destroyed",function(){var z;z=u.OT(function(A){return A.track === x;});-1 !== z && u.Bd.splice(z,1);x.removeAllListeners();});x.on("pipelinedisabled",function(){x.un=!1;if(y)x.cwa(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!1,connections:1}));else if(w && q.W8b || q.Ogb)q.Ogb && x.config.type === k.u.X?x.cwa(c.__assign(c.__assign({},x.config),{socketBufferSize:q.oUb,pipeline:!1,openRange:!0,connections:1})):x.cwa(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!0}));});return x;};g.prototype.QHb=function(n,h,m,p){return this.OT(function(q){return !q.zF && (!p && q.track.config.Fic || !n?!q.Ai && q.fab === m:q.Ai && q.P === h && q.fab === m);});};g.prototype.OT=function(n){for(var h=0;h < this.Bd.length;++h){if(n(this.Bd[h]))return h;}return -1;};return g;})();b.vD=r;},28302:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.zNa=void 0;c=a(5163);l=a(57055);r=(function(f){function k(d,g,n,h){var m;m=f.call(this) || this;m.T=d;m.track=g;m.Zn=!1;m.nha=!1;m.$k=new l.De();m.$k.on(g,"networkfailing",function(){m.emit("networkfailing");});m.$k.on(g,"error",function(){m.T.warn("requestQueue got error");m.emit("error");});if(n)(m.Zn=!0,Promise.resolve().then(function(){return m.emit("created");}));else m.$k.on(g,"created",function(){m.Zn=!0;m.emit("created");});m.nha=h;return m;}c.__extends(k,f);Object.defineProperties(k.prototype,{hna:{get:function(){return this.track.hna;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{rg:{get:function(){return this.track.rg;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{$i:{get:function(){return this.track.$i;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ina:{get:function(){return this.track.ina;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});k.prototype.Db=function(){var d,g;this.nha || (null === (g=(d=this.track).Db) || void 0 === g?void 0:g.call(d),this.nha=!0);};k.prototype.toString=function(){return this.track.toString();};k.prototype.toJSON=function(){return this.track;};k.prototype.pt=function(){this.$k.clear();};return k;})(l.EventEmitter);b.zNa=r;},89956:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(87034);b["default"]={kac:{Qu:0,zdc:1,name:["STARTUP","STEADY"]},vm:{$:r.u.$,X:r.u.X,Ga:r.u.Ga,name:["AUDIO","VIDEO","TEXT"]},Zbc:{$:r.u.$,X:r.u.X,Ga:r.u.Ga,name:["AUDIO","VIDEO","TEXT"]},Tf:{URL:0,XD:1,LOCATION:2,Ku:3,name:["URL","SERVER","LOCATION","NETWORK"]},vl:{HAVE_NOTHING:0,aJ:1,$I:2,OP:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},Es:{T$b:0,Bbc:1,ddc:2,Acc:3,Ycc:4,Zdc:5,Gbc:6,Ybc:7,Qu:8,Hk:9,Sea:10,bob:11,Aca:12,gmb:13,fmb:14,Job:15,Iob:16,kmb:17,$ob:18,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded switchlivedvr").split(" ")},dbc:{Ku:0,Gac:1,name:["NETWORK","DECODE"]},xdc:{Hac:"delayedSeamless",Nbc:"hideLongTransition"}};},49730:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.K=!1;},98705:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.fFa=void 0;c=a(5163);l=a(57055);f=c.__importStar(a(17267));k=a(12043);d=new k.platform.Console("ASEJS_ERROR_DIRECTOR","asejs");g=c.__importDefault(a(89956));n=a(34425);h=a(83386);m=k.platform.Uo;p=m.t_;q={};u={};r=[g.default.Tf.Ku,!1];a=[g.default.Tf.Ku,!0];t=[g.default.Tf.XD,!1];w=[g.default.Tf.XD,!0];v=[g.default.Tf.URL,!0];y=[g.default.Tf.URL,!1];x=[g.default.Tf.URL,!1];z=[-1,!1];A=[g.default.Tf.XD,!1];q[p.L$b]=t;q[p.UNKNOWN_ERROR]=t;q[p.Dcc]=t;q[p.Zjb]=t;q[p.LDa]=t;q[p.kkb]=t;q[p.ckb]=w;q[p.rjb]=w;q[p.UCa]=A;q[p.SCa]=A;q[p.sjb]=z;q[p.tjb]=A;q[p.ujb]=A;q[p.ojb]=t;q[p.qjb]=t;q[p.TCa]=r;q[p.pjb]=t;q[p.njb]=A;q[p.tac]=w;q[p.klb]=A;q[p.mGa]=A;q[p.lGa]=A;q[p.iGa]=A;q[p.jGa]=A;q[p.jlb]=v;q[p.Dda]=w;q[p.Fda]=v;q[p.Eda]=a;q[p.pGa]=a;q[p.Gda]=w;q[p.mlb]=v;q[p.q0]=A;q[p.nGa]=w;q[p.llb]=w;q[p.fkb]=w;q[p.$jb]=t;q[p.Oob]=t;q[p.Qjb]=t;q[p.Rjb]=t;q[p.Sjb]=t;q[p.Tjb]=t;q[p.Ujb]=t;q[p.Vjb]=t;q[p.Wjb]=t;q[p.Xjb]=t;q[p.Yjb]=t;q[p.akb]=t;q[p.bkb]=t;q[p.dkb]=t;q[p.ekb]=t;q[p.gkb]=t;q[p.hkb]=t;q[p.ikb]=t;q[p.jkb]=t;q[p.lkb]=t;q[p.mkb]=t;q[p.Nob]=A;q[p.TIMEOUT]=r;u[p.UCa]=!0;u[p.mGa]=!0;u[p.lGa]=!0;u[p.jGa]=!0;u[p.LDa]=!0;r=(function(){var g09;function B(C,D,E,G){var w9x;w9x=2;for(;w9x !== 18;){switch(w9x){case 2:this.al=C;this.config=D;this.Cpa=E;this.LB=G;this.events=new l.EventEmitter();this.$k=new l.De();w9x=8;break;case 8:var W_u="netw";W_u+="o";W_u+="rkFa";W_u+="iled";var j5J="1";j5J+="SIY";j5J+="bZr";j5J+="N";j5J+="JCp9";j5J;this.LVa=new h.Ffa();q[p.iGa]=D.lOb?w:A;this.$k.addListener(this.al,W_u,this.uNb.bind(this));this.AM=k.platform.time.wa();this.mt=0;w9x=11;break;case 11:this.$ya={};this.xva=new n.bNa(C,G,D);this.yma=!1;this.h4=0;w9x=18;break;}}}g09=2;for(;g09 !== 13;){switch(g09){case 6:B.prototype.VVa=function(){var J97;J97=2;for(;J97 !== 1;){switch(J97){case 2:var E$6="Cleared unde";E$6+="rflow t";E$6+="i";E$6+="meout";this.SY && (clearTimeout(this.SY),this.SY=void 0,d.info(E$6));J97=1;break;}}};return B;break;case 2:B.prototype.Oa=function(){var O7P;O7P=2;for(;O7P !== 1;){switch(O7P){case 2:this.$k.clear();O7P=1;break;}}};B.prototype.lO=function(C){var W8l;W8l=2;for(;W8l !== 1;){switch(W8l){case 2:this.Caa=C;W8l=1;break;case 4:this.Caa=C;W8l=3;break;}}};B.prototype.Ur=function(C,D,E,G,F){var T9q,ta,Y_O,Ba,La,Za,ab,Z,na,Ha,Sa,P45,t4M,C5w,J,M,L,K,P,H,I,N,R,X,la,xa,U1V,ra,qa,P3C,D5v,W8F,ha;T9q=2;for(;T9q !== 44;){switch(T9q){case 23:ta=R.c1a(C.stream);T9q=22;break;case 8:T9q=this.h4 >= this.config.q8?7:13;break;case 34:try{Y_O=2;for(;Y_O !== 8;){switch(Y_O){case 2:(Ba=c.__values(D),La=Ba.next());Y_O=1;break;case 9:La=Ba.next();Y_O=1;break;case 1:Y_O=!La.done?5:8;break;case 5:var M5t="e";M5t+="rr";M5t+="o";M5t+="r";var z51=" Reached limit, ";z51+="marking url as faile";z51+="d and changing";z51+=" stream ";var S1n="]";S1n+=" segm";S1n+="ent";S1n+="Id ";var I$D=" Retry";I$D+=" ";I$D+="count ";I$D+="increasing ";var E4S="] se";E4S+="gment";E4S+="Id";E4S+=" ";(Za=La.value,ab=Za.urls,Z=Za.url,na=Za.Rc,Ha=Za.stream,Sa=Za.Ub);X === A || X === t?this.xva.EZb(Za,{uTa:na,QY:X,dn:E,rg:G,VZa:I,$i:F}):this.config.Ama && X === y && (null === (L=null === Ha || void 0 === Ha?void 0:Ha.Zs) || void 0 === L?0:L.aa) && (null === (K=null === Ha || void 0 === Ha?void 0:Ha.Zs) || void 0 === K?void 0:K.Ub) === Sa.id && C && C.EM?(ha=C.EM.OC,C.EM.OC=ha + 1,d.log("[" + C.mediaType + E4S + C.Kh + I$D + ha + 1),Ha.Zs.Gtb(C.Kh || 0)):this.config.Ama && X === x && (null === (P=null === Ha || void 0 === Ha?void 0:Ha.Zs) || void 0 === P?0:P.aa) && (null === (H=null === Ha || void 0 === Ha?void 0:Ha.Zs) || void 0 === H?void 0:H.Ub) === Sa.id && C && C.EM?(d.log("[" + C.mediaType + S1n + C.Kh + z51 + C.EM.OC),R.V0b(C.stream.url,la,xa)):ab.some(function(ia){var g6p;g6p=2;for(;g6p !== 5;){switch(g6p){case 2:R.Ur(la,xa,ia.url);g6p=1;break;case 1:return la === g.default.Tf.XD;break;}}});!this.Caa || 0 !== E && void 0 !== E || this.Caa.wxa(M5t,Z);Y_O=9;break;}}}catch(ia){var Q;Q={error:ia};}finally{P45=2;for(;P45 !== 1;){switch(P45){case 2:try{t4M=2;for(;t4M !== 1;){switch(t4M){case 2:La && !La.done && (J=Ba.return) && J.call(Ba);t4M=1;break;}}}finally{C5w=2;for(;C5w !== 5;){switch(C5w){case 2:C5w=Q?1:5;break;case 1:throw Q.error;C5w=5;break;case 9:throw Q.error;C5w=2;break;}}}P45=1;break;}}}T9q=44;break;case 9:T9q=this.yma?8:12;break;case 3:T9q=G && f.isArray(q[G])?9:28;break;case 31:D=R.T2b(D.host,D.port).map(function(ia){var P4l,va;P4l=2;for(;P4l !== 5;){switch(P4l){case 2:return {url:(null === (va=ia.url.stream.Zs) || void 0 === va?void 0:va.xU(!0)) || "",Rc:ia.Ub.id,Ub:ia.Ub,stream:ia.url.stream,urls:ia.Ub.urls};break;}}}).filter(function(ia){var X7L;X7L=2;for(;X7L !== 1;){switch(X7L){case 4:return "" == ia.url;break;case 2:return "" !== ia.url;break;}}});T9q=21;break;case 29:return;break;case 14:return;break;case 16:var j62="Treat HTTP_RESPONSE_5XX";j62+=" as SERVE";j62+="R_THROTTLE error for live streaming";G === p.Gda && (d.info(j62),X=A);T9q=15;break;case 4:var y3x=" : cr";y3x+="itical er";y3x+="ror";y3x+=" count = ";var t59=" ";t59+="on";t59+=" ";var V8h=" httpCo";V8h+="de";V8h+=" ";var N9G="Fa";N9G+="il";N9G+="ure";N9G+=" ";d.warn(N9G + I + V8h + E + t59 + JSON.stringify(C?C:D) + y3x + this.mt);T9q=3;break;case 25:T9q=X !== z?24:44;break;case 13:this.h4++;T9q=12;break;case 28:var Z$g="Unmapp";Z$g+="ed failure";Z$g+=" code in JSA";Z$g+="SE error direct";Z$g+="or : ";T7u0V.f9E(0);d.error(T7u0V.O1f(Z$g,G));T9q=44;break;case 35:T9q=N.wH?34:33;break;case 2:I=m.t_.name;I=G?I[G]:void 0;(N=this.config,R=this.al);T9q=4;break;case 10:T9q=this.config.Ama && C.EM?20:16;break;case 12:X=q[G];T9q=11;break;case 32:T9q=D?31:30;break;case 7:var Q8R=" consecutive network ";Q8R+="failure mode";Q8R+=" in un";Q8R+="derflow mode";var W0d="Forci";W0d+="ng permanent network failure af";W0d+="ter ";d.info(W0d + this.h4 + Q8R);this.al.Ur(g.default.Tf.Ku,!0);T9q=14;break;case 21:(la=X[0],xa=X[1]);T9q=35;break;case 30:var B7x="In";B7x+="vali";B7x+="d affected f";B7x+="or network failu";B7x+="re";d.error(B7x);T9q=29;break;case 33:try{U1V=2;for(;U1V !== 13;){switch(U1V){case 2:(ra=c.__values(D),qa=ra.next());U1V=1;break;case 1:U1V=!qa.done?5:13;break;case 14:qa=ra.next();U1V=1;break;case 5:Za=qa.value;na=Za.Rc;ab=Za.urls;Z=Za.url;U1V=8;break;case 8:U1V=X === A && !this.W0b(na)?13:7;break;case 7:var E1N="e";E1N+="r";E1N+="r";E1N+="or";ab.some(function(ia){var l51;l51=2;for(;l51 !== 5;){switch(l51){case 2:R.Ur(la,xa,ia.url);return la === g.default.Tf.XD;break;}}});!this.Caa || 0 !== E && void 0 !== E || this.Caa.wxa(E1N,Z);U1V=14;break;}}}catch(ia){var O;O={error:ia};}finally{P3C=2;for(;P3C !== 1;){switch(P3C){case 2:try{D5v=2;for(;D5v !== 1;){switch(D5v){case 2:qa && !qa.done && (M=ra.return) && M.call(ra);D5v=1;break;}}}finally{W8F=2;for(;W8F !== 5;){switch(W8F){case 9:throw O.error;W8F=7;break;case 1:throw O.error;W8F=5;break;case 2:W8F=O?1:5;break;}}}P3C=1;break;}}}T9q=44;break;case 11:T9q=R.aa && C?10:15;break;case 22:D=R.e2a(C).map(function(ia){var m19;m19=2;for(;m19 !== 1;){switch(m19){case 2:return {url:C.url,Rc:ia.id,Ub:ia,stream:ta,urls:ia.urls,I:C.Kh};break;}}});T9q=21;break;case 24:T9q=C?23:32;break;case 20:X=C.EM;ha=X.OC;X=X.Nhc;T9q=17;break;case 17:var m4l=" ";m4l+="max re";m4l+="tries:";var C6m="Treating ${httpCo";C6m+="de} a";C6m+="s URL_THROTTLE error for live streaming ";C6m+="retry count:";var Z95=" ma";Z95+="x";Z95+=" retr";Z95+="i";Z95+="es:";var T9l=" a";T9l+="s URL_TEMP error for live";T9l+=" streaming retry";T9l+=" count:";var L5C="T";L5C+="rea";L5C+="t";L5C+="ing ";ha < X?(d.info(L5C.concat(E,T9l),ha,Z95,X),X=y):(d.info(C6m,ha,m4l,X),X=x);T9q=15;break;case 15:var g4M="crit";g4M+="icalNetw";g4M+="orkError";var V9v="c";V9v+="ritical";V9v+="Netw";V9v+="o";V9v+="rkError";var Q2c="r";Q2c+="eque";Q2c+="st";Q2c+="Er";Q2c+="ror";var J6u="requ";J6u+="es";J6u+="tError";this.Fy={dn:E,rg:G,VZa:I,$i:F};this.events.emit(J6u,{type:Q2c,dn:E});u[G] && (++this.mt,this.events.emit(V9v,{type:g4M,rg:G}));T9q=25;break;}}};B.prototype.W0b=function(C){var b7K,D,E,G;b7K=2;for(;b7K !== 7;){switch(b7K){case 4:(G.Ud=D,G.count=1);b7K=7;break;case 2:(D=k.platform.time.wa(),E=this.config,G=this.$ya[C]);b7K=1;break;case 9:return G.jz=!0;break;case 1:b7K=G?5:8;break;case 5:b7K=G.Ud < this.AM?4:3;break;case 8:this.$ya[C]={Ud:D,count:1};b7K=7;break;case 3:b7K=!(G.Ud >= D - E.cba || G.jz || (G.Ud=D,++G.count,G.count < E.x8))?9:7;break;}}};g09=3;break;case 3:B.prototype.uNb=function(C){var w2Y,J,M,L,D,E,G,F;w2Y=2;for(;w2Y !== 7;){switch(w2Y){case 3:(J=this.Fy.rg,M=this.Fy.dn,L=this.Fy.$i);w2Y=9;break;case 4:w2Y=this.Fy?3:9;break;case 2:var d17="Network";d17+=" ";d17+="has failed ";var P0C=" ms";P0C+=" ag";P0C+="o";var o8n="te";o8n+="mporaril";o8n+="y";var d1j="perm";d1j+="a";d1j+="ne";d1j+="n";d1j+="tly";var v15=" last succe";v15+="ss wa";v15+="s ";(D=this,E=k.platform.time.wa() - this.AM,G=C,F=this.config);T7u0V.o8l(1);d.warn(T7u0V.T1h(v15,E,C?d1j:o8n,P0C,d17));!C && E > F.ita && (G=!0);w2Y=4;break;case 9:var I4u="temp";I4u+="oraryNetworkE";I4u+="rror";var R_W="te";R_W+="mporaryN";R_W+="etwor";R_W+="kError";C || this.events.emit(R_W,{type:I4u,errorCode:J,httpCode:M,nativeCode:L});G?(this.ZN && (clearTimeout(this.ZN),this.ZN=void 0),this.VVa(),this.xva.reset(),this.Cpa({lQb:C,WWb:J,YWb:M,ZWb:L})):this.ZN || (this.ZN=setTimeout(function(){var H3o;H3o=2;for(;H3o !== 5;){switch(H3o){case 2:D.ZN=void 0;D.O$();H3o=5;break;}}},F.jta));w2Y=7;break;}}};B.prototype.O$=function(){var N$u,C;N$u=2;for(;N$u !== 5;){switch(N$u){case 2:C=this;this.LVa.Via || this.LVa.Bhb(function(){var k6g;k6g=2;for(;k6g !== 1;){switch(k6g){case 2:C.ZN || (C.al.O$(),C.$ya={},C.LB());k6g=1;break;}}});N$u=5;break;}}};B.prototype.sba=function(C){var j88,D;j88=2;for(;j88 !== 6;){switch(j88){case 2:D=this.config;this.AM=Math.max(C.qh || k.platform.time.wa(),this.AM);this.VVa();this.yma=!1;j88=3;break;case 3:this.h4=0;this.al.aa && void 0 !== C.Kh && !C.stream.s$(C.Kh) && this.al.c1a(C.stream).Zs.E0b(C.Kh);D.wH && this.xva.sba(C);j88=7;break;case 7:var i2p="updatingLa";i2p+="stSucces";i2p+="sEvent";var X8_="u";X8_+="pdatingLastSu";X8_+="ccessEvent";this.events.emit(X8_,{type:i2p});j88=6;break;}}};B.prototype.rh=function(){var y68,C,D,E;y68=2;for(;y68 !== 3;){switch(y68){case 4:this.config.Bma && (this.yma=!0);y68=3;break;case 2:var L0o="m";L0o+="s";var S4O="Setting un";S4O+="derflow ";S4O+="timeout in ";(C=this,D=this.config,E=D.r8);this.AM=Math.max(k.platform.time.wa(),this.AM);!D.Ggb || this.SY || D.eVb || (d.info(S4O + E + L0o),this.SY=setTimeout(function(){var M3p;M3p=2;for(;M3p !== 4;){switch(M3p){case 2:var i9l="ms, since underflow with";i9l+=" no s";i9l+="uccess";var E27="Forcing ";E27+="permanent n";E27+="etwork failure ";E27+="afte";E27+="r ";T7u0V.f9E(2);d.info(T7u0V.T1h(E27,i9l,E));C.SY=void 0;C.al.Ur(g.default.Tf.Ku,!0);M3p=4;break;}}},E));y68=4;break;}}};g09=6;break;}}})();b.fFa=r;},59263:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.HBa=void 0;c=a(5163);r=a(12043);l=a(57055);f=r.platform.kj;a=(function(k){function d(g){var n;n=k.call(this) || this;n.MRa=g;n.c2=g.groupId;n.k2=new l.De();n.k2.on(n,f.Ik.wQ,n.Irb);n.k2.on(n,f.Ik.dA,n.Eha);return n;}c.__extends(d,k);d.prototype.RWb=function(g,n,h){f.prototype.open.call(this,g,n,h);};d.prototype.n3b=function(g){this.c2=g;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.c2;},enumerable:!1,configurable:!0}});d.prototype.$e=function(){this.k2 && this.k2.clear();f.prototype.$e.call(this);};d.prototype.Irb=function(g){this.MRa.FZb(g.probed,g.affected);this.$e();};d.prototype.Eha=function(g){this.MRa.CZb(g.probed,g.affected);this.$e();};return d;})(f);b.HBa=a;},34425:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.bNa=void 0;c=a(12043);l=a(62558);f=a(59263);new c.platform.Console("ASEJS_PROBE_MANAGER","asejs");r=(function(){function k(d,g,n){this.wR=d;this.LB=g;this.config=n;this.tt={};this.FC={};this.GE=!0;this.groupId=1;}k.prototype.EZb=function(d,g){var n,h,m,p,q,u,t,w,v,y;n=this;h=this.config;m=d.Rc;p=d.stream;q=d.Ub.location;(0,l.assert)(p,"Failing url should have an associated stream");(0,l.assert)(q,"Failing url should have an associated location");u=[];t=p.Lh[0];w=!1;v=this.tt[m];y=c.platform.time.wa();if(!v)v=this.W3b(m,y,g,d);else if(v.Ud >= y - h.cba)return;v.jz || (t && q.id === t.id && (d.isPrimary=!0),v.Ud=y,v.jz=!1,v.error=g,++v.count,p && p.urls && 0 !== p.urls.length && (p.urls.forEach(function(x){var z,A,B,C,D;B=x.Ub.id;C=B + "-" + m;D=n.FC[C];if(void 0 === D || void 0 === D.bX)(D && D.km && clearTimeout(D.km),x=(null === (A=null === (z=d.stream) || void 0 === z?void 0:z.Zs) || void 0 === A?0:A.aa)?n.aLb(d.stream.Zs,d.I,x.url):x.url,(0,l.assert)(x,("Unexpected probeUrl: ").concat(x)),z=n.hXa(x,d,B),n.FC[C]={ia:!1,count:0,bX:z.Wi()},u.push(z.Wi()),w=!0);-1 === v.Exa.indexOf(B) && v.Exa.push(B);}),0 < u.length && (h={ts:c.platform.time.wa(),es:g.uTa,fc:g.rg,fn:g.VZa,nc:g.$i,pb:u,gid:this.groupId},g.dn && (h.hc=g.dn),this.LG(h,"errpb")),w && this.groupId++));};k.prototype.hXa=function(d,g,n){var h,m;h=new f.HBa(this);m="random=" + parseInt(("").concat(1E7 * Math.random()));h.RWb(d + (-1 !== d.indexOf("?")?"&":"?") + m,g,n);return h;};k.prototype.W3b=function(d,g,n,h){var m;m=this.tt[d];h=h.Ub.location;m || (m=this.tt[d]={count:0,Ud:g,jz:!1,error:n,Exa:[],zva:{},location:h,I:n.I,qgc:n});return m;};k.prototype.getState=function(d){return this.tt[d];};k.prototype.Ryb=function(d){this.tt[d]=void 0;};k.prototype.LG=function(d,g){var n;if(this.GE){n={type:"logdata",target:"endplay",fields:{}};n.fields[g]={type:"array",value:d,adjust:["ts"]};this.wR.zta(n);}};k.prototype.aLb=function(d,g,n){var h;h=void 0 === g || g === d.Tl().eY;return d.xU(h,h?void 0:g,n);};k.prototype.FZb=function(d,g){var n,h,m,p,q,u,t,w,v,y,x,z;n=this;p=this.wR;q=this.config;u=g.Rc;t=this.tt[u];if(t){w=d.url;v=this.FC[d.Rc + "-" + u];if(v){y=t.error;v && v.km && clearTimeout(v.km);v.ia=!0;v.count=0;v.bX=void 0;t.zva[d.Rc]=!0;v=this.tt[d.Rc];if((null === v || void 0 === v?0:v.jz) && q.pS){p.zbb(d.Rc,v.error.QY[1]);if(this.GE){x={ts:c.platform.time.wa(),id:d.requestId,servid:g.Rc,gid:d.groupId?d.groupId:-1};this.LG(x,"errst");}this.tt[d.Rc]=void 0;this.LB();}if(w !== g.url){z=this.FC[u + "-" + u];z && z.ia || (u=null === v || void 0 === v?void 0:v.location,q=Math.min((null === (m=null === (h=null === u || void 0 === u?void 0:u.jb) || void 0 === h?void 0:h.Lv) || void 0 === m?void 0:m.Ca) || Math.random() * q.s8,q.s8),setTimeout(function(){var A;if(!(!1 !== t.jz || z && z.ia) && (t.jz=!0,p.Ur(y.QY[0],y.QY[1],g.stream.Zs.url,y),n.GE)){A={ts:c.platform.time.wa(),id:d.requestId,servid:g.Rc,gid:d.groupId?d.groupId:-1};n.LG(A,"erep");}},q));}this.GE && (x={ts:c.platform.time.wa(),id:d.requestId,result:1,servid:d.Rc,gid:d.groupId?d.groupId:-1},this.LG(x,"pbres"));}}};k.prototype.CZb=function(d,g){var n,h,m,p,q,u,t,w,v,y,x,z,A;n=this;p=this.wR;q=this.config;u=g.Rc;t=this.tt[u];w=d.Rc;v=this.FC[w + "-" + u];if(v)if(t){y=0;v.ia=!1;v.bX=void 0;t.zva[w]=!1;x=t.Exa;if(q.pS && w === u && g.isPrimary){z=t.location;z=(null === (m=null === (h=null === z || void 0 === z?void 0:z.jb) || void 0 === h?void 0:h.Lv) || void 0 === m?void 0:m.Ca) || 300 * Math.random();h=Math.min(z * Math.pow(2,v.count),12E4);h+=Math.random() * (1E4 > h?100:1E4);v.km=setTimeout(function(){var B;v.km=void 0;B=n.hXa(d.url,g,w);B.n3b(d.groupId);v.bX=B.Wi();},h);}++v.count;if(w === u && (y=0,x.forEach(function(B){!1 === t.zva[B] && y++;}),x.length === y && t.count >= q.x8)){A=t.error;t.jz=!0;q=g.stream;(0,l.assert)(q,"Probe failed url should have an associated stream");q.urls.forEach(function(B){p.Ur(A.QY[0],A.QY[1],B.url,A);n.GE && (B={ts:c.platform.time.wa(),id:-1,servid:B.Ub.id},n.LG(B,"erep"));});}this.GE && (q={ts:c.platform.time.wa(),id:d.requestId,result:0,servid:d.Rc,gid:d.groupId?d.groupId:-1},this.LG(q,"pbres"));}else v && (v.ia=!1,v.bX=void 0);};k.prototype.sba=function(d){var g,n,h;if(d.url){n=this.wR;h=n.P2b(d.url);h || (h=null === (g=this.wR.e2a(d)[0]) || void 0 === g?void 0:g.id);h && (d=this.tt[h]) && d.jz && this.config.pS && (n.zbb(d.error.uTa,!1),this.GE && (n={ts:c.platform.time.wa(),id:-1,servid:h},this.LG(n,"errst")),this.Ryb(h),(h=this.FC[h + "-" + h]) && h.km && clearTimeout(h.km));}};k.prototype.reset=function(){var d,g,n;d=this.FC;for(n in d){d.hasOwnProperty(n) && (g=d[n + "-" + n]) && g.km && clearTimeout(g.km);}this.FC={};this.tt={};};return k;})();b.bNa=r;},40717:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.QYa=b.WPb=b.v4a=b.W1a=void 0;c=a(42866);b.W1a=function(l,f){if((l=l.Sa.v.ow) && 0 !== l.length)return (0,c.ec)(l,function(k){return k.Ka.G <= f && f < k.Ua.G;});};b.v4a=function(l,f){return f.index === l.af.index?!0:(l=l.Sa.v.ow) && 0 !== l.length?l.some(function(k){k=k.Ka;return f.Ka.Iy(k) && k.lessThan(f.Ua);}):!1;};b.WPb=function(l,f){return f.index === l.jf.index?!0:(l=l.Sa.v.ow) && 0 !== l.length?l.some(function(k){k=k.Ua;return f.Ka.lessThan(k) && k.Iy(f.Ua);}):!1;};b.QYa=function(l,f,k,d){var g,n,h,m,p,q,u,t;l=null === (g=f.Ja) || void 0 === g?void 0:g.start;g=null === (n=f.Ja) || void 0 === n?void 0:n.end;t=n=!1;if((null === d || void 0 === d?0:d.iQb) || (null === d || void 0 === d || !d.UPb) && f.Ka.lessThan(k.Ka)){if(u=f.tna(k.Ka.G))(u=(null !== (m=null === (h=f.Ja) || void 0 === h?void 0:h.start) && void 0 !== m?m:0) + u.Nj,l=Math.max(null !== l && void 0 !== l?l:0,u));u=k.Ka.G;n=!0;}if((null === d || void 0 === d || !d.aQb) && f.Ua.greaterThan(k.Ua)){if(u=f.tna(k.Ua.G))(u=(null !== (q=null === (p=f.Ja) || void 0 === p?void 0:p.start) && void 0 !== q?q:0) + u.Nj,g=Math.min(null !== g && void 0 !== g?g:Infinity,u),f.mW=f.index);u=k.Ua.G;t=!0;}if(void 0 !== l || void 0 !== g)(f.Bi({start:l,end:g}),void 0 !== u && (!f.yw || u > f.yw) && f.mO(u));f.A3b(k.region,n,t);};},41714:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.nBa=void 0;c=a(5163);l=a(86786);r=(function(){function f(k,d){this.qk=k;this.filter=d;this.M6a=Math.max(k.max_n || 10,0);this.reset();}f.prototype.reset=function(){this.jX=[];this.offset=0;this.zw=this.yz=null;this.filter.reset();this.HY=null;};f.prototype.add=function(k,d,g){var n;n=this.zw;null !== n && g > n && (this.offset+=Math.max(d - n,0),this.zw=null);for((0,l.Y3a)(this.jX,[d - this.offset,g - this.offset,k]);this.jX && this.jX.length > this.M6a;){k=c.__read(this.jX.shift(),3);this.filter.add(k[2],k[0],k[1]);}this.HY=null;};f.prototype.get=function(k,d){var g,m;if(!this.HY){this.HY=this.filter.Yn();try{for(var n=c.__values(this.jX),h=n.next();!h.done;h=n.next()){m=c.__read(h.value,3);this.HY.add(m[2],m[0],m[1]);}}catch(q){var p;p={error:q};}finally{try{h && !h.done && (g=n.return) && g.call(n);}finally{if(p)throw p.error;}}}p=this.zw;return this.HY.get((null === p?k:p) - this.offset,d);};f.prototype.Yn=function(){var k;k=new f(this.qk,this.filter.Yn());k.zw=this.zw;k.offset=this.offset;return k;};f.prototype.start=function(k){var d;d=this.zw;null !== d && k > d && (this.offset+=k - d,this.zw=null);this.filter.start(k - this.offset);};f.prototype.stop=function(k){this.zw=null === this.zw?k:Math.min(this.zw,k);this.filter.stop(k - this.offset);};f.prototype.flush=function(){this.filter.flush();};f.prototype.toString=function(){return "AggregatingFilter(" + this.M6a + ", " + this.filter.toString() + ")";};return f;})();b.nBa=r;},45762:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.nD=void 0;r=(function(){var A0y;A0y=2;function a(){var v7s;v7s=2;for(;v7s !== 4;){switch(v7s){case 2:var j6W="1S";j6W+="IYbZrNJCp";j6W+="9";this.BE=this.jc=0;this.dc=this.kg=void 0;j6W;v7s=4;break;}}}for(;A0y !== 9;){switch(A0y){case 2:a.prototype.start=function(c){var E_g;E_g=2;for(;E_g !== 1;){switch(E_g){case 2:this.kg?c < this.kg?(this.BE+=this.kg - c,this.kg=c):this.dc && c > this.dc && (this.dc=this.kg=c):this.dc=this.kg=c;E_g=1;break;}}};a.prototype.stop=function(c){var B$C;B$C=2;for(;B$C !== 1;){switch(B$C){case 2:this.dc && c > this.dc && (this.BE+=c - this.dc,this.dc=c);B$C=1;break;}}};a.prototype.add=function(c,l,f){var o__;o__=2;for(;o__ !== 4;){switch(o__){case 2:this.start(l);this.stop(f);this.jc+=c;o__=4;break;}}};a.prototype.get=function(){var F0C;F0C=2;for(;F0C !== 1;){switch(F0C){case 2:return {Ca:this.BE?Math.floor(8 * this.jc / this.BE):null,vYa:this.BE || 0};break;}}};return a;break;}}})();b.nD=r;},75265:function(r,b,a){var l,f;function c(k){this.W={TV:k.maxc || 25,Uka:k.c || .5,Z9b:k.w || 15E3,Kwb:k.b || 5E3};l.call(this,this.W.Z9b,this.W.Kwb);this.QR();}l=a(7977);f=a(15913).TDigest;c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var k;k=this.Ut(0);l.prototype.shift.call(this);null !== k && (this.We.push(k,1),this.GA=!0);return k;};c.prototype.flush=function(){var k;k=this.get();this.We.push(k,1);this.GA=!0;l.prototype.reset.call(this);return k;};c.prototype.get=function(){return this.p2a();};c.prototype.UL=function(){var k;k=this.p2a();return {min:k.min,p10:k.rua,p25:k.aq,p50:k.rn,p75:k.bq,p90:k.sua,max:k.max,centroidSize:k.cyb,sampleSize:k.sampleSize,centroids:k.wj};};c.prototype.p2a=function(){var k;if(0 === this.We.size())return null;k=this.We.wi([0,.1,.25,.5,.75,.9,1]);if(k[2] === k[4])return null;if(this.GA || !this.eh)(this.GA=!1,this.eh={min:k[0],rua:k[1],aq:k[2],rn:k[3],bq:k[4],sua:k[5],max:k[6],wi:this.We.wi.bind(this.We),cyb:this.We.size(),sampleSize:this.We.n,wj:this.NJb(),UL:this.UL.bind(this)});return this.eh;};c.prototype.NJb=function(){var k;if(0 === this.We.size())return null;if(!this.GA && this.eh)return this.eh.centroids;k=this.We.wi([.25,.75]);if(k[0] === k[1])return null;this.We.size() > this.W.TV && this.We.Vx();k=this.We.Dk(!1).map(function(d){return {mean:d.Lf,n:d.n};});return JSON.stringify(k);};c.prototype.k2a=function(){return this.We.summary();};c.prototype.size=function(){return this.We.size();};c.prototype.toString=function(){return "btdtput(" + this.iia + "," + this.zh + "," + this.Tn + "): " + this.We.summary();};c.prototype.QR=function(){this.We=new f(this.W.Uka,this.W.TV);};r.exports=c;},62012:function(r,b,a){var l,f;function c(k,d,g,n){l.call(this,g,n);this.av=new f(k);this.mrb=d;}l=a(7977);f=a(26208);c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var k;k=this.Ut(0);l.prototype.shift.call(this);null !== k && this.av.gTa(k);return k;};c.prototype.flush=function(){var k;k=this.get();this.av.gTa(k);l.prototype.reset.call(this);return k;};c.prototype.get=function(){var k;k=this.tU();return {sampleSize:this.yU(),Oua:k,qta:k.rn?(k.bq - k.aq) / k.rn:void 0};};c.prototype.yU=function(){return this.av.yU();};c.prototype.tU=function(){return this.av.yU() < this.mrb?{aq:void 0,rn:void 0,bq:void 0,sampleSize:void 0,wi:void 0}:{aq:this.av.DK(25),rn:this.av.DK(50),bq:this.av.DK(75),sampleSize:this.av.yU(),wi:this.av.DK.bind(this.av)};};c.prototype.toString=function(){return "biqr(" + this.iia + "," + this.zh + "," + this.Tn + ")";};r.exports=c;},72245:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.eDa=void 0;c=a(5163);l=a(45762);r=(function(){var L8C;L8C=2;function f(){var w1Y;w1Y=2;for(;w1Y !== 5;){switch(w1Y){case 2:this.dK={};w1Y=1;break;case 9:"";w1Y=9;break;case 3:this.dK={};w1Y=0;break;case 1:var b1x="1";b1x+="SIYbZr";b1x+="NJCp";b1x+="9";b1x;w1Y=5;break;}}}for(;L8C !== 8;){switch(L8C){case 2:var b$H="no-p";b$H+="bcid";b$H+="-ke";b$H+="y";f.prototype.add=function(k,d,g,n,h){var C5L,m;C5L=2;for(;C5L !== 9;){switch(C5L){case 2:m=this.dK;h=h || f.j9;void 0 === m[n] && (m[n]={});void 0 === m[n][h] && (m[n][h]=new l.nD());C5L=3;break;case 3:m[n][h].add(k,d,g);C5L=9;break;}}};f.prototype.start=function(k,d,g){var T8$,n;T8$=2;for(;T8$ !== 9;){switch(T8$){case 2:n=this.dK;g=g || f.j9;void 0 === n[d] && (n[d]={});T8$=4;break;case 4:void 0 === n[d][g] && (n[d][g]=new l.nD());n[d][g].start(k);T8$=9;break;}}};f.prototype.stop=function(k,d,g){var i6A,n;i6A=2;for(;i6A !== 4;){switch(i6A){case 2:n=this.dK;g=g || f.j9;void 0 !== n[d] && void 0 !== n[d][g] && n[d][g].stop(k);i6A=4;break;}}};f.prototype.get=function(){var Y28,d,g,n,h,m,D3z,p,q,P7j,G7C,s7h;Y28=2;function k(t){var b_8;b_8=2;for(;b_8 !== 1;){switch(b_8){case 2:Object.keys(m.dK[t]).forEach(function(w){var Y2E,v;Y2E=2;for(;Y2E !== 5;){switch(Y2E){case 2:v=g.dK[t][w].get();v && h.push({cdnid:t,pbcid:w === f.j9?null:w,avtp:v.Ca,tm:v.vYa});Y2E=5;break;}}});b_8=1;break;}}}for(;Y28 !== 4;){switch(Y28){case 2:(g=this,n=Object.keys(this.dK).map(function(t){var S$M;S$M=2;for(;S$M !== 1;){switch(S$M){case 2:return parseInt(t);break;}}}),h=[],m=this);try{D3z=2;for(;D3z !== 3;){switch(D3z){case 5:k(q.value);D3z=4;break;case 2:(p=c.__values(n),q=p.next());D3z=1;break;case 1:D3z=!q.done?5:3;break;case 7:D3z=-q.done?0:8;break;case 4:q=p.next();D3z=1;break;case 6:k(q.value);D3z=3;break;}}}catch(t){var u;u={error:t};}finally{P7j=2;for(;P7j !== 1;){switch(P7j){case 2:try{G7C=2;for(;G7C !== 1;){switch(G7C){case 2:q && !q.done && (d=p.return) && d.call(p);G7C=1;break;}}}finally{s7h=2;for(;s7h !== 5;){switch(s7h){case 2:s7h=u?1:5;break;case 3:s7h=u?6:3;break;case 9:throw u.error;s7h=8;break;case 1:throw u.error;s7h=5;break;}}}P7j=1;break;}}}return h;break;}}};f.j9=b$H;L8C=9;break;case 9:return f;break;}}})();b.eDa=r;},78632:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.sDa=void 0;c=a(5163);r=a(12043);l=a(15913);new r.platform.Console("ASEJS_TDIGEST_FILTER","media|asejs");a=(function(){function f(k){this.config=k;this.Vka=k.c;this.xsa=k.Yhc;this.HV=k.HV;this.NU=k.NU;this.l7=k.l7;this.g4b=k.Mfc;this.lG=k.lG;this.K6a=k.K6a;this.reset();}f.prototype.reset=function(){this.Ei=new l.TDigest(this.Vka,this.xsa);this.dc=null;};f.prototype.add=function(k,d,g){var n,h,m,u;g=Math.max(g - d,1);k=8 * k / g;if(this.g4b){null === this.dc && (this.dc=d);h=Math.pow(2,(d - this.dc) / this.lG);m=g * h;if(h >= this.K6a){m=new l.TDigest(this.Vka,this.xsa);try{for(var p=c.__values(this.Ei.Dk()),q=p.next();!q.done;q=p.next()){u=q.value;m.push(u.Lf,u.n / h);}}catch(w){var t;t={error:w};}finally{try{q && !q.done && (n=p.return) && n.call(p);}finally{if(t)throw t.error;}}this.Ei=m;m=g;this.dc=d;}this.Ei.push(k,m);}else this.Ei.push(k,g);};f.prototype.get=function(){var k;k=this.Ei.wi([this.HV,this.NU,this.l7]);return {low:k[0] || 0,high:k[1] || 0,initial:k[2] || 0};};f.prototype.Yn=function(){var k,d,g,m;d=new f(this.config);g=new l.TDigest(this.Vka,this.xsa);try{for(var n=c.__values(this.Ei.Dk()),h=n.next();!h.done;h=n.next()){m=h.value;g.push(m.Lf,m.n);}}catch(q){var p;p={error:q};}finally{try{h && !h.done && (k=n.return) && k.call(n);}finally{if(p)throw p.error;}}d.Ei=g;return d;};f.prototype.flush=function(){};f.prototype.start=function(){};f.prototype.stop=function(){};return f;})();b.sDa=a;},19253:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.bEa=b.tkb=b.aEa=b.Xkb=b.ukb=void 0;c=a(5163);l=a(34238);a=(function(){return function(){};})();b.ukb=a;f=(function(){function k(d,g,n,h,m){this.alpha=d;this.Ca=g;this.weight=h;this.Ufa=n * this.weight;this.IY=m;}k.prototype.Yn=function(){return new k(this.alpha,this.Ca,this.Ne,this.weight,this.IY);};Object.defineProperties(k.prototype,{Ne:{get:function(){return this.weight?this.Ufa / this.weight:0;},enumerable:!1,configurable:!0}});k.prototype.update=function(d,g,n){var h,m,p,q;h=this.alpha;m=this.weight;p=this.IY;q=h * (d - p);5 < q && (this.weight/=Math.exp(q),this.IY=p=d);d=Math.exp(h * (g - p)) - Math.exp(h * (d - p));g=this.weight+=d;h=this.Ca;this.Ca=p=h + d * (n - h) / g;this.Ufa=m?this.Ufa * (g - d) / m + d * (n - p) * (n - h):0;};return k;})();b.Xkb=f;r=(function(){var e_t;e_t=2;for(;e_t !== 14;){switch(e_t){case 2:k.prototype.Yn=function(d){var H3N;H3N=2;for(;H3N !== 8;){switch(H3N){case 2:d || (d=new k(this.qk));d.sq=this.sq;d.yz=this.yz;d.dI=this.dI.Yn();H3N=3;break;case 3:d.eI=this.eI.Yn();return d;break;}}};k.prototype.reset=function(){var g9J,d;g9J=2;for(;g9J !== 3;){switch(g9J){case 2:d=-Math.log(.5) / this.lG;this.dI=new f(d,0,0,0,0);this.eI=new f(d,0,0,0,0);this.sq=this.yz=null;g9J=3;break;}}};k.prototype.start=function(d){var f$_;f$_=2;for(;f$_ !== 1;){switch(f$_){case 2:null === this.sq && (this.sq=d);f$_=1;break;}}};k.prototype.add=function(d,g,n){var O1q=T7u0V;var C2e,h;C2e=2;for(;C2e !== 7;){switch(C2e){case 3:O1q.o8l(3);h=Math.max(O1q.T1h(g,n),1);O1q.o8l(4);this.dI.update(g,n,O1q.O1f(h,d));O1q.f9E(5);this.eI.update(g,n,O1q.O1f(d,8,h));C2e=7;break;case 2:h=this.sq;this.sq=null === h?g:Math.min(h,g);h=this.yz;this.yz=null === h?n:Math.max(h,n);C2e=3;break;}}};e_t=3;break;case 3:k.prototype.get=function(d,g){var Q5m=T7u0V;var m3f,n,h,m,p,q,u,t,w,v;m3f=2;for(;m3f !== 16;){switch(m3f){case 7:m3f=0 === t?6:12;break;case 17:(q=this.dI,u=this.eI);m3f=20;break;case 10:m=1E-11 < w?Math.max(v / w,m):m + 2 * t / p;m3f=14;break;case 2:(n=this.sq || 0,h=this.yz || 0,m=d - h,p=this.jUb,q=this.dI,u=this.eI);m3f=1;break;case 1:m3f=0 < m?5:17;break;case 13:Q5m.o8l(3);u.update(Q5m.O1f(n,h),Q5m.O1f(n,d),0);m3f=20;break;case 14:Q5m.f9E(3);q.update(Q5m.O1f(n,h),Q5m.O1f(n,d,Q5m.o8l(3)),Q5m.O1f(m,g,Q5m.f9E(4)));m3f=13;break;case 4:void 0 === g && (g=this.w7a);m >= p && (g=Math.min(g,this.w7a));p=g * q.Ca;m3f=8;break;case 5:m3f=(q=new f(q.alpha,q.Ca,q.Ne,q.weight,q.IY),u=new f(u.alpha,u.Ca,u.Ne,u.weight,u.IY),0 < q.weight && 0 !== g)?4:20;break;case 8:Q5m.o8l(6);var l5l=Q5m.T1h(4,4,1);t=Math.pow(g,l5l) * q.Ne;m3f=7;break;case 6:m=Math.max(m,p);m3f=14;break;case 12:(w=new l.x0(p,t).Wxb(m),v=p - w[1]);Q5m.f9E(3);var W9J=Q5m.T1h(18,19);w=W9J - w[0];m3f=10;break;case 20:d=q.weight;g=u.weight;return {Ca:d?q.Ca:null,Ne:d?q.Ne:null,vK:g?u.Ca:null,bP:g?u.Ne:null};break;}}};k.prototype.toString=function(){var b$G;b$G=2;for(;b$G !== 1;){switch(b$G){case 2:var w1B="De";w1B+="liveryDi";w1B+="st";w1B+="(";return w1B.concat(this.lG,")");break;}}};k.prototype.stop=function(){};e_t=7;break;case 7:k.prototype.flush=function(){};return k;break;}}function k(d){var a8L,g,n;a8L=2;for(;a8L !== 7;){switch(a8L){case 3:this.w7a=g;this.jUb=n;this.reset();a8L=7;break;case 1:var b5j="1";b5j+="SIYbZr";b5j+="NJ";b5j+="Cp9";b5j;(g=d.min_b,n=d.min_iv);this.lG=d.hl;a8L=3;break;case 2:this.qk=d;a8L=1;break;}}}})();b.aEa=r;a=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);return d;})(a);b.tkb=a;r=(function(k){function d(g){var n;n=k.call(this,g) || this;n.qk=g;return n;}c.__extends(d,k);d.prototype.get=function(){var g,n,h;if(0 === this.dI.weight || 0 === this.eI.weight)return {low:null,high:null,initial:null};switch(this.qk.TM){case "deliverytime":g=this.dI;g=new l.x0(g.Ca,g.Ne);(n=this.qk.accuracy,h=this.qk.kTb);return {low:8 / g.ew(this.qk.NU,n,h),high:8 / g.ew(this.qk.HV,n,h),initial:8 / g.ew(this.qk.l7,n,h)};default:return (g=this.eI,g=new l.x0(g.Ca,g.Ne),n=this.qk.accuracy,h=this.qk.kTb,{low:g.ew(this.qk.HV,n,h),high:g.ew(this.qk.NU,n,h),initial:g.ew(this.qk.l7,n,h)});}};d.prototype.Yn=function(){var g;g=new d(this.qk);k.prototype.Yn.call(this,g);return g;};d.prototype.toString=function(){return ("DeliveryDistCI([").concat((this.qk.HV,this.qk.NU),"])");};return d;})(r);b.bEa=r;},36253:function(r,b,a){var k;function c(d){this.reset();this.w3b(d);}function l(d){this.setInterval(d);this.reset();}function f(d){this.rA=new l(d);this.Zb=0;this.Hc=null;}k=a(17267);c.prototype.w3b=function(d){this.HJ=Math.pow(.5,1 / d);this.qR=d;};c.prototype.reset=function(d){d && d.Ca && k.Sb(d.Ca)?d.Ne && k.Sb(d.Ne)?(this.Xu=this.Qqb,this.ap=d.Ca,this.nA=d.Ne + d.Ca * d.Ca):(this.Xu=this.Qqb,this.ap=d.Ca,this.nA=d.Ca * d.Ca):this.nA=this.ap=this.Xu=0;};c.prototype.add=function(d){var g;if(k.Sb(d)){this.Xu++;g=this.HJ;this.ap=g * this.ap + (1 - g) * d;this.nA=g * this.nA + (1 - g) * d * d;}};c.prototype.$oa=function(){var d,g,n;if(0 === this.Xu)return {Ca:0,Ne:0};d=this.ap;g=this.nA;n=1 - Math.pow(this.HJ,this.Xu);d/=n;g/=n;n=d * d;return {Ca:d,Ne:g > n?g - n:0};};c.prototype.get=function(){var d;d=this.$oa();return {Ca:Math.floor(d.Ca),Ne:Math.floor(d.Ne)};};c.prototype.getState=function(){return 0 === this.Xu?null:{a:Number(this.ap.toPrecision(6)),s:Number(this.nA.toPrecision(6)),n:this.Xu};};c.prototype.Of=function(d){if(k.vc(d) || !k.has(d,"a") || !k.has(d,"s") || !k.isFinite(d.a) || !k.isFinite(d.s))return (this.nA=this.ap=this.Xu=0,!1);this.ap=d.a;this.nA=d.s;k.has(d,"n") && k.Sb(d.n)?this.Xu=d.n:this.Xu=16 * this.qR;return !0;};l.prototype.setInterval=function(d){this.qR=d;this.HJ=-Math.log(.5) / d;};l.prototype.reset=function(d){this.dc=this.kg=null;d && k.isFinite(d.Ca)?this.ap=d.Ca:this.ap=0;};l.prototype.start=function(d){k.vc(this.kg) && (this.dc=this.kg=d);};l.prototype.add=function(d,g,n){var h,m,p;k.vc(this.kg) && (this.dc=this.kg=g);this.kg=Math.min(this.kg,g);g=Math.max(n - g,1);h=this.HJ;m=Math.max(n,this.dc);p=m - this.dc;n=m - n;this.ap=this.ap * (0 < p?Math.exp(-h * p):1) + 8 * d / g * (1 - Math.exp(-h * g)) * (0 < n?Math.exp(-h * n):1);this.dc=m;};l.prototype.get=function(d){var g;d=Math.max(d,this.dc);g=this.ap * Math.exp(-this.HJ * (d - this.dc));d=1 - Math.exp(-this.HJ * (d - this.kg));0 < d && (g/=d);return {Ca:Math.floor(g)};};l.prototype.toString=function(){return "ewmav(" + this.qR + ")";};f.prototype.setInterval=function(d){this.rA.setInterval(d);};f.prototype.reset=function(d){this.rA.reset(d);this.Zb=0;this.Hc=null;};f.prototype.start=function(d){!k.vc(this.Hc) && d > this.Hc && (this.Zb+=d - this.Hc,this.Hc=null);this.rA.start(d - this.Zb);};f.prototype.add=function(d,g,n){!k.vc(this.Hc) && n > this.Hc && (this.Zb+=g > this.Hc?g - this.Hc:0,this.Hc=null);this.rA.add(d,g - this.Zb,n - this.Zb);};f.prototype.stop=function(d){this.Hc=Math.max(k.vc(this.rA.dc)?0:this.rA.dc + this.Zb,k.vc(this.Hc)?d:Math.min(this.Hc,d));};f.prototype.get=function(d){return this.rA.get((k.vc(this.Hc)?d:this.Hc) - this.Zb);};f.prototype.toString=function(){return this.rA.toString();};r.exports={ykb:c,Dac:l,wkb:f};},61739:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x;function c(z){this.config=z;this.gqb=z.xQa;}l=a(99039).Vea;f=a(78632).sDa;k=a(45762).nD;b=a(36253);d=b.ykb;g=b.wkb;n=a(78142).xkb;h=a(19253).aEa;m=a(19253).bEa;p=a(78142).spb;q=a(62012);u=a(75265);t=a(65877).ROa;w=a(69615);v=a(81253);y=a(90402).sMa;x=a(41714).nBa;c.prototype.constructor=c;c.prototype.create=function(z,A){var B,C,D,E;B=this.gqb[z];C=A[z];D={};B && Object.keys(B).forEach(function(G){D[G]=B[G];});C && Object.keys(C).forEach(function(G){D[G]=C[G];});switch(D.type){case "slidingwindow":E=new l(this.config,new n(D.mw));break;case "discontiguous-ewma":E=new l(this.config,new g(D.mw));break;case "initial-discontiguous-ewma":E=new y(new g(D.mw),D.playerStates);break;case "wssl":E=new p(D.mw,D.max_n);break;case "iqr":E=new q(D.mx,D.mn,D.bw,D.iv);break;case "tdigest":E=new u(D);break;case "ci":E=new l(this.config,new x(D,new f(D)));break;case "discrete-ewma":E=new d(D.hl);break;case "tdigest-history":E=new t(D);break;case "iqr-history":E=new w(D);break;case "avtp":E=new k();break;case "entropy":E=new v(D);break;case "deliverytime":E=new l(this.config,new x(D,new h(D)));break;case "deliverytime-ci":E=new l(this.config,new x(D,new m(D)));}E && (E.type=D.type);return E;};r.exports=c;},52733:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.RJa=void 0;r=a(12043);c=a(27364);new r.platform.Console("ASEJS_NETWORK_CONFIDENCE","media|asejs");a=(function(){function l(f,k){this.config=f;this.z9=k;this.reset();}l.prototype.reset=function(){this.confidence=c.ex.HAVE_NOTHING;this.startTime=this.xa=0;};l.prototype.Yn=function(){var f;f=new l(this.config,this.z9);f.confidence=this.confidence;f.xa=this.xa;f.startTime=this.startTime;return f;};l.prototype.add=function(f,k,d){0 === this.startTime && (this.startTime=k,this.xa=0);this.xa+=f;f=d - this.startTime;this.confidence=Math.max(this.confidence,c.ex.aJ);this.confidence < c.ex.$I && (f > this.config.orb || this.xa > this.config.nrb) && (this.confidence=c.ex.$I);this.confidence < c.ex.OP && (f > this.config.hsb || this.xa > this.config.gsb) && (this.confidence=c.ex.OP,this.z9());};l.prototype.get=function(){return this.confidence;};l.prototype.start=function(){};l.prototype.stop=function(){};l.prototype.flush=function(){};return l;})();b.RJa=a;},81253:function(r,b,a){var l;function c(f){var k,d;k=f.sw;d=f.mw;this.hK=k;this.yga={uhd:f.uhdl,hd:f.hdl};this.Tn=Math.max(Math.ceil(1 * k / d),1);this.prb=f.mins || 1;l.call(this,k,d);this.reset();}l=a(7977);new (a(12043).platform.Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(l.prototype);c.prototype.flush=function(){this.Ii.map(function(f,k){this.kTa(f,this.Vna(k));},this);};c.prototype.nxb=function(){var f,k,d,g,n,h,m,t;f=this.yga;for(k in f){if(f.hasOwnProperty(k)){d=f[k];g=this.cia[k];n=this.bia[k];if(g.first){h=g.first;m=g.vH;void 0 !== m && (n[h][m]+=1);g.first=void 0;}g=[];h=0;d=m=d.length + 1;for(var p=0;p < m;p++){for(var q=0,u=0;u < d;u++){q+=n[u][p];}h+=q;g.push(q);}q=-1;if(h > this.prb){for(p=q=0;p < m;p++){if(0 < g[p])for(u=0;u < d;u++){t=n[u][p];0 < t && (q-=t * Math.log(1 * t / g[p]));}}q/=h * Math.log(2);}this.Sga[k]=q;}}return this.Sga;};c.prototype.kTa=function(f,k){var h,m;for(var d=this.Tn,g=this.yga;this.V1.length >= d;){this.V1.shift();}for(;this.W1.length >= d;){this.W1.shift();}this.V1.push(f);this.W1.push(k);f=this.V1.reduce(function(p,q){return p + q;},0);k=this.W1.reduce(function(p,q){return p + q;},0);if(0 < k){f=8 * f / k;for(var n in g){if(g.hasOwnProperty(n)){k=this.cia[n];d=this.bia[n];h=this.r_b(f,g[n]);m=k.vH;void 0 !== m?d[h][m]+=1:k.first=h;k.vH=h;}}}};c.prototype.r_b=function(f,k){for(var d=0;d < k.length && f > k[d];){d+=1;}return d;};c.prototype.shift=function(){this.kTa(this.Ii[0],this.Vna(0));l.prototype.shift.call(this);};c.prototype.reset=function(){var f,k,d,g,n,h,m;this.cia={};this.V1=[];this.W1=[];this.bia={};this.Sga={};f=this.yga;for(k in f){if(f.hasOwnProperty(k)){d=this.bia;g=k;h=void 0;m=Array(h);h=n=f[k].length + 1;for(var p=0;p < h;p++){m[p]=Array(n);for(var q=0;q < n;q++){m[p][q]=0;}}d[g]=m;this.cia[k]={first:void 0,vH:void 0};this.Sga[k]=0;}}l.prototype.reset.call(this);};r.exports=c;},99039:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Vea=void 0;new (a(12043).platform.Console)("ASEJS_PACING_FILTER","media|asejs");r=(function(){function c(l,f){this.config=l;this.filter=f;}c.prototype.Yn=function(){return new c(this.config,this.filter);};c.prototype.k4b=function(l,f,k,d){var g,n,h;h=d.GH;if(!h || !h.B7())return !0;switch(this.config.BOb){case "requested":return !1;case "requested-low":return (h=h.exa(this.config.sma),h.A7a() > ((null === (g=d.Wr) || void 0 === g?void 0:g.BC) || 0));case "inferred":h=h.exa(this.config.sma);l=h.ssa(l,f,k,this.config.JW);if(!l)break;return h.A7a() > ((null === (n=d.Wr) || void 0 === n?void 0:n.BC) || 0);case "inferred-strict":if((h=h.exa(this.config.sma),h.ssa(l,f,k,this.config.JW)))return !1;}return !0;};c.prototype.add=function(l,f,k,d){this.k4b(l,f,k,d) && this.filter.add(l,f,k,d);};c.prototype.get=function(l){if(this.filter.get)return this.filter.get(l);};c.prototype.start=function(l){this.filter.start && this.filter.start(l);};c.prototype.stop=function(l){this.filter.stop && this.filter.stop(l);};c.prototype.flush=function(){this.filter.flush && this.filter.flush();};c.prototype.reset=function(){this.filter.reset && this.filter.reset();};return c;})();b.Vea=r;},90402:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.sMa=void 0;r=(function(){function a(c,l){this.Ni=0;this.filter=c;this.d$=l;this.Ni=0;}a.prototype.QV=function(c){return 0 < this.d$.filter(function(l){var f;return l === (null === (f=c.Wr) || void 0 === f?void 0:f.mf);}).length;};a.prototype.add=function(c,l,f,k){this.QV(k) && this.filter.add(c,l,f,k);};a.prototype.start=function(c,l){this.filter.start && this.QV(l) && this.filter.start(c);};a.prototype.stop=function(c,l){this.filter.stop && this.QV(l) && this.filter.stop(c);};a.prototype.get=function(c){if(this.filter.get)return this.filter.get(c);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.Ni=0;this.filter.reset && this.filter.reset();};a.prototype.pw=function(c,l){this.QV(l) && (this.Ni+=1,this.filter.pw && this.filter.pw(c,l));};a.prototype.rw=function(c,l,f){this.QV(f) && (this.Ni=Math.max(this.Ni - 1,0),0 === this.Ni && this.stop(c,f),this.filter.rw && this.filter.rw(c,f));};return a;})();b.sMa=r;},78142:function(r,b,a){var k;function c(d){this.hK=d;this.reset();}function l(d){this.Tn=new c(d);this.Zb=0;this.Hc=null;}function f(d,g){this.hK=d;this.oRa=g;this.reset();}k=a(17267);c.prototype.RRa=function(d,g){this.dc+=d;this.oj+=d;this.jc+=g;this.Ki.push({d:d,b:g});};c.prototype.IR=function(){var d;for(;this.oj > this.hK;){d=this.Ki.shift();this.jc-=d.b;this.oj-=d.d;}};c.prototype.reset=function(){this.Ki=[];this.dc=null;this.oj=this.jc=0;};c.prototype.setInterval=function(d){this.hK=d;this.IR();};c.prototype.start=function(d){k.vc(this.dc) && (this.dc=d);};c.prototype.add=function(d,g,n){k.vc(this.dc) && (this.dc=g);g > this.dc && this.RRa(g - this.dc,0);this.RRa(n > this.dc?n - this.dc:0,d);this.IR();};c.prototype.get=function(){return {Ca:Math.floor(8 * this.jc / this.oj),Ne:0};};l.prototype.reset=function(){this.Tn.reset();this.Zb=0;this.Hc=null;};l.prototype.add=function(d,g,n){!k.vc(this.Hc) && n > this.Hc && (g > this.Hc && (this.Zb+=g - this.Hc),this.Hc=null);this.Tn.add(d,g - this.Zb,n - this.Zb);};l.prototype.start=function(d){!k.vc(this.Hc) && d > this.Hc && (this.Zb+=d - this.Hc,this.Hc=null);this.Tn.start(d - this.Zb);};l.prototype.stop=function(d){this.Hc=k.vc(this.Hc)?d:Math.min(d,this.Hc);};l.prototype.get=function(){return this.Tn.get();};l.prototype.setInterval=function(d){this.Tn.setInterval(d);};f.prototype.reset=function(){this.Ki=[];this.jc=this.oj=0;};f.prototype.add=function(d,g,n,h){void 0 !== h && !0 === h && (g=n - g,this.oj+=g,this.jc+=d,this.Ki.push({d:g,b:d}),this.IR());};f.prototype.IR=function(){var d;for(;this.oj > this.hK || this.Ki.length > this.oRa;){d=this.Ki.shift();this.jc-=d.b;this.oj-=d.d;}};f.prototype.start=function(){};f.prototype.stop=function(){};f.prototype.get=function(){return {Ca:Math.floor(8 * this.jc / this.oj),Ne:0};};f.prototype.setInterval=function(d,g){this.hK=d;this.oRa=g;this.IR();};r.exports={Cac:c,xkb:l,spb:f};},88577:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.bKa=b.blb=void 0;c=a(5163);l=a(12043);f=a(87034);k=a(49730);d=a(40717);g=a(97810);r=(function(){return function(n,h,m,p){this.W=h;this.Vt=p;p="[" + n + "]";m=(0,g.Mh)(l.platform,m,p);this.z7a=n === f.u.X?h.Ysa:h.Usa;p=l.platform.nU()[n];this.SV=n === f.u.X?h.ATb:h.eTb;this.SV=Math.min(h.mTb * p,this.SV);k.K && m.trace("This pipeline's buffer size ",p,this.SV);this.P8=(n === f.u.X?h.Sy:h.Tv) || h.P8;this.v8=(n === f.u.X?h.zTb:h.dTb) || h.v8;this.Qia=h.Qia;};})();b.blb=r;r=(function(n){function h(m,p,q,u){return n.call(this,m,p,q,u) || this;}c.__extends(h,n);h.prototype.W0a=function(m,p,q,u){var t,w,v,y,x,z,A,B,C;void 0 === q && (q=!1);void 0 === u && (u=!1);v=this.Vt;y=m.la.Gqa();x=v.af.index;z=v.jf.index;A=p === x;B=p === z;if(!B || A && v.af.Ja){if(A){C=m.P0a(v.af);C.mO(v.af.yw);B && (v.af.Ja || v.jf.Ja) && C.Bi({start:null === (t=C.Ja) || void 0 === t?void 0:t.start,end:null === (w=v.jf.Ja) || void 0 === w?void 0:w.end});}else C=m.jo(p);}else (C=m.P0a(v.jf),C.mO(v.jf.yw));C.mW=p + 1;if(t=(0,d.W1a)(v,v.Tj))(k.K && v.Dx("getFragmentForRequest pts:",v.Tj,"in region:",t,"previous region:",v.rra),w=void 0 === v.rra || v.rra !== t.region,(0,d.QYa)(v.T,C,t,{UPb:A,aQb:B,iQb:w}));B && (C.C6a(),C.D3b(v.Sa.v));A && C.YSb();A=m.Ha.Zr;if(!(C.mW === p || null !== A && void 0 !== A && A.w4a(p) || y || !this.Qia && C.Ja || q && !(p > x + 1) || u && !(p < z - 2)))for((q=u?z - 1:z,++p);p < m.Ha.length && p < q && (C.xa < this.z7a || C.Md.G < this.P8) && (1 === C.stream.Hh.length || this.Nxb(m,p));++p){u=m.jo(p);if(null === A || void 0 === A?0:A.w4a(p))break;if((0,d.v4a)(v,u))break;if(C.Md.add(u.Md).G > this.v8)break;if(C.xa + u.xa > this.SV)break;C.Nia(u);C.mW=p + 1;k.K && v.Dx("getFragmentForRequest: extended fragment startPts:",C.Ka.G,"to duration:",C.Md.G,"size:",C.xa,"min request size:",this.z7a,"max request size:",this.SV,"min request duration:",this.P8,"max request duration:",this.v8,"edit:",C.Ja);}k.K && v.Dx("getFragmentForRequest(" + p + ") returning:",C,"stream:",C.stream,"firstRequestInRegion:",C.Ena,"lastRequestInRegion:",C.Nt,"nextIndex:",C.mW);return C;};h.prototype.Nxb=function(m,p){return !m.Hh.some(function(q){return p === q.Td;});};return h;})(r);b.bKa=r;},61765:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.vZa=b.LF=b.ut=b.j6=void 0;c=a(35195);l=a(27364);f=a(62558);k=a(22209);b.j6=function(d,g){return d.ky(g,void 0,!0);};b.ut=function(d,g,n,h,m,p){var q,u,t,w;k.wq.Hv(d);if(n.aa){g=n.N;m=n.Tl();p=m.eY;q=m.Md.dd(g);q=p + Math.floor(h / q.G);d === l.u.$ && (q=Math.max(p,q - 1));h=m.fU(q);d=h.Ka;h=h.Ua;(0,f.assert)(d.N === g,"Expected fragment start timestamp to be in stream timescale");(0,f.assert)(h.N === g,"Expected fragment end timestamps to be in stream timescale");return new c.xq(n,void 0,{index:q,sb:d.ja,yb:h.ja,N:g,offset:0,xa:0});}(0,f.assert)(n.Ha,"findFirstFragment called without stream fragments");u=n.Ha;h=Math.max(n.Ha.ll(0),h);d === l.u.$ && !p && g.Hm && !g.uS && n.Mf && (h=Math.max(n.Ha.ll(0),h + n.Mf.G));q=(0,b.j6)(u,h);t=n.jo(q);if(t.Ua.G < h)return t;w=t.WHb(h);w?(0 < w.Nj && t.Bi({start:w.Nj}),d !== l.u.$ || g.G8 || (0 > w.Ce && t.Bi({start:w.Nj}),w.Ce < (g.Hm && !g.uS && n.Mf?Math.floor(n.Mf.G):0) && t.nma())):h >= t.Ua.G && q < u.length - 1 && (t=n.jo(q + 1));d === l.u.X && m && t.Ua.G === m && q < u.length - 1 && (t=n.jo(q + 1));d === l.u.$ && !t.Ja && (g.$3a || g.eFb) && p && t.Bi({});t.mO(h);return t;};b.LF=function(d,g,n,h,m,p){var q,u;k.wq.Hv(d);if(n.aa)return (m=g=q=Infinity,d=n.N,void 0 !== h && Infinity !== h && (g=n.Tl(),m=g.eY,p=g.Md.dd(d),q=m + Math.floor(h / p.G),0 === h % p.G && (q=Math.max(m,q - 1)),g=g.fU(q),h=g.Ua,g=g.Ka.ja,m=h.ja),new c.xq(n,void 0,{index:q,sb:g,yb:m,N:d,offset:0,xa:0}));q=n.Ha;void 0 === h && (h=q.ff);if(m && (m=m.LHb(n,h,d,g,p)))return m;m=q.Aa;p=h?h + (0,b.vZa)(d,m,g.XN,g.gO):q.ET(q.length - 1);q=q.ky(p,void 0,!0);m=n.jo(q);0 === q || m.Ka.G !== h || d !== l.u.X && g.XN || (--q,m=n.jo(q));p=d === l.u.X?p:h;if(p < m.Ua.G){u=m.tna(p);u && 0 !== u.Nj?m.Bi({end:u.Nj}):d === l.u.$ && (u || p < m.Ka.G) && 0 !== q?m=n.jo(q - 1):d !== l.u.X || n.GPb && !u || 0 === q || (m=n.jo(q - 1));}d === l.u.$ && !m.Ja && g.$3a && m.Bi();m.mO(h);return m;};b.vZa=function(d,g,n,h){var m;return d === l.u.X || h?0:n?null !== (m=null === g || void 0 === g?void 0:g.G) && void 0 !== m?m:0:g?-g.G:0;};},58628:function(r,b,a){var l,f,k,d,g,n;function c(h,m){return h - m;}Object.defineProperties(b,{__esModule:{value:!0}});b.elb=b.HL=void 0;l=a(5163);f=a(12043);k=a(49730);d="gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).clb;b.HL=function(h,m){var p;if(!d)return h;p=new n(h.name,m);return (function(q){function u(){for(var t=[],w=0;w < arguments.length;w++){t[w]=arguments[w];}t=q.apply(this,l.__spreadArray([],l.__read(t),!1)) || this;t.U_a=p.VBb(t);return t;}l.__extends(u,q);return u;})(h);};n=(function(){function h(m,p){this.name=m;this.Wka=p;this.SB=[];this.rPb=0;}Object.defineProperties(h,{console:{get:function(){g || (g=new f.platform.Console("GCTAGGER"));return g;},enumerable:!1,configurable:!0}});h.prototype.VBb=function(m){var p,q;if(d){p=this.Wka;p || (p=h.console);if(!m.U_a && "undefined" !== typeof nrdp){m={type:this.name,id:this.rPb++};this.SB.push(m.id);q=JSON.stringify(m);q=nrdp.U_a(q,(function(u,t,w,v){u.SB.splice(u.SB.indexOf(t),1);u.SB=u.SB.sort(c);for(var y=[],x=0;x < u.SB.length && 5 > x;x++){y.push(u.SB[x]);}null === v || void 0 === v?void 0:v.error(("Removing instance for ").concat(w,"/").concat(t,". ") + ("").concat(u.SB.length," remaining, earliest: ").concat(y,"}"));}).bind(null,this,m.id,m.type,p));k.K && p && p.info("Creating tagged instance",m);return q;}}};return h;})();b.elb=n;},14386:function(r,b,a){var l,f,k,d,g,n,h;function c(m,p){return m.filter(function(q){return q.groupId === p.groupId;}).reduce((0,f.v7a)(function(q){return q.zo;}),p).zo;}Object.defineProperties(b,{__esModule:{value:!0}});b.JFa=void 0;l=a(5163);f=a(42866);k=a(12043);d=a(72072);g=a(27364);n=a(33285);h=a(2663);r=(function(){function m(p,q){this.T=p;this.config=q;this.z5a=0;this.Yg=new n.Su({ro:10,qn:this,source:"GraphStreamingProcess"});}m.prototype.U8a=function(p,q){var u,t,w,v,y,x,z,A,B,E,G,F,J,M;w=!1;v=[];if(0 < q.length){y=this.Q4b(q);x=y.some(function(K){return 1 === (0,h.dVa)(K) && (0,g.gn)(K.Qd);});z=y.slice();A=[!1,!1,!1];B=void 0;try{for(var C=l.__values(y),D=C.next();!D.done;D=C.next()){E=D.value;if(E.yr && (!B || E.groupId === B))if(E.mi)B=E.groupId;else if("global" !== A[E.mediaType]){G=E.E7(p,null !== (t=E.Dt) && void 0 !== t?t:1);F=(0,d.wab)(G.reason);F && (A[E.mediaType]=F,(0,f.e3)(z,E));if(G.result){J=c(z,E);if(this.yyb(E,x,J)){M=E.AG();this.Rra(v,E,M.reason);M.Ih && (this.z5a=k.platform.time.wa());if(w=M.Ih)break;if("globalVideoMemoryLimit" === M.reason || "globalAudioMemoryLimit" === M.reason){this.T.trace("GSP.onRequestOpportunity stopping at memory limit:",M.reason);break;}"pipelineTryIssueHeaderRequest" === M.reason && (B=E.groupId);}else if((this.Rra(v,E,"concurrencyCheck"),!F))break;}else this.Rra(v,E,G.reason);}}}catch(K){var L;L={error:K};}finally{try{D && !D.done && (u=C.return) && u.call(C);}finally{if(L)throw L.error;}}}this.Yg.Ys({streamableCount:q.length,streamableReasons:v,lastSuccessfulIssueRequestMs:this.z5a});return w;};m.prototype.Q4b=function(p){return this.AZb(p).sort(function(q,u){return q.priority - u.priority;}).map(function(q){return q.z5b;});};m.prototype.AZb=function(p){var q;q=this;return p.map(function(u){return {priority:-(0,h.cVa)(q.config,u,q.T),z5b:u};});};m.prototype.Rra=function(p,q,u){this.Yg.enabled && p.push(this.HMb(u,q));};m.prototype.HMb=function(p,q){return {mediaType:q.mediaType,reason:p,bufferingState:q.Qd,currentPlayerMs:q.Sk,pathCompletePlayerMs:q.zo,streamingPlayerMs:q.Bk};};m.prototype.yyb=function(p,q,u){return this.config.KS && (q || (0,g.gn)(p.Qd))?this.zyb(p,u):this.Ayb(p,u);};m.prototype.Byb=function(p){return p.Bk <= p.zo;};m.prototype.Ayb=function(p,q){return p.Bk - (p.Sk > q?p.Sk:q) <= Math.max(this.config.Wsa,Math.min((p.zo - p.Sk) * this.config.Fya,this.config.vTb));};m.prototype.zyb=function(p,q){var u,t;if(void 0 === this.config.KS)return !0;u=this.config.KS;t=p.Sk + u;return p.Bk <= t?!0:this.Byb(p) && q >= t && p.Bk - q < u;};l.__decorate([(0,n.Qb)({methodName:"onRequestOpportunity",gk:!0})],m.prototype,"U8a",null);return m;})();b.JFa=r;},2663:function(r,b,a){var p,q,u;function c(t){return t.Bk - t.Sk;}function l(t,w){return Math.exp(-(Math.log(2) / t) * w);}function f(t,w){t=Math.log(2) * w / t;return (1 - Math.exp(-t)) / t;}function k(t,w){var v,y,x,z,A;v=w.uH;y=w.tH;x=w.cz;if(0 === w.pf.length)return {U2:!1};z=w.pf[0];w=z.sf;A=z.NB;z=z.duration;if(!A || 1 === x)return {U2:!1};(0,q.assert)(z,"duration should be defined when immediate probability is included in probabilities array");(0,q.assert)(0 < x,"presenting segment seamless probability cannot be zero");y-=z;if(v < y)return {U2:!1};y=v - y;v=x + y / z * (1 - x);z-=y;A=A * (1 - v) / (1 - x);t=w * v / x * l(t,z) + A * f(t,z);(0,q.assert)(1 >= t);return {U2:!0,uub:t};}function d(t){var w,v,y,x,z;w=t.qt;v=t.AO;y=t.qq;x=t.Bk;z=t.Sk;t=t.BL;(0,q.assert)(void 0 !== v);(0,q.assert)(void 0 !== w);y=1 - y;x-=z;t?(z=v - t - x,w-=t,0 >= z?t=Math.max(0,(v - t) / w):(v=w - z,t=0 < v?x / v:0,y*=0 < v?v / w:1)):(z=v - x,0 >= z?t=v / w:(v=w - z,t=0 < v?x / v:0,y*=0 < v?v / w:1));(0,q.assert)(0 <= t);(0,q.assert)(1 >= t);(0,q.assert)(0 <= y);(0,q.assert)(1 >= y);return 1 - t * y;}function g(t,w){t=Math.log(2) / t.zab;return n(w) * Math.exp(-t * c(w));}function n(t){var w;return (null !== (w=t.Dt) && void 0 !== w?w:1) * t.pf.reduce(function(v,y){var x;x=y.NB;return v * (y.sf + (void 0 === x?0:x));},1);}function h(t){var w,v,y,x;if(0 === t.pf.length)return 0;v=0;if(1 > t.cz){v=t.uH;y=t.tH;x=null !== (w=t.pf[0].duration) && void 0 !== w?w:0;v=Math.max(0,Math.min(x,v - (y - x)));}return t.pf.reduce(function(z,A){A=A.duration;return z + (void 0 === A?0:A);},0) - v;}function m(t){return t.pf.filter(function(w){return !w.NB;}).reduce(function(w,v){return w * v.sf;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.eka=b.dVa=b.Fxb=b.cVa=b.Jxb=void 0;p=a(27364);q=a(62558);u=a(49730);b.Jxb=c;b.cVa=function(t,w,v){var y,x,z,A,B,C,D,E;if(!t.e5 || (0,p.gn)(w.Qd))return g(t,w);x=t.zab;t=c(w);z=h(w);A=m(w);B=k(x,w);C=B.U2;B=B.uub;B=void 0 === B?1:B;D=1 > w.qq?d(w):1;E=(null !== (y=w.Dt) && void 0 !== y?y:1) * A * l(x,t - z) * B * D * w.pf.filter(function(G,F){return G.NB && (0 < F || !C);}).reduce(function(G,F){var J,M;J=F.NB;M=F.duration;M=void 0 === M?0:M;J=void 0 === J?0:J;F=F.sf * l(x,M) + J * f(x,M);return G * F;},1);u.K && (null === v || void 0 === v?void 0:v.log(("{").concat(w.groupId,"} [").concat(w.mediaType,"] calculateStreamablePriority: ") + ("sp: ").concat(w.qq,", ") + ("pssp: ").concat(w.cz,", ") + ("streamingDuration: ").concat(w.AO,", ") + ("duration: ").concat(w.qt,", ") + ("seamlessProbability: ").concat(A,", ") + ("distance: ").concat(t,", immediateDistance: ").concat(z,", ") + ("risk:").concat(l(x,t - z),", ") + ("adjustedFirstTerm: ").concat(B,", streamingAdjustment: ").concat(D,", ") + ("probabilities: ").concat(JSON.stringify(w.pf)," => ").concat(E)));return E;};b.Fxb=g;b.dVa=n;b.eka=m;},93161:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.DUb=b.Aj=b.zGb=b.my=b.qU=b.VL=b.GSb=b.TG=b.H8=b.eb=b.u=b.Uz=b.Sc=b.DJ=b.Wh=b.Fp=b.OQ=b.Sh=b.mc=b.lQ=b.Ru=b.TQ=b.Cq=b.L=void 0;c=a(5163);l=a(12043);c.__exportStar(a(12043),b);f=a(42866);Object.defineProperties(b,{L:{enumerable:!0,get:function(){return f.L;}}});Object.defineProperties(b,{Cq:{enumerable:!0,get:function(){return f.Cq;}}});c.__exportStar(a(2362),b);k=a(42186);Object.defineProperties(b,{TQ:{enumerable:!0,get:function(){return k.TQ;}}});Object.defineProperties(b,{Ru:{enumerable:!0,get:function(){return k.Ru;}}});Object.defineProperties(b,{lQ:{enumerable:!0,get:function(){return k.lQ;}}});c.__exportStar(a(56742),b);c.__exportStar(a(52E3),b);c.__exportStar(a(7881),b);c.__exportStar(a(60763),b);c.__exportStar(a(25850),b);d=a(13043);Object.defineProperties(b,{mc:{enumerable:!0,get:function(){return d.mc;}}});Object.defineProperties(b,{Sh:{enumerable:!0,get:function(){return d.Sh;}}});g=a(85177);Object.defineProperties(b,{OQ:{enumerable:!0,get:function(){return g.OQ;}}});n=a(93514);Object.defineProperties(b,{Fp:{enumerable:!0,get:function(){return n.Fp;}}});h=a(97810);Object.defineProperties(b,{Wh:{enumerable:!0,get:function(){return h.Wh;}}});m=a(92141);Object.defineProperties(b,{DJ:{enumerable:!0,get:function(){return m.DJ;}}});p=a(27364);Object.defineProperties(b,{Sc:{enumerable:!0,get:function(){return p.Sc;}}});Object.defineProperties(b,{Uz:{enumerable:!0,get:function(){return p.Uz;}}});Object.defineProperties(b,{u:{enumerable:!0,get:function(){return p.u;}}});Object.defineProperties(b,{eb:{enumerable:!0,get:function(){return p.eb;}}});Object.defineProperties(b,{H8:{enumerable:!0,get:function(){return p.H8;}}});Object.defineProperties(b,{TG:{enumerable:!0,get:function(){return p.TG;}}});b.GSb=function(u){l.platform.dqa(u);};b.VL=function(u){l.platform.dqa(u);return Promise.resolve().then(function(){return c.__importStar(a(82181));}).then(function(t){return t.VL();});};b.qU=function(u,t){l.platform.dqa(u);return Promise.resolve().then(function(){return c.__importStar(a(49550));}).then(function(w){return w.qU(t);});};b.my=function(){return a(71866)["default"];};r=c.__importDefault(a(89956));b.zGb=r.default;r=a(97021);b.Aj=r.Aj;q=a(65656);b.DUb=function(){return {Bq:q.Bq};};},9998:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(28578),b);},28578:function(r,b,a){var n,h,m,p,q,u,t,w,v;function c(y){var x,z,A;y=y.parent;x=!1;if(y && y.children){z={};z[w.Jk]=[];z[w.Uh]=[];z[w.TEMPORARY]=[];A=y.children;A.forEach(function(B){B && z[B.Nd].push(B);});0 < z[w.Jk].length || (z[w.Uh].length === A.length?y.Nd !== w.Uh && (y.Nd=w.Uh,t.error("PERM failing :",q.default.Tf.name[y.Um] + " " + y.id),x=!0):(y.Nd === w.Jk && (y.Nd=w.TEMPORARY,t.error("TEMP failing :",q.default.Tf.name[y.Um] + " " + y.id),x=!0),z[w.TEMPORARY].forEach(function(B){B.Nd=w.Jk;})),x && c(y));}}function l(y){var z;for(var x=[];y;y=y.parent){switch(y.Um){case q.default.Tf.XD:z=y;x.unshift(z.id + "(" + z.name + ")");break;case q.default.Tf.LOCATION:x.unshift(y.id);break;case q.default.Tf.URL:x.unshift("<url for " + y.stream.bitrate + ">");}}return x.length?"/" + x.join("/"):"";}function f(y){var x;if((y=y.parent) && 0 < y.children.length && y.Nd !== w.Jk){x={};x[w.Jk]=[];x[w.Uh]=[];x[w.TEMPORARY]=[];y.children.forEach(function(z){z && x[z.Nd].push(z);});0 < x[w.Jk].length && (y.Nd=w.Jk,f(y));}}function k(y){return y.Nd !== w.Jk;}function d(y){switch(y.Nd){case w.Jk:return "OK";case w.Uh:return "FAILED PERMANENTLY";case w.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function g(y,x){if(y.Nd === w.TEMPORARY || y.Nd === w.Uh && x)y.Nd=w.Jk;y.children && y.children.forEach(function(z){z && g(z,x);});}Object.defineProperties(b,{__esModule:{value:!0}});b.gIa=void 0;n=a(5163);h=n.__importStar(a(17267));r=a(57055);m=a(12043);p=a(27364);q=n.__importDefault(a(89956));u=a(62558);t=new m.platform.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(y){y[y.Jk=0]="OK";y[y.TEMPORARY=1]="TEMPORARY";y[y.Uh=2]="PERMANENT";})(w || (w={}));(function(y){y[y.Qu=0]="STARTUP";y[y.xob=1]="REBUFFER";})(v || (v={}));a=(function(y){var E72;E72=2;for(;E72 !== 22;){switch(E72){case 7:x.prototype.T2b=function(z,A){var F84,B,C;F84=2;for(;F84 !== 4;){switch(F84){case 2:(B=[],C=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);h.forEach(this.urls,function(D,E){var k2X,M,F,J,G;k2X=2;for(;k2X !== 13;){switch(k2X){case 7:D.urls.some(function(L){var q$z;q$z=2;for(;q$z !== 5;){switch(q$z){case 1:return (M=L,!0);break;case 9:return (M=L,+1);break;case 2:q$z=L.url === E?1:5;break;}}});M && B.push({url:M,Ub:D});k2X=13;break;case 4:(F="s" === G[1],J=G[2]);k2X=3;break;case 5:k2X=G && 4 === G.length?4:13;break;case 3:var v7O="8";v7O+="0";var P5c="4";P5c+="4";P5c+="3";G=G[3];G.length || (G=F?P5c:v7O);k2X=8;break;case 2:D=D.Ub;G=E.match(C);k2X=5;break;case 8:k2X=h.tg(J) && h.tg(G) && J === z && G == A?7:13;break;}}});return B;break;}}};x.prototype.Ur=function(z,A,B,C){var i9I,V_m,D,E,G;i9I=2;for(;i9I !== 25;){switch(i9I){case 5:D=D.parent;i9I=1;break;case 9:var Z0j=" ";Z0j+=":";Z0j+=" was ";var I8x=" ";I8x+="a";I8x+="t";I8x+=" ";var Y53=" failu";Y53+="re reported f";Y53+="or ";var R$2="TE";R$2+="M";R$2+="P";var i39="P";i39+="E";i39+="R";i39+="M";t.warn((A?i39:R$2) + Y53 + q.default.Tf.name[z] + I8x + l(D) + Z0j + d(D));i9I=8;break;case 27:var N4T="Invalid failure";N4T+=" s";N4T+="tate";throw Error(N4T);i9I=6;break;case 11:var I0p="net";I0p+="w";I0p+="o";I0p+="rkF";I0p+="ailed";var g6A="Emitting n";g6A+="e";g6A+="tworkFailed, permanent =";z > E && (t.warn(g6A,z === w.Uh),this.emit(I0p,z === w.Uh));this.oz=null;this.RH=q.default.Es.Hk;C && (this.RH=q.default.Es.bob,D.iw=C);this.dump();i9I=25;break;case 26:var F8R="Unabl";F8R+="e to find failure ent";F8R+="it";F8R+="y for URL ";T7u0V.o8l(0);t.warn(T7u0V.T1h(F8R,B));i9I=25;break;case 8:V_m=D.Nd;i9I=V_m === w.Uh?7:17;break;case 6:D.Nd=G;c(D);this.ZM=this.ZM || k(this.el);z=this.el.Nd;i9I=11;break;case 16:i9I=V_m === w.Jk?6:15;break;case 17:i9I=V_m === w.TEMPORARY?6:16;break;case 3:i9I=G !== D.Nd?9:25;break;case 1:i9I=D && D.parent && D.Um !== z?5:4;break;case 2:(D=z !== q.default.Tf.Ku && B?this.urls[B]:this.el,E=this.el.Nd,G=A?w.Uh:w.TEMPORARY);i9I=1;break;case 4:i9I=D?3:26;break;case 7:return;break;case 15:i9I=27;break;}}};x.prototype.V0b=function(z,A,B){var d71,C,D,w6h;d71=2;for(;d71 !== 16;){switch(d71){case 7:var p89="n";p89+="etwo";p89+="rkFail";p89+="ed";var u$A="Em";u$A+="itting networkFailed, permanen";u$A+="t =";C.Nd=D;this.ZM=this.ZM || k(this.el);A=this.el.Nd;A > z && (t.warn(u$A,A === w.Uh),this.emit(p89,A === w.Uh));d71=12;break;case 2:C=this.urls[z];z=this.el.Nd;D=B?w.Uh:w.TEMPORARY;d71=4;break;case 17:var f6I="Invalid failu";f6I+="re st";f6I+="ate";throw Error(f6I);d71=7;break;case 4:d71=C && D !== C.Nd?3:16;break;case 18:d71=17;break;case 19:d71=w6h === w.Jk?7:18;break;case 3:var T6t=" : wa";T6t+="s";T6t+=" ";var H_y=" ";H_y+="at";H_y+=" ";var v8S=" failu";v8S+="re reported";v8S+=" fo";v8S+="r ";var l5o="T";l5o+="E";l5o+="M";l5o+="P";var y2E="PE";y2E+="R";y2E+="M";t.warn((B?y2E:l5o) + v8S + q.default.Tf.name[A] + H_y + l(C) + T6t + d(C));d71=9;break;case 20:d71=w6h === w.TEMPORARY?7:19;break;case 9:w6h=C.Nd;d71=w6h === w.Uh?8:20;break;case 8:return;break;case 12:this.oz=null;this.RH=q.default.Es.Hk;this.dump();d71=16;break;}}};E72=13;break;case 3:x.prototype.c1a=function(z){var O$_;O$_=2;for(;O$_ !== 1;){switch(O$_){case 2:for(var A in this.streams){if(this.streams[A].Zs === z){return this.streams[A];}}O$_=1;break;}}};x.prototype.Q2=function(z,A,B){var J9h,C,D,E,G,F;J9h=2;for(;J9h !== 26;){switch(J9h){case 2:C=this;void 0 === B && (B=q.default.Es.kmb);z.locations.forEach(function(J){var f_D,L,K,P,M;f_D=2;for(;f_D !== 7;){switch(f_D){case 5:(C.Lh[M].bc=J.rank,C.Lh[M].level=J.level,C.Lh[M].weight=J.weight);f_D=7;break;case 4:(L=[],K=C.Ej.get(M),P=C.el);J={id:M,Um:q.default.Tf.LOCATION,Nd:w.Jk,bc:J.rank,level:J.level,weight:J.weight,iw:void 0,parent:P,children:L,yk:L,streams:{},jb:K};C.Lh[J.id]=J;P.children.push(J);f_D=7;break;case 2:M=J.key;f_D=1;break;case 1:f_D=C.Lh[M]?5:4;break;}}});this.l2=m.platform.time.wa();this.sC.sort(function(J,M){var q8C;q8C=2;for(;q8C !== 1;){switch(q8C){case 2:return J.level - M.level || J.bc - M.bc;break;}}});z.servers.forEach(function(J){var i1f,M,L,K;i1f=2;for(;i1f !== 14;){switch(i1f){case 2:M=J.id;i1f=1;break;case 1:i1f=C.yk[M]?5:4;break;case 5:C.yk[M].bc=J.rank;i1f=14;break;case 4:L=C.Lh[J.key];i1f=3;break;case 9:K=[];J={id:M,Um:q.default.Tf.XD,Nd:w.Jk,iw:void 0,parent:L,children:K,urls:K,name:J.name,type:J.type,bc:J.rank,location:L};C.yk[J.id]=J;L.children.push(J);i1f=14;break;case 3:i1f=L?9:14;break;}}});J9h=8;break;case 8:var z7N="LI";z7N+="V";z7N+="E";var F$u="L";F$u+="I";F$u+="V";F$u+="E";(E=z.ag,G=z.Jh);(0,u.assert)(this.aa && F$u === E && !!G || !this.aa && z7N !== E && !G);this.aa && (this.$Rb=G.OVb);F=!0;A && (F=!1,this.VZb(A));J9h=12;break;case 27:this.dump();J9h=26;break;case 12:z.audio_tracks.forEach(function(J){var H2U;H2U=2;for(;H2U !== 1;){switch(H2U){case 2:C.O$a(p.u.$,J,F);H2U=1;break;}}});z.video_tracks.forEach(function(J){var m1y;m1y=2;for(;m1y !== 1;){switch(m1y){case 2:C.O$a(p.u.X,J,F);m1y=1;break;}}});null === (D=z.timedtexttracks) || void 0 === D?void 0:D.forEach(function(J){var I53;I53=2;for(;I53 !== 1;){switch(I53){case 2:C.MZb(J,F);I53=1;break;}}});z=this.sC.filter(function(J){var c1P,M;c1P=2;for(;c1P !== 4;){switch(c1P){case 2:M=J.yk.every(function(L){var D3K;D3K=2;for(;D3K !== 1;){switch(D3K){case 2:return 0 === L.urls.length;break;}}});M && (J.yk.forEach(function(L){var l2r;l2r=2;for(;l2r !== 1;){switch(l2r){case 2:C.yk[L.id]=void 0;l2r=1;break;}}}),C.Lh[J.id]=void 0,J.parent=void 0,J.children.length=0,J.streams={});return !M;break;}}});z.forEach(function(J){var i8i;i8i=2;for(;i8i !== 1;){switch(i8i){case 2:J.yk.sort(function(M,L){var u35;u35=2;for(;u35 !== 1;){switch(u35){case 4:return M.bc + L.bc;break;case 2:return M.bc - L.bc;break;}}});i8i=1;break;}}});J9h=18;break;case 18:this.sC=z;this.el.children=z;this.oz=null;this.RH=B;J9h=27;break;}}};x.prototype.ugb=function(z,A,B){var K9U,G,F,C,D,E,J,M;K9U=2;for(;K9U !== 16;){switch(K9U){case 9:K9U=k(this.el)?8:7;break;case 20:K9U=!M.length?19:18;break;case 18:var M0A="(e";M0A+="mpty s";M0A+="tr";M0A+="eam l";M0A+="ist)";var M8U="Did no";M8U+="t find a";M8U+=" URL for ANY ";M8U+="stream...";var C8W="n";C8W+="e";C8W+="tworkF";C8W+="aile";C8W+="d";var Y_0="Network ha";Y_0+="s failed, ";Y_0+="not updating stream sel";Y_0+="ection";A.forEach(function(L,K){var C3d,P;C3d=2;for(;C3d !== 5;){switch(C3d){case 2:var r_C=" ";r_C+="Kb";r_C+="p";r_C+="s)";var W1Q=" ";W1Q+="(";var c8_="]";c8_+=" ";var v3w="F";v3w+="ailing st";v3w+="ream";v3w+=" ";v3w+="[";P=L.id;M.some(function(H){var E7o,N,I;E7o=2;for(;E7o !== 8;){switch(E7o){case 4:N=I.Lh[0];void 0 === L.o$ && (L.o$=N.id,L.wva=I.XO[N.id][0].Ub.id);return I.XO[H.id].some(function(R){var H5C,X;H5C=2;for(;H5C !== 20;){switch(H5C){case 2:H5C=k(R.Ub)?1:5;break;case 3:var p5X="unk";p5X+="n";p5X+="ow";p5X+="n";X=p5X;H5C=9;break;case 6:L.VX=R.Ub.name;L.Xr=R.Ub.type;E && (I.Fra=B);H5C=12;break;case 5:H5C=k(R) || E && !R.g8.some(function(ha){var R92;R92=2;for(;R92 !== 1;){switch(R92){case 2:T7u0V.o8l(7);return T7u0V.T1h(B,ha);break;}}})?4:3;break;case 4:return !1;break;case 12:L.jb=D.Dja?H.jb.confidence >= q.default.vl.$I || G.confidence < J?H.jb:G:G.confidence === q.default.vl.HAVE_NOTHING || H.jb.confidence >= q.default.vl.$I?H.jb:G;D.hZa && !L.jb.Gt && (L.jb.Gt=H.jb.Gt);return !0;break;case 9:var a5n="locat";a5n+="ion";a5n+="failo";a5n+="ver";var e7e="serverfa";e7e+="ilo";e7e+="ve";e7e+="r";var H12="performa";H12+="nc";H12+="e";L.location !== H.id && (D.wH?L.ira=H.id === N.id:X=H !== M[0] && E && I.Fra !== B?"" + q.default.Es.$ob:H !== M[0]?"" + q.default.Es.Aca:void 0 === L.location?"" + q.default.Es.Qu:h.kn(L.r5a) || L.r5a === H.id?h.kn(L.x5a) || L.x5a === R.Ub.id?H12:e7e:a5n,L.location=H.id,L.Mra=H.level,L.Fo=X);L.url=R.url;L.Ub=R.Ub.id;H5C=6;break;case 1:return (R.Ub.Nd === w.TEMPORARY && (L.Nd=w.TEMPORARY),D.wH && L.Ub === R.Ub.id && R.Ub.iw && (L.iw=R.Ub.iw),!1);break;}}});break;case 1:E7o=!I?5:4;break;case 2:I=H.streams[P];E7o=1;break;case 5:return !1;break;}}})?(L.qy=!1,L.Nd=void 0,L.Up && ++F):L.Nd && L.Nd === w.TEMPORARY?C.el.Nd=w.TEMPORARY:L.qy || (t.warn(v3w + K + c8_ + P + W1Q + L.bitrate + r_C),L.Tyb(),L.qy=!0);C3d=5;break;}}});return k(this.el)?(t.warn(Y_0),this.ZM=!0,this.emit(C8W,this.el.Nd === w.Uh),!1):F?!0:(t.warn(M8U + (A.length?"":M0A)),this.Ur(q.default.Tf.Ku,!0),!1);break;case 8:return !1;break;case 12:K9U=!this.oz?11:10;break;case 11:return (this.Ur(q.default.Tf.Ku,!1),!1);break;case 4:(G=this.Jc.get(),F=0);m.platform.jt && m.platform.jt(z);K9U=9;break;case 2:(C=this,D=this.config,E=!1);this.aa && void 0 !== B && B !== this.dRa && (void 0 === this.eRa || m.platform.time.wa() - this.eRa > D.JRb) && (this.dRa=B,this.eRa=m.platform.time.wa(),E=!0);E && (this.oz=null);K9U=4;break;case 7:J=q.default.vl.aJ;D.hta && (J=q.default.vl.$I);this.Jc.location && G.confidence >= J && (z=this.Lh[this.Jc.location]) && (z.jb=G);h.vc(this.oz) && (this.oz=this.s8b());K9U=12;break;case 19:return (this.Ur(q.default.Tf.Ku,!1),!1);break;case 10:M=this.oz;K9U=20;break;}}};E72=7;break;case 10:x.prototype.rh=function(){var v0e;v0e=2;for(;v0e !== 1;){switch(v0e){case 2:this.a1b(v.xob);v0e=1;break;}}};x.prototype.Oa=function(){var v0c;v0c=2;for(;v0c !== 1;){switch(v0c){case 2:this.config.mSb && this.XXb();v0c=1;break;}}};x.prototype.VZb=function(z){var Y2c,B,C,D,X0w,E,G,j43,P2U,J2D;Y2c=2;for(;Y2c !== 4;){switch(Y2c){case 2:(C=this,D=new Set());try{X0w=2;for(;X0w !== 3;){switch(X0w){case 6:A(G.value);X0w=5;break;case 5:A(G.value);X0w=4;break;case 4:G=E.next();X0w=1;break;case 14:G=E.next();X0w=7;break;case 7:X0w=-G.done?2:2;break;case 1:X0w=!G.done?5:3;break;case 2:(E=n.__values(z),G=E.next());X0w=1;break;}}}catch(J){var F;F={error:J};}finally{j43=2;for(;j43 !== 1;){switch(j43){case 2:try{P2U=2;for(;P2U !== 1;){switch(P2U){case 2:G && !G.done && (B=E.return) && B.call(E);P2U=1;break;}}}finally{J2D=2;for(;J2D !== 5;){switch(J2D){case 1:throw F.error;J2D=5;break;case 3:J2D=F?2:1;break;case 2:J2D=F?1:5;break;case 9:throw F.error;J2D=3;break;}}}j43=1;break;}}}Object.keys(this.streams).forEach(function(J){var r0B;r0B=2;for(;r0B !== 1;){switch(r0B){case 2:D.has(J) || delete C.streams[J];r0B=1;break;}}});Y2c=4;break;}}function A(J){var B$v;B$v=2;for(;B$v !== 1;){switch(B$v){case 2:Object.keys(J).forEach(function(M){var l0P,L,K;l0P=2;for(;l0P !== 9;){switch(l0P){case 2:L=J[M];D.add(M);l0P=5;break;case 5:l0P=L?4:9;break;case 4:var K7c="L";K7c+="I";K7c+="V";K7c+="E";K=C.streams[M];C.streams[M]=K?n.__assign(n.__assign({},K),L):{id:M,bitrate:L.bitrate,xb:null,type:L.mediaType,clear:L.ki?!1:!0,Up:!0,urls:[],XO:{},Lh:[],Zs:L,Fra:C.aa?K7c:void 0};l0P=9;break;}}});B$v=1;break;}}}};x.prototype.O$a=function(z,A,B){var B3O,C;B3O=2;for(;B3O !== 5;){switch(B3O){case 2:C=this;A.streams.forEach(function(D){var U5P;U5P=2;for(;U5P !== 1;){switch(U5P){case 2:C.P$a(z,D.downloadable_id,D,B);U5P=1;break;}}});B3O=5;break;}}};E72=17;break;case 23:return x;break;case 17:x.prototype.MZb=function(z,A){var W8r,B;W8r=2;for(;W8r !== 4;){switch(W8r){case 1:var B87="i";B87+="m";B87+="sc";B87+="1";B87+=".1";var N35="imsc1";N35+=".";N35+="1";B=z.downloadableIds[N35];(z=z.ttDownloadables[B87]) && B && this.P$a(p.u.Ga,B,z,A);W8r=4;break;case 9:W8r="" == z.id?2:7;break;case 2:var I0i="n";I0i+="o";I0i+="n";I0i+="e";W8r=I0i !== z.id?1:4;break;}}};x.prototype.P$a=function(z,A,B,C){var b7F,E,D;b7F=2;for(;b7F !== 10;){switch(b7F){case 12:b7F=!D && !C?11:6;break;case 3:var v1o="L";v1o+="I";v1o+="V";v1o+="E";var U15="n";U15+="one";U15+="-";E=null;z !== p.u.Ga && (C=B.content_profile,D=B.bitrate,z === p.u.X && (E=B.vmaf));D={id:A,bitrate:D,xb:E,type:z,profile:C,clear:0 === C.indexOf(U15),Up:!0,urls:[],XO:{},Lh:[],Fra:this.aa?v1o:void 0};b7F=7;break;case 7:this.streams[D.id]=D;b7F=6;break;case 5:C="";D=0;b7F=3;break;case 1:b7F=h.kn(D) && C?5:12;break;case 11:return;break;case 2:D=this.streams[A];b7F=1;break;case 6:this.NZb(D,B.urls);b7F=14;break;case 14:h.Hp(D.XO,function(G){var E_f;E_f=2;for(;E_f !== 1;){switch(E_f){case 2:G.sort(function(F,J){var j34;j34=2;for(;j34 !== 1;){switch(j34){case 2:return F.Ub.bc - J.Ub.bc;break;}}});E_f=1;break;}}});D.Lh=D.Lh.sort(function(G,F){var B0v;B0v=2;for(;B0v !== 1;){switch(B0v){case 2:return G.level - F.level || G.bc - F.bc;break;}}});b7F=10;break;}}};x.prototype.NZb=function(z,A){var P99,B;P99=2;for(;P99 !== 5;){switch(P99){case 2:B=this;A.forEach(function(C){var t6H,D,E,G,F,J;t6H=2;for(;t6H !== 14;){switch(t6H){case 2:(D=C.url,E=B.urls[D],G=B.yk[C.cdn_id]);B.aa && (F=C.liveOcaCapabilities);t6H=5;break;case 5:t6H=G?4:14;break;case 4:h.kn(E) && (E={id:D,Um:q.default.Tf.URL,Nd:w.Jk,iw:void 0,parent:G,children:[],url:D,Ub:G,stream:z,g8:F},B.urls[D]=E,G.children.push(E));J=G.location;z.urls.push(E);t6H=8;break;case 8:0 === z.Lh.filter(function(M){var Z$8;Z$8=2;for(;Z$8 !== 1;){switch(Z$8){case 2:return M.id === J.id;break;}}}).length && z.Lh.push(J);J.streams[z.id]=z;(C=z.XO[J.id])?C.push(E):z.XO[J.id]=[E];t6H=14;break;}}});P99=5;break;}}};x.prototype.s8b=function(){var v$X,C,z,A,B;v$X=2;for(;v$X !== 6;){switch(v$X){case 1:v$X=0 === B.length?5:4;break;case 5:return null;break;case 4:C=m.platform.time.wa();v$X=3;break;case 2:(z=this,A=this.config,B=this.sC.filter(function(D){var b8r;b8r=2;for(;b8r !== 1;){switch(b8r){case 4:return ~k(D) || 4 == D.level;break;case 2:return !k(D) && 0 !== D.level;break;}}}));v$X=1;break;case 8:B.sort(function(D,E){var W6K;W6K=2;for(;W6K !== 1;){switch(W6K){case 2:return D.level - E.level || D.bc - E.bc;break;}}});return B;break;case 3:v$X=null === this.l2 || this.l2 + A.Lra < C?9:8;break;case 9:(B.forEach(function(D){var D_f;D_f=2;for(;D_f !== 1;){switch(D_f){case 2:D.id !== z.Jc.location && (D.jb=z.Ej.get(D.id));D_f=1;break;}}}),this.l2=C);v$X=8;break;}}};x.prototype.a1b=function(z){var N8O,A;N8O=2;for(;N8O !== 4;){switch(N8O){case 2:A=this.Jc.location;this.IZb=z;this.sC.forEach(function(B){var X3I;X3I=2;for(;X3I !== 1;){switch(X3I){case 2:B.id !== A && B.jb && B.jb.confidence > q.default.vl.aJ && (B.jb.confidence=q.default.vl.aJ);X3I=1;break;}}});N8O=4;break;}}};x.prototype.XXb=function(){var N2y,z;N2y=2;for(;N2y !== 5;){switch(N2y){case 2:z=this;this.ZM || this.sC.forEach(function(A){var y3O;y3O=2;for(;y3O !== 1;){switch(y3O){case 2:A.Nd === w.TEMPORARY && z.Ej.fail(A.id,m.platform.time.wa());y3O=1;break;}}});N2y=5;break;}}};x.prototype.dump=function(){};E72=23;break;case 2:n.__extends(x,y);x.prototype.hr=function(){var Q6K;Q6K=2;for(;Q6K !== 1;){switch(Q6K){case 4:return k(this.el);break;case 2:return k(this.el);break;}}};x.prototype.P2b=function(z){var O2y;O2y=2;for(;O2y !== 5;){switch(O2y){case 2:O2y=(z=this.urls[z]) && z.parent?1:5;break;case 1:return z.parent.id;break;}}};E72=4;break;case 4:x.prototype.e2a=function(z){var f_6,A,B,F1N,C,D,E,p_j,d8j,L70;f_6=2;for(;f_6 !== 4;){switch(f_6){case 2:B=[];try{F1N=2;for(;F1N !== 9;){switch(F1N){case 12:D=C.next();F1N=9;break;case 2:(C=n.__values(Object.keys(this.urls)),D=C.next());F1N=1;break;case 5:E=this.urls[D.value];E.url === z.stream.url && B.push(E.Ub);F1N=3;break;case 1:F1N=!D.done?5:9;break;case 3:D=C.next();F1N=1;break;case 6:F1N=+D.done?6:1;break;}}}catch(F){var G;G={error:F};}finally{p_j=2;for(;p_j !== 1;){switch(p_j){case 2:try{d8j=2;for(;d8j !== 1;){switch(d8j){case 2:D && !D.done && (A=C.return) && A.call(C);d8j=1;break;}}}finally{L70=2;for(;L70 !== 5;){switch(L70){case 2:L70=G?1:5;break;case 3:L70=G?9:2;break;case 1:throw G.error;L70=5;break;case 9:throw G.error;L70=9;break;}}}p_j=1;break;}}}return B;break;}}};E72=3;break;case 13:x.prototype.zbb=function(z,A){var t2T;t2T=2;for(;t2T !== 3;){switch(t2T){case 5:this.oz=null;this.RH=q.default.Es.Sea;t2T=3;break;case 7:(g(z,A),f(z));t2T=9;break;case 1:(g(z,A),f(z));t2T=5;break;case 2:t2T=(z=this.yk[z])?1:5;break;}}};x.prototype.O$=function(){var D0v;D0v=2;for(;D0v !== 1;){switch(D0v){case 2:g(this.el,!1);D0v=1;break;}}};x.prototype.zta=function(z){var X54;X54=2;for(;X54 !== 1;){switch(X54){case 4:this.Brb(z);X54=7;break;case 2:this.Brb(z);X54=1;break;}}};E72=10;break;}}function x(z,A,B,C,D,E){var S36,G;S36=2;for(;S36 !== 25;){switch(S36){case 13:var f4K="n";f4K+="et";f4K+="wo";f4K+="r";f4K+="k";G.streams={};G.sC=[];G.ZM=!1;G.el={id:f4K,Um:q.default.Tf.Ku,Nd:w.Jk,iw:void 0,parent:void 0,children:G.sC};S36=20;break;case 7:G.Lh={};G.yk={};G.urls={};S36=13;break;case 20:G.l2=null;G.oz=null;G.RH=q.default.Es.Qu;S36=17;break;case 3:var D2_="L";D2_+="I";D2_+="V";D2_+="E";G.Brb=E;G.dRa=D2_;G.IZb=v.Qu;S36=7;break;case 26:return G;break;case 17:var O8$="1S";O8$+="IY";O8$+="bZ";O8$+="rNJCp9";var O05="LI";O05+="V";O05+="E";B=z.Jh;G.aa=O05 === z.ag && !!B;G.Q2(z,A,q.default.Es.Qu);O8$;S36=26;break;case 2:G=y.call(this) || this;G.Jc=B;G.Ej=C;G.config=D;S36=3;break;}}}})(r.EventEmitter);b.gIa=a;},86102:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.t1a=void 0;b.t1a=function(a){var c;a=a.Jh;if(!a)return 0;c=a.OX;return 1E3 * Object.keys(c).reduce(function(l,f){f=c[f];return Math.max(l,f.duration / f.N);},0);};},1104:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.pQ=void 0;c=a(42866);l=a(62558);f=a(27364);r=(function(){function k(d){var g;void 0 === d && (d=[]);g=this;this.items=d;d.forEach(function(n){return g.Oza(n);});}Object.defineProperties(k.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{vva:{get:function(){var d;return null !== (d=this.video) && void 0 !== d?d:this.audio;},enumerable:!1,configurable:!0}});k.prototype.get=function(d){switch(d){case f.u.X:return this.video;case f.u.$:return this.audio;case f.u.Ga:return this.text;}};k.prototype.every=function(d){return this.items.every(d);};k.prototype.some=function(d){return this.items.some(d);};k.prototype.forEach=function(d){this.items.forEach(d);};k.prototype.find=function(d){return (0,c.ec)(this.items,d);};k.prototype.reduce=function(d,g){return this.items.reduce(d,g);};k.prototype.filter=function(d){return new k(this.items.filter(d));};k.prototype.replace=function(d,g){var n;n=this.items.indexOf(d);(0,l.assert)(-1 < n);(0,l.assert)(d.mediaType === g.mediaType);this.items[n]=g;this.Oza(g);};k.prototype.add=function(d){this.items.push(d);this.Oza(d);};k.prototype.remove=function(d){var g;g=this.items.indexOf(d);if(-1 === g)return !1;this.items.splice(g,1);this.Nyb(d.mediaType);return !0;};k.prototype.clear=function(){this.items=[];this.text=this.audio=this.video=void 0;};k.prototype.Oza=function(d){switch(d.mediaType){case f.u.X:this.video=d;break;case f.u.$:this.audio=d;break;case f.u.Ga:this.text=d;}};k.prototype.Nyb=function(d){switch(d){case f.u.X:this.video=void 0;break;case f.u.$:this.audio=void 0;break;case f.u.Ga:this.text=void 0;}};return k;})();b.pQ=r;},50625:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.UBa=void 0;c=a(42866);l=a(81883);r=(function(){function f(k,d,g,n){this.config=d;this.zf=g;this.console=n;this.Aa=k.Aa;}f.prototype.append=function(k,d){var g,n,h,m,p,q,u,t,w,v,y,x,z;if(k.ei)return k;g=!1;n=(0,l.Koa)(this.config,this.zf);h=k.Ma;m=k.offset;p=k.sf;q=k.si;u=h.Hb;t=h.Cb;w=h.Nt;w=h.Xk || w;if(!k.Ma.Ja || !w || p)return k;v=h.Ua.qa(h.Ka);w=Math.floor(v.jh(this.Aa));y=d.lta || u.qa(this.Aa.wo(2));x=y.qa(t);u=w;z=!1;d.lta && (d=this.aVa(v,x,x),u=d.Oj,z=d.i8a);n=y.qa(c.L.Na(n));t=c.L.max(n.qa(t),c.L.Ia);z || (t=this.aVa(v,t,x),u=t.Oj,t.i8a && (--u,this.Aa.wo(u)));u < (this.config.qUb || 1)?g=!0:0 < w - u && k.Ma.a5(w - u);return {Ma:h,offset:m,sf:p,ei:g,si:q};};f.prototype.aVa=function(k,d,g){var n;k=c.L.min(k,d);k=Math.floor(k.jh(this.Aa));d=this.Aa.wo(k);g=g.qa(d);n=0 < k && g.lessThan(c.L.Wy);return {Oj:k,mjc:d,Lgc:g,i8a:n};};return f;})();b.UBa=r;},3973:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.wca=void 0;c=a(42866);l=a(49730);r=(function(){function f(k){this.console=k;}f.prototype.append=function(k){var d,g,n,h,m,p;if(k.ei)return k;d=k.Ma;g=k.offset;n=k.si;h=d.Ka;m=d.Ua;p=h.add(g);g=m.add(g);p=this.zM && p.qa(this.zM);this.zM=g;if(void 0 === p || p.equal(c.L.Ia))return k;k.si=n || [];d={stream:d.Pb,pts:h.G,gap:p.G};k.si.push({type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:d}}});l.K && this.console.log(("Audio discontinuity: ").concat(JSON.stringify(d)));return k;};return f;})();b.wca=r;},33507:function(r,b,a){var f,k,d,g,n,h;function c(m,p,q,u,t,w){var v,y,x,z,A,B,C;if(void 0 !== m.Eaa || void 0 !== m.hya || m.st || m.fo){v=m.end - m.start;y=Array(v);x=m.st;z=m.SZa?m.SZa - 1:0;A=m.TZa?m.TZa - 1:0;B=Math.min(v,Math.max(m.Eaa || 0,w && x && !z?1:0));m=Math.min(v - B,Math.max(m.hya || 0,w && p && !A?1:0));w=Math.floor(u.jh(q));q=Math.max(0,Math.min(v - B - m,x?Math.max(0,w - z):0));C=Math.max(0,Math.min(v - B - m - q,p?Math.max(0,w - A):0));q=B + q;u=v - m - C;A=A?0:Math.max(0,w + 1 - C);w=(1 - t) / (w + 1);for(C=0;C < v;++C){y[C]=C < B?-Infinity:C >= v - m?-Infinity:x && C < q?l(t + (C - B + z) * w):p && C >= u?l(1 - (C - u + A + 1) * w):0;}return y;}}function l(m){return 20 * Math.log(m) / Math.log(10);}Object.defineProperties(b,{__esModule:{value:!0}});b.VBa=void 0;f=a(5163);k=a(36418);d=a(42866);g=a(97810);n=a(62558);h=a(27364);r=a(60513);r=(function(m){var F3x;F3x=2;for(;F3x !== 9;){switch(F3x){case 3:return p;break;case 2:f.__extends(p,m);p.prototype.Ja=function(q,u){var q0N,w,t,v,y,x;q0N=2;for(;q0N !== 33;){switch(q0N){case 23:return {ia:y};break;case 35:y && 1 < w.length && (y=null === y || void 0 === y?void 0:y.concat(w.slice(1)));return {ia:!0,si:t,Do:y};break;case 6:q0N=0 >= q.Md.ja?14:13;break;case 9:w=q.Do;q0N=8;break;case 3:return {ia:!0};break;case 15:q=this.hFb(q,y?(0,g.LK)(y):w[0],x,u);y=q.ia;x=q.oo;v=q.data;q0N=24;break;case 2:var N06="AudioMediaFr";N06+="a";N06+="gmentEd";N06+="itor [${fragment.mediaType}]: Atte";N06+="mpt to edit appended fragment";void 0 === u && (u=!0);t=[];(0,n.assert)(!q.tS,N06);q0N=4;break;case 13:q0N=0 < q.Ja.start || q.Ja.Eaa || q.Ja.st?12:16;break;case 17:x=q.Ja.start;q0N=16;break;case 21:y=v;q0N=35;break;case 16:q0N=q.Ja.end !== q.vt || q.Ja.hya || q.Ja.fo?15:35;break;case 4:q0N=!q.Ja?3:9;break;case 19:x && t.push(x);y=v;q0N=17;break;case 8:q0N=!(w[0] instanceof ArrayBuffer)?7:6;break;case 22:x && t.push(x);q0N=21;break;case 12:(v=this.gFb(q,w[0],u),y=v.ia,x=v.oo);v=v.data;q0N=10;break;case 24:q0N=!y?23:22;break;case 10:q0N=!y?20:19;break;case 7:return {ia:!0};break;case 14:return {ia:!1};break;case 20:return {ia:y};break;}}};p.prototype.gFb=function(q,u,t){var f3i,w;f3i=2;for(;f3i !== 6;){switch(f3i){case 2:void 0 === t && (t=!0);(0,n.assert)(q.Ja);w=q.Ja.Eaa;t=!(!q.Ja.fo || !t);f3i=3;break;case 3:f3i=!(q.Ja.start || w || q.Ja.st || t)?9:8;break;case 8:var s$K=" e";s$K+="dit ";s$K+="f";s$K+="a";s$K+="iled";var q4h="]";q4h+=":";q4h+=" ";var K5B="AudioMedia";K5B+="FragmentEditor";K5B+=" [";t=c(q.Ja,t,q.Aa,this.jaa,this.MM,this.config.Z3a);return (u=new k.Cs(this.Y8,q.stream,u).Tab({Nj:q.Ja.start,N:q.Zp,Hx:t,Jwa:!1,IH:this.config.S$,OG:l(this.MM)}))?{ia:!0,oo:q.gbb(w),data:u.Ma}:(this.console.error(K5B.concat(q.mediaType,q4h).concat(q.toString(),s$K)),{ia:!1});break;case 9:return {ia:!0};break;}}};p.prototype.hFb=function(q,u,t,w){var R1l,v;R1l=2;for(;R1l !== 14;){switch(R1l){case 2:void 0 === t && (t=0);void 0 === w && (w=!0);(0,n.assert)(q.Ja);R1l=4;break;case 8:return {ia:!0};break;case 7:var i0R=" ";i0R+="e";i0R+="di";i0R+="t failed";var w2r="]";w2r+=":";w2r+=" ";var p1$="Audi";p1$+="oMedia";p1$+="FragmentEditor";p1$+=" ";p1$+="[";w=c(q.Ja,w,q.Aa,this.kaa,this.MM,this.config.Z3a);return (u=new k.Cs(this.Y8,q.stream,u).$ab({Nj:q.Ja.end - t,N:q.Zp,Hx:w,Jwa:!1,IH:this.config.S$,OG:l(this.MM)}))?{ia:!0,oo:q.gbb(v),data:u.Ma}:(this.console.error(p1$.concat(q.mediaType,w2r).concat(q.toString(),i0R)),{ia:!1});break;case 4:v=q.Ja.hya;w=!(!q.Ja.fo || !w);R1l=9;break;case 9:R1l=q.Ja.end === q.vt && !v && !q.Ja.st && !w?8:7;break;}}};F3x=3;break;}}function p(q,u,t){var P3o,w;P3o=2;for(;P3o !== 6;){switch(P3o){case 7:return w;break;case 2:var b2c="1S";b2c+="IYbZrN";b2c+="JCp9";b2c;w=m.call(this,q,h.u.$) || this;w.console=q;w.config=u;w.jaa=d.L.Na(0 <= u.jaa?u.jaa:u.mz);w.kaa=d.L.Na(0 <= u.kaa?u.kaa:u.mz);w.MM=Math.pow(10,(u.MM[t] || -44) / 20);P3o=7;break;}}}})(r.vea);b.VBa=r;},56764:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.WBa=void 0;c=a(49730);r=(function(){function l(f){this.console=f;}l.prototype.append=function(f,k){var d,g,n,h,m,p,q;if(f.ei)return f;d=!1;g=f.Ma;n=f.offset;h=f.sf;f=f.si;k=k.QM;m=g.Hb;if(this.dm && m.lessThan(this.dm.Hb)){p=this.dm.QM.qa(g.Cb);q=g.Hb.qa(this.dm.QM);q.lessThan(p) && (c.K && this.console.trace(("AudioOverlapGuard: skipping append of ").concat(g) + (", current error: ").concat(p.qb()) + (", discard error: ").concat(q.qb())),d=!0);}this.dm=(g.Xk || g.Nt) && k?{QM:k,Hb:m}:void 0;return {Ma:g,offset:n,sf:h,ei:d,si:f};};return l;})();b.WBa=r;},36304:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vHa=void 0;r=(function(){function a(c){this.yX=!1;this.w4b=c.nPb;}a.prototype.append=function(c){c.Ma.Ja && (c.Ma.E3b(this.yX?0:this.w4b),this.yX=!0);return c;};return a;})();b.vHa=r;},60513:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.vea=void 0;c=a(12043);b.vea=(function(){return function(l,f){this.console=l;this.mediaType=f;this.Y8=new c.platform.Console("MP4","media|asejs");};})();},29308:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.tJa=void 0;c=a(42866);l=a(27364);f=a(62558);k=a(66649);d=a(33446);g=a(99548);n=a(35559);h=a(55142);m=a(36304);p=a(50625);q=a(56764);u=a(33507);t=a(3973);w=a(91659);r=(function(){function v(y,x,z,A){this.config=y;this.mediaType=x;this.zf=z;this.console=A;}v.prototype.append=function(y,x){var z,A,B,C,D,E;void 0 === this.track?this.zqa(y.stream):this.track !== y.stream.track && ((0,f.assert)(this.track.Aa),(0,f.assert)(y.stream.track.Aa),this.track=y.stream.track);(0,f.assert)(void 0 !== this.Ep);C={Ma:y,offset:null !== (z=y.Kva) && void 0 !== z?z:c.L.Ia,sf:this.config.gO,ei:!1};C=this.Ep.reduce(function(G,F){return F.append(G,x);},C);D=C.Ma;z=C.offset;E=C.ei;C=C.si;C=void 0 === C?[]:C;D.Ja && ((0,f.assert)(y.Ja,"Fragments must be marked for edit at request time"),y.Bi(D.Ja));if(E || !this.Isa)return {offset:z,ei:E};y=this.Isa.Ja(y,!(null === (B=null === (A=y.v) || void 0 === A?void 0:A.v) || void 0 === B || !B.fo));A=y.ia;B=y.si;y=y.Do;Array.prototype.push.apply(C,void 0 === B?[]:B);return {offset:z,ei:!A,si:C,Do:y};};v.prototype.reset=function(){this.Ep=this.track=void 0;};v.prototype.zqa=function(y){var x,z;this.track=y.track;this.mediaType === l.u.$?this.Isa=new u.VBa(this.console,this.config,y.profile):y.PPb && (this.Isa=new w.JPa(this.console,this.config));this.Ep=[];if(this.mediaType === l.u.$){this.config.gO && this.Ep.push(new g.QNa(this.config,y.track,this.console));z=this.dka(y);z.equal(c.L.Ia)?this.config.Hm && y.Mf && this.Dqa(y.la.J) && this.Ep.push(new m.vHa(this.config)):this.Ep.push(new k.zfa(z));this.config.G8 || (this.console.log(("MediaSplicer: NegativePtsGuard: ").concat(z.qb(),", ") + ("").concat(null === (x=y.Mf) || void 0 === x?void 0:x.qb())),this.Ep.push(new n.QJa(this.config,y,this.console)));this.jQb()?(this.config.Ak || this.Ep.push(new p.UBa(y,this.config,this.zf,this.console)),this.config.gO && this.Ep.push(new t.wca(this.console)),this.Ep.push(new d.dKa(this.config,y,this.console)),this.p4b(y) && ((0,f.assert)(y.Aa),this.Ep.push(this.Izb(y.Mf || c.L.Ia,y.Aa,z)))):(this.Ep.push(new q.WBa(this.console)),this.config.gO && this.Ep.push(new t.wca(this.console)));}};v.prototype.Dqa=function(y){return this.config.Dqa || this.config.a4a && -1 !== this.config.a4a.indexOf(y);};v.prototype.dka=function(y){return k.zfa.dka(this.config,y.Mf,this.zf,this.console);};v.prototype.jQb=function(){return !this.config.XN;};v.prototype.p4b=function(y){return this.config.A7b && this.config.Hm && !!y.Mf;};v.prototype.Izb=function(y,x,z){return new h.sPa(y.qa(z),x,this.console);};return v;})();b.tJa=r;},35559:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.QJa=void 0;c=a(42866);l=a(62558);f=a(49730);r=(function(){function k(d,g,n){var h;this.console=n;this.yX=!1;(0,l.assert)(g.Aa,"NegativePtsGuard: stream.frameDuration must exist.");this.Aa=g.Aa;this.Hm=d.Hm;this.Mf=null !== (h=g.Mf) && void 0 !== h?h:c.L.Ia;}k.prototype.append=function(d){var g,n,h,m,p;if(this.yX || d.ei)return d;g=d.Ma;n=d.offset;h=d.sf;d=d.si;if(g.Ja){m=g.Ka.qa(this.Hm?this.Mf:c.L.Ia).add(n);if(m.lessThan(c.L.Ia)){p=Math.ceil(m.wo(-1).jh(this.Aa));f.K && this.console.trace(("NegativePtsGuard: dropping ").concat(p," frames on first fragment to avoid nagative pts, ") + ("profile offset ").concat(this.Mf.qb(),", ") + ("request content start ").concat(g.Ka.qb(),", ") + ("current timestamp offset ").concat(n.qb()," => ") + ("firstPlatformTimestamp ").concat(m.qb(),"."));g.nma(p);}}this.yX=!0;return {Ma:g,offset:n,sf:h,ei:!1,si:d};};return k;})();b.QJa=r;},33446:function(r,b,a){var l,f,k,d;function c(g){return ("").concat(g.qb()," (nrdp: ").concat(g.JH,"ms)");}Object.defineProperties(b,{__esModule:{value:!0}});b.dKa=void 0;l=a(42866);f=a(87425);k=a(49730);d=a(62558);r=(function(){function g(n,h,m){this.console=m;this.offset=l.L.Ia;this.Mf=n.Hm?h.Mf || l.L.Ia:l.L.Ia;this.$t=h.$t || l.L.Ia;(0,d.assert)(h.Aa);this.Aa=h.Aa;}g.prototype.append=function(n){var h,m,p,q;if(n.ei)return n;h=n.Ma;m=n.offset;p=n.sf;q=n.si;void 0 !== this.p5a && ((0,d.assert)(void 0 !== this.qra),h.Ka.add(n.offset).equal(this.p5a)?(n=this.Cxb(h,m.add(this.offset)).G - this.qra,0 > n?this.offset=this.offset.add(l.L.Wy):0 === n?this.offset.lessThan(l.L.Ia) && (this.offset=this.offset.add(l.L.Wy)):1 === n?this.offset.greaterThan(l.L.Ia) && (this.offset=this.offset.qa(l.L.Wy)):this.offset=this.offset.qa(l.L.Wy)):this.offset=l.L.Ia);this.qra=this.Bxb(h,m.add(this.offset)).G;this.p5a=h.Ua.add(m);return {Ma:h,offset:m.add(this.offset),sf:p,ei:!1,si:q};};g.prototype.Cxb=function(n,h){var m,p;n=this.qTa(n.Ka);h=h.qa(this.$t);m=(0,f.St)(n).add((0,f.St)(h));p=n.add(h).qa(m);k.K && this.console.trace("NrdpRounding: content start " + c(n) + ", adjusted offset: " + c(h) + ", start rounding error: " + (0,f.St)(n).toString() + ", adjusted offset rounding error: " + (0,f.St)(h).toString() + ", total error: " + m.toString() + ", expected nrdp value:" + p.qb() + ", (" + n.JH + h.JH + "ms), last fragment end nrdp: " + this.qra);return p;};g.prototype.Bxb=function(n,h){var m,p,q;m=this.Aa;n=this.qTa(n.Ua);h=h.qa(this.$t);p=(0,f.St)(n.qa(m)).add((0,f.St)(m)).add((0,f.St)(h));q=n.add(h).qa(p);k.K && this.console.trace("NrdpRounding: content end: start of last frame:" + c(n.qa(m)) + ", frame duration: " + c(m) + ", adjusted offset: " + c(h) + ", timestamp rounding error: " + (0,f.St)(n.qa(m)).toString() + ", frame duration rouding error: " + (0,f.St)(m).toString() + ", adjusted offset rounding error: " + (0,f.St)(h).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.qb() + ", (" + n.qa(m).JH + m.JH + h.JH + "ms)");return q;};g.prototype.qTa=function(n){return n.add(this.$t).qa(this.Mf);};return g;})();b.dKa=r;},66649:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.zfa=void 0;c=a(42866);l=a(49730);r=(function(){function f(k){this.Mf=k;}f.dka=function(k,d,g,n){var h;h=c.L.Ia;d && (g=null === g || void 0 === g?void 0:g.Xfc,k.S8b && void 0 !== g && 0 <= g?(k=new c.L(g,48E3),h=d.add(k),l.K && n.trace(("Adjusting profile timestamp offset of ").concat(d) + (" by DPI assumed delay of ").concat(k) + (" for ASE applied offset of ").concat(h,"."))):k.uS && (h=d));return h;};f.prototype.append=function(k){var d,g,n;d=k.sf;g=k.ei;n=k.si;return {Ma:k.Ma,offset:k.offset.add(this.Mf),sf:d,ei:g,si:n};};return f;})();b.zfa=r;},99548:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.QNa=void 0;c=a(42866);l=a(62558);f=a(49730);r=(function(){function k(d,g,n){this.config=d;this.console=n;this.rv=c.L.Ia;(0,l.assert)(g.Aa);this.Aa=g.Aa;g=g.te[0].profile;this.S8=this.qLb(g,this.Aa);this.z8=this.lLb(g,this.Aa);this.S6=-1 !== d.fUa.indexOf(g);}k.prototype.append=function(d,g){var n,h,m,p,q;if(d.ei)return d;n=d.Ma;h=d.offset;m=d.si;m=void 0 === m?[]:m;d=d.sf;p=g.QM;g=g.lta;if(this.Mua){q=this.wUb(n,this.Mua);n.Ja && !this.S6 && this.uja(q)?(f.K && this.console.trace("SeamlessAudio: dropping first frame"),n.nma(1),this.rv=q):(this.rv=q.add(this.Aa),this.nUa(this.rv) || (f.K && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + n.Cb.qb() + " error would be " + this.rv.qb() + " (editing " + (n.Ja?"":"not ") + "allowed)"),m.push({type:"logdata",target:"endplay",fields:{avsyncreset:{type:"array",value:{id:n.Pb,pts:n.Ka.G}}}}),this.rv=c.L.Ia,d=!1));this.Mua=void 0;}if(n.Xk || n.Nt)((0,l.assert)(p,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!n.Ja || !g && n.Nt || (q=this.xUb(n,p,g),g && this.S6 && q.ji(this.Aa)?(f.K && this.console.trace("SeamlessAudio: dropping last two frames"),n.a5(2)):q.ji(c.L.Ia) && (f.K && this.console.trace("SeamlessAudio: dropping last frame"),n.a5(1))),this.Mua=p);(0,l.assert)(this.nUa(this.rv));this.zM=n.Hb;return {Ma:n,offset:h.add(this.rv),sf:d,ei:0 === n.Wwa,si:m.length?m:void 0};};k.prototype.xUb=function(d,g,n){var h;if(n)h=this.rv.add(d.Hb.qa(n)).qa(this.Aa);else (h=d.Hb.qa(g),h=this.rv.add(h).qa(this.Aa));f.K && this.console.trace("SeamlessAudio: fragment end: " + d.Hb.qb() + ", splice " + g.qb() + ", next start " + (null === n || void 0 === n?void 0:n.qb()) + ", error " + h.add(this.Aa).qb() + ", error with frame drop " + h.qb() + ", is" + (this.uja(h)?"":" not") + " within bounds of [" + this.S8.qb() + " and " + this.z8.qb() + ")");return h;};k.prototype.wUb=function(d,g){var n;(0,l.assert)(this.zM);n=this.rv.add(this.zM.qa(d.Cb)).qa(this.Aa);f.K && this.console.trace("SeamlessAudio: fragment start: " + d.Cb.qb() + ", splice " + g.qb() + ", last fragment end: " + this.zM.qb() + ", error " + n.add(this.Aa).qb() + ", error with frame drop " + n.qb() + ", is" + (this.uja(n)?"":" not") + " within bounds of [" + this.S8.qb() + " and " + this.z8.qb() + ")");return n;};k.prototype.uja=function(d){return d.lessThan(this.z8) && d.ji(this.S8);};k.prototype.nUa=function(d){return d.lessThan(this.z8.add(c.L.Wy)) && d.ji(this.S8.qa(c.L.Wy));};k.prototype.lLb=function(d,g){return "object" === typeof this.config.mxa && void 0 !== this.config.mxa[d]?(d=new c.L(this.config.mxa[d],1E3).dd(g.N).add(new c.L(1,g.N)),c.L.min(g,d)):g;};k.prototype.qLb=function(d,g){var n;if("object" === typeof this.config.nxa && void 0 !== this.config.nxa[d]){n=g.jh(-2);d=new c.L(this.config.nxa[d],1E3).dd(g.N).qa(new c.L(1,g.N));return c.L.max(n,d);}return new c.L(-12,1E3);};return k;})();b.QNa=r;},55142:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.sPa=void 0;c=a(42866);l=a(49730);r=(function(){function f(k,d,g){this.Mf=k;this.Aa=d;this.console=g;}f.prototype.append=function(k,d){var g,n,h,m,p,q;g=k.Ma;n=k.offset;h=k.sf;m=k.si;k=k.ei;if(!k){p=d.endOfStream;d=d.QM;if(p && d){p=g.Ka.qa(this.Mf).add(n);q=g.Ua.qa(this.Mf).add(n);d=d.qa(c.L.Wy);l.K && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + p.qb() + "-" + q.qb() + " vs media splice point at " + d.qb());p.add(this.Aa).ji(d)?(l.K && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),k=!0):q.ji(d) && (d=Math.ceil(q.qa(d).jh(this.Aa)),g.Ja?(l.K && this.console.trace(("TruncateEndOfStreamAudio: drop ").concat(d," frames")),g.a5(d)):(l.K && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),k=!0));}else p && l.K && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");}return {Ma:g,offset:n,sf:h,ei:k,si:m};};return f;})();b.sPa=r;},91659:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.JPa=void 0;c=a(5163);l=a(36418);f=a(62558);k=a(97810);d=a(83350);g=a(93161);r=(function(n){function h(m,p){var q;q=n.call(this,m,g.u.X) || this;q.console=m;q.config=p;return q;}c.__extends(h,n);h.prototype.Ja=function(m){var p,q,u,t,w,v,y;if(!(m.Ja && m instanceof d.vca))return {ia:!0};p=m.Do;if(!(p[0] instanceof ArrayBuffer))return {ia:!0};q=p[0];u=q.slice(0,q.byteLength - 8);t=new DataView(q);q=t.getUint32(u.byteLength);(0,f.assert)("mdat" === (0,l.sx)(t.getUint32(u.byteLength + 4)));w=0 < m.Ja.start;t=m.Ja.end < m.vt;if(!w && !t)return {ia:!0};if(w){w=new l.Cs(this.Y8,m.stream,u);v=w.Tab(m.Ja.start,m.N);}if(t && !1 !== v){w=new l.Cs(this.Y8,m.stream,v?(0,k.LK)(v.Ma):u);y=w.$ab(m.Ja.end - m.Ja.start,m.N);}u=(m=t?y:v)?m.Ma:[u];q=this.pub(v,y,q);u.push((0,l.hC)(q - 8));1 < p.length && (u=u.concat(p.slice(1)));return {ia:!0,Do:u};};h.prototype.pub=function(m,p,q){m && ((0,f.assert)(void 0 !== m.nq),(0,f.assert)(void 0 !== m.SN),q-=m.nq);p && ((0,f.assert)(void 0 !== p.nq),(0,f.assert)(void 0 !== p.SN),q-=p.nq,m && (0,f.assert)(void 0 !== m.nq));return q;};return h;})(a(60513).vea);b.JPa=r;},59012:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.GFa=void 0;c=a(62558);l=a(60580);r=(function(){function f(){this.global=new l.rQ();this.pH={};}f.prototype.add=function(k,d){(0,c.assert)(void 0 === this.pH[k],"Cannot add new memory object for playgraph");this.pH[k]=d;this.global.add(d.$q);this.global.add(d.oT);};return f;})();b.GFa=r;},60580:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.rQ=void 0;c=a(27364);r=(function(){function l(){this[c.u.$]=0;this[c.u.X]=0;this[c.u.Ga]=0;}Object.defineProperties(l.prototype,{total:{get:function(){return this[c.u.$] + this[c.u.X] + this[c.u.Ga];},enumerable:!1,configurable:!0}});l.prototype.add=function(f){this[c.u.$]+=Math.max(f[c.u.$] || 0,0);this[c.u.X]+=Math.max(f[c.u.X] || 0,0);this[c.u.Ga]+=Math.max(f[c.u.Ga] || 0,0);};l.prototype.Bia=function(f,k){this[f]+=Math.max(k || 0,0);};return l;})();b.rQ=r;c.u.$;c.u.X;c.u.Ga;},92523:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.DMa=void 0;c=a(60580);r=(function(){function l(){this.$q=new c.rQ();this.oT=new c.rQ();}Object.defineProperties(l.prototype,{total:{get:function(){var f;f=new c.rQ();f.add(this.$q);f.add(this.oT);return f;},enumerable:!1,configurable:!0}});l.prototype.add=function(f){this.$q.add(f.$q);this.oT.add(f.oT);};l.prototype.Bia=function(f,k,d){(d?this.oT:this.$q).Bia(f,k);};return l;})();b.DMa=r;},30923:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.uD=void 0;r=a(5163);c=a(12043);l=a(23800);f=r.__importDefault(a(71866));k=r.__importDefault(a(24021));d=r.__importDefault(a(76733));g=a(62558);n=a(38509);b.uD=(function(){function m(p,q,u){var t;t=this;this.Ej=new f.default(p,u);this.kW=new k.default(p);this.Jc=new d.default(this.kW,this.Ej,p);this.jY=new n.xOa(c.platform.x4,q);l.qD.Azb(p);p.V9 && setInterval(function(){t.Ej.save();t.kW.save();},p.V9);}m.Poa=function(p,q,u){void 0 === h?(m.config=p,m.bza=u,h=new m(p,q,u)):((0,g.assert)(m.config === p),(0,g.assert)(m.bza === u));return h;};m.instance=function(){(0,g.assert)(h,"CommonGlobals accessed too early");return h;};m.reset=function(){m.config=void 0;h=m.bza=void 0;};return m;})();},77613:function(r,b){function a(c,l){var f;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,l);Object.getOwnPropertyNames(c).forEach(function(k){f=Object.getOwnPropertyDescriptor(c,k);void 0 !== f && Object.defineProperty(l,k,f);});}Object.defineProperties(b,{__esModule:{value:!0}});b["default"]=a;},23360:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(46211),b);r.__exportStar(a(76498),b);r.__exportStar(a(27009),b);r.__exportStar(a(33163),b);r.__exportStar(a(92011),b);r.__exportStar(a(62470),b);r.__exportStar(a(71973),b);r.__exportStar(a(65915),b);r.__exportStar(a(1002),b);r.__exportStar(a(6389),b);r.__exportStar(a(8760),b);r.__exportStar(a(39381),b);r.__exportStar(a(72072),b);r.__exportStar(a(89212),b);r.__exportStar(a(87034),b);r.__exportStar(a(67510),b);r.__exportStar(a(32139),b);r.__exportStar(a(35874),b);r.__exportStar(a(99814),b);r.__exportStar(a(75816),b);r.__exportStar(a(72213),b);r.__exportStar(a(16571),b);r.__exportStar(a(66759),b);r.__exportStar(a(22492),b);r.__exportStar(a(4087),b);r.__exportStar(a(46733),b);r.__exportStar(a(14450),b);r.__exportStar(a(30162),b);r.__exportStar(a(14157),b);r.__exportStar(a(33629),b);r.__exportStar(a(63110),b);r.__exportStar(a(73103),b);r.__exportStar(a(55730),b);r.__exportStar(a(17810),b);r.__exportStar(a(73808),b);r.__exportStar(a(50982),b);r.__exportStar(a(39273),b);r.__exportStar(a(8512),b);r.__exportStar(a(16469),b);r.__exportStar(a(84071),b);r.__exportStar(a(70669),b);r.__exportStar(a(91898),b);},76498:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},27009:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},33163:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},92011:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},46211:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},62470:function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Sc=b.gn=void 0;(function(c){c[c.Fs=0]="STOPPED";c[c.ee=1]="BUFFERING";c[c.$j=2]="REBUFFERING";c[c.yl=3]="STREAMING";c[c.w1=4]="TRACK_SWITCH";})(a || (a={}));b.Sc=a;b.gn=function(c){return c === a.ee || c === a.$j || c === a.w1;};},71973:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65915:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},55730:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Uz=void 0;r=b.Uz || (b.Uz={});r[r.bI=0]="skipped";r[r.vub=1]="adjustment";},1002:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},6389:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},39381:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},70669:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16469:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},27364:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(5163).__exportStar(a(23360),b);},72072:function(r,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.A5b=b.wab=b.Yva=void 0;b.Yva=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.wab=a;b.A5b=function(c){return ("IStreamable: ").concat(c.identifier," [").concat(c.mediaType,"] ").concat(c.groupId," ") + ("p:").concat(JSON.stringify(c.pf)," sp:").concat(c.qq," ") + ("pssp:").concat(c.cz," ") + ("state:").concat(c.Qd," path-complete:").concat(c.zo," ") + ("streaming:").concat(c.Bk," current:").concat(c.Sk);};},89212:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},67510:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},87034:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.TG=b.H8=b.qQ=b.u=void 0;c=a(60328);Object.defineProperties(b,{u:{enumerable:!0,get:function(){return c.u;}}});b.qQ=[c.u.$,c.u.X,c.u.Ga];b.H8=function(l,f,k){l=l || f?f?[c.u.X]:[c.u.$]:[c.u.$,c.u.X];k && l.push(c.u.Ga);return l;};b.TG=function(l){return l === c.u.$?"audio":l === c.u.X?"video":l === c.u.Ga?"text":"unknown";};},32139:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(87034);},35874:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(87034);},99814:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ex=void 0;r=b.ex || (b.ex={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.aJ=1]="HAVE_SOMETHING";r[r.$I=2]="HAVE_MINIMUM";r[r.OP=3]="HAVE_ENOUGH";},75816:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},72213:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},16571:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.eb=b.VW=void 0;c=a(62470);(function(f){f[f.Jn=0]="STARTING";f[f.ee=1]="BUFFERING";f[f.$j=2]="REBUFFERING";f[f.he=3]="PLAYING";f[f.k1=4]="STOPPING";f[f.Fs=5]="STOPPED";f[f.Kg=6]="PAUSED";})(l || (l={}));b.eb=l;b.VW=function(f){return f === c.Sc.ee?l.ee:f === c.Sc.$j?l.$j:f === c.Sc.w1?l.ee:f === c.Sc.yl?l.he:l.Jn;};},17810:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(32769),b);r.__exportStar(a(65376),b);r.__exportStar(a(74071),b);r.__exportStar(a(48248),b);r.__exportStar(a(59680),b);r.__exportStar(a(29730),b);r.__exportStar(a(89394),b);r.__exportStar(a(84631),b);},32769:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},89394:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},29730:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65376:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},59680:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},74071:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},84631:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},48248:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},66759:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},22492:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},46733:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},4087:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},14450:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},30162:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},8760:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},14157:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},33629:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},91898:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},84071:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},63110:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},73103:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},39273:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Iq=void 0;r=b.Iq || (b.Iq={});r[r.Inb=0]="PLAYGRAPH_CHANGED";r[r.Jnb=1]="PLAYGRAPH_UNCHANGED";r[r.Smb=2]="NO_MATCHING_SEGMENT_FOUND";r[r.Gob=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";r[r.Wkb=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.Vkb=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.Hob=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.Vhb=7]="APPENDED_PAST_TRUNCATION_POINT";r[r.imb=8]="LOSS_OF_POSITION";},73808:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(48425),b);r.__exportStar(a(38294),b);},48425:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},38294:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},8512:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},50982:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65656:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Cs=b.cx=b.Bq=b.hC=b.q1=void 0;c=a(5163);l=a(12043);f=a(36418);Object.defineProperties(b,{cx:{enumerable:!0,get:function(){return f.cx;}}});Object.defineProperties(b,{Cs:{enumerable:!0,get:function(){return f.Cs;}}});Object.defineProperties(b,{hC:{enumerable:!0,get:function(){return f.hC;}}});Object.defineProperties(b,{q1:{enumerable:!0,get:function(){return f.q1;}}});r=(function(k){function d(g,n,h,m,p){return k.call(this,d.console,g,n,h,m,p) || this;}c.__extends(d,k);Object.defineProperties(d,{console:{get:function(){return this.T || (this.T=new l.platform.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(f.Bq);b.Bq=r;},97119:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.nda=void 0;r=a(12043);c=a(72245);l=a(27364);new r.platform.Console("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){function f(k){var B9Z;B9Z=2;for(;B9Z !== 4;){switch(B9Z){case 2:var i0r="1SIY";i0r+="bZr";i0r+="NJCp9";this.jqa=k;this.hy={};i0r;B9Z=4;break;}}}var Y2e;Y2e=2;for(;Y2e !== 7;){switch(Y2e){case 2:f.prototype.reset=function(){var e13;e13=2;for(;e13 !== 1;){switch(e13){case 2:this.aD=new c.eDa();e13=1;break;}}};f.prototype.pw=function(k,d){var P9P;P9P=2;for(;P9P !== 1;){switch(P9P){case 2:d.Bj && (this.jqa?this.aD.start(k,d.Bj,d.Sg):d.type === l.u.X && (this.hy[d.Bj]?this.hy[d.Bj].gZ+=1:this.hy[d.Bj]={Bj:d.Bj,Sg:d.Sg,gZ:1,z5:!1},this.dgb(k)));P9P=1;break;}}};f.prototype.rw=function(k,d){var c2x,g;c2x=2;for(;c2x !== 9;){switch(c2x){case 6:c2x=this.jqa?0:2;break;case 4:g=this.hy[d.Bj];d.type === l.u.X && g && (--g.gZ,0 === g.gZ && (g.z5 && this.aD.stop(k,d.Bj,d.Sg),g.z5=!1,delete this.hy[d.Bj]),this.dgb(k));c2x=9;break;case 7:c2x=d.Bj?9:0;break;case 2:c2x=d.Bj?1:9;break;case 1:c2x=this.jqa?5:4;break;case 5:this.aD.stop(k,d.Bj,d.Sg);c2x=9;break;}}};f.prototype.mK=function(k,d,g,n){var M3Q;M3Q=2;for(;M3Q !== 1;){switch(M3Q){case 2:n.Bj && (this.jqa?this.aD.add(k,d,g,n.Bj,n.Sg):this.eS === n.Bj && this.aD.add(k,d,g,n.Bj,n.Sg));M3Q=1;break;}}};Y2e=3;break;case 3:f.prototype.$m=function(){var Q$o;Q$o=2;for(;Q$o !== 1;){switch(Q$o){case 2:return this.aD.get();break;case 4:return this.aD.get();break;}}};f.prototype.dgb=function(k){var J02,d,g;J02=2;for(;J02 !== 5;){switch(J02){case 2:(d=Object.keys(this.hy).map(function(n){var e9e;e9e=2;for(;e9e !== 1;){switch(e9e){case 2:return parseInt(n);break;case 4:return parseInt(n);break;}}}),g=this.hy[d[0]]);1 === d.length && !1 === g.z5?(this.aD.start(k,g.Bj,g.Sg),this.eS=g.Bj):1 < d.length && this.eS && (d=this.hy[this.eS],this.aD.stop(k,this.eS,d.Sg),d.z5=!1,this.eS=void 0);J02=5;break;}}};return f;break;}}})();b.nda=a;},69615:function(r,b,a){var l;function c(){this.Am=void 0;this.CA=0;}l=a(17267);c.prototype.start=function(){};c.prototype.stop=function(){};c.prototype.add=function(){};c.prototype.getState=function(){return 0 !== this.CA && this.Am?{p25:this.Am.aq,p50:this.Am.rn,p75:this.Am.bq,c:this.CA}:null;};c.prototype.Of=function(f){if(!(!l.vc(f) && l.has(f,"p25") && l.has(f,"p50") && l.has(f,"p75") && l.has(f,"c") && l.isFinite(f.p25) && l.isFinite(f.p50) && l.isFinite(f.p75) && l.isFinite(f.c)))return (this.Am=void 0,this.CA=0,!1);this.Am={aq:f.p25,rn:f.p50,bq:f.p75};this.CA=f.c;};c.prototype.get=function(){return {Oua:this.Am,Oj:this.CA};};c.prototype.set=function(f,k){this.Am=f;this.CA=k;};c.prototype.reset=function(){this.Am=void 0;this.CA=0;};c.prototype.toString=function(){return "IQRHist(" + this.Am + "," + this.CA + ")";};r.exports=c;},71866:function(r,b,a){var l,f,k,d,g,n,h,m,p;function c(q,u,t){return l.has(q,u)?q[u]:q[u]=t;}Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);l=r.__importStar(a(17267));f=a(12043);k=r.__importStar(a(97810));d=r.__importDefault(a(89956));g=r.__importDefault(a(61739));n=k.EFa;new f.platform.Console("ASEJS_LOCATION_HISTORY","media|asejs");h={confidence:d.default.vl.HAVE_NOTHING};m=(function(){function q(u){var t;this.config=u;t=u.Wga;this.confidence=d.default.vl.HAVE_NOTHING;this.XXa=u.xQa;u=new g.default(u);this.gb=u.create("throughput-location-history",t);this.Gt=u.create("throughput-location-history",t);this.eba=u.create("throughput-location-history",t);this.fba=u.create("throughput-location-history",t);this.dba=u.create("throughput-location-history",t);this.th=u.create("respconn-location-history",t);this.Lv=u.create("respconn-location-history",t);this.bba=u.create("throughput-tdigest-history",t);this.o7=u.create("throughput-iqr-history",t);this.H4=u.create("throughput-location-history",t);this.J4=u.create("throughput-location-history",t);this.I4=u.create("throughput-location-history",t);this.K4=u.create("throughput-location-history",t);this.time=null;}q.prototype.VE=function(u,t){this.confidence=t;this.gb.add(u);this.bba.add(u);this.time=f.platform.time.wa();};q.prototype.SE=function(u){this.Gt.add(u);};q.prototype.WE=function(u){this.eba.add(u.initial);this.fba.add(u.low);this.dba.add(u.high);};q.prototype.EI=function(u,t){this.o7.set(u,t);};q.prototype.NA=function(u){this.th.add(u);};q.prototype.MA=function(u){this.Lv.add(u);};q.prototype.nK=function(u){this.H4.add(u.Ca);this.J4.add(u.Ne);this.I4.add(u.vK);this.K4.add(u.bP);};q.prototype.getState=function(){var u;u={c:this.confidence,t:l.vc(this.time)?null:f.platform.time.bta(this.time),tp:this.gb.getState(),itp:this.Gt.getState(),tcii:this.eba.getState(),tcil:this.fba.getState(),tcih:this.dba.getState(),rt:this.th.getState(),hrt:this.Lv.getState(),iqr:this.o7.getState(),td:this.bba.getState(),dta:this.H4.getState(),dtv:this.J4.getState(),dtta:this.I4.getState(),dttv:this.K4.getState()};return l.vc(u.tp) && l.vc(u.rt) && l.vc(u.hrt)?null:u;};q.prototype.Of=function(u){var t;t=f.platform.time.now();if(!u || l.vc(u.c) || l.vc(u.c) || l.vc(u.tp) || !l.isFinite(u.c) || !l.isFinite(u.t) || l.vc(u.t) || 0 > u.c || u.c > d.default.vl.OP || u.t > t || !this.gb.Of(u.tp))return (this.confidence=d.default.vl.HAVE_NOTHING,this.Cv=this.time=null,this.gb.Of(null),this.th.Of(null),this.Lv.Of(null),!1);this.confidence=u.c;this.time=f.platform.time.Dta(u.t);this.th.Of(u.rt);this.Lv.Of(u.hrt);this.Gt.Of(u.itp);this.eba.Of(u.tcii);this.fba.Of(u.tcil);this.dba.Of(u.tcih);this.H4.Of(u.dta);this.J4.Of(u.dtv);this.I4.Of(u.dtta);this.K4.Of(u.dttv);l.vc(u.iqr) || this.o7.Of(u.iqr);l.vc(u.td) || this.bba.Of(u.td);return !0;};q.prototype.get=function(){var u,t,w,v,y,x,z,A,B,C,D;u=this.config;if(l.vc(this.time))return h;t=(f.platform.time.wa() - this.time) / 1E3;t > u.Oqb?this.confidence=d.default.vl.HAVE_NOTHING:t > u.uqb && (this.confidence=Math.min(this.confidence,d.default.vl.aJ));w=this.gb.get();v=this.Gt.get();u=this.eba.get().Ca;y=this.fba.get().Ca;x=this.dba.get().Ca;z=this.th.get();A=this.Lv.get();B=this.o7.get();C=this.bba.get();D={Ca:this.H4.$oa().Ca,Ne:this.J4.$oa().Ca,vK:this.I4.get().Ca,bP:this.K4.get().Ca};t={oS:t,confidence:this.confidence,gb:w,Gt:v,th:z,Lv:A,VB:B,Ei:C,Pm:D,ckc:w?n.prototype.ew.bind(w):void 0,ejc:z?n.prototype.ew.bind(z):void 0,jhc:A?n.prototype.ew.bind(A):void 0,hr:!1};t["throughput-ci"]={initial:u,low:y,high:x};return t;};q.prototype.debug=function(){this.get();l.vc(this.time) || f.platform.time.wa();};return q;})();p=(function(){function q(u,t,w,v,y){this.config=y;this.global=new m(y);this.zn=[];this.bUb=f.platform.time.wa() - Date.now() % 864E5;for(u=0;u < v;++u){this.zn.push(new m(y));}}q.prototype.index=function(){return ((f.platform.time.wa() - this.bUb) / 1E3 / 3600 / (24 / this.zn.length) | 0) % this.zn.length;};q.prototype.getState=function(){return {f:l.kn(this.Cv)?void 0:f.platform.time.bta(this.Cv),g:this.global.getState(),h:this.zn.map(function(u){return u.getState();})};};q.prototype.Of=function(u){var t,w;if(!this.global.Of(u.g))return !1;t=this.zn.length;w=!1;this.zn.forEach(function(v,y){w=!v.Of(u.h[y * u.h.length / t | 0]) || w;});this.Cv=l.kn(u.f)?void 0:f.platform.time.Dta(u.f);return w;};q.prototype.VE=function(u,t){this.global.VE(u,t);this.zn[this.index()].VE(u,t);this.Cv=void 0;};q.prototype.SE=function(u){this.global.SE(u);this.zn[this.index()].SE(u);this.Cv=void 0;};q.prototype.WE=function(u){this.global.WE(u);this.zn[this.index()].WE(u);this.Cv=void 0;};q.prototype.EI=function(u,t){this.global.EI(u,t);this.zn[this.index()].EI(u,t);};q.prototype.NA=function(u){this.global.NA(u);this.zn[this.index()].NA(u);};q.prototype.MA=function(u){this.global.MA(u);this.zn[this.index()].MA(u);};q.prototype.nK=function(u){this.global.nK(u);this.zn[this.index()].nK(u);};q.prototype.fail=function(u){this.Cv=u;};q.prototype.get=function(){var u,t;if(!l.kn(this.Cv)){if((f.platform.time.wa() - this.Cv) / 1E3 < this.config.tqb)return {confidence:d.default.vl.HAVE_NOTHING,hr:!0};this.Cv=void 0;}u=this.zn[this.index()].get();t=this.global.get();u=u.confidence >= t.confidence?u:t;u.hr=!1;return u;};q.prototype.time=function(){return this.global.time;};q.prototype.debug=function(u){this.global.debug(u + ": global");this.zn.forEach(function(t,w,v){l.vc(t.time) || (w=24 * w / v.length,t.debug(u + ":  " + ((10 > w?"0":"") + w + "00h")));});};return q;})();a=(function(){function q(u,t){var w;this.config=u;this.bza=t;this.CGb();this.cM=new m(this.config);this.load();if(u=u.Jla){w={confidence:d.default.vl.OP,gb:{Ca:u,Ne:0},th:{Ca:0,Ne:0},Lv:{Ca:0,Ne:0}};this.get=function(){return w;};}}q.prototype.l6=function(u,t){var w;w=this.config;u=c(this.history,null !== u && void 0 !== u?u:"",{});return c(u,t?t:"",new p(w.YQa || 14400,w.XQa || 100,w.WQa || 100,w.HRa || 4,w));};q.prototype.load=function(){var u,t;u=f.platform.storage.get("lh");t=f.platform.storage.get("gh");u && this.Of(u);t && this.m3b(t);};q.prototype.getState=function(){var u;u={};l.Hp(this.history,function(t,w){l.Hp(t,function(v,y){c(u,w,{})[y]=v.getState();},this);},this);return u;};q.prototype.m3b=function(u){this.cM.Of(u);};q.prototype.Of=function(u){var t,w,v;t=this;w=!0;v=this.config;l.Hp(u,function(y,x){l.Hp(y,function(z,A){var B;B=new p(v.YQa || 14400,v.XQa || 100,v.WQa || 100,v.HRa || 4,v);B.Of(z)?(c(t.history,x,{})[A]=B,w=!0):l.vc(w) && (w=!1);},t);},this);return w;};q.prototype.save=function(){var u;u=this.getState();f.platform.storage.set("lh",u);f.platform.storage.set("gh",this.cM.getState());};q.prototype.CGb=function(){this.history={};this.TK=this.CXa="";this.Ej=null;};q.prototype.taa=function(u){this.CXa=u;this.Ej=null;};q.prototype.Ecb=function(u){this.TK=u;this.Ej=null;};q.prototype.my=function(){l.vc(this.Ej) && (this.Ej=this.l6(this.CXa,this.TK));return this.Ej;};q.prototype.VE=function(u,t){this.my().VE(u,t);this.cM.VE(u,t);};q.prototype.SE=function(u){this.my().SE(u);this.cM.SE(u);};q.prototype.WE=function(u){this.my().WE(u);this.cM.WE(u);};q.prototype.EI=function(u,t){u && u.aq && u.rn && u.bq && (this.my().EI(u,t),this.cM.EI(u,t));};q.prototype.NA=function(u){this.my().NA(u);};q.prototype.MA=function(u){this.my().MA(u);};q.prototype.nK=function(u){this.my().nK(u);};q.prototype.fail=function(u,t){this.l6(u,this.TK).fail(t);};q.prototype.get=function(u){var t,w,v,y,x;t=this;u=(u=this.history[u])?u[this.TK]:null;w=null;if(u && (w=u.get(),w.confidence > d.default.vl.HAVE_NOTHING))return w;w=null;y=!1;l.Hp(this.history,function(z){l.Hp(z,function(A,B){var C;B=B.toString();if(!y || B === t.TK){C=A.get();C && (!v || v <= C.confidence) && (A=A.time(),!x || !l.vc(v) && v < C.confidence || !l.vc(A) && x < A) && (v=C.confidence,y=B === t.TK,x=A,w=C);}},t);},this);return w || h;};q.prototype.debug=function(){l.Hp(this.history,function(u,t){l.Hp(u,function(w,v){w.debug(t + ":" + v);});});};return q;})();b["default"]=a;},24021:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163).__importStar(a(17267));l=a(12043);new l.platform.Console("ASEJS_LOCATION_HISTORY","media|asejs");r=(function(){function f(k){this.config=k;this.load();}f.prototype.save=function(){var k;k=this.getState();l.platform.storage.set("nh",k);};f.prototype.f4a=function(k,d){this.YC && (d > this.ON && (this.hI+=d - this.ON,this.ON=d),-1 === this.U7 || k > this.U7) && (k=d - k,this.nM.push([this.hI - k,k]),this.trim(),this.U7=d);};f.prototype.trim=function(){var k;k=this.hI - this.config.RUb;this.nM=this.nM.filter(function(d){return d[0] > k;});};f.prototype.load=function(){var k;k=l.platform.storage.get("nh");this.Of(k) || (this.ON=l.platform.time.wa(),this.hI=0,this.YC=!1,this.U7=-1,this.nM=[]);};f.prototype.Of=function(k){if(!(k && c.has(k,"t") && c.has(k,"s") && c.has(k,"i") && c.Sb(k.t) && c.Sb(k.s) && c.isArray(k.i)))return !1;this.ON=l.platform.time.Dta(1E3 * k.t);this.hI=1E3 * k.s;this.YC=!1;this.nM=k.i.map(function(d){return [1E3 * d[0],d[1]];});this.U7=-1;return !0;};f.prototype.getState=function(){return this.YC?{t:l.platform.time.now() / 1E3 | 0,s:(this.hI + (l.platform.time.wa() - this.ON)) / 1E3 | 0,i:this.nM.map(function(k){return [k[0] / 1E3 | 0,k[1]];})}:{t:l.platform.time.bta(this.ON) / 1E3 | 0,s:this.hI / 1E3 | 0,i:this.nM.map(function(k){return [k[0] / 1E3 | 0,k[1]];})};};return f;})();b["default"]=r;},76733:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);l=c.__importStar(a(17267));r=a(57055);f=c.__importDefault(a(7977));k=c.__importDefault(a(61739));d=a(52733);g=a(99039);n=a(97119);h=a(64981);m=a(12043).platform;p=new m.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(u){function t(w,v,y){var x;x=u.call(this) || this;x.np={};x.KR=0;x.yA=0;x.WQ=[];x.uf=0;x.Eec=!1;x.W=y;x.EQa=new k.default(y);x.mR=new n.nda(!0);x.VQ=new n.nda(!1);y.SFb && (x.cK=new h.JKa(x.W));x.reset();x.xRa=w;x.Qs=v;x.ZQa=m.el.name();x.Qs.Ecb(x.ZQa);m.events.on("networkchange",x.sWb.bind(x));return q=x;}c.__extends(t,u);t.instance=function(){return q;};t.reset=function(){q && q.reset();};t.prototype.sWb=function(w){this.ZQa=w;this.Qs.Ecb(w);};Object.defineProperties(t.prototype,{Ej:{get:function(){return this.Qs;},enumerable:!1,configurable:!0}});t.prototype.jgb=function(){var w;if(!this.dia){w=this.q2a();this.Qs.VE(w.default.Ca,this.confidence);w["initial-throughput-ewma"] && w["initial-throughput-ewma"].Ca && this.Qs.SE(w["initial-throughput-ewma"].Ca);w["throughput-ci"] && this.Qs.WE(w["throughput-ci"]);w.deliverytime && this.Qs.nK(w.deliverytime);this.Qs.EI(w.VB?w.VB.Oua:void 0,w.VB?w.VB.X1b:void 0);l.vc(this.Hc) || (this.dia=!0);}};Object.defineProperties(t.prototype,{startTime:{get:function(){return this.kg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{confidence:{get:function(){return this.np.confidence.get(0);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ni:{get:function(){return this.EJ;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{stb:{get:function(){return this.WQ;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{eRb:{get:function(){return this.bRa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{location:{get:function(){return this.tE;},enumerable:!1,configurable:!0}});t.prototype.$pb=function(){var w,v,y,x;w=this.W;v=w.kqb.concat(w.rqb);y=w.Wga;x=this.EQa;v=v.reduce(function(z,A){z[A]=x.create(A,y);return z;},{});v.confidence=new g.Vea(w,new d.RJa(w,this.z9.bind(this)));return v;};t.prototype.reset=function(){var w,v,y,x;w=this.W.Wga;v=this.EQa;y=this.W;this.tE=null;this.np=this.$pb();if(this.W.qZa){x=this.W.afb;this.np.L6b=new f.default(x.numB * x.bSizeMs,x.bSizeMs);}this.mR.reset();this.VQ.reset();this.Tha=v.create("respconn-ewma",w);this.iha=v.create("respconn-ewma",w);this.cK && this.cK.reset();this.Tsb=this.jgb.bind(this);this.F2=void 0;this.wx=this.Hc=this.kg=null;this.D2=0;y.vbb && (this.yA=this.KR=this.EJ=0,this.WQ=[]);};t.prototype.taa=function(w){var v;v=this.np;if(w !== this.tE){l.kn(this.F2) || (clearInterval(this.F2),this.F2=void 0);l.vc(this.tE) && (this.D2=0,this.kg=null);if(!l.vc(w)){for(var y in v){v[y] && v[y].reset && v[y].reset();}this.Tha.reset();this.iha.reset();}l.vc(this.kg) || (this.D2+=(l.vc(this.Hc)?m.time.wa():this.Hc) - this.kg);this.Hc=this.kg=null;this.tE=w;this.Qs.taa(w);}};t.prototype.mK=function(w,v,y,x){var z,A;this.bRa=Math.max(this.bRa || 0,y);this.yA-=w;z=this.W;A=this.np;if(!0 === x.hP)(x=A["throughput-wssl"]) && x.add(w,v,y,!0);else if(l.kn(v))p.warn("addDataReceived called with undefined start time");else {this.cK && this.cK.mK(w,v,y,x);z.qqb && 10 > y - v?v=y - 10:0 === y - v && (v=y - 1);this.mR.mK(w,v,y,x);this.VQ.mK(w,v,y,x);for(var B in A){A[B] && A[B].add && A[B].add(w,v,y,x);}l.vc(this.kg) && (this.kg=v,this.Hc=null,this.dia=!1);l.vc(this.Hc) || (v > this.Hc && (this.kg+=v - this.Hc),this.Hc=null,this.dia=!1);l.vc(this.wx) || (v - this.wx > z.yRa?this.xRa.f4a(this.wx,v):y - v > z.yRa && this.xRa.f4a(v,y));this.wx=this.wx?Math.max(y,this.wx):y;}};t.prototype.NA=function(w){this.Tha.add(w);this.Qs.NA(w);};t.prototype.MA=function(w){this.iha.add(w);this.Qs.MA(w);};t.prototype.start=function(w,v){var y;l.vc(this.wx) && !l.vc(this.Hc) && (this.wx=w);y=this.np;if(this.W.tya)for(var x in y){y[x] && y[x].start && y[x].start(w,v);}};t.prototype.stop=function(w,v){var y,x;y=this.np;for(x in y){y[x] && y[x].stop && y[x].stop(w,v);}this.Hc=l.vc(this.Hc)?w:Math.min(this.Hc,w);this.wx=null;};t.prototype.flush=function(){var w,v;w=this.np;for(v in w){w[v] && w[v].flush && w[v].flush();}};t.prototype.sKb=function(){var w,v;w=this.np.pgc;if(w){v=w.nxb();w.reset();}return v;};t.prototype.q2a=function(){var w,v,y,x,z,A,B,C;w=m.time.wa();v=this.np;y=this.W;x=y.eqb;z=y.fqb;A=y.zsb;B={};for(C in v){v[C] && v[C].get && (B[C]=v[C].get(w,this.yA),"iqr" === v[C].type && (B.VB=B[C]),"tdigest" === v[C].type && (B.Ei=B[C]),"wssl" === v[C].type && (B.hP=B[C]));}B.cdnavtp=this.mR.$m();B.activecdnavtp=this.VQ.$m();B.default=x && B[x] && z && void 0 !== B[x][z]?{Ca:B[x][z]}:x && B[x]?B[x]:B["throughput-ewma"];"none" !== y.oxa && "none" !== A && (B.dcb=A && B[A]?B[A]:B["throughput-sw"]);return B;};t.prototype.Qoa=function(){return this.cK?this.cK.Qoa():void 0;};t.prototype.get=function(){var w,v,y,x,z,A;w=this.q2a();v=w.default;y=this.Tha.get();x=this.iha.get();z=this.W;if(w.dcb){A=w.dcb;v=l.Sb(v.Ca) && l.Sb(A.Ca) && v.Ca > A.Ca && 0 < A.Ca?A:v;}w.gb=v;w.Gt=w["initial-throughput-ewma"];!z.dGb || !v || l.vc(v.Ca) || isNaN(v.Ca) || !w.hP || l.vc(w.hP.Ca) || isNaN(w.hP.Ca) || ("max" === z.Ghb?w.gb.Ca=Math.max(w.hP.Ca,v.Ca):"sum" === z.Ghb && (w.gb.Ca+=w.hP.Ca));w.th=y;w.Lv=x;this.W.qZa && (v=this.W.afb,w.gkc=this.np.L6b.get(v.fillS,v.fillHl));v=this.D2 + (l.vc(this.kg)?0:(l.vc(this.Hc)?m.time.wa():this.Hc) - this.kg);w.time=v;return w;};t.prototype.QMb=function(){var w,v,y;w={};v=this.get();if(v.confidence && v["throughput-ewma"]){w.aseavtp=Number(v["throughput-ewma"].Ca).toFixed(2);w.asevartp=Number(v["throughput-ewma"].Ne).toFixed(2);if(v.VB){y=v.VB.Oua;!y || void 0 === y.bq || void 0 === y.aq || void 0 === y.rn || isNaN(y.bq || 0) || isNaN(y.aq) || isNaN(y.rn) || (w.aseniqr=0 < y.rn?Number((y.bq - y.aq) / y.rn).toFixed(2):-1,w.aseiqr=Number(y.bq - y.aq).toFixed(2),w.asemedtp=Number(y.rn).toFixed(2));w.iqrsamples=v.VB.X1b;}v.Ei && v.Ei.UL && (w.tdigest=v.Ei.UL());}return w;};t.prototype.pw=function(w,v){var y,x,z;y=v.requestId;1 === ++this.EJ && this.emit("active",w);if(this.W.ZYa){x=this.np;for(z in x){x[z] && x[z].pw && x[z].pw(w,v);}}this.W.Oaa && this.start(w,v);y && (this.W.Oaa || this.start(w,v),this.WQ.push(y));this.yA+=v.xa || 0;this.mR.pw(w,v);this.VQ.pw(w,v);};t.prototype.h1b=function(){++this.KR;};t.prototype.rw=function(w,v,y){var x,z,A;x=y.requestId;v && --this.KR;--this.EJ;this.yA=Math.max((this.yA || 0) - ((y.xa || 0) - (y.bytesReceived || 0)),0);this.W.vbb && (this.EJ=Math.max(this.EJ,0),this.KR=Math.max(this.KR,0));if(this.W.ZYa){z=this.np;for(A in z){z[A] && z[A].rw && z[A].rw(w,v,y);}}this.W.Oaa && this.stop(w,y);0 === this.EJ && (this.W.Oaa || this.stop(w,y),this.emit("inactive",w));x && (v=this.WQ.indexOf(x),0 <= v && this.WQ.splice(v,1));this.mR.rw(w,y);this.VQ.rw(w,y);};t.prototype.z9=function(){this.jgb();this.F2=setInterval(this.Tsb,this.W.brb);};return t;})(r.EventEmitter);b["default"]=a;},7033:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.XJa=b.Jg=void 0;r=a(5163);c=a(57055);l=a(12043);f=a(62558);k=a(23800);d=a(27364);g=r.__importDefault(a(76733));(function(h){h[h.Du=0]="CREATED";h[h.OPENED=1]="OPENED";h[h.mP=2]="ACTIVE";h[h.xl=3]="RECEIVING";h[h.um=4]="COMPLETE";h[h.ps=5]="ABORTED";})(n=b.Jg || (b.Jg={}));a=(function(){function h(m,p,q,u,t,w,v,y,x,z){this.stream=m;this.cf=p;this.properties=t;this.listener=v;this.config=x;this.console=z;this.hE=0;this.Ya=n.Du;this.request=new l.platform.Uo(q,u,this.iMb(t,y));this.offset=w.offset;this.jc=w.xa;this.id=this.KKb();this.wdb=t.YH;this.GH=t.GH;this.Wr=t.Wr;this.responseType=void 0 === t.responseType?l.platform.Uo.zf && !l.platform.Uo.zf.Nwa.Ofa?0:1:t.responseType;this.$k=this.vvb();this.mediaType === d.u.Ga || !x.yia && t.Ke || (this.Jc=g.default.instance());}Object.defineProperties(h.prototype,{url:{get:function(){return this.cf;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{xa:{get:function(){return this.jc;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.stream.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bytesReceived:{get:function(){return this.hE;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{status:{get:function(){return this.request.status;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{qh:{get:function(){return this.request.qh;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{response:{get:function(){return this.request.response;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{rg:{get:function(){return this.request.rg;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{yB:{get:function(){return this.request.yB;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$i:{get:function(){return this.request.$i;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bL:{get:function(){return this.request.track;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{I9:{get:function(){return this.Ya >= n.OPENED && this.Ya < n.um;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{active:{get:function(){return this.Ya >= n.mP && this.Ya < n.um;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{awa:{get:function(){return this.Ya === n.xl;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{complete:{get:function(){return this.Ya === n.um;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{aborted:{get:function(){return this.Ya === n.ps;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{state:{get:function(){return this.Ya;},enumerable:!1,configurable:!0}});h.prototype.open=function(){if(this.Ya !== n.Du || !this.request.open(this.cf,{start:this.offset,end:this.offset + this.jc - 1},this.responseType,{},void 0,void 0,this.wdb,this.stream.Xr,this.stream.aa?this.stream.la.DM.oL:void 0))return !1;this.Ya=n.OPENED;return !0;};h.prototype.FO=function(m){if(this.state < n.OPENED || this.state >= n.um)return (this.cf=m,!0);if(this.cf === m)return this.l2b();this.Gka();this.cf=m;return this.request.FO(m);};h.prototype.l2b=function(){var m,p;m=this;if(void 0 === this.HX){p=this.request.qh?l.platform.time.wa() - this.request.qh:0;this.HX=setTimeout(function(){m.HX=void 0;m.request.FO(m.cf) || m.listener.cH(m);},Math.max(0,this.config.SUb - p));}return !0;};h.prototype.abort=function(){var m;if(this.aborted)return !0;this.active && (null === (m=this.Jc) || void 0 === m?void 0:m.rw(l.platform.time.wa(),this.awa,this.wU()));this.Ya=n.ps;this.Gka();this.request.abort();return !0;};h.prototype.$e=function(){var m,p,q;if(7 !== this.request.readyState && 5 !== this.request.readyState){p=this.I9;q=this.active;this.abort();this.listener.DW(this,q,p);}this.Gka();null === (m=this.$k) || void 0 === m?void 0:m.clear();this.request.$e();};h.prototype.getResponseHeader=function(m,p){return this.request.getResponseHeader(m,p);};h.prototype.getAllResponseHeaders=function(m){return this.request.getAllResponseHeaders(m);};h.prototype.TJb=function(){var m,p;m=this.getResponseHeader("content-range",!1);if(m){p=m.indexOf("/");(0,f.assert)(-1 !== p,"unable to parse content-range: " + m);p=m.slice(p + 1);p=parseInt(p);(0,f.assert)(0 < p,"unable to parse content-range: " + m);return p;}};h.prototype.QN=function(){this.request.QN();};h.prototype.Wi=function(){return this.request.Wi();};h.prototype.gN=function(){var m,p;if(this.Ya === n.OPENED){this.Ya=n.mP;p=this.request.qh || this.request.loadTime;k.qD.instance().push(l.platform.time.wa() - p);!this.config.E6a && (null === (m=this.Jc) || void 0 === m?void 0:m.pw(p,this.wU()));this.listener.mN(this);this.timestamp=p;}};h.prototype.A9=function(){var m,p,q,u;if(!(this.Ya >= n.xl)){this.Ya=n.xl;u=this.request.qh || this.request.yna;k.qD.instance().push(l.platform.time.wa() - u);this.config.E6a && (null === (m=this.Jc) || void 0 === m?void 0:m.pw(u,this.wU()));null === (p=this.Jc) || void 0 === p?void 0:p.h1b();m=this.request.DX;this.request.connect && m.length && (null === (q=this.Jc) || void 0 === q?void 0:q.NA(m[0]));this.timestamp=u;this.listener.lN(this);0 === this.jc && this.A8b(this.request.lm);this.TZb();}};h.prototype.bH=function(){var m;if(!(this.Ya > n.xl)){this.Ya=n.xl;m=this.request.qh;k.qD.instance().push(l.platform.time.wa() - m);m=this.Ota(!0);this.listener.nN(this,m);}};h.prototype.fN=function(){var m,p,q;if(!this.aborted){p=this.request.qh;k.qD.instance().push(l.platform.time.wa() - p);q=this.Ota(!0);null === (m=this.Jc) || void 0 === m?void 0:m.rw(p,this.awa,this.wU());this.Ya=n.um;this.listener.Mr(this,q);this.$e();}};h.prototype.eWb=function(){this.listener.lua(this);};h.prototype.ln=function(){var m;if(!this.complete && !this.aborted && "number" === typeof this.request.rg){m=this.request.qh;k.qD.instance().push(l.platform.time.wa() - m);this.Ota(this.config.twa && void 0 === this.request.status);this.listener.cH(this);}};h.prototype.Ota=function(m){var p,q,u,t;p=this;u=this.request.qh;t=this.request.bytesReceived - this.hE;m && this.Jc && (void 0 !== this.timestamp && 0 < t && this.Jc.mK(t,this.timestamp,u,this.wU()),null === (q=this.request.DX) || void 0 === q?void 0:q.forEach(function(w){return p.Jc.MA(w);}));this.timestamp=u;this.hE=this.request.bytesReceived;return t;};h.prototype.A8b=function(m){var p;p=this.jc;this.jc=m;this.listener.EW(this,this.jc,p);};h.prototype.TZb=function(){var m;if(this.stream.aa){m=this.request.getResponseHeader("X-TCP-Info",!0);this.stream.BXb(m);}else this.request.getAllResponseHeaders(!0);};h.prototype.wU=function(){var m;return {requestId:this.id,Bj:this.stream.Ub,Sg:null === (m=this.stream.la.Y.Ox) || void 0 === m?void 0:m.Sg,type:this.mediaType,GH:this.GH,xa:this.jc,bytesReceived:this.request.bytesReceived,Wr:this.Wr};};h.prototype.KKb=function(){var m;m=(m=this.stream)?m.toString():this.url;this.jc && (m+=",range " + this.offset + "-" + (this.offset + this.jc - 1));return m;};h.prototype.vvb=function(){var m,p,q;m=this;p=new c.De();q=l.platform.Uo.Ik;p.on(this.request,q.gKa,function(){return m.gN();});p.on(this.request,q.fKa,function(){return m.A9();});p.on(this.request,q.hKa,function(){return m.bH();});p.on(this.request,q.wQ,function(){return m.fN();});p.on(this.request,q.Xcc,function(){return m.eWb();});p.on(this.request,q.dA,function(){return m.ln();});return p;};h.prototype.iMb=function(m,p){return {mediaType:this.mediaType,Pb:this.stream.Pb,bitrate:this.stream.bitrate,Rc:this.stream.Ub,Jt:!m.Ke,I:p.id,config:this.config};};h.prototype.Gka=function(){void 0 !== this.HX && (clearTimeout(this.HX),this.HX=void 0);};h.prototype.toString=function(){return "ID: " + this.request.Wi() + " " + this.id;};h.prototype.toJSON=function(){return {requestId:this.request.Wi(),id:this.id};};return h;})();b.XJa=a;},64981:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.JKa=void 0;c=a(27364);l=a(45762);r=(function(){var b3u;function f(k){var K5q;K5q=2;for(;K5q !== 7;){switch(K5q){case 8:this.t9a=new l.nD();K5q=7;break;case 2:var e0z="1S";e0z+="I";e0z+="Y";e0z+="bZrNJC";e0z+="p9";this.zX=[0,0];this.lm=[0,0];this.IW=[0,0];e0z;this.JW=k.JW;this.tua=[new l.nD(),new l.nD()];K5q=8;break;}}}b3u=2;for(;b3u !== 3;){switch(b3u){case 2:f.prototype.reset=function(){var R0f;R0f=2;for(;R0f !== 4;){switch(R0f){case 2:this.zX=[0,0];this.lm=[0,0];this.IW=[0,0];R0f=4;break;}}};f.prototype.mK=function(k,d,g,n){var G3r,h,m;G3r=2;for(;G3r !== 8;){switch(G3r){case 5:G3r=(null === (h=n.GH) || void 0 === h?0:h.B7())?4:3;break;case 4:(this.zX[n.type]+=k,this.t9a.add(k,d,g),this.tua[n.type].add(k,d,g));G3r=3;break;case 1:this.lm[n.type]+=k;G3r=5;break;case 3:G3r=(null === (m=n.GH) || void 0 === m?0:m.ssa(k,d,g,this.JW))?9:8;break;case 2:G3r=1;break;case 9:this.IW[n.type]+=k;G3r=8;break;}}};f.prototype.Qoa=function(){var G5$;G5$=2;for(;G5$ !== 1;){switch(G5$){case 2:return {bytesRequestedPacingVideo:this.zX[c.u.X],bytesRequestedPacingAudio:this.zX[c.u.$],estimatedBytesPacedVideo:this.IW[c.u.X],estimatedBytesPacedAudio:this.IW[c.u.$],bytestotalVideo:this.lm[c.u.X],bytestotalAudio:this.lm[c.u.$],pacedAvtpVideo:this.tua[c.u.X].get().Ca,pacedAvtpAudio:this.tua[c.u.$].get().Ca,pacedAvtp:this.t9a.get().Ca};break;}}};return f;break;}}})();b.JKa=r;},65877:function(r,b,a){var l,f;function c(k){this.W={TV:k.maxc || 25,Uka:k.c || .5,P_b:k.rc || "none",lG:k.hl || 7200};this.QR();this.nsb=this.W.P_b;this.qR=this.W.lG;this.wga=Math.exp(Math.log(2) / this.qR);this.wga=Math.max(this.wga,1);this.Q1=1;}l=a(17267);f=a(15913).TDigest;new (a(12043).platform.Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var k;if(0 === this.We.size())return null;k=this.We.wi([.25,.75]);if(k[0] === k[1])return null;this.We.size() > this.W.TV && this.We.Vx();k=this.We.Dk(!1).reduce((function(d,g){l.Sb(g.Lf) && l.Sb(g.n) && d.push({mean:g.Lf,n:g.n / this.Q1});return d;}).bind(this),[]);return {tdigest:JSON.stringify(k)};};c.prototype.Of=function(k){var d;if(l.vc(k) || !l.has(k,"tdigest") || !l.tg(k.tdigest))return !1;try{d=JSON.parse(k.tdigest);}catch(g){return !1;}d.forEach(function(g){l.isFinite(g.n) || (g.n=1);});k=d.map(function(g){return {Lf:g.mean,n:g.n};});this.Q1=1;this.We.Qva(k);void 0 === this.We.wi(0) && this.QR();};c.prototype.get=function(){var k,d;k=this.We;d=k.wi([0,.1,.25,.5,.75,.9,1]);return {min:d[0],rua:d[1],aq:d[2],rn:d[3],bq:d[4],sua:d[5],max:d[6],wj:k.Dk(!1)};};c.LLb=function(k){var d;d=new c({});l.vc(k) || l.kn(k) || !l.isArray(k.wj) || (d.We.Qva(k.wj),void 0 === d.We.wi(0) && d.QR());k=d.We.wi([.25,.75]);return k[0] === k[1]?null:function(g){return d.We.wi(g);};};c.prototype.add=function(k){var d;d=1;"ewma" === this.nsb && (this.Q1=d=this.Q1 * this.wga);this.We.push(k,d);};c.prototype.toString=function(){return "TDigestHist(" + this.We.summary() + ")";};c.prototype.QR=function(){this.We=new f(this.W.Uka,this.W.TV);};r.exports={ROa:c};},38509:function(r,b,a){var l,f,k,d,g,n,h,m,p,q;function c(u){return function(){return ("[").concat(u,":padding]");};}Object.defineProperties(b,{__esModule:{value:!0}});b.xOa=b.ioa=void 0;l=a(8604);f=a(42866);k=a(60328);d=a(62558);g=a(49730);n=a(78128);h=a(46541);m=a(73098);p=a(92141);b.ioa=function(u){return -1 !== u.indexOf("heaac")?"heaac":"ddp";};r=(function(){function u(t,w){q=new l.wOa(t,w);}u.Xja=function(){(0,d.assert)(q,"expected StaticMediaCache to exist");return q;};u.prototype.W$a=function(t,w,v,y,x,z,A,B,C,D){var E,G,F,J,M,L,K,P,H;E=[];v=u.Xja().zMb(v,y,x);y=new f.L(v.duration);G=new f.L(v.Aa);F=G.N;J=v.profile;M={l4a:!0,mediaType:k.u.$,Fd:J,profile:J,N:F,Hh:[{Td:0,data:v.Db}],Gh:!0,Aa:G,Mf:w,la:t,bitrate:v.bitrate,Pb:"-1",track:{trackId:"1",mediaType:k.u.$,Vl:!1,Aa:G,la:t,channels:v.channels,sampleRate:48E3,profile:J,te:[],vo:x,toString:c(k.u.$)},toJSON:function(){return {mediaType:M.mediaType,Pb:M.Pb,bitrate:M.bitrate};}};M.Zm=M.track.Zm=n.RI.prototype.Zm.bind(M.track);M.track.te.push(M);t=new f.L(v.Aa);x=C.Hm?w:f.L.Ia;J=x.add(y);g.K && D.trace(("StaticMedia: audio target duration is ").concat(z.qb()));L=f.L.Ia;w=C.Hm?-Math.ceil(w.jh(G)):0;C=x;for(G=!0;C.lessThan(z);){C=C.add(y);C.greaterThan(z) && (K=y.jh(t) - Math.floor(C.qa(z).jh(t)));P=C.ji(z);H=G?0:P?z.G:void 0;G=new h.qca(v.Db,v.Ma,M,F,x.dd(F).ja,J.dd(F).ja,t,D,A,B.bind(void 0,F,L),H,G,P);G.Bi({start:w,end:K});g.K && D.log(("PaddingBranch: enqueing request ").concat(G,", edit: ").concat(JSON.stringify({start:w,end:K}),", ") + ("offset ").concat(L.qb()));E.push(G);L=L.add(y);w=void 0;G=!1;}return E;};u.prototype.Y$a=function(t,w,v,y,x,z,A,B,C,D){var E,G,F,J,M,L,K,P,H;E=[];w=u.Xja().BMb(w,v,y,x,z);v=new f.L(w.duration);G=w.profile;F=w.bitrate;J=w.width;M=w.height;L=w.yua;K=w.zua;y=w.Aa.N;x=new f.L(w.Aa);P=new m.kA(y,w.Aa.ja);H={l4a:!0,mediaType:k.u.X,Fd:G,profile:G,N:y,Hh:[{Td:0,data:w.Db}],Gh:!0,Pb:"-1",Aa:x,la:t,bitrate:F,track:{trackId:"1",mediaType:k.u.X,Vl:!1,Aa:x,frameRate:P,t8:P,tk:new p.DJ({w:J,sr:M},{w:L,sr:K}),la:t,profile:G,te:[],vo:z,toString:c(k.u.X)},toJSON:function(){return {mediaType:H.mediaType,Pb:H.Pb,bitrate:H.bitrate};}};H.Zm=H.track.Zm=n.RI.prototype.Zm.bind(H.track);g.K && D.trace(("StaticMedia {").concat(B.id,"}: video queue"),H);H.track.te.push(H);G=Math.ceil(A.jh(v));A=v.wo(G);t=f.L.Ia.dd(y);z=t.add(A).dd(y);g.K && D.trace(("PaddingBranch: ").concat(G," fragments of ").concat(v.qb(),", ") + ("duration ").concat(A.qb(),", ") + ("c: ").concat(t.qb(),"-").concat(z.qb(),", "));for(F=f.L.Ia;F.lessThan(A);){G=F.add(v);F=new h.qca(w.Db,w.Ma,H,y,0,v.dd(y).ja,x,D,B,C.bind(void 0,y,F),void 0,F.equal(f.L.Ia),G.ji(A));g.K && D.trace(("PaddingBranch: appended ").concat(F));E.push(F);F=G;}return {Ka:t,Ua:z,duration:A,Ha:E};};u.prototype.i_b=function(){return u.Xja().AMb();};return u;})();b.xOa=r;},7460:function(r,b,a){var f,k,d,g;function c(n,h,m,p,q){m=h.af || h.track.ut(n,m.G,void 0,q);n=h.jf || h.track.LF(n,null === p || void 0 === p?void 0:p.G,h.Ak);return [!h.hf(),m,n];}function l(n,h){var C,D;for(var m=[],p=0,q=n[p],u=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1],w=h.jf.index,v=h.track.Lo,y=0,x=h.af.Ka,z=h.af.Ua.G > q[0],A=z,B=h.af.index;B <= w;++B){C=!1;if(q){D=v.get(B);z && (D.Ka.G >= t?(z=!1,++p >= n.length?t=u=q=void 0:(q=n[p],u=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1])):A?A=!1:(m.push(new g.g1(y,x,D.Ka)),x=D.Ka,C=!0));!z && q && D.Ua.G > u && (z=!0,C=D.Ka,(D=h.track.rG.jo(B).q_a(u)) && 0 !== D.Nj && (C=k.L.Na(D.Ce)),m.push(new g.g1(y,x,C)),x=C,C=!0);}C && ++y;}m.push(new g.g1(y,x,h.jf.Ua));return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.aTb=b.D6a=b.r8a=b.o8a=b.pwa=void 0;f=a(5163);k=a(42866);d=a(27364);g=a(61978);b.pwa=function(n,h,m){var p,q,u,t,w,v,y,x;y=h.get(d.u.$);x=h.get(d.u.X);h=h.get(d.u.Ga);x=null === x || void 0 === x?void 0:x.track.LF(n,null === m || void 0 === m?void 0:m.G,x.Ak);y=null === y || void 0 === y?void 0:y.track.LF(n,null !== (q=null === (p=null === x || void 0 === x?void 0:x.Ua) || void 0 === p?void 0:p.G) && void 0 !== q?q:null === m || void 0 === m?void 0:m.G,y.Ak);n=null === h || void 0 === h?void 0:h.track.LF(n,null !== (v=null !== (t=null === (u=null === x || void 0 === x?void 0:x.Ua) || void 0 === u?void 0:u.G) && void 0 !== t?t:null === (w=null === y || void 0 === y?void 0:y.Ua) || void 0 === w?void 0:w.G) && void 0 !== v?v:null === m || void 0 === m?void 0:m.G,h.Ak);return [y,x,n];};b.o8a=function(n,h,m,p,q){var u,t,w,v,y,x,z,A;u=h.get(d.u.$);t=h.get(d.u.X);h=h.get(d.u.Ga);w=f.__read(t?c(n,t,m,p,q):[!1],3);v=w[0];y=w[1];w=w[2];x=f.__read(u?c(n,u,v && void 0 !== (null === y || void 0 === y?void 0:y.Ka)?y.Ka:m,void 0 !== (null === w || void 0 === w?void 0:w.Ua)?w.Ua:p,q):[!1],3);z=x[0];A=x[1];x=x[2];p=f.__read(h?c(n,h,m,p,q):[!1],3);n=p[0];m=p[1];p=p[2];z && (null === u || void 0 === u?void 0:u.ZU(A,x));v && (null === t || void 0 === t?void 0:t.ZU(y,w));n && (null === h || void 0 === h?void 0:h.ZU(m,p));return [z,v,n];};b.r8a=function(n,h,m){return h.track.ut(n,m.G,void 0,!0).Ka;};b.D6a=function(n,h,m){var p;p=h.v;if(!p.fr || 0 === p.fr.length)return [];n=p.fr.map(function(q){return [p.ta + q[0],p.ta + q[1]];});return l(n,m.vva);};b.aTb=l;},40115:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.HLa=void 0;c=a(5163);l=a(27364);f=a(7460);k=a(62558);r=(function(){function d(g){var n,h,m,p,q,u,t;n=g.console;h=g.config;m=g.la;p=g.xC;q=g.v;u=g.Ka;t=g.Ua;g=g.splice;this.XU=this.JK=!1;this.console=n;this.config=h;this.xC=p;this.la=m;this.v=q;this.Ka=u;this.Ua=t;this.splice=g;this.VOb();}d.prototype.Db=function(g){if(this.JK)throw Error("Cannot call init() after cleanup");if(this.XU)throw Error("Cannot call init() twice");this.XU=!0;this.R8a=g;this.la.events.addListener("onHeaderFragments",this.vVa);this.Pia() && this.tta();};d.prototype.normalize=function(){if(this.JK)throw Error("Cannot call normalize() after cleanup");if(this.XU)throw Error("Cannot call init() / normalize() twice");this.XU=!0;(0,k.assert)(this.Pia());return this.tta();};d.prototype.TN=function(g,n){(0,k.assert)(this.XU,"expected to be called init() before renormalize");this.v=g;this.Ua=n;g=(0,f.pwa)(this.config,this.xC,this.Ua);this.q8a();return g;};d.prototype.$e=function(){this.JK || (this.JK=!0,this.R8a=void 0,this.la.events.removeListener("onHeaderFragments",this.vVa));};d.prototype.VOb=function(){var g;g=this;this.vVa=function(){g.JK || g.Pia() && g.tta();};};d.prototype.tta=function(){var g,n,h;if(this.JK)return {nT:!1,lB:!1};n=this.hVb();h=!1;this.v && !this.v.$p && (h=this.q8a());null === (g=this.R8a) || void 0 === g?void 0:g.call(this,n,h);this.$e();return {nT:n,lB:h};};d.prototype.Pia=function(){return this.xC.every(function(g){return g.track.Gh;});};d.prototype.hVb=function(){var g,n;g=c.__read((0,f.o8a)(this.config,this.xC,this.Ka,this.Ua,this.splice,this.console),2);n=g[0];return g[1] || void 0 === this.xC.get(l.u.X) && n;};d.prototype.q8a=function(){var g,n,h;(0,k.assert)(this.v,"missing segment");g=this.xC.vva;n=(0,f.r8a)(this.config,g,this.v.se);if(void 0 === n || void 0 === g.Ua)return !1;g=g.Ua;h=this.config.aAa && "lazy" === this.v.ce?(0,f.D6a)(this.console,this.v,this.xC):[];this.v.normalize(n,g,h);return !0;};return d;})();b.HLa=r;},60763:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.lfa=void 0;c=a(5163);r=(function(l){function f(k,d){k=l.call(this,k) || this;k.Nma=d;k.name="PlaybackError";return k;}c.__extends(f,l);f.mQb=function(k){return k && k.message && k.stack && k.Nma?"PlaybackError" === (null === k || void 0 === k?void 0:k.name):!1;};return f;})(Error);b.lfa=r;},26967:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.rca=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(42866);d=a(97810);g=a(62558);n=a(7881);r=a(88801);h=a(39886);m=a(58628);p=a(18650);q=a(72938);u=a(13353);t=a(54037);w=r.dw.Qla;a=(function(v){function y(x,z,A){var B;B=v.call(this) || this;B.Z=x;B.Cg=z;B.ip=A;B.uT=[];B.xe=void 0;B.nR=new l.De();B.uA=void 0;B.zA=void 0;B.tha=void 0;B.nR.on(B.Z,"underflow",B.rh.bind(B));B.eR=new u.mMa(x);B.nR.on(B.Z,"skipped",B.yW.bind(B));B.nR.on(B.Z,"playing",B.Zta.bind(B));B.nR.on(B.Z,"playbackEnding",B.Yta.bind(B));B.dv=new n.MQ(B.eR,B.T,"player");B.qAa=new d.Wh();x.hVa && x.rf && (B.lz=new t.RNa(B,x,B.T));return B;}c.__extends(y,v);Object.defineProperties(y.prototype,{rl:{get:function(){var x;return null === (x=this.xe) || void 0 === x?void 0:x.rl;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{hw:{get:function(){var x;return (null === (x=this.xe) || void 0 === x?void 0:x.hw) || new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Za:{get:function(){var x;return (null === (x=this.xe) || void 0 === x?void 0:x.Np()) || [];},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{u5a:{get:function(){return this.tha;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ya:{get:function(){var x;return null === (x=this.xe) || void 0 === x?void 0:x.ya;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{sa:{get:function(){return this.eR;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{JTa:{get:function(){var x,z;return !!((null === (x=this.xe) || void 0 === x?0:x.ZH) && (null === (z=this.Br) || void 0 === z?0:z.ai));},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ZH:{get:function(){var x,z;return null !== (z=null === (x=this.xe) || void 0 === x?void 0:x.ZH) && void 0 !== z?z:!1;},enumerable:!1,configurable:!0}});y.prototype.Zta=function(x){this.tha=this.il(x.Ce || this.Z.Oc);(0,g.assert)(this.tha,"Should have a location");};y.prototype.Yta=function(x){var z;if(this.Od){x=this.il(x.Ce || this.Z.Oc,!0);(0,g.assert)(x,"Playback ending at position outside playgraph");z=this.KB(x);(0,g.assert)(z,"Playback ending at clamped position outside playgraph");this.events.emit("playbackEnding",{type:"playbackEnding",playerTimestamp:z,position:x});}else this.console.warn(("Unexpected playback ending event at ").concat(x.Ce));};y.prototype.Jcb=function(x){-1 === this.uT.indexOf(x) && this.uT.push(x);this.xe && this.xe.vW(x);this.events.emit("drmReady",{viewableId:x});};y.prototype.Icb=function(x){x=this.uT.indexOf(x);-1 !== x && this.uT.splice(x,1);};y.prototype.gV=function(x){var z;return -1 !== this.uT.indexOf(x) || !(null === (z=(0,k.ec)(this.Za,function(A){return A.cn && A.la.J === x;})) || void 0 === z || !z.la.uv);};y.prototype.UC=function(x){var z;null === (z=this.xe) || void 0 === z?void 0:z.UC(x);};y.prototype.VY=function(x){var z;null === (z=this.xe) || void 0 === z?void 0:z.VY(x);};y.prototype.reset=function(){var x,z;this.qAa=new d.Wh();v.prototype.reset.call(this);this.zA=void 0;null === (x=this.xe) || void 0 === x?void 0:x.reset();null === (z=this.lz) || void 0 === z?void 0:z.reset();};y.prototype.Iwa=function(x){this.YN([x]);};y.prototype.YN=function(x){var z,A;z=this;x.forEach(function(B){var C;v.prototype.Iwa.call(z,B);null === (C=z.lz) || void 0 === C?void 0:C.s1b(B);});null === (A=this.xe) || void 0 === A?void 0:A.YN(x);};y.prototype.$A=function(){var x;null === (x=this.xe) || void 0 === x?void 0:x.$A();};y.prototype.pause=function(x){this.fI(x);v.prototype.pause.call(this,x || this.Cg);};y.prototype.resume=function(x){var z;null === (z=this.xe) || void 0 === z?void 0:z.resume(x);v.prototype.resume.call(this,x || this.Cg);};y.prototype.Oa=function(){this.uA=this.U6()?this.ko():void 0;this.xe && this.Zla(this.xe.ya);this.eR.Oa();this.dv.Oa();this.nR.clear();v.prototype.Oa.call(this);};y.prototype.WF=function(){var x,z;if(null === (x=this.xe) || void 0 === x?0:x.zZb){x=this.Z.Oc;if(this.sa.li){if(this.zA){if(this.zA.greaterThan(x))return (x=this.zA.qa(x),this.qAa.push(x.G),this.zA);if(this.Za.length){z=this.xe.lRb;if(z && z.lessThan(x))return (this.events.emit("logdata",{type:"logdata",target:"endplay",Ac:{clockdrift:{type:"count"}}}),this.zA);}}this.zA=x;}return x;}return v.prototype.WF.call(this);};y.prototype.WL=function(){var x;x=this.Z.playbackRate;void 0 === x && (x=v.prototype.WL.call(this));return x;};y.prototype.U6=function(){return !!this.uA || v.prototype.U6.call(this);};y.prototype.ko=function(){return this.uA?this.uA:v.prototype.ko.call(this);};y.prototype.aG=function(){var x;return null === (x=this.xe) || void 0 === x?void 0:x.t5a;};y.prototype.Zla=function(x){var z;(0,g.assert)(x === this.ya);null === (z=this.xe) || void 0 === z?void 0:z.Oa();this.xe=void 0;};y.prototype.n3=function(x,z){var A,B;this.uA=void 0;A=v.prototype.n3.call(this,x,z);if(A){B=new p.TBa(x,this,this.T,x.config,this.ip,this.events,this.Cg,this.dv,this.lz,this.wA,this.tA,this.OJ,null === z || void 0 === z?void 0:z.rl,null === z || void 0 === z?void 0:z.hw);null === z || void 0 === z?void 0:z.kN();this.xe=B;this.fI(this.rN);this.lz && (z=x.fu.gMb(h.Qfa),z || (z=new h.Qfa(),x.Fe(z)),this.lz.s0b(z));}return A;};y.prototype.kN=function(){var x;null === (x=this.xe) || void 0 === x?void 0:x.kN();};y.prototype.Jma=function(){var A;for(var x=[],z=0;z < arguments.length;z++){x[z]=arguments[z];}A=this.xe;(0,g.assert)(A);x.forEach(function(B){return A.rGb(B);});};y.prototype.aY=function(){var x;null === (x=this.xe) || void 0 === x?void 0:x.aY();};y.prototype.d5b=function(x,z,A){var B;null === (B=this.ya) || void 0 === B?void 0:B.rza(x.to,x.from,z,A);};y.prototype.di=function(x){var z,A,B;if(!this.xe)return !1;z=this.aU(x);if(!z)return !1;A=z.v;B=f.L.Na(this.ip.U8);return A.Jf.qa(B).lessThan(x) || !z.MK(x)?!1:this.xe.di(x);};y.prototype.rh=function(){var x,z,A;if(null === (x=this.ya) || void 0 === x?0:x.Dj)this.console.error("AsePlayer: received underflow in buffering state - ignoring");else {A=this.Ld;(0,g.assert)(this.ya);x=this.il(A,!0);(0,g.assert)(x);null === (z=this.xe) || void 0 === z?void 0:z.rh(x);z=this.aU(A);null === z || void 0 === z?void 0:z.la.rh();this.ya.rh(x);}};y.prototype.yW=function(){this.zA=void 0;};y.prototype.Zna=function(){var x;return null === (x=this.xe) || void 0 === x?void 0:x.Zna();};y.prototype.fI=function(x){var z;null === (z=this.xe) || void 0 === z?void 0:z.fI(x);};y.prototype.tza=function(x){(0,g.assert)(this.ya && this.xe);return v.prototype.tza.call(this,x);};y.prototype.t$=function(){(0,g.assert)(this.xe);this.xe.t$();};c.__decorate([w.return.Ija(),w.return.im],y.prototype,"ko",null);c.__decorate([w.return.Ija(),w.return.r9],y.prototype,"aG",null);return y=c.__decorate([m.HL],y);})(q.qfa);b.rca=a;},18650:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y;Object.defineProperties(b,{__esModule:{value:!0}});b.TBa=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(42866);d=a(12043);g=a(57903);n=a(86102);h=a(89755);m=a(27364);p=a(87425);q=a(97810);u=a(7881);t=a(62558);w=a(53412);v=a(8190);y=a(56405);r=(function(){function x(z,A,B,C,D,E,G,F,J,M,L,K,P,H){var I;I=this;this.ya=z;this.Z=A;this.T=B;this.W=C;this.ip=D;this.mb=E;this.Cg=G;this.Ad=F;this.lz=J;this.wA=M;this.tA=L;this.OJ=K;this.FR=H;this.J1=!1;this.HQa=new q.gOa();this.Dha=this.$Vb.bind(this);this.Fha=this.EWb.bind(this);this.Hs=new h.mD(this.T);this.WR=P || new v.gga(this.T,z);this.qCb();this.Xh && (this.fsb=this.S5(this.WLb()),this.uQa());this.lp=F.$x(function(){return I.Fwb();},"branchPruner");this.Mn=new l.De();this.Mn.on(this.mb,"segmentPresenting",function(){return c.__awaiter(I,void 0,void 0,function(){var N;return c.__generator(this,function(R){switch(R.label){case 0:return (this.Zqb=this.Z.ko(),null !== (N=this.W.YTa) && void 0 !== N && N.segmentPresenting?[4,Promise.resolve()]:[3,2]);case 1:(R.Wa(),this.mb.emit("requestGarbageCollection",{time:d.platform.time.wa(),type:"requestGarbageCollection"}),R.label=2);case 2:return [2];}});});});}Object.defineProperties(x.prototype,{rl:{get:function(){return this.WR;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{hw:{get:function(){var z;z=new Map();this.Xh.forEach(function(A){z.set(A.mediaType,A.DC);});return z;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{t5a:{get:function(){return this.Zqb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ZH:{get:function(){return this.Xh.every(function(z){return z.ZH;});},enumerable:!1,configurable:!0}});x.prototype.Fwb=function(){var z,A,B,C,D,E;return c.__generator(this,function(G){switch(G.label){case 0:if(!this.Hs.pWa)return [3,2];z=c.__read(this.Hs.LY(),1);A=z[0];B=A.v.A4a && (null === (E=this.ip.oO) || void 0 === E?void 0:E.G) || 0;C=A.a8 || A.Hb;D=C.add(f.L.Na(B + 1E3));return [4,u.Lg.vu(D)];case 1:return (G.Wa(),this.$$a(A),[3,0]);case 2:return [2];}});};Object.defineProperties(x.prototype,{zZb:{get:function(){var z;return !(null === (z=this.fsb) || void 0 === z || !z.Kr.value);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{lRb:{get:function(){return this.J1?f.L.max.apply(f.L,c.__spreadArray([],c.__read(this.Xh.map(function(z){var A;return null === (A=z.Cvb) || void 0 === A?void 0:A.s5a;}).filter(k.uta)),!1)):void 0;},enumerable:!1,configurable:!0}});x.prototype.UC=function(z){this.Xh.forEach(function(A){A.UC(z);});};x.prototype.$Vb=function(){var z;this.lp.rf();z=this.Xh.filter(function(A){return A.CPb;}).map(function(A){return A.mediaType;});this.fI(z);this.resume(z);};x.prototype.EWb=function(z){var A,B,C;z=z.Sa;A=this.Np();B=A.indexOf(z);if(-1 !== B && !A.slice(0,B).some(function(D){return !D.ai;})){C=z.Rk;C && C.greaterThan(this.OJ.value) && (z.ai && B < A.length - 1 && (C=f.L.max(C,A[B + 1].Rk || f.L.uUb)),this.OJ.set(C));}};x.prototype.rGb=function(z){(0,t.assert)(-1 === this.Hs.LY().indexOf(z),("Branch ").concat(z.v.id," is already in the collection, cannot re-queue"));z.events.on("branchEdited",this.Dha);z.events.on("requestComplete",this.Fha);z.Rk && this.Np().every(function(A){return A.ai;}) && this.OJ.set(z.Rk);this.Hs.enqueue(z);this.lp.state === u.Kk.complete && this.lp.rf();z.v.zY && this.Hs.IF();this.J1 || this.eIb(z);};x.prototype.vW=function(z){this.Xh.forEach(function(A){A.vW(z);});};x.prototype.VY=function(z){var A,B,C,D;A=this;B=!1;C=this.Xh.map(function(E){return E.mediaType;});this.ya.x2a().some(function(E){return E.aa;}) || (C=C.filter(function(E){return E !== m.u.Ga;}));D=(0,k.Rq)(C,z);D.forEach(function(E){var G;G=A.jg.sourceBuffers;G=(0,k.ec)(G,function(F){return F.mediaType === E;});(0,t.assert)(G);A.jg.removeSourceBuffer(G);G=A.S5(E);(0,t.assert)(G);G.reset();G.Oa();(0,k.e3)(A.Xh,G);(0,k.e3)(D,E);B=!0;});z=(0,k.Rq)(z,C);if(!this.mS(this.jg,z))throw (this.CE("error creating source buffers","NFErr_MC_StreamingInitFailure"),this.jg.error);z.forEach(function(E){var G;G=A.jg.sourceBuffers;G=(0,k.ec)(G,function(F){return F.mediaType === E;});(0,t.assert)(G);G=A.fXa(A.jg,G);A.Xh.push(G);B=!0;});B && this.uQa();};x.prototype.reset=function(){this.Xh.forEach(function(z){z.reset();});this.J1=!1;this.HQa.removeAllListeners();this.$A();};x.prototype.Iwa=function(z){this.YN([z]);};x.prototype.YN=function(z){var A;A=this;z.forEach(function(B){B=A.S5(B);null === B || void 0 === B?void 0:B.reset(!1,z);});};x.prototype.$A=function(){var z;z=this;this.Hs.LY().forEach(function(A){A.events.Lr("branchEdited",z.Dha);A.events.Lr("requestComplete",z.Fha);});this.Hs.clear();this.lp.rf();};x.prototype.t$=function(){var z;z=this;this.Hs.LY().filter(function(A){return A.pK;}).forEach(function(A){return z.$$a(A);});};x.prototype.resume=function(z){this.Xh.forEach(function(A){void 0 !== z && -1 === z.indexOf(A.mediaType) || A.resume();});};x.prototype.fI=function(z){this.Xh.forEach(function(A){return (void 0 === z || -1 !== z.indexOf(A.mediaType)) && A.stop();});};x.prototype.aY=function(){this.Xh.forEach(function(z){return z.aY();});};x.prototype.rh=function(z){var A,B,C;this.T.trace("attached-player: onUnderflow");A=this.t5a;if(this.ip.BT && A.cn && A.la.aa){B=A.nr();if(B && 0 < B.length && (B=B.reduce(function(D,E){(E=E.xLb()) && D.push(E);return D;},[]),B.length)){B=f.L.max.apply(f.L,c.__spreadArray([],c.__read(B),!1));C=(0,n.t1a)(A.la.Y);B=B.add(f.L.Na(C));z=this.ya.jG(z);(0,t.assert)(z.Ml.G <= B.G);A=this.ya.Fp({J:A.la.J,Ml:B});(0,t.assert)(A);A={type:"fragmentsMissing",b8a:A,Aic:B};this.mb.emit(A.type,A);}}};x.prototype.rMb=function(){return this.Hs.getIterator();};x.prototype.NKb=function(){return this.Np()[0];};x.prototype.Np=function(){return this.Hs.LY();};x.prototype.mS=function(z,A){var B,C;B=!0;C=z.sourceBuffers;A.forEach(function(D){(0,k.ec)(C,function(E){return E.mediaType === D;}) || z.addSourceBuffer(D) || (B=!1);});B || this.T.warn("Error adding sourceBuffer:",z.error);return B;};x.prototype.qCb=function(){var z,A;z=this;this.aK("createMediaSourceStart");if(this.ip.Ioa)A=this.ip.Ioa();else (A=new d.platform.MediaSource(this.Z.Z),A.zf || (A.zf=d.platform.MediaSource.zf));if(1 !== A.readyState)this.CE("exception in init","NFErr_MC_StreamingInitFailure");else {this.aK("createMediaSourceEnd");this.jg=A;if(!this.mS(A,this.Cg))throw (this.CE("error creating source buffers","NFErr_MC_StreamingInitFailure"),A.error);this.sQa={};this.ya.Fe(new w.fDa(this.sQa,this.W));this.Xh=A.sourceBuffers.filter(function(B){return 0 <= z.Cg.indexOf(B.mediaType);}).map(function(B){return z.fXa(A,B);});}};x.prototype.fXa=function(z,A){var B,C,D,E;B=this;z=new p.CCa(A.mediaType,z,A,this.W,this.Z,this.Ad);z.addListener("error",function(G){return B.CE(G.errorstr);});z.addListener("logdata",function(G){return B.mb.emit("logdata",G);});z.addListener("managerdebugevent",function(G){B.mb.emit("managerdebugevent",G);});E=null === (C=this.FR) || void 0 === C?void 0:C.get(A.mediaType);C=new g.EBa(z,A.mediaType,this,this.W,this.T,this.Z,this.ip,this.Ad,this.rl,this.lz,E);if(A.mediaType === m.u.X)C.on("drmNeeded",function(G){return B.mb.emit("drmNeeded",G);});E || (null === (D=C.DC) || void 0 === D?void 0:D.fub(new y.Nca(this.sQa[A.mediaType]={},this.T,this.Z,z,this.Z.events,this.ip,this.Ad)));return C;};x.prototype.$$a=function(z){var A;(0,t.assert)(z.pK,"Attempted to prune branch that has not been fully appended");this.Hs.remove(z);z.events.removeListener("branchEdited",this.Dha);z.events.removeListener("requestComplete",this.Fha);z.Hf("pruned");(null === (A=this.W.YTa) || void 0 === A?0:A.branchPruned) && this.mb.emit("requestGarbageCollection",{time:d.platform.time.wa(),type:"requestGarbageCollection"});};x.prototype.Oa=function(){this.zha.clear();this.zga.clear();this.Xh.forEach(function(z){return z.Oa();});this.ip.Ioa || this.jg.pt();this.$A();this.lp.Oa();this.Mn.clear();};x.prototype.di=function(z){return this.Xh.every(function(A){return A.di(z);});};x.prototype.kN=function(){this.Xh.forEach(function(z){return z.aXa();});this.WR=new v.gga(this.T,this.ya);};x.prototype.Zna=function(){return {w_b:this.Np(),qYb:this.Xh};};x.prototype.eIb=function(z){var A;A=this;this.J1=!0;z.Bd.forEach(function(B){var C;C=A.S5(B.mediaType);if(void 0 !== C)A.HQa.once(B.Cna,function(D){return C.gIb(D);});});if(z.Ka)this.WYa();else z.events.once("branchNormalized",function(){return A.WYa();});};x.prototype.WYa=function(){var z;z=this.NKb();z && ((0,t.assert)(z.Cb),this.mb.emit("ptsChanged",{initialTimestamp:z.Cb,forcedTimestamp:void 0}));};x.prototype.S5=function(z){return (0,k.ec)(this.Xh,function(A){return A.mediaType === z;});};x.prototype.WLb=function(){return -1 !== this.Cg.indexOf(m.u.X)?m.u.X:m.u.$;};x.prototype.aK=function(z){z={type:"startEvent",event:z,time:d.platform.time.wa()};this.mb.emit(z.type,z);};x.prototype.CE=function(z,A){this.ya.qf(z,void 0,A);};x.prototype.uQa=function(){var z;z=this;this.zha && this.zha.clear();this.zha=f.Cq.xhb(this.Xh.map(function(A){return A.Kr;}),function(A){return A.every(function(B){return B;});},function(A){return z.wA.set(A);});this.zga && this.zga.clear();this.zga=new f.Iea(this.Xh.map(function(A){return A.R7;}),function(A){return f.L.min.apply(f.L,c.__spreadArray([],c.__read(A),!1));},function(A){z.tA.set(A);},f.L.Na(-Infinity));};return x;})();b.TBa=r;},56405:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Nca=void 0;c=a(5163);l=a(57055);f=a(62558);k=a(49730);d=0;r=(function(g){function n(h,m,p,q,u,t,w,v){m=g.call(this,("cdnList").concat(d++),m,p,q,u,t,w,"cdnList",v) || this;m.ng=h;m.Db();return m;}c.__extends(n,g);n.prototype.Db=function(){var h;h=this;this.DR=new l.De();this.DR.on(this.ub.Z,"skipped",function(m){h.ev && ((null === m || void 0 === m?0:m.vZb) && h.XS(m.vZb),h.ev=void 0);});this.DR.on(this.ub.Z,"paused",function(){h.ev && h.ub.Od && h.XS(h.ub.Ld);});this.DR.on(this.ub.Z,"underflow",function(){h.ev && h.ub.Od && h.XS(h.ub.Ld);});};n.prototype.qv=function(h,m,p){this.DR.clear();g.prototype.qv.call(this,h,m,p);this.Db();};n.prototype.close=function(){k.K && this.console.trace("close");g.prototype.close.call(this);this.DR.clear();};n.prototype.L4b=function(h,m){var p;p=this;this.ev && this.XS(h);return this.k_a(m).map(function(q){return p.ng[q];});};n.prototype.Pab=function(h){var m;m=this;this.k_a(h).forEach(function(p){delete m.ng[p];});};n.prototype.k_a=function(h){var m;m=this;return Object.keys(this.ng).filter(function(p){return m.ng[p].P === ("").concat(h);});};n.prototype.Kr=function(h){var m,p,q;m=h.stream;p=h.Rc;q=h.Cb;h=h.Hb;(0,f.assert)(void 0 !== q);(0,f.assert)(void 0 !== h);k.K && this.console.trace(("Media appended ").concat(q.qb(),"-").concat(h.qb()));this.Cia({stream:m,Rc:p},q,h);};n.prototype.H7=function(h,m){return h.stream === m.stream && h.Rc === m.Rc;};n.prototype.EKb=function(h){var m,p;p=h.Mo;h=p.Rc;p=null === (m=p.stream.la.Y.Ox) || void 0 === m?void 0:m.Sg;return ("").concat(h,"::").concat(p);};n.prototype.vma=function(h,m){k.K && this.console.trace(("Presenting event for ( ").concat(h.Mo.stream.id,", ").concat(h.Mo.Rc," )") + (" at ").concat(m.qb()));this.ev?this.XS(m):this.gR=m;this.ev=h;};n.prototype.XS=function(h){var m,p,q,u,t,w,v,y,x;(0,f.assert)(this.ev);if(null === (m=this.yla) || void 0 === m?0:m.lessThan(h))h=this.yla;t=this.ev;m=this.ng;w=t.Mo;v=w.stream;w=w.Rc;y=null === (p=v.OV) || void 0 === p?void 0:p.Rm;p=h.qa(this.gR || t.timestamp).G;if(void 0 !== w && void 0 !== y){x=null === (q=v.la.Y.Ox) || void 0 === q?void 0:q.Sg;q=v.track.P;t=this.EKb(t);m=(u=(m[t] || (m[t]={Lm:w,Sg:x,P:q,EF:{}})).EF)[y] || (u[y]={bitrate:v.bitrate,Vb:y,mediaType:v.mediaType,totalTime:0,xb:v.xb});m.totalTime=Math.max(m.totalTime + p,0);}this.gR=h;};n.prototype.clone=function(h,m){m=void 0 === m?{}:m;h=new (m.Rjc || n)(h,this.UWb,this.ub,this.b3,this.events,this.ip,this.tc,m.priority);this.azb(h);h.ev=this.ev;h.gR=this.gR;k.K && h.console.trace("Cloning",{Rec:h.Fj.length});return h;};n.prototype.reset=function(){g.prototype.reset.call(this);this.gR=void 0;};n.prototype.I7=function(h){return ("(").concat(h.stream.Pb,", ").concat(h.Rc,")");};return n;})(a(1168).W0);b.Nca=r;},91829:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.nFa=void 0;c=a(5163);l=a(49730);f=a(7881);r=(function(){function k(d,g,n){this.tc=d;this.dUb=g;this.T=n;}Object.defineProperties(k.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});k.prototype.waitUntil=function(d){var g;d=(0,f.Pba)(this.tc,d,!0);g=d.promise;this.ctb=d.Qf;return g;};k.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,n;return c.__generator(this,function(h){switch(h.label){case 0:if(d.done)return [3,2];g=d.value.value;if(!g.Ena)return [3,2];n=g.Cb.qa(this.dUb);l.K && this.T.trace(("[").concat(g.mediaType,"] JIT: waiting until playertime >= ").concat(n.G),("to append next request ").concat(g.toString()));return [4,this.waitUntil(n)];case 1:(h.Wa(),l.K && this.T.trace(("[").concat(g.mediaType,"] JIT: now appending request ").concat(g.toString())),h.label=2);case 2:return [2,d];}});});};k.prototype.reset=function(){var d;null === (d=this.ctb) || void 0 === d?void 0:d.Oa();};return k;})();b.nFa=r;},37096:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ha=void 0;c=a(5163);l=a(36418);f=a(42866);r=(function(){function k(d){this.T=d;}Object.defineProperties(k.prototype,{name:{get:function(){return "LiveRequestLogger";},enumerable:!1,configurable:!0}});k.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,n,h,m,p,q,u,t,w,v,y,x,z,A;return c.__generator(this,function(){d.done || (g=d.value.value,g.stream.aa && (n=g.mMb(),n instanceof ArrayBuffer && (h=new l.Bq(this.T,g.stream,n,["moof"],!0,{Eua:!0}),m=h.parse(),m.$v && (p=h.Wm("moof"),q=p.Wm("traf"),u=q.Wm("trun"),t=q.Wm("tfdt"),w=g.stream.$t,v=u.ud,y=t.dF,x=m.Ha.N,z=new f.L(y,x),A=this.Nq?z.qa(this.Nq.qwb):void 0,this.T.trace(("Live Request Logger: processing request [").concat(g.mediaType,"]"),{baseMediaDecodeTime:y,timescale:x,baseMediaDecodeMs:z.G,ptsOffsetMs:w.G,mediaTimestampMs:z.qa(w).G,offsetFromPriorMs:null === A || void 0 === A?void 0:A.G,sampleCount:v,url:g.url}),this.Nq={qwb:z}))));return [2,d];});});};k.prototype.reset=function(){this.Nq=void 0;};return k;})();b.$Ha=r;},54037:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.RNa=void 0;c=a(5163);l=a(42866);f=a(57055);k=a(12043);d=a(49730);g=a(27364);n=a(97810);h=a(62558);r=(function(){function m(p,q,u){var t;t=this;this.ub=p;this.Z=q;this.pending=new Map();this.listeners=new f.De();this.sta=!1;this.yNb=function(w){t.Ebb(!0,function(){d.K && t.T.debug("cancelling playback ending");w.cancel();});};this.listeners.addListener(q,"playbackEnding",this.yNb);this.T=(0,n.Mh)(k.platform,u,"SEAMLESSMANAGER");d.K && this.T.debug("construct");}m.prototype.Oa=function(){d.K && this.T.debug("destruct");this.pending.clear();this.listeners.clear();};m.prototype.s0b=function(p){this.acb=p;};m.prototype.S9b=function(p){var q;0 === this.pending.size && ((0,h.assert)(void 0 === this.YK,"SeamlessManager: No pending transitions, but a wait is deferred"),this.YK=new l.Wz());(0,h.assert)(this.YK,"SeamlessManager: deferred is undefined");(0,h.assert)(!this.pending.has(p.mediaType),"SeamlessManager: There is already a pending transition for mediaType " + p.mediaType);this.pending.set(p.mediaType,p);d.K && this.T.trace(("got new transition [").concat(p.mediaType,"] --\x3e ").concat(p.to.stream.id));if(this.pending.size === this.ub.Cg.length && !this.sta){q=this.rQb();if(q.lva)return (d.K && this.T.trace(("seamless transition possible at ").concat(p.timestamp.qb())),this.YK.resolve(),this.reset(),Promise.resolve());d.K && this.T.trace(("starting non-seamless transition at ").concat(p.timestamp.qb()));this.c5b(q.info);}return this.YK.promise;};m.prototype.s1b=function(p){d.K && this.T.trace(("reset media [").concat(p,"]"));this.pending.delete(p);0 === this.pending.size && this.reset();};m.prototype.reset=function(){d.K && this.T.debug("resetting");this.sta=!1;this.YK=void 0;this.pending.clear();};m.prototype.rQb=function(){var p,q,u,t,y,x,z,A,B,C,D,E,G,F,J;t={lva:!0};try{for(var w=c.__values(this.pending.entries()),v=w.next();!v.done;v=w.next()){y=c.__read(v.value,2);x=y[0];z=y[1];if(z.from){A=z.from.stream;B=z.to.stream;if(A.track === B.track)d.K && this.T.debug("Seamless deemed possible due to same track",{mediaType:x});else {C=A.Zm();D=B.Zm();E=void 0;G=this.ub.il(z.timestamp);E=z.from.I && 0 > this.ub.R7.value.G?{I:z.from.I,offset:l.L.Na(0)}:this.ub.il(z.G$a);F=this.Z.hVa({mediaType:x,w_a:z.w_a,from:C,to:D,RIb:E,c7b:G});if(F.hVa)d.K && this.T.debug("Seamless deemed possible",{mediaType:x,from:C,to:D,RIb:E,c7b:G});else {d.K && this.T.debug("Non-seamless transition; details:",{reason:F.reason,mediaType:x,from:C,to:D});J=t.lva?[]:t.info.xab;F.reason && (z.reason="string" !== typeof F.reason?F.reason:void 0,J.push(F.reason));t={lva:!1,info:{kEb:null !== (q=z.to.I) && void 0 !== q?q:"unk",T4b:null !== (u=z.from.I) && void 0 !== u?u:"unk",yYb:z.timestamp,xab:J}};}}}}}catch(L){var M;M={error:L};}finally{try{v && !v.done && (p=w.return) && p.call(w);}finally{if(M)throw M.error;}}return t;};m.prototype.c5b=function(p){var q;null === (q=this.acb) || void 0 === q?void 0:q.bub(p);this.sta=!0;this.ub.Kr.value?(d.K && this.T.trace("Signaling EOS for upcoming restart"),this.ub.aY()):(d.K && this.T.trace("Signaling immediate restart"),this.Ebb(!1));};m.prototype.Ebb=function(p,q){var u,t,w,v,y,x,B,C,D;w=this;if(this.pending.size){d.K && this.T.trace("playback ending, restarting player");v={};y=(u={},u[g.u.$]=void 0,u[g.u.X]=void 0,u[g.u.Ga]=void 0,u);u=void 0;x=[];try{for(var z=c.__values(this.pending.entries()),A=z.next();!A.done;A=z.next()){B=c.__read(A.value,2);C=B[0];D=B[1];v[C]=D.to.stream.Zm();u={to:{I:D.to.I,offset:D.timestamp}};D.reason && x.push(D.reason);D.from.I && (y[C]=D.from.I,u.from={I:D.from.I,offset:D.G$a});}}catch(G){var E;E={error:G};}finally{try{A && !A.done && (t=z.return) && t.call(z);}finally{if(E)throw E.error;}}null === q || void 0 === q?void 0:q();this.ub.d5b(u,p,x);d.K && this.T.debug("Restarting player",v);this.Z.rf(v,y).then(function(){var G,F;null === (G=w.YK) || void 0 === G?void 0:G.resolve();d.K && w.T.debug("Restart completed");null === (F=w.acb) || void 0 === F?void 0:F.cub();w.reset();});}};return m;})();b.RNa=r;},77029:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.SNa=void 0;c=a(5163);l=a(49730);r=(function(){function f(k,d,g){this.lz=k;this.ue=d;this.T=g;this.h2=!0;}Object.defineProperties(f.prototype,{name:{get:function(){return "Transition";},enumerable:!1,configurable:!0}});f.prototype.process=function(k){var d;return c.__awaiter(this,void 0,void 0,function(){var g;return c.__generator(this,function(n){switch(n.label){case 0:if(k.done)return [3,3];g=k.value.value;if(!this.Nq || !g.Ev || g.stream.la === this.Nq.stream.la || this.Nq.Cb === g.Cb && this.Nq.e1b === g.index)return [3,2];l.K && this.T.trace(("Seamless Throttler: Waiting on request [").concat(g.mediaType,"]"),g.index,"in",g.v.id);return [4,this.lz.S9b({mediaType:g.mediaType,w_a:this.h2,to:{stream:g.stream,I:g.v.id},from:{stream:this.Nq.stream,I:this.Nq.I},timestamp:g.Cb,G$a:null === (d=this.Nq) || void 0 === d?void 0:d.Cb})];case 1:(n.Wa(),n.label=2);case 2:(this.h2=!1,this.Nq={e1b:g.index,stream:g.stream,Cb:g.Cb,I:g.v.id},n.label=3);case 3:return [2,k];}});});};f.prototype.rWb=function(k,d){void 0 === k && (k=[]);void 0 === d && (d=[]);l.K && this.T.trace(("Seamless Throttler: onMediaSourceReset() ").concat(d));this.h2 || (this.h2=-1 !== d.indexOf(this.ue));(null === k || void 0 === k?0:k.length) && k.length !== d.length && (this.Nq=void 0);};f.prototype.reset=function(){};return f;})();b.SNa=r;},1918:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.KKa=void 0;c=a(5163);l=a(49730);f=a(62558);k=a(7881);r=(function(){function d(g,n,h,m){var p;p=this;this.tc=g;this.nXb=n;this.uua=h;this.T=m;g.sa.on("stopStart",function(){return p.$yb();});l.K && this.T.trace(("PacingThrottler: pacingFactory=").concat(n,", pacingThreshold=").concat(h.qb()));}Object.defineProperties(d.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});d.prototype.$yb=function(){var g,n;n=this.tc.sa;this.KK=n.li?n.currentTime:void 0;this.sS=this.PT=void 0;l.K && this.T.trace(("PacingThrottler: clock reset ").concat(null === (g=this.KK) || void 0 === g?void 0:g.G));};d.prototype.waitUntil=function(g){var n;g=(0,k.Pba)(this.tc,g,!0);n=g.promise;this.R9b=g.Qf;return n;};d.prototype.process=function(g){return c.__awaiter(this,void 0,void 0,function(){var n,h,m,p;return c.__generator(this,function(q){switch(q.label){case 0:if(g.done)return [3,11];n=g.value.value;(0,f.assert)(n.Cb);h=this.tc.sa;if(!this.PT || !this.sS)return [3,10];if(!this.sS.greaterThan(this.uua))return [3,8];if(!this.KK)return [3,5];m=n.Cb.qa(this.KK).qa(this.uua);p=this.KK.add(m.jh(this.nXb));if(!p.lessThan(n.Cb))return [3,3];if(!p.greaterThan(h.currentTime))return [3,2];l.K && this.T.trace(("PacingThrottler: waiting until ").concat(p.qb()," for mediaRequest @") + ("").concat(n.Cb.qb(),", ") + ("current time ").concat(h.currentTime.qb(),", ") + ("clock start time ").concat(this.KK.qb(),", ") + ("distance ").concat(m.qb()));return [4,this.waitUntil(p)];case 1:(q.Wa(),q.label=2);case 2:return [3,4];case 3:(l.K && this.T.warn("PacingThrottler: invalid schedule time " + ("").concat(p.qb()," for mediaRequest ") + ("@").concat(n.Cb.qb(),", ") + ("current time ").concat(h.currentTime.qb(),", ") + ("clock start time ").concat(this.KK.qb(),", ") + ("distance ").concat(m.qb())),q.label=4);case 4:return [3,7];case 5:m=n.Cb.qa(this.PT);if(!m.greaterThan(this.uua))return [3,7];l.K && this.T.trace(("PacingThrottler: (buffering) waiting until ").concat(this.PT.G,"ms") + (" for mediaRequest @").concat(n.Cb.G,"ms, ") + ("current time ").concat(h.currentTime.G));return [4,this.waitUntil(this.PT)];case 6:(q.Wa(),q.label=7);case 7:return [3,9];case 8:(this.sS=this.sS.add(n.Md),q.label=9);case 9:return [3,11];case 10:(this.PT=n.Cb,this.sS=n.Md,q.label=11);case 11:return [2,g];}});});};d.prototype.reset=function(){var g;null === (g=this.R9b) || void 0 === g?void 0:g.Oa();};return d;})();b.KKa=r;},14895:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.bfa=void 0;c=a(5163);l=a(42866);f=a(62558);k=a(49730);d=a(95971);r=(function(g){function n(h){var m;m=g.call(this) || this;m.ya=h;m.FR=new Map();m.Za=[];m.eR=new d.r1({li:!1,currentTime:function(){return m.Od?m.Ld:l.L.Tp;},speed:1});return m;}c.__extends(n,g);Object.defineProperties(n.prototype,{sa:{get:function(){return this.eR;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ad:{get:function(){throw Error("Can't get scheduler on placeholder player");},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{rl:{get:function(){return this.WR;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{hw:{get:function(){return this.FR;},enumerable:!1,configurable:!0}});n.prototype.n3=function(h,m){var p;p=!this.ya;p && (this.ya=h,this.Lga=(null === m || void 0 === m?0:m.Od)?m.Ld:void 0,this.WR=null === m || void 0 === m?void 0:m.rl,this.FR=m?m.hw:new Map(),null === m || void 0 === m?void 0:m.kN());return p;};n.prototype.kN=function(){this.FR=this.WR=void 0;};n.prototype.$A=function(){this.Za=[];this.Lga=void 0;};n.prototype.Zla=function(h){k.K && (0,f.assert)(this.ya === h);this.ya=void 0;this.$A();};n.prototype.Jma=function(){for(var h,m=[],p=0;p < arguments.length;p++){m[p]=arguments[p];}(h=this.Za).push.apply(h,c.__spreadArray([],c.__read(m),!1));};n.prototype.WF=function(){return this.Lga?this.Lga:g.prototype.WF.call(this);};n.prototype.gV=function(){return !1;};n.prototype.UC=function(){};n.prototype.fI=function(){};n.prototype.t$=function(){this.Za=this.Za.filter(function(h){return h.pK?(h.Hf("pruned"),!1):!0;});};n.prototype.Oa=function(){g.prototype.Oa.call(this);this.hw.forEach(function(h){return h.close();});};return n;})(a(72938).qfa);b.bfa=r;},72938:function(r,b,a){var c,l,f,k,d,g,n,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.qfa=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(12043);d=a(62558);g=a(27364);r=a(88801);n=a(49730);h=a(97810);m=r.dw.Qla;a=(function(){function p(){this.rN=[];this.wA=new f.Cq(!1);this.tA=new f.Cq(f.L.Na(-Infinity));this.OJ=new f.Cq(f.L.Na(-Infinity));this.events=new l.EventEmitter();this.T=new k.platform.Console("ASEJS","media|asejs");}Object.defineProperties(p.prototype,{console:{get:function(){return this.T;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ad:{get:function(){return this.dv;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{u5a:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{rl:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{hw:{get:function(){return new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{playbackRate:{get:function(){return this.WL();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{JTa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Kr:{get:function(){return this.wA;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{R7:{get:function(){return this.tA;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Rk:{get:function(){return this.OJ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Od:{get:function(){return this.Rp;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ld:{get:function(){return this.WF();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{zg:{get:function(){var q,u;q=this.Ld;u=this.il(q,!1);n.K && (0,d.assert)(u,("Could not find current branch for ").concat(q.G));return u;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{cPb:{get:function(){return this.Za[0];},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Br:{get:function(){return this.Rp?this.Za[this.Za.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{bz:{get:function(){var q,u;q=this.Ld;u=this.aU(q);(0,d.assert)(u,("Could not find presenting branch for ").concat(q.G));return u;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Rp:{get:function(){return 0 < this.Za.length;},enumerable:!1,configurable:!0}});p.prototype.Jcb=function(){};p.prototype.Icb=function(){};p.prototype.di=function(){return !1;};p.prototype.U6=function(){return 0 < this.Za.length;};p.prototype.ko=function(){(0,d.assert)(0 < this.Za.length,"Could not find presenting branch. Player has no branches.");return this.bz;};p.prototype.G2a=function(q){return -1 !== this.Za.indexOf(q);};p.prototype.n3=function(){return void 0 !== this.ya?!1:!0;};p.prototype.kN=function(){};p.prototype.Oa=function(){};p.prototype.KB=function(q){var u,t,w;u=this.Za.filter(function(v){return v.v.id === q.I;});if(0 !== u.length){t=this.WF();w=new f.L(Infinity,1);u.forEach(function(v){v=v.Pr.add(q.offset);t.ZK(v).lessThan(t.ZK(w)) && (w=v);});return w;}};p.prototype.JU=function(q){var u,t,w,v,y,x,z,A,B,C;return c.__generator(this,function(D){switch(D.label){case 0:u=this.Za.filter(function(E){return E.v.id === q.I;});if(0 === u.length)return [2,void 0];t=this.WF();D.label=1;case 1:(D.Vj.push([1,6,7,8]),w=c.__values(u),v=w.next(),D.label=2);case 2:if(v.done)return [3,5];y=v.value;x=y.Pr.add(q.offset);z=t.ZK(x);return [4,{jq:x,ZK:z}];case 3:(D.Wa(),D.label=4);case 4:return (v=w.next(),[3,2]);case 5:return [3,8];case 6:return (A=D.Wa(),B={error:A},[3,8]);case 7:try{v && !v.done && (C=w.return) && C.call(w);}finally{if(B)throw B.error;}return [7];case 8:return [2];}});};p.prototype.il=function(q,u){var t,w,v;void 0 === u && (u=!1);t=this.aU(q,u);if(t){w=t.v;u=w.id;v=w.duration;q=f.L.min(q.qa(w.se.add(t.xd)),v || f.L.Tp);return {I:u,offset:q};}};p.prototype.VY=function(){};p.prototype.reset=function(){this.$A();};p.prototype.Iwa=function(){};p.prototype.YN=function(){};Object.defineProperties(p.prototype,{ZH:{get:function(){return !1;},enumerable:!1,configurable:!0}});p.prototype.pause=function(q){void 0 === q && (q=g.qQ);this.rN=null === q || void 0 === q?void 0:q.reduce(function(u,t){-1 === u.indexOf(t) && u.push(t);return u;},this.rN);};p.prototype.resume=function(q){var u;u=this;void 0 === q && (q=g.qQ);q.forEach(function(t){t=u.rN.indexOf(t);-1 !== t && u.rN.splice(t,1);});};p.prototype.tza=function(q){var u;(0,d.assert)(this.ya);(0,d.assert)(q !== this);this.fI();u=q.n3(this.ya,this);u && (this.t$(),q.pause(this.rN),q.Jma.apply(q,c.__spreadArray([],c.__read(this.Za),!1)),this.Zla(this.ya));return u;};p.prototype.WF=function(){return this.d1a();};p.prototype.d1a=function(){var q,u;n.K && (0,d.assert)(this.Rp,"Attempted to get initial time before any branches were queued");u=c.__read(this.Za,1)[0];n.K && (0,d.assert)(u);return null !== (q=u.Cb) && void 0 !== q?q:u.zy;};p.prototype.WL=function(){return 1;};p.prototype.aG=function(){};p.prototype.aU=function(q,u){var t;void 0 === u && (u=!1);if(this.Rp){t=this.d1a();return q.lessThan(t)?this.Za[0]:(0,h.vna)(this.Za,q) || (u?this.Br:void 0);}};p.prototype.UJb=function(){var q,u,v,y,x,z,A,B;u={};try{for(var t=c.__values(this.Za),w=t.next();!w.done;w=t.next()){v=w.value;y=void 0;x=void 0;z=v.JL();for(y in z){A=y;B=z[A];B && (u[A]=(null !== (x=u[A]) && void 0 !== x?x:0) + B);}if(!v.ai)break;}}catch(D){var C;C={error:D};}finally{try{w && !w.done && (q=t.return) && q.call(t);}finally{if(C)throw C.error;}}return u;};c.__decorate([m.return.Qg(),m.return.r9],p.prototype,"u5a",null);c.__decorate([m.return.Qg()],p.prototype,"zg",null);c.__decorate([m.return.Ija(),m.return.im],p.prototype,"ko",null);c.__decorate([c.__param(0,m.Qg())],p.prototype,"KB",null);c.__decorate([c.__param(0,m.Qg())],p.prototype,"JU",null);c.__decorate([m.return.Qg()],p.prototype,"il",null);return p;})();b.qfa=a;},13353:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.mMa=void 0;c=a(57055);l=a(42866);f=a(27364);r=a(55011);a=(function(){function k(d){this.Z=d;this.qha=!1;this.wRa=new c.De();this.q0b();}k.prototype.q0b=function(){var d,g;d=this;g=this.wRa;g.on(this.Z,"paused",function(){return d.F9();});g.on(this.Z,"playing",function(){return d.F9(!0);});g.on(this.Z,"underflow",function(){return d.F9();});g.on(this.Z,"skipped",function(){return d.yW();});g.on(this.Z,"clockAdjusted",function(){return d.uW();});g.on(this.Z,"playbackRateChanged",function(){return d.xWb();});};Object.defineProperties(k.prototype,{currentTime:{get:function(){return this.pSa || this.Z.Oc || l.L.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{li:{get:function(){return this.qha;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{speed:{get:function(){var d;return null !== (d=this.Z.playbackRate) && void 0 !== d?d:1;},enumerable:!1,configurable:!0}});k.prototype.F9=function(d){void 0 === d && (d=!1);d !== this.qha && (this.pSa=(this.qha=d)?void 0:this.Z.Oc);this.emit("stopStart",{type:"stopStart"});};k.prototype.yW=function(){this.pSa=void 0;this.uW(f.Uz.bI);};k.prototype.uW=function(d){void 0 === d && (d=f.Uz.vub);this.emit("clockAdjusted",{type:"clockAdjusted",reason:d});};k.prototype.xWb=function(){this.emit("speedChanged",{type:"speedChanged"});};k.prototype.Oa=function(){this.F9();this.wRa.clear();};return k;})();b.mMa=a;(0,r.Ek)(c.EventEmitter,a);},1168:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.W0=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(12043);d=a(97810);g=a(49730);n=a(7881);h=f.L.Na(1E3);r=(function(){function m(p,q,u,t,w,v,y,x,z,A){var B,C;this.KIb=p;this.UWb=q;this.b3=t;this.events=w;this.ip=v;this.zfb=x;this.priority=z;this.Fj=[];this.console=(0,d.Mh)(k.platform,q,("PresentationTracker [").concat(this.KIb,"] [").concat(this.zfb,"]"));this.Gua=h.add(f.L.Na(null !== (C=null === (B=v.oO) || void 0 === B?void 0:B.G) && void 0 !== C?C:0));this.listeners=new l.De();this.bva=new l.De();this.Bx=!0;this.NR=!A;this.zCb(y);this.Scb(u,y,t);}m.prototype.Scb=function(p,q,u){var t;t=this;this.b3=u;this.listeners.clear();this.bva.clear();this.ub=p;this.tc=q;this.bva.on(p.Z,"skipped",this.yW.bind(this));this.listeners.on(u,"requestAppended",function(w){return t.Kr(w.request);});this.events=p.events;this.gL.sVa(q);this.fX.sVa(q);};m.prototype.zCb=function(p){var q;q=this;this.gL=p.$x(function(){return q.qFb();},"Presentation Emit",this.priority);this.fX=p.$x(function(){return q.k_b();},"Presentation Prune");};m.prototype.yW=function(){this.trace(("skipped, scheduler clock ").concat(this.tc.sa.currentTime.qb()));this.NR=this.Bx=!0;this.gL.rf();};m.prototype.qFb=function(){var p,q,u;return c.__generator(this,function(t){switch(t.label){case 0:(g.K && this.console.trace("Starting emit job",this.Bx),this.sH=this.aVb(this.Bx),p=this.d8a(),t.label=1);case 1:if(!p)return [3,3];this.trace(("queuing task for ").concat(this.I7(p.Mo)) + (" at player time ").concat(p.timestamp.qb()) + (" scheduler clock is ").concat(this.tc.sa.currentTime.qb()));return [4,n.Lg.vu(p.timestamp)];case 2:t.Wa();this.trace(("executing task for ").concat(this.I7(p.Mo)) + (" for player time ").concat(p.timestamp.qb()) + (", scheduler clock: ").concat(this.tc.sa.currentTime.qb()) + (", actual player time: ").concat(this.ub.Ld) + (", first item: ").concat(this.Bx));q=this.NR?this.ub.Ld:p.timestamp;u=this.Bx;this.NR=this.Bx=!1;this.DXa=p;this.sH++;this.yla=(p=this.d8a())?p.timestamp:this.CG;try{this.vma(this.DXa,q,u);}catch(w){this.console.error(("Error in ").concat(this.zfb," emit, continuing"),w);}q=null === p || void 0 === p?void 0:p.timestamp;return [3,1];case 3:return (g.K && this.console.trace("Ending emit job"),[2]);}});};m.prototype.hua=function(){this.Bx=!0;};m.prototype.d8a=function(){if(void 0 !== this.sH)return this.Fj[this.sH];};m.prototype.aVb=function(p){var q,u,w;void 0 === p && (p=!1);for(var t=p?0:null !== (q=this.sH) && void 0 !== q?q:0;t < this.Fj.length;t++){q=this.Fj[t];w=f.L.Na(null !== (u=this.ip.wYb) && void 0 !== u?u:0);if(q.timestamp.greaterThan(this.ub.Ld.add(w)))return p && 0 < t?t - 1:t;}return Math.max(this.Fj.length - 1,0);};m.prototype.k_b=function(){var p,q;return c.__generator(this,function(u){switch(u.label){case 0:if(!(1 < this.Fj.length))return [3,2];p=c.__read(this.Fj,2);q=p[1];this.trace(("queuing pruning task for ").concat(q.Mo) + (" at player time ").concat(this.Gua.add(q.timestamp).qb()) + (" scheduler clock is ").concat(this.tc.sa.currentTime.qb()));return [4,n.Lg.vu(this.Gua.add(q.timestamp))];case 1:return (u.Wa(),this.trace(("executing pruning task for ").concat(q.Mo) + (" at player time ").concat(this.Gua.add(q.timestamp).qb()) + (" scheduler clock is ").concat(this.tc.sa.currentTime.qb())),this.Fj.shift(),this.sH && this.sH--,[3,0]);case 2:return [2];}});};m.prototype.qv=function(p,q,u){this.Scb(p,q,u);};m.prototype.reset=function(){this.Fj=[];g.K && this.trace("reset");this.NR=this.Bx=!0;this.CG=void 0;this.sH=0;this.fX.rf();this.gL.rf();};m.prototype.close=function(){g.K && this.trace("close()");this.NR=this.Bx=!0;this.bva.clear();this.gL.Oa();this.fX.Oa();this.listeners.clear();this.Fj=[];};m.prototype.di=function(p){var q;g.K && this.trace(("canSkip() ").concat(p));if(0 === this.Fj.length)return (g.K && this.trace("canSkip false, no media sequence"),!1);q=this.Fj[0];return q.timestamp.greaterThan(p)?(g.K && this.trace(("canSkip false, before earliest item at ").concat(q.timestamp)),!1):void 0 === this.CG || this.CG.lessThan(p)?(g.K && this.trace(("canSkip false, later than last appended at ").concat(this.CG)),!1):!0;};m.prototype.trace=function(p){g.K && this.console.trace(p);};m.prototype.Cia=function(p,q,u){var t;u && (this.CG=u);t=this.Fj.length?this.Fj[this.Fj.length - 1]:void 0;if(void 0 === t || !this.H7(t.Mo,p))return (this.Fj.push({Mo:p,timestamp:q}),this.gL.state === n.Kk.complete && this.gL.rf(),this.fX.state === n.Kk.complete && this.fX.rf(),!0);t === this.DXa && (this.yla=u);return !1;};m.prototype.H7=function(p,q){return p === q;};m.prototype.azb=function(p){p.Fj=c.__spreadArray([],c.__read(this.Fj),!1);p.CG=this.CG;};m.prototype.T1a=function(){var p,q,u,v;if(this.ub.Od){q=this.ub.Ld;u=void 0;try{for(var t=c.__values(this.Fj),w=t.next();!w.done;w=t.next()){v=w.value;if(v.timestamp.Iy(q))u=v;else break;}}catch(x){var y;y={error:x};}finally{try{w && !w.done && (p=t.return) && p.call(t);}finally{if(y)throw y.error;}}return null === u || void 0 === u?void 0:u.Mo;}};return m;})();b.W0=r;},55759:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ma=void 0;c=a(5163);l=a(42866);f=a(27364);k=a(83241);d=a(16962);r=(function(){function g(n,h,m,p,q,u,t,w){this.mediaType=n;this.console=h;this.ub=m;this.b3=p;this.co=q;this.$ua=u;this.tc=t;this.FA=[];this.mediaType === f.u.X && this.FA.push(new d.bOa(n,h,m,p,q,u,t,w,2));this.FA.push(new k.u1(n,h,m,p,q,u,t,"stream",1,null === w || void 0 === w?void 0:w.u3a()));}g.prototype.qv=function(n,h,m){this.ub=n;this.tc=h;this.b3=m;this.eD.forEach(function(p){return p.qv(n,h,m);});};g.prototype.fub=function(n){this.FA.push(n);};g.prototype.una=function(n){return (0,l.ec)(this.FA,function(h){return h instanceof n;});};g.prototype.reset=function(){this.FA.forEach(function(n){return n.reset();});};g.prototype.close=function(){this.FA.forEach(function(n){return n.close();});};g.prototype.di=function(n){return c.__read(this.FA,1)[0].di(n);};Object.defineProperties(g.prototype,{eD:{get:function(){return this.FA;},enumerable:!1,configurable:!0}});g.prototype.hua=function(){this.eD.forEach(function(n){return n.hua();});};return g;})();b.$Ma=r;},16962:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.bOa=void 0;c=a(5163);l=a(42866);f=a(49730);k=a(62558);r=(function(d){function g(n,h,m,p,q,u,t,w,v){n=d.call(this,n,h,m,p,q,u,t,"segment",v,null === w || void 0 === w?void 0:w.u3a()) || this;n.rl=w;return n;}c.__extends(g,d);g.prototype.Kr=function(n){var h,m,p,q,u,t,w,v,y,x;u=n.Cb;t=n.Hb;w=n.Ka;v=n.bitrate;y=n.xb;(0,k.assert)(void 0 !== u);x=null === (h=this.ub.il(u)) || void 0 === h?void 0:h.I;(0,k.assert)(x,"missing segment id");this.X7=n={I:x,hIb:n.Ev,Ka:w,$gb:v,xb:y,xZb:null === (m=this.X7) || void 0 === m?void 0:m.$gb,yZb:null === (p=this.X7) || void 0 === p?void 0:p.xb,Gd:null === (q=n.stream.la.Y) || void 0 === q?void 0:q.Gd};this.Cia(n,u,t) && f.K && this.trace(("segment ").concat(x," @ ").concat(u.G,"ms"));};g.prototype.H7=function(n,h){return n.I === h.I && !h.hIb;};g.prototype.vma=function(n,h,m){var p,q,u,t,w,v;p=n.Mo;q=p.I;u=p.$gb;t=p.xZb;w=p.xb;p=p.yZb;v=this.ub.il(h);(0,k.assert)(void 0 !== v);f.K && this.trace(("emitSegmentPresentingEvent @ ").concat(n.timestamp.G,"ms for segment ").concat(q));v.I !== q && (f.K && this.console.warn("player position:",v,"not equal to trackedElement:",q),v={I:q,offset:l.L.Ia});n={type:"segmentPresenting",playerTimestamp:h,position:v,seek:m,playbackContextId:n.Mo.Gd};if(this.rl){if(q=this.rl.Joa(q))(q.destvbitrate=u,q.destvmaf=w,q.srcvbitrate=t,q.srcvmaf=p);n.metrics=q;}f.K && this.trace(("segmentPresenting: ").concat(JSON.stringify(n)));this.events.emit(n.type,n);};g.prototype.reset=function(){d.prototype.reset.call(this);this.X7=void 0;};g.prototype.close=function(){d.prototype.close.call(this);this.X7=void 0;};g.prototype.I7=function(n){return n.I;};return g;})(a(1168).W0);b.bOa=r;},83241:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.u1=void 0;c=a(5163);l=a(49730);f=a(62558);r=(function(k){function d(){return null !== k && k.apply(this,arguments) || this;}c.__extends(d,k);d.prototype.Kr=function(g){var n,h,m;n=g.stream;h=g.Cb;m=g.Hb;g=g.Ka;(0,f.assert)(void 0 !== h,"playerStartTimestamp undefined at media append");(0,f.assert)(void 0 !== g,"contentStartTimestamp undefined at media append");this.Cia({stream:n,Ka:g},h,m) && l.K && this.trace(("stream ").concat(n.id,", ").concat(n.bitrate,"kbit/s @ ").concat(h.G,"ms"));};d.prototype.H7=function(g,n){return g.stream === n.stream;};d.prototype.vma=function(g,n){var h,m,p,q;p=g.Mo.stream;q=this.ub.il(n);(0,f.assert)(void 0 !== q);l.K && this.trace(("emitStreamPresentingEvent @ ").concat(g.timestamp.G,"ms for ").concat(null === p || void 0 === p?void 0:p.id,", ") + ("").concat(null === p || void 0 === p?void 0:p.bitrate,"kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:p.mediaType,playerTimestamp:n,position:q,trackIndex:null === (h=null === p || void 0 === p?void 0:p.track) || void 0 === h?void 0:h.QE,streamIndex:null === p || void 0 === p?void 0:p.xw,stream:p,manifest:null === (m=p.la) || void 0 === m?void 0:m.Y,contentStartTimestamp:g.Mo.Ka});};d.prototype.I7=function(g){return ("").concat(g.stream.Pb,"@").concat(g.Ka.qb());};return d;})(a(1168).W0);b.u1=r;},8190:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.gga=void 0;c=a(42866);l=a(12043);f=a(27364);r=(function(){function k(d,g){this.T=d;this.rj=g;}k.prototype.Maa=function(d,g,n,h,m,p){var q,u;void 0 === m && (m=!1);void 0 === p && (p=void 0);q=d.v;u=this.Aqb(q);this.KE={startTime:l.platform.time.wa(),V4b:d,U4b:n.G,b5:g,ce:this.$Kb(h,g),p7b:this.TMb(h,m),J_b:p,ODb:m,sf:h,FVa:u,ZUb:this.yLb(q,n)};};k.prototype.u3a=function(){return !!this.KE;};Object.defineProperties(k.prototype,{b5:{get:function(){var d;return null === (d=this.KE) || void 0 === d?void 0:d.b5;},enumerable:!1,configurable:!0}});k.prototype.Joa=function(d){var g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,E,G,F,J,M;if(this.KE && 0 !== Object.keys(this.KE.FVa).length && d === this.KE.b5){w=this.KE;v=w.FVa;y=w.ZUb;x=w.ODb;z=w.sf;A=w.V4b;B=w.U4b;C=w.startTime;D=w.ce;E=w.p7b;w=w.J_b;this.KE=void 0;G=this.aha(d).Lja;F=this.rJb(A.v.id,d,v);G=this.kRa(F.weight,G);J={};for(M in v){M !== d && (J[M]=v[M].details);}v=l.platform.time.wa() - C;C=z?0:v;M={offset:c.L.Na(this.wMb(A,B,z,x)),I:A.v.id};B={offset:c.L.Na(B),I:A.v.id};y={segment:d,destPosition:{I:d,offset:c.L.Ia},srcsegment:A.v.id,srcTransitionPosition:M,srcStartPosition:B,srcsegmentduration:A.NY.G,srcoffset:M.offset.G,seamlessRequested:z,atRequest:F,atTransition:G,discard:J,transitionType:D,transitionTypeAtRequest:E,delayToTransition:this.aKb(v,z,x),durationOfTransition:C,nextExitPositionAtRequest:y};w && (y.reasonCodes=w);x=null !== (n=null === (g=this.rj.da.O[d]) || void 0 === g?void 0:g.type) && void 0 !== n?n:"content";g=null !== (m=null === (h=this.rj.da.O[A.v.id]) || void 0 === h?void 0:h.type) && void 0 !== m?m:"content";d=null !== (q=null === (p=this.rj.da.O[d]) || void 0 === p?void 0:p.J) && void 0 !== q?q:void 0;p=null !== (t=null === (u=this.rj.da.O[A.v.id]) || void 0 === u?void 0:u.J) && void 0 !== t?t:void 0;d && p && d !== p && (y.auxMidType=x,y.auxSrcmidType=g,y.auxMid=d,y.auxSrcmid=p);return y;}};k.prototype.rJb=function(d,g,n){var h,m,p;p={};(n=n[g])?p=n.details:((0,c.assert)(this.rj),p.weight=null === (m=null === (h=this.rj.da.O[d].next) || void 0 === h?void 0:h[g]) || void 0 === m?void 0:m.weight);return p;};k.prototype.aKb=function(d,g,n){var h;n || (h=g?d:0);return h;};k.prototype.yLb=function(d,g){var n,h,m;h=d.se.add(g);null === (n=d.ow) || void 0 === n?void 0:n.some(function(p){h.lessThan(p.Ka) && (m=p.Ka.G);});return m;};k.prototype.wMb=function(d,g,n,h){return n || h?d.NY.G:g;};k.prototype.$Kb=function(d,g){return d?"seamless":this.aha(g).H2a?"reset":"long";};k.prototype.TMb=function(d,g){return d || g?"lazy":"immediate";};k.prototype.Aqb=function(d){var g,n;g=this;n={};d.Vy.forEach(function(h){var m,p;m=d.bVb[h];p=g.aha(h).Lja;n[h]={details:g.kRa(m,p)};});return n;};k.prototype.aha=function(d){var g,n;d=this.rj.bU(d);g=0 < d.length?d[0]:void 0;d=null === g || void 0 === g?void 0:g.JL();if(!g || !d)return {H2a:!1,Lja:{Cba:0,K2:0,bZ:0,cS:0}};n=g.R6(f.u.$) && !d.K2;g=g.R6(f.u.X) && !d.Cba;return {H2a:!n && !g,Lja:d};};k.prototype.kRa=function(d,g){return {weight:d,vbuflmsec:g.Cba,abuflmsec:g.K2,vbuflbytes:g.bZ,abuflbytes:g.cS};};return k;})();b.gga=r;},45331:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,E,G,F,J,M,L,K,P,H,I,N,R,X,ha,ta,la,xa,Ba,La,Za,ab,Z,na,Ha,Sa,Q,ra;function c(qa){var O;O={};qa.forEach(function(ia){ia.mediaType !== m.u.Ga && (O[ia.mediaType]=ia.Zm());});return O;}Object.defineProperties(b,{__esModule:{value:!0}});b.sca=void 0;l=a(5163);f=a(57055);k=a(50954);d=a(42866);g=a(42866);n=a(12043);h=a(85668);m=a(27364);p=a(9225);q=a(74029);u=a(47870);t=a(62558);w=a(14895);v=a(7881);y=a(42186);x=a(83386);z=a(13043);A=a(66709);B=a(95971);C=a(48641);D=a(34848);E=a(33285);G=l.__importDefault(a(76733));F=a(48154);J=a(88985);M=a(99384);L=a(92589);K=a(97810);P=a(93514);H=a(58726);I=a(124);N=a(23671);R=a(90468);X=a(41054);ha=a(16236);ta=a(84975);la=a(10814);xa=a(98468);Ba=a(21690);La=a(58730);Za=a(60857);ab=a(63037);Z=a(43603);na=a(56844);Ha=a(45609);Sa=a(22486);r=a(88801);Q=a(36654);ra=r.dw.Qla;a=(function(){function qa(O,ia,va,Oa,eb,Xa,qb,zb,Ta,bb){this.rj=O;this.ASa=ia;this.config=va;this.id=Oa;this.Ts=Xa;this.yj=qb;this.Jyb=zb;this.Lk=bb;this.RJ=!1;this.FJ=void 0;this.Sma=[];this.zj=this.Va=this.Nn=void 0;this.Mub="2.0";this.P3a=this.u2=this.Cm=this.wha=void 0;this.Ya=h.rm.CLOSED;this.Zga=!0;this.g3=!1;this.oI=this.kZ=this.aF=void 0;this.FUa=new f.De();this.oB=0;this.Vaa=!1;this.XOb();this.console=new n.platform.Console("ASEJS_PLAYGRAPH","asejs",("").concat(this.id));this.Yg=new E.Su({ro:10,qn:this,source:"AsePlaygraph",console:this.console});this.events=new f.EventEmitter();this.Lxa(O);this.Za=new ta.vMa();this.pg=new Ha.xMa(this.console);this.Apa=new (this.config.L7?N.HFa:I.IFa)(this.config,d.L.Na(this.config.LM),{parent:function(kb){return kb.sU();},next:this.ALb.bind(this)},this.events,this.console);this.Waa=new u.FOa(this.console,this.events);this.IS={OB:va.UV || Infinity};this.Z=new w.bfa(this);this.Ad=new v.MQ(this.Z.sa,this.console,"playgraph",1);this.aPb();this.Ze=new la.ECa(this.console,va,eb,this.events,this,this.vq);this.D3=new La.rCa(this.Ad,this.vq,this.config,this.Rj.bind(this),this.Qd,this.console);this.x9=this.Ze.x9.bind(this.Ze);this.zW=this.Ze.zW.bind(this.Ze);this.G9=this.Ze.G9.bind(this.Ze);this.q9=this.q9.bind(this);this.o9=this.o9.bind(this);this.p9=this.p9.bind(this);this.QH=this.QH.bind(this);this.fu=new z.Gfa(va);this.TOb();this.fu.Fe(new C.ox(this.Ze.Yg));this.fu.Fe(new D.JLa(this.MLb.bind(this)));this.fu.Fe(new C.ox(this.Yg));this.fu.Fe(new F.uMa(this.Za,this));this.fu.Fe(new M.ZHa(this));this.fu.Fe(new L.QOa(this.Ad));this.leb=new na.EOa(this,this.console,Ta);this.m8=new J.wIa(this.vq,this.console,this.events);this.Jm=new Sa.zMa(this.E$.bind(this));this.Rxa((0,y.NK)(),(0,y.OK)(this.config));}Object.defineProperties(qa.prototype,{parent:{get:function(){return this.Nn;},set:function(O){this.Nn=O;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{state:{get:function(){return this.Ya;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{vr:{get:function(){return !(this.Z instanceof w.bfa);},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{Vc:{get:function(){return this.FJ;},set:function(O){this.FJ=O;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{mPb:{get:function(){return this;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{da:{get:function(){return this.rj;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{weight:{get:function(){return this.ASa;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{vh:{get:function(){(0,t.assert)(this.wr,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.Cm.position;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{ecb:{get:function(){(0,t.assert)(this.wr,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.jG(this.vh).Ml;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{Qd:{get:function(){return this.Ze.state;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{Dj:{get:function(){return this.Ze.Dj;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{wr:{get:function(){return void 0 !== this.Cm;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{zg:{get:function(){return this.Z.Od?this.Z.zg:this.vh;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{Ld:{get:function(){var O;return this.Z.Od?this.Z.Ld:(null === (O=this.Cm) || void 0 === O?void 0:O.jq) || this.ecb;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{Uvb:{get:function(){return this.Fpb;},enumerable:!1,configurable:!0}});Object.defineProperties(qa.prototype,{Lba:{get:function(){return this.Zsb;},enumerable:!1,configurable:!0}});qa.prototype.aPb=function(){this.vq=new v.MQ(new B.r1({li:!0,currentTime:function(){return d.L.Na(n.platform.time.wa());},speed:1}),this.console,"wallclock");};qa.prototype.TOb=function(){var O;O=this;(0,Z.SWa)({Ze:this.Ze,vq:this.vq},v.Lg.jD(d.L.Na(this.config.XW)),function(){O.Z.Od && O.Z.bz && (O.Ze.state.value === m.Sc.$j || O.Ze.state.value === m.Sc.ee) && O.wE(O.Z.bz);},"buffering");};qa.prototype.XOb=function(){var O;O=this;this.Zv=function(ia){var va,Oa,eb;Oa=O.navigator.me(ia.position.I);if((Oa=O.Moa(Oa)) && O.Z.Od){eb=(0,K.vna)(O.Z.Za.filter(function(Xa){return Xa.v.id === ia.position.I;}),ia.playerTimestamp,{mWa:!0});eb && (null === (va=O.Z.rl) || void 0 === va?void 0:va.Maa({v:eb.v,get NY() {return eb.Ua.qa(eb.v.se);}},Oa,O.zg.offset,!0,!1,void 0));}O.Jm.start();};this.vW=function(){O.yj("onDrmReady");};this.qWb=function(ia){ia=ia.newValue;O.RJ || (O.RJ=ia);};};qa.prototype.open=function(){this.Zga=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.Ya !== h.rm.CLOSED)return !1;this.Ya=h.rm.OPEN;return !0;};qa.prototype.Oa=function(){this.vq.Oa();this.Ad.Oa();this.Ya !== h.rm.CLOSED && (this.Hf(),this.Jm.Oa(),this.Ze.stop(),this.Ya=h.rm.CLOSED,this.vr || this.Z.Oa(),this.m8.Oa());};qa.prototype.myb=function(O,ia,va){O=(0,xa.Rma)(this.Za,this.QH.bind(this),O,ia,va).tVa;return this.gVa(O);};qa.prototype.uz=function(O,ia,va){var Oa,eb,Xa,qb,zb,Ta,bb;Oa=this;eb=this.aF;Xa=this.kZ;qb=this.oI;this.aF=O;this.kZ=ia;this.oI=va;ia=(0,xa.Rma)(this.Za,this.QH.bind(this));zb=ia.tVa;O=ia.Gwb;ia=ia.yub;if(0 === zb.length)return !0;if(!this.gVa(zb))return (this.aF=eb,this.kZ=Xa,this.oI=qb,!1);Ta=this.zg;this.Z.YN(zb);this.Z.VY(ia);bb=this.jG(Ta).Ml;O.forEach(function(kb){var sb;sb=kb.Sa;sb.uz(kb.Bd,Ta.I === sb.v.id?bb:void 0,void 0 !== Oa.Za.v6(sb),zb);});this.Ze.NWb(Ta,O[0].Bd);return !0;};qa.prototype.NK=function(O){return (0,y.NK)(this.config,O);};qa.prototype.OK=function(O){return (0,y.OK)(this.config,O);};qa.prototype.pU=function(O,ia){var va,Oa;va=this.navigator.me(O);Oa=this.navigator.me(ia);return {j9b:va.QNb(ia),JS:ia !== O && this.Za.has(ia) && this.Za.Np(ia)[0].hf,j4:Oa.se.G,pta:this.Moa(va)};};qa.prototype.Rj=function(O,ia,va,Oa){var eb,Xa,qb,zb;eb=this;void 0 === Oa && (Oa=!0);if(!ia)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(Oa && this.pg.get(O))va || this.pg.set(O,ia);else {qb=this.bU(O)[0];zb=this.navigator.me(O);this.zg.I === O && qb && (null === (Xa=this.Z.rl) || void 0 === Xa?void 0:Xa.Maa({v:qb.v,get NY() {return qb.Ua.qa(qb.v.se);}},ia,this.zg.offset,Oa,va,void 0));Oa || (O={offset:d.L.Ia,I:ia},this.Cm={position:O,hf:!0,Yfb:O});va?this.pg.g3b(zb.id,ia):this.pg.set(zb.id,ia);this.Jm.start();Oa && zb.ow && 0 < zb.ow.length && ((0,t.assert)(qb),qb.pba(zb.ow) && this.bU(ia).forEach(function(Ta){return eb.Cw(qb,Ta);}));Oa || this.Ze.E9(this.vh);}};qa.prototype.gVa=function(O){var ia,va;if(0 === O.length)return !0;if(this.Z.ZH && this.Z.R7.value.qa(this.Z.Ld).lessThan(d.L.Na(5E3)))return !1;O=this.Z.Za;if(!O.length)return !0;va=null === (ia=O[0]) || void 0 === ia?void 0:ia.la.J;return !O.some(function(Oa){return Oa.la.J !== va;});};qa.prototype.Cw=function(O,ia){var va;va=this;O=O.Hb.qa(ia.v.se);ia.Cw(O);this.Za.PJb(ia).forEach(function(Oa){return va.Cw(ia,Oa);});};qa.prototype.gj=function(O){this.navigator.gj(O);this.Jm.start();};qa.prototype.Rxa=function(O,ia){this.Fpb=O;this.Zsb=ia;this.state === h.rm.yl && this.yj("setStreamFilters");};qa.prototype.Ktb=function(O){(0,t.assert)(-1 === this.Sma.indexOf(O),"Attempted to add the same evaluation hook twice");this.Sma.push(O);};qa.prototype.C3b=function(O){this.Ts.Q0b(O);};qa.prototype.RC=function(O,ia){this.haa(O,ia);};qa.prototype.haa=function(O,ia,va){var Oa,eb,Xa,qb,zb;Xa=this.da;qb=(0,H.Zgb)(Xa,O);if(qb.vM){zb=this.d2b(Xa,O,ia);if(void 0 === zb)this.qf(("Invalid seekPosition after sanitization to ").concat(O.I) + ("(").concat(O.offset.G,"ms)") + (", reason: ").concat(qb.reason),null === (Oa=Xa.O[O.I]) || void 0 === Oa?void 0:Oa.J);else if(void 0 === this.aF || void 0 === this.kZ)this.qf("No track selectors available");else if((Oa=!(this.vr && this.Z.Rp) && (0,H.A2a)(null === (eb=this.Cm) || void 0 === eb?void 0:eb.Yfb,zb),this.events.emit("seeking",{type:"seeking",position:O,duplicate:Oa}),!Oa)){this.u2=va;this.wr?(this.rza(zb),this.PVa(O)):this.Za.empty && va && (va=this.Z.aG()) && (this.rza(zb,{I:va.v.id,offset:va.xd}),this.PVa(O));O=this.i1a();try{this.Hf(!0);this.Lyb();this.Cm={position:zb,Yfb:zb,hf:!1,jq:ia};this.P3a=ia?ia.qa(this.ecb):d.L.Ia;this.Ze.E9();this.Ya=h.rm.yl;this.Jm.start();}finally{O.release();}}}else this.qf(("Invalid seekPosition to ").concat(null === O || void 0 === O?void 0:O.I) + ("(").concat(O.offset.G,"ms)") + (", reason: ").concat(qb.reason),null === (zb=Xa.O[O.I]) || void 0 === zb?void 0:zb.J);};qa.prototype.rza=function(O,ia,va,Oa){var eb,Xa,qb;void 0 === va && (va=!1);qb=this.navigator.me(null !== (eb=null === ia || void 0 === ia?void 0:ia.I) && void 0 !== eb?eb:this.zg.I);null === (Xa=this.Z.rl) || void 0 === Xa?void 0:Xa.Maa({v:qb,NY:qb.duration},O.I,ia?ia.offset:this.zg.offset,!1,va,Oa);};qa.prototype.PVa=function(O){var ia,va;if((null === (ia=this.Z.aG()) || void 0 === ia?void 0:ia.v.id) === O.I){if((this.pg.Myb(O.I),!this.pg.get(O.I) && this.Z.Rp)){O=this.Z.Za;va=this.Z.aG();va && (O=(0,g.ec)(O,function(Oa){return Oa.parent === va;})) && this.pg.set(va.v.id,null === O || void 0 === O?void 0:O.v.id);}}else this.pg.Bka();};qa.prototype.i1a=function(){var O,ia;O=this;ia=this.Za.filter(function(va){return va.v.J !== k.Dq;}).map(function(va){return O.Ts.Co(va.v.J).Hy;});return new x.y0(function(){ia.forEach(function(va){return va.release();});},this.console).Ws();};qa.prototype.Hf=function(O){var ia,va,Oa;Oa=this.x2a();this.Za.reset();if(!O && (this.pg.Bka(),Oa.length))try{for(var eb=l.__values(Oa),Xa=eb.next();!Xa.done;Xa=eb.next()){Xa.value.Nab();}}catch(zb){var qb;qb={error:zb};}finally{try{Xa && !Xa.done && (ia=eb.return) && ia.call(eb);}finally{if(qb)throw qb.error;}}this.Ad.rf();this.Z.reset();this.Cm=void 0;this.D3.reset();null === (va=this.FUa) || void 0 === va?void 0:va.clear();this.Ya === h.rm.yl && (this.Ya=h.rm.OPEN);};qa.prototype.bU=function(O){return this.Za.Np(O);};qa.prototype.rh=function(O){this.Ze.rh(O);(0,t.assert)(this.Z.Br,"Must have an appended branch on underflow");this.Z.JTa && this.Ze.Dj && (this.console.trace("End of stream flagged implying branch completion, declaring buffering complete"),O=this.io(this.Ld),this.Ze.ek("complete",O.PO,O.QO));this.D3.oza(this.Z.Br,this.Ld);this.yj("onUnderflow");this.events.emit("underflow");};qa.prototype.Fe=function(O){this.fu.Fe(O);};qa.prototype.qv=function(O){this.Fe(new A.wNa(O));this.Ze.zWb();return this.Avb(O);};qa.prototype.Avb=function(O){var ia;ia=this.Z;if(!this.Z.tza(O))return (this.qf("player in use"),!1);this.Z=O;this.Ad.l3(this.Z.sa);this.Z.events.on("segmentPresenting",this.Zv);this.Z.events.on("drmReady",this.vW);this.Z.Kr.addListener(this.qWb);O=this.oLb();0 < O.length && this.Z.VY(O);this.events.emit("playerChanged",{type:"playerChanged",old:ia,"new":this.Z});return !0;};qa.prototype.jG=function(O){var ia,va;ia=O.offset;va=this.navigator.me(O.I);O=va.J;ia=va.se.add(ia);return {J:O,Ml:ia};};qa.prototype.il=function(O,ia){var va,Oa,eb;eb=this.Z.il(O);if(void 0 !== eb)return eb;if(null === (Oa=null === (va=this.Cm) || void 0 === va?void 0:va.jq) || void 0 === Oa?0:Oa.equal(O))return this.u2 || this.vh;va=this.Z.Br;return (0,H.il)(O,{ya:this,dPb:va && ({id:va.v.id,y2b:va.Pr})},ia);};qa.prototype.KB=function(O,ia){void 0 === ia && (ia=!1);O=this.JU(O,ia).next();if(!O.done)return (O=O.value,null === O || void 0 === O?void 0:O.jq);};qa.prototype.JU=function(O,ia){var va,Oa,eb,Xa,qb,zb,Ta,bb,kb,sb,pb,Cb,Ab;void 0 === ia && (ia=!1);return l.__generator(this,function(Kb){switch(Kb.label){case 0:(va=this.Z.JU(O),Oa=va.next(),Kb.label=1);case 1:return Oa.done?[3,3]:[4,Oa.value];case 2:return (Kb.Wa(),Oa=va.next(),[3,1]);case 3:if(!ia)return [2];eb={};Xa=this.zg;this.vr && this.Z.Od && (Ta=this.Z.Br) && (Xa={offset:d.L.Ia,I:Ta.v.id},qb=Ta.Hb.qa(this.Z.Ld),zb=Ta.v);qb || (zb=this.navigator.me(Xa.I),qb=zb.se.add(Xa.offset).qa(zb.Jf));(0,t.assert)(zb,"Current segment should be defined by here");bb=this.Ld;if(zb.v.Fb && zb.id !== O.I)return [3,6];if(zb.id !== O.I)return [3,5];kb=O.offset.qa(Xa.offset);return [4,{ZK:kb,jq:bb.add(kb)}];case 4:(Kb.Wa(),Kb.label=5);case 5:return [2];case 6:(sb=this.navigator.me(zb.v.Fb),pb=this.navigator.c5a(sb),Cb=pb.next(),Kb.label=7);case 7:if(Cb.done)return [3,11];Ab=Cb.value;if(eb[Ab.id])return [3,11];eb[Ab.id]=!0;if(Ab.id !== O.I)return [3,9];kb=O.offset.add(qb);return [4,{ZK:kb,jq:bb.add(kb)}];case 8:return (Kb.Wa(),[2]);case 9:(qb=qb.add(Ab.duration),Kb.label=10);case 10:return (Cb=pb.next(),[3,7]);case 11:return [2];}});};qa.prototype.Vbb=function(O){return (0,H.bxa)(this.da,O);};qa.prototype.Fp=function(O){return (0,P.Fp)(this.da,O.J,O.Ml);};qa.prototype.d2b=function(O,ia,va){var Oa,eb;Oa=(0,H.bxa)(O,ia);eb=d.L.Na(1E4);if(!Oa || !va || va.greaterThan(eb))return Oa;O=ia.offset.add(d.L.Na(O.O[ia.I].ta));va=va.qa(O);if(va.ji(d.L.Ia))return Oa;eb=d.L.max(d.L.Ia,O.qa(eb)).add(va);if(eb.ji(d.L.Ia))return Oa;eb=Oa.offset.add(eb);return {I:Oa.I,offset:eb};};qa.prototype.ut=function(O,ia){var va;O="string" === typeof O?{J:this.da.O[O].J,Ml:d.L.Na(ia)}:O;if(O.J !== k.Dq){ia=this.Ts.Co(O.J);try{return null === (va=ia.la) || void 0 === va?void 0:va.ut(this.config,O.Ml.G);}finally{ia.Hy.release();}}};qa.prototype.s6=function(){return (0,Za.j0a)(this.Za,this.r7.bind(this));};qa.prototype.r7=function(O){O=this.Za.v6(O);return void 0 === O || O.ai && this.r7(O);};qa.prototype.r6=function(){return this.IS.OB;};qa.prototype.oKb=function(O){return (0,ab.j2a)(this.Za,O);};qa.prototype.io=function(O){var va,Oa,eb,Xa;function ia(qb){return qb?Math.max(qb - O.G,0):0;}va=this;this.Za.NF(function(qb){var zb,Ta,bb;zb=qb.NL(m.u.$);Ta=qb.NL(m.u.X);bb=qb.NL(m.u.Ga);if(qb.v.zY || !va.Za.Fpa(qb) || !qb.ai){if(!Oa || zb < Oa)Oa=zb;if(!eb || Ta < eb)eb=Ta;if(!Xa || bb < Xa)Xa=bb;}return qb.ai;});return {PO:ia(Oa),QO:ia(eb),tfb:ia(Xa)};};qa.prototype.UF=function(){var O,ia,va,Oa;va=this.wr?this.io(this.Ld):{PO:0,QO:0,tfb:0};Oa=G.default.instance().get();return {totalabuflmsecs:va.PO,totalvbuflmsecs:va.QO,totaltbuflmsecs:va.tfb,abuflbytes:0,vbuflbytes:0,tbuflbytes:0,currentBandwidth:null !== (ia=Number(0 < Oa.confidence) && (null === (O=Oa.gb) || void 0 === O?void 0:O.Ca)) && void 0 !== ia?ia:0};};qa.prototype.$L=function(){var O,ia,va,Oa,eb,Xa,qb,zb;O=this;if(this.zr())return (this.Yg.Ys({isStreamingFailureReported:!0}),[]);va=this.Za.size;this.Yg.Ys({branchCount:va});if(!this.wr || 0 === va)return [];Oa=this.Ld;eb=this.zg;Xa=[];va=this.navigator.me(this.zg.I);qb=va.duration;zb=this.pg.get(va.id)?1:null !== (ia=va.qq) && void 0 !== ia?ia:1;ia=this.Za.reduce(function(Ta,bb,kb){var sb,pb,Cb,Pb,Xb,Jb,Qb;Cb=bb.q6();try{for(var Ab=l.__values(Cb),Kb=Ab.next();!Kb.done;Kb=Ab.next()){Pb=Kb.value;if(!Pb.hn()){Xb=("p").concat(O.id,"-").concat(kb,"-").concat(null === (pb=bb.Cb) || void 0 === pb?void 0:pb.G);Jb=O.FMb(Pb);Qb=new Q.MMa(O,Pb,Xb,zb,qb.G,Jb.G,Oa.G,eb);Ta.push(Qb);}!Pb.yr() && O.Yg.enabled && Xa.push({segmentId:Pb.I,isDoneStreaming:Pb.hn(),isNormalized:Pb.hf(),needsHeaderRequest:Pb.track.jW});}}catch(Zb){var Nb;Nb={error:Zb};}finally{try{Kb && !Kb.done && (sb=Ab.return) && sb.call(Ab);}finally{if(Nb)throw Nb.error;}}return Ta;},[]);this.Yg.Ys({nonStreamables:Xa});return ia;};qa.prototype.FMb=function(O){var ia;ia=O.sU();if(this.config.e5 && ia && this.navigator.MNb(ia.Sa.v,O.I))return O.Rk;for(;ia && !ia.Hua;){O=ia;ia=ia.sU();}return O.Rk;};qa.prototype.ALb=function(O){var ia;if(!O.Sa.Rd){ia=O.Sa.v.v.Fb;if(ia)return (ia=l.__read(this.Za.Np(ia),1)[0],null === ia || void 0 === ia?void 0:ia.cG(O.mediaType));}};qa.prototype.OWb=function(O){var ia,va;if(!this.Waa.zr()){ia=void 0;va=this.Z.zg;va && (ia=this.navigator.me(va.I).J);this.qf("BufferingStateTracker: Temporary failure while buffering",ia,"NFErr_MC_StreamingFailure",null === O || void 0 === O?void 0:O.rg,null === O || void 0 === O?void 0:O.dn,null === O || void 0 === O?void 0:O.$i);}};qa.prototype.qf=function(O,ia,va,Oa,eb,Xa,qb){void 0 === qb && (qb=!1);"string" === typeof O?this.Waa.qf(O,va,{networkErrorCode:Oa,httpCode:eb,nativeCode:Xa,viewableId:ia,temporaryFailure:qb}):this.Waa.X0b(O);return !0;};qa.prototype.zza=function(O,ia){ia=this.o6(ia,O);this.events.emit("logdata",{type:"logdata",target:O,fields:ia});};qa.prototype.o6=function(O,ia){void 0 !== O && this.m8.qRb(O);ia=this.fu.ii(O,ia);O === z.mc.gi && (O=this.UF(),ia.vbuflmsec=O.totalvbuflmsecs,ia.abuflmsec=O.totalabuflmsecs,ia.vbuflbytes=O.vbuflbytes,ia.abuflbytes=O.abuflbytes);return ia;};qa.prototype.egb=function(O){this.IS=O;this.yj("updateBudget");};qa.prototype.zr=function(){return this.Waa.zr();};qa.prototype.zgb=function(O){O !== this.weight && (this.ASa=O,this.events.emit("weightUpdated"));};qa.prototype.tu=function(O){var ia,va,Oa,eb,Xa,qb,bb,kb,sb,pb,Cb,Ab,Kb,Pb,Xb,Jb;Oa=(0,ha.$Ua)(this.da,O);eb=Oa.eu;Xa=Oa.hyb;qb=Oa.Q7b;if([Oa.nS,eb,Xa].every(function(Nb){return !Nb.length;}))return (this.Lxa(O),this.Jm.start(),{ia:!0,reason:m.Iq.Jnb});if(0 === Xa.length && 0 === qb.length && this.vr && this.Z.Od)return {ia:!1,reason:m.Iq.Smb};if(this.Z.Za.some(function(Nb){return -1 < eb.indexOf(Nb.v.id);}))return {ia:!1,reason:m.Iq.Gob};if(this.wr && !this.Z.Od && -1 < eb.indexOf(this.vh.I))return {ia:!1,reason:m.Iq.imb};if(this.wr)try{for(var zb=l.__values(Xa),Ta=zb.next();!Ta.done;Ta=zb.next()){bb=Ta.value;kb=this.da.O[bb];sb=kb.ta;pb=kb.va;Cb=kb.J;Ab=O.O[bb];Kb=Ab.va;Pb=Ab.ta;Xb=Ab.J;if(this.zg.I === bb && Kb !== pb){if(!Kb)return {ia:!1,reason:m.Iq.Hob};Jb=d.L.Na(Kb - Pb);if(null === (va=this.zg.offset) || void 0 === va?0:va.greaterThan(Jb))return {ia:!1,reason:m.Iq.Vhb};}if(sb !== Pb)return {ia:!1,reason:m.Iq.Vkb};if(Cb !== Xb)return {ia:!1,reason:m.Iq.Wkb};}}catch(Nb){var Qb;Qb={error:Nb};}finally{try{Ta && !Ta.done && (ia=zb.return) && ia.call(zb);}finally{if(Qb)throw Qb.error;}}this.Lxa(O);this.Jm.start();return {ia:!0,reason:m.Iq.Inb};};qa.prototype.DB=function(O){O=this.bU(O);O=0 < O.length?O[0]:void 0;if((O=null === O || void 0 === O?void 0:O.nr()) && 0 !== O.length)return d.L.min.apply(d.L,l.__spreadArray([],l.__read(O.map(function(ia){return ia.DB();})),!1));};qa.prototype.Lxa=function(O){var ia;ia={type:"playgraphUpdating",VVb:this.rj,TUb:O};this.rj=O;this.navigator?this.navigator.update(O):this.navigator=new X.EMa(O);this.jNb=(0,ha.EWa)(this.navigator);this.I8b();this.events.emit("playgraphUpdating",ia);};qa.prototype.I8b=function(){var O,ia,va,Oa,eb;va=this.Z && this.vr && this.Z.Od?this.zg:void 0;if(va){Oa=this.navigator.me(va.I);va=null === (O=this.Z.rl) || void 0 === O?void 0:O.b5;if((O=this.Moa(Oa)) && O !== va && this.Z.Rp){eb=this.Z.bz;null === (ia=this.Z.rl) || void 0 === ia?void 0:ia.Maa({v:eb.v,get NY() {return eb.Ua.qa(eb.v.se);}},O,this.zg.offset,!0,!1,void 0);}}};qa.prototype.AW=function(O,ia){this.abb(O);O.uL.addListener("criticalNetworkError",this.x9);O.uL.addListener("temporaryNetworkError",this.zW);O.uL.addListener("updatingLastSuccessEvent",this.G9);O.events.addListener("logdata",this.q9);O.events.addListener("liveEventTimesUpdated",this.o9);O.events.addListener("liveLoggingInfoUpdated",this.p9);O.aa && O.KZb();this.Ya === h.rm.yl && ia && this.Ybb();};qa.prototype.iua=function(O){0 === this.Za.filter(function(ia){return ia.cn && ia.la === O;}).length && this.abb(O);};qa.prototype.abb=function(O){O.uL.removeListener("criticalNetworkError",this.x9);O.uL.removeListener("temporaryNetworkError",this.zW);O.uL.removeListener("updatingLastSuccessEvent",this.G9);O.events.removeListener("logdata",this.q9);O.events.removeListener("liveEventTimesUpdated",this.o9);O.events.removeListener("liveLoggingInfoUpdated",this.p9);};qa.prototype.PSa=function(O){var ia;(0,t.assert)(O.hf,"expected branch to be normalized on addBranchToPlayer");this.Z.Rp || (null === (ia=this.Cm) || void 0 === ia?0:ia.hf) || this.dIb(O);this.Ze.Tza(O.Bd);this.Z.Rp && (ia=this.Z.Br) && this.pg.clear(ia.v.id);this.Z.Jma(O);this.D3.oza(O,this.Ld);};qa.prototype.dIb=function(O){(0,t.assert)(O.Ka,"Normalized branch should have a defined content start timestamp");(0,t.assert)(this.Cm,"AsePlaygraph should have a seek position on first branch normalization");(0,t.assert)(!this.Cm.hf,"Seek position should not already be normalized on first branch normalization");this.Cm=l.__assign(l.__assign({},this.Cm),{position:{I:O.v.id,offset:O.Ka.qa(O.v.se)},hf:!0});this.Ze.$2b(this.Cm.position,O.Bd.filter(function(ia){return ia.mediaType === m.u.$;})[0]);};qa.prototype.Lyb=function(){var O;this.D3.reset();this.Z.$A();this.Cm=void 0;null === (O=this.FUa) || void 0 === O?void 0:O.clear();};qa.prototype.E7=function(O,ia,va){ia=this.leb.Qxb(ia,O.nk.mediaType,1 > va || !O.nk.Sa.Rd && !this.r7(O.nk.Sa));1 === va && "global" === (0,m.Yva)(ia.reason) && this.Ze.lWb(O.nk.mediaType,this.io(this.Ld));return ia;};qa.prototype.AG=function(O){var ia,va,Oa,eb,Xa,qb,zb,Ta,bb,kb,sb,pb,Cb,Ab;ia=this;Xa=O.nk;O=Xa.mediaType;qb=this.Apa.icb(this.Qd.value,this.Ld,Xa.ZC,Xa.meb,this.Z.playbackRate,Xa,this.Uvb,this.Lba,this.g3);zb=qb.stream;Ta=qb.uw;bb=qb.lM;kb=qb.Wr;sb=qb.sn;pb=qb.reason;Cb=qb.c_a;qb=qb.jcb;if(!zb)return {Ih:!1,reason:pb || "selectLocationsAndStream"};if(this.Qd.value === m.Sc.yl && Xa.Sa && Xa.Sa.la.Vl && !Xa.Sa.la.WV && !this.Z.gV(Xa.Sa.la.J)){pb=Xa.ZC.G - this.Ld.G;if(!Xa.Sa.la.Lp && pb > this.config.J6a)return {Ih:!1,reason:"maxBufferingCompleteBufferInMs"};if(!zb.ki && zb.mediaType === m.u.X && pb >= this.config.usa)return {Ih:!1,reason:"maxFastPlayBufferInMs"};}pb=m.u.X;if(null === (va=Xa.Sa) || void 0 === va?0:va.Bd.every(function(Kb){return Kb.mediaType === m.u.$;}))pb=m.u.$;this.Ze.Dj && O === pb && this.Ze.o3b(Xa.Io.ncb,zb.bitrate,bb);this.h3b(Xa.Sa.v,Ta);va=null === (Oa=Xa.Sa.gs) || void 0 === Oa?void 0:Oa.G;Oa=Xa.Lfb(zb,sb,kb);if(Oa.Ih){this.Zga && (this.aK("firstDriveStreaming"),this.Zga=!1);if(0 < this.oB){Ab=null === (eb=Xa.Sa.gs) || void 0 === eb?void 0:eb.G;va && Ab && (this.oB-=va - Ab,0 >= this.oB && this.Ybb());}this.events.emit("requestIssued",{type:"requestIssued",mediaType:O,result:qb,streamList:Cb});}else "exceedsLiveEdge" === Oa.reason && (null === (Ab=this.wha) || void 0 === Ab?void 0:Ab.Oa(),this.wha=this.vq.fB(v.Lg.jD(zb.Tl().Md),function(){ia.wha=void 0;ia.yj("liveEdgeRetry");}));return Oa;};qa.prototype.v3b=function(O){this.config.enableCprVideo=O;};qa.prototype.h3b=function(O,ia){var va;va=this;ia.forEach(function(Oa){Oa.la.Gcb(Oa,O,function(){var eb,Xa;(0,t.assert)(va.wr,"Speculative header callback after streaming is cancelled");eb=va.Ld.G;Xa=eb + va.config.dW;return {pf:[],Qd:va.Ze.state.value,zo:Xa,Bk:Xa,Sk:eb};});});};qa.prototype.Ybb=function(){var O;O=this;this.Jm.Oba(Sa.JD.Tw,function(){return O.Jm.start();});};qa.prototype.E$=function(){var O,ia,va,Oa,eb;O=this;if(this.Ya === h.rm.yl){ia=this.zg;va=this.Z.Za;Oa=this.Za.YMb();eb=l.__read(va,1)[0];ia=eb?this.navigator.me(eb.v.id):this.navigator.me(ia.I);va=va.map(function(Xa){return {id:Xa.v.id,duration:Xa.Hb.qa(Xa.Cb).G};});Oa=(0,R.E$)(this.console,this.jNb,ia,Oa,this.pg,va,d.L.Na(this.config.Ewb),this.config.Zsa,d.L.Na(this.config.Hja));va=Oa.Fwa;this.oB=Oa.oB || 0;Oa=this.Sma.reduce(function(Xa,qb){return qb(Xa);},va);this.Za.e8b(Oa,function(Xa,qb){var zb,Ta;Ta=O.navigator.me(Xa);Xa=Xa === O.vh.I?O.vh.offset:Xa === (null === (zb=O.u2) || void 0 === zb?void 0:zb.I)?O.u2.offset:d.L.Ia;zb=Ta.se.add(Xa);return O.C7b(Ta,zb,qb);}).eu.forEach(function(Xa){Xa.Hf("aborted");});this.Iab();this.yVa();this.Jm.Oba(Sa.JD.Tw,function(){var Xa;(null === (Xa=O.Za.root()) || void 0 === Xa?0:Xa.cn) && O.yj("reevaluateBranches");O.Jm.bW(Sa.JD.EQ);});this.events.emit("branchesReevaluated",{type:"branchesReevaluated"});}};qa.prototype.x2a=function(){return (0,g.cja)(this.Za.filter(function(O){return O.cn;}).map(function(O){return O.la;}));};qa.prototype.Iab=function(){var O,ia;O=this;if(this.Ya === h.rm.yl){if(!this.Z.Br){ia=l.__read(this.Za.Np(this.vh.I),1)[0];(null === ia || void 0 === ia?0:ia.hf) && this.PSa(ia);}if(this.Z.Br)for(;;){ia=this.Y0a(this.Z.Br.v);if(!ia)break;ia=l.__read(this.Za.Np(ia).filter(function(va){return va.parent === O.Z.Br;}),1)[0];if(!ia)break;if(null === ia || void 0 === ia || !ia.hf)break;else if(this.Z.G2a(ia))break;this.PSa(ia);}}};qa.prototype.Moa=function(O){var ia,va,Oa,eb;if(this.Z.Rp){ia=this.Z.bz;va=!1;Oa=this.Z.Za.filter(function(Xa){va || (va=Xa === ia);return va;});eb=(0,g.Im)(Oa,function(Xa){return Xa.v.id === O.id;});if(Oa=Oa[eb + 1])return Oa.v.id;}return this.Y0a(O);};qa.prototype.Y0a=function(O){var ia;ia=this.pg.get(O.id);if(void 0 !== ia)return ia;O=this.navigator.gKb(O);if(1 === O.length)return O[0].id;};qa.prototype.yVa=function(){var O;O=this.Za.empty || 0 !== this.hJb();O || this.Vaa?O && this.Vaa && (this.Vaa=!1):(this.Ze.Dj && (O=this.io(this.Ld),this.Ze.ek("complete",O.PO,O.QO)),this.Erb(),this.Vaa=!0);};qa.prototype.hJb=function(){return this.Za.filter(function(O){return !O.ai;}).length;};qa.prototype.wE=function(O){this.r7(O) && this.Ze.uka(this.Ld,this.Z.playbackRate,O,{R3:this.Apa.R3.bind(this.Apa,this.leb)});};qa.prototype.bWb=function(O,ia){var va,Oa;va=this;if(ia.didNormalizeSegment){Oa=Ba.XNa.gNb(O);(0,t.assert)(Oa,"Segment should be normalized");Promise.resolve().then(function(){return va.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:O.v.id,normalizedStart:ia.segmentContentStart,normalizedEnd:ia.branchContentEnd,viewableContentEnd:Oa.khb,viewableEarliestContentEnd:Oa.lhb,media:c(O.Bd)});});}Promise.resolve().then(function(){va.Iab();});this.yj("branchNormalized");};qa.prototype.cWb=function(){this.yVa();};qa.prototype.aWb=function(){this.Jm.start();};qa.prototype.JCb=function(O,ia){var va;va=this;return new p.tCa(O.J,this.Ts.Co.bind(this.Ts),function(Oa,eb,Xa){va.state !== h.rm.CLOSED && (va.AW(eb,Xa),va.Jm.Oba(Sa.JD.EQ,function(){Oa.Rd || va.Drb(Oa,eb,ia);}));},this.iua.bind(this));};qa.prototype.C7b=function(O,ia,va){var Oa,eb;if(this.Jyb(O,ia))throw Error("Not implemented");Oa=this.JCb(O,!va);eb=va?va.Hb.qa(ia):this.P3a || d.L.Ia;O=(0,q.DWa)({config:this.config,console:this.console,v:O,events:this.events,QH:this.QH,en:ia,xd:eb,yt:this.UCb.bind(this),Qd:this.Qd,Ad:this.Ad,II:Oa,LUa:this.Lk,gva:this.Za});this.K5b(O,!!va);return O;};qa.prototype.UCb=function(){return this.Ld.G;};qa.prototype.K5b=function(O,ia){var va,Oa;va=this;Oa=new f.De();Oa.addListener(O.events,"needsRequest",function(){var eb;eb=va.Za.root();eb && !eb.cn || va.yj("branchNeedsHeader");});Oa.addListener(O.events,"branchNormalized",this.bWb.bind(this,O));Oa.addListener(O.events,"lastRequestIssued",this.aWb.bind(this,O));Oa.addListener(O.events,"branchStreamingComplete",this.cWb.bind(this,O));Oa.addListener(O.events,"checkBufferingProgress",this.wE.bind(this,O));Oa.addListener(O.events,"branchDestroyed",function(eb){Oa.clear();va.Za.contains(O) && (va.Za.F0b(O),va.Jm.start());"aborted" === eb.reason && (va.Z.G2a(O) || va.Jm.Oba(Sa.JD.Tw,function(){return va.Crb(O.v.id);}));});Oa.addListener(O.events,"liveMissingSegment",function(eb){va.events.emit("liveMissingSegment",eb);});ia || (this.aK("createDlTracksStart"),O.events.once("requestQueuesCreated",function(){va.aK("createDlTracksEnd");}));};qa.prototype.MLb=function(O){if(this.Z.Od)return this.Z.bz.Ie(O);};qa.prototype.QH=function(O,ia,va,Oa){ia=[[m.u.$,ia || this.aF,"audio_tracks"],[m.u.X,va || this.kZ,"video_tracks"]].map(function(eb){var Xa,qb;Xa=l.__read(eb,3);qb=Xa[0];eb=Xa[1];Xa=Xa[2];if(O.Y && ((0,t.assert)(eb,("Expected mediaType ").concat(qb," track selector to be defined")),qb=O.Y[Xa],eb=eb.jO(O.Y,qb),void 0 !== eb && 0 <= eb && eb < qb.length))return O.getTrackById(qb[eb].TO);}).filter(g.uta);va=Oa || this.oI;O.Y && va && (Oa=O.Y.timedtexttracks,va=va.jO(O.Y,Oa),void 0 !== va && 0 <= va && va < Oa.length && (Oa=O.getTrackById(Oa[va].id)) && ia.push(Oa));return ia;};qa.prototype.oLb=function(){var O;O=new Set();this.Za.map(function(ia){return ia.Bd;}).forEach(function(ia){return ia.forEach(function(va){return O.add(va.mediaType);});});return Array.from(O).sort();};qa.prototype.q9=function(O){this.events.emit("logdata",O);};qa.prototype.o9=function(O){var ia,va,Oa,eb;ia=this;va=O.la;Oa=O.startTime;eb=O.endTime;this.Za.filter(function(Xa){return Xa.cn && Xa.la === va;}).forEach(function(Xa){Xa={type:"liveEventTimesUpdated",I:Xa.v.id,startTime:Oa,endTime:eb};ia.events.emit(Xa.type,Xa);});};qa.prototype.p9=function(O){var ia,va,Oa,eb;ia=this;va=O.la;Oa=O.mediaType;eb=O.info;this.Za.filter(function(Xa){return Xa.cn && Xa.la === va;}).forEach(function(Xa){Xa={type:"liveLoggingInfoUpdated",I:Xa.v.id,mediaType:Oa,info:eb};ia.events.emit(Xa.type,Xa);});};qa.prototype.Drb=function(O,ia,va){(0,t.assert)(O.Bd.length,"Branch should have tracks defined");O={type:"segmentStarting",segmentId:O.v.id,contentOffset:O.xd.G,maxBitrates:{audio:ia.JM[m.u.$],video:ia.JM[m.u.X]},media:c(O.Bd),initial:va};this.events.emit(O.type,O);};qa.prototype.Crb=function(O){O={type:"segmentAborted",segmentId:O};this.events.emit(O.type,O);};qa.prototype.Erb=function(){var O;O={type:"streamerEnd",time:n.platform.time.wa()};this.events.emit(O.type,O);};qa.prototype.aK=function(O){O={type:"startEvent",event:O,time:n.platform.time.wa()};this.events.emit(O.type,O);};l.__decorate([ra.return.Qg()],qa.prototype,"vh",null);l.__decorate([(0,E.Qb)({methodName:"checkCanSetTracks",return:!0})],qa.prototype,"myb",null);l.__decorate([(0,E.Qb)({methodName:"setTracks",return:!0})],qa.prototype,"uz",null);l.__decorate([(0,E.Qb)({methodName:"setNextSegment",up:!0})],qa.prototype,"Rj",null);l.__decorate([(0,E.Qb)({methodName:"seekStreaming"}),l.__param(0,ra.Qg())],qa.prototype,"RC",null);l.__decorate([(0,E.Qb)({methodName:"seekStreamingWithEntryPoint"}),l.__param(0,ra.Qg()),l.__param(2,ra.Qg()),l.__param(2,ra.r9)],qa.prototype,"haa",null);l.__decorate([ra.return.ela(),l.__param(0,ra.Qg())],qa.prototype,"jG",null);l.__decorate([ra.return.Qg()],qa.prototype,"il",null);l.__decorate([l.__param(0,ra.Qg())],qa.prototype,"KB",null);l.__decorate([l.__param(0,ra.Qg())],qa.prototype,"JU",null);l.__decorate([ra.return.Qg(),l.__param(0,ra.Qg())],qa.prototype,"Vbb",null);l.__decorate([ra.return.Qg(),l.__param(0,ra.ela())],qa.prototype,"Fp",null);l.__decorate([l.__param(0,ra.ela()),l.__param(0,ra.I())],qa.prototype,"ut",null);l.__decorate([(0,E.Qb)({methodName:"getStreamables",gk:!0})],qa.prototype,"$L",null);l.__decorate([(0,E.Qb)({methodName:"updatePlaygraphMap",return:!0})],qa.prototype,"tu",null);return qa;})();b.sca=a;},93867:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.OAa=b.HSa=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(42866);d=a(42866);g=a(12043);n=a(27364);h=a(93514);m=a(7881);p=a(49730);q=a(97810);b.HSa=["AD_BREAK_UNAVAILABLE"];u=(function(){function t(w,v){this.J=w;this.Uc=v;this.vX=!1;this.J2=new f.AbortController();}t.isEqual=function(w,v){return v.J === w.J && v.Uc === w.Uc;};return t;})();r=(function(){function t(w,v,y,x,z,A){var B;B=this;this.Ts=w;this.ya=y;this.whb=x;this.config=z;this.console=A;this.items=[];this.events=new l.EventEmitter();v.events.addListener("adBreakComplete",function(){B.ffb=B.whb.sa.currentTime;});this.console=(0,q.Mh)(g.platform,A,"AdBreakHydrator");}t.prototype.j2b=function(w){c.__awaiter(this,void 0,void 0,function(){var v,y,x,z,A;A=this;return c.__generator(this,function(B){switch(B.label){case 0:v=w.map(function(C){return new u(C.J,C.Uc);});y=(0,d.fWa)(this.items,v,u.isEqual);this.items=y.result;y.kwa.forEach(function(C){var D;null === (D=C.J2) || void 0 === D?void 0:D.abort();});p.K && this.console.log("Evaluated schedule",{Oec:y.oub.length,kwa:y.kwa.length,E$a:y.E$a.length,xic:y.result.length});x=this.items.filter(function(C){return !C.vX;}).map(function(C){return A.Pj(C);});if(!(0,n.gn)(this.ya.Qd.value))return [3,5];z=this.items.map(function(C){return A.Ts.Co(C.J).Hy;});B.label=1;case 1:return (B.Vj.push([1,,3,4]),[4,Promise.race(x)]);case 2:return (B.Wa(),[3,4]);case 3:return (z.forEach(function(C){return C.release();}),[7]);case 4:return [3,7];case 5:return [4,Promise.all(x)];case 6:(B.Wa(),B.label=7);case 7:return [2];}});});};t.prototype.Pj=function(w){var v;return c.__awaiter(this,void 0,void 0,function(){var y,x,z,A,B;return c.__generator(this,function(C){switch(C.label){case 0:(p.K && this.console.log("Start scheduling for adbreak",{wkc:w.J,hfc:w.Uc.uj}),null === (v=w.J2) || void 0 === v?void 0:v.abort(),y=new f.AbortController(),w.J2=y,x=(0,h.Fp)(this.ya.da,w.J,w.Uc.Wv),z=(0,f.fja)(y.signal),C.label=1);case 1:return (C.Vj.push([1,,5,6]),[4,Promise.race([this.aua(y.signal).then(function(){return "rebuffer";}),Promise.all([this.O9b(z),this.Q9b(x,z)]).then(function(){return "gatesPassed";}),z.then(function(){return "cleanup";})])]);case 2:A=C.Wa();p.K && this.console.log("Schedule completed for reason",A);if(y.aborted)return [3,4];p.K && this.console.log("Making Item Fetch",{ifc:w.Uc.uj,Er:w.Uc.Wv.G});w.vX=!0;return [4,this.t_b(w.Uc.Zo.fh,w.J,y.signal)];case 3:(C.Wa(),C.label=4);case 4:return [3,6];case 5:return (w.J2 === y && (B=this.items.indexOf(w),-1 !== B && (p.K && this.console.log(("Removing item ").concat(B,", ").concat(this.items.length - 1," left")),this.items.splice(B,1))),[7]);case 6:return [2];}});});};t.prototype.aua=function(w){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){return [2,k.Cq.W9b([this.ya.Qd],function(v){v=c.__read(v,1)[0];return (0,n.gn)(v);},w)];});});};t.prototype.O9b=function(w){var v;v=this;return this.ffb && this.config.m3a?new Promise(function(y){var x,z;x=v.ffb.add(k.L.Na(v.config.m3a));z=v.whb.fB(m.Lg.vu(x),y,"hydratorWaitTask");w.then(function(){return z.Oa();});}):Promise.resolve();};t.prototype.Q9b=function(w,v){var y,x;y=this;if(!this.config.V6a)return Promise.resolve();x=k.L.Na(this.config.V6a);return new Promise(function(z){var A,B;A=y.ya.KB(w,!0);B=y.ya.Ad.fB(m.Lg.vu(A.qa(x)),z,"waitJitHydrateAdBreak");v.then(function(){return B.Oa();});});};t.prototype.t_b=function(w,v,y){var x,z,A,B,C,D;return c.__awaiter(this,void 0,void 0,function(){var E,G,F,J,M,L,K,P,H,I;return c.__generator(this,function(N){switch(N.label){case 0:(E=this.Ts.Co(v),G=E.Hy,N.label=1);case 1:return (N.Vj.push([1,4,5,6]),[4,E.Kz]);case 2:return (N.Wa(),[4,this.Ts.qw({fh:w,J:v})]);case 3:return (F=N.Wa(),y.aborted || (J=F.L2,M=F.jja,p.K && this.console.log("Hydrated response " + ("with ").concat(null === (x=F.L2.Ye) || void 0 === x?void 0:x.length," ads")),this.events.emit("adBreakHydrated",{type:"adBreakHydrated",fh:w,L2:J,jja:M})),[3,6]);case 4:L=N.Wa();if(!y.aborted){if(K=null === (z=L.Nma) || void 0 === z?void 0:z.context)if((P=null !== (A=K.type) && void 0 !== A?A:K.type,H=null !== (B=K.error) && void 0 !== B?B:K.error,"adBreakHydration" === P && (I=null !== (D=null !== (C=H.edgeCode) && void 0 !== C?C:H.code) && void 0 !== D?D:H.code,-1 !== b.HSa.indexOf(I))))return (p.K && this.console.log("AdBreak hydration failed with recoverable error, playback can continue. Hydration will be attempted again if user revisits the adBreak location. " + ("code: ").concat(I,", ") + ("parentViewableId: ").concat(v,", ") + ("adBreakToken: ").concat(w)),this.events.emit("adBreakHydrationSkipped",{type:"adBreakHydrationSkipped",fh:w,zd:v}),[2]);this.events.emit("adBreakHydrationFailed",{type:"adBreakHydrationFailed",fh:w,error:L});}return [3,6];case 5:return (G.release(),[7]);case 6:return [2];}});});};return t;})();b.OAa=r;},22474:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.PAa=void 0;c=a(5163);l=a(12043);f=a(40376);r=(function(){function k(d,g,n,h,m){this.ya=d;this.Ad=g;this.events=n;this.Uc=h;this.console=m;this.pp=0;h.v3 && l.platform.ping && l.platform.ping(h.v3);}Object.defineProperties(k.prototype,{Iza:{get:function(){return this.pp;},enumerable:!1,configurable:!0}});k.prototype.Mta=function(d,g,n,h,m){this.mv && (this.mv.Oa(),this.mv=void 0);this.mv=new f.kOa(this.ya,this.Ad,this.events,this.Uc,d,g,n,h,m,this.console);};k.prototype.v9=function(d){this.mv && (this.mv.Oa(),this.mv=void 0);try{this.events.emit("adBreakEvent",c.__assign(c.__assign({type:"adBreakEvent"},this.Uc.nia.complete),{Qg:d,RE:this.Uc.ru,uj:this.Uc.uj}));this.Uc.Kpa=!0;}catch(g){this.console.error("Impression error event",g);this.pp++;}};k.prototype.Rl=function(){var d;return {ad:null === (d=this.mv) || void 0 === d?void 0:d.Rl(),errors:this.pp};};return k;})();b.PAa=r;},3005:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p){return null === p || void 0 === p?void 0:p.ie.map(function(q){return q.Ye;}).map(function(q){return null === q || void 0 === q?void 0:q.map(function(u){return u.id;});}).reduce(function(q,u){return null === u || void 0 === u?void 0:u.concat(q);},[]);}Object.defineProperties(b,{__esModule:{value:!0}});b.QAa=void 0;l=a(5163);f=a(57055);k=a(50954);d=a(42866);g=a(49730);n=a(62558);h=a(9630);m=a(12445);r=(function(){function p(q,u,t,w){this.config=q;this.console=u;this.Va=t;this.Kc=w;this.nv={};this.W7=!1;this.events=new f.EventEmitter();this.Va.Ktb(this.KGb.bind(this));}Object.defineProperties(p.prototype,{lPb:{get:function(){return this.Va.da;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ie:{get:function(){return this.Un.fS;},enumerable:!1,configurable:!0}});p.prototype.Db=function(q,u,t){this.Un=new h.hBa(q,u);this.hS=new m.eBa(this.Un,this.console,this.Va,this.Kc);this.jK=t;};p.prototype.dM=function(){var q;q=this;return !!(0,d.ec)(Object.keys(this.ie),function(u){return 0 < q.ie[u].length;});};p.prototype.E9=function(q){var u,t,w;u=this.Kc.Bg;(0,n.assert)(u,"Could not get graph location service");if(0 < this.Un.Wza){t=this.eB(this.Kc.da);u=u.Xgb(this.Kc.da,t);this.Un.reset();}w=this.hS.KTa(q,u,t);q=w.vh;u=w.uB;this.w5a=w.h$;g.K && this.console.trace(("ads::seekStreaming: returning ").concat(JSON.stringify(q)));w=(t || this.Va.da).O[q.I];this.W7=!!w.type && -1 < ["ad","padding"].indexOf(w.type);return {vh:q,uB:u,d9:t};};p.prototype.AW=function(q,u){var t,w;t=this.b0a(q);w=this.nv[q.P];this.nv[q.P]=t;if(w=w !== t && (null === w || void 0 === w?void 0:w.ie.length) !== (null === t || void 0 === t?void 0:t.ie.length)){if(null === t || void 0 === t?0:t.ie)(this.Un.W2b(q.P,t.ie),this.hS.Vcb(),g.K && this.console.trace("Received ad metadata for",{la:q.P,Ctb:c(t)}));if(u && this.Q2a(u)){if(this.rdb(u))return l.__assign({sTa:w},this.ogb(u,"viewableReceived"));g.K && this.console.trace(("ads::onViewableReceived: should NOT consider preroll on seek:\n                        seekPosition (unchanged): ").concat(u,",\n                        didAppendData: ").concat(this.Va.RJ,",\n                        enablePrerollForInitialSeek ").concat(this.Va.config.g5));}}return {sTa:w,Xza:u};};p.prototype.Kta=function(q,u,t){var w;w=this.b0a(q);(0,n.assert)(w,("adMetadata for viewable ").concat(q.J," should exist if an adBreak hydration was requested"));this.nv[q.P]=w;this.Un.Kta(q.P,u);this.hS.Vcb();g.K && this.console.trace("ads::onAdBreakHydrated: Received new ad metadata after adBreakHydration for",{la:q.P,Ctb:c(w)});if(t)return this.ogb(t,"adBreakHydration");};p.prototype.Lta=function(q,u){this.Un.Lta(q,u);};p.prototype.sQb=function(){return !this.Va.Z.Rp && this.Va.Dj;};p.prototype.ogb=function(q,u){var t,w,v,y,x;g.K && this.console.trace(("ads::updatePendingSeekPosition: ").concat(JSON.stringify(q)));t=this.Kc.Bg;(0,n.assert)(t,"Could not get graph location service");w=this.eB(this.Kc.da);t=t.Xgb(this.Kc.da,w);v=this.hS.KTa(q,t,w);y=v.vh;v=v.uB;this.W7=!1;x=w.O[y.I];x || (x=this.Va.da.O[y.I]);this.W7=!!x.type && -1 < ["ad","padding"].indexOf(x.type);t=null === t || void 0 === t?void 0:t.hs(y);g.K && this.console.trace(("ads::updatePendingSeekPosition: should consider preroll on seek:\n            original seekPosition: ").concat(q,",\n            updated seekPosition: ").concat(t,",\n            entryPoint: ").concat(JSON.stringify(v),",\n            didAppendData: ").concat(this.Va.RJ,",\n            enablePrerollForInitialSeek ").concat(this.Va.config.g5,",\n            reason: ").concat(u));return {Xza:t,uB:v,d9:w};};p.prototype.eB=function(q){var u,t,w;u=this;t=q;w=Object.keys(q.O).map(function(v){return ("").concat(q.O[v].J);});Object.keys(this.nv).forEach(function(v){var y,x;if(-1 !== w.indexOf(v)){y=u.nv[v];if(y){x=y.ie.map(function(z,A){z=u.ie[v][A];return z.ur || z.Ye.reduce(function(B,C,D){return C.iV?l.__spreadArray(l.__spreadArray([],l.__read(B),!1),[D],!1):B;},[]);});y=(0,k.QWa)(parseInt(v),y,x,u.config.vua);t=(0,k.Msa)(t,y);}}});return t;};p.prototype.Q2a=function(q){return !!this.nv[this.Kc.da.O[q.I].J];};p.prototype.b0a=function(q){if(q.Gm && (q=q.Gm,q.ie.length))return q;};p.prototype.mma=function(q){this.Un.mma(q);this.events.emit("adSegmentDropped",{type:"adSegmentDropped",adId:q});};p.prototype.$xa=function(q,u,t){var w;return this.hS.$xa(q,u,t,null === (w=this.lPb) || void 0 === w?void 0:w.Be);};p.prototype.KGb=function(q){var u,t,w,v,y,x,z;u=this;if(!this.dM())return q;t=!0;w=[];v=[];x=this.Va.mPb.da;q.NF(function(A,B){var C,D,E,G;if(!(B || !A.v.A4a || u.sQb() && u.rdb(u.Va.vh)))return (u.console.trace("Hydration: Not checking root segment"),!0);D=x.O[A.v.id];(0,n.assert)(D,"Hydration: Segment must be present in innermost playgraph");E=D.J;if(D.type && -1 < ["ad","padding"].indexOf(D.type))t=!1;else if(D.cc){G=u.Va.da.O[D.cc];G && G.J !== D.J && (u.console.trace("Hydration: segment evaluated is a custom ident, get viewableId from equivalent segment. " + ("custom ident viewableId: ").concat(D.J,", ") + ("main content viewableId: ").concat(G.J)),E=G.J);}if((D=u.Un.a0a(E,D.ta)) && !D.ur)if(D.fVa && !D.Yf){if(D.pO)u.console.trace("Hydration: Ignore skippable unhydrated ad break");else if((G=null === (C=null === B || void 0 === B?void 0:B.Sa) || void 0 === C?void 0:C.duration,u.W7 && G && 5E3 > G))u.console.trace("Hydration: Skipping unhydrated ad break too close to previous");else {w.push(A);if(t && 0 === v.length || y === B)(v.push({J:E,Uc:D}),y=B);return !1;}}else t=!1;return !0;});w.forEach(function(A){return q.remove(A);});this.jK.j2b(v);if(this.config.w0b && q.root){z=x.O[q.root.v.id];(z=this.Un.a0a(z.J,z.ta)) && z.pO && (z.pO=!1);}return q;};p.prototype.rdb=function(q){var u,t,w;t=this.Va.RJ;(w=0 === q.offset.G) || (t?(t=this.w5a,w=null === (u=this.Va.Z.aG()) || void 0 === u?void 0:u.v.id,q=t && t.TIb === w && t.to.I === q.I && t.to.offset.G === q.offset.G?this.w5a.FNb:!0):q=this.Va.config.g5,w=q);return w;};return p;})();b.QAa=r;},43003:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.RAa=void 0;c=a(42866);r=(function(){function l(f,k){this.Xs=f;this.Xe=k;}l.prototype.Cpa=function(f){var k;k=this;return this.Xs.Z.Za.some(function(d){return d.v.v.J === f && d.ATa;})?!1:(0,c.ec)(Object.keys(this.Xe.nv),function(d){if(d=k.Xe.nv[d])return (0,c.ec)(d.ie,function(g){return g.Ye && (0,c.ec)(g.Ye,function(n){return n.id === f;});});})?(this.Xe.mma(f),!0):!1;};return l;})();b.RAa=r;},2976:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.TAa=void 0;c=a(57055);l=a(13043);r=(function(){function f(k,d,g){var n;n=this;this.Xe=d;this.Mn=new c.De();this.xo="adHydratorAudit";this.jd="adHydratorAuditor";this.enabled=!0;this.Mn.on(k.events,"adBreakPresenting",function(h){n.state.LSa.push(h.presentingInfo.Uc.lK.O2b);});this.Mn.on(g.events,"adBreakHydrated",function(){n.state.JSa++;});this.Mn.on(g.events,"adBreakHydrationFailed",function(){n.state.ISa++;});this.Mn.on(g.events,"adBreakHydrationSkipped",function(){n.state.MSa++;});this.state={JSa:0,ISa:0,MSa:0,LSa:[]};}f.prototype.ii=function(k){k=k.oi;if(this.Xe.dM() && k === l.mc.gi)return {adBreaksPresentedSequence:this.state.LSa,adBreaksHydratedCount:this.state.JSa,adBreaksFailedHydratedCount:this.state.ISa,adBreaksSkippedCount:this.state.MSa};};f.prototype.Oa=function(){this.Mn.clear();};return f;})();b.TAa=r;},66814:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.UAa=void 0;c=a(57055);l=a(13043);r=(function(){function f(k,d,g){var h;function n(m){var p,q;(p=h.state.qia)[q=m.event] || (p[q]=0);h.state.qia[m.event]++;}h=this;this.Xe=d;this.eqa=g;this.Mn=new c.De();this.xo="adImpressionAudit";this.jd="adImpressionAuditor";this.enabled=!0;this.Mn.on(k.events,"adPresenting",function(){return h.state.tTa++;});this.Mn.on(k.events,"adBreakPresenting",function(){return h.state.KSa++;});this.Mn.on(g.events,"adEvent",n);this.Mn.on(g.events,"adBreakEvent",n);this.state={KSa:0,qia:{},tTa:0};}f.prototype.ii=function(k){k=k.oi;if(this.Xe.dM() && k === l.mc.gi)return {presented:{breaks:this.state.KSa,ads:this.state.tTa},events:this.state.qia,logger:this.eqa.Rl()};};f.prototype.Oa=function(){this.Mn.clear();};return f;})();b.UAa=r;},71168:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.XAa=void 0;c=a(57055);l=a(12043);f=a(97810);k=a(62558);d=a(49730);g=a(22474);r=(function(){function n(h,m,p,q){this.Va=m;this.Ad=p;this.pp=0;this.events=new c.EventEmitter();this.console=(0,f.Mh)(l.platform,q,"IMPRESSION");h.events.addListener("adBreakPresenting",this.w9.bind(this));h.events.addListener("adBreakComplete",this.v9.bind(this));h.events.addListener("adPresenting",this.Mta.bind(this));}Object.defineProperties(n.prototype,{VU:{get:function(){return !!this.Dl;},enumerable:!1,configurable:!0}});n.prototype.w9=function(h){this.Dl && (d.K && this.console.warn("Unexpected back-to-back ad breaks"),this.Dl.v9(h.Vm.position),this.pp+=this.Dl.Iza,this.Dl=void 0);(0,k.assert)(h.Vm.Uc,"Ad break must be defined for ad break presenting");this.Dl=new g.PAa(this.Va,this.Ad,this.events,h.Vm.Uc,this.console);};n.prototype.v9=function(h){var m,p,q;q=h.Vm.Uc || (null === (m=this.Dl) || void 0 === m?void 0:m.Uc);d.K && this.console.trace(("adBreakComplete event, ").concat(this.Dl?"have":"no"," impression logger, ") + (q?("ad break ").concat(q.uj," is ") + ("").concat(q.Ye.length?"not ":"","empty, ") + ("has ").concat(q.ur?"":"not ","played"):"no ad break"));if(0 === (null === (p=h.Vm.Uc) || void 0 === p?void 0:p.Ye.length))((0,k.assert)(!this.Dl,"Received ad break complete for empty ad break during ad break"),h.Vm.Uc.y3b(),this.w9(h));else if(!this.Dl)return;this.Dl.v9(h.Vm.position);this.pp+=this.Dl.Iza;this.Dl=void 0;};n.prototype.Mta=function(h){var m,p,q;(0,k.assert)(this.Dl,"Expect to be in ad break when ad presenting is received");(0,k.assert)(this.Dl.Uc === h.Vm.Uc,"Expect to be in correct ad break when ad presenting is received");p=this.Va.bU(h.Vm.position.I)[0];q=h.Vm.jq;this.Dl.Mta(h.Vm.df,null === p || void 0 === p?void 0:p.la,h.Vm.position.I,q,null !== (m=null === p || void 0 === p?void 0:p.Cb) && void 0 !== m?m:q);};n.prototype.Rl=function(){var h;return {"break":null === (h=this.Dl) || void 0 === h?void 0:h.Rl(),errors:this.pp};};return n;})();b.XAa=r;},53997:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.YAa=void 0;c=a(3005);l=a(83981);f=a(53875);k=a(71168);d=a(43003);g=a(66814);n=a(93867);h=a(2976);r=(function(){function m(p,q,u,t,w,v){this.N2=v;this.jQa=new c.QAa(q,p,u,t);this.csb=new l.fBa(u,t,this.Xe);this.yE=new f.lMa(this,u,p);this.kha=new k.XAa(this.yE,u,u.Ad,p);this.iQa=new n.OAa(w,this.yE,t,t.vq,q,p);u.fu.Fe(new g.UAa(this.yE,this.Xe,this.kha));u.fu.Fe(new h.TAa(this.yE,this.Xe,this.iQa));this.jQa.Db(this.kha.events,this.yE.events,this.jK);this.ypb=new d.RAa(u,this.Xe);}Object.defineProperties(m.prototype,{Xe:{get:function(){return this.jQa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{AN:{get:function(){return this.csb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{d$a:{get:function(){return this.yE;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{eqa:{get:function(){return this.kha;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Atb:{get:function(){return this.ypb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{jK:{get:function(){return this.iQa;},enumerable:!1,configurable:!0}});m.prototype.di=function(p){return this.yE.di(p);};return m;})();b.YAa=r;},78085:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.ZS=void 0;c=a(5163);l=a(50164);f=a(46250);k=a(45894);d=a(88801);g=a(81134);b.ZS=function(n,h,m){var p,q,u,t,w;p=c.__assign({wda:f.vda},n).wda;q=h.WW[5];u=(0,k.bua)(function(){return w;});q.WSa(u.Co);n=new l.Fea();t={Bg:void 0,Kc:void 0,Va:void 0,Cqa:n,F5a:"ads"};t.Bg=new p(function(){return t.Kc.da;},n,h.WW[2],"Ads:");w=new g.cBa(t,u.teb,d.dw.Swa.cO,q);p=h.Tia;h.Tia=c.__spreadArray(c.__spreadArray([],c.__read(p),!1),[w],!1);t.Va=m(h);t.Kc=d.dw.Gva(t.Va,w,function(){return t;},p);w.Db();n.Db(t.Va);n.D$();return t.Kc;};},81134:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.cBa=void 0;c=a(5163);l=a(57055);f=a(49730);k=a(23710);d=a(33285);g=a(62558);r=a(61341);n=a(83386);h=a(53997);a=(function(m){function p(q,u,t,w){q=m.call(this,q,u,t,"AdsPlaygraphHost") || this;q.Ts=w;q.FJ=void 0;q.Zua=new l.De();q.c6a=new n.Ffa();q.N2=new l.EventEmitter();return q;}c.__extends(p,m);Object.defineProperties(p.prototype,{Kc:{get:function(){return this.kp.Kc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Xs:{get:function(){var q;q=this.eB(this.Kc.da);if(q !== this.Kc.da)return q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Vc:{get:function(){return this.FJ;},enumerable:!1,configurable:!0}});p.prototype.Db=function(){var q;q=this;m.prototype.Db.call(this);this.kp.Va.Fe(new k.dBa(this.kp));this.FJ=new h.YAa(this.T,this.W,this.Va,this.Kc,this.Ts,this.N2);this.kp.Va.Vc=this.FJ;this.Vc.jK.events.on("adBreakHydrated",function(u){return q.J$a(u);});this.Vc.jK.events.on("adBreakHydrationFailed",function(u){return q.qf(u.error);});this.Vc.jK.events.on("adBreakHydrationSkipped",function(u){return q.JZb(u);});};p.prototype.GC=function(q){var u,t,w,v,y;w=m.prototype.GC.call(this,q);if(w){(0,g.assert)(this.Vc,"missing manager");q=this.Vc.Xe.AW(q,null === (u=this.fM) || void 0 === u?void 0:u.vh);u=q.Xza;v=q.uB;y=q.d9;q.sTa && this.GN(y,u,null === (t=this.fM) || void 0 === t?void 0:t.jq,v);}return w;};p.prototype.J$a=function(q){var u,t,w;w=q.jja;q=w.qOb(q.L2,q.fh);(0,g.assert)(this.Vc,"missing manager");q && ((w=this.Vc.Xe.Kta(w,q,null === (u=this.fM) || void 0 === u?void 0:u.vh))?(u=w.uB,this.GN(w.d9,w.Xza,null === (t=this.fM) || void 0 === t?void 0:t.jq,u)):this.GN());};p.prototype.JZb=function(q){this.Vc.Xe.Lta(q.zd.toString(),q.fh);this.GN();};p.prototype.qf=function(q,u,t,w,v,y,x){var z,A;void 0 === x && (x=!1);z=!1;A=!1;u && !x && (z=this.Vc.Atb.Cpa(u));z?this.GN():A=this.kp.Va.qf(q,u,t,w,v,y,x);return A;};p.prototype.RC=function(q,u){var t,w,v,y,x;t=this;this.Pxa(q,u);w=this.Kc.Ad.sa;this.Zua.clear();this.Zua.addListener(w,"stopStart",function(){w.li && (t.fM=void 0,t.Zua.clear());});if(this.Vc.Xe.Q2a(q)){f.K && this.T.trace(("ads::seekStreaming: ").concat(JSON.stringify(q)));v=this.Vc.Xe.E9(q);y=v.vh;x=v.uB;if(v=v.d9)(f.K && this.T.trace("ads::seekStreaming: ads playgraph was updated"),this.GN(v,q,u));f.K && this.T.trace(("ads::seekStreaming: forwarding seek to ").concat(JSON.stringify(y),", ") + ("playerTimestamp: ").concat(u,", ") + ("entryPoint: ").concat(JSON.stringify(x)));this.Va.haa(y,u,x);}else this.Va.RC(q,u);};p.prototype.GN=function(q,u,t,w){var v;v=this;this.c6a.Via || this.c6a.Bhb(function(){v.ewa(q,v.Kc.da,u,t,w);v.N2.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});});};p.prototype.eB=function(q){return this.Vc.Xe.eB(q);};p.prototype.Hf=function(q){m.prototype.Hf.call(this,q);this.fM=void 0;};p.prototype.Pxa=function(q,u){this.fM={vh:q,jq:u};};c.__decorate([(0,d.Qb)({methodName:"ads::processViewableResponse"})],p.prototype,"GC",null);c.__decorate([(0,d.Qb)({methodName:"ads::processAdBreakHydrationResponse"})],p.prototype,"J$a",null);c.__decorate([(0,d.Qb)({methodName:"ads::reportStreamingFailure"})],p.prototype,"qf",null);c.__decorate([(0,d.Qb)({methodName:"ads::seekStreaming"})],p.prototype,"RC",null);c.__decorate([(0,d.Qb)({methodName:"ads::cancelStreaming"})],p.prototype,"Hf",null);return p;})(r.sfa);b.cBa=a;},12445:function(r,b,a){var l,f,k,d;function c(g,n){var h;h=n && g.O[n];if(h)return "content" !== h.type?c(g,h.Fb):n;}Object.defineProperties(b,{__esModule:{value:!0}});b.eBa=void 0;l=a(42866);f=a(49730);k=a(62558);d=a(83981);r=(function(){function g(n,h,m,p){this.Un=n;this.console=h;this.Va=m;this.Kc=p;}g.prototype.Vcb=function(){this.r2=void 0;};g.prototype.KTa=function(n,h,m){var p,q,u,t,w,v,y,x,z;void 0 === m && (m=this.Va.da);q=this.Un.fS[this.Kc.da.O[n.I].J];u=h.mB(n);t=u;w=m.O[u.I];if(0 === u.offset.G)v=this.Yoa(m,q,u);else {"padding" === w.type && (u={I:w.Fb,offset:l.L.Ia});y=null === (p=this.Va.Z.aG()) || void 0 === p?void 0:p.v.id;if(y)x=y;else (p=c(m,m.Be),this.Va.Z.Rp || !this.Va.Dj || this.Va.RJ || p !== u.I?x=p:v=this.Yoa(m,q,h.mB({I:n.I,offset:l.L.Ia})));!v && x && (f.K && this.console.trace(("ads::seekStreaming: seek from segment ").concat(x)),v=this.ULb(x,u,m));}if(v)if(v.I){t={I:v.I,offset:l.L.Ia};z=u;}else this.r2=v.Uc;n={FNb:!!v,TIb:x,to:u};return z || "ad" !== w.type?{vh:t,uB:z,h$:n}:{vh:u,uB:u,h$:n};};g.prototype.$xa=function(n,h,m,p){if(this.r2)return (h=this.r2,this.r2=void 0,h);if((n=this.Un.fS[n]) && n.length)if(m && h.I === p && h.offset.equal(l.L.Ia)){if((h=n[0],0 === h.Wv.G && 0 === h.Ye.length && !h.ur && !h.Kpa))return h;}else if(!m)return this.qoa(h.I,n);};g.prototype.ULb=function(n,h,m){var p,q,u,w;f.K && this.console.trace("AdPoliciesManager: getPrerollAdOnSeek: " + ("from ").concat(n," to ").concat(JSON.stringify(h)));if(m){q=this.Un.fS[this.Kc.da.O[m.O[h.I].cc].J];m=m.O;u=null === (p=m[n]) || void 0 === p?void 0:p.Fb;u || (u=this.Va.da.O[n].Fb);for(var t=p=void 0;u;){n=m[u];if("content" === n.type && ("content" === p || void 0 === p) && q){w=this.qoa(u,q);w && (t={Uc:w});}if(u === h.I)return (h=t && !t.I || p && "content" !== p?t:void 0,f.K && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: returning ").concat(h)),h);"ad" === n.type && "ad" !== p && (f.K && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: found start of ad break: ").concat(u)),p=(0,d.TF)(u),(0,k.assert)(p,"AdPoliciesManager: getPrerollOnSeek: Unable to find ad from ad segmentId"),t={I:u,Uc:q[null === p || void 0 === p?void 0:p.uj]});p=n.type;u=n.Fb;}}f.K && this.console.trace("AdPoliciesManager: getPrerollOnSeek: returning undefined");};g.prototype.Yoa=function(n,h,m){var p,q;p=n.O;m=m.I;q=p[m].type;if("padding" === q)return this.Yoa(n,h,{I:p[m].Fb,offset:l.L.Ia});f.K && this.console.trace("AdPoliciesManager: getPrerollAdBreakForPlaygraph",m);if("ad" === q)return (n=(0,d.TF)(m),(0,k.assert)(n,"getPrerollAdBreakForPlaygraph: getPrerollSegmentId: Unable to find ad from ad segmentId"),{I:m,Uc:h[null === n || void 0 === n?void 0:n.uj]});if("content" === q){if(h=this.qoa(m,h))return {Uc:h};}else f.K && (0,k.assert)(!0,"Can't get preroll; initial segment was padding and it had no default next segment");};g.prototype.qoa=function(n,h){n=(0,d.A0a)(n);(0,k.assert)(n,"Should have contentInfo from segment name");if(0 < n.HWa && (h=h[n.HWa - 1],0 === h.Ye.length && !h.ur && !h.Kpa))return h;};return g;})();b.eBa=r;},83981:function(r,b,a){var l,f,k;function c(d){var g;g=(/^.+:ad\-(\d+)\-(\d+)$/).exec(d);if(g)return {M2:parseInt(g[2]),uj:parseInt(g[1]),yG:!1};if(d=(/^.+:pad((end)|(start))-(\d+)$/).exec(d))return {uj:parseInt(d[4]),yG:!0,KW:d[1]};}Object.defineProperties(b,{__esModule:{value:!0}});b.A0a=b.TF=b.fBa=void 0;l=a(42866);f=a(25850);k=a(88873);r=(function(){function d(g,n,h){this.Xs=g;this.Kc=n;this.Xe=h;}d.prototype.nJb=function(g){for(var n,h,m=c(null === g || void 0 === g?void 0:g.I),p=this.Xs.da,q,u=p.O[g.I],t=u,w=[g.I],v=this.Kc.da.O[t.cc].J;t && t.cc === u.cc && t.J !== v;){w.push(t.Fb);t=p.O[t.Fb];}w.pop();p=null !== (q=w.pop()) && void 0 !== q?q:g.I;q=c(p);g=this.Xs.da.O[g.I];p=this.Xs.da.O[p];g=(null !== (n=g.va) && void 0 !== n?n:Infinity) - g.ta;n=(null !== (h=p.va) && void 0 !== h?h:Infinity) - p.ta;return {start:(null === m || void 0 === m?0:m.yG)?new k.pca(f.OI.start,g):void 0,end:(null === q || void 0 === q?0:q.yG)?new k.pca(f.OI.end,n):void 0};};Object.defineProperties(d.prototype,{az:{get:function(){if(this.Xs.Z.Od)return this.kJb(this.Xs.Z.zg);},enumerable:!1,configurable:!0}});d.prototype.kJb=function(g){var n,h,m;h=c(g.I);if(h){m=null === (n=this.Kc.Bg) || void 0 === n?void 0:n.hs(g);n=this.Xe.ie[this.Kc.da.O[m.I].J][h.uj];m=this.nJb(g);m=new k.tBa(n,m.start,m.end);for(var p=this.Xs.da,q=p.O[g.I],u=q,t=-g.offset.G,w=this.Kc.da.O[u.cc].J;u && u.cc === q.cc && u.J !== w;){t+=u.va - u.ta;u=p.O[u.Fb];}p=l.L.Na(t);q=p.qa(m.DT.duration);h.yG && ("end" === h.KW?q=l.L.Ia:(u=m.Kaa.duration.qa(g.offset),q=q.qa(u)));m={Uc:m,progress:{vtb:n.duration.qa(q),xtb:1 - Math.max(0,q.G) / n.duration.G,ytb:m.duration.qa(p),ztb:1 - Math.max(0,p.G) / m.duration.G},position:g,index:h.uj};p=this.Xs.da.O[g.I];p=p.va - p.ta;g=g.offset.G / p;h.yG?m.u9a={pXb:g,xua:h.KW,L9:l.L.Na(p)}:m.LA={df:n.Ye[h.M2],NSa:g,index:h.M2};return m;}};d.prototype.mJb=function(g,n){var h,m;h=g.I;m=this.fNb(g);if(h=c(h))return (g=this.Xe.ie[m][h.uj],h.yG?{Uc:g,KW:h.KW}:{Uc:g,df:g.Ye[h.M2]});if(g=this.Xe.$xa(m,g,n))return {Uc:g};};d.prototype.TF=function(g){return c(g);};d.prototype.fNb=function(g){var n,h;h=this.Kc;g=null === (n=h.Bg) || void 0 === n?void 0:n.hs(g);return h.da.O[g.I].J;};return d;})();b.fBa=r;b.TF=c;b.A0a=function(d){if(d=(/^.+-(\d+)$/).exec(d))return {HWa:parseInt(d[1])};};},9630:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.hBa=void 0;c=a(42866);l=a(62558);f=a(88873);r=(function(){function k(d,g){var n;n=this;this.Wza=0;this.Tu={};this.xpb=1;d.on("adEvent",function(h){return n.XVb(h);});g.on("adBreakPresenting",function(h){return n.w9(h);});}Object.defineProperties(k.prototype,{fS:{get:function(){return this.Tu;},enumerable:!1,configurable:!0}});k.prototype.W2b=function(d,g){this.Tu[d]=g.map(function(n,h){return new f.uBa(n,h);});};k.prototype.Kta=function(d,g){var n;n=this;this.Tu[d].some(function(h){if(h.Zo.fh === g.fh)return (h.pOb(g,n.xpb++),!0);});};k.prototype.Lta=function(d,g){this.Tu[d].some(function(n){if(n.Zo.fh === g)return n.pO=!0;});};k.prototype.reset=function(){this.Wza=0;};k.prototype.XVb=function(d){var g;g=this;"adComplete" === d.event && Object.keys(this.Tu).some(function(n){var h,m,p;n=null !== (h=(p=g.Tu)[n]) && void 0 !== h?h:p[n]=[];(0,l.assert)(void 0 !== d.uj,"complete event should have an adBreakIndex");return null === (m=n[d.uj].Ye) || void 0 === m?void 0:m.some(function(q){return q.id == d.Y.P?(q.ur=!0,g.Wza++,!0):!1;});});};k.prototype.w9=function(d){var g;g=this;Object.keys(this.Tu).forEach(function(n){var h,m;(null !== (h=(m=g.Tu)[n]) && void 0 !== h?h:m[n]=[]).forEach(function(p){p !== d.Vm.Uc && p.RDb();});});};k.prototype.mma=function(d){var g;g=this;Object.keys(this.Tu).forEach(function(n){g.Tu[n].forEach(function(h){h.Ye.forEach(function(m){m.id == d && (m.iV=!0);});});});};k.prototype.a0a=function(d,g){return (d=this.fS[d]) && (0,c.ec)(d,function(n){return n.Wv.G === g;});};return k;})();b.hBa=r;},67979:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.tBa=b.pca=b.uBa=void 0;c=a(42866);l=a(92128);f=a(31372);r=(function(){function d(g,n,h){var m;void 0 === h && (h=NaN);this.Zo=g;this.uj=n;this.jSa=h;this.pO=this.TQa=this.UQa=this.dha=!1;this.eE=(null === (m=g.Ye) || void 0 === m?void 0:m.map(function(p){return new f.lca(p);})) || [];}Object.defineProperties(d.prototype,{Wv:{get:function(){return this.Zo.Wv;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ru:{get:function(){return this.Zo.ru;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{v3:{get:function(){return this.Zo.v3;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{O2b:{get:function(){return this.jSa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{nia:{get:function(){return this.Zo.nia;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ye:{get:function(){return this.eE;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return !this.eE.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.Ye.reduce(function(g,n){return g.add(n.endTime.qa(n.startTime));},c.L.Ia);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ZPb:{get:function(){return this.ur || !this.fVa && !this.TQa?this.eE.every(function(g){return g.ur;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ur:{get:function(){return this.eE.length?this.eE.every(function(g){return g.ur;}):this.dha;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{fVa:{get:function(){return !this.Yf && !!this.Zo.fh;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Yf:{get:function(){return !!this.Zo.Ye;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Kpa:{get:function(){return this.UQa;},set:function(g){g && (this.UQa=!0);},enumerable:!1,configurable:!0}});d.prototype.y3b=function(){this.Ye.length || (this.dha=!0);};d.prototype.pOb=function(g,n){var h;this.Zo=g;this.eE=(null === (h=this.Zo.Ye) || void 0 === h?void 0:h.map(function(m){return new f.lca(m);})) || [];this.TQa=!0;this.jSa=n;this.pO=!1;};d.prototype.RDb=function(){this.Zo.fh && (this.dha=this.ur,this.Zo.Ye=void 0,this.eE=[],this.pO=!1);};return d;})();b.uBa=r;k=(function(){function d(g,n){this.xua=g;this.jqb=n;}Object.defineProperties(d.prototype,{duration:{get:function(){return c.L.Na(this.jqb);},enumerable:!1,configurable:!0}});Object.defineProperties(d,{Fta:{get:function(){return this.Grb || (this.Grb=new d(l.OI.start,0));},enumerable:!1,configurable:!0}});Object.defineProperties(d,{AVb:{get:function(){return this.Frb || (this.Frb=new d(l.OI.end,0));},enumerable:!1,configurable:!0}});return d;})();b.pca=k;r=(function(){function d(g,n,h){this.lK=g;this.oSa=n || k.Fta;this.mqb=h || k.Fta;}Object.defineProperties(d.prototype,{Kaa:{get:function(){return this.oSa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{DT:{get:function(){return this.mqb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{RNb:{get:function(){return this.oSa !== k.Fta || this.DT !== k.AVb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.lK.duration.add(this.Kaa.duration).add(this.DT.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{L9:{get:function(){return this.Kaa.duration.add(this.DT.duration);},enumerable:!1,configurable:!0}});return d;})();b.tBa=r;},31372:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.lca=void 0;c=a(42866);r=(function(){function l(f){this.df=f;this.iV=this.ur=!1;}Object.defineProperties(l.prototype,{id:{get:function(){return this.df.id;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{startTime:{get:function(){return c.L.Na(this.df.ta);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{endTime:{get:function(){return c.L.Na(this.df.va);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{JA:{get:function(){return this.df.JA;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{gba:{get:function(){return this.df.gba;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{It:{get:function(){return this.df.It;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{GO:{get:function(){return this.df.GO;},enumerable:!1,configurable:!0}});return l;})();b.lca=r;},88873:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(31372),b);r.__exportStar(a(67979),b);r.__exportStar(a(63755),b);},53875:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.lMa=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(12043);d=a(49730);g=a(97810);n=a(62558);r=(function(){function h(m,p,q){var u;u=this;this.Vc=m;this.Va=p;this.Uga=new l.De();this.lha=!1;this.T=(0,g.Mh)(k.platform,q,"PLAYERADMANAGER");this.events=new l.EventEmitter();this.Va.events.on("playerChanged",this.e$a.bind(this));this.e$a();this.Vc.N2.on("adPlaygraphUpdated",function(t){return u.events.emit("adPlaygraphUpdated",t);});this.Xe.events.on("adSegmentDropped",function(t){u.YVb(t);});}Object.defineProperties(h.prototype,{VU:{get:function(){return this.lha;},enumerable:!1,configurable:!0}});h.prototype.di=function(m){var p;if(!this.Va.vr)return (d.K && this.T.trace("PlayerAdManager.canSkip(): no player"),!1);p=this.Va.Z;if(!p.aU(m))return (d.K && this.T.trace("PlayerAdManager.canSkip() false, no branch spanning playerTimestamp:",m),!1);d.K && this.T.trace(("PlayerAdManager.canSkip(): ").concat(p.Ld.qb()," -> ").concat(m.qb()));m=m.greaterThan(p.Ld)?(0,g.nna)(p.Za,p.Ld,m):(0,g.nna)(p.Za,m,p.Ld);p=!m.some(function(q){return "content" !== q.v.v.type;});d.K && this.T.trace(("PlayerAdManager.canSkip(): ").concat(p,"; ").concat(m.map(function(q){return ("").concat(q.v.id," ").concat(q.v.v.type," ").concat(q.Cb.G,"..").concat(q.Cb.G);})));return p;};Object.defineProperties(h.prototype,{Xe:{get:function(){return this.Vc.Xe;},enumerable:!1,configurable:!0}});h.prototype.e$a=function(){var m,p;m=this;this.T.trace("Player changed",this.Va.vr);this.Uga.clear();if(this.Va.vr){p=this.Va.Z;this.Uga.addListener(p.events,"segmentPresenting",function(q){return m.Zv(q);});this.Uga.addListener(p.events,"playbackEnding",function(q){return m.Yta(q);});}};h.prototype.Zv=function(m){var p,q,u,t,w;p=this.AN.mJb(m.position,!!m.seek);if(p){q=p.Uc;u=p.df;d.K && this.T.trace(("Got segment presenting event: adBreak: ").concat(q,", ad: ").concat(u));t=this.AN.az;w={jq:m.playerTimestamp,position:m.position,Uc:q};this.VU || (q.Ye.length?this.wtb(t,w):q.Yf || u?this.KA(m.playerTimestamp,m.position,q):d.K && this.T.trace("Passed an unhydrated ad break; assume it was skipped intentionally"));u && this.El(t,w,u);}!this.VU || p && "end" !== p.KW || this.KA(m.playerTimestamp,m.position);this.VU && !p && this.GSa(m.position);};h.prototype.Yta=function(m){this.VU && this.QPb(m.position) && (this.KA(m.playerTimestamp,m.position),this.GSa(m.position));};h.prototype.wtb=function(m,p){(0,n.assert)(m,"Should have presenting info for event corresponding to ad break");d.K && this.T.trace("Emitting adBreakPresenting");this.lha=!0;this.events.emit("adBreakPresenting",{type:"adBreakPresenting",presentingInfo:m,Vm:p});};h.prototype.El=function(m,p,q){d.K && this.T.trace("Emitting adPresenting");(0,n.assert)(m,"Should have presenting info for event corresponding to ad break");this.events.emit("adPresenting",{type:"adPresenting",presentingInfo:m,Vm:c.__assign(c.__assign({},p),{df:q})});};h.prototype.KA=function(m,p,q){d.K && this.T.trace("Emitting adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",Vm:{jq:m,position:p,Uc:q}});};h.prototype.GSa=function(m){this.lha=!1;d.K && this.T.trace("Emitting adBreakEnded");this.events.emit("adBreakEnded",{type:"adBreakEnded",eventInfo:{position:m}});};h.prototype.Wna=function(m){var p,q,u,t;p=this;q={Xub:[],result:{}};u=this.Xe.nv;t=Object.keys(u).filter(function(w){return u[w];});if(null === m || void 0 === m?0:m.nhb)t=t.filter(function(w){var v;return -1 !== (null === (v=m.nhb) || void 0 === v?void 0:v.indexOf(w));});q.Xub=t;t.forEach(function(w){var v,y,x;y=null === (v=u[w]) || void 0 === v?void 0:v.ie;if(y){v=p.BHb(w,y);x=p.Xe.ie[w];q.result[("").concat(w)]=v.map(function(z,A){return c.__assign(c.__assign({},z),{hasCompletedPlayback:x[A].ZPb});});}});return q;};Object.defineProperties(h.prototype,{AN:{get:function(){return this.Vc.AN;},enumerable:!1,configurable:!0}});h.prototype.BHb=function(m,p){var q,u;q=[];u=[];this.Xe.ie[m].forEach(function(t){return t.Ye.forEach(function(w){w.iV && -1 === u.indexOf(w.id) && u.push(w.id);});});p.forEach(function(t){var w,v;t=c.__assign({},t);v=null === (w=t.ads) || void 0 === w?void 0:w.filter(function(y){return -1 === u.indexOf(y.id);});t.ads=v;q.push(t);});return q;};h.prototype.YVb=function(m){var p,q,u,t;p=this;q=m.adId;u=this.Xe.nv;m=Object.keys(u).filter(function(w){return u[w];});t=this.Va.da.O;m.forEach(function(w){var v,y;null === (y=null === (v=u[w]) || void 0 === v?void 0:v.ie) || void 0 === y?void 0:y.forEach(function(x,z){var A;null === (A=x.Ye) || void 0 === A?void 0:A.forEach(function(B,C){B.id === q && (B=(0,f.ec)(Object.keys(t),function(D){D=p.AN.TF(D);return !D || D.yG?!1:C === D.M2 && z === D.uj;})) && p.events.emit("segmentDropped",{type:"segmentDropped",auxMid:q,auxMidType:"ad",adBreakLocationMs:x.ru,reason:"network_error",sev:"error",segmentId:B});});});});};h.prototype.QPb=function(m){var p;p=this.Va.navigator;return (m=p.me(m.I)) && !p.INb(m);};return h;})();b.lMa=r;},40376:function(r,b,a){var c,l,f,k,d,g,n,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.kOa=void 0;c=a(5163);l=a(42866);f=a(42866);k=a(12043);d=a(27364);g=a(49730);n=a(56405);h=a(62558);m=a(7881);r=(function(){function p(q,u,t,w,v,y,x,z,A,B){var C;C=this;this.ya=q;this.Ad=u;this.events=t;this.Uc=w;this.df=v;this.sia=y;this.O2=x;this.ttb=z;this.iS=A;this.console=B;this.gm=k.platform.time.now();this.eD=new Map();this.pp=0;(0,h.assert)(y.Y,"Presenting ad should have a manifest");this.OSa=u.$x(function(){return C.j7b();},"impressionLogging");this.ya.Z.hw.forEach(function(D,E){(D=D.una(n.Nca)) && C.eD.set(E,D);});}Object.defineProperties(p.prototype,{Iza:{get:function(){return this.pp;},enumerable:!1,configurable:!0}});p.prototype.Oa=function(){this.OSa.Oa();};p.prototype.j7b=function(){var q,u,t,w,v,y,x,z,A,B,C,D,E,G,F;return c.__generator(this,function(J){switch(J.label){case 0:(g.K && this.console.trace("AdImpressionLogger: starting at",this.iS.qb()),q=this.df,this.QVa(),u=0,t=this.iS,w=this.iS.add(q.endTime),v=this.ttb,J.label=1);case 1:(J.Vj.push([1,,12,13]),(0,h.assert)(null === (E=q.JA) || void 0 === E?void 0:E.start,"Start event info should be defined"),this.emit(q.JA.start,u,t,!1),(0,h.assert)(q.gba,"Timed event info should be defined"),J.label=2);case 2:(J.Vj.push([2,7,8,9]),y=c.__values(q.gba),x=y.next(),J.label=3);case 3:if(x.done)return [3,6];z=x.value;t=this.iS.add(l.L.Na(z.dza));g.K && this.console.trace(("AdImpressionLogger[").concat(this.O2,"]: waiting for ").concat(z.dza,"ms timed event") + (" at ").concat(t.qb()));return [4,m.Lg.vu(t)];case 4:(J.Wa(),v=t,this.emit(z,z.dza,t,!1),J.label=5);case 5:return (x=y.next(),[3,3]);case 6:return [3,9];case 7:return (A=J.Wa(),C={error:A},[3,9]);case 8:try{x && !x.done && (D=y.return) && D.call(y);}finally{if(C)throw C.error;}return [7];case 9:if(!w.greaterThan(t))return [3,11];t=w;g.K && this.console.trace(("AdImpressionLogger[").concat(this.O2,"]: waiting for end of ad at ").concat(t.qb()));return [4,m.Lg.vu(t)];case 10:(J.Wa(),v=t,J.label=11);case 11:return [3,13];case 12:this.ya.Z.Od && (v=this.ya.Z.Ld);if(v.ji(w))((0,h.assert)(null === (G=q.JA) || void 0 === G?void 0:G.complete,"Complete event should be defined"),this.emit(q.JA.complete,q.endTime.G,w,!0));else if(null === (F=q.JA) || void 0 === F?0:F.stop)(B=v.qa(this.iS).G,this.emit(q.JA.stop,B,v,!0));this.QVa();return [7];case 13:return [2];}});};p.prototype.emit=function(q,u,t,w){g.K && this.console.trace(("AdImpressionLogger[").concat(this.O2,"]: emitting ").concat(q.event," event at ").concat(u,"ms") + (" for player time ").concat(t.qb()));u={I:this.O2,offset:l.L.Na(u)};t=this.Soa(t);try{this.events.emit("adEvent",c.__assign(c.__assign({type:"adEvent"},q),{Qg:u,cw:t,Y:this.sia.Y,gm:this.gm,Cjc:w?k.platform.time.now():-1,RE:this.Uc.ru,uj:this.Uc.uj,GO:this.df.GO,It:this.df.It}));}catch(v){this.console.error("Impression error event",v);this.pp++;}};p.prototype.Soa=function(q){var u,t,w;u=this.sia.Y.P;t=c.__read(this.P1a(q,this.eD.get(d.u.$),u),2);w=t[0];t=t[1];q=c.__read(this.P1a(q,this.eD.get(d.u.X),u),2);return {audio:w,video:q[0],text:[],total:Math.max(t,q[1])};};p.prototype.P1a=function(q,u,t){q=(null === u || void 0 === u?void 0:u.L4b(q,t)) || [];q=(0,f.flatten)(q.map(function(w){return Object.keys(w.EF).map(function(v){v=w.EF[v];return {Vb:v.Vb,duration:v.totalTime,Lm:w.Lm};});}));u=q.reduce(function(w,v){return w + v.duration;},0);g.K && this.console.trace("Getting playtime journal",{P:t,Oic:q.length,totalTime:u});return [q,u];};p.prototype.QVa=function(){var q,u,t;t=this.sia.Y.P;null === (q=this.eD.get(d.u.$)) || void 0 === q?void 0:q.Pab(t);null === (u=this.eD.get(d.u.X)) || void 0 === u?void 0:u.Pab(t);};p.prototype.Rl=function(){return {ad:this.OSa.Rl(),errors:this.pp};};return p;})();b.kOa=r;},18679:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.ZS=void 0;c=a(5163);l=a(50164);f=a(46250);k=a(88801);d=a(45894);b.ZS=function(g,n,h){var m,p,q,u,t;m=n.WW;p=n.Tia;g=c.__assign({wda:f.vda},g).wda;q=m[5];m=(0,d.bua)(function(){return t;});q.WSa(m.Co);h=h(n);q=new l.Fea();q.Db(h);u={Bg:void 0,Kc:void 0,Va:h,Cqa:q,F5a:"content"};u.Bg=new g(function(){return u.Kc.da;},q,n.WW[2]);t=new d.yDa(u,m.teb,k.dw.Swa.cO);u.Kc=k.dw.Gva(h,t,function(){return u;},p);t.Db();return u.Kc;};},45894:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.bua=b.yDa=void 0;c=a(5163);l=a(50954);f=a(53405);k=a(33285);d=a(62558);r=(function(g){function n(h,m,p,q){void 0 === q && (q="CphAsePlaygraph");q=g.call(this,h,m,p,q) || this;q.kp=h;q.Z8a=m;q.Pbb=p;h.Va.Fe(new f.zDa(q));return q;}c.__extends(n,g);n.prototype.GC=function(h){var m,p;m=g.prototype.GC.call(this,h);if(m){p=h.Y.Nm;p && !this.M1 && (this.Jga.Ys({applyingContentPlaygraph:!0}),this.M1=p,this.Kqb=this.Kzb(h.Y),this.ewa());}return m;};Object.defineProperties(n.prototype,{O2a:{get:function(){return this.Kqb;},enumerable:!1,configurable:!0}});n.prototype.eB=function(h){if(this.M1)return (h=c.__assign(c.__assign({},h),{O:c.__assign({},h.O)}),(0,l.Msa)(h,this.M1.da));};n.prototype.Kzb=function(h){var m,p;m=h.yp;p=h.MB;return !(!m || !m.some(function(q){return q.MB !== p;}));};Object.defineProperties(n.prototype,{Nm:{get:function(){var h;return null === (h=this.M1) || void 0 === h?void 0:h.da;},enumerable:!1,configurable:!0}});c.__decorate([(0,k.Qb)({methodName:"processViewableResponse"})],n.prototype,"GC",null);return n;})(a(61341).sfa);b.yDa=r;b.bua=function(g){var n;n=[];return {Co:function(h,m){var p,q,u,t,w,v,y;u=h.J;t=h.uX;w=g();if(w.tja && w.tja !== u){v=null === (p=null === t || void 0 === t?void 0:t.Ff) || void 0 === p?void 0:p.$b;p=null === (q=null === t || void 0 === t?void 0:t.Ff) || void 0 === q?void 0:q.zd;q=w.$b;t=w.tja;(0,d.assert)(t,"did not receive parent viewable id");t={Ff:{$b:null !== v && void 0 !== v?v:q,zd:null !== p && void 0 !== p?p:t}};}w.Va.console.trace("In wrapped request viewable",u,t);y=m(c.__assign(c.__assign({},h),{uX:t}));n.forEach(function(x){return x({J:u,Kz:y.Kz});});return y;},teb:function(h){n.push(h);}};};},96855:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.dla=void 0;c=a(88801);l=a(31503);b.dla=function(f,k){var d;f=k(f);d=new l.pMa(f,c.dw.Swa.cO);return c.dw.Gva(f,d,function(){return d.Hva;});};},19332:function(r,b,a){var l,f,k,d;function c(g,n){return n && !Array.isArray(n) && -1 === n.HZa.indexOf(g)?n.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.mla=void 0;l=a(5163);r=a(57055);f=a(91795);k=a(28445);d=(function(g){function n(h,m){var p;p=g.call(this) || this;p.TSb=h;p.X3a=m;p.Vga={};return p;}l.__extends(n,g);n.prototype.emit=function(h){for(var m=[],p=1;p < arguments.length;p++){m[p - 1]=arguments[p];}return g.prototype.emit.call(this,h,this.TSb(h,m[0]));};n.prototype.subscribe=function(h){var m,p;m=this;if(!this.listeners(h).length){p=function(){for(var q=[],u=0;u < arguments.length;u++){q[u]=arguments[u];}return m.emit.apply(m,l.__spreadArray([h],l.__read(q),!1));};this.Vga[h]=p;this.X3a.addListener(h,p);}};n.prototype.addListener=function(h,m){this.subscribe(h);g.prototype.addListener.call(this,h,m);return this;};n.prototype.removeListener=function(h,m){g.prototype.removeListener.call(this,h,m);m=this.Vga[h];!this.listeners(h).length && m && (this.X3a.removeListener(h,m),this.Vga[h]=void 0);return this;};n.prototype.on=function(h,m){this.addListener(h,m);return this;};n.prototype.Lr=function(h,m){this.removeListener(h,m);return this;};n.prototype.once=function(h,m){var q;function p(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}q.removeListener(h,p);m.apply(void 0,l.__spreadArray([],l.__read(u),!1));}q=this;this.addListener(h,p);return this;};n.prototype.l$=function(h,m){this.subscribe(h);g.prototype.l$.call(this,h,m);};n.prototype.B$a=function(h,m){var q;function p(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}q.removeListener(h,p);m.apply(void 0,l.__spreadArray([],l.__read(u),!1));}q=this;this.l$(h,p);};return n;})(r.EventEmitter);b.mla=function(g,n,h,m){return new d(function(p,q){var u;u=c(p,m["*"]);p=m[p] || [];u=u.concat(p).filter(function(t){return "object" === typeof t;});p=l.__read(p.filter(function(t){return "function" === typeof t;}),1)[0];return u.length?(0,k.V$)(g,q,h,{rules:u,im:!1,Ria:!0},f.Iu.Lza,p):q;},n);};},46250:function(r,b,a){var c,l,f,k,d,g,n,h,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.vda=void 0;c=a(5163);l=a(50954);f=a(42866);k=a(12043);d=a(33285);g=a(58726);n=a(62558);h=a(89847);m=a(49730);p=a(59322);r=(function(){function q(u,t,w,v){var x,z;function y(A,B){return A.I === B.I && A.offset.equal(B.offset);}x=this;this.Nn=u;this.L1=t;this.config=w;this.console=new k.platform.Console("GRAPHLOCATIONSERVICE");this.Yg=new d.Su({qn:this,source:(v || "") + "GraphLocation",console:this.console});(0,p.gwa)(this,"d",new p.hea(w,y));(0,p.gwa)(this,"u",new p.hea(w,y));"temp" !== v && (null === (z=this.L1.events) || void 0 === z?void 0:z.on("updated",function(){(0,p.r0a)(x).forEach(function(A){return A.clear();});}));}Object.defineProperties(q.prototype,{parent:{get:function(){return this.Nn();},enumerable:!1,configurable:!0}});q.prototype.Xgb=function(u,t){return new q(function(){return u;},{pW:t,Kza:t},this.config,"temp");};q.prototype.mB=function(u){var t,w,v;m.K && this.console.trace("downConverting",u);t=this.parent;w=this.L1;v=w.pW;if(t === w.Kza)return u;if(v.O[u.I])return (t.O[u.I] || m.K && this.console.warn("Received a down converted position unexpectedly",u,Error().stack),u);w=(0,g.Aka)(u,t);u=(0,l.Ygb)(t,v,{offset:w.U3.G,v:u.I});u={offset:w.ao.add(f.L.Na(u.offset)),I:u.v};m.K && this.console.trace("downConverting ret:",u);return u;};q.prototype.hs=function(u){var t,w,v;m.K && this.console.trace("upConverting",u);t=this.parent;w=this.L1;v=w.pW;if(t === w.Kza)return u;if(t.O[u.I])return (v.O[u.I] || m.K && this.console.warn("Received a up converted position unexpectedly",u,Error().stack),u);w=(0,g.Aka)(u,v);u=(0,l.jWa)(t,v,{offset:w.U3.G,v:u.I});u={offset:w.ao.add(f.L.Na(u.offset)),I:u.v};m.K && this.console.trace("upConverting ret:",u);return u;};q.prototype.YKb=function(u){var t;t=(0,l.y0a)(this.parent,this.L1.pW,{v:u.I,offset:u.offset.G});t=(0,h.q5a)(t);(0,n.assert)(t,("Could not find any segments in the path of ").concat(u));return t;};c.__decorate([(0,d.Qb)({methodName:"downConvertPosition",gk:!0,up:!0,return:!0}),(0,p.Yja)("d")],q.prototype,"mB",null);c.__decorate([(0,d.Qb)({methodName:"upConvertPosition",gk:!0,up:!0,return:!0}),(0,p.Yja)("u")],q.prototype,"hs",null);return q;})();b.vda=r;},88801:function(r,b,a){var k,d,g,n,h,m,p,q,u;function c(t,w){var v,y,x,z;if((v=t.Kc.da.O[w]) && v.cc && t.Kc.Vc){v=t.Va;for(var A={offset:d.L.Ia,I:w};v.parent;){v=v.parent;A=v.Bg.hs(A);}v=v.da.O[A.I];v=v.J;(w=(0,p.TF)(w)) && (z=null === (x=null === (y=t.Kc.Vc.Xe.ie[v]) || void 0 === y?void 0:y[w.uj]) || void 0 === x?void 0:x.ru);}return z;}function l(t,w,v,y){var x;return w === h.Iu.qT?(w=d.L.Ia,(null === y || void 0 === y?void 0:y.ujc) === u.end && (w=d.L.Na(null !== (x=v.Kc.da.O[t].va) && void 0 !== x?x:0),(0,g.assert)(0 < w.G,"EndTime must be non null")),v.Bg.mB({offset:w,I:t}).I):v.Bg.hs({offset:d.L.Ia,I:t}).I;}function f(t,w,v){return w === h.Iu.Lza?v.Bg.hs(t):v.Bg.mB(t);}Object.defineProperties(b,{__esModule:{value:!0}});b.dw=void 0;k=a(5163);d=a(42866);g=a(62558);r=a(93079);n=a(74251);h=a(91795);m=a(93514);p=a(83981);q=a(36479);a=(0,n.Obb)();a=(0,r.SUa)()({B6a:"combinedPlaygraph",cO:{Qg:a()({map:f,Mx:q.H4a}),Od:a()({map:function(t,w,v,y){var x;x=(null === y || void 0 === y?0:y.Eo)?(0,q.k6)(t,y.Eo):t.position;w=f(x,w,v);t=(0,q.a4)(t,null === y || void 0 === y?void 0:y.Eo);(null === y || void 0 === y?0:y.Eo)?(0,q.Ncb)(t,y.Eo,w):t.position=w;return t;},Mx:function(t,w,v){return (null === v || void 0 === v?0:v.Eo)?(0,q.k6)(t,v.Eo):(0,q.Od)(t);}}),uAa:a()({map:function(t,w,v,y){var x;if(w === h.Iu.qT)return null !== (x=t.inner) && void 0 !== x?x:t;w=(0,q.a4)(t,null === y || void 0 === y?void 0:y.Eo);null !== y && void 0 !== y && y.Eo || (w.inner=t,"gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).clb && (w.gctag=void 0));return w;},Mx:function(t,w,v){return (null === v || void 0 === v?0:v.Eo)?"object" === typeof (0,q.k6)(t,v.Eo):"object" === typeof t;}}),I:a()({map:l,Mx:q.L4a}),NX:a()({map:function(t,w,v,y){var x,z;z=null !== (x=t.I) && void 0 !== x?x:t.segmentId;w=l(z,w,v,y);return t.I?k.__assign(k.__assign({},t),{I:w}):k.__assign(k.__assign({},t),{segmentId:w});},Mx:q.S2a}),ela:a()({map:function(t,w,v){w === h.Iu.qT?(t=(0,m.Fp)(v.Kc.da,t.J,t.Ml,{bcb:!0}),(0,g.assert)(void 0 !== t,"Graph position must exist in ux playgraph"),t=v.Bg.mB(t),w=t.I,t=t.offset,w=v.Va.da.O[w],v=w.J,w=w.ta,t=d.L.Na(w).add(t)):(t=(0,m.Fp)(v.Va.da,t.J,t.Ml,{bcb:!0}),(0,g.assert)(void 0 !== t,"Graph position must exist in combined playgraph"),t=v.Bg.hs(t),w=t.I,t=t.offset,w=v.Kc.da.O[w],v=w.J,w=w.ta,t=d.L.Na(w).add(t));return {Ml:t,J:v};},Mx:q.s4a}),Ija:a()({Mx:q.p4a,map:function(t,w,v){var y,x,z,A,B;if(w === h.Iu.qT){w={I:t.v.id,offset:d.L.Ia};z=v.Bg.mB(w);w=v.Va.da.O[z.I];v=v.Kc.da.O[t.v.id];A=w.va;B=w.ta;A=null !== (y=A && A - B) && void 0 !== y?y:0;v=t.xd.add(d.L.Na(w.ta - v.ta));return {xd:v,oH:t.Pr.add(d.L.Na(A)),Pr:t.Pr,v:{id:z.I,se:d.L.Na(w.ta),Jf:d.L.Na(null !== (x=w.va) && void 0 !== x?x:0)}};}w={I:t.v.id,offset:d.L.Ia};x=v.Bg.hs(w);B=v.Cqa.pW;w=B.O[t.v.id];z=v.Kc.da.O[x.I];y=d.L.Na(null !== (A=z.va && z.va - z.ta) && void 0 !== A?A:0);z.va && Infinity !== z.va || (A=v.Bg.YKb(x),B=B.O[A],B.va && (y=v.Bg.hs({I:A,offset:d.L.Na(B.va - B.ta)}).offset));A=t.Pr.qa(x.offset);B=A.add(y);v=t.xd.add(d.L.Na(z.ta - w.ta));t=d.L.Na(z.ta);w=y.add(t);return {xd:v,oH:B,Pr:A,v:{id:x.I,se:t,Jf:w}};}}),awb:a()({Mx:function(t){return "segmentPresenting" === t.type;},map:function(t,w,v){var y;t=(0,q.a4)(t);if((w=t.metrics) && void 0 === w.adBreakLocationMs){y=c(v,w.destPosition.I);void 0 !== y && (w.adBreakLocationMs=y);y=c(v,w.srcStartPosition.I);void 0 !== y && (w.srcadBreakLocationMs=y);}return t;}})}});(function(t){t[t.efc=0]="beginning";t[t.end=1]="end";})(u || (u={}));b.dw=a;},32837:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.f$a=void 0;b.f$a={"*":{HZa:["logdata"],rules:[{Mj:function(a){return a.uAa;}}]},segmentPresenting:[{Mj:function(a){return a.uAa;},config:{Eo:["metrics"]}},{Mj:function(a){return a.Od;}},{Mj:function(a){return a.Od;},config:{Eo:["metrics","srcStartPosition"]}},{Mj:function(a){return a.Od;},config:{Eo:["metrics","srcTransitionPosition"]}},{Mj:function(a){return a.Od;},config:{Eo:["metrics","destPosition"]}},{Mj:function(a){return a.awb;}}],streamPresenting:[{Mj:function(a){return a.Od;}}],segmentAppended:[{Mj:function(a){return a.NX;}}]};},31503:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.pMa=void 0;c=a(5163);l=a(12043);f=a(33285);k=a(97810);d=a(19332);g=a(32837);r=(function(){function n(h,m){var p;p=this;this.$U=h;this.events=(0,d.mla)(function(){return p.Hva;},this.$U.events,m,g.f$a);this.Pqb=(0,k.Mh)(l.platform,this.$U.console,"PLAYERHOST");new f.Su({ro:10,qn:this,source:"PlayerHost",console:this.Pqb});}n.prototype.Fka=function(){this.Hva=void 0;};n.prototype.Nxa=function(h){this.Hva=h;};c.__decorate([(0,f.Qb)({methodName:"clearProxyPlaygraphContext"})],n.prototype,"Fka",null);c.__decorate([(0,f.Qb)({methodName:"setProxyPlaygraphContext"})],n.prototype,"Nxa",null);return n;})();b.pMa=r;},43247:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.h$a=void 0;b.h$a={"*":{HZa:["logdata"],rules:[{Mj:function(a){return a.uAa;}}]},locationSelected:[{Mj:function(a){return a.NX;}}],segmentComplete:[{Mj:function(a){return a.NX;}}],segmentStarting:[{Mj:function(a){return a.NX;}}],serverSwitch:[{Mj:function(a){return a.NX;}}],streamSelected:[{Mj:function(a){return a.Od;}}]};},61341:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.sfa=void 0;c=a(5163);l=a(42866);f=a(42866);k=a(48641);d=a(33285);g=a(27364);n=a(62558);h=a(49730);m=a(57206);p=a(69287);q=a(19332);u=a(43247);r=(function(){function t(w,v,y,x){var z;void 0 === x && (x="CphAsePlaygraph");z=this;this.kp=w;this.Z8a=v;this.Pbb=y;this.i7b=x;this.Nqb=new m.Bfa();this.Z8a(function(A){var B;B=A.Kz;return c.__awaiter(z,void 0,void 0,function(){var C;return c.__generator(this,function(D){switch(D.label){case 0:return [4,B];case 1:return (C=D.Wa(),this.GC(C),[2]);}});});});}Object.defineProperties(t.prototype,{Va:{get:function(){return this.kp.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{zj:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{da:{get:function(){return this.rj;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{parent:{get:function(){return this.Nn;},set:function(w){this.Nn=w;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Bg:{get:function(){return this.kp.Bg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{T:{get:function(){return this.Va.console;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{W:{get:function(){return this.Va.config;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{O2a:{get:function(){return !1;},enumerable:!1,configurable:!0}});t.prototype.Db=function(){var w,v,y;w=this;v=this.kp;this.Jga=new d.Su({ro:10,qn:this,source:this.i7b,console:this.T});this.events=(0,q.mla)(function(){return v;},v.Va.events,this.Pbb,u.h$a);this.rj=v.Va.da;y=v.Bg;v.Va.Fe(new k.ox(this.Jga));v.Va.Fe(new k.ox(v.Bg.Yg));v.Va.Fe(new p.YCa(("").concat(v.F5a,"::gls"),y));v.Va.events.on("playgraphUpdating",function(){w.kp.Cqa.D$();});v.Va.parent=v.Kc;};t.prototype.qv=function(w){var v,y;y=null !== (v=this.Z) && void 0 !== v?v:this.Va.Z;this.Z=w;w.Nxa && w.Nxa(this.kp);(v=this.kp.Va.qv(w.$U || w))?(this.Z=w,y !== w && y.Fka && y.Fka()):this.Z=y;return v;};t.prototype.ewa=function(w,v,y,x,z){(w=w || this.eB(v || this.rj)) && this.tWb(w,this.O2a,y,x,z);};t.prototype.tWb=function(w,v,y,x,z){var A,B,C,D,E,G,F;A=this.kp.Kc;B=A.Z;D=A.da;if(C=y?y:A.vr && B.Od?B.zg:A.wr?A.vh:void 0){E=this.Va.da.O[C.I];E && E.cc && (C=this.Bg.hs(C));}A.config.N9b && v && B.UC(!0);v=A.i1a();h.K && this.T.log(("onNewInnerPlaygraph: outer: ").concat(JSON.stringify(D)));h.K && this.T.log(("onNewInnerPlaygraph: combined: ").concat(JSON.stringify(w)));this.Nqb.set(w,!0);D=this.Va.tu(w);try{if(!D.ia || C && !B.Od && !A.wr || y && z)if(((0,n.assert)(!B.sa.li,"Player is not paused:" + g.Iq[D.reason]),A.Hf(!0),this.Va.tu(w),C)){G=this.Bg.mB(C);F=w.O[G.I];"padding" === (null === F || void 0 === F?void 0:F.type) && (G={I:F.Fb,offset:l.L.Ia});this.Pxa(C,x);this.Va.haa(G,x,z);B.resume();}}finally{v.release();}};t.prototype.tu=function(w){var y,x;function v(){y.rj=w;}y=this;x=this.eB(w) || w;try{return (this.Va.events.B$a("playgraphUpdating",v),this.Va.tu(x));}finally{this.Va.events.removeListener("playgraphUpdating",v);}};Object.defineProperties(t.prototype,{$b:{get:function(){return this.mQa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{tja:{get:function(){var w,v,y,x;w=this;y=Object.keys(this.Va.da.O);if(y=(0,f.ec)(y,function(z){return !!w.Va.da.O[z].cc;})){y=this.Va.da.O[y].cc;x=this.da.O[y];return null !== (v=null === x || void 0 === x?void 0:x.J) && void 0 !== v?v:Number(y.split(":")[0]);}},enumerable:!1,configurable:!0}});t.prototype.GC=function(w){var v,y,x,z;y=w.Y;x=y.$b;y=y.Nm;z=null !== (v=this.W.$ma) && void 0 !== v?v:[];if(y && z.some(function(A){return A == w.P;}))return (v=("").concat(w.P," was excluded from content playgraph"),this.Jga.Ys(v),h.K && this.T.trace(v),!1);x && !this.mQa && (this.mQa=x);return !0;};t.prototype.Hf=function(w){this.Va.Hf(w);};t.prototype.Pxa=function(){};c.__decorate([(0,d.Qb)({methodName:"attachPlayer"})],t.prototype,"qv",null);c.__decorate([(0,d.Qb)({methodName:"reevaluateInnerPlaygraph"})],t.prototype,"ewa",null);c.__decorate([(0,d.Qb)({methodName:"processViewableResponse"})],t.prototype,"GC",null);c.__decorate([(0,d.Qb)({methodName:"cancelStreaming"})],t.prototype,"Hf",null);return t;})();b.sfa=r;},36479:function(r,b,a){var l;function c(f,k){var d,g;d=l.__assign({},f);g=l.__read(k || [],1)[0];g && f[g] && (f=f[g],"object" === typeof f?(k=k.concat(),k.shift(),d[g]=c(f,k)):d[g]=f);return d;}Object.defineProperties(b,{__esModule:{value:!0}});b.Ncb=b.a4=b.k6=b.p4a=b.s4a=b.L4a=b.S2a=b.H4a=b.Od=void 0;l=a(5163);b.Od=function(f){return !(null === f || void 0 === f || !f.position);};b.H4a=function(f){return !(null === f || void 0 === f || !f.I) && !(null === f || void 0 === f || !f.offset);};b.S2a=function(f){return !(null === f || void 0 === f || !f.I) || !(null === f || void 0 === f || !f.segmentId);};b.L4a=function(f,k){return "string" === typeof f && !(!k.Kc.da.O[f] && !k.Va.da.O[f]);};b.s4a=function(f){return !(null === f || void 0 === f || !f.J) && !(null === f || void 0 === f || !f.Ml);};b.p4a=function(f){return !(null === f || void 0 === f || !f.xd);};b.k6=function(f,k){var d;d=f;k.forEach(function(g){d=null === d || void 0 === d?void 0:d[g];});return d;};b.a4=c;b.Ncb=function(f,k,d){for(var g=0;g < k.length - 1 && f;g++){f=f[k[g]];}return f?(f[k[k.length - 1]]=d,!0):!1;};},58730:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.rCa=void 0;c=a(57055);l=a(42866);f=a(12043);k=a(97810);d=a(7881);g=a(49730);n=a(27364);r=(function(){function h(m,p,q,u,t,w){this.tc=m;this.vq=p;this.config=q;this.ZVb=u;this.Qd=t;this.console=w;this.Tga=new c.De();this.console=(0,k.Mh)(f.platform,w,"BranchDecisionMaker");}h.GJb=function(m){var p;return null !== (p=m.Hb) && void 0 !== p?p:m.oH;};h.BKb=function(m){var p,q;p=m.v;q=m.aN;return p.Fb?p.Fb:q.length?q[0]:m.Vy[0];};h.prototype.oza=function(m,p){var q,u,t,w;q=this;t=m.v;g.K && this.console.trace(("tracking ").concat(m.v.id));this.reset();if(t.zY || 1 >= t.Vy.length && (null === (u=t.ow) || void 0 === u || !u.length))g.K && this.console.trace(("").concat(m.v.id," does not need tracking"));else {w=this.qxb(m);u=w.jxa;p=p.lessThan(w.EOb);g.K && this.console.trace(("tracking ").concat(m.v.id),{I:t.id,Nfc:p,njc:null === u || void 0 === u?void 0:u.G});this.i2b(t,p?u:void 0);if(p)this.Tga.on(m.events,"branchEdited",function(){q.oza(m,q.tc.sa.currentTime);});}};h.prototype.OVa=function(){var m;null === (m=this.PXa) || void 0 === m?void 0:m.Oa();this.PXa=void 0;};h.prototype.reset=function(){this.OVa();this.Tga.clear();};h.prototype.qxb=function(m){var p,q;m=h.GJb(m);p=l.L.Na(this.config.U8);q=l.L.Na(this.config.pUb + this.config.T8);p=m.qa(p);return {EOb:(0,n.gn)(this.Qd.value)?m.qa(q):p,jxa:p};};h.prototype.i2b=function(m,p){var q;q=this;this.OVa();this.PXa=p?this.tc.fB(d.Lg.vu(p),function(){return q.q6a(m);},"scheduled branch decision"):this.vq.fB(d.Lg.T9b,function(){return q.q6a(m);},"immediate branch decision");};h.prototype.q6a=function(m){var p;this.Tga.clear();p=h.BKb(m);g.K && this.console.trace(("BranchDecisionMaker making decision for ").concat(m.id,", decision is ").concat(p));this.ZVb(m.id,p,!0);};return h;})();b.rCa=r;},10814:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.ECa=void 0;c=a(5163);l=a(42866);f=a(12043);k=a(27364);d=a(62558);g=a(33285);n=a(7881);r=(function(){function h(m,p,q,u,t,w,v){var y;void 0 === v && (v=500);y=this;this.T=m;this.config=p;this.Jc=q;this.events=u;this.Mma=t;this.tc=w;this.Twb=v;this.tva=this.dva=this.Oja=0;this.I8=[];this.vL={mt:0};this.state=new l.Cq(k.Sc.Fs);this.Yg=new g.Su({ro:10,qn:this,source:"BufferStateTracker",nTa:function(){return {isBuffering:y.Dj,alwaysRunUnderflowTimer:y.config.qK};}});}Object.defineProperties(h.prototype,{mt:{get:function(){return this.vL.mt;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Dj:{get:function(){return (0,k.gn)(this.state.value);},enumerable:!1,configurable:!0}});h.prototype.Tza=function(m){var p;p=this;Array.isArray(m) || (m=[m]);m.forEach(function(q){q.mediaType === k.u.$ && (p.NUa=c.__assign(c.__assign({},p.NUa),{audio:{trackId:q.trackId,trackIndex:q.AI}}));});};h.prototype.zWb=function(){this.config.RYb && (this.dva=f.platform.time.wa());};h.prototype.E9=function(m){this.set(k.Sc.Fs);this.qya(m,k.Sc.ee);};h.prototype.x9=function(){this.vL.mt++;};h.prototype.zW=function(m){this.config.qK || void 0 === this.Fy && this.Dj && this.rla();this.Fy={dn:m.httpCode,rg:m.errorCode,$i:m.nativeCode};};h.prototype.G9=function(){this.Fy=void 0;this.config.qK || this.O4();};h.prototype.rh=function(m){this.Dj || (this.qya(m,k.Sc.$j),this.Dj && (this.Fy || this.config.qK) && this.rla());};h.prototype.NWb=function(m,p){this.state.value !== k.Sc.ee && this.qya(m,k.Sc.w1);this.Tza(p);};h.prototype.lWb=function(m,p){var q;q=this;this.config.Rwb && this.Dj && (-1 === this.I8.indexOf(m) && this.I8.push(m),2 === this.I8.length && Promise.resolve().then(function(){q.Dj && void 0 !== q.vw && q.ek("memoryLimit",p.PO,p.QO);}));};h.prototype.$2b=function(m,p){(0,d.assert)(this.state.value === k.Sc.ee && void 0 === this.vw);this.vw=m;p && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:p.trackId,trackIndex:p.AI}),this.Tza(p));};h.prototype.o3b=function(m,p,q){(0,d.assert)(this.Dj);this.wqa=null !== m && void 0 !== m?m:this.wqa;this.YU=null !== p && void 0 !== p?p:this.YU;this.lM=q || this.lM;};h.prototype.ek=function(m,p,q){var u;(0,d.assert)(this.Dj && void 0 !== this.vw && void 0 === this.H3 && void 0 === this.Bba && void 0 === this.H2);this.H3=m;this.Bba=p;this.H2=q;this.Cp=100;this.Eka();this.O4();null === (u=this.vka) || void 0 === u?void 0:u.Oa();this.state.value === k.Sc.$j && (this.tva=f.platform.time.wa());this.kFb();this.set(k.Sc.yl);this.H2=this.Bba=this.H3=this.lM=this.YU=this.wqa=this.vw=void 0;};h.prototype.stop=function(){var m;this.set(k.Sc.Fs);this.Eka();this.O4();null === (m=this.vka) || void 0 === m?void 0:m.Oa();};h.prototype.uka=function(m,p,q,u){var t,w,v,y,x,z,A,B,C,D;t=this;(0,d.assert)(this.Dj);null === (w=this.vka) || void 0 === w?void 0:w.Oa();if(this.state.value === k.Sc.$j && f.platform.time.wa() < this.tva + this.config.E7a){x=this.config.E7a - (f.platform.time.wa() - this.tva);this.vka=this.tc.fB(n.Lg.jD(l.L.Na(x)),function(){t.uka(m,p,q,u);});}else {w=q.cG(k.u.$);z=q.cG(k.u.X);A=f.platform.time.wa() - Math.max(this.Oja,this.dva);if(w || z){B=function(E){return E?E.yr() || E.hn()?u.R3(t.state.value,m,A >= t.config.XW,p,E,t.mt):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};C=B(w);B=B(z);D=function(E){var G;return {reason:E.reason,complete:E.complete,bl:null !== (G=E.Bp) && void 0 !== G?G:0};};this.Yg.Ys({as:D(C),vs:D(B),bt:A});D=z?B:C;D.w9b=z && B.Bp || 0;D.Fvb=w && C.Bp || 0;C.complete && B.complete?(D.complete=!0,this.ek(null !== (x=D.reason) && void 0 !== x?x:"unknown",null !== (v=D.w9b) && void 0 !== v?v:0,null !== (y=D.Fvb) && void 0 !== y?y:0)):(D.complete=!1,this.pxb(D),this.Yg.Ys({bp:this.Cp}));}}};h.prototype.pxb=function(m){var p,q,u;u=m.progress;m.IV?u=(f.platform.time.wa() - Math.max(this.Oja,this.dva)) / this.config.XW:u || (u=(null !== (p=m.Bp) && void 0 !== p?p:0) / this.config.Yp);m=Math.min(Math.max(Math.round(100 * u),null !== (q=this.Cp) && void 0 !== q?q:0),99);m != this.Cp && (this.Cp=m);};h.prototype.qya=function(m,p){(0,d.assert)(p === k.Sc.ee || void 0 !== m);this.vw=m;this.Cp=0;this.l9=void 0;this.vL.mt=0;this.I8=[];m=this.state.value === k.Sc.ee || this.state.value === k.Sc.$j;this.Oja=f.platform.time.wa();this.set(p);m || (this.mFb(),this.N3b());};h.prototype.set=function(m){this.state.set(m);};h.prototype.mFb=function(){(0,d.assert)(this.events && void 0 !== this.Cp);this.l9=this.Cp;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:f.platform.time.wa(),percentage:this.Cp});};h.prototype.N3b=function(){var m;m=this;this.Eka();this.iVb=this.tc.ZWa(function(){return m.lFb();},l.L.Na(this.Twb),"buffering-notification");};h.prototype.Eka=function(){var m;null === (m=this.iVb) || void 0 === m?void 0:m.Oa();};h.prototype.lFb=function(){this.Dj && this.events && void 0 !== this.Cp && this.Cp !== this.l9 && this.events.emit("buffering",{type:"buffering",time:f.platform.time.wa(),percentage:this.Cp}) && (this.l9=this.Cp);};h.prototype.kFb=function(){(0,d.assert)(this.events && this.vw && void 0 !== this.H3 && void 0 !== this.H2 && void 0 !== this.Bba);this.l9=this.Cp;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:f.platform.time.wa(),actualStartPosition:this.vw,reason:this.H3,aBufferLevelMs:this.H2,vBufferLevelMs:this.Bba,selector:this.wqa,initBitrate:this.YU,initSelReason:this.lM},this.NUa));};h.prototype.rla=function(){var m;m=this;this.config.Ggb && (!this.Ez || this.Ez.state !== n.Kk.complete && this.Ez.state !== n.Kk.zF?void 0 === this.Ez && (this.Ez=this.tc.$x(function(){return m.Ufb();},"underflow")):this.Ez.rf());};h.prototype.O4=function(){this.Ez && (this.Ez.state !== n.Kk.zF && this.Ez.Oa(),this.Ez=void 0);};h.prototype.Ufb=function(){var m,p,q;return c.__generator(this,function(u){switch(u.label){case 0:return (m=this.config.r8,this.T.trace(("BufferingStateTracker: starting underflow timer: ").concat(m,"ms")),[4,n.Lg.jD(l.L.Na(m))]);case 1:(u.Wa(),u.label=2);case 2:if(!this.Dj)return [3,4];p=this.Jc.eRb || 0;q=f.platform.time.wa() - p;if(q >= m)return (this.T.trace(("Forcing streaming failure, ").concat(q,"ms since data received")),this.Mma.OWb(this.Fy),[2]);this.T.trace(("BufferingStateTracker: network activity, wait ").concat(m - q,"ms"));return [4,n.Lg.jD(l.L.Na(m - q))];case 3:return (u.Wa(),[3,2]);case 4:return [2];}});};c.__decorate([(0,g.Qb)({methodName:"onTemporaryNetworkError",gk:!0})],h.prototype,"zW",null);c.__decorate([(0,g.Qb)({methodName:"onUnderflow",gk:!0})],h.prototype,"rh",null);c.__decorate([(0,g.Qb)({methodName:"bufferingComplete",gk:!0})],h.prototype,"ek",null);c.__decorate([(0,g.Qb)({methodName:"stop",gk:!0})],h.prototype,"stop",null);c.__decorate([(0,g.Qb)({methodName:"checkStreamingBufferingComplete",gk:!0})],h.prototype,"uka",null);c.__decorate([(0,g.Qb)({methodName:"createUnderflowTask",gk:!0})],h.prototype,"rla",null);c.__decorate([(0,g.Qb)({methodName:"destroyUnderflowTask",gk:!0})],h.prototype,"O4",null);c.__decorate([(0,g.Qb)({methodName:"onUnderflowTimeout",gk:!0})],h.prototype,"Ufb",null);return h;})();b.ECa=r;},43603:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.SWa=void 0;c=a(5163);l=a(27364);b.SWa=function(f){var n,h;function k(m){(0,l.gn)(m.newValue) && !(0,l.gn)(m.oldValue)?(null === h || void 0 === h?void 0:h.Oa(),h=n.fB.apply(n,c.__spreadArray([],c.__read(d),!1))):null === h || void 0 === h?void 0:h.Oa();}for(var d=[],g=1;g < arguments.length;g++){d[g - 1]=arguments[g];}g=f.Ze;n=f.vq;g.state.addListener(k);k({oldValue:l.Sc.Fs,newValue:g.state.value});};},98468:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Rma=void 0;c=a(42866);b.Rma=function(l,f,k,d,g){var n,h;n=[];h=[];l=l.om.values.filter(function(m){return m.cn;}).map(function(m){var p,q;p=f(m.la,k,d,g);q=p.map(function(u){return u.mediaType;});n=(0,c.rK)(n,q);q=(0,c.Rq)(p,m.Bd).map(function(u){return u.mediaType;});h=(0,c.rK)(h,q);q=(0,c.Rq)(m.Bd,p).map(function(u){return u.mediaType;});h=(0,c.rK)(h,q);return {Sa:m,Bd:p};});return {tVa:h,Gwb:l,yub:n};};},23671:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.HFa=void 0;c=a(5163);l=a(93161);f=a(18792);k=a(62558);d=a(27364);g=a(17329);n=a(74377);r=(function(h){function m(p,q,u,t,w){p=h.call(this,p,q,u,t,w) || this;q=(0,n.Xoa)(p.config);p.u$a=q.BN.bind(q);return p;}c.__extends(m,h);m.prototype.icb=function(p,q,u,t,w,v,y,x,z){var A,B,C,D,E,G,F,J,M;B=[];if(!this.U9(v.track,v.track.aa?v.track.n1a(t):void 0))return {stream:J,uw:B,reason:"locationSelectionFailure"};C=v.Io;D=v.GL;E=C.m6();G=this.TKb(v,q,p,u,y,x);t=G.first;y=(null === y || void 0 === y?void 0:y.Q3) || (null === x || void 0 === x?void 0:x.Q3);if(0 === t.length && y)return {stream:void 0,uw:B,reason:"allStreamsFiltered"};!E || (null === (A=E.EU(v.track.mediaType)) || void 0 === A?0:A.equals(v.track)) || (E=this.SHb(E,t));F=v.mediaType;if(F === l.u.$ && E){J=E.Op(F);B=this.f2a(t,E,F);return {stream:J,uw:B};}E=(0,d.VW)(p);q=this.gXa(E,q,w,v,!!z);q=C.naa(q,G,0,this.u$a,v.Uqa(),v.track.la.Av,D);if(!q)return {stream:J,uw:B,reason:"streamSelectionFailure"};v={mf:q.mf,BC:q.BC};if(q.reason){M=q.reason;this.AVa(F,t,u);}this.nFb(q,t);E=q.cd || t[0];C.Yi(l.u.$).WH(E.Op(l.u.$));C.Yi(l.u.X).WH(E.Op(l.u.X));B=this.f2a(t,E,F);J=E.Op(F);u=q.sn;t=Array.from(new Set(t.map(function(L){return L.Op(F);}).filter(function(L){return void 0 !== L;})));C=c.__assign(c.__assign({},q),{cd:J});return {stream:J,uw:B,lM:M,Wr:v,sn:u,c_a:t,jcb:C};};m.prototype.f2a=function(p,q,u){var t;p=p.map(function(w){return w.Op(u);});t=q.Op(u);return p.filter(function(w){var v;return void 0 !== w && w !== t && !!w.yn && !w.aa && !(null === (v=w.Ha) || void 0 === v?0:v.length);});};m.prototype.TKb=function(p,q,u,t,w,v){var y,x,z;y=new g.Rda();x=this.oh(p.Sa.AU(l.u.$),u,t,p.Sa.xd,p.Sa.hf,w);z=this.oh(p.Sa.AU(l.u.X),u,t,p.Sa.xd,p.Sa.hf,v);x=this.$Wa(x,z);y.UE(x);q=p.Sa.Hb.qa(q);for(q=this.config.w8 - q.G;0 < q;){p=this.navigator.next(p);if(null === p || void 0 === p || !p.hf)break;x=this.oh(p.Sa.AU(l.u.$),u,t,p.Sa.xd,p.Sa.hf,w);z=this.oh(p.Sa.AU(l.u.X),u,t,p.Sa.xd,p.Sa.hf,v);x=this.$Wa(x,z);y.UE(x);q-=p.Sa.v.duration.G;}return y;};m.prototype.$Wa=function(p,q){var u,t,w;t=[];(0,k.assert)(0 < p.length && 0 < q.length,"We should have at least one video stream and one audio stream");if(0 < p.length){w=p[0];try{for(var v=c.__values(q),y=v.next();!y.done;y=v.next()){t.push(new f.GZ({audio:w,video:y.value}));}}catch(z){var x;x={error:z};}finally{try{y && !y.done && (u=v.return) && u.call(v);}finally{if(x)throw x.error;}}if(1 < p.length && 0 < q.length)for((q=q[q.length - 1],x=1);x < p.length;x++){t.push(new f.GZ({audio:p[x],video:q}));}}return t;};m.prototype.SHb=function(p,q){var u;u=q[0];q.filter(function(t){return t.Ar;}).every(function(t){return t.p3 && t.Eba && p.p3 && p.Eba && t.p3 <= p.p3 && t.Eba <= p.Eba?(u=t,!0):!1;});return u;};m.prototype.R3=function(p,q,u,t,w,v,y){var x,z,A;if(!(0,d.gn)(q))return {complete:!0,reason:"playing"};if(!v.pva)return {complete:!1,reason:"unknown"};if(v.j9a)return ((0,k.assert)(v.K9),v.K9);x=v.Io;z=this.foa(v,u);A=x.m6();u=z.Si - z.Oc;if(u < this.config.Yp || void 0 === A)return {complete:!1,Bp:u,reason:"preBuf"};if(v.mediaType === l.u.$)return {complete:!0,Bp:u,reason:"audio"};if(p=p.tka(v.mediaType))return {complete:!0,Bp:u,reason:p};this.U9(v.track);v=new g.Rda();v.UE([A]);x.ZW(v,(0,d.VW)(q),z,this.u$a);q=x.iF(z,q,w,A,{mt:y});if(!q.complete && t)return {complete:!0,reason:"prebufferTimeLimit",Bp:u};q.Bp=u;return q;};m.prototype.nFb=function(p,q){this.events.emit("jointStreamSelection",{type:"jointStreamSelection",result:p,streamList:q});};return m;})(a(42783).xda);b.HFa=r;},58726:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.bxa=b.Aka=b.il=b.A2a=b.Zgb=void 0;c=a(42866);l=a(62558);f=a(49730);b.Zgb=function(d,g){d=d.O[g.I];if(void 0 === d)return {vM:!1,reason:("Segment ").concat(g.I," was not found")};if(0 > g.offset.G)return {vM:!1,reason:("Offset ").concat(g.offset.G," was negative")};if(void 0 === d.va || null === d.va || Infinity === d.va)return {vM:!0};d=d.va - d.ta;return g.offset.G >= d?{vM:!1,reason:("Offset ").concat(g.offset.G," was greater than segment duration ").concat(d)}:{vM:!0};};k=c.L.Na(100);b.A2a=function(d,g){if(d === g)return !0;if(d && g && d.I === g.I){if(d.offset === g.offset)return !0;d=c.L.abs(d.offset.qa(g.offset));if(k.greaterThan(d))return !0;}return !1;};b.il=function(d,g,n){var h,m,p,q;m=g.ya;g=g.dPb;void 0 === n && (n={});p=m.da;m=m.navigator;p=m.me(null !== (h=null === g || void 0 === g?void 0:g.id) && void 0 !== h?h:p.Be);h=(null === g || void 0 === g?void 0:g.y2b) || p.se;if(h.greaterThan(d))return n.J4b?{offset:d.qa(h),I:p.id}:void 0;m=m.c5a(p);for(p=m.next();!p.done;){g=p.value;p=g.Jf.qa(g.se);q=h;h=q.add(p);if(h.greaterThan(d))return (d=d.qa(q),f.K && (0,l.assert)(d.ji(c.L.Ia) && d.lessThan(p)),{I:g.id,offset:d});p=m.next();if(p.done && n.K4b)return {I:g.id,offset:d.qa(q)};}};b.Aka=function(d,g){g=g.O[d.I];return d.offset.lessThan(c.L.Ia)?{U3:c.L.Ia,ao:d.offset}:g.va && (g=c.L.Na(g.va - g.ta),g.isFinite() && d.offset.greaterThan(g))?{U3:g,ao:d.offset.qa(g)}:{U3:d.offset,ao:c.L.Ia};};b.bxa=function(d,g){d=d.O[g.I];if(void 0 !== d)return null === d.va || void 0 === d.va?{I:g.I,offset:c.L.max(c.L.Ia,g.offset)}:{I:g.I,offset:c.L.max(c.L.Ia,c.L.min(g.offset,c.L.Na(d.va - d.ta)))};};},42783:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.xda=void 0;r=a(5163);c=a(12043);l=a(27364);f=r.__importDefault(a(76733));a=(function(){function k(d,g,n,h,m){this.config=d;this.D4b=g;this.navigator=n;this.events=h;this.console=m;}k.prototype.oh=function(d,g,n,h,m,p){return p?p.oh(d,g,n.qa(h),m):d;};k.prototype.pFb=function(d,g,n){this.events.emit("streamSelection",{type:"streamSelection",mediaType:d,result:g,streamList:n});};k.prototype.oFb=function(d,g,n,h){d={type:"maxVideoBitrateChanged",time:c.platform.time.wa(),streaming:h,maxvb_old:d,maxvb:g,reason:n};this.events.emit(d.type,d);};k.prototype.U9=function(d,g){return d.la.al.ugb(d.la.J,d.te,g);};k.prototype.foa=function(d,g){var x;for(var n,h=g.qa(this.D4b),m=[],p=d,q=g,u,t,w=0,v=0,y=!0;p;){x=p.X0a(h);if(!y && !p.ai)break;0 < x.Ha.length && (q=x.Ha[0].Cb,void 0 === u && (u=x.Ha[x.Ha.length - 1].Hb,t=x.P9 >= x.Ha.length?u:x.Ha[x.P9].Cb),m=x.Ha.concat(m),w+=0 < x.Nr?x.Nr:0,v+=x.RN);p=this.navigator.parent(p);y=!1;}return {ZA:c.platform.nU()[d.mediaType],kb:Math.floor(q.G),Oc:g.G,Tj:Math.floor(null !== (n=null === u || void 0 === u?void 0:u.G) && void 0 !== n?n:g.G),Si:Math.floor(t?t.G:g.G),lm:m.reduce(function(z,A){return z + A.xa;},0),Nr:w,RN:v,Fgc:m.length,Ha:m};};k.prototype.gXa=function(d,g,n,h,m){var p,q,u;p=this.foa(h,g);q=h.mediaType === l.u.X?this.config.gAa:this.config.nja;u=f.default.instance();return {state:d,YB:d === l.eb.he,Td:h.Vv,playbackRate:n,buffer:p,W4:q,hL:m,Ni:null === u || void 0 === u?void 0:u.Ni,mediaType:h.mediaType,Oc:g.G,$va:0};};k.prototype.AVa=function(d,g,n){var p,q;if(d === l.u.X){d="manifest";for(var h=0,m=g.length - 1;0 <= m;--m){p=g[m];q=p.bitrate;if(p.Cy){h=Math.max(h,q);break;}else this.config.Xaa && !p.Mp?d="bc":p.Up?p.qy && (d="hf"):d="av";}this.c7a !== h && (this.oFb(this.c7a,h,d,n),this.c7a=h);}};return k;})();b.xda=a;},124:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.IFa=void 0;c=a(5163);l=a(93161);f=a(27364);k=a(74377);d=a(17329);g=a(62558);r=(function(n){function h(m,p,q,u,t){m=n.call(this,m,p,q,u,t) || this;p=(0,k.Xoa)(m.config);m.raa=p.raa.bind(p);m.Zxa=p.Zxa.bind(p);m.Yna=p.Yna.bind(p);m.wpa=p.wpa.bind(p);m.v$a=[p.nva.bind(p),p.BN.bind(p)];return m;}c.__extends(h,n);h.prototype.icb=function(m,p,q,u,t,w,v,y,x){var z,A,B,C,D,E,G;z=[];y=w.mediaType === l.u.$?v:y;if(!this.U9(w.track,w.track.aa?w.track.n1a(u):void 0))return {stream:C,uw:z,reason:"locationSelectionFailure"};A=w.Io;u=A.hm;B=w.GL;C=u.mk;D=this.SMb(w,p,m,q,y);v=D.first;if(0 === v.length && (null === y || void 0 === y?0:y.Q3))return {stream:void 0,uw:z,reason:"allStreamsFiltered"};C && !C.track.equals(w.track) && (C=this.THb(C,v));E=w.mediaType;if((y=E === l.u.$) && C && !this.i4b(u,C))return (this.config.B2a && this.raa(C.bitrate),{stream:C,uw:z});m=(0,f.VW)(m);p=this.gXa(m,p,t,w,!!x);t=this.v$a[E];x=y?this.wpa():this.Yna();w=A.naa(p,D,x,t,w.Uqa(),w.track.la.Av,B);if(!w)return {stream:C,uw:z,reason:"streamSelectionFailure"};p={mf:w.mf,BC:w.BC};if(w.reason){G=w.reason;this.AVa(E,v,q);}this.pFb(E,w,v);C=w.cd || v[0];q=C.bitrate;y?this.config.B2a && this.raa(q):this.Zxa(q);u.WH(C);z=v.filter(function(F){var J;return F !== C && F.yn && !F.aa && !(null === (J=F.Ha) || void 0 === J?0:J.length);});return {stream:C,uw:z,lM:G,Wr:p,sn:w.sn,c_a:v,jcb:w};};h.prototype.SMb=function(m,p,q,u,t){var w;w=new d.fga();w.UE(this.oh(m.track.te,q,u,m.Sa.xd,m.hf(),t));p=m.Sa.Hb.qa(p);for(p=this.config.w8 - p.G;0 < p;){m=this.navigator.next(m);if(null === m || void 0 === m || !m.hf)break;w.UE(this.oh(m.track.te,q,u,m.Sa.xd,m.hf(),t));p-=m.Sa.v.duration.G;}return w;};h.prototype.i4b=function(m,p){return 0 < this.config.uY.length?!0:(m=m.yM) && m === p.location?!1:!0;};h.prototype.THb=function(m,p){var q;q=p[0];p.filter(function(u){return u.Ar;}).every(function(u){return u.bitrate <= m.bitrate?q=u:!1;});return q;};h.prototype.R3=function(m,p,q,u,t,w,v){var y,x,z;if(!(0,f.gn)(p))return {complete:!0,reason:"playing"};if(!w.pva)return {complete:!1,reason:"unknown"};if(w.j9a)return ((0,g.assert)(w.K9),w.K9);y=w.Io;x=y.hm;q=this.foa(w,q);z=x.mk;x=q.Si - q.Oc;if(x < this.config.Yp || void 0 === z)return {complete:!1,Bp:x,reason:"preBuf"};if(w.mediaType === l.u.$)return {complete:!0,Bp:x,reason:"audio"};if(m=m.tka(w.mediaType))return {complete:!0,Bp:x,reason:m};this.U9(w.track);m=new d.fga();m.UE([z]);y.ZW(m,(0,f.VW)(p),q,this.v$a[w.mediaType]);p=y.iF(q,p,t,z,{mt:v});if(!p.complete && u)return {complete:!0,reason:"prebufferTimeLimit",Bp:x};p.Bp=x;return p;};return h;})(a(42783).xda);b.IFa=r;},16567:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.wJa=void 0;c=a(5163);l=a(49730);f=a(2663);k=a(27364);d=a(33285);r=(function(){function g(n,h,m){this.uoa=n;this.DKb=h;this.T=m;this.Yg=new d.Su({qn:this,console:m,source:"MemoryDeadlockProtector",ro:5});}g.prototype.JIb=function(n){var h,m,p,q;p=n.config;q=p.Yp + (null !== (m=null === (h=p.oO) || void 0 === h?void 0:h.G) && void 0 !== m?m:0);h=this.KNb(q,n);l.K && this.T.debug(("MDP: has prebuf: ").concat(h));return h?{P4:!0}:(m=this.Dxb(p),h=m.fXb,m=m.g9b,h && m?(l.K && this.T.debug(("MDP: utilizing ").concat(Math.round(100 * m),"%")),m >= p.NTb?this.xbb(n,h):{P4:!0}):{P4:!1});};g.prototype.xbb=function(n,h){var m,p,q,u,t,v,z,A;this.Yg.Ys({o:h});u=n.Z;n=n.Za;t=u.Za;u=u.Br;for(var w=0;w < t.length;w++){if(!t[w].ai){u=t[w];t=t.slice(0,w + 1);break;}}w=!1;v=[{mediaType:k.u.$,Lx:0},{mediaType:k.u.X,Lx:0},{mediaType:k.u.Ga,Lx:0}];if(null === u || void 0 === u || !u.ai){n=n.map(function(C){return C;}).filter(function(C){return -1 === t.indexOf(C);}).sort(function(C,D){return (0,f.eka)(C) - (0,f.eka)(D);});try{for(var y=c.__values(n),x=y.next();!x.done;x=y.next()){z=x.value;A=z.JL();v[k.u.$].Lx+=null !== (p=A.cS) && void 0 !== p?p:0;v[k.u.X].Lx+=null !== (q=A.bZ) && void 0 !== q?q:0;l.K && this.T.debug(("Resetting discontiguous branch ").concat(z.v.id),A);z.reset();if(w=v.every(function(C){return C.Lx >= h[C.mediaType].Lx;}))break;}}catch(C){var B;B={error:C};}finally{try{x && !x.done && (m=y.return) && m.call(y);}finally{if(B)throw B.error;}}}return {P4:w,Jgc:v};};g.prototype.Dxb=function(n){var h,m,p,q,u;h=[k.u.$,k.u.X,k.u.Ga];if(!n.OTb)return {};m=this.DKb();p=this.uoa().total;q=n.MTb;u=0;n=h.map(function(t){var w;w=m[t] - p[t] * q;u=Math.max(0 < p[t]?m[t] / p[t]:0,u);return {Lx:Math.max(0,w),mediaType:t};});return {g9b:u,fXb:n};};g.prototype.KNb=function(n,h){var m,p,q;m=this;p=!1;h=h.vr?h.Z:void 0;if(null === h || void 0 === h?0:h.cPb){p=h.bz.nr().map(function(u){return u.mediaType;});q=h.UJb();p=p.every(function(u){var t,w;if(u === k.u.$)u=null !== (t=q.K2) && void 0 !== t?t:0;else if(u === k.u.X)u=null !== (w=q.Cba) && void 0 !== w?w:0;else return (l.K && m.T.trace("hasEnoughBuffer ignoring mediaType:",u),!0);return u >= n;});}return p;};c.__decorate([(0,d.Qb)({methodName:"resetDiscontiguousBranches",return:!0,gk:!0})],g.prototype,"xbb",null);return g;})();b.wJa=r;},50164:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Fea=void 0;c=a(5163);l=a(57055);f=a(49730);k=a(62558);r=(function(){function d(){this.events=new l.EventEmitter();}d.prototype.Db=function(g){var n;n=this;this.ya=g;this.ya.events.on("segmentNormalized",function(){n.D$();});this.D$();};Object.defineProperties(d.prototype,{pW:{get:function(){return this.zrb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Kza:{get:function(){(0,k.assert)(this.ya,"Must be initialized");return this.ya.da;},enumerable:!1,configurable:!0}});d.prototype.D$=function(){var g,n,h;g=this;if(this.ya){n={};h=this.ya.da;this.zrb=c.__assign(c.__assign({},h),{O:new Proxy(h.O,{get:function(m,p){var q;if(n[p])return n[p];m=h.O[p];if(!m)return m;q=g.SLb(p);q?(q=q.evb(),n[p]=c.__assign(c.__assign(c.__assign({},q),m),{ta:q.ta,va:q.va})):n[p]=h.O[p];return n[p];}})});this.events.emit("updated");}};d.prototype.SLb=function(g){var n;f.K && (0,k.assert)(this.ya,"Must be initialized");n=this.ya.navigator;return n.R2a(g)?n.me(g):void 0;};return d;})();b.Fea=r;},84975:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.vMa=void 0;c=a(42866);l=a(97810);f=a(62558);k=a(29960);r=(function(){function d(){this.Za=new l.KJa();this.om=new k.B1();}Object.defineProperties(d.prototype,{empty:{get:function(){return this.Za.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{size:{get:function(){return this.Za.size;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var g;g=this.Za.values();this.Za.clear();this.om.clear();g.forEach(function(n){return n.Hf();});};d.prototype.Np=function(g){return this.Za.get(g);};d.prototype.has=function(g){return this.Za.has(g);};d.prototype.root=function(){return this.om.root;};d.prototype.contains=function(g){var n;n=g.v.id;if(this.has(n))return -1 !== this.Np(n).indexOf(g);};d.prototype.NF=function(g){this.om.NF(g);};d.prototype.v6=function(g){return this.om.parent(g);};d.prototype.PJb=function(g){return this.om.children(g);};d.prototype.Fpa=function(g){return this.om.Fpa(g);};d.prototype.F0b=function(g){var n;if(this.Za.delete(g.v.id,g)){n=this.om.children(g);this.om.root === g?0 === n.length?this.om.clear():((0,f.assert)(1 === n.length,"cannot remove the root branch with multiple successors"),this.om.R0b(n[0])):((0,f.assert)(0 === n.length,"cannot remove non-root branch with successors"),this.om.remove(g));}};d.prototype.forEach=function(g){var n;n=this;this.Za.forEach(function(h,m){return g(h,m,n);});};d.prototype.reduce=function(g,n){var h;h=this;return this.Za.reduce(function(m,p,q){return g(m,p,q,h);},n);};d.prototype.map=function(g){var n;n=this;return this.Za.map(function(h,m){return g(h,m,n);});};d.prototype.filter=function(g){var n;n=this;return this.Za.filter(function(h,m){return g(h,m,n);});};d.prototype.YMb=function(){var g;g={};this.forEach(function(n,h){var m;(n=n.gs) && (null !== (m=g[h]) && void 0 !== m?m:g[h]=[]).push(n.G);});return g;};d.prototype.e8b=function(g,n){var h,m,p;h=this;g=this.pCb(g,n);m=g.pEb(this.om);n=m.nS;p=m.eu;m=m.ebb;this.om.clear();this.om=g;n.forEach(function(q){return h.Za.set(q.v.id,q);});n.forEach(function(q){return q.Db();});p.forEach(function(q){return h.Za.delete(q.v.id,q);});return {eu:p,ebb:m};};d.prototype.pCb=function(g,n){var h,m,p;h=this;m=new Map();p=new k.B1();g.NF(function(q,u){var t,w;if(u){t=m.get(u);if(!t)return !0;}w=(0,c.ec)(h.Np(q.v.id),function(v){return h.om.parent(v) === t || !u;}) || n(q.v.id,t);w.pf=q.pf;m.set(q,w);p.add(w,t);(null === w || void 0 === w?0:w.cn) && w.update(q.v);return !0;});return p;};return d;})();b.vMa=r;},45609:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.xMa=void 0;r=(function(){function a(c){this.console=c;this.Bka();}a.prototype.get=function(c){return this.XK[c] || this.pg[c];};a.prototype.set=function(c,l){void 0 === this.pg[c] && (this.pg[c]=l);};a.prototype.g3b=function(c,l){void 0 === this.get(c) && (this.XK[c]=l);};a.prototype.clear=function(c){this.XK[c]=void 0;this.pg[c]=void 0;};a.prototype.Myb=function(c){var l;this.pg=(l={},l[c]=this.pg[c],l);this.XK={};};a.prototype.Bka=function(){this.pg={};this.XK={};};a.prototype.toJSON=function(){return {pg:this.pg,XK:this.XK};};return a;})();b.xMa=r;},16236:function(r,b,a){var f,k,d;function c(g,n){var h,m;h=Object.keys(g);if(h.some(function(p){var q,u,t,w;return (null === (q=g[p]) || void 0 === q?void 0:q.ce) !== (null === (u=n[p]) || void 0 === u?void 0:u.ce) || (null === (t=g[p]) || void 0 === t?void 0:t.weight) !== (null === (w=n[p]) || void 0 === w?void 0:w.weight);}))return !0;m=Object.keys(n);return 0 !== f.__spreadArray(f.__spreadArray([],f.__read((0,d.Rq)(h,m)),!1),f.__read((0,d.Rq)(m,h)),!1).length?!0:!1;}function l(g,n){return g.some(function(h,m){var p;return 0 !== (0,d.Rq)(h,null !== (p=n[m]) && void 0 !== p?p:[]).length;}) || g.length !== n.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.$Ua=b.EWa=void 0;f=a(5163);k=a(42866);d=a(42866);b.EWa=function(g){return new k.kEa(function(n){return Object.keys(n.v.next || ({})).map(function(h){var m,p,q;h=g.me(h);q=null !== (p=null === (m=n.Jf) || void 0 === m?void 0:m.qa(n.se).G) && void 0 !== p?p:Infinity;return {s9b:h,weight:q};});});};b.$Ua=function(g,n){var h,m,p,q,u,t;h=Object.keys(g.O);m=Object.keys(n.O);p=m.filter(function(w){return -1 === h.indexOf(w);});q=h.filter(function(w){return -1 === m.indexOf(w);});u=h.filter(function(w){var v;if(-1 === m.indexOf(w))v=!1;else (v=g.O[w],w=n.O[w],v=v.Fb !== w.Fb || v.va !== w.va || v.ta !== w.ta || v.ce !== w.ce || v.J !== w.J || l(v.fr || [],w.fr || []) || c(v.next || ({}),w.next || ({}))?!0:!1);return v;});t=(0,d.Rq)(h,f.__spreadArray(f.__spreadArray(f.__spreadArray([],f.__read(u),!1),f.__read(p),!1),f.__read(q),!1));return {nS:p,eu:q,hyb:u,Q7b:t};};},22486:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.zMa=b.JD=void 0;c=a(5163);l=a(62558);(function(k){k[k.Du=0]="CREATED";k[k.Mfa=1]="STARTED";k[k.EQ=2]="REQUEST_ISSUED";k[k.Tw=3]="EVALUATED";k[k.IDa=4]="DESTRUCTED";})(f=b.JD || (b.JD={}));r=(function(){function k(d){this.dO=d;this.Ya=f.Du;this.WC={};this.hY={};}Object.defineProperties(k.prototype,{state:{get:function(){return this.Ya;},enumerable:!1,configurable:!0}});k.prototype.start=function(){var d;d=this;this.Ya !== f.Mfa && (this.bW(f.Mfa),[f.Tw,f.EQ].forEach(function(g){var n;n=new Promise(function(h){(0,l.assert)(d.hY && d.WC,"state promises should be defined");d.hY[g]=h;d.WC[g]=n;});}),this.dO(),this.bW(f.Tw));};k.prototype.bW=function(d){this.Ya=d;this.hY && (d=this.hY[d],null === d || void 0 === d?void 0:d());};k.prototype.Oa=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.Ya !== f.Mfa)return [3,2];(0,l.assert)(this.WC,"state resolves should be defined");return [4,this.WC[f.Tw]];case 1:(d.Wa(),d.label=2);case 2:return (this.hY=this.WC=void 0,this.Ya=f.IDa,[2]);}});});};k.prototype.Oba=function(d,g){c.__awaiter(this,void 0,void 0,function(){var n;return c.__generator(this,function(h){switch(h.label){case 0:if(this.Ya === f.IDa)return [2];if(this.Ya === f.Tw)return [3,6];(0,l.assert)(this.WC,"state promises should be defined");n=d;switch(n){case f.Tw:return [3,1];case f.EQ:return [3,3];}return [3,5];case 1:return [4,this.WC[f.Tw]];case 2:return (h.Wa(),[3,6]);case 3:return [4,this.WC[f.EQ]];case 4:return (h.Wa(),[3,6]);case 5:return [3,6];case 6:return (null === g || void 0 === g?void 0:g(),[2]);}});});};return k;})();b.zMa=r;},41054:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.EMa=void 0;c=a(5163);l=a(61978);r=(function(){function f(k){this.rj=k;this.O={};}Object.defineProperties(f.prototype,{da:{get:function(){return this.rj;},enumerable:!1,configurable:!0}});f.prototype.R2a=function(k){return !!this.da.O[k];};f.prototype.me=function(k){var d;d=this.O[k];if(void 0 === d){d=this.da.O[k];if(void 0 === d)throw Error(("Segment not found (").concat(k,")"));d=new l.JMa(k,d,this.da.ce);this.O[k]=d;}return d;};f.prototype.INb=function(k){return !(!k.v.next || !Object.keys(k.v.next).length);};f.prototype.gKb=function(k){var d;d=this;return k.v.next?Object.keys(k.v.next).map(function(g){return d.me(g);}):[];};f.prototype.c5a=function(k){var d;return c.__generator(this,function(g){switch(g.label){case 0:return [4,k];case 1:(g.Wa(),d=k,g.label=2);case 2:if(!d.v.Fb)return [3,4];d=this.me(d.v.Fb);return [4,d];case 3:return (g.Wa(),[3,2]);case 4:return [2];}});};f.prototype.MNb=function(k,d){return (0,l.x4a)(k.E6(d));};f.prototype.gj=function(k){var d;d=this;Object.keys(k).forEach(function(g){var n;return null === (n=d.me(g)) || void 0 === n?void 0:n.gj(k[g]);});};f.prototype.update=function(k){var d;d=this;this.rj=k;Object.keys(this.O).forEach(function(g){var n;n=d.rj.O[g];n && d.O[g].update(n) || delete d.O[g];});};return f;})();b.EMa=r;},61978:function(r,b,a){var l,f,k;function c(d){return "immediate" === d;}Object.defineProperties(b,{__esModule:{value:!0}});b.JMa=b.g1=b.x4a=void 0;l=a(5163);f=a(42866);k=a(62558);b.x4a=c;r=(function(){function d(g,n,h){this.region=g;this.Ka=n;this.Ua=h;}d.prototype.toJSON=function(){return {region:this.region,kb:this.Ka.fw,ff:this.Ua.fw};};return d;})();b.g1=r;r=(function(){function d(g,n,h){var m;m=this;this.id=g;this.Li=n;this.zRa=!1;this.E6=function(p){var q,u,t,w;return (null === (q=m.ow) || void 0 === q?0:q.length)?"immediate":null !== (w=null === (t=null === (u=m.v.next) || void 0 === u?void 0:u[p]) || void 0 === t?void 0:t.ce) && void 0 !== w?w:m.ce;};this.kPb(n);this.V3a(n,h);this.T3a();(0,k.assert)(this.x2.lessThan(this.X1),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(d.prototype,{v:{get:function(){return this.Li;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{J:{get:function(){return this.v.J;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$p:{get:function(){return this.zRa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{se:{get:function(){return this.x2;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Jf:{get:function(){return this.X1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.X1.qa(this.x2);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{zY:{get:function(){return this.Vy.length?!this.v.Fb && 0 === this.aN.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{A4a:{get:function(){return !this.v.type || "content" === this.v.type;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bVb:{get:function(){return this.xA;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Vy:{get:function(){var g;return Object.keys((null === (g=this.v) || void 0 === g?void 0:g.next) || ({}));},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aN:{get:function(){var g;g=this;return this.Vy.filter(function(n){return !!g.xA[n];});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Mya:{get:function(){var g;return null !== (g=this.rSa) && void 0 !== g?g:this.rSa=this.Kxb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Yaa:{get:function(){var g;return null !== (g=this.sSa) && void 0 !== g?g:this.sSa=this.Lxb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{qq:{get:function(){return this.v.weight?this.v.weight / (this.v.weight + this.Yaa):1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ce:{get:function(){var g;return (null === (g=this.ow) || void 0 === g?0:g.length)?"immediate":this.E2;},enumerable:!1,configurable:!0}});d.prototype.kPb=function(g){var n;this.x2=new f.L(g.ta,1E3);this.X1=void 0 !== g.va && null !== g.va?new f.L(g.va,1E3):f.L.Tp;this.E2=null !== (n=this.Li.ce) && void 0 !== n?n:this.E2;};d.prototype.V3a=function(g,n){var h,m,p;this.E2=null !== (p=null !== (m=null !== (h=g.ce) && void 0 !== h?h:n) && void 0 !== m?m:this.E2) && void 0 !== p?p:"lazy";};d.prototype.normalize=function(g,n,h){this.x2=g.dd(n.N);this.X1=n;this.ow=h;this.zRa=!0;this.zhb();};d.prototype.update=function(g){(0,k.assert)(g.J === this.Li.J,"Cannot change the viewable id of a segment");(0,k.assert)(g.ta === this.Li.ta,"Cannot change the start time of a segment");(0,k.assert)(g.type === this.Li.type,"Cannot change the type of a segment");if(g.va !== this.Li.va)return !1;g.ce !== this.Li.ce && this.V3a(g);this.Li=g;return !0;};d.prototype.F0a=function(){var g;return this.aN.length?null !== (g=this.aN.map(this.E6).reduce(function(n,h){return n === h?h:void 0;})) && void 0 !== g?g:this.ce:this.ce;};d.prototype.gj=function(g){this.T3a(g);};d.prototype.Axb=function(g){var n,h;if(this.Mya){n=(this.xA[g] || 0) / this.Mya;if(void 0 === this.v.weight || 0 === this.Yaa)return {sf:n};h=this.qq;return 1 !== h && c(this.E6(g)) && this.xA[g]?{sf:h * n,NB:this.xA[g] / this.Yaa * (1 - h)}:{sf:h * n};}return {sf:(null === (n=this.v.next) || void 0 === n?0:n[g])?1 / this.Vy.length:0};};d.prototype.QNb=function(g){return -1 < this.Vy.indexOf(g);};d.prototype.evb=function(){return this.$p?l.__assign(l.__assign({},this.v),{ta:this.se.G,va:this.Jf.G}):this.v;};d.prototype.T3a=function(g){var n;if(void 0 === this.v.next)this.xA={};else {n=this.v.next;this.xA=Object.keys(n).reduce(function(h,m){var p;p=g?g[m] || 0:n[m].weight;void 0 !== p && null !== p && 0 <= p && (h[m]=p);return h;},{});}this.zhb();};d.prototype.Kxb=function(){var g;g=this;return this.aN.reduce(function(n,h){return n + g.xA[h];},0);};d.prototype.Lxb=function(){var g;g=this;return this.aN.filter(function(n){return c(g.E6(n));}).reduce(function(n,h){return n + g.xA[h];},0);};d.prototype.zhb=function(){this.sSa=this.rSa=void 0;};return d;})();b.JMa=r;},36654:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.MMa=void 0;r=(function(){function a(c,l,f,k,d,g,n,h){var m,p;this.da=c;this.nk=l;this.groupId=f;this.cz=k;this.tH=d;this.zo=g;this.Sk=n;f=null !== (p=null === (m=this.nk.Sa.Cb) || void 0 === m?void 0:m.G) && void 0 !== p?p:l.Sa.zy.G;this.qq=c.pg.get(l.I)?1:this.nk.Sa.v.qq;this.uH=h.offset.G;this.AO=Math.max(this.Bk - f,0);}Object.defineProperties(a.prototype,{identifier:{get:function(){return this.nk.I;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{mediaType:{get:function(){return this.nk.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pf:{get:function(){return this.nk.pf;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qd:{get:function(){return this.da.Qd.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Bk:{get:function(){return this.nk.ZC.G;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{BL:{get:function(){return this.nk.AL.G;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qt:{get:function(){return this.nk.Sa.Md.G;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{yr:{get:function(){return this.nk.yr();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hn:{get:function(){return this.nk.hn();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{mi:{get:function(){return this.nk.mi;},enumerable:!1,configurable:!0}});a.prototype.E7=function(c,l){return this.da.E7(this,c,l);};a.prototype.AG=function(){return this.da.AG(this);};a.prototype.toJSON=function(){return {mediaType:this.mediaType,Dt:this.Dt,pf:this.pf,Qd:this.Qd,zo:this.zo,Bk:this.Bk,Sk:this.Sk,BL:this.BL,uH:this.uH,cz:this.cz,tH:this.tH,qq:this.qq,qt:this.qt,AO:this.AO,groupId:this.groupId,yr:this.yr,hn:this.hn,mi:this.mi,identifier:this.identifier,da:"playgraph Object",nk:this.nk};};return a;})();b.MMa=r;},90468:function(r,b,a){var l,f,k;function c(d,g,n,h,m){var p,q,u,t,w,v,y,x,z,A,B,C,D,E,G,F,J,M,L,K,P,H;v=d.console;y=d.X7b;x=d.pg;z=d.p1b;A=d.CEb;B=d.Zsa;C=d.Hja;d=d.dXb;D=m || ({complete:!0,gs:0});E=D.root;G=D.complete;F=D.rtb;J=D.rbb;J=void 0 === J?0:J;D=D.gs;M=J < z.length && z[J].id === g.id;L=J < z.length?z[J].id:h && x.get(h.id);K=m && h && L !== g.id?void 0 !== L?{sf:0}:h.Axb(g.id):{sf:1};x=K.sf;K=K.NB;P=void 0 === K?0:K;K=(x + P) * (null !== (p=null === m || void 0 === m?void 0:m.BZb) && void 0 !== p?p:1);k && v.trace(("reevaluateBranches: visiting ").concat(g.id,", ") + ("distance: ").concat(n,", ") + ("probability: ").concat(K,", ") + ("predecessor: ").concat(null === h || void 0 === h?void 0:h.id,", ") + ("decision: ").concat(L,", ") + ("predecessorComplete: ").concat(G,", ") + ("isOnRequiredPath: ").concat(M,", ") + ("requiredPathIndex: ").concat(J,", ") + ("activeDistance: ").concat(F,", ") + ("seamless ").concat(x,", ") + ("immediate ").concat(P,", ") + ("predecessor sum of: successor weights=").concat(null === h || void 0 === h?void 0:h.Mya,", ") + ("immediate weights= ").concat(null === h || void 0 === h?void 0:h.Yaa));p=null !== (u=null === (q=y[g.id]) || void 0 === q?void 0:q.shift()) && void 0 !== u?u:g.duration.G;q=0 === p;if(!M){if(0 === K)return {Mba:!1,W2:!0};if(!G && 0 === P && D > C)return (d.oB=Math.min(d.oB || Infinity,D - C),{Mba:!1,W2:!0});if(!q && n >= A && 1 > K || !1 === E && K < B)return {Mba:!1,W2:!0};}if(J < z.length){(0,l.assert)(z[J].id === g.id,"");H={duration:z[J].duration};}m=(null === m || void 0 === m?void 0:m.pf) || [];h && 1 > x && (0 === P?m=m.concat([{sf:x}]):(z=(null === (w=null === (t=h.v.fr) || void 0 === t?void 0:t[0]) || void 0 === w?void 0:w[0]) || 0,t=Math.max(0,h.duration.G - z),k && v.trace(("reevaluateBranches: immediate: ").concat(h.duration.G,", ").concat(z,", ").concat(t)),m=m.concat([{sf:x,NB:P,duration:t}])));t=d.Fwa.o_a(function(I){return I.v === h;});d.Fwa.add({v:g,pf:m,Sa:H},t);n=G?n + g.duration.G:F;k && v.trace(("reevaluateBranches: added ").concat(g.id,", visiting successors, ") + ("active distance: ").concat(n," ") + ("probabilities: ").concat(JSON.stringify(m)));return {Mba:!0,W2:M,state:{root:!h,complete:q,BZb:K,pf:m,rtb:n,rbb:J + 1,gs:D + p}};}Object.defineProperties(b,{__esModule:{value:!0}});b.h7b=b.M9b=b.E$=void 0;l=a(62558);r=a(49730);f=a(29960);k=r.K && !1;b.E$=function(d,g,n,h,m,p,q,u,t){var w,v,y,x;v={Fwa:new f.B1()};y=(null === (w=n.Jf) || void 0 === w?void 0:w.qa(n.se).G) || 0;0 < p.length && (0,l.assert)(n.id === p[0].id,"First segment of required path (if it exists) must equal reevaluateBranches start segment.");k && d.trace(("reevaluateBranches: starting at ").concat(n.id," ") + ("requiredPath: ").concat(JSON.stringify(p)));x={console:d,X7b:h,pg:m,p1b:p,CEb:q.G + y,Zsa:u,Hja:t.G,dXb:v};g.L9b(n,function(z,A,B,C){return c(x,z,A,B,C);});return v;};b.M9b=c;b.h7b=function(d,g,n){var h;h=(0,f.F$a)(g,function(m){return ("").concat(m.v.id);});n(("requiredBranches(").concat(d,")"),h.replace(/\n/g,"<>"));n(("requiredBranches(").concat(d,")"),g.values.map(function(m){var p;return ("").concat(m.v.id,"::").concat(null === (p=g.parent(m)) || void 0 === p?void 0:p.v.id);}).join(", "));};},86315:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ANa=void 0;c=a(19114);r=(function(){function l(f,k){this.vwa=k;this.xX=[];this.xX.push(f);}l.prototype.Co=function(f,k){return c.CP.n7({J:f,uX:k},this.xX);};l.prototype.qw=function(f){return this.vwa(f);};l.prototype.Q0b=function(f){this.xX.pop();this.xX.push(f);};l.prototype.WSa=function(f){this.xX.unshift(f);};return l;})();b.ANa=r;},21690:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.XNa=void 0;c=a(5163);l=a(42866);f=a(62558);b.XNa=(function(){function k(){}k.gNb=function(d){var g,n,h;if(d.hf){h=c.__read(d.Bd,2);d=h[0];h=h[1];if(d.aa || (null === h || void 0 === h?0:h.aa))return {khb:l.L.Tp,lhb:l.L.Tp};d=null === (g=d.Lo) || void 0 === g?void 0:g.Jf;g=null === (n=null === h || void 0 === h?void 0:h.Lo) || void 0 === n?void 0:n.Jf;(0,f.assert)(d);n=g?l.L.min(d,g):d;return {khb:d,lhb:n};}};return k;})();},63037:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.j2a=void 0;b.j2a=function(a,c){return a.reduce(function(l,f){return l + f.c6(c).G;},0);};},60857:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.j0a=void 0;c=a(92523);b.j0a=function(l,f){return l.reduce(function(k,d){var g;g=f(d);d.nr().forEach(function(n){return k.Bia(n.mediaType,n.OA,!g);});return k;},new c.DMa());};},56844:function(r,b,a){var l,f;function c(k,d){return Object.keys(k.pH).map(function(g){return k.pH[g];}).filter(function(g){return void 0 === g.Dt || 1 === g.Dt;}).reduce(function(g,n){return g + n.$q[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.EOa=void 0;l=a(27364);f=a(49730);r=(function(){function k(d,g,n){this.da=d;this.console=g;this.uoa=n;}k.prototype.Qxb=function(d,g,n){var h,m,p,q;h=n && this.da.config.b9b;m=this.da.config.XY || h;p=this.uoa();if(h){h=d.global;h=(q={},q[l.u.$]=h[l.u.$] - c(d,l.u.$),q[l.u.X]=h[l.u.X] - c(d,l.u.X),q[l.u.Ga]=h[l.u.Ga] - c(d,l.u.Ga),q);}q=h;p=this.tka(g) || this.wyb(d) || this.uyb(d,p,q) || this.vyb(d,p,q,g);q=(0,l.Yva)(p);if(p && (!q || m))return (f.K && this.console.log(("canIssueRequest ").concat(this.da.id," [").concat(g,"] static limit: ") + ("").concat(n,", usage: ").concat(JSON.stringify(d),", failed ").concat(p)),{result:!1,reason:p});f.K && this.console.log(("canIssueRequest ").concat(this.da.id," [").concat(g,"] static limit: ") + ("").concat(n,", usage: ").concat(JSON.stringify(d),", success ").concat(p));return {result:!0,reason:p};};k.prototype.tka=function(d){var g;g=this.da.config.QG;if(this.da.oKb(d) >= (g || Infinity))return "mediaDurationLimit";};k.prototype.wyb=function(d){return d.pH[this.da.id].total.total > (this.da.r6() || Infinity)?"playgraphMemoryLimit":void 0;};k.prototype.uyb=function(d,g,n){d=d.global;return n?n[l.u.$] + n[l.u.X] > (g.yya.total || Infinity)?"staticMemoryLimit":void 0:d.total > (g.total.total || Infinity)?"globalMemoryLimit":void 0;};k.prototype.vyb=function(d,g,n,h){var m;m=d.global;return n?(f.K && this.console.log(("checkRequestByMediaTypeMemory [").concat(h,"]:") + (" using static limit ").concat(g.yya[h],", usage: ").concat(n) + (" (global: ").concat(m[h]," ") + (" - certain contiguous: ").concat(c(d,h),")")),n[h] > (g.yya[h] || Infinity)?h === l.u.X?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):m[h] > (g.total[h] || Infinity)?h === l.u.X?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return k;})();b.EOa=r;},31192:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Rz=void 0;c=a(27364);l=a(53265);f=a(58648);r=(function(){var Y1C;Y1C=2;function k(d){var p2S,g;p2S=2;for(;p2S !== 9;){switch(p2S){case 2:g=this;this.config=d;this.hhb=this.r3=null;p2S=4;break;case 4:var r5D="1SIYbZrNJC";r5D+="p";r5D+="9";this.nva=function(n,h,m){var t$4;t$4=2;for(;t$4 !== 5;){switch(t$4){case 2:n=g.$m(n,m);return g.config.tUa?(h=(0,l.n5)(g.config.sUa,h.Si - h.Oc,1),{lower:n * (1 - h),upper:void 0}):{lower:n * g.config.BY / 100,upper:void 0};break;}}};r5D;p2S=9;break;}}}for(;Y1C !== 6;){switch(Y1C){case 2:k.prototype.tYa=function(d,g){var B4e,n;B4e=2;for(;B4e !== 4;){switch(B4e){case 2:n=null === this.r3?d * (100 - this.config.BY) / 100:(0,f.$ia)(d,this.r3);this.config.Cra && g?(d=(0,f.$ia)(d,g),d=Math.max(d,n)):d=n;return d;break;}}};k.prototype.cya=function(d){var h6Z;h6Z=2;for(;h6Z !== 1;){switch(h6Z){case 2:return this.config.hZa && (d === c.eb.Jn || d === c.eb.ee);break;}}};k.prototype.$m=function(d,g){var w_m,n,h,m;w_m=2;for(;w_m !== 5;){switch(w_m){case 2:w_m=1;break;case 3:w_m=3;break;case 1:return this.cya(g)?(null === (n=d.Gt) || void 0 === n?void 0:n.Ca) || (null === (h=d.gb) || void 0 === h?void 0:h.Ca) || 0:(null === (m=d.gb) || void 0 === m?void 0:m.Ca) || 0;break;}}};Y1C=4;break;case 4:k.prototype.raa=function(d){var V_F;V_F=2;for(;V_F !== 1;){switch(V_F){case 2:this.r3=d;V_F=1;break;}}};k.prototype.Yna=function(){var O4G;O4G=2;for(;O4G !== 1;){switch(O4G){case 4:return this.r3;break;case 2:return this.r3;break;}}};k.prototype.Zxa=function(d){var F3y;F3y=2;for(;F3y !== 1;){switch(F3y){case 2:this.hhb=d;F3y=1;break;}}};k.prototype.wpa=function(){var E_N;E_N=2;for(;E_N !== 1;){switch(E_N){case 2:return this.hhb;break;case 4:return this.hhb;break;}}};Y1C=7;break;case 7:return k;break;}}})();b.Rz=r;},61038:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.tDa=void 0;c=a(5163);l=a(27364);r=a(31192);f=a(29472);a=(function(k){var l61;l61=2;for(;l61 !== 5;){switch(l61){case 2:c.__extends(d,k);return d;break;}}function d(g){var q8Y,n;q8Y=2;for(;q8Y !== 9;){switch(q8Y){case 2:var q6M="1";q6M+="SIYb";q6M+="ZrNJCp9";n=k.call(this,g) || this;n.BN=function(h,m,p,q){var s6T,z96;s6T=2;for(;s6T !== 11;){switch(s6T){case 3:q=n.config.Zza * h.gb.Ca;s6T=9;break;case 7:return {lower:(null === m || void 0 === m?void 0:m.low) || h.gb.Ca,upper:(null === m || void 0 === m?void 0:m.high) || q};break;case 14:s6T=7;break;case 4:var l4W="delivery";l4W+="time-c";l4W+="i";m=h[l4W];s6T=3;break;case 5:var I_e="deli";I_e+="verytime-c";I_e+="i";z96=n.config.zka;s6T=z96 === I_e?4:13;break;case 13:s6T=12;break;case 1:return n.SSb.BN(h,m,p,q);break;case 9:s6T=p === l.eb.Jn?8:6;break;case 2:s6T=n.cya(p)?1:5;break;case 6:s6T=p === l.eb.ee?8:14;break;case 8:return {lower:(null === m || void 0 === m?void 0:m.initial) || h.gb.Ca,upper:(null === m || void 0 === m?void 0:m.high) || q};break;case 12:var z3o="thr";z3o+="oug";z3o+="hpu";z3o+="t-";z3o+="ci";m=h[z3o];s6T=3;break;}}};n.SSb=new f.sea(g);q6M;return n;break;}}}})(r.Rz);b.tDa=a;},74377:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Xoa=b.Rz=void 0;c=a(29472);l=a(19661);f=a(47896);k=a(61038);d=a(31192);Object.defineProperties(b,{Rz:{enumerable:!0,get:function(){return d.Rz;}}});b.Xoa=function(g){switch(g.osa){case "manifold":return new c.sea(g);case "stddev":return new f.yOa(g);case "ci":return new k.tDa(g);default:return new l.hOa(g);}};},29472:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.sea=void 0;c=a(5163);r=a(12043);l=c.__importStar(a(53265));a=a(31192);f=l.IK;k=l.KVa;d=l.n5;g=l.FZa;n=l.Wbb;new r.platform.Console("ASEJS_PREDICTOR","media|asejs");a=(function(h){var a3m;a3m=2;function m(p){var S_d,q;S_d=2;for(;S_d !== 13;){switch(S_d){case 2:q=h.call(this,p) || this;q.BN=function(u,t,w,v){var a_j,y,x,z;a_j=2;for(;a_j !== 14;){switch(a_j){case 2:z=q.$m(u,w);w=q.cya(w)?z:(null === (y=u[q.filter]) || void 0 === y?void 0:y.Ca) || z;y=Math.pow(Math.max(1 - w / q.mwb,0),q.jwb);w=t.Si - t.Oc;q.y4b?(t=d(q.GXa,w,1),w=d(q.FXa,w,1),t=t * y + w * (1 - y)):t=d(n(q.GXa,q.FXa,y),w,1);u=q.g8a && (null === (x=u[q.g8a]) || void 0 === x?void 0:x.qta);void 0 !== u && (x=g(q.dVb,u),t=Math.min(t * x,1));a_j=7;break;case 7:T7u0V.o8l(8);v=q.tYa(T7u0V.O1f(z,t,1),v);return {lower:v,upper:v * q.config.Zza};break;}}};Array.isArray(p.dt.curves) && (q.GXa=k(p.dt.curves[0],0,0,1),q.FXa=k(p.dt.curves[1],0,0,1));S_d=4;break;case 4:q.mwb=f(p.dt.threshold || 6E3,1,1E5);q.jwb=f(p.dt.gamma || 1,.1,10);q.filter=p.dt.filter;q.y4b=!!p.dt.simpleScaling;S_d=7;break;case 7:var n_d="1SI";n_d+="Y";n_d+="bZr";n_d+="NJ";n_d+="Cp9";p.dt.niqrfilter && p.dt.niqrcurve && (q.g8a=p.dt.niqrfilter,q.dVb=k(p.dt.niqrcurve,1,0,4));n_d;return q;break;}}}for(;a3m !== 5;){switch(a3m){case 2:c.__extends(m,h);return m;break;case 3:c.__extends(m,h);return m;break;}}})(a.Rz);b.sea=a;},19661:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.hOa=void 0;c=a(5163);r=a(12043);l=a(31192);f=a(58648);new r.platform.Console("ASEJS_PREDICTOR","media|asejs");a=(function(k){var N8Q;N8Q=2;for(;N8Q !== 3;){switch(N8Q){case 2:c.__extends(d,k);d.prototype.zJb=function(g,n){var h7o,h,m;h7o=2;for(;h7o !== 3;){switch(h7o){case 1:n=n?h.$ka:h.Aja;Array.isArray(n) && (m=(0,f.EZa)(n,g.Si - g.Oc,h.zja));return m;break;case 2:(h=this.config,m=n?h.Zka:h.yja);h7o=1;break;}}};d.prototype.q4b=function(g,n){var J5Q;J5Q=2;for(;J5Q !== 5;){switch(J5Q){case 2:g=this.$m(g,n);return this.config.Sya && g < this.config.ala;break;}}};N8Q=4;break;case 4:return d;break;}}function d(g){var p53,n;p53=2;for(;p53 !== 3;){switch(p53){case 2:var m27="1";m27+="SI";m27+="Yb";m27+="ZrNJC";m27+="p9";n=k.call(this,g) || this;n.BN=function(h,m,p,q){var S0f,u;S0f=2;for(;S0f !== 9;){switch(S0f){case 2:u=n.$m(h,p);h=n.q4b(h,p);m=u?u * (100 - n.zJb(m,h)) / 100 | 0:0;q=n.tYa(m,q);S0f=3;break;case 3:return {lower:q,upper:q * n.config.Zza};break;case 12:return {lower:q,upper:q - n.config.Zza};break;}}};m27;return n;break;}}}})(l.Rz);b.hOa=a;},47896:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.yOa=void 0;c=a(5163);r=a(31192);r=(function(l){var Z5R;Z5R=2;for(;Z5R !== 5;){switch(Z5R){case 3:c.__extends(f,l);return f;break;case 2:c.__extends(f,l);return f;break;}}function f(k){var Z3l,d;Z3l=2;for(;Z3l !== 3;){switch(Z3l){case 2:var c$C="1S";c$C+="IYbZ";c$C+="rNJC";c$C+="p9";d=l.call(this,k) || this;d.BN=function(g){var l_C,k7r,n;l_C=2;for(;l_C !== 10;){switch(l_C){case 8:l_C=!g.Pm || !g.Pm.vK?4:7;break;case 1:var h0f="del";h0f+="iver";h0f+="ytime";k7r=d.config.o5b;l_C=k7r === h0f?5:12;break;case 7:n=Math.sqrt(g.Pm.bP || 0);l_C=6;break;case 5:l_C=!g.Pm || !g.Pm.Ca?4:3;break;case 9:return {lower:8 / (g.Pm.Ca + d.config.zya * n),upper:8 / (g.Pm.Ca - d.config.Aya * n)};break;case 4:return n;break;case 3:n=Math.sqrt(g.Pm.Ne || 0);l_C=9;break;case 12:var A8J="av";A8J+="e";A8J+="r";A8J+="ag";A8J+="etp";l_C=k7r === A8J?8:11;break;case 2:n={lower:g.gb.Ca,upper:void 0};l_C=1;break;case 6:return {lower:g.Pm.vK + d.config.zya * n,upper:g.Pm.vK + d.config.Aya * n};break;case 14:l_C=g.Pm && g.Pm.bP?13:4;break;case 13:return (n=Math.sqrt(g.Pm.bP || 0),{lower:g.gb.Ca + d.config.zya * n,upper:g.gb.Ca + d.config.Aya * n});break;case 11:var b4G="e";b4G+="w";b4G+="ma";l_C=k7r === b4G?14:4;break;}}};c$C;return d;break;}}}})(r.Rz);b.yOa=r;},58648:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$ia=b.nva=b.EZa=void 0;c=a(53265);b.EZa=function(l,f,k){var d,g,n;d=0;if(k){l.some(function(h){var m;m=h.b;h=h.m;if(f <= m)return (d=n && m !== g?n + (h - n) / (m - g) * (f - g):h,!0);g=m;d=n=h;return !1;});}else l.some(function(h){d=h.m;return f <= h.b;});return d;};b.nva=function(l,f,k){var d;f=(null === (d=f.gb) || void 0 === d?void 0:d.Ca) || 0;return l.tUa?(l=(0,c.n5)(l.sUa,k.Si - k.Oc,1),f * (1 - l)):f * l.BY / 100;};b.$ia=function(l,f){return l < 2 * f?l / 2:l - f;};},89221:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.DDa=b.GDa=void 0;c=a(42186);l=a(45363);b.GDa=625E3;r=(function(){function f(k){this.config=k;}f.prototype.cka=function(k){var d,g,n,h,m;d=this.config.Sla;g=this.config.Zhc || this.config.Rla;n=0 < k.z2a.OB;h=n?g * b.GDa / 1E3:this.config.UV || Infinity;m=n?Math.floor(k.z2a.OB / h):d;return {kl:k.b$b.sort(function(p,q){return p.priority - q.priority;}).slice(0,d).map(function(p,q){var u;u=p.key.config;return {X4a:{OB:q > m - 1?0:h},Dd:p,g$:1,zi:u,ieb:{audio:[(0,c.NK)(u),new l.Xfa()],video:[(0,c.OK)(u),new l.Xfa()]}};})};};return f;})();b.DDa=r;},31779:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ZDa=void 0;c=a(5163);l=a(50954);f=a(35408);r=(function(){function k(){}k.prototype.z6a=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,n,h,m,p;return c.__generator(this,function(q){switch(q.label){case 0:g=d.Dd.key;if(!(0,f.oV)(g))return [3,2];n=g.J;h=d.Dd.Pe.Xm(n);return [4,Promise.resolve(h.uq)];case 1:return (m=q.Wa(),p=m.Y,p.Dp?[2,(0,l.S3)(p.Dp,{config:m.config})]:[2,(0,l.Faa)(n,"ps0")]);case 2:return [2,g.da];}});});};return k;})();b.ZDa=r;},65288:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.RMa=void 0;c=a(49730);l=a(44602);b.RMa=(function(){function f(){}f.S0b=function(k,d,g,n){k.events.once("seeking",function(h){var m,p;m=h.position;p=g.length;h.duplicate || (g.H$(function(q){return "segmentNormalized" !== q.er;}),c.K && n.log(("Discarding ").concat(p - g.length," events from prefetched playgraph") + (" for original seek postition ").concat((0,l.L6)(d)) + (" due to seek to ").concat((0,l.L6)(m))));c.K && n.log(("Replaying ").concat(g.length," events from prefetched playgraph") + ("for seek postition ").concat((0,l.L6)(m)));g.rwa();g.Oa();});};return f;})();},30570:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B;Object.defineProperties(b,{__esModule:{value:!0}});b.TMa=void 0;c=a(5163);l=a(57055);f=a(42866);k=a(42866);d=a(12043);g=a(27364);n=a(97810);h=a(19114);m=a(62558);p=a(89873);q=a(49730);u=a(42186);t=a(35303);w=a(49789);v=a(31779);y=a(33201);x=a(89221);z=a(35408);A=a(65288);B=a(10670);r=(function(){function C(D,E,G,F,J){void 0 === F && (F=new y.$Da());void 0 === J && (J=new v.ZDa());this.yZa=D;this.config=E;this.Fab=F;this.kl=[];this.y$a=[];this.Hw=[];this.Pf={a5a:0,b5a:0,Y4a:0,Uja:0,Z4a:0,$4a:0,Vja:0};this.events=new l.EventEmitter();this.T=(0,n.Mh)(d.platform,G,"PREFETCH");this.Iia(new x.DDa(E));this.Iia(new B.dOa(E));this.Ccb({OB:E.WYb});this.Mxa(J);this.$Ob();}Object.defineProperties(C.prototype,{XYb:{get:function(){return this.kl.map(function(D){return D.context;});},enumerable:!1,configurable:!0}});C.prototype.Xcb=function(D){q.K && (0,m.assert)(D,"Reconciliation strategy is undefined");this.Fab=D;return this;};C.prototype.Iia=function(D){this.y$a.unshift(D);return this;};C.prototype.fdb=function(D){q.K && this.T.debug("Wish list changed",{yic:D.length});this.Hw=D;this.Dva();};C.prototype.reset=function(D){var E,J,M,L,K,P;void 0 === D && (D=this.config);if(D.eZb)try{for(var G=c.__values(this.kl),F=G.next();!F.done;F=G.next()){J=F.value;M=J.da;L=J.M7;K=J.context;if(M){M.Hf();L.H$(function(I){return "segmentNormalized" !== I.er;});P=(0,z.y6)(K.Dd,M.da);M.RC(P);}}}catch(I){var H;H={error:I};}finally{try{F && !F.done && (E=G.return) && E.call(G);}finally{if(H)throw H.error;}}else this.fdb([]);};C.prototype.Ccb=function(D){q.K && this.T.debug("Budget changed",{VVb:this.IS,TUb:D});this.IS=D;this.Dva();};C.prototype.Iyb=function(D,E){var G,F,J,M;q.K && this.T.debug("Looking for playgraph to claim");if(D=this.Fab.n_a(this.kl,{da:D,zi:E})){F=this.Hw.indexOf(D.context.Dd);q.K && this.T.debug(("Claiming item: ").concat((0,z.bn)(D.context.Dd.key)),{oS:d.platform.time.wa() - D.cza,buffer:null === (G=D.da) || void 0 === G?void 0:G.io(f.L.Ia)});this.cL(D.context,{lra:!!D.da});if(D.da){G=D.da;J=D.UN;M=G.vh;A.RMa.S0b(G,M,D.M7,this.T);J.f2b(G.KB(M) || f.L.Ia,F);G.egb({OB:this.config.UV || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:D.context.Dd,videoBytesBuffered:D.da.UF().bZ,audioBytesBuffered:D.da.UF().cS});}}E.Cub || this.reset(E);return null === D || void 0 === D?void 0:D.da;};C.prototype.Hyb=function(){};C.prototype.getStats=function(){var D;D=d.platform.time.wa();return {wishListLength:this.Hw.length,prefetchList:this.XYb.length,contents:this.kl.map(function(E){var G,F,J,M,L;if(E.da){L=(0,z.y6)(E.context.Dd,E.da.da);L=E.da.KB(L);L=E.da.io(L || f.L.Ia);}return {id:(0,z.bn)(E.context.Dd.key),buffer:L,pId:null === (G=E.da) || void 0 === G?void 0:G.id,budget:{inMemoryBytes:E.context.X4a.OB},weight:E.context.g$,age:D - E.cza,timeOpened:D - (null !== (F=E.Q6b) && void 0 !== F?F:0),state:g.Sc[null !== (M=null === (J=E.da) || void 0 === J?void 0:J.Qd.value) && void 0 !== M?M:g.Sc.Fs]};}),aggregated:{itemsRequested:this.Pf.a5a,itemsStarted:this.Pf.b5a,itemsClaimed:this.Pf.Y4a,bytesClaimed:this.Pf.Uja,itemsCompleted:this.Pf.Z4a,itemsDiscarded:this.Pf.$4a,bytesDiscarded:this.Pf.Vja}};};C.prototype.cL=function(D,E){var G;void 0 === E && (E={});c.__awaiter(this,void 0,void 0,function(){var F,J,M,L,K,P;return c.__generator(this,function(H){switch(H.label){case 0:F=c.__assign({lra:!1,g5a:!1},E);J=F.lra;M=F.g5a;L=(0,k.ec)(this.kl,function(I){return I.context === D;});if(!L)return [3,3];this.kl.splice(this.kl.indexOf(L),1);M || (K=this.Hw.length,this.Hw=this.Hw.filter(function(I){return I !== D.Dd;}),q.K && this.T.info("Dropping items from wishlist",K - this.Hw.length),this.Hw.length >= K && q.K && this.T.warn("Unable to filter out wishlist item",this.Hw.map(function(I){return I.key;}),D.Dd.key));q.K && this.T.debug("Dropping playgraph",{oS:d.platform.time.wa() - L.cza,buffer:null === (G=L.da) || void 0 === G?void 0:G.io(f.L.Ia),J:(0,z.bn)(D.Dd.key),$ic:!J,tgc:!M});L.xB.clear();if(J)return [3,2];P=this.iz(L);return L.da?[4,P]:[3,2];case 1:(H.Wa(),H.label=2);case 2:(this.Dva(),H.label=3);case 3:return [2];}});});};C.prototype.Mxa=function(D){(0,m.assert)(D,"Playgraph resolver is undefined");this.hva=D;return this;};C.prototype.$Ob=function(){var D;D=this;this.events.on("prefetchComplete",function(){return D.Pf.Z4a++;});this.events.on("prefetchStarted",function(){return D.Pf.b5a++;});this.events.on("itemQueued",function(){return D.Pf.a5a++;});this.events.on("itemClaimed",function(E){var G,F;D.Pf.Y4a++;D.Pf.Uja+=(null !== (G=E.x9b) && void 0 !== G?G:0) + (null !== (F=E.Hvb) && void 0 !== F?F:0);});this.events.on("itemDropped",function(E){var G,F;D.Pf.$4a++;D.Pf.Vja+=(null !== (G=E.x9b) && void 0 !== G?G:0) + (null !== (F=E.Hvb) && void 0 !== F?F:0);});};C.prototype.Dva=function(){var D,E,G,F,J,M;D=this;E=h.CP.n7({b$b:this.Hw,z2a:this.IS},this.y$a.map(function(L){return L.cka.bind(L);})).kl;G=(0,k.Rq)(E,this.kl,function(L,K){return (0,z.isEqual)(L.Dd.key,K.context.Dd.key);});F=(0,k.Rq)(this.kl,E,function(L,K){return (0,z.isEqual)(L.context.Dd.key,K.Dd.key);});J=(0,k.Rq)(this.kl,F);q.K && this.T.debug(("Re-evaluated prefetch items. new:").concat(G.length,", evict: ").concat(F.length,", update: ").concat(G.length));F=F.map(function(L){var K;K=L.context.Dd.key;q.K && D.T.debug("Releasing playgraph",(0,z.bn)(K));return D.iz(L).then(function(){D.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:L.context.Dd});});});M=J.map(function(L){return c.__awaiter(D,void 0,void 0,function(){var K,P;return c.__generator(this,function(H){switch(H.label){case 0:(K=(0,k.ec)(E,function(I){return (0,z.isEqual)(I.Dd.key,L.context.Dd.key);}),(0,m.assert)(K,"Couldn't find the requested item context"),L.context=K,H.label=1);case 1:return (H.Vj.push([1,3,,4]),[4,L.f$]);case 2:return (P=H.Wa(),[3,4]);case 3:return (H.Wa(),[2]);case 4:return ((0,k.ec)(this.kl,function(I){return I === L;}) && (this.QTa(L.context,P),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:L.context.Dd})),[2]);}});});});G=G.map(function(L){var K;K=D.sCb(L);D.events.emit("itemQueued",{type:"itemQueued",wishListItem:L.Dd});return K;});this.kl=c.__spreadArray(c.__spreadArray([],c.__read(J),!1),c.__read(G),!1);J=G.map(function(L){return L.f$.catch(function(){});});J=F.concat(M).concat(J);Promise.all(J);};C.prototype.iz=function(D){var E;E=this;return D.f$.then(function(G){return c.__awaiter(E,void 0,void 0,function(){var F;return c.__generator(this,function(J){switch(J.label){case 0:return (q.K && this.T.debug("Removing prefetch playgraph",{size:G.io(f.L.Ia)}),D.xB.clear(),[4,this.yZa()]);case 1:return (F=J.Wa(),F.iz(G),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:D.context.Dd,videoBytesBuffered:G.UF().bZ,audioBytesBuffered:G.UF().cS}),[2]);}});});},function(){});};C.prototype.r4=function(D){return c.__awaiter(this,void 0,void 0,function(){var E,G,F,J,M,L,K;K=this;return c.__generator(this,function(P){switch(P.label){case 0:return (E=D.context,G=(0,z.bn)(E.Dd.key),q.K && this.T.debug("Creating playgraph",G),[4,this.hva.z6a(E)]);case 1:return (F=P.Wa(),[4,E.Dd.Pe.Xm(G).uq]);case 2:return (J=P.Wa(),J.Y.Nm?(this.cL(E,{lra:!0}),[2,Promise.reject(("contentPlaygraph viewable:").concat(G) + " is not supported with prefetching")]):[4,this.yZa()]);case 3:return (M=P.Wa(),L=M.lS(F,E.g$,E.zi,E.Dd.Pe,!1),D.xB.addListener(L.events,"error",function(H){q.K && K.T.debug("Prefetch playgraph resulted in error",H.rgc);K.cL(E);}),[2,L]);}});});};C.prototype.QWb=function(D,E){return c.__awaiter(this,void 0,void 0,function(){var G,F,J,M;return c.__generator(this,function(L){switch(L.label){case 0:return (G=D.context,F=(0,z.bn)(G.Dd.key),J=G.Dd.Pe.Xm(F),[4,J.uq]);case 1:return (M=L.Wa(),this.QTa(G,E),this.$ub(G,E,!!M.Lp),E.open(),E.uz({jO:function(K,P){var H,I;H=K.recommendedMedia;I=H?(0,k.Im)(P,function(N){return N.new_track_id === H.xp;}):(0,k.Im)(P,function(N){return N.track_id === K.defaultTrackOrderList[0].audioTrackId;});return 0 <= I && I < P.length?I:void 0;}},{jO:function(K,P){var H,I;H=K.recommendedMedia;I=H?(0,k.Im)(P,function(N){return N.new_track_id === H.cP;}):(0,k.Im)(P,function(N){return N.track_id === K.defaultTrackOrderList[0].videoTrackId;});return 0 <= I && I < P.length?I:void 0;}}),E.RC((0,z.y6)(G.Dd,E.da)),this.t0b(D,J),J.gr && (q.K && this.T.warn("Viewable churn encountered during prefetcher (expired on initialization)",F),this.cL(D.context)),[2]);}});});};C.prototype.t0b=function(D,E){var F;function G(J){q.K && F.T.debug(("Viewable ").concat(J?"superseded":"expired"),(0,z.bn)(D.context.Dd.key));D.Lhc=!0;F.cL(D.context,{g5a:!J});}F=this;E.events && (D.xB.addListener(E.events,"viewableEvicted",function(){G(!0);}),D.xB.addListener(E.events,"viewableExpired",function(){G(!1);}));this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:D.context.Dd});};C.prototype.QTa=function(D,E){E.zgb(D.g$);E.egb(D.X4a);};C.prototype.$ub=function(D,E,G){var F;F=D.ieb;D=F.audio;F=F.video;G && F.push(new w.lQ(this.T,E.config));E.Rxa(new u.Ru(D,!0),new u.Ru(F,!0));};C.prototype.sCb=function(D){var E,G,F;E=this;G=new p.SMa();F={context:D,cza:d.platform.time.wa(),xB:new l.De(),UN:G};F.f$=this.r4(F).then(function(J){return c.__awaiter(E,void 0,void 0,function(){var M,L;L=this;return c.__generator(this,function(K){switch(K.label){case 0:for(M=J;M.Va;){M=M.Va;}J.Fe(G);G.Bvb(J);F.M7=new t.kFa(M.events,{l4b:function(P){var H;H=P.er;switch(H){case "buffering":return !1;case "bufferingStarted":F.M7.H$(function(I){return "bufferingComplete" === I.er || "updateStreamingPts" === I.er;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":F.M7.H$(function(I){return I.er === H;});default:return !0;}}});M.events.on("bufferingComplete",function(){L.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:D.Dd});});return [4,this.QWb(F,J)];case 1:return (K.Wa(),F.Q6b=d.platform.time.wa(),F.da=J,[2,J]);}});});});F.f$.catch(function(J){q.K && E.T.error("Exception occurred creating playgraph",J);E.cL(F.context);});return F;};return C;})();b.TMa=r;},33201:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.$Da=void 0;c=a(5163);l=a(62558);f=a(35408);r=(function(){function k(){}k.bn=function(d){var g,n;g=d.O;d=d.Be;n=g[d].J;Object.keys(g).forEach(function(h){return (0,l.assert)(g[h].J === n);});return g[d].J;};k.prototype.n_a=function(d,g){var n;n=Object.keys(g.da.O).length;return c.__read(d.filter(function(h){var m;return k.bn(g.da) === (0,f.bn)(h.context.Dd.key) && (1 === n || n === Object.keys((null === (m=h.da) || void 0 === m?void 0:m.da.O) || ({})).length);}),1)[0];};return k;})();b.$Da=r;},10670:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dOa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.cka=function(c,l){var f,k;f=this;c=l(c);k=c.kl.map(function(d){return d.Dd.priority;}).sort();c.kl.forEach(function(d){d.g$=f.config.ZYb / (2 << k.lastIndexOf(d.Dd.priority));});return c;};return a;})();b.dOa=r;},45363:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Xfa=void 0;c=a(27364);r=(function(){function l(){}l.prototype.oh=function(f,k){return k === c.Sc.yl?[]:f;};return l;})();b.Xfa=r;},35408:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.y6=b.bn=b.isEqual=b.oV=void 0;c=a(42866);l=a(93514);b.oV=function(f){return !!f.J;};b.isEqual=function(f,k){var d,g;d=(0,b.oV)(f);g=(0,b.oV)(k);return d === g?d?f.J === k.J:f.da === k.da:!1;};b.bn=function(f){if((0,b.oV)(f))return f.J;f=f.da;return f.O[f.Be].J;};b.y6=function(f,k){var d;return f.B3?f.B3 instanceof c.L?(f=(0,l.Fp)(k,(0,b.bn)(f.key),f.B3),(null === f || void 0 === f?0:f.offset.greaterThan(c.L.Ia))?f:{offset:c.L.Ia,I:null !== (d=null === f || void 0 === f?void 0:f.I) && void 0 !== d?d:k.Be}):f.B3:{offset:c.L.Ia,I:k.Be};};},83386:function(r,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.y0=b.Ffa=void 0;a=(function(){function l(){var f;f=this;this.LR=[];this.N0b=function(k){k=f.LR.indexOf(k);0 <= k && f.LR.splice(k,1);};}Object.defineProperties(l.prototype,{Via:{get:function(){return 0 !== this.LR.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{F8a:{get:function(){return this.LR.length;},enumerable:!1,configurable:!0}});l.prototype.add=function(){var f;f=new c(this.N0b);this.LR.push(f);return f;};l.prototype.Bhb=function(f){var k;k=this.add();try{Promise.resolve(f()).then(function(d){k.release();return d;},function(d){k.release();return Promise.reject(d);});}catch(d){k.release();Promise.reject(d);}};return l;})();b.Ffa=a;c=(function(){function l(f){this.osb=f;}l.prototype.release=function(){this.osb(this);};return l;})();r=(function(){function l(f,k){this.DWb=f;this.console=k;this.counter=new a();}l.prototype.Ws=function(){var f,k;f=this;this.console.trace("Acquiring lease, total count",this.counter.F8a + 1);k=this.counter.add();return {release:function(){k.release();f.console.trace("Releasing lease, total count",f.counter.F8a);f.DWb(function(){return !f.counter.Via;});}};};return l;})();b.y0=r;},9551:function(r){function b(c,l){this.Xrb=c.tN && c.tN.enabled;this.A2=void 0;this.krb=l;this.Wha=[];this.hia=[];this.Iha=[];c=c.Pha || [];l=c.map(function(f){return f.Yfc;});l.unshift(0);this.dsb=c;this.esb=l;this.Lha=[];this.eh=[];}function a(c,l){var m,p,q,u;for(var f=[],k=[],d=0;d < c.length;d++){for(var g=c[d],n=[],h=0;h < g.length;h++){m=g[h] - (k[h] || 0);p=l && l[h];q=n;u=q.push;1 <= p && (p=Math.pow(10,p || 0),m=Math.round(m * p) / p);u.call(q,m);}f.push(n);k=g;}return f;}b.prototype.reset=function(c){this.A2=void 0;this.Wha=[];this.hia=[];this.Iha=[];this.Lha=[];c && (this.eh=[]);};b.prototype.add=function(c,l){var f,k,d,g;f=l.filter(function(n){return n.Cy || n === c.cd;});k=f.map(function(n){return n.bitrate;});l=c.cd;f=f.indexOf(l);d=this.A2;if(d && (d.length !== k.length || d.some(function(n,h){return n !== k[h];}))){g=this.B0a();g && (this.eh.push(g),this.reset(!1));}void 0 === d && (this.A2=k);this.Wha.push([f,c.sq,c.Tj,c.Qja,c.PUa,c.BC,c.J8a,c.mf,c.Ni,c.Zq,c.yz - c.sq,c.g$a]);void 0 !== c.sn && this.Iha.push([c.sq,c.sn.wz,c.sn.Wx,c.sn.gz]);f=l && l.Ha;this.Xrb && void 0 !== f && (d=f.ky(c.Zq),-1 != d && (f=f.get(d),d=f.duration,l=f.xb || l.xb,void 0 !== l && this.hia.push({kb:f.kb,duration:d,xb:l})));(l=c.w$a) && l.length && (l=l.slice(0),l.unshift(c.sq),this.Lha.push(l));};b.prototype.B0a=function(){var c,l;c=a(this.Wha);if(0 !== c.length){c={dltype:this.krb,bitrates:this.A2,seltrace:c,vmaftrace:this.hia,paceratetrace:a(this.Iha)};l=a(this.Lha,this.esb);l && l.length && (c.predtrace={config:this.dsb,data:l});return c;}};b.prototype.get=function(){var c,l;c=this.B0a();l=this.eh;c && l.push(c);if(0 !== l.length)return l;};r.exports=b;},23710:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.dBa=void 0;c=a(50954);l=a(83981);f=a(13043);r=(function(){function k(d){this.context=d;this.jd="ad-playgraph";this.enabled=!0;}k.prototype.ii=function(d){var g,n,h,m,p,q,u;g=d.oi;d=d.gC;if(g === f.mc.Sj || g === f.mc.pm || g === f.mc.gi || d === f.Sh.hu || void 0 === g && void 0 === d){d=this.context;g=d.Kc;n=d.Va;d=n.Z;h=d.Od?d.zg:n.wr?n.vh:void 0;m=g.Xs;p=void 0;q="content";d=void 0;if(h){n=n.da.O[h.I];u=n.cc;u && (g=g.da.O[u],g.J != n.J && (p=n.J,q=n.type,d=this.lJb(h.I,g.J)));}g={adPlaygraph:m?c.rfa.decode(m):void 0,adMid:p,auxMid:p,auxMidType:q,manifestHasAds:!!m};void 0 !== d && (g.adBreakLocationMs=d);return g;}};k.prototype.lJb=function(d,g){var n,h,m,p;if(d=(0,l.TF)(d))p=null === (m=null === (h=null === (n=this.context.Kc.Vc) || void 0 === n?void 0:n.Xe.ie[g]) || void 0 === h?void 0:h[d.uj]) || void 0 === m?void 0:m.ru;return p;};return k;})();b.dBa=r;},42842:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.IBa=void 0;r=a(5163);c=a(57055);l=a(42866);f=a(42866);k=r.__importDefault(a(89956));d=r.__importDefault(a(9551));g=a(13043);n=a(88985);a=(function(){function h(m){var p,q;p=this;this.da=m;this.er="aseReport";this.LS=l.L.Tp;this.events=new c.EventEmitter();this.Nka=n.h1.CDa;this.Gha=!1;this.qSa=0;if(0 === Math.floor(1E6 * Math.random()) % m.config.vS || m.config.Dgc){this.LS=l.L.Na(m.config.ija);this.uTb=m.config.ivb;this.da.g3=!0;q=[];q[k.default.vm.X]=new d.default(m.config,k.default.vm.X);q[k.default.vm.$]=new d.default(m.config,k.default.vm.$);q[k.default.vm.Ga]=new d.default(m.config,k.default.vm.Ga);this.$ha=q;this.da.events.on("openComplete",function(){return p.open();});}}h.prototype.open=function(){this.da.g3 && !this.Gha && (this.Gha=!0,this.da.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.da.events.on("requestIssued",this.fua.bind(this)));};h.prototype.fua=function(m){m.result && m.streamList && (this.$ha[m.mediaType].add(m.result,m.streamList),++this.qSa >= this.uTb && this.events.emit("collectionRequested"));};h.prototype.EMb=function(){var m;m=(0,f.flatten)(this.$ha.map(function(p){return p.get();}).filter(function(p){return void 0 !== p;}));this.$ha.forEach(function(p){return p.reset(!0);});this.qSa=0;return m;};h.prototype.Cf=function(m){var p,q;p=m.oi;q=m.jzb;m=m.q4a || q || p === g.mc.gi;return this.da.g3 && this.Gha && m && (m=this.EMb()) && m.length?{yaa:!0,event:{type:"asereport",strmsel:m}}:{yaa:!1};};return h;})();b.IBa=a;},69287:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.YCa=void 0;c=a(59322);l=a(49730);f=a(13043);r=(function(){function k(d,g){this.S4b=d;this.qn=g;}Object.defineProperties(k.prototype,{xo:{get:function(){return ("cache-").concat(this.S4b);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{jd:{get:function(){return this.xo;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});k.prototype.ii=function(d){var g,n,h;g=d.oi;d=d.gC;if(g === f.mc.Sj || g === f.mc.pm || g === f.mc.gi || void 0 === g && void 0 === d){n=(0,c.o0a)(this.qn);g=Object.keys(n).filter(function(m){return n[m].isEnabled;});if(g.length){h={};g.forEach(function(m){h[m]={hit:n[m].Wja,idx:n[m].WUa};});return {lfc:h};}}};return k;})();b.YCa=r;},53412:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.fDa=void 0;c=a(42866);l=a(27364);f=a(13043);r=(function(){function k(d,g){this.ng=d;this.config=g;this.jd="CdnListTracker";}Object.defineProperties(k.prototype,{enabled:{get:function(){return this.config.byb;},enumerable:!1,configurable:!0}});k.prototype.ii=function(d){var g;g=this;if(d.oi === f.mc.gi)return {cdndldist:JSON.stringify((0,c.STa)(Object.keys(this.ng).map(function(n){var h;h=g.ng[n];return Object.keys(h).map(function(m){var p;p=h[m];return {cdnid:p.Lm,pbcid:p.Sg,dls:Object.keys(p.EF).map(function(q){var u,t;q=p.EF[q];t=q.mediaType === l.u.$?"adlid":"dlid";return (u={tm:q.totalTime,bitrate:q.bitrate},u[t]=q.Vb,u.vf=q.xb,u);})};});})))};};return k;})();b.fDa=r;},53405:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zDa=void 0;c=a(13043);r=(function(){function l(f){this.Nm=f;this.jd="content-playgraph";this.enabled=!0;}l.prototype.ii=function(f){var k,d;k=f.oi;f=f.gC;if(k === c.mc.Sj || k === c.mc.pm || k === c.mc.gi || void 0 === k && void 0 === f){f=this.Nm.Va;d=f.Z;k=void 0;(d.Od?d.zg:f.wr && f.vh) && this.Nm.Nm && (d=d.zg,f=this.Nm.Bg.hs(d),d=this.Nm.Va.da.O[d.I].J,this.Nm.da.O[f.I].J != d && (k=d));return {contentPlaygraph:this.Nm.Nm,auxMid:k};}};return l;})();b.zDa=r;},33285:function(r,b,a){var l,f,k,d;function c(g,n,h){var m,p,t;n=l.__assign({},null === (p=null === g || void 0 === g?void 0:g.context) || void 0 === p?void 0:p.call(g,{I8a:n,up:h}));if((null === g || void 0 === g?0:g.up) && h)if(!0 === g.up)n.args=h;else {p={};n.args=p;try{for(var q=l.__values(g.up),u=q.next();!u.done;u=q.next()){t=u.value;p[t]=h[t];}}catch(v){var w;w={error:v};}finally{try{u && !u.done && (m=q.return) && m.call(q);}finally{if(w)throw w.error;}}}return n;}Object.defineProperties(b,{__esModule:{value:!0}});b.Su=b.upa=b.Qb=void 0;l=a(5163);f=a(12043);k=a(42866);d=a(49730);b.Qb=function(g){return function(n,h,m){var p;p=m.value;m.value=function(){var q,u,t,w,v,y;u=(0,b.upa)(this);if(u)(t=c(g,this,arguments),w=null !== (q=null === g || void 0 === g?void 0:g.methodName) && void 0 !== q?q:String(h),v=u.jTa(w,t,null === g || void 0 === g?void 0:g.gk,null === g || void 0 === g?void 0:g.ghc));q=null === u || void 0 === u?void 0:u.wla;u && (u.wla=v);try{y=null === p || void 0 === p?void 0:p.apply(this,arguments);(0,k.$qa)(y) && (y=y.then(function(z){v && (null === g || void 0 === g?0:g.return) && (v.data.resolve=z);return z;},function(z){v && (v.data.reject=("").concat(z));return Promise.reject(z);}));return y;}catch(z){var x;x=z;throw z;}finally{u && (u.wla=q);v && (v.data || (v.data={}),x?(v.data.error=("").concat(x),null === u || void 0 === u?void 0:u.Czb(v)):(null === g || void 0 === g?0:g.return) && !(0,k.$qa)(y) && (v.data.lRet=y));}};};};b.upa=function(g){if(null === g || void 0 === g?0:g.rga)return g.rga;};r=(function(){function g(n){this.Wp=[];this.g2=!1;this.hha={};this.W=l.__assign({ro:10},n);Object.defineProperties(n.qn,{rga:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(g.prototype,{source:{get:function(){return this.W.source;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !this.g2;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{PQb:{get:function(){return l.__spreadArray([],l.__read(this.Wp),!1);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{cOb:{get:function(){return this.hha;},enumerable:!1,configurable:!0}});g.prototype.Ys=function(n){var h,m;if(!this.g2){m=null === (h=(0,b.upa)(this.W.qn)) || void 0 === h?void 0:h.wla;m && (m.data=l.__assign(l.__assign({},m.data),n));}};g.prototype.jTa=function(n,h,m,p){var q,u,t,w;if(!this.g2){t=!1;w=null === (u=(q=this.W).nTa) || void 0 === u?void 0:u.call(q,this.W.qn);q=c({},this.W.qn);h=l.__assign(l.__assign(l.__assign({},w),q),h);w=0 < Object.keys(h).length;h={methodName:n,data:w?h:void 0,time:f.platform.time.wa()};p && this.hha[n]++;m && this.Wp.length && (m=this.Wp[this.Wp.length - 1],m.methodName === n && (m.data=m.data || ({}),m.data.dedup=m.data.dedup || ({hitCount:1}),m.data.dedup.hitCount++,m.data.dedup.lJournal=h,t=!0));this.Dzb(h);t || this.Wp.push(h);this.Wp.length > this.W.ro && this.Wp.shift();return h;}};g.prototype.Dzb=function(n){var h;d.K && (null === (h=this.W.console) || void 0 === h?void 0:h.trace(("").concat(this.W.source,"::").concat(n.methodName),n.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.W,n);};g.prototype.Czb=function(n){var h;d.K && (null === (h=this.W.console) || void 0 === h?void 0:h.error(("").concat(this.W.source,"::").concat(n.methodName),n.data));};g.prototype.Oa=function(){Object.defineProperties(this.W.qn,{rga:{enumerable:!1,value:null,configurable:!0}});this.g2=!0;this.clear();};g.prototype.clear=function(){this.Wp=[];this.hha={};};return g;})();b.Su=r;},83275:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ea=void 0;c=a(13043);r=(function(){function l(f){this.Jc=f;}Object.defineProperties(l.prototype,{jd:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.ii=function(f){var k;if(f.oi === c.mc.gi && this.Jc){f={};k=this.Jc.get();k && k.avtp && k.avtp.Ca && (f.avtp=k.avtp.Ca,f.dltm=k.avtp.vYa);k && k.initialThroughput && k.initialThroughput.Ca && (f.initial_avtp=k.initialThroughput.Ca);k && k.cdnavtp && (f.cdnavtp=k.cdnavtp,f.activecdnavtp=k.activecdnavtp);if(k=this.Jc.Qoa())(k.bytesRequestedPacingVideo && (f.bytesRequestedPacingVideo=k.bytesRequestedPacingVideo,f.estimatedBytesPacedVideo=k.estimatedBytesPacedVideo,f.bytestotalVideo=k.bytestotalVideo,f.pacedAvtpVideo=k.pacedAvtpVideo),k.bytesRequestedPacingAudio && (f.bytesRequestedPacingAudio=k.bytesRequestedPacingAudio,f.estimatedBytesPacedAudio=k.estimatedBytesPacedAudio,f.bytestotalAudio=k.bytestotalAudio,f.pacedAvtpAudio=k.pacedAvtpAudio),k.pacedAvtp && (f.pacedAvtp=k.pacedAvtp));this.Jc.flush();if(k=this.Jc.sKb())for(var d in k){k.hasOwnProperty(d) && (f["ne" + d]=Number(k[d]).toFixed(6));}return f;}};return l;})();b.$Ea=r;},64048:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.cFa=void 0;c=a(13043);r=(function(){function l(f){this.j5=f;this.xo="engine";this.enabled=!0;}Object.defineProperties(l.prototype,{jd:{get:function(){return this.xo;},enumerable:!1,configurable:!0}});l.prototype.ii=function(f){var k;k=f.oi;f=f.gC;if(k === c.mc.Sj || k === c.mc.pm || k === c.mc.gi || void 0 === k && void 0 === f)return (k=this.j5.BYb.map(function(d){var g;g=d.da;return {id:g.id,weight:g.weight,relativeWeight:d.lX};}),{prefetcher:this.j5.gw.getStats(),playgraphs:k,viewables:this.j5.I9b,players:this.j5.zYb.length});};return l;})();b.cFa=r;},10711:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.YHa=void 0;c=a(57055);l=a(42866);f=a(27364);k=a(88985);d=a(13043);r=(function(){function g(n){this.da=n;this.er="liveReport";this.LS=l.L.Tp;this.events=new c.EventEmitter();this.Nka=k.h1.uOa;this.kR=!1;this.trace=[];this.ufb=1;0 < n.config.Q5a && 0 < n.config.Gra && (this.LS=l.L.Na(n.config.Gra),this.ufb=Math.max(Math.floor(n.config.Q5a / n.config.Gra),1),this.kR=!0);}g.prototype.hzb=function(){var n,h,m,p;h=this.da.Z;if(h.Od){m=h.bz;p=m.la;if(p.aa){if(m=null === (n=m.Ie(f.u.X)) || void 0 === n?void 0:n.mk)(n=m.Tl(),p=p.ju,h=n.vja + h.Ld.G,n=this.da.UF(),this.trace.push([p,h,n.totalabuflmsecs,n.totalvbuflmsecs]));}else this.kR=!1;}};g.prototype.Cf=function(n){var h;h=n.q4a;n=n.oi;this.kR && (h || n === d.mc.Sj) && this.hzb();return this.trace.length === this.ufb || 0 < this.trace.length && n === d.mc.gi?(h=this.trace,this.trace=[],{yaa:!0,event:{type:"livereport",samplinginterval:this.LS.G,trace:h}}):{yaa:!1};};return g;})();b.YHa=r;},99384:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ZHa=void 0;c=a(60328);l=a(83241);f=a(13043);r=(function(){function k(d){this.ya=d;this.enabled=!0;}Object.defineProperties(k.prototype,{jd:{get:function(){return "live-reporter";},enumerable:!1,configurable:!0}});k.prototype.ii=function(d){var g,n,h,m,p,q,u,t;d=d.gC;if(d === f.Sh.ds || d === f.Sh.cV || d === f.Sh.gy || d === f.Sh.hu || d === f.Sh.iY || d === f.Sh.Qx || d === f.Sh.qX){q=this.ya.Z;if(q.Od){u=q.bz;t=u.la;u=null === (g=u.Ie(c.u.X)) || void 0 === g?void 0:g.mk;if(t.aa && u){g=u.Tl();t={encodingpipelinetime:t.ju,devicepts:g.vja + q.Ld.G};(u=null === (n=q.hw.get(c.u.X)) || void 0 === n?void 0:n.una(l.u1)) && (t.vbitrate=null === (h=u.T1a()) || void 0 === h?void 0:h.stream.bitrate);(n=null === (m=q.hw.get(c.u.$)) || void 0 === m?void 0:m.una(l.u1)) && (t.abitrate=null === (p=n.T1a()) || void 0 === p?void 0:p.stream.bitrate);d === f.Sh.ds && (t.presentationtimeoffset=g.$t.G);if(d === f.Sh.ds || d === f.Sh.hu)t.targetbufferduration=this.ya.config.KG;return t;}}}};return k;})();b.ZHa=r;},88985:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.wIa=b.h1=void 0;c=a(57055);l=a(13043);(function(k){k[k.CDa=1]="Creation";k[k.uOa=2]="StartPlayback";})(f=b.h1 || (b.h1={}));r=(function(){function k(d,g,n){this.tc=d;this.T=g;this.events=n;this.EH=[];this.$k=new c.De();}k.prototype.Fe=function(d){var g;g={UN:d,$ja:void 0};this.EH.push(g);d.Nka === f.CDa && this.Zbb(g);this.$k.on(d.events,"collectionRequested",this.hWb.bind(this,g));};k.prototype.Oa=function(){this.$k.clear();};k.prototype.qRb=function(d){var g,n;g=this;n={oi:d};this.EH.forEach(function(h){g.Aza(h.UN,n);d === l.mc.Sj && h.UN.Nka === f.uOa && g.Zbb(h);});};k.prototype.hWb=function(d){var g;this.Aza(d.UN,{jzb:!0});null === (g=d.$ja) || void 0 === g?void 0:g.rf();};k.prototype.Zbb=function(d){var g,n,h,m;g=this;h=d.UN;m=this.tc.ZWa(function(){g.Aza(h,{q4a:!0});},h.LS,h.er);null === (n=d.$ja) || void 0 === n?void 0:n.Oa();d.$ja=m;};k.prototype.Aza=function(d,g){var n;try{n=d.Cf(g);n.yaa && this.events.emit(d.er,n.event);}catch(h){this.T.error(("Error generating event for ").concat(d.er),h);}};return k;})();b.wIa=r;},34848:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.JLa=void 0;c=a(27364);l=a(13043);r=(function(){function f(k){this.Ie=k;}Object.defineProperties(f.prototype,{jd:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.ii=function(k){var d,g,n;k=k.oi;if(k === l.mc.pm || k === l.mc.gi){k={};d=this.Ie(c.u.X);g=this.Ie(c.u.$);n=this.Ie(c.u.Ga);d && (k.videoPipelineSummary=this.Oya(d));g && (k.audioPipelineSummary=this.Oya(g));n && (k.textPipelineSummary=this.Oya(n));return k;}};f.prototype.Oya=function(k){var d,g,n,h,m;m=k.Le.Ha;m={actualStartPlayerTimestamp:null === (d=m.Cb) || void 0 === d?void 0:d.G,actualPartialPlayerTimestamp:m.F9a,completePlayerTimestamp:null === (g=k.Rk) || void 0 === g?void 0:g.G,segmentId:k.I,contentStartMs:null === (n=k.Ka) || void 0 === n?void 0:n.G,contentEndMs:null === (h=k.Ua) || void 0 === h?void 0:h.G,streamingPlayerMs:k.ZC.G,isStreamable:k.yr(),isNormalized:k.hf(),isDoneStreaming:k.hn(),trackNeedsHeaderRequest:k.track.jW,completedRequests:m.qWa,activeRequests:k.Le.Ni,unsentRequests:k.Le.gD,bytes:{current:m.xa,received:m.M_b,partial:m.Nr,completed:m.e4,unsent:m.W7b}};k.P5a && (m.liveMissingFragments=k.P5a);return m;};return f;})();b.JLa=r;},48154:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.uMa=void 0;c=a(5163);l=a(49730);f=a(97810);k=a(13043);d=a(66709);r=(function(){function g(n,h){var m;m=this;this.gva=n;this.ya=h;this.i$a=new f.Wh();h.events.on("branchesReevaluated",function(){m.i$a.push(n.size);});}Object.defineProperties(g.prototype,{jd:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{xo:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});g.prototype.ii=function(n){var h;n=n.oi;if(n === k.mc.pm || n === k.mc.gi){h={branchCountStats:this.i$a.toJSON(),decisions:this.ya.pg.toJSON(),player:this.ya.Z.Rp?this.ya.Z.Za.map(function(m){return m.v.id;}):[]};this.gva.forEach(function(m,p){var q,u;u=(0,d.eoa)(m);h[p]=c.__assign({probabilities:m.pf.map(function(t){return {duration:t.duration,immediate:t.NB,seamless:t.sf};}),parent:null === (q=m.parent) || void 0 === q?void 0:q.v.id,normalized:m.hf,hasViewable:m.cn,headerRequested:m.cn && m.la.$2a},u);});return h;}};return g;})();b.uMa=r;},89873:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.SMa=void 0;c=a(12043);l=a(13043);r=(function(){function f(){this.creationTime=c.platform.time.wa();this.Ac={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}f.prototype.Bvb=function(k){this.da=k;};f.prototype.f2b=function(k,d){var g;k=null === (g=this.da) || void 0 === g?void 0:g.io(k);this.Ac={isPrefetchItem:!0,prefetchedVideoMs:k.QO,prefetchedAudioMs:k.PO,prefetchClaimDurationMs:c.platform.time.wa() - this.creationTime,prefetchRank:d};};Object.defineProperties(f.prototype,{jd:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.ii=function(k){if(k.oi === l.mc.Sj)return this.Ac;};return f;})();b.SMa=r;},13043:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Gfa=b.Sh=b.mc=void 0;c=a(5163);l=a(42866);f=a(18998);(function(k){k[k.Sj=0]="startPlayback";k[k.gi=1]="endPlayback";k[k.pm=2]="underflow";})(b.mc || (b.mc={}));b.Sh={ds:"startplay",Ry:"midplay",gy:"endplay",cV:"intrplay",Qx:"chgstrm",xN:"playbackaborted",qX:"renderstrmswitch",LC:"repos",hu:"resumeplay",iY:"statechanged",YE:"aseReport"};r=(function(){function k(d){this.config=d;this.EH=[];}k.prototype.Fe=function(d){var g,n;n=c.__read(this.config.gvb.filter(function(h){return h.jd === d.jd;}),1)[0];this.config.uFb && (null !== (g=null === n || void 0 === n?void 0:n.enabled) && void 0 !== g?g:d.enabled)?this.EH.push(d):d.Oa && d.Oa();};k.prototype.gMb=function(d){return (0,l.ec)(this.EH,function(g){return g.jd === d.jd;});};k.prototype.ii=function(d,g){var n,h,m,u,t;h={};m=[];try{for(var p=c.__values(this.EH),q=p.next();!q.done;q=p.next()){u=q.value;try{t=u.ii({oi:d,gC:g});t && (u.xo?h[u.xo]=t:h=c.__assign(c.__assign({},h),t));}catch(v){m.push(Error(("").concat(u.jd,"::").concat(v)));}}}catch(v){var w;w={error:v};}finally{try{q && !q.done && (n=p.return) && n.call(p);}finally{if(w)throw w.error;}}m.length && (h["rpt-error"]=f.jca.stringify(new f.jca("Reporting error",m)));return h;};return k;})();b.Gfa=r;},66709:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.l0a=b.J1a=b.eoa=b.wNa=void 0;c=a(5163);l=a(49730);f=a(13043);r=(function(){function k(d){this.ub=d;}Object.defineProperties(k.prototype,{jd:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xo:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});k.prototype.ii=function(d){var g,n,p;d=d.oi;if(d === f.mc.gi || d === f.mc.pm)if(d=this.ub.Zna()){n={};try{for(var h=c.__values(d.qYb),m=h.next();!m.done;m=h.next()){p=m.value;n[p.mediaType]=this.VSb(p);}}catch(u){var q;q={error:u};}finally{try{m && !m.done && (g=h.return) && g.call(h);}finally{if(q)throw q.error;}}return {branchQueue:(0,b.l0a)(d.w_b),playerIterator:n,driftStats:this.ub.qAa};}};k.prototype.VSb=function(d){return null === d || void 0 === d?void 0:d.f1a();};return k;})();b.wNa=r;b.eoa=function(k){var d,g;if(k){d=k.v;g={};k.nr().forEach(function(n){g[n.mediaType]=(0,b.J1a)(n);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:k.Rd,RM:g};}return k;};b.J1a=function(k){var d,g,n;if(k && k.Le)return c.__assign(c.__assign({},k.Le.V1a()),{unsentRequests:k.Le.gD,lastFragmentContentEndPts:null === (d=k.jf) || void 0 === d?void 0:d.Ua.G,trackAttributes:null === (g=k.track) || void 0 === g?void 0:g.Zm(),bitrate:null === (n=k.jf) || void 0 === n?void 0:n.bitrate});};b.l0a=function(k){return k.map(function(d){return (0,b.eoa)(d);});};},46059:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.BNa=void 0;c=a(13043);r=(function(){function l(f,k){this.Jc=f;this.obb=k;}Object.defineProperties(l.prototype,{jd:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.ii=function(f){var k;k=f.oi;f=f.gC;if(k === c.mc.gi || k === c.mc.pm || void 0 === k && void 0 === f)return (k={numOutstandingRequests:this.obb.CVb,requestOpportunityDelayStats:this.obb.nbb},(f=this.Jc.stb) && f.length && (k.activeRequests=JSON.stringify(f)),k);};return l;})();b.BNa=r;},39886:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Qfa=void 0;c=a(13043);r=(function(){function l(){this.xo=this.jd=l.jd;this.enabled=!0;this.FX=[];this.Fbb=0;}l.prototype.bub=function(f){this.FX.push(f);5 < this.FX.length && this.FX.shift();};l.prototype.cub=function(){this.Fbb++;};l.prototype.ii=function(f){var k;k=f.oi;f=f.gC;if((k === c.mc.Sj || k === c.mc.pm || k === c.mc.gi || void 0 === k && void 0 === f) && this.FX.length)return {restarts:this.FX.map(function(d){return {s:d.T4b,d:d.kEb,r:d.xab,atMs:d.yYb.G};}),restartsCompleted:this.Fbb};};l.jd="seamlessManager";return l;})();b.Qfa=r;},41471:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.vOa=void 0;c=a(57055);l=a(27364);f=a(13043);r=(function(){function k(d){this.yQa=!1;this.xB=new c.De();this.xB.addListener(d.events,"streamSelection",this.fua.bind(this));}k.prototype.fua=function(d){this.yQa || (d.mediaType === l.u.$ && void 0 === this.vqa?this.vqa=d:d.mediaType === l.u.X && void 0 === this.xqa && (this.xqa=d));};k.prototype.Oa=function(){this.xqa=this.vqa=void 0;this.xB.clear();this.yQa=!0;};Object.defineProperties(k.prototype,{jd:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.ii=function(d){var g,n,h,m,p,q;if(d.oi === f.mc.Sj){d=this.xqa || this.vqa;q=null === d || void 0 === d?void 0:d.result;q={histbw:null === (n=null === (g=null === q || void 0 === q?void 0:q.jb) || void 0 === g?void 0:g.gb) || void 0 === n?void 0:n.Ca,histinitbw:null === (m=null === (h=null === q || void 0 === q?void 0:q.jb) || void 0 === h?void 0:h.Gt) || void 0 === m?void 0:m.Ca,histdiscbw:null === q || void 0 === q?void 0:q.Kv,histage:null === (p=null === q || void 0 === q?void 0:q.jb) || void 0 === p?void 0:p.oS};g=null === d || void 0 === d?void 0:d.streamList.map(function(u){return void 0 !== u.m5?{vmaf:u.m5,streamIndex:u.xw,streamId:u.Pb}:void 0;}).filter(function(u){return void 0 !== u;});0 < (null === g || void 0 === g?void 0:g.length) && (q.vmafEstimates=g);this.Oa();return q;}this.Oa();};return k;})();b.vOa=r;},35556:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.POa=void 0;c=a(12043);l=a(57055);f=a(49730);k=a(13043);r=(function(){function d(g){this.tc=g;this.mA=[];this.reset();}Object.defineProperties(d.prototype,{jd:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xo:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return f.K;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var g,n;g=this;null === (n=this.tx) || void 0 === n?void 0:n.clear();this.tx=new l.De();this.tx.on(this.tc,"clockChanged",function(){g.reset();g.ZT("initial");});this.tx.on(this.tc,"stopping",function(){g.ZT("stopping");});this.tx.on(this.tc.sa,"clockAdjusted",function(){g.ZT("clockAdjusted");});this.tx.on(this.tc.sa,"stopStart",function(){g.ZT("stopStart");});this.tx.on(this.tc.sa,"speedChanged",function(){g.ZT("speedChanged");});};d.prototype.ZT=function(g){this.mA.push({reason:g,audit:this.tc.Rl(),time:c.platform.time.wa()});5 < this.mA.length && this.mA.shift();};d.prototype.ii=function(g){var n;n=g.oi;g=g.gC;if(n === k.mc.Sj || n === k.mc.pm || n === k.mc.gi || void 0 === n && void 0 === g)return this.mA;};return d;})();b.POa=r;},92589:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.QOa=void 0;c=a(49730);l=a(18653);f=a(13043);r=(function(){function k(d){var n;function g(){var h;if(d.bO){h=d.bO.BFb();n.mA.add(h.Rl());}}n=this;this.tc=d;this.mA=new Set();d.on("clockChanged",g);d.on("rootSchedulerReleasing",function(h){h.bO.Dba && n.mA.add(h.bO.Dba.Rl());});g();}Object.defineProperties(k.prototype,{jd:{get:function(){return "task-verbose-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xo:{get:function(){return "tsch-verbose";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return c.K;},enumerable:!1,configurable:!0}});k.prototype.ii=function(d){var g,n,h;if(d.oi === f.mc.gi){null === (n=null === (g=this.tc) || void 0 === g?void 0:g.bO.Dba) || void 0 === n?void 0:n.Rl();this.mA.forEach(function(m){h=h?l.lga.reduce(h,m):m;});return h;}};return k;})();b.QOa=r;},48641:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.ox=void 0;c=a(5163);l=a(49730);f=a(97810);k=a(13043);r=(function(){function d(g,n){this.Yg=g;this.options=c.__assign({Pyb:!0},n);}Object.defineProperties(d.prototype,{xo:{get:function(){return ("trace-").concat(this.Yg.source);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{jd:{get:function(){return this.xo;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return l.K;},enumerable:!1,configurable:!0}});d.prototype.ii=function(g){var n,h;n=g.oi;if(n === k.mc.gi || n === k.mc.pm){g=(0,f.TXa)(this.Yg.PQb);h=this.Yg.cOb;n === k.mc.gi && this.options.Pyb && this.Yg.clear();n=g;Object.keys(h).length && (n=c.__spreadArray(c.__spreadArray([],c.__read(g),!1),[h],!1));return n;}};d.prototype.Oa=function(){var g;null === (g=this.Yg) || void 0 === g?void 0:g.Oa();};return d;})();b.ox=r;},88181:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.xNa=void 0;c=a(5163);l=c.__importStar(a(17267));f=a(42866);k=a(36418);d=a(29930);g=a(2746);r=a(57196);n=a(27364);h=a(62558);m=a(89755);p=a(7881);q=a(58628);u=a(54790);t=a(38509);w=a(30923);a=(function(v){function y(x,z,A,B,C,D,E,G){var F;F=v.call(this,x) || this;F.W=z;F.T=A;F.hp=B;F.Gs=C;F.ue=D;F.Ooa=G;F.ve=new m.mD(F.T);F.qA=F.T.error.bind(F.T);F.Sn=F.T.warn.bind(F.T);F.Dx=F.T.trace.bind(F.T);F.aSa();F.lp=null === E || void 0 === E?void 0:E.$x(function(){return F.g1b();},"pruner");return F;}c.__extends(y,v);Object.defineProperties(y.prototype,{console:{get:function(){return this.T;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.ue;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Sa:{get:function(){return this.Gs;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ww:{get:function(){return 0 < this.wwa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{uya:{get:function(){return !this.oR;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{wwa:{get:function(){return this.pc.length;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{gD:{get:function(){return this.pc.gD;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{pK:{get:function(){return this.ve.Ay;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Rk:{get:function(){return this.pc.complete.Hb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{YS:{get:function(){return this.pc.oWa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ska:{get:function(){return this.pc.qzb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ZC:{get:function(){return this.pc.Hb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{M$:{get:function(){return void 0 === this.pc.Cb?0:this.pc.Hb.G - this.pc.Cb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{d4:{get:function(){return {xa:this.pc.e4,G:this.pc.empty?0:Math.max(this.pc.oWa - this.pc.Cb.G,0)};},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{e4:{get:function(){return this.pc.e4;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{OA:{get:function(){return this.pc.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{KXb:{get:function(){return this.Eqb();},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ipa:{get:function(){return this.pc.length > this.pc.gD;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ni:{get:function(){return this.pc.Ni;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{n5a:{get:function(){return this.$Qa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ha:{get:function(){return this.pc;},enumerable:!1,configurable:!0}});y.prototype.Hf=function(x){var A,B;function z(){return B.forEach(function(C){C.abort();C.$e();});}B=this.pc;x?setTimeout(z,1):z();this.aSa();this.ve.IF();null === (A=this.lp) || void 0 === A?void 0:A.Oa();};y.prototype.reset=function(){this.Hf();this.ve.ybb();};y.prototype.close=function(){this.ve.IF();};y.prototype.Acb=function(){this.kQa=!0;};y.prototype.V1a=function(){return {endMarked:void 0 !== this.ve.count,queueCount:this.ve.count,isComplete:this.ve.Ay,itemCount:this.ve.pWa,continuousEndPts:this.ve.Dk().reduce(function(x,z){return z && !z.done && (z=z.value,100 > Math.abs(z.FL.G - x) || -1 === x)?z.Rna.G:x;},-1),sentinelItemCount:this.ve.Dk().filter(function(x){return x && x.done;}).length,processedCount:this.ve.aEb,rc:this.wwa};};y.prototype.lXa=function(x,z,A){var B,C;B=this.W;(0,h.assert)(!x.header);A.aa && A.mediaType === n.u.Ga && (C=new u.oca(A,this.Gs.zz.track,x,this.pc,this.Sa.v,B,this.T));C || (C=d.mca.create(A,B,z.track,x,this.pc,this.Sa.v,this.T,this.Ooa));this.ov(C);return C;};y.prototype.ov=function(x){var z,A;this.pc.Ht(x);(null === (z=this.lp) || void 0 === z?void 0:z.state) === p.Kk.complete && (null === (A=this.lp) || void 0 === A?void 0:A.rf());this.Npb();x.Xk && (this.oR=!1);};y.prototype.GB=function(){return this.ve.$na();};y.prototype.wVa=function(){this.bv === this.pc.length && this.kQa && this.ve.IF();};y.prototype.Bza=function(){var x,z,A;x=this;Promise.resolve();if(this.Gs.p7(this.ue) && this.bv !== this.pc.length){for(var B=this.W.qTb,C=0,D=[];this.bv < this.pc.length;){if(A=this.pc.get(this.bv)){if(A.Ty){if(this.W.CT)D.push.apply(D,this.d_b(A));else break;}else {if(this.pc.A_a && this.pc.A_a.sb < A.sb)break;if(!A.k4a())break;D.push(A);}++C;l.Sb(this.cva) || (this.cva=null === (z=A.Cb) || void 0 === z?void 0:z.G);}++this.bv;if(!l.kn(B) && C >= B)break;}D.length && (void 0 !== this.ve.count && (this.qA("tryToAtach() but requestQueue has sentinel:",this.ve.count),this.ve.ybb()),Promise.all(D.map(function(E){return x.ve.enqueue(E).then(function(){return x.lNb(E);});})),this.wVa());}};y.prototype.lNb=function(x){this.$Qa=x;};y.prototype.aS=function(x){var z,A,B;z=this;A=[];if(0 !== this.pc.gD){B=this.pc.F9a;this.pc.V7b.oya(function(C){var D;if(C.Xk || B > (null === (D=C.Cb) || void 0 === D?void 0:D.G))return !0;C.Ev && (z.oR=!1);if(!z.sga(C))return (z.Sn("request abort failed:",C.toString()),!0);A.unshift(C);});this.QRa();A.length && "function" === typeof x && x(A);}};y.prototype.f1b=function(x){x.Ty=!0;x.abort();this.pc.PWb();this.Bza();};y.prototype.g1b=function(){var x,z,A,B,C,D;return c.__generator(this,function(E){switch(E.label){case 0:E.label=1;case 1:if(!this.pc.length)return [3,3];x=this.pc.get(0);z=f.L.Na(null !== (D=null === (C=this.W.oO) || void 0 === C?void 0:C.G) && void 0 !== D?D:0);A=z.add(x.Hb);return [4,p.Lg.vu(A)];case 2:E.Wa();if(1 >= this.pc.complete.length && !x.Xk)return [3,3];(0,h.assert)(x === this.pc.get(0));x.tS || this.sga(x);B=this.pc.splice(0,1);0 < this.bv && this.bv--;this.hp.Cta(B);B=void 0;return [3,1];case 3:return [2];}});};y.prototype.VHb=function(x){if(this.pc.length && (x=this.pc.i_a(x)))return x;};y.prototype.itb=function(x){var z,A,B,C,D,E,G;E=x.Ua;x=this.pc.pna(x.Ka.G);G=this.pc.get(x);(0,h.assert)(G && void 0 !== (null === (z=G.Ka) || void 0 === z?void 0:z.G) && void 0 !== (null === (A=G.Ua) || void 0 === A?void 0:A.G) && void 0 !== G.index,"expected existing request to be defined with properties");if(null === (B=G.Ua) || void 0 === B?0:B.equal(E))return (this.ESa(x),[null === (C=G.Ua) || void 0 === C?void 0:C.G,G.index + 1]);this.ESa(x - 1);return [null === (D=G.Ka) || void 0 === D?void 0:D.G,G.index];};y.prototype.Cn=function(x){var z,A;z=this;A=[];this.pc.forEach(function(B){var C;C=B.Uza(x);1 === C?A.push(B):2 === C && z.Sa.la.qf("swapUrl failure");});return A;};y.prototype.lN=function(x){x.Jt && x.k4a() && this.Bza();this.UT(x);};y.prototype.Mr=function(x,z){var A,B;x.stream.aa && x.Ev && x.mediaType === n.u.$ && this.m8b(x);x.Jt && !x.tS && this.Bza();(null === (A=this.lp) || void 0 === A?void 0:A.state) === p.Kk.complete && (null === (B=this.lp) || void 0 === B?void 0:B.rf());this.PF(x,z);};y.prototype.m8b=function(x){var z,A;z=k.kJ.PZa(new DataView(x.Do[0]));if(void 0 !== z && x.stream.track.jWb(z)){A=x.stream.Tl();this.pc.forEach(function(B){var C;C=A.fU(B.index);B.k8b(C.Ka,C.Ua);});this.Ha.update();}};y.prototype.Eqb=function(){return this.pc.Ni + this.pc.gD;};y.prototype.aSa=function(){var x,z,A;z=void 0 !== this.pc && 0 < this.pc.length;A=this.pc;this.pc=new g.yBa(this.T,this);this.bv=0;this.ve.clear();this.$Qa=void 0;this.cva=null;null === (x=this.lp) || void 0 === x?void 0:x.rf();this.kQa=this.oR=!1;z && (x=A.map(function(B){return B;}),this.hp.Cta(x));};y.prototype.Npb=function(){this.oR || (this.oR=!0);};y.prototype.ESa=function(x){var z;for(x+=1;x < this.wwa;x++){z=this.pc.get(x);(0,h.assert)(z,"expected request to exist");this.ve.remove(z);z.aborted || (this.sga(z),z.$e());}this.QRa();};y.prototype.sga=function(x){return x.abort()?!0:!1;};y.prototype.QRa=function(){var x,z,A,B;x=this;if(0 !== this.pc.length){A=[];B=0;this.pc.j_b(function(C,D){D < x.bv && ++B;A.push(C);});this.bv-=B;null === (z=this.lp) || void 0 === z?void 0:z.rf();this.hp.Cta(A);}};y.prototype.d_b=function(x){switch(this.mediaType){case n.u.$:return this.e_b(x);case n.u.X:return this.g_b(x);case n.u.Ga:return this.f_b(x);}};y.prototype.e_b=function(x){return w.uD.instance().jY.W$a(this.Sa.la,x.stream.Mf,(0,t.ioa)(x.stream.profile),x.stream.bitrate,x.stream.track.vo,x.Md,this.Sa.v,function(z,A){return x.Cb.add(A).dd(z).ja;},this.W,this.T);};y.prototype.g_b=function(x){var z,A,B;B=null === (z=x.stream.track.Aa) || void 0 === z?void 0:z.bwa();(0,h.assert)(B,"Video streams must have a frame rate");return w.uD.instance().jY.Y$a(this.Sa.la,"padding",x.stream.profile,B,null === (A=x.stream.track.tk) || void 0 === A?void 0:A.pv,x.stream.track.vo,x.Md,this.Sa.v,function(C,D){return x.Cb.add(D).dd(C).ja;},this.T).Ha;};y.prototype.f_b=function(x){x.Pva(w.uD.instance().jY.i_b(),!0);return [x];};return y=c.__decorate([q.HL],y);})(r.lD);b.xNa=a;},36021:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});b.yNa=void 0;c=a(5163);l=a(12043);f=a(62558);k=a(33285);d=a(97810);r=(function(){var n$l;n$l=2;for(;n$l !== 13;){switch(n$l){case 6:var W33="C";W33+="V";W33+="a";var F8Y="c";F8Y+="he";F8Y+="ckRequestO";F8Y+="pportu";F8Y+="nityRunner";c.__decorate([(0,k.Qb)({methodName:F8Y,gk:!0})],g.prototype,W33,null);return g;break;case 2:Object.defineProperties(g.prototype,{CVb:{get:function(){var y69;y69=2;for(;y69 !== 1;){switch(y69){case 2:return this.uE;break;}}},enumerable:!1,configurable:!0}});g.prototype.yj=function(){var H$G,h,n;H$G=2;for(;H$G !== 9;){switch(H$G){case 5:this.hxa=!0;h=l.platform.time.wa();return Promise.resolve().then(function(){var w0M;w0M=2;for(;w0M !== 5;){switch(w0M){case 2:n.hxa=!1;n.CVa(h);w0M=5;break;}}});break;case 2:n=this;H$G=1;break;case 7:n=this;H$G=0;break;case 1:H$G=!this.hxa?5:9;break;}}};g.prototype.ov=function(n){var q7j,h,m;q7j=2;for(;q7j !== 3;){switch(q7j){case 2:q7j=1;break;case 8:q7j=0;break;case 1:var g2V="Mor";g2V+="e than";g2V+=" ma";g2V+="xAllowedOutstandingR";g2V+="equests are outstanding";this.Wp.Ys({mediaType:n.mediaType,contentStartPts:null === (h=n.Ka) || void 0 === h?void 0:h.G,contentEndPts:null === (m=n.Ua) || void 0 === m?void 0:m.G});this.uE++;(0,f.assert)(this.uE <= this.config.p8,g2V);q7j=3;break;}}};g.prototype.Tr=function(n){var A$4,h,m;A$4=2;for(;A$4 !== 9;){switch(A$4){case 12:this.yj("");A$4=4;break;case 3:var y1o="remov";y1o+="eR";y1o+="eques";y1o+="t";this.yj(y1o);A$4=9;break;case 2:var C7d="Re";C7d+="ceived remov";C7d+="e request when there ";C7d+="are no requests outstanding";this.Wp.Ys({mediaType:n.mediaType,contentStartPts:null === (h=n.Ka) || void 0 === h?void 0:h.G,contentEndPts:null === (m=n.Ua) || void 0 === m?void 0:m.G});this.uE--;(0,f.assert)(0 <= this.uE,C7d);A$4=3;break;}}};g.prototype.CVa=function(n){var C4r,h,m,p;C4r=2;for(;C4r !== 9;){switch(C4r){case 5:C4r=this.uE < h && this.G7()?4:3;break;case 1:this.nbb.push(m);C4r=5;break;case 3:var I$z="requestOp";I$z+="portunityRu";I$z+="nnerComplete";this.Wp.jTa(I$z,{requestsIssued:p,scheduledMs:n,timeSinceScheduled:m},!0);C4r=9;break;case 4:p++;C4r=5;break;case 13:p--;C4r=4;break;case 2:(h=this.config.p8,m=l.platform.time.wa() - n,p=0);C4r=1;break;}}};n$l=9;break;case 9:var V3g="T";V3g+="r";var P2q="remov";P2q+="eR";P2q+="equest";var W3j="o";W3j+="v";var R4X="addRequ";R4X+="es";R4X+="t";var Q2o="y";Q2o+="j";var l0Y="chec";l0Y+="kRequestO";l0Y+="ppo";l0Y+="rtunit";l0Y+="y";c.__decorate([(0,k.Qb)({methodName:l0Y,gk:!0,up:!0})],g.prototype,Q2o,null);c.__decorate([(0,k.Qb)({methodName:R4X,gk:!0})],g.prototype,W3j,null);c.__decorate([(0,k.Qb)({methodName:P2q,gk:!0})],g.prototype,V3g,null);n$l=6;break;}}function g(n,h){var H4w,m;H4w=2;for(;H4w !== 14;){switch(H4w){case 3:var A9s="RequestPa";A9s+="c";A9s+="e";A9s+="r";var i0D="1S";i0D+="I";i0D+="Yb";i0D+="ZrNJCp9";var l20="media";l20+="|ase";l20+="js";var a_d="ASEJS_RE";a_d+="QUES";a_d+="T_PACER";this.console=new l.platform.Console(a_d,l20);this.hxa=!1;i0D;this.Wp=new k.Su({qn:this,source:A9s,nTa:function(){var S7F;S7F=2;for(;S7F !== 1;){switch(S7F){case 4:return {numOutstanding:m.uE};break;case 2:return {numOutstanding:m.uE};break;}}},ro:10});this.nbb=new d.Wh();H4w=14;break;case 2:m=this;this.G7=n;this.config=h;this.uE=0;H4w=3;break;}}}})();b.yNa=r;},39266:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.rOa=void 0;c=a(42866);l=a(81883);f=a(27364);r=(function(){function k(d,g){this.Ak=d;this.console=g;this.n2=Infinity;this.tQa=0;this.Psb=!1;}k.prototype.LHb=function(d,g,n,h,m){var p;if(this.Ak){p=d.Ha;if(p){if(n === f.u.X)(n=p.ky(Math.ceil(this.Ak * d.Aa.fw),void 0,!0),p=d.jo(n),d=p.Md.jh(d.Aa),p.Bi({start:0,end:this.Ak - n * d}),this.n2=this.Ak);else {void 0 !== h.Ndb?(g=h.Ndb,n=g * d.Aa.G):(n=(0,l.Koa)(h,m) + Math.ceil(h.Rvb * d.Aa.fw),c.L.Na(n).jh(d.Aa),n=g + n,g=Math.ceil(n / d.Aa.fw));n=p.ky(n,void 0,!0);for(m=h=0;m < n;++m){p=d.jo(m);h+=p.Md.jh(d.Aa);}h=g - h;p=d.jo(n);p.Bi({end:h});this.n2=g;}p.C6a();return p;}}};k.prototype.LNb=function(){return this.tQa >= this.n2;};k.prototype.POb=function(d,g){this.Gv(d,g);};k.prototype.sGb=function(d,g,n){d.bjc=this.Gv(g,n);};k.prototype.Gv=function(d,g){return d.Md.jh(g.Aa);};k.prototype.iF=function(){if(!this.LNb())return !1;if(this.Psb)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",("").concat(this.tQa," >= ").concat(this.n2));return !0;};return k;})();b.rOa=r;},96331:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.LTa=void 0;b.LTa=function(a,c,l){var f,k;f=!0;l.forEach(function(d){var g;if(f && a === d.profile){g=d.ranges;f=void 0 === g?c >= d.min && c <= d.max:g.some(function(n){return c >= n.min && c <= n.max;});!f && d.disallowed && d.disallowed.some(function(n){if(n.stream.bitrate === c)return (k=n.disallowedBy,!0);});}});return {inRange:f,R4:k};};},85770:function(r,b,a){var l;function c(f,k){k=Math.max(f,k);return isNaN(k)?f || -Infinity:k;}Object.defineProperties(b,{__esModule:{value:!0}});b.wBa=void 0;l=a(27364);r=(function(){function f(k){this.config=k;this.$va=0;this.state=l.Sc.Fs;this.H7a=c(k.Tsa,k.L8);this.$sa=c(k.WG,k.cW);}f.prototype.oh=function(k,d){var g;g=this;if(d !== this.state){this.state=d;if(d === l.Sc.ee || d === l.Sc.w1)return k;d === l.Sc.$j && this.L_b();}return k.filter(function(n){return !(void 0 !== n.xb && n.xb < g.$sa || (void 0 === n.xb || 0 > g.$sa) && n.bitrate < g.H7a);});};f.prototype.L_b=function(){++this.$va;this.$sa=c(this.config.WG,this.config.cW - this.config.cUb * this.$va);this.H7a=this.config.Tsa || -Infinity;};return f;})();b.wBa=r;},65364:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.KBa=void 0;c=a(42866);r=(function(){function l(f){this.config=f;}l.prototype.b4b=function(f){return f % 100 + 1 <= this.config.Nua;};l.prototype.oh=function(f){var k,d,g,n,h,m,p,q,u,t,w;p=Number(null === (k=f[0]) || void 0 === k?void 0:k.P);if(!(this.config.h5 && this.b4b(p) && 0 < this.config.Q$.length))return f;k=f.length;q=null !== (d=f[k - 1].BX) && void 0 !== d?d:0;if(d=(0,c.ec)(this.config.Q$,function(v){return v.djc >= q && v.Bbb <= q;})){for(p=0;p < k;p++){u=f[Math.max(p - 1,0)];t=f[p];if(!((null !== (g=t.BX) && void 0 !== g?g:0) < d.Bbb || (null !== (n=u.BX) && void 0 !== n?n:0) < d.Bbb)){w=null !== (h=t.xb) && void 0 !== h?h:Infinity;u=null !== (m=u.xb) && void 0 !== m?m:Infinity;if(!(u < d.qic || u < d.pic && t.bitrate < d.maxBitrate || !w && t.bitrate < d.Phc))break;}}return f.slice(0,p);}return f;};return l;})();b.KBa=r;},72573:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.LBa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.oh=function(c){var l;l=this.config;return c.filter(function(f){return !(void 0 !== f.xb && (f.xb < l.WG || f.xb > l.H6a) || (void 0 === f.xb || 0 >= l.WG) && f.bitrate < l.Tsa || (void 0 === f.xb || Infinity === l.H6a) && f.bitrate > l.cTb);});};return a;})();b.LBa=r;},85147:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.OK=b.NK=void 0;c=a(69044);l=a(42186);b.NK=function(f,k){k && (null === f || void 0 === f?0:f.s3a) && (k=new l.Ru(k).or(l.RD));return new l.Ru(l.xca).and(k || l.RD).or(l.fea,c.zJ.KF).or(l.gea,c.zJ.KF);};b.OK=function(f,k){k && f.s3a && (k=new l.Ru(k).or(l.RD));return new l.Ru(l.xca).and(new l.MBa(f)).and(new l.LBa(f)).and(new l.wBa(f)).and(new l.OBa(f)).and(f.h5?new l.KBa(f):l.RD).and(k || l.RD).or(l.fea,c.zJ.KF).or(l.gea,c.zJ.KF);};},90672:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.MBa=void 0;c=a(27364);r=(function(){function l(f){this.config=f;}l.prototype.oh=function(f,k){return this.config.Xaa || k !== c.Sc.yl?f.filter(function(d){return d.Mp;}):f;};return l;})();b.MBa=r;},42659:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.TQ=void 0;c=a(12043);l=a(49730);f=a(96331);r=(function(){function k(d){this.console=d;this.VXa=[];this.zUa={};this.qYa=!1;}k.prototype.xaa=function(d,g){this.VXa=d;void 0 !== g?this.zUa[g]=d:this.qYa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.qYa=!0);};k.prototype.oh=function(d){var g,n,h,m;g=this;if(0 === d.length)return d;h=d[0].J;if(void 0 === h)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (n=c.platform.jt) || void 0 === n?void 0:n.call(c.platform,h);}catch(p){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + p),d);}m=this.zUa[h] || this.VXa;l.K && this.console.trace(("VideoBitrateRangesFilter: filtering ").concat(d.length," streams with ").concat(JSON.stringify(m)));d=d.filter(function(p){return (0,f.LTa)(p.profile,p.bitrate,m,g.console).inRange;});l.K && this.console.trace(("VideoBitrateRangesFilter: ... ").concat(d.length," streams in range"));return d;};return k;})();b.TQ=r;},58771:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.OBa=void 0;r=(function(){function a(c){var l;l=this;c.zO && c.zO.enabled && c.zO.profiles && c.zO.profiles.length && "keepLowest" === c.zO.action && (this.h5a={},c.zO.profiles.forEach(function(f){return l.h5a[f]=!0;}));}a.prototype.oh=function(c){var l,f;l={};f=this.h5a;return void 0 === f?c:c.filter(function(k){return !f[k.profile] || (l[k.profile]?!1:l[k.profile]=!0);});};return a;})();b.OBa=r;},54608:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.fea=b.xca=void 0;c=a(42866);b.xca={oh:function(l){return l.filter(function(f){return f.Up && !f.qy;});}};b.fea={oh:function(l){return (l=(0,c.ec)(l,function(f){return !!f.Up && !f.qy;}))?[l]:[];}};},42186:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(74446),b);r.__exportStar(a(90672),b);r.__exportStar(a(42659),b);r.__exportStar(a(58771),b);r.__exportStar(a(72573),b);r.__exportStar(a(85770),b);r.__exportStar(a(65364),b);r.__exportStar(a(54608),b);r.__exportStar(a(673),b);r.__exportStar(a(69044),b);r.__exportStar(a(32209),b);r.__exportStar(a(85147),b);r.__exportStar(a(49789),b);},32209:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.gea=void 0;b.gea={oh:function(a){return a.length?[a[0]]:[];}};},49789:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.lQ=void 0;c=a(42866);l=a(49730);r=(function(){function f(k,d){this.console=k;this.config=d;this.$za=!1;}f.prototype.oh=function(k,d,g,n){void 0 === g && (g=c.L.Ia);void 0 === n && (n=!1);l.K && this.console.trace("Filtering streams for fastplay",{$za:this.$za,Ml:g.G,whc:n});if(this.$za || g.G >= this.config.hTb || !1 === n){d=k.filter(this.WEb);if(d.length)return d;l.K && this.console.trace("No drm streams to return");}d=k.filter(this.Syb);if(d.length)return d;l.K && this.console.trace("No clear streams to return");return k;};f.prototype.WEb=function(k){return k.ki;};f.prototype.Syb=function(k){return !k.ki;};return f;})();b.lQ=r;},673:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.RD=void 0;b.RD={oh:function(a){return a;}};},69044:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Ru=b.zJ=void 0;c=a(673);(function(f){f[f.EN=0]="primary";f[f.KF=1]="fallback";})(l=b.zJ || (b.zJ={}));r=(function(){function f(k,d){var g,n;void 0 === d && (d=!1);n=this;this.Q3=d;this.filters=(g={},g[l.EN]=[],g[l.KF]=[],g);Array.isArray(k)?k.forEach(function(h){return n.and(h,l.EN);}):this.and(k);}f.prototype.and=function(k,d){void 0 === d && (d=l.EN);k !== c.RD && this.filters[d].push({filter:k,BWa:!0});return this;};f.prototype.or=function(k,d){void 0 === d && (d=l.EN);this.filters[d].push({filter:k,BWa:!1});return this;};f.prototype.filter=function(k){var d;d=this;[l.EN,l.KF].forEach(function(g){d.filters[g]=d.filters[g].filter(function(n){return k(g,n.filter);});});};f.prototype.oh=function(k,d,g,n){var h;h=this;return [l.EN,l.KF].reduce(function(m,p){return h.filters[p].reduce(function(q,u){u.BWa?q=u.filter.oh(q,d,g,n):0 === q.length && (q=u.filter.oh(k,d,g,n));return q;},m);},k);};return f;})();b.Ru=r;},74446:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},4399:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.DOa=b.cpb=void 0;c=a(5163);r=a(12043);l=a(62558);f=a(94656);a=a(26218);k=new r.platform.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(n){d=!1;}g=(function(n){function h(m,p){p=n.call(this,m.Lo,p) || this;p.IE=m;return p;}c.__extends(h,n);Object.defineProperties(h.prototype,{xa:{get:function(){return this.IE.Bdb(this.hg);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{offset:{get:function(){return this.IE.vi(this.hg);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{cta:{get:function(){return this.IE.XM && this.IE.XM[this.hg];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{vj:{get:function(){return this.IE.oJb(this.hg);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{xb:{get:function(){return this.IE.Gw && this.IE.Gw[this.hg];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Eja:{get:function(){return 8 * this.xa / (1E3 * this.nB / this.N);},enumerable:!1,configurable:!0}});h.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.sb,contentEndTicks:this.yb,durationTicks:this.nB,timescale:this.N,startPts:this.Ka.G,endPts:this.Ua.G,duration:this.Md.G,additionalSAPs:this.vj};};return h;})(a.gPa);b.cpb=g;r=(function(){function n(h,m,p,q,u,t,w){this.bK=128;this.Ic=m;this.Zb=p.offset;this.Dm=p.sizes;this.z2=h;this.MJ=this.dR=this.bk=this.op=this.Yha=void 0;this.rrb=q;this.uga=u && u.vi;this.gia=t;this.vA=Math.min(this.Ic.length,this.Dm.length);h=this.xxb();this.irb=h.maxBitrate;this.jrb=h.ro;this.Lo.Lq.length !== this.Dm.length && k.trace("Mis-matched stream duration (" + this.Lo.Lq.length + "," + this.Dm.length + ") for movie id " + w);this.Lo.T2 && !this.uga && k.error("Mis-matched additional SAPs information for movie id " + w);}Object.defineProperties(n.prototype,{mediaType:{get:function(){return this.Ic.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{length:{get:function(){return this.vA;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{cs:{get:function(){return this.Ic.cs;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Hma:{get:function(){return this.Ic.Hma;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{kb:{get:function(){return this.Ic.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ff:{get:function(){return this.Ic.ff;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{wsa:{get:function(){return this.Ic.wsa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Jr:{get:function(){return this.irb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ro:{get:function(){return this.jrb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Aa:{get:function(){return this.Ic.Aa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{N:{get:function(){return this.Ic.N;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{lm:{get:function(){return this.op || this.Bga();},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{XM:{get:function(){return this.rrb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Mia:{get:function(){return this.uga;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Gw:{get:function(){return this.gia;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Lo:{get:function(){return this.Ic;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Zr:{get:function(){return this.Yha || this.Ypb();},enumerable:!1,configurable:!0}});n.prototype.Bdb=function(h){if(this.Dm)return this.Dm[h];k.error("sizesByIndex _sizes is undefined");return -1;};n.prototype.ll=function(h){return this.Ic.ll(h);};n.prototype.ET=function(h){return this.Ic.ll(h) + this.Ic.ef(h);};n.prototype.vi=function(h){var m,p,q;if(this.dR !== h || void 0 === this.MJ){if(0 === h)return this.Zb;if(this.dR === h - 1 && void 0 !== this.MJ)(this.MJ+=this.Dm[this.dR],++this.dR);else {m=this.bk || this.Kpb();p=Math.floor(h / this.bK);q=p * this.bK;for(m=m[p];q < h;++q){m+=this.Dm[q];}this.dR=h;this.MJ=m;}}return this.MJ;};n.prototype.ef=function(h){return this.Ic.ef(h);};n.prototype.get=function(h){return new g(this,h);};n.prototype.oJb=function(h){var m,p,q,u,t;(0,l.assert)(0 <= h);m=this.Lo.T2;p=this.Lo.oTa;q=this.uga;if(!q || !m || !p || h >= m.length)return [];u=[];t=h === m.length - 1?p.length:m[h + 1];for(m=m[h];m < t;++m){u.push({Nj:p[m],Ce:this.ll(h) + this.Aa.wo(p[m]).G,offset:q[m]});}return u;};n.prototype.ky=function(h,m,p){return this.Ic.ky(h,m,p);};n.prototype.ona=function(h,m,p){return this.Ic.ona(h,m,p);};n.prototype.m4=function(h,m){return this.Ic.m4(h,m);};n.prototype.vxb=function(h,m,p,q,u){var t,w,v,y,x,z,A,B,C;t=!0;w=0;v=this.Ic.Lq;y=this.Dm;h=Math.floor(h * this.N / 1E3);x=Math.floor(p * this.N / 1E3);z=0;A=0;B=0;if(this.Ic.Hza && this.Ic.Gza)for(w=this.Ic.Hza;w <= this.Ic.Gza;++w){z+=v[w];A+=y[w];}if(A > m)t=!1;else for(;w < this.length && (!u || w < u);){C=y[w];p=v[w];if(A + C > m){for(;1 < w - B && A + C > m && (z - v[B] >= x || A - y[B] > q);){z-=v[B];A-=y[B];++B;}if(z < h || A + C > m){t=!1;this.Ic.Hza=B;this.Ic.Gza=w;break;}}z+=p;A+=C;++w;}return t;};n.prototype.subarray=function(h,m){(0,l.assert)(void 0 === h || 0 <= h && h < this.length);(0,l.assert)(void 0 === m || m > h && m <= this.length);return new n(this.z2,this.Ic.subarray(h,m),{offset:this.vi(h),sizes:this.Dm.subarray(h,m)},this.XM && this.XM.subarray(h,m),this.Mia && ({vi:this.Mia}),this.gia && this.gia.subarray(h,m));};n.prototype.forEach=function(h){for(var m=0;m < this.length;++m){h(this.get(m),m,this);}};n.prototype.map=function(h){for(var m=[],p=0;p < this.length;++p){m.push(h(this.get(p),p,this));}return m;};n.prototype.reduce=function(h,m){for(var p=0;p < this.length;++p){m=h(m,this.get(p),p,this);}return m;};n.prototype.toJSON=function(){return {length:this.length};};n.prototype.dump=function(){var m;k.trace("StreamFragments: " + this.length);for(var h=0;h < this.length;++h){m=this.get(h);k.trace(("StreamFragments: ").concat(h,": [").concat(m.Ka.G,"-").concat(m.Ua.G,"]") + (" @ ").concat(m.offset,", ").concat(m.xa," bytes"));}};n.prototype.xxb=function(){var h,m,p,q,u,t,y;h=0;m=0;p=this.Ic.O6a;q=this.Ic.P6a;u=this.Ic.Lq;t=this.Dm;if(void 0 === p || p >= this.length || void 0 === q || q >= this.length){for(var w=0,v=this.length;w < v;++w){y=t[w];y > m && (m=y,q=w);y/=u[w];y > h && (h=y,p=w);}void 0 === this.Ic.O6a && (this.Ic.O6a=p);void 0 === this.Ic.P6a && (this.Ic.P6a=q);}else (h=t[p] / u[p],m=t[q]);return {maxBitrate:Math.floor(h * this.N / 125),ro:m};};n.prototype.Bga=function(){for(var h=0,m=0;m < this.length;++m){h+=this.Dm[m];}return this.op=h;};n.prototype.Ypb=function(){return this.Yha=new f.Sfa(this.Ic.Lq,this.Dm,this.Ic.N);};n.prototype.Kpb=function(){if(!this.bk){for(var h=d?new Float64Array(Math.ceil(this.length / this.bK)):Array(Math.ceil(this.length / this.bK)),m=this.Zb,p=0;p < h.length;++p){h[p]=m;for(var q=0;q < this.bK;++q){m+=this.Dm[p * this.bK + q];}}this.bk=h;}return this.bk;};return n;})();b.DOa=r;(0,a.Qv)(r.prototype.ll);(0,a.Qv)(r.prototype.ET);(0,a.Qv)(r.prototype.ef);(0,a.Qv)(r.prototype.vi);(0,a.Qv)(r.prototype.Bdb);(0,a.Qv)(r.prototype.get);},90187:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.JQ=void 0;c=a(42866);r=(function(){function l(f){this.Nn=f;this.z_a=new c.Wz();}Object.defineProperties(l.prototype,{V7:{get:function(){var f;return this.jVb || (null === (f=this.parent) || void 0 === f?void 0:f.V7);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{mk:{get:function(){var f;return this.cd || (null === (f=this.parent) || void 0 === f?void 0:f.mk);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{y5a:{get:function(){var f,k;return null !== (f=this.u5b) && void 0 !== f?f:null === (k=this.parent) || void 0 === k?void 0:k.y5a;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ura:{get:function(){var f,k;return null !== (f=this.v5b) && void 0 !== f?f:null === (k=this.parent) || void 0 === k?void 0:k.ura;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{track:{get:function(){return this.D2b;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{shb:{get:function(){return this.z_a.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{parent:{get:function(){var f;return null === (f=this.Nn) || void 0 === f?void 0:f.call(this);},enumerable:!1,configurable:!0}});l.prototype.Oa=function(){this.Nn=void 0;};l.prototype.u3b=function(f){this.jVb=f;};l.prototype.WH=function(f){this.cd=f;this.z_a.resolve();};l.prototype.G3b=function(f){this.u5b=f;};l.prototype.Zcb=function(f){this.v5b=f;};l.prototype.Xxa=function(f){this.D2b=f;};return l;})();b.JQ=r;},62711:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(27364);a(95711);r=(function(){var k55;k55=2;for(;k55 !== 5;){switch(k55){case 1:return function(l,f,k,d,g,n){var c0_=T7u0V;var N_6,w,t,m,p,q,u,v;N_6=2;for(;N_6 !== 36;){switch(N_6){case 16:N_6=!d.Ha || !d.Ha.length?15:27;break;case 3:var P_R="m";P_R+="a";P_R+="x";P_R+="s";P_R+="ize";return {complete:!0,reason:P_R};break;case 9:N_6=f <= n.csa && (0 < f || !n.Zma)?8:7;break;case 4:N_6=m >= u?3:9;break;case 27:g=d.Ha.ky(l.Tj);N_6=26;break;case 13:q=u?Math.min(u,q):q;N_6=12;break;case 29:N_6=n > g?28:39;break;case 21:var w_w="h";w_w+="i";w_w+="g";w_w+="ht";w_w+="p";return {complete:!0,reason:w_w};break;case 12:N_6=!f?11:10;break;case 15:return (f < p && (q=Math.min(u,Math.max(n.iX * (p / f - 1),q))),{complete:!1,NC:q,progress:0});break;case 17:var R9B="lowL";R9B+="ive";R9B+="B";R9B+="uffe";R9B+="r";var C2G="li";C2G+="veBuffer";C2G+="L";C2G+="evel";return f > p && m > q?{complete:!0,reason:C2G}:{complete:!1,NC:q,gb:f,bitrate:p,reason:R9B};break;case 24:w=d.Ha.vi(g);N_6=23;break;case 39:var O23="n";O23+="or";O23+="e";O23+="buff";return {complete:!0,reason:O23};break;case 22:N_6=f > p * n.v5?21:35;break;case 11:var q_r="not";q_r+="h";q_r+="roug";q_r+="hpu";q_r+="t";return {complete:!1,NC:q,reason:q_r};break;case 18:N_6=d.aa?17:16;break;case 30:--n;N_6=29;break;case 41:v=p.offset;N_6=40;break;case 40:--n;N_6=29;break;case 38:0 < f && f < p && (q=Math.min(u,Math.max(n.iX * (p / f - 1),q)));return {complete:!1,NC:q,progress:h(q)};break;case 23:N_6=m >= q?22:38;break;case 42:return (q=Math.min(u,m + v),{complete:!1,NC:q,progress:h(q)});break;case 10:t=l.Ha.reduce(function(y,x){var m4u;m4u=2;for(;m4u !== 1;){switch(m4u){case 2:return y + (x.Hb.G > l.Oc?x.xa:0);break;}}},0);k=Math.max(k,1);p=k * d.bitrate;N_6=18;break;case 2:(m=l.Si - l.Oc,p=f === c.Sc.$j);f=d.gb || 0;(q=0,u=Math.min(n.QG,n.bAa && !p?n.jC:n.Asa));N_6=4;break;case 32:c0_.o8l(9);var R5t=c0_.O1f(12,136,1768,12);q=R5t * w * k / f - l.Oc;p=void 0;N_6=30;break;case 35:q=d.Ha.ef(g);n=Math.min(g + Math.floor(n.iX / q),d.Ha.length - 1);v=d.Ha.vi(n);N_6=32;break;case 26:N_6=-1 === g?25:24;break;case 25:var U9H="o";U9H+="ut";U9H+="o";U9H+="f";U9H+="range";return {complete:!0,reason:U9H};break;case 7:c0_.f9E(3);var n7w=c0_.O1f(2,3);q=n.Yp * (p?n.Zva:n7w);!d.aa && n.TFb && d.jb && d.jb.th && d.jb.th.Ca > n.Wra && (q+=n.Kia + d.jb.th.Ca * n.Kua);g && !d.aa && (q+=g.mt * n.Lia);N_6=13;break;case 8:var d$v="l";d$v+="owThro";d$v+="ughput";return {complete:!1,IV:!0,reason:d$v};break;case 28:p=d.Ha.get(n);c0_.o8l(10);var E98=c0_.T1h(352,15,24);v=E98 * v * k / f - p.Ka.G - q;N_6=43;break;case 43:N_6=0 < v?42:41;break;}}function h(y){var r4G;r4G=2;for(;r4G !== 7;){switch(r4G){case 9:y=d.Ha.get(y.index);return (t - l.Nr) / (t + (y.offset + y.xa) - w);break;case 3:return 0;break;case 4:r4G=void 0 === y?3:9;break;case 5:y=d.Ha.ona(l.Oc + y,void 0,!0);r4G=4;break;case 1:return 0;break;case 2:r4G=!d.Ha?1:5;break;}}}};break;case 2:var h$1="1S";h$1+="IYbZrN";h$1+="JCp";h$1+="9";h$1;k55=1;break;}}})();b["default"]={checkBuffering:r};},95711:function(r,b,a){function c(f,k){return f && f.Ar && (k || !1 !== f.Mp);}function l(f,k,d){return "number" === typeof f?Math.min(Math.max(f,k),d):k;}Object.defineProperties(b,{__esModule:{value:!0}});b.VUa=b.P7a=b.D5=b.IK=b.$Pb=b.xQb=b.Hi=b.T=void 0;r=a(12043);b.T=new r.platform.Console("ASEJS_STREAM_SELECTOR","media|asejs");b.Hi=(function(){function f(k){if(!(this instanceof f))return new f(k);this.cd=k;}return f;})();b.xQb=c;b.$Pb=function(f,k){return !f.slice(k + 1).some(function(d){return c(d);});};b.IK=l;b.D5=function(f,k,d){var n,h,m,p;function g(q){var u;u=f[q];return !u.Ar || d && !d(u,q)?!1:!0;}h=f.length;m=0;p=h;Array.isArray(k) && (m=l(k[0],0,h),p=l(k[1],0,h),k=null !== (n=k[2]) && void 0 !== n?n:m + 1);k=l(k,m + 1,p);for(n=k - 1;n >= m;--n){if(g(n))return n;}for(n=k + 1;n < p;++n){if(g(n))return n;}return -1;};b.P7a=function(f,k){return Math.floor(f / (125 * k) * 1E3);};b.VUa=function(f,k){return Math.ceil(f / 1E3 * k * 125);};},35548:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.ZP=b.sJ=b.tJ=b.KQ=void 0;c=a(74976);Object.defineProperties(b,{KQ:{enumerable:!0,get:function(){return c.KQ;}}});l=a(75449);Object.defineProperties(b,{tJ:{enumerable:!0,get:function(){return l.tJ;}}});f=a(84585);Object.defineProperties(b,{sJ:{enumerable:!0,get:function(){return f.sJ;}}});k=a(33311);Object.defineProperties(b,{ZP:{enumerable:!0,get:function(){return k.ZP;}}});},59354:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.vF=b.pz=b.RX=void 0;r=a(27364);b.RX=[r.eb[r.eb.Jn],r.eb[r.eb.ee],r.eb[r.eb.$j],r.eb[r.eb.he],r.eb[r.eb.Kg],"checkBuffering"];c=a(1614);b.pz={first:function(){return a(11877);},random:function(){return a(68474);},optimized:function(){return a(9498)["default"];},roundrobin:function(){return a(89583);},selectaudio:function(){return a(51835);},selectaudioadaptive:function(){return a(71888);},"default":function(){return a(9498)["default"];},lowest:function(){return a(42102);},highest:function(){return a(53008);},throughputthreshold:function(){return a(61706);},replay:function(){return a(18753)["default"];},checkdefault:function(){return a(62711)["default"];},livesimple:function(){return a(96361)["default"];},testscript:function(){return c;}};b.vF={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};},33311:function(r,b,a){var l,f,k,d,g,n,h,m,p,q;function c(u){u.forEach(function(t){return t.yn=!1;});}Object.defineProperties(b,{__esModule:{value:!0}});b.ZP=void 0;r=a(5163);l=r.__importStar(a(17267));f=a(12043);k=a(42866);d=a(27364);g=a(89659);n=r.__importDefault(a(77613));h=a(18792);a(62558);m=a(59354);p=a(75449);q=a(17329);new f.platform.Console("ASEJS_JOINT_STREAM_SELECTOR","media|asejs");a=(function(){function u(t,w,v,y,x){var U0W,z;U0W=2;for(;U0W !== 14;){switch(U0W){case 2:z=this;this.ncb=t;this.W=w;this.BS=v;U0W=3;break;case 3:var u3H="1SIYbZrNJC";u3H+="p";u3H+="9";this.jZ=y;u3H;t=t || this.W.Taa;this.YQ=m.RX.reduce(function(A,B){var g$J,C;g$J=2;for(;g$J !== 4;){switch(g$J){case 2:C=(m.pz[t] || m.pz[m.vF[B]])()[B] || m.pz[m.vF[B]]()[B];A[B]=C.bind(z);return A;break;}}},{});x && (this.F9b=new p.tJ(w,d.u.X));U0W=14;break;}}}var G3v;G3v=2;for(;G3v !== 18;){switch(G3v){case 2:Object.defineProperties(u.prototype,{HW:{get:function(){var o32;o32=2;for(;o32 !== 1;){switch(o32){case 2:return this.F9b;break;}}},enumerable:!1,configurable:!0}});u.prototype.naa=function(t,w,v,y,x,z,A){var j9g,k$N,B,C,D,E,G,F,J,M;j9g=2;for(;j9g !== 15;){switch(j9g){case 8:void 0 !== y && this.ZW(w,t.state,t.buffer,y);v=this.YQ[d.eb[t.state]].call(this,G,t,w,M,y,!!x,J,v);v.mf=t.state;j9g=14;break;case 19:j9g=k$N === d.eb.$j?9:18;break;case 12:t.hL && y && (0,n.default)(this.kva(y,D,t,E),v);return v;break;case 10:t.state=d.eb.Jn;j9g=20;break;case 9:j9g=M?8:10;break;case 14:j9g=(y=v.cd)?13:12;break;case 3:k$N=t.state;j9g=k$N === d.eb.ee?9:19;break;case 16:j9g=k$N === d.eb.Jn?20:8;break;case 13:var z$i="pl";z$i+="ayin";z$i+="g";var C9d="min_fragmen";C9d+="t";C9d+="_vmaf";(this.BS.WH(y.Op(d.u.$)),this.jZ.WH(y.Op(d.u.X)),this.psa(w.first,y,D.Si - D.Oc),v.BC=y.gb || 0,v.jb=y.jb,v.reason && (y.Fo=v.reason,C9d !== v.reason && (y.vxa=v.Kv,y.kM=v.kM,y.Tpa=null === (B=v.jb) || void 0 === B?void 0:B.oS,y.Upa=null === (C=v.jb) || void 0 === C?void 0:C.Ei)),w=this.Fsa(F,y,D,t,A,x),v.sn=w || v.sn,M && !J && y.bitrate < M.bitrate && (this.qE=D.Tj),t.state !== d.eb.he && t.state !== d.eb.Kg?(M=(0,g.eva)(t.state),z=this.iF(t.buffer,M,t.playbackRate,y,z),(v.ek=z.complete)?v.Kja=z.reason:(v.ek=!1,v.NC=z.NC,v.IV=z.IV,v.progress=z.progress)):(v.ek=!0,v.Kja=z$i));j9g=12;break;case 4:J=J.Fna;j9g=3;break;case 17:j9g=k$N === d.eb.Kg?9:16;break;case 20:(this.sE=this.qE=void 0,M && (t.state=d.eb.ee));j9g=8;break;case 2:(D=null === t || void 0 === t?void 0:t.buffer,E=f.platform.time.wa(),G=this.W,F=w.first);c(w.first);(J=this.Esa(G,t,w.first),M=J.zla);j9g=4;break;case 18:j9g=k$N === d.eb.he?9:17;break;}}};u.prototype.iF=function(t,w,v,y,x){var Z45;Z45=2;for(;Z45 !== 1;){switch(Z45){case 2:return this.YQ.checkBuffering.call(this,t,w,v,y,x,this.W);break;}}};u.prototype.jeb=function(t,w,v){var E0G;E0G=2;for(;E0G !== 1;){switch(E0G){case 2:l.kn(w)?this.qE=this.sE=void 0:w.bitrate < v.bitrate && (this.sE=t);E0G=1;break;}}};G3v=3;break;case 3:u.prototype.ZW=function(t,w,v,y){var i1r,x,z,A;i1r=2;for(;i1r !== 5;){switch(i1r){case 2:x=this;t.J5(function(B){var j0T;j0T=2;for(;j0T !== 1;){switch(j0T){case 2:x.DL(B,function(C){var M7H;M7H=2;for(;M7H !== 1;){switch(M7H){case 2:C.Ar && C.jb && C.jb.confidence?(z !== C.jb && (z=C.jb,A=y(C.jb,v,w,0)),C.gb=Math.floor(A.lower) || 1,C.CY=void 0 !== A.upper?Math.floor(A.upper):1):C.gb=void 0;M7H=1;break;}}});j0T=1;break;}}});i1r=5;break;}}};u.prototype.Fsa=function(t,w,v,y,x,z){var n7$,A;n7$=2;for(;n7$ !== 4;){switch(n7$){case 2:n7$=this.HW?1:4;break;case 1:A=(0,k.ec)(t,function(B,C){var g0z;g0z=2;for(;g0z !== 1;){switch(g0z){case 2:T7u0V.f9E(11);var Q9L=T7u0V.T1h(10,3,6,0);return t[C - Q9L] === w;break;}}}) || w;return this.HW.H1a({VA:v.Si - v.Oc,JUa:v.lm || 0,HUa:v.ZA || 0,Oc:v.Oc,l6a:t[0].$d,cd:w.$d,Egb:A.$d,rfb:t[t.length - 1].$d,mf:y.state,playbackRate:y.playbackRate,Td:y.Td,GL:x,un:z});break;}}};u.prototype.kva=function(t,w,v,y){var B8T,x,z,A,B,C,D,E;B8T=2;for(;B8T !== 17;){switch(B8T){case 3:B.w$a=E;B8T=9;break;case 6:B.Zq=t && void 0 !== D && !isNaN(D) && 0 <= D && D < t.length?t.ll(D):w.Tj;B.J8a=C && C.gb && C.gb.Ca || 0;B.Qja=w.Si - w.Oc;B.PUa=w.lm;B.g$a=null !== (A=null === (z=null === (x=f.platform.uLb) || void 0 === x?void 0:x.call(f.platform)) || void 0 === z?void 0:z[v.mediaType === d.u.X?1:0]) && void 0 !== A?A:-1;B8T=10;break;case 2:(B={},C=t.jb,D=this.W.Pha);B8T=1;break;case 1:B8T=C && D && 0 < D.length?5:9;break;case 5:E=[];D.forEach(function(G){var p9J,F;p9J=2;for(;p9J !== 4;){switch(p9J){case 2:F=G.stat;F=(G=C[G.filter]) && G[F];E.push(isNaN(F)?-1:F);p9J=4;break;}}});B8T=3;break;case 9:B.Tj=w.Tj;D=v && v.Td;t=t.Ha;B8T=6;break;case 10:B.Ni=v && v.Ni;B.sq=y;B.yz=f.platform.time.wa();return B;break;}}};u.prototype.Esa=function(t,w,v){var c_1,y,x,z,A;c_1=2;for(;c_1 !== 7;){switch(c_1){case 2:x=this.m6();w=!1;c_1=5;break;case 9:return {zla:y,Fna:w};break;case 3:z || (y=(0,q.jpa)(v,y.bitrate,y.xb),w=!0,t.l8a && x && A && (w=!1));c_1=9;break;case 4:(z=(0,k.ec)(v,function(B){var d2$;d2$=2;for(;d2$ !== 1;){switch(d2$){case 2:return B.isEqual(y);break;}}}),A=(0,k.ec)(v,function(B){var f6B;f6B=2;for(;f6B !== 1;){switch(f6B){case 4:return B.isEqual(x);break;case 2:return B.isEqual(x);break;}}}));c_1=3;break;case 5:c_1=(y=this.m6())?4:8;break;case 8:w=!0;c_1=9;break;}}};G3v=6;break;case 6:u.prototype.m6=function(){var g7D;g7D=2;for(;g7D !== 5;){switch(g7D){case 2:g7D=this.BS.mk || this.jZ.mk?1:5;break;case 1:return new h.GZ({audio:this.BS.mk,video:this.jZ.mk});break;}}};u.prototype.Yi=function(t){var P3k;P3k=2;for(;P3k !== 1;){switch(P3k){case 2:return t === d.u.$?this.BS:this.jZ;break;}}};u.prototype.$cb=function(t){var X1A,w,v;X1A=2;for(;X1A !== 4;){switch(X1A){case 5:(null === (v=t.track) || void 0 === v?void 0:v.mediaType) === d.u.X && (this.jZ=t);X1A=4;break;case 2:(null === (w=t.track) || void 0 === w?void 0:w.mediaType) === d.u.$ && (this.BS=t);X1A=5;break;}}};u.prototype.psa=function(t,w,v){var v4f,y,x;v4f=2;for(;v4f !== 12;){switch(v4f){case 3:T7u0V.f9E(12);var U3I=T7u0V.T1h(1,1,7,1,14);v=t.length - U3I;v4f=9;break;case 8:v4f=t[v - 1] === w && (null === (y=t[v].Ha) || void 0 === y || !y.length)?7:6;break;case 6:v4f=t[v + 1] === w && (null === (x=t[v].Ha) || void 0 === x || !x.length)?14:13;break;case 4:v4f=this.W.Gdb && v > this.W.dW && !w.aa && t.every(function(z){var n$r;n$r=2;for(;n$r !== 1;){switch(n$r){case 4:return -z.yn;break;case 2:return !z.yn;break;}}})?3:12;break;case 9:v4f=0 <= v?8:12;break;case 14:t[v].yn=!0;v4f=12;break;case 5:t.forEach(function(z){var q56;q56=2;for(;q56 !== 1;){switch(q56){case 2:return z.yn=!z.Ha || !z.Ha.length;break;}}});v4f=12;break;case 13:--v;v4f=9;break;case 7:t[v].yn=!0;v4f=12;break;case 1:v4f=this.W.$Ya?5:4;break;case 2:v4f=1;break;}}};u.prototype.DL=function(t,w){var H5X,v;H5X=2;for(;H5X !== 3;){switch(H5X){case 14:++v;H5X=4;break;case 2:T7u0V.f9E(13);var V$V=T7u0V.T1h(14,16,6,2,2);v=t.length - V$V;H5X=1;break;case 5:w(t[v],v,t);H5X=4;break;case 1:H5X=0 <= v?5:3;break;case 4:--v;H5X=1;break;case 7:H5X=3 > v?4:7;break;}}};Object.defineProperties(u.prototype,{DG:{get:function(){var f7J;f7J=2;for(;f7J !== 1;){switch(f7J){case 2:return this.qE;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Y7:{get:function(){var h6p;h6p=2;for(;h6p !== 1;){switch(h6p){case 2:return this.sE;break;}}},enumerable:!1,configurable:!0}});G3v=19;break;case 19:return u;break;}}})();b.ZP=a;},84585:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.sJ=void 0;c=a(5163);r=(function(){function l(f,k,d){var g,n,h;this.cq=f;"HYBRID" === f?this.eM=d:"CCSP" === f && (this.wz=null !== (g=k.wz) && void 0 !== g?g:0,this.Wx=null !== (n=k.Wx) && void 0 !== n?n:0,this.gz=null !== (h=k.gz) && void 0 !== h?h:0);}Object.defineProperties(l.prototype,{jab:{get:function(){var f;return "HYBRID" === this.cq?[null !== (f=this.eM.sn) && void 0 !== f?f:0]:"CCSP" === this.cq?[this.wz,this.Wx,this.gz]:[];},enumerable:!1,configurable:!0}});l.prototype.A7a=function(){return Math.min(this.wz,this.Wx,this.gz);};l.prototype.B7=function(){return this.jab.some(function(f){return 0 < f;});};l.prototype.exa=function(f){return new l(this.cq,{wz:f * this.wz,Wx:f * this.Wx,gz:f * this.gz});};l.prototype.ssa=function(f,k,d,g){var n;n=8 * f / Math.max(d - k,1);if(!this.B7())return !1;f=this.jab.map(function(h){return Math.abs(n - h) / h;});return Math.min.apply(Math,c.__spreadArray([],c.__read(f),!1)) < g;};return l;})();b.sJ=r;},75449:function(r,b,a){var u,t,w;function c(v){return f(v.cd);}function l(v,y){var x,z,A,B,C;A=k(y.v0b,v.mf,null !== (z=null === (x=v.cd.jb) || void 0 === x?void 0:x.confidence) && void 0 !== z?z:u.ex.HAVE_NOTHING);if(0 === A.length)return 0;a:switch(y.oXb){case "implicit":y=q(y,v.cd);y=v.VA / y;break a;case "capacityPercentage":y=Math.max(v.JUa / v.HUa || 0,v.VA / y.QG);break a;default:y=0;}z=-1;for(x=0;x < A.length;x++){if(A[x].E3 >= y){z=x;break;}}if(-1 === z)return d(v,A[A.length - 1].Mka);if(0 === z)return d(v,A[0].Mka);B=A[z - 1].E3;x=d(v,A[z - 1].Mka);C=A[z].E3;v=d(v,A[z].Mka);A=Math.min((y - B) / (C - B),1);return (1 - A) * x + A * v;}function f(v){var y,x;x=null === (y=null === v || void 0 === v?void 0:v.la) || void 0 === y?void 0:y.JM;return x?x[v.mediaType] || 0:0;}function k(v,y,x){var A;function z(B,C){return void 0 !== B && 0 < B.filter(function(D){return D === C;}).length;}A=v.filter(function(B){return z(B.d$,y);});0 === A.length && (A=v.filter(function(B){return !B.d$ || 0 === B.d$.length;}));v=A.filter(function(B){return z(B.Y7a,x);});0 === v.length && (v=A.filter(function(B){return !B.Y7a || 0 === B.Y7a.length;}));return v.sort(function(B,C){return B.E3 - C.E3;});}function d(v,y){var x,z,A,B;if(!y || "object" !== typeof y)return 0;x=v.cd;z=v.Egb;A=v.rfb;B={selectedFragmentBitrate:g(v.GL,x,v.Td) * v.playbackRate,selectedPeakBitrate:(x.Jr || n(x) || 0) * v.playbackRate,upswitchPeakBitrate:(z.Jr || n(z) || 0) * v.playbackRate,maxPeakBitrate:(A.Jr || n(A) || 0) * v.playbackRate,selectedAverageBitrate:n(x) * v.playbackRate,upswitchAverageBitrate:n(z) * v.playbackRate,maxAverageBitrate:f(x) * v.playbackRate,bufferLevelMs:v.VA,observedThroughput:h(v.cd) || 0,averagetp:m(v.cd) || 0,stddevtp:p(v.cd) || 0};v=y.offset || 0;return Object.keys(B).reduce(function(C,D){return C + (y[D] || 0) * B[D];},v);}function g(v,y,x){var z;return void 0 !== x && y.Ha?(void 0 === v?null === (z=y.Ha) || void 0 === z?void 0:z.get(x).Eja:v.W0a(y,x).Eja) || y.Jr || 0:y.Jr || 0;}function n(v){return (null === v || void 0 === v?void 0:v.bitrate) || 0;}function h(v){var y;v=v.jb;return (null === (y=null === v || void 0 === v?void 0:v.gb) || void 0 === y?void 0:y.Ca) || 0;}function m(v){var y;v=v.jb;return (null === (y=null === v || void 0 === v?void 0:v.Pm) || void 0 === y?void 0:y.vK) || 0;}function p(v){var y;v=v.jb;return Math.sqrt((null === (y=null === v || void 0 === v?void 0:v.Pm) || void 0 === y?void 0:y.bP) || 0);}function q(v,y){var x,z;x=v.r6b;x=m(y) + x * p(y);y=y.gb || 0;z=0;0 < y && (z=x / y - 1);return v.lUb + v.q6b * Math.max(0,z);}Object.defineProperties(b,{__esModule:{value:!0}});b.MKb=b.ELb=b.QJb=b.tJ=void 0;r=a(12043);u=a(27364);t=a(84585);new r.platform.Console("ASEJS_PACERATE_SELECTOR","media|asejs");w={maxStreamBitrate:c,"static":function(v,y){return y.Zdb;},none:function(){return 0;},regression:l,epsGreedy:function(v,y){return Math.min(l(v,y) || 0,h(v.cd));},"default":c};a=(function(){var D3n;D3n=2;for(;D3n !== 9;){switch(D3n){case 2:v.prototype.V_a=function(y,x){var E2H,B,z,A;E2H=2;for(;E2H !== 6;){switch(E2H){case 4:z=y;this.W.Y3 && (z=this.f6(y,A.Tva[0],x));E2H=9;break;case 7:var Q6k="C";Q6k+="C";Q6k+="S";Q6k+="P";Q6k === this.cq && (B=new t.sJ(this.cq,A?{wz:this.f6(y,A.Tva[0],x),Wx:this.f6(y,A.Tva[1],x),gz:this.f6(y,A.Tva[2],x)}:{wz:0,Wx:0,gz:0},void 0));E2H=8;break;case 9:B=new t.sJ(this.cq,void 0,{oOb:1,sn:z,jka:Number(this.W.jka),ETb:this.W.tTb,ywa:Number(this.W.ywa)});E2H=8;break;case 5:var q5X="H";q5X+="YB";q5X+="R";q5X+="I";q5X+="D";E2H=q5X === this.cq?4:7;break;case 8:return B;break;case 2:A=this.W.Y3;x=null === (z=x.l6a) || void 0 === z?void 0:z.Jr;E2H=5;break;}}};D3n=1;break;case 1:v.prototype.JLb=function(y){var Z8t,x,z;Z8t=2;for(;Z8t !== 5;){switch(Z8t){case 2:var D2Z="st";D2Z+="at";D2Z+="ic";var l6C="C";l6C+="C";l6C+="S";l6C+="P";var O5o="H";O5o+="YB";O5o+="R";O5o+="I";O5o+="D";z=null === (x=y.cd) || void 0 === x?void 0:x.mediaType;return O5o !== this.cq || this.W.zFb?l6C === this.cq && (z === u.u.$ && !this.W.xFb || z === u.u.X && !this.W.yFb)?0:D2Z === this.W.mXb?this.W.Zdb:f(y.cd):0;break;}}};v.prototype.f6=function(y,x,z){var M_6;M_6=2;for(;M_6 !== 3;){switch(M_6){case 5:T7u0V.f9E(14);y=Math.ceil(T7u0V.T1h(y,x));M_6=4;break;case 7:return 6;break;case 4:return y < (this.W.Y3.Ihc || 0) * (z || 0)?0:y;break;case 1:return 0;break;case 2:M_6=!x?1:5;break;}}};v.prototype.H1a=function(y){var N9s,x,z,A;N9s=2;for(;N9s !== 7;){switch(N9s){case 2:(z=null === (x=y.cd) || void 0 === x?void 0:x.mediaType,A=this.W.f5 || z === u.u.$ && this.W.c5 || z === u.u.X && this.W.d5);x=this.V_a(0,y);z=this.W.Y3;N9s=4;break;case 4:N9s=!this.cq || !A || !z || (A=this.W.T7b) && y.Td && 0 === y.Td % A || y.VA < z.mC?3:9;break;case 3:return x;break;case 9:x=y.un?this.algorithm(y,this.W):this.JLb(y);return this.V_a(x,y);break;}}};return v;break;}}function v(y,x){var x7N;x7N=2;for(;x7N !== 7;){switch(x7N){case 8:var C7E="C";C7E+="C";C7E+="S";C7E+="P";this.cq=C7E;x7N=7;break;case 3:var g0S="H";g0S+="Y";g0S+="BR";g0S+="I";g0S+="D";this.cq=g0S;x7N=7;break;case 9:x7N=y.d5 || y.c5 || y.xma?8:7;break;case 2:var b0P="d";b0P+="efau";b0P+="l";b0P+="t";var I0w="1S";I0w+="IYb";I0w+="ZrNJCp";I0w+="9";this.W=y;I0w;this.algorithm=(w[x === u.u.$?this.W.lXb:this.W.kXb] || w[b0P]).bind(this);x7N=4;break;case 4:x7N=y.f5?3:9;break;}}}})();b.tJ=a;b.QJb=k;b.ELb=h;b.MKb=q;},71888:function(r,b,a){var c,l,f,k,d;Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);c=a(42866);l=r.__importDefault(a(77613));f=a(27364);k=r.__importDefault(a(51835));d=a(95711);a=r.__read((function(){var f5j;f5j=2;for(;f5j !== 5;){switch(f5j){case 2:var c4H="1S";c4H+="IY";c4H+="bZrN";c4H+="J";c4H+="Cp9";c4H;return [function(h,m,p,q){var J3F,u,t;J3F=2;for(;J3F !== 9;){switch(J3F){case 2:(u=h,t=p.first);t=(q || t[0]).Fd;J3F=5;break;case 3:return k.default[f.eb[f.eb.Jn]](u,m,p,q);break;case 5:J3F=(t=h && h.uY && 0 <= h.uY.indexOf(t)?g(t,h.Keb):g(t,h.Tvb))?4:3;break;case 4:(u={minInitAudioBitrate:h.O8,maxInitAudioBitrate:h.u8,minRequiredAudioBuffer:h.Q8},(0,l.default)(t,u));J3F=3;break;}}},function(h,m,p,q){var g_v,B,u,t,w,v,y,x,z,A;g_v=2;for(;g_v !== 33;){switch(g_v){case 35:A=z;g_v=20;break;case 25:y=m.buffer;B=y.Si - y.Oc;g_v=23;break;case 22:g_v=++z < v.length?21:20;break;case 26:g_v=z < v.length - 1 && x > p.$7b * y * m.playbackRate?25:20;break;case 2:var z3h="Must ha";z3h+="ve at least one selected str";z3h+="eam";u=p.first;(0,c.assert)(q,z3h);(t=q.Fd,w=q.aa);g_v=4;break;case 27:w--;g_v=17;break;case 4:g_v=!(h && h.uY && 0 <= h.uY.indexOf(t))?3:9;break;case 18:T7u0V.o8l(3);w=T7u0V.T1h(1,z);g_v=17;break;case 34:return new d.Hi(p);break;case 3:return new d.Hi(q);break;case 7:p=q;g_v=6;break;case 20:p=v[A];g_v=34;break;case 16:g_v=(z=v[w],z.Cy && (0 === w || z.bitrate * m.playbackRate * p.JEb < x))?15:27;break;case 10:A=0;g_v=20;break;case 11:g_v=0 > z?10:19;break;case 6:g_v=v && 1 < v.length?14:34;break;case 17:g_v=0 <= w?16:20;break;case 15:A=w;g_v=20;break;case 19:g_v=z && x < p.JEb * y * m.playbackRate?18:26;break;case 9:h.Keb.some(function(C){var m06,D,E,G,F,J,M;m06=2;for(;m06 !== 9;){switch(m06){case 2:(D=C.profiles,E=D && 0 <= D.indexOf(t));m06=1;break;case 4:v=u.filter(function(L){var v$N,K;v$N=2;for(;v$N !== 5;){switch(v$N){case 2:K=L.bitrate;return K >= F && K <= J && 0 <= D.indexOf(L.Fd) && K * G / 8 < M;break;}}});m06=3;break;case 3:return E;break;case 1:m06=E?5:3;break;case 6:m06=E?8:7;break;case 5:(G=(C=C.GW) && C.Q8 || h.Q8,F=C && C.fic || -Infinity,J=C && C.Ohc || Infinity,M=m.buffer.ZA || Infinity);m06=4;break;}}});g_v=7;break;case 14:(y=q.bitrate,x=p=void 0);w?(p=h.Xvb,x=Math.max(.1,1 - h.Web) * Math.pow(Math.min(1,(m.buffer.Si - m.buffer.Oc) / h.KG),h.Veb),x=q.jb?q.jb.gb.Ca * x:0):(p=h.Wvb,x=q.gb || 0);(z=(0,c.Im)(v,function(C){var C_e;C_e=2;for(;C_e !== 1;){switch(C_e){case 4:return C.isEqual(q);break;case 2:return C.isEqual(q);break;}}}),A=z);g_v=11;break;case 21:g_v=(w=v[z],w.Cy && x > p.$7b * w.bitrate * m.playbackRate)?35:22;break;case 23:g_v=(q.Ha && q.Ha.length || w) && n(B,this.Y7,this.DG,y.Tj,p,!!m.YB)?22:20;break;}}}];break;}}function g(h,m){var U0z,p;U0z=2;for(;U0z !== 4;){switch(U0z){case 2:m.some(function(q){var j7J,u;j7J=2;for(;j7J !== 4;){switch(j7J){case 2:u=q.profiles;(u=u && 0 <= u.indexOf(h)) && (p=q.override);return u;break;}}});return p;break;}}}function n(h,m,p,q,u,t){var m6C;m6C=2;for(;m6C !== 1;){switch(m6C){case 2:return t && h > u.Ky && (void 0 === p || Number(m) > p || q - p > u.EV);break;}}}})(),2);r=a[1];b["default"]={STARTING:a[0],BUFFERING:r,REBUFFERING:r,PLAYING:r,PAUSED:r};},51835:function(r,b,a){var f,k;function c(d,g,n,h){(0,f.assert)(h,"Must have at least one selected stream");return new k.Hi(h);}function l(d,g,n,h){(0,f.assert)(h,"Must have at least one selected stream");return new k.Hi(h);}Object.defineProperties(b,{__esModule:{value:!0}});f=a(42866);k=a(95711);b["default"]={STARTING:function(d,g,n){var h,m,q,u,t,w,v;h=new k.Hi();m=d.Gvb || 1;n=n.first;for(var p=n.length - 1;0 <= p;--p){q=void 0;u=n[p];t=u.bitrate;w=u.gb || 0;v=!!w;u.Ar?(u=null !== (q=d.u8) && void 0 !== q?q:Infinity,q=t > u || !(t * d.Q8 / 8 < (g.buffer.ZA || Infinity))?!1:v?t * g.playbackRate < w / m?!0:!1:t <= d.O8?!0:!1):q=!1;if(q){h.cd=n[p];break;}n[p].Cy && (h.cd=n[p]);}return h;},BUFFERING:c,REBUFFERING:c,PLAYING:l,PAUSED:l};},11877:function(r,b,a){var l,f,k,d;function c(g,n,h,m){g=h.first;if(l.kn(m))m=g[k(g)];else if(!m.Cy && (n=f(g,function(p){return p.isEqual(m);}),m=g[k(g,n)],void 0 === m))return null;return new d(m);}l=a(17267);b=a(95711);f=a(42866).Im;k=b.D5;d=b.Hi;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},18753:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(37353);b["default"]={PLAYING:r.wk,PAUSED:r.wk};},37353:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.wk=void 0;r=a(5163);c=r.__importStar(a(17267));l=a(12043);f=a(42866);k=a(95711);d=r.__importDefault(a(9498));g=a(35195);b.wk=(function(){var a9v;a9v=2;for(;a9v !== 5;){switch(a9v){case 2:var D3i="1";D3i+="SIYbZ";D3i+="rNJ";D3i+="Cp9";D3i;return {wk:function(n,h,m,p,q,u,t){var Q0o,K,w,v,y,x,z,A,L,C,D,E,G,B,F,J,M;Q0o=2;for(;Q0o !== 66;){switch(Q0o){case 8:Q0o=z < w || z > A?7:6;break;case 53:Q0o=L < Math.min(L + n.$vb,J.length)?52:49;break;case 52:K=J.get(L);F.push({d:K.Md.G,b:K.xa});Q0o=50;break;case 45:J=void 0;h.Swb && (J=l.platform.time.wa() - h.Swb);Q0o=64;break;case 47:M+=J.get(L).Md.G;Q0o=46;break;case 19:x.cd=y[v[z].ijc];Q0o=18;break;case 61:x.Zec=q;Q0o=60;break;case 77:Q0o=v[A].f === z?76:75;break;case 18:Q0o=n.YFb?17:60;break;case 6:T7u0V.f9E(3);A=T7u0V.O1f(w,z);0 > A && (A=0);A >= v.length && (A=v.length - 1);Q0o=12;break;case 49:L=h.Td;Q0o=48;break;case 70:Q0o=v[A].f === z?69:68;break;case 56:A+=1;Q0o=55;break;case 71:Q0o=0 <= A?70:73;break;case 68:Q0o=v[A].f < z?73:67;break;case 60:return x;break;case 46:L++;Q0o=48;break;case 55:Q0o=A < v.length?77:73;break;case 50:L++;Q0o=53;break;case 58:w=void 0;Q0o=57;break;case 57:Q0o=B < z?56:72;break;case 40:B.push(G.max);Q0o=39;break;case 35:w=y[z];A=void 0;B=[];w.jb && w.jb.throughput && (A=w.jb.throughput.Ca);Q0o=31;break;case 2:var t0o="play";t0o+="e";t0o+="r missing fragmentIndex";var z8Y="Must have a s";z8Y+="elected stream for select";z8Y+="Play";z8Y+="ing";(0,f.assert)(p,z8Y);(0,f.assert)(c.Sb(h.Td),t0o);(v=n.y5b,y=m.first,x=new k.Hi(p),z=null !== (w=h.Td) && void 0 !== w?w:-1);w=v[0].f;A=v[v.length - 1].f;Q0o=8;break;case 64:q.push({Td:h.Td,ekc:J,Vhc:M,bfc:A,bkc:B,dkc:G,Qja:u,Q_a:t,xfc:F,Ahc:p.bitrate,Bhc:null !== (C=p.xb) && void 0 !== C?C:0,Ifc:w.bitrate,Jfc:null !== (D=w.xb) && void 0 !== D?D:0,wjc:m.bitrate,xjc:null !== (E=m.xb) && void 0 !== E?E:0,v7:v});w === m && (v=!1);Q0o=62;break;case 67:A--;Q0o=71;break;case 36:Q0o=void 0 !== J?54:45;break;case 54:L=h.Td;Q0o=53;break;case 17:m=x.cd;Q0o=15;break;case 41:B.push(G.sua);Q0o=40;break;case 30:G=w.jb.tdigest;B.push(G.min);B.push(G.rua);B.push(G.aq);B.push(G.rn);B.push(G.bq);Q0o=41;break;case 69:w=A;Q0o=73;break;case 73:z=w;Q0o=20;break;case 15:q=[];u=h.buffer;u=u.Si - u.Oc;t=g.xq.oXa(h.buffer.Ha);t=h.buffer.ZA - t.xa;v=!0;Q0o=22;break;case 22:z=0;Q0o=21;break;case 76:w=A;Q0o=73;break;case 75:Q0o=v[A].f > z?73:74;break;case 74:A++;Q0o=55;break;case 12:B=v[A].f;Q0o=11;break;case 72:--A;Q0o=71;break;case 31:Q0o=w.jb && w.jb.tdigest?30:39;break;case 20:Q0o=void 0 !== z?19:59;break;case 11:Q0o=B === z?10:58;break;case 59:return d.default.PLAYING.call(this,n,h,m,p,q,u,t);break;case 7:return d.default.PLAYING.call(this,n,h,m,p,q,u,t);break;case 21:Q0o=z < y.length?35:61;break;case 10:z=A;Q0o=20;break;case 48:Q0o=L < J.length?47:45;break;case 39:G=void 0;w.jb && w.jb.tputTrace && (G=w.jb.tputTrace);(F=[],J=w.Ha,M=0);Q0o=36;break;case 62:z++;Q0o=21;break;}}}};break;}}})().wk;},53008:function(r,b,a){var l;function c(f,k,d){f=d.first;return new l(f[f.length - 1]);}a(17267);l=a(95711).Hi;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},96361:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(77175);b["default"]={PLAYING:r.wk,PAUSED:r.wk};},77175:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.wk=void 0;c=a(42866);l=a(95711);b.wk=(function(){var j3w;j3w=2;for(;j3w !== 5;){switch(j3w){case 2:var I8A="1S";I8A+="I";I8A+="YbZrNJCp9";I8A;return {wk:function(f,k,d,g){var O4L,h,m,q,u,t,p,n;O4L=2;for(;O4L !== 19;){switch(O4L){case 1:var Q9_="Must h";Q9_+="ave at least ";Q9_+="one selected stream";(0,c.assert)(g,Q9_);(h=new l.Hi(g),m=k.buffer.Tj);d=d.first;O4L=3;break;case 14:(q=m.jb.gb.Ca,u=m.bitrate,t=m.s$(null !== (n=k.Td) && void 0 !== n?n:-1));O4L=13;break;case 3:T7u0V.o8l(15);var D52=T7u0V.T1h(7,13,9,2);p=f.Web * Math.pow(Math.min(D52,(k.buffer.Si - k.buffer.Oc) / f.KG),f.Veb);void 0 === this.DG || m - this.DG > f.EV?f=d.length - 1:(f=(0,c.Im)(d,function(w){var S9v;S9v=2;for(;S9v !== 1;){switch(S9v){case 2:return w.isEqual(g);break;}}}),f=(d.length + f) % d.length);O4L=8;break;case 2:O4L=1;break;case 8:h.cd=d[0];O4L=7;break;case 7:O4L=-1 < f?6:20;break;case 11:--f;O4L=7;break;case 12:h.cd=m;O4L=20;break;case 20:return h;break;case 10:var v$R="S";v$R+="tre";v$R+="am has no t";v$R+="hroughpu";v$R+="t statistics";l.T.warn(v$R);O4L=11;break;case 6:O4L=(m=d[f],m.jb && m.jb.gb)?14:10;break;case 13:O4L=u * k.playbackRate < q * p && t?12:11;break;}}}};break;}}})().wk;},42102:function(r,b,a){var l;function c(f,k,d){return new l(d.first[0]);}a(17267);l=a(95711).Hi;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},9498:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});r=a(496);c=a(78501);a=a(17468);b["default"]={STARTING:a.kcb,BUFFERING:r.QX,REBUFFERING:r.QX,PLAYING:c.wk,PAUSED:c.wk};},496:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.QX=void 0;c=a(42866);l=a(95711);f=a(78501);b.QX=(function(){var L1J;L1J=2;for(;L1J !== 5;){switch(L1J){case 2:var u2k="1";u2k+="S";u2k+="IYbZ";u2k+="rNJ";u2k+="Cp9";u2k;return {QX:function(d,g,n,h,m,p,q){var W9R;W9R=2;for(;W9R !== 1;){switch(W9R){case 2:var M6g="pl";M6g+="a";M6g+="y";M6g+="in";M6g+="g";return M6g === d.Nja?f.wk.call(this,d,g,n,h,m,p,q):k.call(this,d,g,n,h);break;}}}};break;}}function k(d,g,n,h){var f2f,w,p,q,u,t;f2f=2;for(;f2f !== 16;){switch(f2f){case 13:h=p[0];f2f=12;break;case 11:w=null === h || void 0 === h?void 0:h.gb;f2f=20;break;case 2:var D7I="Mu";D7I+="st have a";D7I+="t least one ";D7I+="selected stream";(0,c.assert)(h,D7I);(p=n.first,q=h.bitrate);n=h;f2f=4;break;case 10:var C$w="se";C$w+="lec";C$w+="t_feasible";C$w+="_buffering";t=C$w;f2f=11;break;case 4:f2f=h.gb?3:20;break;case 14:f2f=void 0 === h?13:10;break;case 20:p=new l.Hi();p.cd=h;n.Pb !== h.Pb && (p.reason=t,p.Kv=w);f2f=17;break;case 6:h=(0,c.ec)(p.slice(0,u).reverse(),m);f2f=14;break;case 3:u=void 0;u=(0,c.Im)(p,function(v){var E64;E64=2;for(;E64 !== 1;){switch(E64){case 4:return v.isEqual(h);break;case 2:return v.isEqual(h);break;}}});u=Math.max(u,0);u=Math.min(u + (d.Hub?2:1),p.length);f2f=6;break;case 17:return p;break;case 12:var j1V="fallback_lowest_";j1V+="ac";j1V+="ceptable";j1V+="_st";j1V+="ream";t=j1V;f2f=11;break;}}function m(v){var O$1,y;O$1=2;for(;O$1 !== 8;){switch(O$1){case 2:y=v.gb;O$1=1;break;case 1:O$1=!y || (v.bitrate > q?d.Q8b:1) * v.bitrate * g.playbackRate > y?5:4;break;case 5:return !1;break;case 4:var H4m="buff";H4m+="_l";H4m+="t_hi";H4m+="st";t=H4m;w=y;return !0;break;}}}}})().QX;},78501:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.qma=b.v7=b.wk=void 0;r=a(5163);l=r.__importStar(a(17267));f=a(42866);k=a(35195);d=a(95711);g=r.__importDefault(a(22774));n=a(27364);h=a(11983);b.wk=(c=(function(){function m(q,u,t,w,v,y,x,z,A,B,C,D,E,G,F,J,M,L){var A6s,K,P,H,I,N,R,X;A6s=2;for(;A6s !== 17;){switch(A6s){case 14:return !1;break;case 2:var D3g="First stream und";D3g+="ef";D3g+="ined";u=t[0].stream;P=null === (K=w[0]) || void 0 === K?void 0:K.stream;(0,f.assert)(u,D3g);K=u.gb;A6s=9;break;case 20:t.forEach(function(ha){var U6s,ta,la;U6s=2;for(;U6s !== 4;){switch(U6s){case 2:(ta=ha.stream,la=ha.blocks);ha=ha.Td;l.Sb(ha) && ta.Ha && X.add(ta.Ha.Zr.subarray(ha,ha + la));U6s=4;break;}}});w.forEach(function(ha){var k4f,ta,la;k4f=2;for(;k4f !== 4;){switch(k4f){case 2:(ta=ha.stream,la=ha.blocks);ha=ha.Td;0 < F && l.Sb(ha) && ta.Ha && X.add(ta.Ha.Zr.subarray(ha,ha + la));k4f=4;break;}}});return 0 < G || 0 < F?(0,g.default)({EIb:X,blocks:C + G + F,Oc:y,Si:z,E4b:x,Nr:D,Tj:A,Td:C,fIb:C + G,W4:M,Q_a:E,gb:K / L,fUb:J,mC:q.mC,FQb:q.Xaa,vFb:!1}):K > u.Jr?{result:!0,JV:0,Mp:!0}:{result:!1,JV:0,Mp:!0};break;case 9:(H=z - y,I=v.length,N=u.Ha && u.Ha.length,R=(null === P || void 0 === P?void 0:P.Ha) && (null === P || void 0 === P?void 0:P.Ha.length));T7u0V.o8l(7);(0,f.assert)(T7u0V.O1f(C,I));q.esa && (J=Math.min(J,H));A6s=6;break;case 13:R || (P=u);X=new h.jOa(v);G=Math.max(0,Math.min(G,u.Ha.length - B));F=Math.max(0,Math.min(F,P.Ha.length - B - G));A6s=20;break;case 6:A6s=!K || K < u.bitrate * L * q.Opa || !N?14:13;break;}}}var Z9z;Z9z=2;function p(q,u,t){var R8Q,w;R8Q=2;for(;R8Q !== 3;){switch(R8Q){case 5:w=(t.CY || t.gb) / t.gb;return 1 >= w?q.w8:Math.min(Math.max((q.z4b * Math.min(8 * u / t.bitrate,q.QG) - q.Ly) / (w - 1),q.C7a),q.w8);break;case 7:return q.C7a;break;case 1:return q.C7a;break;case 2:R8Q=!t.gb?1:5;break;}}}for(;Z9z !== 5;){switch(Z9z){case 2:var r_S="1";r_S+="SIY";r_S+="bZrNJ";r_S+="Cp";r_S+="9";r_S;return {v7:m,wk:function(q,u,t,w,v,y,x){var v0$=T7u0V;var u10,z,R,X,A,B,C,D,E,G,F,J,M,L,K,P,H,I,N;u10=2;for(;u10 !== 15;){switch(u10){case 2:var y6S="Must have a sel";y6S+="e";y6S+="c";y6S+="ted";y6S+=" stream";(0,f.assert)(w,y6S);u10=5;break;case 5:var y0j="n";y0j+="u";y0j+="m";y0j+="b";y0j+="er";var M27="inval";M27+="id player fr";M27+="agmentIndex";void 0 === u.Td && (u.Td=0);(0,f.assert)(l.Sb(u.Td),M27);(0,f.assert)(y0j === typeof u.buffer.ZA);u10=9;break;case 16:return B;break;case 10:z=(q.mya || x) && v >= q.rAa?A.length:D + 2;(R=(function(ha){var e$T,p5c;e$T=2;for(;e$T !== 4;){switch(e$T){case 3:e$T=5;break;case 2:var b6J="varia";b6J+="b";b6J+="l";b6J+="e";p5c=q.kya;e$T=p5c === b6J?1:3;break;case 5:return A.slice(0,ha).map(function(ta,la){var u48;u48=2;for(;u48 !== 1;){switch(u48){case 2:return la < D?[q.Qpa,q.$ra]:la === D?[q.Ppa,q.Zra]:[q.Rpa,q.bsa];break;}}});break;case 1:return A.slice(0,ha).map(function(ta){var L4t;L4t=2;for(;L4t !== 1;){switch(L4t){case 4:return [p(q,u.buffer.ZA,ta),5];break;case 2:return [p(q,u.buffer.ZA,ta),0];break;}}});break;}}})(z),X=A.slice(0,z).map(function(ha,ta){var n_Q,la;n_Q=2;for(;n_Q !== 5;){switch(n_Q){case 2:v0$.o8l(16);la=v0$.O1f(D,ta);return function(){var N6c,xa,Ba,La,Za,ab,Z,na,Ha,Sa;N6c=2;for(;N6c !== 5;){switch(N6c){case 2:a:{v0$.f9E(3);xa=Math.max(v0$.O1f(1,ta),0);Ba=R[ta][1];La=u.playbackRate;Za=t.kpa(ta,M,R[ta][0]);ab=Za.mza;Za=Za.Dya;v0$.f9E(0);Ba=t.kpa(xa,v0$.O1f(M,ab),Ba);xa=Ba.mza;Z=Ba.Dya;Ba=Za[0].stream;na=Ba.gb || 0;Ha=Ba.Ha && Ba.Ha.length;Sa=x?q.lHb:Ha?q.v5:q.mHb;Sa=la?q.kna:Sa;if(H && !H.w5 && H.gb >= na && H.bitrate <= Ba.bitrate){ab=!1;}else {la || Ha || (Ba.yn=!0);if(!la || !Ha)if(Ha && !q.Xaa){if(na >= Math.max(Ba.Jr * La,Ba.bitrate * La * Sa) && Ba.Mp){ab=!0;break a;}}else if(na >= Ba.bitrate * La * Sa){ab=!0;break a;}La=!q.bla || Ba === C || Ba.Ub === C.Ub && y?0:(La=Ba.jb) && La.th && La.th.Ca?La.th.Ca + q.Yka * (La.th.Ne?Math.sqrt(La.th.Ne):0):0;(ab=m(q,A,Za,Z,I,G + La - E,K,J - E,F - E,M,I.length,L,N,ab,xa,P,u.W4,u.playbackRate)) && ab.result && (B.Jhc=ab.JV);H={w5:ab && ab.result,gb:na,bitrate:Ba.bitrate};ab=ab && ab.result;}}return ab;break;}}};break;}}}));(0,f.assert)(X.length === R.length);X[D]()?D + 1 < A.length && v > q.Ky && (void 0 === this.DG || this.Y7 && this.Y7 > this.DG || F - this.DG > q.EV && v > q.dsa) && (w=(0,f.eja)(A.slice(D + 1,z),function(ha,ta){var q6O;q6O=2;for(;q6O !== 1;){switch(q6O){case 2:return X[D + 1 + ta]();break;case 4:return X[D * 7 / ta]();break;}}})):w.Ha && w.Ha.length && ((w=(0,f.eja)(A.slice(0,D),function(ha,ta){var Q2H;Q2H=2;for(;Q2H !== 1;){switch(Q2H){case 2:return X[ta]();break;}}})) || (w=A[0]));B.cd=w || C;u10=16;break;case 9:var Y0U="Selecte";Y0U+="d stream ";Y0U+="not";Y0U+=" found in stream list";var e9C="nu";e9C+="m";e9C+="ber";(0,f.assert)(e9C === typeof u.W4);(A=t.first,B=new d.Hi(),C=w,D=(0,f.Im)(A,function(ha){var W57;W57=2;for(;W57 !== 1;){switch(W57){case 2:return ha.isEqual(w);break;}}}));v0$.o8l(17);(0,f.assert)(v0$.O1f(D,0),Y0U);(E=u.buffer.kb,G=u.buffer.Oc,F=u.buffer.Tj,J=u.buffer.Si,M=u.Td);v0$.o8l(3);v=v0$.O1f(G,J);u10=13;break;case 13:(L=u.state === n.eb.he || u.state === n.eb.Kg?u.buffer.Nr:0,K=q.LM,P=null !== (z=q.Ly) && void 0 !== z?z:1E3);t.J5(function(ha,ta,la){var r8Q,xa;r8Q=2;for(;r8Q !== 5;){switch(r8Q){case 2:void 0 !== la && (ha=ha[la],null !== (xa=ha.Ha) && void 0 !== xa && xa.length || (ha.yn=!0));r8Q=5;break;}}});(I=k.xq.oXa(u.buffer.Ha),N=u.buffer.ZA - I.xa);u10=10;break;}}},qma:p};break;}}})(),c.wk);b.v7=c.v7;b.qma=c.qma;},17468:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.TPb=b.kcb=void 0;r=a(5163);c=r.__importStar(a(17267));l=a(42866);f=a(12043);k=a(65877);r=r.__importStar(a(53265));d=a(95711);g=r.xdb;a=(function(){var F6K;F6K=2;for(;F6K !== 5;){switch(F6K){case 2:var n4X="1S";n4X+="IYb";n4X+="ZrN";n4X+="JC";n4X+="p9";n4X;return {Asb:function(v,y,x,z){var v51;v51=2;for(;v51 !== 5;){switch(v51){case 2:var u4h="h";u4h+="i";u4h+="stor";u4h+="ica";u4h+="l";x=x.first;return x.some(function(A){var o9l;o9l=2;for(;o9l !== 1;){switch(o9l){case 2:return A.aa;break;}}})?t(v,y,x,z):u4h === v.sqa?w(v,y,x,z):v.dS?q(v,y,x,z):t(v,y,x,z);break;}}},Uqb:u};break;}}function u(v,y,x,z,A,B){var e_Z;e_Z=2;for(;e_Z !== 5;){switch(e_Z){case 2:var i4y="no_va";i4y+="lid";i4y+="_Bitrate";var r8N="no";r8N+="_v";r8N+="alid_V";r8N+="MAF";var n9E="no";n9E+="_valid_";n9E+="D";n9E+="elayTarg";n9E+="et";v=x?v.xb >= B.Rt && v.xb <= B.b7a:v.bitrate >= B.Qt && v.bitrate <= B.Py;return (z=z < A && v)?{w5:z}:{w5:z,reason:v?n9E:x?r8N:i4y};break;}}}function h(v,y,x){var m2M;m2M=2;for(;m2M !== 5;){switch(m2M){case 2:v=(0,d.VUa)(x.Yp,v * x.E8);return (0,d.P7a)(v,y);break;}}}function w(v,y,x,z){var r6D,A;r6D=2;for(;r6D !== 7;){switch(r6D){case 2:var W2Z="v";W2Z+="b";A=f.platform.storage.get(W2Z);r6D=1;break;case 3:var t6I="his";t6I+="t_";t6I+="bitr";t6I+="at";t6I+="e";v.cd=(0,l.ec)(x.slice().reverse(),function(B){var f0e;f0e=2;for(;f0e !== 1;){switch(f0e){case 2:return B.bitrate <= A;break;case 4:return B.bitrate < A;break;}}}) || x[0];v.reason=t6I;return v;break;case 5:return v.dS?q(v,y,x,z):t(v,y,x,z);break;case 4:v=new d.Hi();r6D=3;break;case 1:var j7M="n";j7M+="u";j7M+="m";j7M+="be";j7M+="r";r6D=j7M !== typeof A?5:4;break;}}}function q(v,y,x){var c9l,z,A,B,D,E,C;c9l=2;for(;c9l !== 19;){switch(c9l){case 9:E=u(C,A.Kv,z,D,E,v);C=E.w5;E=E.reason;A.kM=D;c9l=14;break;case 12:B--;c9l=1;break;case 2:(z=!!v.Rt && !!v.b7a && x.every(function(G){var Q__;Q__=2;for(;Q__ !== 1;){switch(Q__){case 2:return G.xb && 110 >= G.xb;break;}}}),A=null,B=x.length - 1);c9l=1;break;case 14:c9l=C?11:13;break;case 1:c9l=0 <= B && (z?x[B].xb >= v.Rt:x[B].bitrate >= v.Qt)?5:11;break;case 3:(D=h(C.bitrate * y.playbackRate,A.Kv,v),E=p(A.Kv,v));c9l=9;break;case 13:A.reason=E;c9l=12;break;case 5:C=x[B];A=n(C,v);c9l=3;break;case 11:var A37="fal";A37+="lback_no_acce";A37+="ptable_stream";var g4I="below_minInitVid";g4I+="eoBitrat";g4I+="e";c.vc(A) && x[B].bitrate < v.Qt && (A=n(x[B],v),A.reason=g4I);c.vc(A) && (A=n(x[0],v),A.reason=A37);return A;break;}}}function t(v,y,x){var T4e,z,A;T4e=2;for(;T4e !== 4;){switch(T4e){case 2:(z=new d.Hi(),A=Math.max(v.Qt,v.L8));z.cd=(0,l.ec)(x.filter(function(B){var l82;l82=2;for(;l82 !== 1;){switch(l82){case 4:return B.bitrate < v.Py;break;case 2:return B.bitrate <= v.Py;break;}}}).reverse(),function(B){var j5H,D,C;j5H=2;for(;j5H !== 6;){switch(j5H){case 4:D=m(v,B);j5H=3;break;case 8:C=!1;j5H=9;break;case 1:j5H=B.bitrate > A?5:7;break;case 3:var m0B="h";m0B+="ist_bu";m0B+="fftime";h(B,C,v) <= D?(z.Kv=C,z.reason=m0B,C=!0):C=!1;j5H=9;break;case 2:C=B.gb;j5H=1;break;case 5:j5H=(B=B.bitrate * y.playbackRate,C)?4:8;break;case 9:return C;break;case 7:var p0c="no_historical_lte_";p0c+="minbit";p0c+="rate";var n_t="hist_tp";n_t+="ut_l";n_t+="t_minbitrate";var H7f="lt_hist_lte_minbit";H7f+="r";H7f+="ate";C && B.bitrate * y.playbackRate <= C?(z.Kv=C,z.reason=H7f,C=!0):C?(z.Kv=C,z.reason=n_t,C=!1):(z.reason=p0c,C=!0);j5H=9;break;}}}) || x[0];return z;break;}}}function p(v,y){var h2w=T7u0V;var M3i,x;M3i=2;for(;M3i !== 9;){switch(M3i){case 4:return (x=y.lcb[x]) && 2 === x.length?1E3 * (x[0] + x[1] * Math.log(1 + v)):y.Ir;break;case 2:h2w.f9E(18);var U6L=h2w.O1f(1200000,1100000,1);h2w.o8l(6);var u9g=h2w.O1f(991,1,9);v=(0,d.IK)(v,0,U6L) / u9g;M3i=1;break;case 3:var s7u="sig";s7u+="m";s7u+="o";s7u+="id";return 0 === y.iO.lastIndexOf(s7u,0)?(x=y.iO,(x=y.lcb[x]) && 2 === x.length?1E3 * (x[0] + x[1] * g(v)):y.Ir):y.Ir;break;case 5:x=y.iO;M3i=4;break;case 1:var Q6A="l";Q6A+="o";Q6A+="g";M3i=0 === y.iO.lastIndexOf(Q6A,0)?5:3;break;}}}function n(v,y){var f5q,x,z,A;f5q=2;for(;f5q !== 11;){switch(f5q){case 2:x=new d.Hi();x.cd=v;z=x.cd.jb;x.jb=z;v=0;z=null === z || void 0 === z?void 0:z.Ei;f5q=7;break;case 7:f5q=(A=c.Sb(y.maa) && 0 <= y.maa && 100 >= y.maa && z)?6:14;break;case 6:(A=k.ROa.LLb(z),c.Vp(A)?(z.wi=A,A=!0):A=!1);f5q=14;break;case 14:var d0i="hist";d0i+="_";d0i+="throug";d0i+="hput";var h4Y="hist";h4Y+="_t";h4Y+="dige";h4Y+="s";h4Y+="t";A?(v=z.wi(y.maa / 100) || x.cd.gb,x.reason=h4Y):x.cd.gb && (v=x.cd.gb,x.reason=d0i);f5q=13;break;case 13:x.Kv=v;return x;break;}}}function m(v,y){var I4g,x,z;I4g=2;for(;I4g !== 13;){switch(I4g){case 1:(x=v.i7,z=(0,l.Im)(x,function(A){var S_x;S_x=2;for(;S_x !== 1;){switch(S_x){case 2:return y <= A.r;break;}}}));I4g=5;break;case 6:return Math.floor(v.d + (x.d - v.d) * (y - v.r) / (x.r - v.r));break;case 9:return x[x.length - 1].d;break;case 3:I4g=-1 === z?9:8;break;case 5:I4g=0 === z?4:3;break;case 14:return v.Ir;break;case 8:T7u0V.f9E(3);v=x[T7u0V.O1f(1,z)];x=x[z];I4g=6;break;case 4:return x[0].d;break;case 2:I4g=v.i7?1:14;break;}}}})();r=a.Uqb;b.kcb=a.Asb;b.TPb=r;},22774:function(r,b,a){var S2Y="def";S2Y+="a";S2Y+="ult";var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(5163);c.__importStar(a(17267));a(42866);l=a(95711);b[S2Y]=function(f){var i80=T7u0V;var g8m,J,M,L,K,P,H,I,G,k,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,E,F;g8m=2;for(;g8m !== 50;){switch(g8m){case 11:var g_U=" >= ";g_U+="fra";g_U+="gments";g_U+="Length";g_U+=": ";var R9i="Strea";R9i+="mingI";R9i+="n";R9i+="d";R9i+="ex: ";q >= B && l.T.error(R9i + q + g_U + B);g+=D;0 === p && (g=0);i80.f9E(4);g*=i80.O1f(A,1E3);g8m=18;break;case 28:i80.o8l(19);g+=i80.O1f(0,v,F,q);p+=B;g8m=43;break;case 30:return (f && m.push(G / (A / 1E3)),c.__assign({result:!1,JV:G / (A / 1E3),Mp:!1},f && ({F3:m})));break;case 25:(J=G[1],M=k.zU(D),L=k.RL(D),K=0,P=k.zU(K),H=k.RL(K),I=B - q);g8m=24;break;case 41:(w+=P[d],++d,d >= P.length && ++K < k.length && (P=k.zU(K),H=k.RL(K),d=0));g8m=42;break;case 7:d=0;G=k.RL(0)[0];g8m=14;break;case 2:var H8Z="1SIY";H8Z+="bZ";H8Z+="rNJ";H8Z+="Cp9";(k=f.EIb,d=f.blocks,g=f.Oc,n=f.Si,h=f.E4b,m=f.Nr,p=f.Tj,q=f.Td,u=f.fIb,t=f.W4,w=f.Q_a,v=f.gb,y=f.fUb,x=f.mC,z=f.FQb);f=f.vFb;H8Z;(A=k.N,B=Math.min(k.FIb,d),C=n - g,D=8 * m / v | 0);m=[];n=Infinity;E=0;g8m=7;break;case 14:i80.o8l(20);h=i80.O1f(A,G,1E3,h);i80.o8l(21);v=i80.T1h(8,0,v);i80.f9E(4);F=i80.T1h(A,1E3);g8m=11;break;case 40:++J;g8m=39;break;case 34:E=Math.max(q,t);g8m=33;break;case 32:(g=h,w+=P[d],++d,d >= P.length && ++K < k.length && (P=k.zU(K),H=k.RL(K),d=0),G=H[d],h+=G);g8m=33;break;case 18:i80.f9E(4);p*=i80.T1h(A,1E3);i80.o8l(4);x*=i80.O1f(A,1E3);i80.o8l(4);y*=i80.T1h(A,1E3);i80.f9E(4);C*=i80.O1f(A,1E3);g8m=27;break;case 43:w-=q;g8m=42;break;case 24:g8m=I?23:51;break;case 38:J >= M.length && ++D < k.length && (u-=M.length,M=k.zU(D),L=k.RL(D),J=0);f && m.push(G / (A / 1E3));E=G;g8m=54;break;case 29:i80.o8l(3);G=i80.O1f(g,p);g8m=28;break;case 53:g8m=(G=Math.max(p - g,0),G < y && G < E)?52:28;break;case 42:g8m=h < g && d < J?41:40;break;case 54:n=Math.min(G,n);g8m=24;break;case 31:g8m=!z && (G=p - g,G < x)?30:29;break;case 35:g8m=w < q?34:53;break;case 51:return c.__assign({result:!0,JV:n / (A / 1E3),Mp:!0},f && ({F3:m}));break;case 33:g8m=w < E?32:31;break;case 39:g8m=J >= u && G > C?51:38;break;case 23:I--;q=M[J];B=L[J];g8m=35;break;case 27:G=c.__read(k.FLb(q),2);D=G[0];g8m=25;break;case 52:return (f && m.push(G / (A / 1E3)),c.__assign({result:!1,JV:Math.min(G,n) / (A / 1E3),Mp:!0},f && ({F3:m})));break;}}};},68474:function(r,b,a){var l;function c(f,k,d){f=d.first.filter(function(g){return g.Ar;});return f.length?new l(f[Math.floor(Math.random() * f.length)]):null;}l=a(95711).Hi;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},89583:function(r,b,a){var l,f,k,d;function c(g,n,h,m){var p,q;p=h.first;n=n.buffer.Tj;h="forward" === g.Q1b;if(l.kn(m))return (m=h?p[k(p)]:p[k(p,p.length)],this.uha=n,new d(m));if(!m.Cy){q=f(p,function(u){return u.isEqual(m);});m=k(p,q);this.uha=n;}if(!m)return null;if(n > this.uha + g.O6b){p=p.filter(function(u){return u.Ar;});if(!p.length)return null;g=f(p,function(u){return u.isEqual(m);});g=(p.length + g + (h?1:-1)) % p.length;this.uha=n;return new d(p[g]);}return new d(m);}l=a(17267);b=a(95711);f=a(42866).Im;k=b.D5;d=b.Hi;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},1614:function(r,b,a){var l,f,k,d,g,n,h,m;function c(p,q,u,t){h=p=u.first;if(null === n)return (t=k(p),n=p[t].bitrate,new d(p[t]));if(!p.length)return null;t=g(p,function(w){return w.bitrate == n;});return void 0 === t?(f.log("Defaulting to first stream due to unvalid bitrate requested: " + n),new d(p[0])):new d(t);}b=a(95711);l=a(12043).platform;f=b.T;k=b.D5;d=b.Hi;g=a(42866).ec;n=null;h=null;m=null;l.dyb && (l.dyb.Io={Db:function(){m=h=n=null;},naa:function(p){n=p;},Tgc:function(){return {all:h,Fgb:m};}});r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},61706:function(r,b,a){(function(){var r1l,l,f,k,d;r1l=2;function c(g,n,h,m){var y8c,p;y8c=2;for(;y8c !== 11;){switch(y8c){case 5:n=d(m);h=h.first;y8c=3;break;case 2:var k1g="playe";k1g+="r missing fr";k1g+="agmentI";k1g+="ndex";var K2w="Must have at lea";K2w+="st one s";K2w+="elected s";K2w+="tream";k(m,K2w);k(l.Sb(n.Td),k1g);y8c=5;break;case 6:return (n.cd=p,n);break;case 8:p=h[m];y8c=7;break;case 9:y8c=-1 < m?8:13;break;case 13:n.cd=h[0];return n;break;case 14:--m;y8c=9;break;case 3:T7u0V.f9E(22);var U1$=T7u0V.T1h(1,5,3,1);m=h.length - U1$;y8c=9;break;case 7:y8c=p.jb && p.jb.gb && p.bitrate < p.jb.gb.Ca - g.K6b?6:14;break;}}}for(;r1l !== 8;){switch(r1l){case 2:l=a(17267);a(89956);(f=a(95711),k=f.assert,d=f.Hi);r1l=4;break;case 4:var o8K="1SI";o8K+="YbZr";o8K+="NJ";o8K+="Cp";o8K+="9";var H21="def";H21+="aul";H21+="t";f=a(9498)[H21];r.exports={STARTING:f.STARTING,BUFFERING:f.BUFFERING,REBUFFERING:f.REBUFFERING,PLAYING:c,PAUSED:c};o8K;r1l=8;break;}}})();},22288:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.vF=b.pz=b.RX=void 0;r=a(27364);b.RX=[r.eb[r.eb.Jn],r.eb[r.eb.ee],r.eb[r.eb.$j],r.eb[r.eb.he],r.eb[r.eb.Kg],"checkBuffering"];c=a(1614);b.pz={first:function(){return a(11877);},random:function(){return a(68474);},optimized:function(){return a(9498)["default"];},roundrobin:function(){return a(89583);},selectaudio:function(){return a(51835)["default"];},selectaudioadaptive:function(){return a(71888)["default"];},"default":function(){return a(9498)["default"];},lowest:function(){return a(42102);},highest:function(){return a(53008);},throughputthreshold:function(){return a(61706);},replay:function(){return a(18753)["default"];},checkdefault:function(){return a(62711)["default"];},livesimple:function(){return a(96361)["default"];},testscript:function(){return c;}};b.vF={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};},11983:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jOa=void 0;r=(function(){function a(c){this.Zr=[];this.Zr.push(c);}Object.defineProperties(a.prototype,{N:{get:function(){return this.Zr[0].N;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.Zr.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{FIb:{get:function(){var c;return null !== (c=this.yqb) && void 0 !== c?c:this.yqb=this.Zr.reduce(function(l,f){return l + f.length;},0);},enumerable:!1,configurable:!0}});a.prototype.RL=function(c){return this.Zr[c].ef;};a.prototype.zU=function(c){return this.Zr[c].sizes;};a.prototype.add=function(c){this.Zr.push(c);};a.prototype.FLb=function(c){var f;for(var l=0;0 <= c;){f=this.Zr[l];if(c < f.length)break;l++;c-=f.length;}return [l,c];};return a;})();b.jOa=r;},94656:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Sfa=void 0;c=a(5163);l=a(36418);a(62558);a(95711);r=(function(){function f(k,d,g,n){this.ef=k;this.N=g;this.length=Math.min(k.length,d.length);this.Dm=d;this.jc=n;}Object.defineProperties(f.prototype,{xa:{get:function(){return void 0 !== this.jc?this.jc:this.jc=this.Bga();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{sizes:{get:function(){return this.Dm;},enumerable:!1,configurable:!0}});f.prototype.subarray=function(k,d){return new f(this.ef.subarray(k,d),this.sizes.subarray(k,d),this.N);};f.prototype.concat=function(){var g,n;for(var k=[],d=0;d < arguments.length;d++){k[d]=arguments[d];}d=[this];k=d.concat.apply(d,c.__spreadArray([],c.__read(k),!1));d=k.reduce(function(h,m){return h + m.length;},0);g=new Uint32Array(d);n=new Uint32Array(d);d=k[0].N;k.reduce(function(h,m){l.hga.set(g,m.ef,h);l.hga.set(n,m.sizes,h);return h + m.length;},0);return new f(g,n,d);};f.prototype.Bga=function(){for(var k=this.sizes,d=this.length,g=0,n=0;n < d;++n){g+=k[n];}return g;};f.prototype.w4a=function(k){return void 0 === this.Wsb?!1:0 < this.Wsb[k];};return f;})();b.Sfa=r;},74976:function(r,b,a){var l,f,k,d,g,n,h,m,p,q,u;function c(t){t.forEach(function(w){return w.yn=!1;});}Object.defineProperties(b,{__esModule:{value:!0}});b.KQ=void 0;l=a(5163);f=l.__importStar(a(17267));k=a(12043);d=a(42866);g=a(27364);n=a(89659);h=l.__importDefault(a(77613));m=a(18792);a(62558);p=a(22288);q=a(75449);u=a(17329);new k.platform.Console("ASEJS_STREAM_SELECTOR","media|asejs");r=(function(){var Z0y;Z0y=2;for(;Z0y !== 20;){switch(Z0y){case 2:t.prototype.Yi=function(){var r1c;r1c=2;for(;r1c !== 1;){switch(r1c){case 4:return this.hm;break;case 2:return this.hm;break;}}};t.prototype.$cb=function(w){var v1z;v1z=2;for(;v1z !== 1;){switch(v1z){case 2:this.hm=w;v1z=1;break;}}};Z0y=5;break;case 5:t.prototype.naa=function(w,v,y,x,z,A,B){var w6f,f6D,C,D,E,G,F,J,M,L,K,P,H,I;w6f=2;for(;w6f !== 25;){switch(w6f){case 18:w.state=g.eb.Jn;w6f=17;break;case 3:f6D=w.state;w6f=f6D === g.eb.ee?9:16;break;case 9:w6f=L?8:18;break;case 11:w6f=(I=y.cd)?10:20;break;case 20:w.hL && I && (0,h.default)(this.kva(I,E,w,G),y);return y;break;case 15:w6f=f6D === g.eb.he?9:27;break;case 27:w6f=f6D === g.eb.Kg?9:26;break;case 16:w6f=f6D === g.eb.$j?9:15;break;case 4:M=M.Fna;w6f=3;break;case 17:(this.sE=this.qE=void 0,L && (w.state=g.eb.ee));w6f=8;break;case 2:(E=null === w || void 0 === w?void 0:w.buffer,G=k.platform.time.wa(),F=this.W,J=v.first);c(v.first);(M=this.Esa(F,w,v.first),L=M.zla);w6f=4;break;case 8:void 0 !== x && this.ZW(v,w.state,w.buffer,x);(K=this.YQ[g.eb[w.state]],P=v.b7b(),H=L?(0,m.Uaa)(L):void 0);y=K.call(this,F,w,P,H,x,!!z,M,y);y=l.__assign(l.__assign({},y),{cd:null === (I=y.cd) || void 0 === I?void 0:I.$d});y.mf=w.state;w6f=11;break;case 10:var U12="pla";U12+="yi";U12+="n";U12+="g";var V6s="min_fr";V6s+="a";V6s+="gm";V6s+="en";V6s+="t_vmaf";(this.hm.WH(I),this.psa(v.first,I,E.Si - E.Oc),y.BC=I.gb || 0,y.jb=I.jb,y.reason && (I.Fo=y.reason,V6s !== y.reason && (I.vxa=y.Kv,I.kM=y.kM,I.Tpa=null === (C=y.jb) || void 0 === C?void 0:C.oS,I.Upa=null === (D=y.jb) || void 0 === D?void 0:D.Ei)),v=this.Fsa(J,I,E,w,B,z),y.sn=v || y.sn,L && !M && I.bitrate < L.bitrate && (this.qE=E.Tj),w.state !== g.eb.he && w.state !== g.eb.Kg?(L=(0,n.eva)(w.state),A=this.iF(w.buffer,L,w.playbackRate,I,A),(y.ek=A.complete)?y.Kja=A.reason:(y.ek=!1,y.NC=A.NC,y.IV=A.IV,y.progress=A.progress)):(y.ek=!0,y.Kja=U12));w6f=20;break;case 26:w6f=f6D === g.eb.Jn?17:8;break;}}};t.prototype.iF=function(w,v,y,x,z){var b8w;b8w=2;for(;b8w !== 1;){switch(b8w){case 2:return this.YQ.checkBuffering.call(this,w,v,y,(0,m.Uaa)(x),z,this.W);break;}}};Z0y=3;break;case 11:Object.defineProperties(t.prototype,{Y7:{get:function(){var O6L;O6L=2;for(;O6L !== 1;){switch(O6L){case 2:return this.sE;break;}}},enumerable:!1,configurable:!0}});return t;break;case 3:t.prototype.jeb=function(w,v,y){var d5I;d5I=2;for(;d5I !== 1;){switch(d5I){case 2:f.kn(v)?this.qE=this.sE=void 0:v.bitrate < y.bitrate && (this.sE=w);d5I=1;break;}}};t.prototype.ZW=function(w,v,y,x){var l69,z,A,B;l69=2;for(;l69 !== 5;){switch(l69){case 2:z=this;w.J5(function(C){var t3U;t3U=2;for(;t3U !== 1;){switch(t3U){case 2:z.DL(C,function(D){var i77;i77=2;for(;i77 !== 1;){switch(i77){case 2:D.Ar && D.jb && D.jb.confidence?(A !== D.jb && (A=D.jb,B=x(D.jb,y,v,D.track.la.JM[g.u.$])),D.gb=Math.floor(B.lower) || 1,D.CY=Math.floor(B.upper || 1) || 1):D.gb=void 0;i77=1;break;}}});t3U=1;break;}}});l69=5;break;}}};t.prototype.Fsa=function(w,v,y,x,z,A){var Z0u,B;Z0u=2;for(;Z0u !== 4;){switch(Z0u){case 1:B=(0,d.ec)(w,function(C,D){var S$Y;S$Y=2;for(;S$Y !== 1;){switch(S$Y){case 2:T7u0V.f9E(3);var F_p=T7u0V.O1f(11,12);return w[D - F_p] === v;break;}}}) || v;return this.HW.H1a({VA:y.Si - y.Oc,JUa:y.lm || 0,HUa:y.ZA || 0,Oc:y.Oc,l6a:w[0],cd:v,Egb:B,rfb:w[w.length - 1],mf:x.state,playbackRate:x.playbackRate,Td:x.Td,GL:z,un:A});break;case 9:Z0u=this.HW?2:5;break;case 2:Z0u=this.HW?1:4;break;}}};t.prototype.kva=function(w,v,y,x){var x8E,z,A,B,C,D,E,G;x8E=2;for(;x8E !== 17;){switch(x8E){case 3:C.w$a=G;x8E=9;break;case 20:C.sq=x;C.yz=k.platform.time.wa();return C;break;case 2:(C={},D=w.jb,E=this.W.Pha);x8E=1;break;case 14:C.J8a=D && D.gb && D.gb.Ca || 0;C.Qja=v.Si - v.Oc;C.PUa=v.lm;C.g$a=null !== (B=null === (A=null === (z=k.platform.uLb) || void 0 === z?void 0:z.call(k.platform)) || void 0 === A?void 0:A[y.mediaType === g.u.X?1:0]) && void 0 !== B?B:-1;x8E=10;break;case 10:C.Ni=y && y.Ni;x8E=20;break;case 9:C.Tj=v.Tj;E=y && y.Td;w=w.Ha;C.Zq=w && void 0 !== E && !isNaN(E) && 0 <= E && E < w.length?w.ll(E):v.Tj;x8E=14;break;case 1:x8E=D && E && 0 < E.length?5:9;break;case 5:G=[];E.forEach(function(F){var X4H,J;X4H=2;for(;X4H !== 4;){switch(X4H){case 2:J=F.stat;J=(F=D[F.filter]) && F[J];G.push(isNaN(J)?-1:J);X4H=4;break;}}});x8E=3;break;}}};Z0y=6;break;case 6:t.prototype.Esa=function(w,v,y){var y9v,x,z,A;y9v=2;for(;y9v !== 4;){switch(y9v){case 2:(x=!1,z=(null === v || void 0 === v?void 0:v.buffer).Ha,A=z.length);(v=0 < A && v.state !== g.eb.Jn?z[A - 1].stream:this.hm.mk)?-1 === y.indexOf(v) && (v=(0,u.jpa)(y,v.bitrate,v.xb),x=!0,w.l8a && this.hm.mk && -1 !== y.indexOf(this.hm.mk) && (x=!1)):x=!0;return {zla:v,Fna:x};break;}}};t.prototype.psa=function(w,v,y){var Z4T,x,z;Z4T=2;for(;Z4T !== 12;){switch(Z4T){case 2:Z4T=1;break;case 6:Z4T=w[y + 1] === v && (null === (z=w[y].Ha) || void 0 === z || !z.length)?14:13;break;case 7:w[y].yn=!0;Z4T=12;break;case 4:Z4T=this.W.Gdb && y > this.W.dW && !v.aa && w.every(function(A){var x7E;x7E=2;for(;x7E !== 1;){switch(x7E){case 2:return !A.yn;break;}}})?3:12;break;case 1:Z4T=this.W.$Ya?5:4;break;case 3:T7u0V.o8l(0);var Z7s=T7u0V.T1h(0,1);y=w.length - Z7s;Z4T=9;break;case 9:Z4T=0 <= y?8:12;break;case 13:--y;Z4T=9;break;case 5:w.forEach(function(A){var u5d;u5d=2;for(;u5d !== 1;){switch(u5d){case 2:return A.yn=!A.Ha || !A.Ha.length;break;}}});Z4T=12;break;case 8:Z4T=w[y - 1] === v && (null === (x=w[y].Ha) || void 0 === x || !x.length)?7:6;break;case 14:w[y].yn=!0;Z4T=12;break;}}};t.prototype.DL=function(w,v){var v7S=T7u0V;var F$1,y;F$1=2;for(;F$1 !== 3;){switch(F$1){case 2:v7S.f9E(23);var E5K=v7S.T1h(6,18,43,18);y=w.length - E5K;F$1=1;break;case 8:v7S.o8l(24);var u98=v7S.O1f(3,1,0);y=w.length / u98;F$1=9;break;case 4:--y;F$1=1;break;case 14:++y;F$1=7;break;case 1:F$1=0 <= y?5:3;break;case 7:F$1=3 > y?9:4;break;case 5:v(w[y],y,w);F$1=4;break;}}};Object.defineProperties(t.prototype,{DG:{get:function(){var H2y;H2y=2;for(;H2y !== 1;){switch(H2y){case 2:return this.qE;break;case 4:return this.qE;break;}}},enumerable:!1,configurable:!0}});Z0y=11;break;}}function t(w,v,y,x){var A9l,z,A;A9l=2;for(;A9l !== 6;){switch(A9l){case 8:this.YQ=p.RX.reduce(function(B,C){var F6R,D;F6R=2;for(;F6R !== 4;){switch(F6R){case 7:return B;break;case 5:return B;break;case 2:D=(p.pz[w] || p.pz[p.vF[C]])()[C] || p.pz[p.vF[C]]()[C];B[C]=D.bind(z);F6R=5;break;}}},{});x && (this.HW=new q.tJ(v,null === (A=y.track) || void 0 === A?void 0:A.mediaType));A9l=6;break;case 2:var l19="1SIY";l19+="bZr";l19+="NJ";l19+="Cp";l19+="9";z=this;this.ncb=w;this.W=v;this.hm=y;l19;w=w || this.W.Taa;A9l=8;break;}}}})();b.KQ=r;},17329:function(r,b,a){var l,f,k,d;function c(g,n,h){var m;m=(0,f.Im)(g,function(p){return h && p.xb?p.xb > h:p.bitrate > n;});m=0 < m?m - 1:0 === m?0:g.length - 1;return g[m];}Object.defineProperties(b,{__esModule:{value:!0}});b.Rda=b.jpa=b.fga=void 0;l=a(5163);f=a(42866);k=a(18792);r=(function(){function g(){this.Us=[];}Object.defineProperties(g.prototype,{first:{get:function(){var n;return null === (n=this.Us[0]) || void 0 === n?void 0:n.te;},enumerable:!1,configurable:!0}});g.prototype.UE=function(n){this.Us.push({te:n});};g.prototype.J5=function(n){this.Us.forEach(function(h,m){return n(h.te,m);});};g.prototype.kpa=function(n,h,m){var p,q,u,t,w,v,y;p=m;q=h;u=0;t=[];w=this.first[n];v=w.xb;y=w.bitrate;this.Us.forEach(function(x,z){var A,B;x=x.te;0 >= p || (z=0 === z?w:c(x,y,v),x=null === (A=z.Ha) || void 0 === A?void 0:A.m4(q,p),A=null !== (B=null === x || void 0 === x?void 0:x.blocks) && void 0 !== B?B:0,u+=A,t.push({stream:z,blocks:A,Td:q}),null === x || void 0 === x?!0:!x.mX) || (q=0,p-=x.mX);});return {Dya:t,mza:u};};g.prototype.b7b=function(){var n,h;n=new d();h=this.Us.map(function(m){var p;p=m.te.map(function(q){return (0,k.Uaa)(q);});return l.__assign(l.__assign({},m),{te:p});});n.J3b(h);return n;};return g;})();b.fga=r;b.jpa=c;d=(function(){function g(){this.Us=[];}Object.defineProperties(g.prototype,{first:{get:function(){var n;return null === (n=this.Us[0]) || void 0 === n?void 0:n.te;},enumerable:!1,configurable:!0}});g.prototype.UE=function(n){this.Us.push({te:n});};g.prototype.J5=function(n){this.Us.forEach(function(h,m){return n(h.te,m);});};g.prototype.J3b=function(n){this.Us=l.__spreadArray([],l.__read(n),!1);};g.prototype.kpa=function(n,h,m){var p,q,u,t,w,v,y;p=m;q=h;u=0;t=[];w=this.first[n];v=w.xb;y=w.bitrate;this.Us.forEach(function(x,z){var A,B;x=x.te;0 >= p || (z=0 === z?w:c(x,y,v),x=null === (A=z.Ha) || void 0 === A?void 0:A.m4(q,p),A=null !== (B=null === x || void 0 === x?void 0:x.blocks) && void 0 !== B?B:0,u+=A,t.push({stream:z,blocks:A,Td:q}),null === x || void 0 === x?!0:!x.mX) || (q=0,p-=x.mX);});return {Dya:t,mza:u};};g.prototype.toJSON=function(){return {};};return g;})();b.Rda=d;},47870:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.FOa=void 0;c=a(5163);r=(function(){function l(f,k){this.T=f;this.mb=k;this.Gya=!1;}l.prototype.X0b=function(f){this.qf(f.message,void 0,c.__assign(c.__assign({},f.Nma),{err:f.toString()}));};l.prototype.qf=function(f,k,d){void 0 === k && (k=void 0);void 0 === d && (d={});this.Gya || (d.temporaryFailure || (this.Gya=!0),f=c.__assign({type:"error",error:null !== k && void 0 !== k?k:"NFErr_MC_StreamingFailure",errormsg:f,temporaryFailure:!1},d),this.T.error("notifyStreamingError:",f),this.mb.emit("error",f));};l.prototype.zr=function(){return this.Gya;};return l;})();b.FOa=r;},26218:function(r,b,a){var l,f,k,d;function c(g){return function(){for(var n=Array(this.length),h=0;h < this.length;++h){n[h]=g.call(this,h);}return n;};}Object.defineProperties(b,{__esModule:{value:!0}});b.dvb=b.Qv=b.ega=b.gPa=void 0;l=a(42866);r=a(12043);f=a(62558);k=new r.platform.Console("FRAGMENTS","media|asejs");d=(function(){function g(n,h){this.Ic=n;this.hg=h;}Object.defineProperties(g.prototype,{index:{get:function(){return this.hg;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ka:{get:function(){return new l.L(this.sb,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ua:{get:function(){return new l.L(this.yb,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Md:{get:function(){return new l.L(this.nB,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{sb:{get:function(){return this.Ic.w2 + this.Ic.EA[this.hg];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{yb:{get:function(){return this.sb + this.Ic.Lq[this.hg];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{nB:{get:function(){return this.Ic.Lq[this.hg];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Aa:{get:function(){return this.Ic.Aa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{N:{get:function(){return this.Ic.N;},enumerable:!1,configurable:!0}});g.prototype.toJSON=function(){return {startPts:1E3 * this.sb / this.Aa.N,endPts:1E3 * this.yb / this.Aa.N,duration:1E3 * this.nB / this.Aa.N,index:this.index};};return g;})();b.gPa=d;a=(function(){function g(n,h,m,p){this.mediaType=n;this.length=m.ef.length;this.nb=m.N;this.Lq=m.ef;this.T2=p && p.zN;this.oTa=p && p.eO;this.UJ=h;this.Gza=this.Hza=this.mRa=void 0;this.w2=m.cs;this.EA=new Uint32Array(this.length + 1);if(this.length){for(h=n=0;h < this.length;++h){this.EA[h]=n;n+=this.Lq[h];}this.EA[h]=n;this.vga=Math.floor((this.ff - this.kb) / this.length);}}Object.defineProperties(g.prototype,{cs:{get:function(){return this.Wdb(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Hma:{get:function(){return this.Wdb(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{kb:{get:function(){return this.ll(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ff:{get:function(){return this.ll(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Jf:{get:function(){return new l.L(this.Hma,this.N);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{wsa:{get:function(){return this.mRa || this.Jpb();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Aa:{get:function(){return this.UJ;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{N:{get:function(){return this.nb;},enumerable:!1,configurable:!0}});g.prototype.Wdb=function(n){return this.w2 + this.EA[n];};g.prototype.ll=function(n){return Math.floor(1E3 * (this.w2 + this.EA[n]) / this.N);};g.prototype.ET=function(n){return this.ll(n + 1);};g.prototype.ef=function(n){return this.ET(n) - this.ll(n);};g.prototype.get=function(n){return new d(this,n);};g.prototype.ky=function(n,h,m){if(0 === this.length || n < this.ll(0))return -1;n=Math.max(n,h || 0);for(var p=0,q=this.length - 1,u,t;q >= p;){if((u=p + (q - p >> 1),t=this.ll(u),n < t))q=u - 1;else if(n >= t + this.ef(u))p=u + 1;else {for(;h && u < this.length && this.ll(u) < h;){++u;}return u < this.length?u:m?this.length - 1:-1;}}return m?this.length - 1:-1;};g.prototype.ona=function(n,h,m){n=this.ky(n,h,m);return 0 <= n?this.get(n):void 0;};g.prototype.m4=function(n,h){var m,p,q;m=Math.floor(h * this.N / 1E3);p=Math.min(n + Math.ceil(h / this.vga),this.length);q=this.EA[p] - this.EA[n];if(q >= m){for(;q >= m;){--p;q-=this.Lq[p];}return {blocks:Math.max(p - n + 1,0),mX:0};}for(;q < m && p <= this.length;){h-=q || 0;q+=this.Lq[p];++p;}return {blocks:Math.max(p - n - 1,0),mX:h};};g.prototype.subarray=function(n,h){(0,f.assert)(void 0 === n || 0 <= n && n < this.length);(0,f.assert)(void 0 === h || h > n && h <= this.length);return new g(this.mediaType,this.Aa,{N:this.N,cs:this.w2 + this.EA[n],ef:this.Lq.subarray(n,h)},this.T2 && ({zN:this.T2.subarray(n,h + 1),eO:this.oTa}));};g.prototype.forEach=function(n){for(var h=0;h < this.length;++h){n(this.get(h),h,this);}};g.prototype.map=function(n){for(var h=[],m=0;m < this.length;++m){h.push(n(this.get(m),m,this));}return h;};g.prototype.reduce=function(n,h){for(var m=0;m < this.length;++m){h=n(h,this.get(m),m,this);}return h;};g.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.vga};};g.prototype.dump=function(){var h;k.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.vga + "ms");for(var n=0;n < this.length;++n){h=this.get(n);k.trace(("TrackFragments: ").concat(n,": [").concat(h.Ka.G,"-").concat(h.Ua.G,"]"));}};g.prototype.Jpb=function(){for(var n=0,h=0;h < this.length;h++){n=Math.max(this.Lq[h],n);}return this.mRa=n;};return g;})();b.ega=a;b.Qv=c;c(a.prototype.ll);c(a.prototype.ET);c(a.prototype.ef);b.dvb=function(g){return ("[").concat(Array(g.length).map(function(n,h){return g[h].toString();}).join(","),"]");};},85177:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.OQ=void 0;r=(function(){function a(c){this.fSa=c;}Object.defineProperties(a.prototype,{oM:{get:function(){return this.Sqb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.fSa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{G1b:{get:function(){var c;c=this;return this.fSa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.Sqb=!0;};a.prototype.fN=function(c,l){var f;f=this;this.result.then(function(k){f.oM?l && l(k):c(k);});return this;};return a;})();b.OQ=r;},56742:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},52E3:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},62558:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(5163);l=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);return k;})(Error);b.assert=function(f,k){var d;if(!f){d=new l(k || "Assertion failed");a(22209).wq.T.error("Assertion failed",{value:f,message:k,stack:d.stack});throw d;}};},89659:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.eva=void 0;c=a(27364);b.eva=function(l){switch(l){case c.eb.ee:l=c.Sc.ee;break;case c.eb.$j:l=c.Sc.$j;break;case c.eb.Jn:case c.eb.Fs:case c.eb.k1:l=c.Sc.Fs;break;default:l=c.Sc.yl;}return l;};},19114:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.CP=void 0;b.CP=(function(){function a(){}a.n7=function(c,l){var d;function f(g){return k(d++)(g,f);}function k(g){return g >= l.length?function(){throw Error(("The last delegate in the chain should not invoke next() nextDelegateIndex ").concat(g));}:l[g];}d=0;return f(c);};return a;})();},95971:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.r1=void 0;r=a(57055);c=a(42866);a=a(55011);l=(function(){function f(k){void 0 === k && (k={li:!1,currentTime:c.L.Ia,speed:1});this.Ya={li:function(){return "function" === typeof k.li?k.li():k.li;},currentTime:function(){return "function" === typeof k.currentTime?k.currentTime():k.currentTime;},speed:function(){return "function" === typeof k.speed?k.speed():k.speed;}};}Object.defineProperties(f.prototype,{li:{get:function(){return this.Ya.li();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{currentTime:{get:function(){return this.Ya.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{speed:{get:function(){return this.Ya.speed();},enumerable:!1,configurable:!0}});return f;})();b.r1=l;(0,a.Ek)(r.EventEmitter,l);},13870:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.TXa=void 0;b.TXa=function(a){return JSON.parse(JSON.stringify(a));};},91219:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.rDa=void 0;c=a(5163);a(62558);r=(function(){function l(f,k){this.$c=f;this.NJ=k;this.xx();}Object.defineProperties(l.prototype,{length:{get:function(){return this.vA;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{empty:{get:function(){return 0 === this.vA;},enumerable:!1,configurable:!0}});l.prototype.UIb=function(){return this.VJ && this.VJ.get(0);};l.prototype.hwb=function(){return this.KJ && this.KJ.get(this.KJ.length - 1);};l.prototype.get=function(f){0 > f && (f+=this.length);for(var k=0;k < this.$c.length;++k){if(this.bk[k + 1] > f)return this.$c[k].get(f - this.bk[k]);}};l.prototype.push=function(f){this.$c[this.NJ(f)].push(f);this.xx();return this.vA;};l.prototype.shift=function(){var f;if(this.VJ){f=this.VJ.shift();this.xx();return f;}};l.prototype.pop=function(){var f;if(this.KJ){f=this.KJ.pop();this.xx();return f;}};l.prototype.unshift=function(f){this.$c[this.NJ(f)].unshift(f);this.xx();return this.vA;};l.prototype.Ht=function(f){var k;k=this.NJ(f);this.$c[k].Ht(f);this.xx();};l.prototype.remove=function(f){var k;k=this.$c.some(function(d){return d.remove(f);});k && this.xx();return k;};l.prototype.splice=function(f,k){var q,u,t,w;for(var d,g=[],n=2;n < arguments.length;n++){g[n - 2]=arguments[n];}n=[];for(var h,m=f + Math.max(0,k),p=0;p < this.$c.length;++p){q=this.$c[p];u=this.bk[p];t=this.bk[p + 1];if(f < t){w=f - u;u=Math.min(m - u,q.length);void 0 === h && 0 < w && u < q.length?Array.prototype.push.apply(n,q.splice.apply(q,c.__spreadArray([w,u - w],c.__read(g),!1))):(Array.prototype.push.apply(n,q.splice(w,u - w)),void 0 === h && (h=0 < p && 0 === w?p - 1:p));f=t;if(f >= m)break;}}if(g.length && void 0 !== h){for(m=this.NJ(g[0]);0 < h && m < h && this.$c[h].empty;){--h;}for(;g.length && m === h;){this.$c[h].push(g.shift());if(!g.length)break;m=this.NJ(g[0]);}for(;g.length && ++h < this.$c.length && this.$c[h].empty;){for(;g.length && m === h;){this.$c[h].push(g.shift());if(!g.length)break;m=this.NJ(g[0]);}}g.length && (d=this.$c[h]).splice.apply(d,c.__spreadArray([0,0],c.__read(g),!1));}this.xx();return n;};l.prototype.find=function(f){var k,d;k=this;return this.$c.some(function(g,n){d=g.find(k.HA(f,n));return void 0 !== d;})?d:void 0;};l.prototype.findIndex=function(f){var d;for(var k=0;k < this.$c.length;++k){d=this.$c[k].findIndex(this.HA(f,k));if(-1 !== d)return d + this.bk[k];}return -1;};l.prototype.indexOf=function(f){var d;for(var k=0;k < this.$c.length;++k){d=this.$c[k].indexOf(f);if(-1 !== d)return d + this.bk[k];}return -1;};l.prototype.map=function(f){var k,d;k=this;d=this.$c.map(function(g,n){return g.map(k.HA(f,n));});return Array.prototype.concat.apply([],d);};l.prototype.reduce=function(f,k){var d;d=this;return this.$c.reduce(function(g,n,h){return n.reduce(d.dtb(f,h),g);},k);};l.prototype.forEach=function(f){var k;k=this;this.$c.forEach(function(d,g){d.forEach(k.HA(f,g));});};l.prototype.DL=function(f){for(var k=this.$c.length - 1;0 <= k;--k){this.$c[k].DL(this.HA(f,k));}};l.prototype.some=function(f){var k;k=this;return this.$c.some(function(d,g){return d.some(k.HA(f,g));});};l.prototype.oya=function(f){for(var k=this.$c.length - 1;0 <= k;--k){if(this.$c[k].oya(this.HA(f,k)))return !0;}return !1;};l.prototype.every=function(f){var k;k=this;return this.$c.every(function(d,g){return d.every(k.HA(f,g));});};l.prototype.oIb=function(f,k){var m,p;function d(q){return q.reduce(function(u,t,w,v){return void 0 === t?u:void 0 === u?w:0 > f(t,v[u])?w:u;},void 0);}for(var g=this,n=this.$c.map(function(){return 0;}),h=this.$c.filter(function(q){return q.empty;}).length;h < this.$c.length;){m=n.map(function(q,u){return q < g.$c[u].length?g.$c[u].get(q):void 0;});p=d(m);k(m[p],this.bk[p] + n[p],this);++n[p];n[p] === this.$c[p].length && ++h;}};l.prototype.move=function(f){return this.remove(f)?(this.Ht(f),!0):!1;};l.prototype.Z3b=function(){var f;if(this.$c[1].length){f=this.$c[1].shift();this.$c[0].push(f);this.xx();}};l.prototype.j_a=function(f){for(var k=-1,d=0;d < this.$c.length;++d){if((k=f(this.$c[d]),-1 !== k)){k+=this.bk[d];break;}}return k;};l.prototype.toJSON=function(){return this.map(function(f){return f.toJSON();});};l.prototype.xx=function(){var k;this.vA=0;this.bk=[0];this.KJ=this.VJ=void 0;for(var f=0;f < this.$c.length;++f){k=this.$c[f];this.vA+=k.length;this.bk.push(this.bk[this.bk.length - 1] + k.length);!this.VJ && k.length && (this.VJ=k);k.length && (this.KJ=k);}};l.prototype.HA=function(f,k){var d,g;d=this;g=this.bk[k];return function(n,h){return f(n,g + h,d);};};l.prototype.dtb=function(f,k){var d,g;d=this;g=this.bk[k];return function(n,h,m){return f(n,h,g + m,d);};};return l;})();b.rDa=r;},36344:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.sWa=void 0;c=a(5163);l=a(49730);f=a(62558);b.sWa=function(){for(var k=[],d=0;d < arguments.length;d++){k[d]=arguments[d];}l.K && (0,f.assert)(k.length);return function(g,n){var h,q,u;try{for(var m=c.__values(k),p=m.next();!p.done;p=m.next()){q=p.value;u=q(g,n);if(0 !== u)return u;}}catch(w){var t;t={error:w};}finally{try{p && !p.done && (h=m.return) && h.call(m);}finally{if(t)throw t.error;}}return 0;};};},7977:function(r,b,a){function c(l,f){this.iia=l;this.Tn=Math.floor((l + f - 1) / f);this.zh=f;this.reset();}a(62558);c.prototype.shift=function(){this.Ii.shift();this.gv.shift();};c.prototype.Ut=function(l){return this.ZUa(this.Ii[l],l);};c.prototype.update=function(l,f){this.Ii[l]=(this.Ii[l] || 0) + f;};c.prototype.push=function(){this.Ii.push(0);this.gv.push(0);this.dc+=this.zh;};c.prototype.add=function(l,f,k){var d,g,n;if(null === this.dc){d=Math.max(Math.floor((k - f + this.zh - 1) / this.zh),1);for(this.dc=f;this.Ii.length < d;){this.push();}}for(;this.dc <= k;){this.push();this.Ii.length > this.Tn && this.shift();}if(null === this.Kn || f < this.Kn)this.Kn=f;if(f > this.dc - this.zh)this.update(this.Ii.length - 1,l);else if(f == k)(d=this.Ii.length - Math.max(Math.ceil((this.dc - k) / this.zh),1),0 <= d && this.update(d,l));else for(d=1;d <= this.Ii.length;++d){g=this.dc - d * this.zh;n=g + this.zh;if(!(g > k)){if(n < f)break;this.update(this.Ii.length - d,Math.round(l * (Math.min(n,k) - Math.max(g,f)) / (k - f)));}}for(;this.Ii.length > this.Tn;){this.shift();}};c.prototype.start=function(l){null === this.Kn && (this.Kn=l);null === this.dc && (this.dc=l);};c.prototype.stop=function(l){var f,k;if(null !== this.dc)if(l - this.dc > 10 * this.iia)this.reset();else {for(;this.dc <= l;){this.push();this.Ii.length > this.Tn && this.shift();}f=this.Ii.length - Math.ceil((this.dc - this.Kn) / this.zh);k=this.Ii.length - Math.ceil((this.dc - l) / this.zh);if(0 <= k)if((0 > f && (this.Kn=this.dc - this.zh * this.Ii.length,f=0),f === k))this.gv[f]+=l - this.Kn;else if(k > f)for((this.gv[f]+=(this.dc - this.Kn) % this.zh,this.gv[k]+=this.zh - (this.dc - l) % this.zh,l=f + 1);l < k;++l){this.gv[l]=this.zh;}this.Kn=null;}};c.prototype.ZUa=function(l,f){f=this.Vna(f);return 0 === f?null:8 * l / f;};c.prototype.Vna=function(l){var f;f=this.gv[l];null !== this.Kn && (l=this.dc - (this.Ii.length - l - 1) * this.zh,l > this.Kn && (f=l - this.Kn <= this.zh?f + (l - this.Kn):this.zh));return f;};c.prototype.get=function(l,f){var k,d;k=this.Ii.map(this.ZUa,this);if("last" === l)for(l=0;l < k.length;++l){null === k[l] && (k[l]=0 < l?k[l - 1]:0);}else if("average" === l){f=1 - Math.pow(.5,1 / ((f || 2E3) / this.zh));for(l=0;l < k.length;++l){null === k[l]?k[l]=Math.floor(d || 0):d=void 0 !== d?f * k[l] + (1 - f) * d:k[l];}}return k;};c.prototype.reset=function(){this.zec || (this.Ii=[],this.gv=[],this.Kn=this.dc=null);};c.prototype.setInterval=function(l){this.Tn=Math.floor((l + this.zh - 1) / this.zh);};r.exports=c;},34039:function(r,b,a){var l;function c(f,k,d){var g,h,m;if(f === k || !d.im && f == k)return !0;if(typeof f !== typeof k)return !1;if(f && "object" === typeof f){for(var n in f){if(!c(f[n],k[n],d))return !1;}if(!d.ryb){h=Object.keys(f);m=Object.keys(k).filter(function(t){return 0 > h.indexOf(t);});try{for(var p=l.__values(m),q=p.next();!q.done;q=p.next()){if((n=q.value,!c(f[n],k[n],d)))return !1;}}catch(t){var u;u={error:t};}finally{try{q && !q.done && (g=p.return) && g.call(p);}finally{if(u)throw u.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.C4=void 0;l=a(5163);b.C4=function(f,k,d){void 0 === d && (d={});d=l.__assign({im:!1,ryb:!1},d);return c(f,k,d);};},78522:function(r,b){function a(c){var l,f;l=Math.abs(c);f=1 / (1 + l / 2);l=f * Math.exp(-l * l - 1.26551223 + f * (1.00002368 + f * (.37409196 + f * (.09678418 + f * (-.18628806 + f * (.27886807 + f * (-1.13520398 + f * (1.48851587 + f * (-.82215223 + .17087277 * f)))))))));return 0 <= c?l:2 - l;}Object.defineProperties(b,{__esModule:{value:!0}});b.DGb=b.r3a=b.tL=void 0;b.tL=a;b.r3a=function(c){var l,f,d;if(2 <= c)return -100;if(0 >= c)return 100;l=1 > c?c:2 - c;f=Math.sqrt(-2 * Math.log(l / 2));f=-.70711 * ((2.30753 + .27061 * f) / (1 + f * (.99229 + .04481 * f)) - f);for(var k=0;2 > k;k++){d=a(f) - l;f+=d / (1.1283791670955126 * Math.exp(-(f * f)) - f * d);}return 1 > c?f:-f;};b.DGb=function(c){return 1 - a(c);};},35303:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.kFa=void 0;c=a(5163);r=(function(){function f(k,d){void 0 === d && (d={});this.co=k;this.options=d;this.JF=[];this.sG=new l(k,this.Ptb.bind(this));}f.prototype.Ptb=function(k){for(var d,g,n,h,m,p,q=[],u=1;u < arguments.length;u++){q[u - 1]=arguments[u];}q={er:k,up:q};(null !== (n=null === (g=(d=this.options).l4b) || void 0 === g?void 0:g.call(d,q,this.JF)) && void 0 !== n?n:1) && this.JF.push(q);return null !== (p=null === (m=(h=this.options).Ejc) || void 0 === m?void 0:m.call(h,q)) && void 0 !== p?p:!0;};f.prototype.H$=function(k){this.JF=this.JF.filter(function(d,g){return !k(d,g);});};f.prototype.rwa=function(){var k;k=this;this.sG.Jza();this.JF.forEach(function(d){var g;(g=k.co).emit.apply(g,c.__spreadArray([d.er],c.__read(d.up),!1));});this.sG.c4a();};Object.defineProperties(f.prototype,{length:{get:function(){return this.JF.length;},enumerable:!1,configurable:!0}});f.prototype.clear=function(){this.JF=[];};f.prototype.Oa=function(){this.clear();this.sG.Jza();this.options=void 0;};return f;})();b.kFa=r;l=(function(){function f(k,d){this.co=k;this.ft=d;this.d9a=this.co.emit;this.$Bb();this.c4a();}f.prototype.$Bb=function(){var k;k=this;this.sG=function(d){for(var g,n,h=[],m=1;m < arguments.length;m++){h[m - 1]=arguments[m];}return (null === (n=k.ft) || void 0 === n?0:n.call.apply(n,c.__spreadArray([k,d],c.__read(h),!1)))?(g=k.d9a).call.apply(g,c.__spreadArray([k.co,d],c.__read(h),!1)):!1;};};f.prototype.c4a=function(){this.sG && (this.co.emit=this.sG);};f.prototype.Jza=function(){this.co.emit=this.d9a;};f.prototype.Oa=function(){this.Jza();this.ft=this.sG=void 0;};return f;})();},44797:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(78522);r=(function(){function l(f,k){this.Ca=f;this.Ne=k;}l.prototype.lVa=function(f){return .5 * (0,c.tL)(-(f - this.Ca) / Math.sqrt(2 * this.Ne));};l.prototype.ew=function(f){return this.Ca - Math.sqrt(2 * this.Ne) * (0,c.r3a)(2 * f);};return l;})();b["default"]=r;},44602:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.L6=void 0;b.L6=function(a){return ("( ").concat(a.I,", ").concat(a.offset.qb()," )");};},93514:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Fp=void 0;c=a(5163);l=a(42866);b.Fp=function(f,k,d,g){var n,h,m,u,t,w;void 0 === g && (g={});m=l.L.max(d,l.L.Ia);try{for(var p=c.__values(Object.keys(f.O)),q=p.next();!q.done;q=p.next()){u=q.value;t=f.O[u];if(t.J === k){w=l.L.Na(t.ta);if(m.ji(w) && (!isFinite(null !== (h=t.va) && void 0 !== h?h:NaN) || m.lessThan(l.L.Na(t.va))))return {I:u,offset:d.qa(w)};}}}catch(y){var v;v={error:y};}finally{try{q && !q.done && (n=p.return) && n.call(p);}finally{if(v)throw v.error;}}if(g.bcb && (t=Object.keys(f.O).map(function(y){return {key:y,v:f.O[y]};}).filter(function(y){return y.v.J === k;}).map(function(y){var x,z;x=l.L.abs(d.qa(l.L.Na(y.v.ta)));if(y.v.va && isFinite(y.v.va)){z=l.L.abs(d.qa(l.L.Na(y.v.va)));x=l.L.min(x,z);}return c.__assign(c.__assign({},y),{ao:x});}),t.sort(function(y,x){return y.ao.G - x.ao.G;}),w=c.__read(t,1)[0]))return (t=w.v,g=w.key,w=l.L.Na(t.ta),{I:g,offset:d.qa(w)});};},97810:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gob=b.EFa=void 0;r=a(5163);r.__exportStar(a(53265),b);r.__exportStar(a(99982),b);r.__exportStar(a(73151),b);r.__exportStar(a(44119),b);r.__exportStar(a(13870),b);r.__exportStar(a(34039),b);r.__exportStar(a(83886),b);r.__exportStar(a(57578),b);r.__exportStar(a(64921),b);c=r.__importDefault(a(44797));b.EFa=c.default;a=r.__importDefault(a(26208));b.gob=a.default;},34238:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.x0=void 0;c=a(78522);r=(function(){function l(f,k){this.gta=f;this.Ne=k;0 < k?(this.m5a=k=Math.pow(f,3) / k,f=2 * k / f,500 >= f && (this.ana=Math.exp(f))):this.ana=0;}l.prototype.lVa=function(f){var k,d,g;k=this.gta;d=this.ana;if(d && 0 < f){g=Math.sqrt(this.m5a / (2 * f));k=f / k;f=(0,c.tL)(g * (k - 1));g=(0,c.tL)(g * (k + 1));return Math.max((2 - f + d * g) / 2,0);}return f < k?0:f > k?1:.5;};l.prototype.ew=function(f,k,d){for(var g=0,n=this.gta + 5 * Math.sqrt(this.Ne),h=1,m=0;Math.abs(h) > k && d--;){m=(g + n) / 2;h=this.lVa(m);h=f - h;0 > h?n=m:g=m;}return m;};l.prototype.Wxb=function(f){var k,d,g,n;k=this.gta;d=this.ana;if(d && 0 < f){g=Math.sqrt(this.m5a / (2 * f));n=f / k;f=2 - (0,c.tL)(g * (n - 1));d*=(0,c.tL)(g * (n + 1));return [Math.max((f + d) / 2,0),Math.max(k * (f - d) / 2,0)];}return f < k?[0,0]:f > k?[1,k]:[.5,k / 2];};return l;})();b.x0=r;},89847:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Dk=b.q5a=void 0;b.q5a=function(a){var c,l;c=a.next();do {if(!c.done)l=c.value;c=a.next();}while(!c.done);return l;};b.Dk=function(a){if(Array.isArray(a))return a;for(var c=[],l=a.next();!l.done;){c.push(l.value);l=a.next();}return c;};},64921:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jsa=void 0;b.jsa=function(a){var c,l,f,k,d,g;g=null === (c=a.v) || void 0 === c?void 0:c.id;return {kb:null === (l=a.Cb) || void 0 === l?void 0:l.G,duration:(null === (f=a.Hb) || void 0 === f?NaN:f.G) - (null === (k=a.Cb) || void 0 === k?NaN:k.G),offset:a.offset,xa:a.xa,bitrate:a.bitrate,profile:a.profile,Ke:!!a.Ke,I:g,Pb:a.Pb,Rc:a.Rc,location:a.location,Wi:a.Wi,Zq:null === (d=a.Ka) || void 0 === d?void 0:d.G,Vt:{Sa:{v:{id:g || "unknown"}}}};};},93079:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.SUa=void 0;c=a(74251);l=a(60829);b.SUa=function(){return function(f){var g,n,h,m;function k(p){m[p]=function(q){return n({rules:[{Mj:p,config:q}]},!0);};}function d(p){g[p]=function(q){return n({rules:[{Mj:p,config:q}]});};}g={};n=(0,c.map)(f.B6a);for(h in f.cO){d(h);}g.r9=n({rules:[],Ria:!0});g.im=n({rules:[],im:!0});m={};for(h in f.cO){k(h);}m.r9=n({rules:[],Ria:!0},!0);m.im=n({rules:[],im:!0},!0);g.return=m;return {Qla:g,Swa:f,Gva:function(p,q,u,t){return (0,l.jXa)(p,q,u,f.cO,f.B6a,t);}};};};},74251:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Obb=b.q1a=b.map=void 0;c=a(5163);a(53110);b.map=function(l){return function(f,k){void 0 === k && (k=!1);return function(d,g,n){var h,m,p,q,u,t,w,v;u=Reflect.G1a(l,d,g) || ({});w="number" === typeof n;v=k;(t=w?null !== (m=(null !== (h=u.wb) && void 0 !== h?h:{})[n]) && void 0 !== m?m:{}:v?u.return:u.Psa) || (t={rules:[]});h=c.__assign(c.__assign(c.__assign({},t),f),{rules:c.__spreadArray(c.__spreadArray([],c.__read(null !== (p=t.rules) && void 0 !== p?p:[]),!1),c.__read(null !== (q=f.rules) && void 0 !== q?q:[]),!1)});w?(u.wb || (u.wb={}),u.wb[n]=h):v?u.return=h:u.Psa=h;Reflect.G4(l,u,d,g);};};};b.q1a=function(l){return function(f,k){var d,g,n,h;f=null !== (h=null !== (g=null === (d=f.__proxyCtor) || void 0 === d?void 0:d.prototype) && void 0 !== g?g:null === (n=null === f || void 0 === f?void 0:f.constructor) || void 0 === n?void 0:n.prototype) && void 0 !== h?h:f;for(var m;f && void 0 === m;){m=Reflect.G1a(l,f,k);f=f.__proto__;}return m;};};b.Obb=function(){return function(){return function(l){return l;};};};},60829:function(r,b,a){var d,g,n,h,m;function c(p,q){if(p)return Object.getOwnPropertyDescriptor(p,q)?p:c(p.prototype,q) || c(p.__proto__,q);}function l(p,q){if(p=c(p,q))return Object.getOwnPropertyDescriptor(p,q);}function f(p,q){var w;for(var u=Object.getPrototypeOf(p),t=[];u !== Object.prototype;){t=t.concat(Object.getOwnPropertyNames(u));u=Object.getPrototypeOf(u);}p=Object.keys(p).concat(t);q.__proxyCtor || (q.__proxyCtor=void 0);w=Object.getPrototypeOf(q);p.forEach(function(v){Object.getOwnPropertyDescriptor(q,v) || Object.getOwnPropertyDescriptor(w,v) || q[v] || Object.defineProperty(q,v,{get:function(){},configurable:!0,enumerable:!0});});}function k(p,q,u,t){var y;for(var w=[],v=4;v < arguments.length;v++){w[v - 4]=arguments[v];}y=t();if((null === y || void 0 === y?0:y.Psa) || (null === y || void 0 === y?0:y.wb))w=w.map(function(x,z){var A;z=(0,m.l7a)(y.Psa,null === (A=y.wb) || void 0 === A?void 0:A[z]);return (0,h.V$)(q,x,u,z);});w=p.call.apply(p,d.__spreadArray([void 0],d.__read(w),!1));return (null === y || void 0 === y?0:y.return)?(0,h.V$)(q,w,u,y.return,n.Iu.Lza):w;}Object.defineProperties(b,{__esModule:{value:!0}});b.XIb=b.QDb=b.jXa=void 0;d=a(5163);g=a(74251);n=a(91795);h=a(28445);m=a(23646);b.jXa=function(p,q,u,t,w,v){var y,x;void 0 === v && (v=[]);y={};x=(0,g.q1a)(w);f(q,p);v.forEach(function(z){return f(z,p);});return new Proxy(p,{get:function(z,A){var B,C,D,E;if("__proxyCtor" === A)return null !== (B=p[A]) && void 0 !== B?B:p.constructor;if((A in q)){E=q[A];return "function" === typeof E?E.bind(q):E;}B=y[A];if(!B && !l(y,A)){B=null !== (D=null === (C=null === z || void 0 === z?void 0:z.constructor) || void 0 === C?void 0:C.prototype) && void 0 !== D?D:z;C=null !== (E=c(B,A)) && void 0 !== E?E:c(B.__proxyCtor,A);E=l(B,A);if(null === E || void 0 === E?0:E.get)return (E=E.get,C=x.bind(null,C,A),z=k.bind(z,E.bind(z),u,t,C),Object.defineProperty(y,A,{get:z,enumerable:!0,configurable:!0}),z());E=z[A];return "function" === typeof E?(C=x.bind(null,z,A),z=k.bind(z,E.bind(z),u,t,C),y[A]=z):E;}return B;},set:function(z,A,B){if((A in q))return (q[A]=B,!0);z[A]=B;delete y[A];return !0;}});};b.QDb=f;b.XIb=k;},91795:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Iu=void 0;r=b.Iu || (b.Iu={});r[r.Lza=0]="up";r[r.qT=1]="down";},28445:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.V$=void 0;c=a(5163);l=a(62558);f=a(91795);b.V$=function(k,d,g,n,h,m){var p,q;void 0 === h && (h=f.Iu.qT);p=k();if(n && p){q=n.Ria;k=n.im;n=n.rules.map(function(u){return ["function" === typeof u.Mj?u.Mj(g):g[u.Mj],u.config];});q || (0,l.assert)(d,"Param is null");m && n.push([{map:m,Mx:function(){return !0;}},void 0]);m=n.filter(function(u){u=c.__read(u,2);return u[0].Mx(d,p,u[1]);});k && (0,l.assert)(m.length,("No rules matched for ").concat(d));if(m.length)return m.reduce(function(u,t){t=c.__read(t,2);return t[0].map(u,h,p,t[1]);},d);}return d;};},23646:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.l7a=void 0;c=a(5163);l=a(42866);b.l7a=function(f,k){var d;if(f || k){d=(null === f || void 0 === f?0:f.rules) && (null === k || void 0 === k?0:k.rules)?(0,l.rK)(f.rules,k.rules):(null === f || void 0 === f?void 0:f.rules) || (null === k || void 0 === k?void 0:k.rules);return c.__assign(c.__assign(c.__assign({},f),k),{rules:d});}};},99982:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.KJa=void 0;c=a(42866);l=a(62558);r=(function(){function f(){this.data={};}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{size:{get:function(){var k;k=this;return Object.keys(this.data).reduce(function(d,g){return d + k.data[g].length;},0);},enumerable:!1,configurable:!0}});f.prototype.get=function(k){var d;return null !== (d=this.data[k]) && void 0 !== d?d:[];};f.prototype.has=function(k,d){return (k=this.data[k])?void 0 === d?!0:-1 !== k.indexOf(d):!1;};f.prototype.count=function(k){return (k=this.data[k])?k.length:0;};f.prototype.keys=function(){return Object.keys(this.data);};f.prototype.values=function(){var k;k=this;return (0,c.flatten)(this.keys().map(function(d){return k.data[d];}));};f.prototype.set=function(k,d){(this.data[k] || (this.data[k]=[])).push(d);return this;};f.prototype.clear=function(){this.data={};};f.prototype.delete=function(k,d){var g,n;g=this.data[k];if(void 0 === g)return !1;if(void 0 === d)return ((0,l.assert)(1 === arguments.length),delete this.data[k],!0);n=g.indexOf(d);if(-1 === n)return !1;1 === g.length?delete this.data[k]:g.splice(n,1);return !0;};f.prototype.forEach=function(k,d){var g;g=this;k=void 0 !== d?k.bind(d):k;this.keys().forEach(function(n){return g.data[n].forEach(function(h){return k(h,n,g);});});};f.prototype.reduce=function(k,d,g){var n,h;n=this;k=void 0 !== g?k.bind(g):k;h=d;this.forEach(function(m,p){h=k(h,m,p,n);});return h;};f.prototype.map=function(k,d){var g;g=this;k=void 0 !== d?k.bind(d):k;return (0,c.flatten)(this.keys().map(function(n){return g.data[n].map(function(h){return k(h,n,g);});}));};f.prototype.filter=function(k,d){var g;g=this;k=void 0 !== d?k.bind(d):k;return (0,c.flatten)(this.keys().map(function(n){return g.data[n].filter(function(h){return k(h,n,g);});}));};return f;})();b.KJa=r;},86786:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Y3a=void 0;c=a(5163);b.Y3a=function(l,f){var n,h,m,p,q,u,t,y,x,z,A,B,C,D;for(var k,d,g=0;g < l.length;g++){n=c.__read(f,3);h=n[0];m=n[1];p=n[2];q=c.__read(l[g],3);u=q[0];n=q[1];t=q[2];if(!(h >= n)){h=[h,Math.min(n,m),u,n].filter(function(E,G,F){return F.indexOf(E) === G;}).sort(function(E,G){return E - G;});u=h.length - 1;q=Array(u);p+=t;try{for(var w=(k=void 0,c.__values([f,l[g]])),v=w.next();!v.done;v=w.next()){y=c.__read(v.value,3);x=y[0];z=y[1];A=y[2];t=z - x;for(f=0;f < u;f++){B=h[f + 1];C=Math.min(B,z) - Math.max(h[f],x);if(0 < C){D=C * A / t;p-=D;q[f]=q[f]?q[f] + D:D;}if(z <= B)break;}}}catch(E){k={error:E};}finally{try{v && !v.done && (d=w.return) && d.call(w);}finally{if(k)throw k.error;}}t=[];for(f=0;f < u;f++){A=q[f];0 < A && t.push([h[f],h[f + 1],A]);}l.splice.apply(l,c.__spreadArray([g,1],c.__read(t),!1));if(n < m)f=[n,m,p];else return;}}f && 0 < f[2] && l.splice(l.length,0,f);};},26208:function(r){function b(a){this.hrb=a;this.FE=[];this.GA=!1;this.Zha=void 0;this.Am={};}b.prototype.gTa=function(a){this.FE.length === this.hrb && this.FE.shift();Array.isArray(a)?this.FE=this.FE.concat(a):this.FE.push(a);this.GA=!0;};b.prototype.yU=function(){return this.FE.length;};b.prototype.DK=function(a){var c,l,f;if(this.GA || void 0 === this.Zha)(this.Zha=this.FE.slice(0).sort(function(k,d){return k - d;}),this.Am={},this.GA=!1);if(void 0 === this.Am[a]){c=this.Zha;l=Math.floor(a / 100 * (c.length - 1) + 1) - 1;f=(a / 100 * (c.length - 1) + 1) % 1;this.Am[a]=l === c.length - 1?c[l]:c[l] + f * (c[l + 1] - c[l]);}return this.Am[a];};r.exports=b;},57206:function(r,b){var l,f,k;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.fQa);}function c(d){return (a(d)?d:Object.defineProperties(d,{fQa:{value:{},configurable:!1,enumerable:!1}})).fQa;}Object.defineProperties(b,{__esModule:{value:!0}});b.Bfa=void 0;f=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;k=Date.now() % f;r=(function(){function d(){this.id=k=(k + 1) % f;}d.prototype.get=function(g){return a(g)?c(g)[this.id]:void 0;};d.prototype.set=function(g,n){c(g)[this.id]=n;return this;};d.prototype.has=function(g){return a(g) && void 0 !== c(g)[this.id];};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};return d;})();b.Bfa=r;},26973:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Aob=void 0;c=a(12043);l=a(22209);f=["","",""];r=(function(){function k(d){this.request=d;this.complete=this.append=this.G5=this.Jra=this.open=0;}Object.defineProperties(k.prototype,{console:{get:function(){return l.wq.Hv(this.request.mediaType);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xwa:{get:function(){var d;return null === (d=this.request.Md) || void 0 === d?void 0:d.G;},enumerable:!1,configurable:!0}});k.prototype.uWb=function(){this.open=c.platform.time.wa();};k.prototype.oWb=function(){this.Jra=c.platform.time.wa();this.Dx();};k.prototype.kWb=function(){this.G5=c.platform.time.wa();this.Dx();};k.prototype.fN=function(){this.complete=c.platform.time.wa();this.Dx();};k.prototype.Dx=function(){var d;d=("RequestLedger ID: ").concat(this.request.Wi());d+=(" load-open: ").concat(this.Jra - this.open);0 < this.G5 && (" firstbyte-load: ").concat(this.G5 - this.Jra);0 < this.append && (" append-firstbyte: ").concat(this.append - this.G5);0 < this.complete && ((" complete-open: ").concat(this.complete - this.open),d=this.request.mediaType,this.xwa && this.complete - this.open > this.xwa?((" duration: ").concat(this.xwa),f[d]+="X"):f[d]+=".",10 < f[d].length && (f[d]=f[d].slice(1)));};return k;})();b.Aob=r;},12289:function(r,b,a){var l,f,k,d,g;function c(n,h){return n.time - h.time || n.priority - h.priority || n.id - h.id;}Object.defineProperties(b,{__esModule:{value:!0}});b.tsb=b.X3=b.vaa=void 0;l=a(12043);f=a(42866);k=a(49730);d=a(62558);g=(function(){function n(){var h;h=this;this.Ko=new f.E0([],c);this.iza=0;this.console=new l.platform.Console("SETTIMEOUT");this.QGb=function(){var m,p;m=l.platform.time.wa();h.wY=void 0;k.K && h.console.trace(("[").concat(m,"] Wake"));try{for(;!h.Ko.empty && h.Ko.Ut().time <= m;){p=h.Ko.pop();k.K && h.console.trace(("[").concat(l.platform.time.wa(),"] Executing p").concat(p.priority," timer ").concat(p.id," scheduled for ").concat(p.time));p.ft();}}finally{h.gxa();}};}Object.defineProperties(n,{instance:{get:function(){return n.Os || (n.Os=new n());},enumerable:!1,configurable:!0}});n.Sha=function(){(0,d.assert)(void 0 === n.Os || n.Os.Ko.empty,"Singleton SetTimeoutWithPriority reset with pending timers");n.Os=void 0;};n.prototype.vaa=function(h,m,p){var q,u,t;(0,d.assert)(isFinite(m) && 0 <= m);q=this.Ko;u=l.platform.time.wa();t=u + m;q.push({id:++this.iza,time:t,priority:p,ft:h});k.K && this.console.trace(("[").concat(u,"] New p").concat(p," timer ").concat(this.iza," scheduled for ").concat(t," in ").concat(m,"ms"));this.gxa();return this.iza;};n.prototype.X3=function(h){var m,p,q;m=this.Ko;p=m.find(function(u){return u.id === h;});if(p){q=m.Ut().time;m.remove(p);k.K && this.console.trace(("[").concat(l.platform.time.wa(),"] Removing timer ").concat(p.id," scheduled for ").concat(p.time));(m.empty || m.Ut().time > q) && this.gxa();}};n.prototype.TVa=function(){this.wY && (clearTimeout(this.wY.id),k.K && this.console.trace(("[").concat(l.platform.time.wa(),"] Clearing wake timer")),this.wY=void 0);};n.prototype.gxa=function(){var h,m;m=this.Ko;m.empty?this.TVa():(m=m.Ut().time,m !== (null === (h=this.wY) || void 0 === h?void 0:h.time) && (this.TVa(),h=Math.max(0,m - l.platform.time.wa()),k.K && this.console.trace(("[").concat(l.platform.time.wa(),"] Setting wake timer for ").concat(m," in ").concat(h,"ms")),this.wY={id:setTimeout(this.QGb,h),time:m}));};return n;})();b.vaa=function(n,h,m){return g.instance.vaa(n,h,m);};b.X3=function(n){g.instance.X3(n);};b.tsb=function(){g.Sha();};},44119:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gOa=b.fOa=void 0;c=a(42866);r=(function(){function l(f){this.Qa=f;this.listeners=[];this.BW=[];}Object.defineProperties(l.prototype,{value:{get:function(){return this.Qa;},enumerable:!1,configurable:!0}});l.prototype.set=function(f){var k;this.Qa=f;k=this.BW;this.BW=[];this.listeners.forEach(function(d){return d(f);});k.forEach(function(d){return d(f);});};l.prototype.Abb=function(){this.Qa=void 0;};l.prototype.on=function(f){this.listeners=this.listeners.concat([f]);void 0 !== this.Qa && f(this.Qa);};l.prototype.once=function(f){void 0 !== this.Qa?f(this.Qa):this.BW.push(f);};l.prototype.Lr=function(f){this.listeners=this.listeners.filter(function(k){return k !== f;});this.BW=this.BW.filter(function(k){return k !== f;});};return l;})();b.fOa=r;r=(function(){function l(){this.listeners=[];}l.prototype.on=function(f,k){this.listeners.push({signal:f,listener:k});f.on(k);};l.prototype.once=function(f,k){var d,g;d=this;if(void 0 === f.value){g=function(n){d.remove(f,k);k(n);};this.listeners.push({signal:f,listener:k,Dhb:g});f.once(g);}else f.once(k);};l.prototype.Lr=function(f,k){var d;d=(0,c.ec)(this.listeners,function(g){return g.signal === f && g.listener === k;});void 0 !== d && f.Lr(d.Dhb || d.listener);this.remove(f,k);};l.prototype.removeAllListeners=function(){this.listeners.forEach(function(f){var k;k=f.listener;return f.signal.Lr(f.Dhb || k);});this.listeners=[];};l.prototype.remove=function(f,k){this.listeners=this.listeners.filter(function(d){return d.signal !== f || d.listener !== k;});};return l;})();b.gOa=r;},74037:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.HQ=void 0;c=a(5163);l=a(83886);r=(function(){function f(k,d){var g;this.oQa=k;this.Dfb=d;this.Jx={other:new l.Wh(),all:new l.Wh()};try{for(var n=c.__values(k),h=n.next();!h.done;h=n.next()){this.Jx[h.value]=new l.Wh();}}catch(p){var m;m={error:p};}finally{try{h && !h.done && (g=n.return) && g.call(n);}finally{if(m)throw m.error;}}}f.Xp=function(k,d){var g,n,p;if(k === d)return k;n=new f(k.oQa,k.Dfb);try{for(var h=c.__values(Object.keys(k.Jx)),m=h.next();!m.done;m=h.next()){p=m.value;n.Jx[p]=k.Jx[p].Xp(d.Jx[p]);}}catch(u){var q;q={error:u};}finally{try{m && !m.done && (g=h.return) && g.call(h);}finally{if(q)throw q.error;}}return n;};f.prototype.Lwb=function(k){var d,g,m;k=(null === (g=this.Dfb) || void 0 === g?void 0:g.call(this,k)) || k;try{for(var n=c.__values(this.oQa),h=n.next();!h.done;h=n.next()){m=h.value;if(k < m)return m;}}catch(q){var p;p={error:q};}finally{try{h && !h.done && (d=n.return) && d.call(n);}finally{if(p)throw p.error;}}return "other";};f.prototype.push=function(k){var d,g;g=null !== (d=this.Lwb(k)) && void 0 !== d?d:"other";this.Jx[g].push(k);this.Jx.all.push(k);};f.prototype.toJSON=function(){var k,d;k=this;d={};Object.keys(this.Jx).forEach(function(g){var n;n=k.Jx[g];n.count && (d[g]=n);});return d;};return f;})();b.HQ=r;},83886:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Wh=void 0;r=(function(){function a(c){void 0 === c && (c=!1);this.OWa=c;this.count=0;this.Ca=NaN;this.nY=0;this.max=this.min=NaN;}Object.defineProperties(a.prototype,{jw:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;this.nY+=c;1 === this.count?this.Ca=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.Ca+=(c - this.Ca) / this.count);};a.prototype.toJSON=function(){return this.OWa || 0 === this.count?{count:this.count}:{min:this.min,max:this.max,average:this.Ca,count:this.count,sum:this.nY};};a.prototype.Xp=function(c){var l;if(0 === this.count)return c;if(0 === c.count)return this;l=new a(this.OWa);l.count=this.count;l.Ca=this.Ca;l.nY=this.nY;l.min=Math.min(this.min,c.min);l.max=Math.max(this.max,c.max);for(var f=0;f < c.count;f++){l.push(c.Ca);}return l;};return a;})();b.Wh=r;},53595:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.t1=void 0;c=a(12043);r=(function(){function l(){}Object.defineProperties(l.prototype,{duration:{get:function(){if(void 0 !== this.endTime)return this.endTime - this.startTime;},enumerable:!1,configurable:!0}});l.prototype.start=function(){this.reset();};l.prototype.reset=function(){this.startTime=c.platform.time.wa();this.endTime=void 0;};l.prototype.stop=function(){this.endTime=c.platform.time.wa();};return l;})();b.t1=r;},7881:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(5163);r.__exportStar(a(14644),b);r.__exportStar(a(22972),b);r.__exportStar(a(40945),b);r.__exportStar(a(96),b);r.__exportStar(a(19457),b);},14644:function(r,b,a){var c,l,f,k,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Pda=void 0;c=a(5163);l=a(42866);f=a(12043);k=a(62558);a(31549);d=a(40945);g=a(19457);r=(function(n){function h(m,p,q){p=n.call(this,p,q) || this;p.h2b=m;p.oha=!1;p.q2=!1;p.reset();return p;}c.__extends(h,n);h.prototype.reset=function(){var m,p;if(this.Ya === d.Kk.W$ || this.Ya === d.Kk.pending)null === (p=null === (m=this.QJ) || void 0 === m?void 0:m.return) || void 0 === p?void 0:p.call(m);n.prototype.reset.call(this);this.QJ=this.h2b();this.q2=!1;this.zR=g.Lg.jD(l.L.Ia);};h.prototype.rf=function(){this.reset();(0,k.assert)(this.Qn);this.Qn.EX(this);};h.prototype.g9=function(){return this.zR;};h.prototype.Cf=function(){var m,p,q,u;try{this.oha=!0;u=(null === (m=this.QJ) || void 0 === m?void 0:m.next()) || ({done:!0});}finally{this.oha=!1;this.$qb=f.platform.time.wa();this.syb();}u.done?(this.zR=g.Lg.oAa,null === (q=null === (p=this.QJ) || void 0 === p?void 0:p.return) || void 0 === q?void 0:q.call(p),this.QJ=void 0):this.zR=u.value;};h.prototype.syb=function(){this.q2 && this.mYa();};h.prototype.mYa=function(){var m,p;this.oha?this.q2=!0:(this.q2=!1,null === (p=null === (m=this.QJ) || void 0 === m?void 0:m.return) || void 0 === p?void 0:p.call(m),this.QJ=void 0);};h.prototype.Oa=function(){this.mYa();n.prototype.Oa.call(this);};h.prototype.Rl=function(){return {state:d.Kk[this.state],nextWakeup:{ms:this.zR.timestamp.G,type:g.p1[this.zR.type]},lastRunMono:this.$qb};};return h;})(d.cga);b.Pda=r;},72396:function(r,b,a){var f,k,d,g,n,h,m,p,q,u,t,w,v,y;function c(x){var z,A,B,C,D,E,G,F,J,M,L,K;A=x.sa;B=x.ft;C=x.vhb;D=x.km;E=x.priority;G=void 0 === E?0:E;E=x.hD;F=void 0 === E?!0:E;x=x.rUa;J=void 0 === x?!0:x;(0,n.assert)(A.li,("Current time: ").concat(g.platform.time.wa()," cr: ").concat(A.currentTime));(0,n.assert)(A.currentTime.isFinite());x=C.qa(A.currentTime);J && (x=l(x,null !== (z=null === D || void 0 === D?void 0:D.s9) && void 0 !== z?z:0));M=Math.max(Math.ceil(x.fw / A.speed),0);L=D || ({id:void 0,fYa:M,s9:0,VWb:M,hD:F,P3:[]});K=g.platform.time.wa();L.id=(L.hD?p.vaa:setTimeout)(function(){var P,H;P=C.qa(A.currentTime);H=g.platform.time.wa() - K - M;L.P3.push({delay:H,H4b:M});P.Iy(d.L.Ia)?B():(L.s9++,c({sa:A,ft:B,vhb:C,km:L,priority:G,hD:F,rUa:J}));},M,G);L.fYa=M;return L;}function l(x,z){return 0 < z?d.L.max(x,d.L.Na(10 * (1 << Math.min(z,6) - 1))):x;}Object.defineProperties(b,{__esModule:{value:!0}});b.Ifa=b.Pfa=void 0;f=a(5163);k=a(57055);d=a(42866);g=a(12043);n=a(62558);h=a(49730);m=a(36344);p=a(12289);q=a(83386);u=a(40945);t=a(19457);w=a(18653);v=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{uI:{get:function(){return this.aia;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{h9:{get:function(){return this.xrb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{MCb:{get:function(){return this.aqb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{daa:{get:function(){return this.ysb;},enumerable:!1,configurable:!0}});x.prototype.set=function(z,A,B){this.aqb=A === y.k9?0:g.platform.time.wa();this.xrb=z;this.ysb=A;h.K && (0,n.assert)(!this.aia,"Invalid replacement of timeout value");this.aia=B;};x.prototype.complete=function(){this.aia=void 0;this.set(d.L.Tp,y.k9);};return x;})();(function(x){x[x.k9=0]="none";x[x.aW=1]="microTask";x[x.setTimeout=2]="setTimeout";})(y=b.Pfa || (b.Pfa={}));r=(function(x){function z(A,B){var C;C=x.call(this) || this;C.sa=A;C.console=B;C.tR=!1;C.U1=!1;C.sj=new v();C.HT=new k.De();C.Ch=new d.E0([],(0,m.sWa)(function(D,E){return D.HH.Qk(E.HH);},function(D,E){return D.Qf.tc.priority - E.Qf.tc.priority;},function(D,E){return E.Qf.priority - D.Qf.priority;},function(D,E){return D.Qf.id > E.Qf.id?1:D.Qf.id < E.Qf.id?-1:0;}));C.l3(A);return C;}f.__extends(z,x);z.b3b=function(A){this.config=A;};z.AKb=function(A,B){var D,E;function C(){var G,F;G=new z(A,B);F=new q.y0(function(J){J() && (G.Oa(),D.eaa.delete(A));},B);return {tc:G,yra:F};}D=this;(0,n.assert)(this.config,"Config has not been intiialized");this.config.pVa && (this.eaa.has(A) || this.eaa.set(A,C()));E=this.eaa.get(A) || C();return {tc:E.tc,Hy:E.yra.Ws()};};Object.defineProperties(z.prototype,{Dba:{get:function(){return this.ME;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{e4b:{get:function(){return this.sa.li;},enumerable:!1,configurable:!0}});z.prototype.BFb=function(){this.ME || (this.ME=new w.lga());return this.ME;};z.prototype.Rl=function(){var A;A={hasSchedule:!!this.sj.uI,schedule:this.sj.uI && ({sleepTime:this.sj.uI.fYa,originalSleepTime:this.sj.uI.VWb,clockSkewAdjustments:this.sj.uI.s9}),nextWakeup:this.sj.h9.G,timeScheduled:this.sj.MCb,scheduleType:y[this.sj.daa],numTasks:this.Ch.length,clock:{ir:this.sa.li,ct:this.sa.currentTime.G,sp:this.sa.speed}};h.K && this.trace("audit",A);return A;};z.prototype.l3=function(A){var B;B=this;this.Yq();this.HT.clear();this.sa=A;this.HT.on(A,"stopStart",function(){return B.zH();});this.HT.on(A,"clockAdjusted",function(){return B.uW();});this.HT.on(A,"speedChanged",function(){return B.JWb();});this.uW();this.emit("clockChanged");};z.prototype.JWb=function(){this.Yq();this.zH();};z.prototype.Oa=function(){this.reset();this.tR && (this.U1=!0);this.HT.clear();this.vG=!0;};z.prototype.reset=function(){var A;this.Yq();A=this.Ch.Dk();this.Ch.clear();A.forEach(function(B){return B.Qf.Oa();});};z.prototype.rf=function(){var A;this.Yq();A=this.Ch.Dk();this.Ch.clear();A.forEach(function(B){return B.Qf.rf();});};z.prototype.uW=function(){var A,B;A=this;B=this.Ch.map(function(C){return C.Qf;});this.Yq();this.Ch.clear();B.forEach(function(C){return A.oK(C,!1);});this.zH();};z.prototype.oK=function(A,B){var C,D;void 0 === B && (B=!0);C=A.g9();D=this.lfb(C);C={Qf:A,HH:D,N$:C};h.K && this.trace(("Adding task ").concat(A.name," for ").concat(D.G," from ").concat(A.tc.name) + ("/").concat(A.tc.priority));(0,n.assert)(!this.Ch.contains(C));this.Ch.push(C);B && this.zH();};z.prototype.vba=function(A){var B,C;B=this;this.Yq();A.eu && this.Ch.map(function(D){return D;}).filter(function(D){return -1 !== A.eu.indexOf(D.Qf);}).forEach(function(D){return B.Ch.remove(D);});null === (C=A.nS) || void 0 === C?void 0:C.forEach(function(D){return B.oK(D,!1);});this.zH();};z.prototype.zH=function(){var A,B,C,D,E,G;A=this;h.K && this.trace("recheck schedule task count:" + this.Ch.length);if(this.e4b){if(this.tR)h.K && this.trace("already executing, bailing");else if(this.sj.daa === y.aW)h.K && this.trace("Already scheduled on microtask, bailing");else {C=this.sj.h9;D=this.Ch.Ut();E=(null === D || void 0 === D?void 0:D.HH) || d.L.Tp;if(E.isFinite() && E.vta(C)){if((this.Yq(!1),this.sa.currentTime.ji(E)))(this.sj.set(E,y.aW),Promise.resolve().then(function(){A.sj.daa === y.aW && (A.sj.complete(),A.Qbb({type:y.aW}));}));else {h.K && this.trace("scheduling next wake up for",{Dkc:E.G,Qf:null === D || void 0 === D?void 0:D.Qf.name,n2b:null === D || void 0 === D?void 0:D.Qf.tc.name});G=c({sa:this.sa,ft:function(){A.sj.complete();A.Qbb({type:y.setTimeout,h9:E,delay:A.sa.currentTime.qa(E),lF:G.s9,P3:G.P3});},vhb:E,priority:null !== (B=null === D || void 0 === D?void 0:D.Qf.tc.priority) && void 0 !== B?B:0,hD:!!z.config.hD,rUa:!!z.config.qUa});this.sj.set(E,y.setTimeout,G);}}else E.isFinite() || this.sj.daa !== y.setTimeout || this.Yq(!1);}}else (h.K && this.trace("should check schedule is false, stopping"),this.Yq());};z.prototype.Qbb=function(A){var B,C,D,E,G;E=0;G=null === (B=this.Ch.Ut()) || void 0 === B?void 0:B.N$;try{for((this.tR=!0,null === (C=this.ME) || void 0 === C?void 0:C.k5b(A));1E4 > E++ && this.F7b();){;}}finally{this.tR=!1;null === (D=this.ME) || void 0 === D?void 0:D.pGb(E);this.Yq();1E4 < E && !this.UNb(G)?this.error(("Task scheduler executed more than ").concat(1E4) + " iterations in same tick"):(h.K && this.trace("Next tasks",this.Ch.map(function(F){return {name:F.Qf.name,n2b:F.Qf.tc.name,Ekc:F.HH.G};})),this.zH());}};z.prototype.UNb=function(A){var B,C;C=null === (B=this.Ch.Ut()) || void 0 === B?void 0:B.N$;return A && C && A.timestamp.equal(C.timestamp) && A.type === C.type?!1:!0;};z.prototype.$Sb=function(){this.tR && (this.U1=!0);};z.prototype.F7b=function(){var A,B,C,D,E,G;D=(null === (A=this.Ch.Ut()) || void 0 === A?void 0:A.HH) || d.L.Tp;h.K && this.trace(("tryExecuteNextTask @").concat(this.sa.currentTime.G,", next wakeup at ").concat(D));A=this.sa.currentTime;if(A.ji(D)){E=this.Ch.pop();if(E){G=E.Qf;null === (B=this.ME) || void 0 === B?void 0:B.j5b({Qf:G,currentTime:A,h9:D});this.Cla=G;B=!1;h.K && this.trace("Running a task @" + A.G + ", scheduled for time:" + D.G + ("Name:").concat(G.name));try{G.dO();B=!0;E.N$=G.g9();E.HH=this.lfb(E.N$);}catch(F){throw (this.error(("Unhandled error from a task ").concat(G.name," occurred.") + " Removing the task from future executions:" + F,{stack:F.stack}),G.Oa(),F);}finally{null === (C=this.ME) || void 0 === C?void 0:C.oGb({Qf:G,Xjc:B});this.Cla=void 0;this.U1?(G.Oa(),this.U1=!1):E.HH !== d.L.Tp && G.state === u.Kk.W$ && ((0,n.assert)(!this.Ch.contains(E)),this.Ch.push(E));}return !0;}}};z.prototype.EX=function(A){this.AH(A,!1);this.oK(A);};z.prototype.AH=function(A,B){var C;void 0 === B && (B=!0);C=this.Ch.find(function(D){return D.Qf === A;});C && this.O0b(C,B);};z.prototype.O0b=function(A,B){this.Ch.remove(A);B && this.zH();};z.prototype.Yq=function(A){var B;void 0 === A && (A=!0);this.sj.uI && (A && this.emit("stopping"),A=this.sj.uI,(A.hD?p.X3:clearTimeout)(A.id),this.sj.complete(),null === (B=this.Dba) || void 0 === B?void 0:B.Yq());};z.prototype.lfb=function(A){return A.type === t.p1.absolute?A.timestamp:A.timestamp.add(this.sa.currentTime);};z.prototype.trace=function(){for(var A,B=[],C=0;C < arguments.length;C++){B[C]=arguments[C];}null === (A=this.console) || void 0 === A?void 0:A.trace.apply(A,f.__spreadArray(["RootTaskScheduler:"],f.__read(B),!1));};z.prototype.error=function(){for(var A,B=[],C=0;C < arguments.length;C++){B[C]=arguments[C];}null === (A=this.console) || void 0 === A?void 0:A.error.apply(A,f.__spreadArray(["RootTaskScheduler:"],f.__read(B),!1));};z.config={hD:!0,pVa:!0,qUa:!0};z.eaa=new WeakMap();return z;})(k.EventEmitter);b.Ifa=r;},22972:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.iOa=void 0;c=a(5163);l=a(40945);f=a(19457);r=(function(k){function d(g,n,h,m){void 0 === m && (m={});h=k.call(this,h) || this;h.jxa=g;h.ft=n;h.options=m;return h;}c.__extends(d,k);d.prototype.g9=function(){return this.Ya === l.Kk.pending?this.jxa:f.Lg.oAa;};d.prototype.Cf=function(){this.ft();};d.prototype.rf=function(){this.options.Fjc?(k.prototype.reset.call(this),this.Qn.EX(this)):this.Oa();};return d;})(l.cga);b.iOa=r;},40945:function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cga=b.Kk=void 0;c=a(19457);(function(f){f[f.pending=0]="pending";f[f.W$=1]="running";f[f.complete=2]="complete";f[f.zF=3]="destroyed";})(l=b.Kk || (b.Kk={}));r=(function(){function f(k,d){void 0 === d && (d=0);this.name=k;this.priority=d;this.Ya=l.pending;}Object.defineProperties(f.prototype,{state:{get:function(){return this.Ya;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{j4a:{get:function(){return this.Ya === l.pending || this.Ya === l.W$;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{tc:{get:function(){return this.Qn;},enumerable:!1,configurable:!0}});f.prototype.wvb=function(k){var d;null === (d=this.Qn) || void 0 === d?void 0:d.AH(this);this.Qn=k;};f.prototype.dO=function(){this.Ya=l.W$;this.Cf();this.g9() === c.Lg.oAa && (this.Ya=l.complete,this.tc.AH(this));};f.prototype.Oa=function(){var k;this.Ya=l.zF;null === (k=this.Qn) || void 0 === k?void 0:k.AH(this);};f.prototype.sVa=function(k){this.Qn.AH(this);this.Qn=k;this.Qn.EX(this);};f.prototype.Rl=function(){};f.prototype.reset=function(){this.Ya=l.pending;};return f;})();b.cga=r;},96:function(r,b,a){var c,l,f,k,d,g,n,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Pba=b.MQ=void 0;c=a(5163);l=a(57055);f=a(62558);k=a(49730);d=a(89847);g=a(14644);n=a(22972);h=a(19457);m=a(72396);r=(function(p){function q(u,t,w,v){var y;void 0 === w && (w="unknown");void 0 === v && (v=0);y=p.call(this) || this;y.sa=u;y.console=t;y.name=w;y.priority=v;y.vrb=0;y.tx=new l.De();y.Vs=new Set();y.l3(u);return y;}c.__extends(q,p);Object.defineProperties(q.prototype,{vG:{get:function(){return void 0 === this.Ok;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{bO:{get:function(){return this.Ok;},enumerable:!1,configurable:!0}});q.prototype.tXa=function(u,t){u=new (u.bind.apply(u,c.__spreadArray([void 0],c.__read(t),!1)))();u.id=this.vrb++;u.wvb(this);this.oK(u);return u;};q.prototype.$x=function(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}return this.tXa(g.Pda,u);};q.prototype.Rl=function(){var u,t;t=c.__assign(c.__assign({},null === (u=this.Ok) || void 0 === u?void 0:u.Rl()),{privateNumTasks:this.Vs.size});k.K && this.trace("audit",t);return t;};q.prototype.fB=function(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}return this.tXa(n.iOa,u);};q.prototype.ZWa=function(u,t,w){return this.$x(function(){return c.__generator(this,function(v){switch(v.label){case 0:return [4,h.Lg.jD(t)];case 1:return (v.Wa(),u(),[3,0]);case 2:return [2];}});},w);};q.prototype.l3=function(u){var t,w,v;t=this;this.Ok && this.Ok.vba({eu:(0,d.Dk)(this.Vs.values())});this.Mab();w=m.Ifa.AKb(u,this.console);v=w.tc;w=w.Hy;this.Ok=v;this.tx.clear();this.sa=u;this.tx.on(v,"stopping",function(){return t.emit("stopping");});this.wsb=w;this.Ok.vba({nS:(0,d.Dk)(this.Vs.values())});this.emit("clockChanged");};q.prototype.Oa=function(){var u;if(!this.vG){u=this.Ok.Cla && this.Vs.has(this.Ok.Cla);this.reset();u && this.Ok.$Sb();this.Mab();}};q.prototype.Mab=function(){var u;this.Ok && this.emit("rootSchedulerReleasing",{bO:this.Ok});null === (u=this.wsb) || void 0 === u?void 0:u.release();this.Ok=void 0;};q.prototype.reset=function(){var u;if(!this.vG){u=(0,d.Dk)(this.Vs.values());this.Ok.vba({eu:u});this.Vs.clear();u.forEach(function(t){return t.Oa();});}};q.prototype.rf=function(){var u;if(!this.vG){u=(0,d.Dk)(this.Vs.values());this.Ok.vba({eu:u});u.forEach(function(t){return t.rf();});}};q.prototype.oK=function(u,t){void 0 === t && (t=!0);this.Vs.add(u);this.Ok.oK(u,t);};q.prototype.EX=function(u){(0,f.assert)(u.tc === this);this.vG?k.K && this.console.warn(("Task restarted after destruction ").concat(u.name," on ").concat(this.name)):(this.Vs.add(u),this.Ok.EX(u));};q.prototype.AH=function(u,t){void 0 === t && (t=!0);!this.vG && this.Vs.has(u) && (this.Vs.delete(u),this.Ok.AH(u,t));};q.prototype.trace=function(){for(var u,t=[],w=0;w < arguments.length;w++){t[w]=arguments[w];}null === (u=this.console) || void 0 === u?void 0:u.trace.apply(u,c.__spreadArray([("TaskScheduler(").concat(this.name,"):")],c.__read(t),!1));};return q;})(l.EventEmitter);b.MQ=r;b.Pba=function(p,q,u){var t;t=void 0;return (u || p.sa.li) && p.sa.currentTime.ji(q)?{promise:Promise.resolve()}:{promise:new Promise(function(w){t=p.fB(h.Lg.vu(q),w);}),Qf:t};};},19457:function(r,b,a){var c,l,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Lg=b.p1=void 0;c=a(42866);(function(d){d[d.absolute=0]="absolute";d[d.Kab=1]="relative";})(l=b.p1 || (b.p1={}));k=(function(){function d(g,n){this.type=g;this.timestamp=n;}d.prototype.toString=function(){return ("timeStamp: ").concat(this.timestamp,", type: ").concat(l[this.type]);};Object.defineProperties(d,{Ia:{get:function(){f || (f=new d(l.Kab,c.L.Ia));return f;},enumerable:!1,configurable:!0}});return d;})();r=(function(){function d(){}d.vu=function(g){return new k(l.absolute,g);};Object.defineProperties(d,{T9b:{get:function(){return k.Ia;},enumerable:!1,configurable:!0}});d.jD=function(g){return new k(l.Kab,g);};d.oAa=new k(l.absolute,c.L.Tp);return d;})();b.Lg=r;},18653:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.lga=void 0;c=a(12043);l=a(83886);f=a(74037);k=a(53595);d=a(14644);g=a(72396);n=[100,200,400,800,1600,3200];r=(function(){function h(){this.Uya=new WeakMap();this.Vya=new k.t1();this.Xra=new k.t1();this.A3=new k.t1();this.state={JO:c.platform.time.wa(),rI:0,faa:1,kh:{MG:new l.Wh(!0),GV:new l.Wh(),FV:new l.Wh(),UU:new l.Wh(!0),GY:new l.Wh(),lF:new l.Wh(),JX:new l.Wh(!0),NS:new f.HQ(n),OS:new f.HQ(n)},mI:{}};}h.prototype.o2a=function(m){var p;if(m.name)return ("").concat(m.tc.name,"::").concat(m.name);if(!this.Uya.get(m)){p=("").concat(m.tc.name,"::'unk'::").concat(m.id,"::iterable?").concat(m instanceof d.Pda);this.Uya.set(m,p);}return this.Uya.get(m);};h.prototype.j5b=function(m){var p;m=this.o2a(m.Qf);(p=this.state.mI)[m] || (p[m]={s5:new l.Wh(),jna:0});this.Vya.start();};h.prototype.Yq=function(){this.state.kh.JX.push(1);};h.prototype.k5b=function(m){var p;p=this;m.type === g.Pfa.aW?this.state.kh.UU.push(1):(this.state.kh.GY.push(m.delay.G),m.P3.forEach(function(q){p.state.kh.NS.push(q.delay);p.state.kh.OS.push(q.H4b);}),this.state.kh.lF.push(m.lF));this.Xra.start();this.A3.stop();this.A3.duration && this.state.kh.FV.push(this.A3.duration);};h.prototype.pGb=function(m){this.Xra.stop();this.A3.start();this.state.kh.GV.push(this.Xra.duration);this.state.kh.MG.push(m);};h.prototype.oGb=function(m){m=this.o2a(m.Qf);this.Vya.stop();this.state.mI[m].s5.push(this.Vya.duration);};h.prototype.Rl=function(){this.state.rI=c.platform.time.wa() - this.state.JO;return this.state;};h.reduce=function(m,p){var q,u,t,w,v;if(0 === m.rI && 0 === m.kh.MG.count)return p;if(0 === p.rI && 0 === p.kh.MG.count || m === p)return m;q=m.JO < p.JO?m:p;u=q === m?p:m;t=q.kh;w=u.kh;v={};Object.keys(m.mI).concat(Object.keys(p.mI)).forEach(function(y){var x,z;if(!v[y]){x=m.mI[y];z=p.mI[y];v[y]=x && z?{s5:x.s5.Xp(z.s5),jna:x.jna + z.jna}:x || z;}});return {JO:q.JO,rI:q.rI + u.rI,faa:q.faa + u.faa,kh:{UU:t.UU.Xp(w.UU),MG:t.MG.Xp(w.MG),GV:t.GV.Xp(w.GV),FV:t.FV.Xp(w.FV),JX:t.JX.Xp(w.JX),GY:t.GY.Xp(w.GY),lF:t.lF.Xp(w.lF),NS:f.HQ.Xp(t.NS,w.NS),OS:f.HQ.Xp(t.OS,w.OS)},mI:v,toJSON:function(){return {timeConstructed:this.JO,timeRunning:this.rI,schedulers:this.faa,executionStats:{immediateRuns:this.kh.UU,loopRuns:this.kh.MG,loopTime:this.kh.GV,loopBetweenTime:this.kh.FV,scheduleClears:this.kh.JX,timerRuns:this.kh.GY,callBackDelayBuckets:this.kh.NS,callBackSleepBuckets:this.kh.OS,clockSkewAdjustments:this.kh.lF},taskStats:v};}};};return h;})();b.lga=r;},73151:function(r,b,a){var l,f;function c(k,d,g){var n;void 0 === g && (g={});n=l.__assign(l.__assign({},f),g);return k.filter(function(h){var m;m=h.Hb;h=h.Cb;return !!h && h.Iy(d) && (!n.mWa || m.ji(d));});}Object.defineProperties(b,{__esModule:{value:!0}});b.nna=b.HHb=b.vna=void 0;l=a(5163);f={mWa:!1};b.vna=function(k,d,g){void 0 === g && (g={});return c(k,d,g).pop();};b.HHb=c;b.nna=function(k,d,g){return k.filter(function(n){var h;h=n.Hb;n=n.Cb;return !!n && !!h && (n.ji(d) && n.Iy(g) || h.ji(d) && h.Iy(g) || n.Iy(d) && h.ji(g));});};},29960:function(r,b,a){var c,l,f;Object.defineProperties(b,{__esModule:{value:!0}});b.F$a=b.B1=void 0;a(5163);a(42866);c=a(49730);l=a(57206);f=a(62558);r=(function(){function k(){this.R=new l.Bfa();}Object.defineProperties(k.prototype,{empty:{get:function(){return !this.tw;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{root:{get:function(){var d;return null === (d=this.tw) || void 0 === d?void 0:d.value;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{values:{get:function(){var d;d=[];this.NF(function(g){return !!d.push(g);});return d;},enumerable:!1,configurable:!0}});k.prototype.has=function(d){return !!this.R.get(d);};k.prototype.parent=function(d){var g;d=this.R.get(d);c.K && (0,f.assert)(d,"Attempted to find the parent of a node not in the tree");return null === (g=null === d || void 0 === d?void 0:d.parent) || void 0 === g?void 0:g.value;};k.prototype.children=function(d){d=this.R.get(d);c.K && (0,f.assert)(d,"Attempted to find the children of a node not in the tree");return (null === d || void 0 === d?0:d.children)?d.children.map(function(g){return g.value;}):[];};k.prototype.Fpa=function(d){d=this.R.get(d);c.K && (0,f.assert)(d,"Attempted to find the children of a node not in the tree");return void 0 !== (null === d || void 0 === d?void 0:d.children) && 0 < d.children.length;};k.prototype.add=function(d,g){var n;c.K && (0,f.assert)(!this.R.get(d),"Attempted to add a value to tree that is already present");n={value:d};void 0 === this.tw?(c.K && (0,f.assert)(void 0 === g,"a parent cannot be specified when the tree is empty"),this.tw=n):(c.K && (0,f.assert)(void 0 !== g,"a parent must be specified when the tree is non-empty"),g=this.R.get(g),c.K && (0,f.assert)(g,"Parent value does not exist in tree"),this.cUa(n,g));this.R.set(d,n);return this;};k.prototype.remove=function(d){d=this.R.get(d);c.K && (0,f.assert)(d,"Attempted to remove a node not in the tree");this.removeNode(d);return this;};k.prototype.removeNode=function(d){var g;g=this;this.Hna(function(n){return g.R.delete(n);},d.value);void 0 === d.parent?this.tw=void 0:this.detach(d);};k.prototype.move=function(d,g){d=this.R.get(d);g=this.R.get(g);c.K && (0,f.assert)(d,"cannot move a value that is not in the tree");c.K && (0,f.assert)(g,"cannot move a value to a parent value not in the tree");c.K && (0,f.assert)(null === d || void 0 === d?void 0:d.parent,"cannot move the root node");c.K && (0,f.assert)(!this.BPb(d,g),"cannot move a node below itself or one of its decendants");d.parent !== g && (this.detach(d),this.cUa(d,g));return this;};k.prototype.R0b=function(d){var g,n;g=this;d=this.R.get(d);c.K && (0,f.assert)(d,"cannot replant at a value that is not in the tree");n=[];this.detach(d);this.Hna(function(h){g.R.delete(h);n.unshift(h);return !0;});this.tw=d;};k.prototype.clear=function(){this.tw && this.remove(this.tw.value);return this;};k.prototype.F_a=function(d,g){var n,h;n=this;d=this.R.get(d);c.K && (0,f.assert)(d,"cannot iterate children of a value not in the tree");null === (h=d.children) || void 0 === h?void 0:h.forEach(function(m){return g(m.value,n);});};k.prototype.N4b=function(d,g){var n,h;n=this;d=this.R.get(d);c.K && (0,f.assert)(d,"cannot iterate children of a value not in the tree");return !(null === (h=d.children) || void 0 === h || !h.some(function(m){return g(m.value,n);}));};k.prototype.NF=function(d){this.G_a(d,void 0);};k.prototype.G_a=function(d,g,n,h){var m;m=this;void 0 === h && (h=0);c.K && (0,f.assert)(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");this.empty || (g=null !== g && void 0 !== g?g:this.tw.value,d(g,n,this,h) && this.F_a(g,function(p){return m.G_a(d,p,g,h + 1);}));};k.prototype.Hna=function(d,g){var n;n=this;c.K && (0,f.assert)(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");this.empty || (null !== g && void 0 !== g?g:g=this.tw.value,this.F_a(g,function(h){return n.Hna(d,h);}),d(g,this));};k.prototype.o_a=function(d,g){var n,h;n=this;c.K && (0,f.assert)(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");if(!this.empty){null !== g && void 0 !== g?g:g=this.tw.value;return this.N4b(g,function(m){return !!(h=n.o_a(d,m));})?h:d(g,this)?g:void 0;}};k.prototype.pEb=function(d){var g,n,h,m;g=this;n=this.values;h=n.filter(function(p){return !d.has(p);});m=d.values.filter(function(p){return !g.has(p);});n=n.filter(function(p){return d.has(p) && g.parent(p) !== d.parent(p);});return {nS:h,eu:m,ebb:n};};k.prototype.cUa=function(d,g){d.parent=g;(g.children || (g.children=[])).push(d);};k.prototype.detach=function(d){var g;c.K && (0,f.assert)(d.parent,"cannot detach the root");c.K && (0,f.assert)(void 0 !== d.parent.children,"logic error: parent node does not have children");g=d.parent.children.indexOf(d);(0,f.assert)(0 <= g,"logic error: node does not appear in the children of its parent");d.parent.children.splice(g,1);d.parent=void 0;};k.prototype.BPb=function(d,g){for(;void 0 !== g;){if(g === d)return !0;g=g.parent;}return !1;};return k;})();b.B1=r;b.F$a=function(k,d){var g;g="";k.NF(function(n,h,m,p){g+=("").concat(Array(p + 1).join("-")).concat(d(n),"\n");return !0;});return g;};},55011:function(r,b,a){var k,d,g;function c(n){var h,m,p,t;p=Object.getOwnPropertyNames(n);for(n=Object.getPrototypeOf(n);n !== Object.prototype;){try{for(var q=(h=void 0,k.__values(Object.getOwnPropertyNames(n))),u=q.next();!u.done;u=q.next()){t=u.value;-1 === p.indexOf(t) && p.push(t);}}catch(w){h={error:w};}finally{try{u && !u.done && (m=q.return) && m.call(q);}finally{if(h)throw h.error;}}n=Object.getPrototypeOf(n);}return p;}function l(n,h,m,p,q){var u;Object.getOwnPropertyNames(n).filter(function(t){return q(t) && (m || !Object.prototype.hasOwnProperty.call(h,t)) && (p || !((t in h)));}).forEach(function(t){u=Object.getOwnPropertyDescriptor(n,t);void 0 !== u && Object.defineProperty(h,t,u);});}function f(n,h,m,p){var q,u;q=[];m || (q=Object.getOwnPropertyNames(h));p || (q=c(h));u=Object.getPrototypeOf(n);null !== u && u !== Object.prototype && f(u,h,m,p);l(n,h,!0,!0,function(t){return "constructor" !== t && -1 === q.indexOf(t);});}Object.defineProperties(b,{__esModule:{value:!0}});b.Ek=b.Uzb=void 0;k=a(5163);d=a(62558);b.Uzb=f;g=Object.getOwnPropertyNames(Function);b.Ek=function(n,h,m,p){void 0 === m && (m=!0);void 0 === p && (p=!0);p || (0,d.assert)(!m);n.prototype?(f(n.prototype,h.prototype,m,p),l(n,h,m,p,function(q){return -1 === g.indexOf(q);})):l(n,h.prototype,m,p,function(q){return -1 === g.indexOf(q);});return h;};},53265:function(r,b,a){var p;function c(q){return Array.isArray(q)?q.reduce(function(u,t){return u + t;},0):!1;}function l(q){return Array.isArray(q) && q.length?c(q) / q.length:!1;}function f(q){var u;if(!Array.isArray(q) || 2 > q.length)return !1;u=l(q);return c(q.map(function(t){return (t - u) * (t - u);})) / (q.length - 1);}function k(q){if(!Array.isArray(q) || 2 > q.length)return !1;q=f(q);return Math.sqrt(q);}function d(q,u){if(q.length == u.length && 1 < q.length){for(var t=q.length,w=0,v=c(q),y=c(u),x=0;x < t;x++){w+=q[x] * u[x];}return (w - v * y / t) / t;}return !1;}function g(q,u,t){return Math.max(Math.min(q,t),u);}function n(q,u){return "number" === typeof q?q:u;}function h(q){return 1 / (1 + Math.exp(-q));}function m(q,u,t){return q * t + (1 - t) * u;}Object.defineProperties(b,{__esModule:{value:!0}});b.Wbb=b.scale=b.FZa=b.n5=b.xdb=b.KVa=b.IK=b.tanh=b.x2b=b.Mh=b.WJb=b.YJb=b.xMb=b.aNb=b.yJb=b.JMb=b.LK=b.Wf=b.Wq=void 0;p=a(5163).__importStar(a(17267));b.Wq=function(q,u,t){try{q.emit(u,t);}catch(w){if(q.qA)q.qA("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",w,"Event:",t);else throw w;}};b.Wf=function(q,u){void 0 !== q && p.rXb(q).forEach(function(t){u(t[0],t[1]);});};b.LK=function(){var t;for(var q=[],u=0;u < arguments.length;u++){q[u]=arguments[u];}q=Array.prototype.concat.apply([],q);u=q.reduce(function(w,v){return w + v.byteLength;},0);t=new Uint8Array(u);q.reduce(function(w,v){t.set(new Uint8Array(v),w);return w + v.byteLength;},0);return t.buffer;};b.JMb=c;b.yJb=l;b.aNb=f;b.xMb=k;b.YJb=d;b.WJb=function(q,u){var t;if(q.length == u.length){t=d(q,u);q=k(q);u=k(u);if(0 < q && 0 < u)return t / (q * u);}return !1;};b.Mh=function(q,u,t){return u.qXa?u.qXa(t):new q.Console("ASEJS","media|asejs",u.prefix?u.prefix + " " + t:t);};b.x2b=function(q){return q.length?"{" + q + "} ":"";};b.tanh=Math.tanh || (function(q){var u;u=Math.exp(+q);q=Math.exp(-q);return Infinity == u?1:Infinity == q?-1:(u - q) / (u + q);});b.IK=g;b.KVa=function(q,u,t,w){return {min:g(n(q.min,u),t,w),max:g(n(q.max,u),t,w),Px:g(q.Px || 6E4,0,6E5),oVa:g(q.oVa || 0,-3E5,3E5),scale:g(q.scale || 6E4,0,3E5),Xbb:g(q.Xbb || 0,-3E5,3E5),gamma:g(q.gamma || 1,.1,10)};};b.xdb=h;b.n5=function(q,u,t){return q.min + (q.max - q.min) * (1 - Math.pow(h(6 * (u - (q.Px + (q.oVa || 0) * (1 - t))) / (q.scale + (q.Xbb || 0) * (1 - t))),q.gamma));};b.FZa=function(q,u){return q.min + (q.max - q.min) * Math.pow(h(6 * (u - q.Px) / q.scale),q.gamma);};b.scale=m;b.Wbb=function(q,u,t){return {min:m(q.min,u.min,t),max:m(q.max,u.max,t),Px:m(q.Px,u.Px,t),scale:m(q.scale,u.scale,t),gamma:m(q.gamma,u.gamma,t)};};},73098:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.kA=void 0;c=a(42866);r=(function(){function l(f,k){this.vE=f;this.mE=k;this.a2b();}l.from=function(f){return "number" === typeof f?new l(f,1):new l(f.Tt,f.cr);};l.R_a=function(f){return new l(f.N,f.ja);};Object.defineProperties(l.prototype,{Tt:{get:function(){return this.vE;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{cr:{get:function(){return this.mE;},enumerable:!1,configurable:!0}});l.prototype.Aa=function(){return new c.L(this.mE,this.vE);};l.prototype.equal=function(f){return this.vE === f.vE && this.mE === f.mE;};l.prototype.normalize=function(f){return new c.L(Math.floor((Math.floor(f + 1) * this.Tt - 1) / (1E3 * this.cr)) * this.cr,this.Tt);};l.prototype.a2b=function(){var f,k,d;f=Math.floor(1E3 * this.vE / this.mE);k=Math.floor(1001 * this.vE / this.mE);d=1E3 * Math.round(f / 1E3);this.vE=d;this.mE=Math.abs(k - d) > Math.abs(f - d)?1E3:1001;};return l;})();b.kA=r;},92141:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.DJ=void 0;c=a(42866);b.DJ=(function(){return function(l,f){var k;void 0 === f && (f={w:1,sr:1});this.tk=l;this.v9a=f;k=l.w * f.w;l=l.sr * f.sr;f=(0,c.AB)(k,l);this.pv={w:k / f,sr:l / f};};})();},57578:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qga=void 0;c=a(12043);r=(function(){function l(f){this.hO=new Uint16Array(f.length);for(var k=0;k < f.length;++k){this.hO[k]=f.charCodeAt(k);}}l.prototype.encrypt=function(f){for(var k=this.hO.length,d="",g=0;g < f.length;++g){d+=String.fromCharCode(this.hO[g % k] ^ f.charCodeAt(g));}return encodeURIComponent(d);};l.prototype.decrypt=function(f,k){var d,g;void 0 === k && (k=!1);d=this.hO.length;g="";if(k)for((k=new Uint8Array(c.platform.x4(f)),f=0);f < k.length;f++){g+=String.fromCharCode(this.hO[f % d] ^ k[f]);}else for((k=decodeURIComponent(f),f=0);f < k.length;f++){g+=String.fromCharCode(this.hO[f % d] ^ k.charCodeAt(f));}return g;};return l;})();b.qga=r;},53110:function(r,b,a){var c;(function(l){(function(f){var d,g;function k(n,h){return function(m,p){"function" !== typeof n[m] && Object.defineProperty(n,m,{configurable:!0,writable:!0,value:p});h && h(m,p);};}d="object" === typeof a.P5?a.P5:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();g=k(l);"undefined" === typeof d.Reflect?d.Reflect=l:g=k(d.Reflect,g);f(g);})(function(f){var G,F,J,M,L,K,P,H,I,N,R;function k(X,ha,ta){var la;la=R.get(X);if(u(la)){if(!ta)return;la=new I();R.set(X,la);}X=la.get(ha);if(u(X)){if(!ta)return;X=new I();la.set(ha,X);}return X;}function d(X,ha,ta){if(g(X,ha,ta))return !0;ha=A(ha);return null === ha?!1:d(X,ha,ta);}function g(X,ha,ta){ha=k(ha,ta,!1);return u(ha)?!1:!!ha.has(X);}function n(X,ha,ta){if(g(X,ha,ta))return h(X,ha,ta);ha=A(ha);if(null !== ha)return n(X,ha,ta);}function h(X,ha,ta){ha=k(ha,ta,!1);if(!u(ha))return ha.get(X);}function m(X,ha){var ta,Ba,La;ta=p(X,ha);X=A(X);if(null === X)return ta;ha=m(X,ha);if(0 >= ha.length)return ta;if(0 >= ta.length)return ha;X=new N();for(var la=[],xa=0;xa < ta.length;xa++){Ba=ta[xa];La=X.has(Ba);La || (X.add(Ba),la.push(Ba));}for(ta=0;ta < ha.length;ta++){Ba=ha[ta];(La=X.has(Ba)) || (X.add(Ba),la.push(Ba));}return la;}function p(X,ha){var ta,la;ta=[];X=k(X,ha,!1);if(u(X))return ta;X=X.keys();ha=z(X,M);if(!x(ha))throw new TypeError();X=ha.call(X);if(!t(X))throw new TypeError();for(ha=0;;){la=X.next();la=la.done?!1:la;if(!la)return (ta.length=ha,ta);la=la.value;try{ta[ha]=la;}catch(Ba){var xa;try{xa=X["return"];xa && xa.call(X);}finally{throw Ba;}}ha++;}}function q(X){if(null === X)return 1;switch(typeof X){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === X?1:6;default:return 6;}}function u(X){return void 0 === X;}function t(X){return "object" === typeof X?null !== X:"function" === typeof X;}function w(X,ha){var ta;switch(q(X)){case 0:return X;case 1:return X;case 2:return X;case 3:return X;case 4:return X;case 5:return X;}ha=3 === ha?"string":5 === ha?"number":"default";ta=z(X,J);if(void 0 !== ta){X=ta.call(X,ha);if(t(X))throw new TypeError();return X;}a:{if("string" === ("default" === ha?"number":ha)){ha=X.toString;if(x(ha) && (ha=ha.call(X),!t(ha)))break a;ha=X.valueOf;}else {ha=X.valueOf;if(x(ha) && (ha=ha.call(X),!t(ha)))break a;ha=X.toString;}if(!x(ha) || (ha=ha.call(X),t(ha)))throw new TypeError();}return ha;}function v(X){X=w(X,3);return "symbol" === typeof X?X:"" + X;}function y(X){return Array.isArray?Array.isArray(X):X instanceof Object?X instanceof Array:"[object Array]" === Object.prototype.toString.call(X);}function x(X){return "function" === typeof X;}function z(X,ha){X=X[ha];if(void 0 !== X && null !== X){if(!x(X))throw new TypeError();return X;}}function A(X){var ha,ta;ha=Object.getPrototypeOf(X);if("function" !== typeof X || X === H || ha !== H)return ha;ta=X.prototype;ta=ta && Object.getPrototypeOf(ta);if(null == ta || ta === Object.prototype)return ha;ta=ta.constructor;return "function" !== typeof ta || ta === X?ha:ta;}function B(){var la,xa,Ba;function X(La){return La;}function ha(La,Za){return Za;}function ta(La,Za){return [La,Za];}la={};xa=[];Ba=(function(){function La(Za,ab,Z){this.hg=0;this.Te=Za;this.yf=ab;this.Bsb=Z;}La.prototype["@@iterator"]=function(){return this;};La.prototype[M]=function(){return this;};La.prototype.next=function(){var Za,ab;Za=this.hg;if(0 <= Za && Za < this.Te.length){ab=this.Bsb(this.Te[Za],this.yf[Za]);Za + 1 >= this.Te.length?(this.hg=-1,this.yf=this.Te=xa):this.hg++;return {value:ab,done:!1};}return {value:void 0,done:!0};};La.prototype.throw=function(Za){0 <= this.hg && (this.hg=-1,this.yf=this.Te=xa);throw Za;};La.prototype.return=function(Za){0 <= this.hg && (this.hg=-1,this.yf=this.Te=xa);return {value:Za,done:!0};};return La;})();return (function(){function La(){this.Te=[];this.yf=[];this.Wu=la;this.Is=-2;}Object.defineProperty(La.prototype,"size",{get:function(){return this.Te.length;},enumerable:!0,configurable:!0});La.prototype.has=function(Za){return 0 <= this.ux(Za,!1);};La.prototype.get=function(Za){Za=this.ux(Za,!1);return 0 <= Za?this.yf[Za]:void 0;};La.prototype.set=function(Za,ab){Za=this.ux(Za,!0);this.yf[Za]=ab;return this;};La.prototype.delete=function(Za){var ab,Z;ab=this.ux(Za,!1);if(0 <= ab){Z=this.Te.length;for(ab+=1;ab < Z;ab++){this.Te[ab - 1]=this.Te[ab];this.yf[ab - 1]=this.yf[ab];}this.Te.length--;this.yf.length--;Za === this.Wu && (this.Wu=la,this.Is=-2);return !0;}return !1;};La.prototype.clear=function(){this.Te.length=0;this.yf.length=0;this.Wu=la;this.Is=-2;};La.prototype.keys=function(){return new Ba(this.Te,this.yf,X);};La.prototype.values=function(){return new Ba(this.Te,this.yf,ha);};La.prototype.entries=function(){return new Ba(this.Te,this.yf,ta);};La.prototype["@@iterator"]=function(){return this.entries();};La.prototype[M]=function(){return this.entries();};La.prototype.ux=function(Za,ab){this.Wu !== Za && (this.Is=this.Te.indexOf(this.Wu=Za));0 > this.Is && ab && (this.Is=this.Te.length,this.Te.push(Za),this.yf.push(void 0));return this.Is;};return La;})();}function C(){return (function(){function X(){this.wf=new I();}Object.defineProperty(X.prototype,"size",{get:function(){return this.wf.size;},enumerable:!0,configurable:!0});X.prototype.has=function(ha){return this.wf.has(ha);};X.prototype.add=function(ha){return (this.wf.set(ha,ha),this);};X.prototype.delete=function(ha){return this.wf.delete(ha);};X.prototype.clear=function(){this.wf.clear();};X.prototype.keys=function(){return this.wf.keys();};X.prototype.values=function(){return this.wf.values();};X.prototype.entries=function(){return this.wf.entries();};X.prototype["@@iterator"]=function(){return this.keys();};X.prototype[M]=function(){return this.keys();};return X;})();}function D(){var la,xa;function X(){var Ba,ab;do {Ba="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):ta(new Uint8Array(16),16):ta(Array(16),16);Ba[6]=Ba[6] & 79 | 64;Ba[8]=Ba[8] & 191 | 128;for(var La="",Za=0;16 > Za;++Za){ab=Ba[Za];if(4 === Za || 6 === Za || 8 === Za)La+="-";16 > ab && (La+="0");La+=ab.toString(16).toLowerCase();}Ba="@@WeakMap@@" + La;}while(P.has(la,Ba));la[Ba]=!0;return Ba;}function ha(Ba,La){if(!G.call(Ba,xa)){if(!La)return;Object.defineProperty(Ba,xa,{value:P.create()});}return Ba[xa];}function ta(Ba,La){for(var Za=0;Za < La;++Za){Ba[Za]=255 * Math.random() | 0;}return Ba;}la=P.create();xa=X();return (function(){function Ba(){this.Ps=X();}Ba.prototype.has=function(La){La=ha(La,!1);return void 0 !== La?P.has(La,this.Ps):!1;};Ba.prototype.get=function(La){La=ha(La,!1);return void 0 !== La?P.get(La,this.Ps):void 0;};Ba.prototype.set=function(La,Za){ha(La,!0)[this.Ps]=Za;return this;};Ba.prototype.delete=function(La){La=ha(La,!1);return void 0 !== La?delete La[this.Ps]:!1;};Ba.prototype.clear=function(){this.Ps=X();};return Ba;})();}function E(X){X.wpb=void 0;delete X.wpb;return X;}G=Object.prototype.hasOwnProperty;F="function" === typeof Symbol;J=F && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";M=F && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";F="function" === typeof Object.create;L=({__proto__:[]}) instanceof Array;K=!F && !L;P={create:F?function(){return E(Object.create(null));}:L?function(){return E({__proto__:null});}:function(){return E({});},has:K?function(X,ha){return G.call(X,ha);}:function(X,ha){return (ha in X);},get:K?function(X,ha){return G.call(X,ha)?X[ha]:void 0;}:function(X,ha){return X[ha];}};H=Object.getPrototypeOf(Function);I=(F="object" === typeof process && "true" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?B():Map;N=F || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?C():Set;R=new (F || "function" !== typeof WeakMap?D():WeakMap)();f("decorate",function(X,ha,ta,la){var Ba;if(u(ta)){if(!y(X))throw new TypeError();if("function" !== typeof ha)throw new TypeError();for(ta=X.length - 1;0 <= ta;--ta){if((la=(0,X[ta])(ha),!u(la) && null !== la)){if("function" !== typeof la)throw new TypeError();ha=la;}}return ha;}if(!y(X))throw new TypeError();if(!t(ha))throw new TypeError();if(!t(la) && !u(la) && null !== la)throw new TypeError();null === la && (la=void 0);ta=v(ta);for(var xa=X.length - 1;0 <= xa;--xa){Ba=(0,X[xa])(ha,ta,la);if(!u(Ba) && null !== Ba){if(!t(Ba))throw new TypeError();la=Ba;}}return la;});f("metadata",function(X,ha){return function(ta,la){var xa;if(!t(ta))throw new TypeError();if(xa=!u(la)){a:switch(q(la)){case 3:xa=!0;break a;case 4:xa=!0;break a;default:xa=!1;}xa=!xa;}if(xa)throw new TypeError();k(ta,la,!0).set(X,ha);};});f("defineMetadata",function(X,ha,ta,la){if(!t(ta))throw new TypeError();u(la) || (la=v(la));k(ta,la,!0).set(X,ha);});f("hasMetadata",function(X,ha,ta){if(!t(ha))throw new TypeError();u(ta) || (ta=v(ta));return d(X,ha,ta);});f("hasOwnMetadata",function(X,ha,ta){if(!t(ha))throw new TypeError();u(ta) || (ta=v(ta));return g(X,ha,ta);});f("getMetadata",function(X,ha,ta){if(!t(ha))throw new TypeError();u(ta) || (ta=v(ta));return n(X,ha,ta);});f("getOwnMetadata",function(X,ha,ta){if(!t(ha))throw new TypeError();u(ta) || (ta=v(ta));return h(X,ha,ta);});f("getMetadataKeys",function(X,ha){if(!t(X))throw new TypeError();u(ha) || (ha=v(ha));return m(X,ha);});f("getOwnMetadataKeys",function(X,ha){if(!t(X))throw new TypeError();u(ha) || (ha=v(ha));return p(X,ha);});f("deleteMetadata",function(X,ha,ta){var la;if(!t(ha))throw new TypeError();u(ta) || (ta=v(ta));la=k(ha,ta,!1);if(u(la) || !la.delete(X))return !1;if(0 < la.size)return !0;X=R.get(ha);X.delete(ta);if(0 < X.size)return !0;R.delete(ha);return !0;});});})(c || (c={}));},41385:function(r,b,a){var d;function c(){return Object.create(null);}function l(g){this.log=g.log;this.sa=g.sa;this.pC=c();this.Promise=g.Promise;this.Vx=g.Vx;this.Fza=g.Fza;this.gf=g.gf || !1;this.Bv=c();this.XA=c();this.eF=c();this.Dsb(g);g.co && (this.co=g.co);}function f(g){return "undefined" !== typeof g;}function k(g){var m;for(var n=0,h=arguments.length;n < h;){m=arguments[n++];if(f(m))return m;}}a(66242);d=a(64765);l.prototype.Dsb=function(g){this.Bv.manifest=k(g.WGb,d.Bv.Y);this.Bv.ldl=k(g.VGb,d.Bv.vV);this.Bv.metadata=k(g.ugc,d.Bv.Wd);this.XA.manifest=k(g.ixb,d.XA.Y);this.XA.ldl=k(g.hxb,d.XA.vV);this.XA.metadata=k(g.pfc,d.XA.Wd);this.eF.manifest=k(g.nfc,d.eF.Y);this.eF.ldl=k(g.mfc,d.eF.vV);this.eF.metadata=k(g.ofc,d.eF.Wd);};l.prototype.KU=function(g,n){this.ot("undefined" !== typeof g);this.ot("undefined" !== typeof n);return !!this.FQa(g,n,void 0).value;};l.prototype.FQa=function(g,n,h){var m,p;m={value:null,reason:"",log:""};p=this.pC[n];h=h?h:"DEFAULTCAPS";if("undefined" === typeof p)return (m.log="cache miss: no data exists for field:" + n,m.reason="unavailable",m);"undefined" === typeof p[g]?(m.log="cache miss: no data exists for movieId:" + g,m.reason="unavailable"):(p=p[g][h]) && p.value?this.u7(n,p.creationTime)?(m.log="cache miss: " + n + " data expired for movieId:" + g,m.reason="expired",this.clearData(g,n,h,!1,"expired")):(m.log=this.Promise && p.value instanceof this.Promise?"cache hit: " + n + " request in flight for movieId:" + g:"cache hit: " + n + " available for movieId:" + g,m.value=p.value):(m.log="cache miss: " + n + " data not available for movieId:" + g,m.reason="unavailable");return m;};l.prototype.getData=function(g,n,h){this.ot("undefined" !== typeof g);this.ot("undefined" !== typeof n);g=this.FQa(g,n,h);this.log.trace(g.log);return g.value?this.Promise?g.value instanceof this.Promise?g.value:Promise.resolve(g.value):this.Fza?JSON.parse(this.Fza(g.value,"gzip",!1)):g.value:this.Promise?Promise.reject(g.reason):g.reason;};l.prototype.setData=function(g,n,h,m,p){var q,u,t;this.ot("undefined" !== typeof g);this.ot("undefined" !== typeof n);q=this.pC;u=p?p:"DEFAULTCAPS";q[n] || (q[n]=c(),Object.defineProperty(q[n],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[n],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));h=this.Vx?this.Vx(JSON.stringify(h),"gzip",!0):h;q=q[n];this.drb(g,n,u,q);t=this;m={creationTime:this.sa.getTime(),value:h,size:0,type:n,Yla:m,UGb:setTimeout(function(){t.clearData(g,n,u,!1,"expired");},this.Bv[n] + 1)};q[g]=q[g] || c();q[g][u]=q[g][u] || c();q[g][u]=m;q.size+=0;q.numEntries++;this.co && this.co.emit("addedCacheItem",m);return m;};l.prototype.drb=function(g,n,h,m){var p,q,u,t,w,v,y,x,z;p=this;q=m.numEntries;u=this.XA[n];t=m[g] && m[g][h];if(t && t.value)(w=g,v="promise_or_expired");else if(q >= u){x=Number.POSITIVE_INFINITY;Object.keys(m).every(function(A){var B;B=m[A] && m[A][h];B && B.value && p.u7(n,B.creationTime) && (z=A);B && B.value && B.creationTime < x && (x=B.creationTime,y=A);return !0;});w=z || y;v="cache_full";}this.gf && this.log.debug("makespace ",{maxCount:u,currentCount:m.numEntries,field:n,movieId:g,movieToBeRemoved:w});w && (p.clearData(w,n,h,void 0,v),this.log.debug("removed from cache: ",w,n));};l.prototype.Cka=function(g,n){var h,m;h=this;h.ot("undefined" !== typeof g);m=g + "";n.forEach(function(p){var q;q=h.pC[p];q && Object.keys(q).forEach(function(u){u != m && h.clearData(u,p,void 0,void 0,"clear_all");});});};l.prototype.clearData=function(g,n,h,m,p){var q;this.ot("undefined" !== typeof g);this.ot("undefined" !== typeof n);q=this.pC[n];n=q?q[g]:void 0;h=h?h:"DEFAULTCAPS";if(n && n[h]){q.size-=n[h].size;q.numEntries--;if(q=n && n[h])(clearTimeout(q.UGb),n[h]=void 0,!m && q.Yla && q.Yla());this.co && (g={creationTime:q.creationTime,destroyFn:q.Yla,size:q.size,type:q.type,value:q.value,reason:p,movieId:g},this.co.emit("deletedCacheItem",g));}};l.prototype.flush=function(g){var n;this.ot("undefined" !== typeof g);n=this.pC;n[g]=c();n[g].numEntries=0;n[g].size=0;};l.prototype.MVa=function(){var g,n;this.ot(!1);g=this;n=this.pC;n[void 0] instanceof Object && Object.keys(n[void 0]).forEach(function(h){var m;m=n[void 0][h].DEFAULTCAPS;g.sa.getTime() - m.creationTime > g.Bv[void 0] && g.clearData(h,void 0,"DEFAULTCAPS",void 0,"clean_up");});};l.prototype.u7=function(g,n){return this.sa.getTime() - n > this.Bv[g];};l.prototype.getStats=function(g,n,h){var m,p,q,u,t;m={};p=this;q=p.pC;u=f(g) && f(n);t=h || "DEFAULTCAPS";Object.keys(q).forEach(function(w){var v,y;v=Object.keys(q[w]);y=q[w];v.forEach(function(x){!(x=y && y[x] && y[x][t]) || !f(x.value) || x.value instanceof p.Promise || (m[w]=(m[w] | 0) + 1,p.u7(x.type,x.creationTime) && (m[w + "_expired"]=(m[w + "_expired"] | 0) + 1),u && x.creationTime >= g && x.creationTime < n && (m[w + "_delta"]=(m[w + "_delta"] | 0) + 1));});});return m;};l.prototype.getState=function(g){var n,h,m,p;n=[];h=this;m=h.pC;p=g || "DEFAULTCAPS";Object.keys(m).forEach(function(q){var u,t;u=Object.keys(m[q]);t=m[q];u.forEach(function(w){var v,y;v=t && t[w] && t[w][p];if(v && f(v.value)){y=h.u7(v.type,v.creationTime)?"expired":v.value instanceof h.Promise?"loading":"cached";n.push({movieId:w,state:y,type:q,size:v.size});}});});return n;};l.prototype.ot=function(g){if(!g && (this.log.error("Debug Assert Failed",void 0),this.gf))throw Error("Debug Assert Failed ");};r.exports=l;},64765:function(r){r.exports={Bv:{Y:12E5,vV:9E5,Wd:12E5},XA:{Y:10,vV:10,Wd:10},eF:{Y:10240,vV:10240,Wd:10240}};},66242:function(r){function b(a){var c;c=[];return (function k(f){if(f && "object" === typeof f){if(-1 !== c.indexOf(f))return !0;c.push(f);for(var d in f){if(f.hasOwnProperty(d) && k(f[d]))return !0;}}return !1;})(a);}r.exports=function(a,c){var f;if(c && b(a))return -1;c=[];a=[a];for(var l=0;a.length;){f=a.pop();if("boolean" === typeof f)l+=4;else if("string" === typeof f)l+=2 * f.length;else if("number" === typeof f)l+=8;else if("object" === typeof f && -1 === c.indexOf(f)){c.push(f);for(var k in f){a.push(f[k]);}}}return l;};},62082:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.apa=function(){return this.buffer.length - this.position;};a.prototype.fz=function(){return this.buffer[this.position++];};a.prototype.Hj=function(c){var l;l=this.position;this.position+=c;return this.CQb(this.buffer)?this.buffer.subarray(l,this.position):this.buffer.slice(l,this.position);};a.prototype.CQb=function(c){return void 0 !== c.subarray;};a.prototype.lq=function(c){for(var l=0;c--;){l=256 * l + this.buffer[this.position++];}return l;};a.prototype.Vva=function(c){for(var l="";c--;){l+=String.fromCharCode(this.buffer[this.position++]);}return l;};a.prototype.Vg=function(){return this.lq(2);};a.prototype.mq=function(){return this.lq(4);};a.prototype.NN=function(){return this.lq(8);};a.prototype.lw=function(c){for(var l,f="";c--;){l=this.fz();f+=("0123456789ABCDEF")[l >>> 4] + ("0123456789ABCDEF")[l & 15];}return f;};a.prototype.Wva=function(c){for(var l=0,f=0;f < c;f++){l+=this.fz() << (f << 3);}return l;};a.prototype.MN=function(){return this.Wva(4);};a.prototype.qZ=function(c){this.gP(c,2);};a.prototype.Mz=function(c){this.gP(c,4);};a.prototype.Sba=function(c){this.buffer[this.position++]=c;};a.prototype.gP=function(c,l){this.position+=l;for(var f=1;f <= l;f++){this.buffer[this.position - f]=c & 255;c=Math.floor(c / 256);}};a.prototype.Lz=function(c){for(var l=0;l < c.length;l++){this.buffer[this.position++]=c.charCodeAt(l);}};a.prototype.pZ=function(c){for(var l=c.length,f=0;f < l;f++){this.buffer[this.position++]=c[f];}};a.prototype.fP=function(c,l){this.pZ(c.Hj(l));};a.prototype.Fhb=function(c){c=new a(c);for(var l,f;;){if((l=c.apa(),f=l >>> 14))(f=Math.min(4,f),this.Sba(192 | f),this.fP(c,16384 * f));else {128 > l?this.Sba(l):this.gP(l | 32768,2);this.fP(c,l);break;}}};a.prototype.kab=function(){var f;for(var c=[],l=new a(c);;){f=this.fz();if(f & 128){if(128 == (f & 192))(f&=63,f=(f << 8) + this.fz(),l.fP(this,f));else if((f&=63,0 < f && 4 >= f)){l.fP(this,16384 * f);continue;}else throw Error("bad asn1");}else l.fP(this,f);break;}return new Uint8Array(c);};return a;})();b.GP=r;},9412:function(r){function b(c,l,f,k){c.trace(":",f,":",k);l(k);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,l,f,k){f=k?f.bind(k):f;if(c){this.console && (f=b.bind(null,this.console,f,l));if("function" === typeof c.addListener)c.addListener(l,f);else if("function" === typeof c.addEventListener)c.addEventListener(l,f);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,f]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var f,k;f=l[0];k=l[1];l=l[2];"function" === typeof f.removeEventListener?f.removeEventListener(k,l):"function" === typeof f.removeListener && f.removeListener(k,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},57055:function(r,b,a){b=a(76960);b.Tla=0;r.exports={EventEmitter:b,De:a(9412)};},76960:function(r){var n,h,m,p;function b(){b.Db.call(this);}function a(q){if("function" !== typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof q);}function c(q,u,t,w){var v,y;a(t);v=q.mb;if(void 0 === v)(v=q.mb=Object.create(null),q.nE=0);else {void 0 !== v.VUb && (q.emit("newListener",u,t.listener?t.listener:t),v=q.mb);y=v[u];}void 0 === y?(v[u]=t,++q.nE):("function" === typeof y?y=v[u]=w?[t,y]:[y,t]:w?y.unshift(t):y.push(t),t=void 0 === q.Rs?b.Tla:q.Rs,0 < t && y.length > t && !y.pAa && (y.pAa=!0,t=Error("Possible EventEmitter memory leak detected. " + y.length + " " + String(u) + " listeners added. Use emitter.setMaxListeners() to increase limit"),t.name="MaxListenersExceededWarning",t.zv=q,t.type=u,t.count=y.length,console && console.warn && console.warn(t)));return q;}function l(){if(!this.t_a)return (this.target.removeListener(this.type,this.Chb),this.t_a=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function f(q,u,t){q={t_a:!1,Chb:void 0,target:q,type:u,listener:t};u=l.bind(q);u.listener=t;return q.Chb=u;}function k(q){var u;u=this.mb;if(void 0 !== u){q=u[q];if("function" === typeof q)return 1;if(void 0 !== q)return q.length;}return 0;}function d(q,u,t){"function" === typeof q.on && g(q,"error",u,t);}function g(q,u,t,w){if("function" === typeof q.on){if(w.once)q.once(u,t);else q.on(u,t);}else if("function" === typeof q.addEventListener)q.addEventListener(u,function x(y){w.once && q.removeEventListener(u,x);t(y);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof q);}n="object" === typeof Reflect?Reflect:null;h=n && "function" === typeof n.apply?n.apply:function(q,u,t){return Function.prototype.apply.call(q,u,t);};m=Number.isNaN || (function(q){return q !== q;});r.exports=b;r.exports.once=function(q,u){return new Promise(function(t,w){function v(x){q.removeListener(u,y);w(x);}function y(){"function" === typeof q.removeListener && q.removeListener("error",v);t([].slice.call(arguments));}g(q,u,y,{once:!0});"error" !== u && d(q,v,{once:!0});});};b.EventEmitter=b;b.prototype.mb=void 0;b.prototype.nE=0;b.prototype.Rs=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(q){if("number" !== typeof q || 0 > q || m(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + q + ".");p=q;}});b.Db=function(){if(void 0 === this.mb || this.mb === Object.getPrototypeOf(this).mb)(this.mb=Object.create(null),this.nE=0);this.Rs=this.Rs || void 0;};b.prototype.setMaxListeners=function(q){if("number" !== typeof q || 0 > q || m(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + q + ".");this.Rs=q;return this;};b.prototype.emit=function(q){var w,v;for(var u=[],t=1;t < arguments.length;t++){u.push(arguments[t]);}w="error" === q;t=this.mb;if(void 0 !== t)w=w && void 0 === t.error;else if(!w)return !1;if(w){0 < u.length && (v=u[0]);if(v instanceof Error)throw v;u=Error("Unhandled error." + (v?" (" + v.message + ")":""));u.context=v;throw u;}t=t[q];if(void 0 === t)return !1;if("function" === typeof t)h(t,this,u);else {v=t.length;w=Array(v);for(var y=0;y < v;++y){w[y]=t[y];}for(t=0;t < v;++t){h(w[t],this,u);}}return !0;};b.prototype.addListener=function(q,u){return c(this,q,u,!1);};b.prototype.on=b.prototype.addListener;b.prototype.l$=function(q,u){c(this,q,u,!0);};b.prototype.once=function(q,u){a(u);this.on(q,f(this,q,u));return this;};b.prototype.B$a=function(q,u){a(u);this.l$(q,f(this,q,u));};b.prototype.removeListener=function(q,u){var t,w,v,y,x;a(u);w=this.mb;if(void 0 === w)return this;v=w[q];if(void 0 === v)return this;if(v === u || v.listener === u)0 === --this.nE?this.mb=Object.create(null):(delete w[q],w.removeListener && this.emit("removeListener",q,v.listener || u));else if("function" !== typeof v){y=-1;for(t=v.length - 1;0 <= t;t--){if(v[t] === u || v[t].listener === u){x=v[t].listener;y=t;break;}}if(0 > y)return this;if(0 === y)v.shift();else {for(;y + 1 < v.length;y++){v[y]=v[y + 1];}v.pop();}1 === v.length && (w[q]=v[0]);void 0 !== w.removeListener && this.emit("removeListener",q,x || u);}return this;};b.prototype.Lr=b.prototype.removeListener;b.prototype.removeAllListeners=function(q){var u,t,w;u=this.mb;if(void 0 === u)return this;if(void 0 === u.removeListener)return (0 === arguments.length?(this.mb=Object.create(null),this.nE=0):void 0 !== u[q] && (0 === --this.nE?this.mb=Object.create(null):delete u[q]),this);if(0 === arguments.length){t=Object.keys(u);for(u=0;u < t.length;++u){w=t[u];"removeListener" !== w && this.removeAllListeners(w);}this.removeAllListeners("removeListener");this.mb=Object.create(null);this.nE=0;return this;}t=u[q];if("function" === typeof t)this.removeListener(q,t);else if(void 0 !== t)for(u=t.length - 1;0 <= u;u--){this.removeListener(q,t[u]);}return this;};b.prototype.listeners=function(q){var u;u=this.mb;if(void 0 === u)q=[];else if((q=u[q],void 0 === q))q=[];else if("function" === typeof q)q=[q.listener || q];else {u=Array(q.length);for(var t=0;t < u.length;++t){u[t]=q[t].listener || q[t];}q=u;}return q;};b.listenerCount=function(q,u){return "function" === typeof q.listenerCount?q.listenerCount(u):k.call(q,u);};b.prototype.listenerCount=k;},54:function(r){r.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},27E3:function(r,b,a){var c,l,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(13752);l=a(29636);f=a(67566);b["default"]=function(k){var d;k=new c.kca(k);d=new f.Wmb(k);return new l.Vmb(k,d);};},13752:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.kSb=c;}a.prototype.Z0a=function(){var c;try{c=this.kSb.getItem("gtp");if(c)return JSON.parse(c);}catch(l){}};a.prototype.$m=function(){var c;c=this.Z0a();if(c && c.tp)return c.tp.a;};a.prototype.QKb=function(){var c;c=this.Doa();if(c)return c.p25;};a.prototype.RKb=function(){var c;c=this.Doa();if(c)return c.p50;};a.prototype.SKb=function(){var c;c=this.Doa();if(c)return c.p75;};a.prototype.Doa=function(){var c;c=this.Z0a();if(c && (c=c.iqr))return c;};return a;})();b.kca=r;},29636:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,l){this.Fx=c;this.qta=l;}a.prototype.$m=function(){return this.Fx.$m();};return a;})();b.Vmb=r;},67566:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.Fx=c;}a.prototype.qta=function(){var c,l,f;c=this.Fx.QKb();l=this.Fx.RKb();f=this.Fx.SKb();if("number" === typeof c && "number" === typeof l && "number" === typeof f)return (f - c) / l;};return a;})();b.Wmb=r;},79809:function(r){r.exports="undefined" !== typeof process && "undefined" !== typeof nrdp?nrdp.wa:Date.now;},94030:function(r,b,a){var k;function c(d,g,n,h,m,p,q){this.aZ=h;this.Rhb=d;this.h8a=g;this.Ty=n;this.JQb=p;this.QC=q;this.split=m;}function l(){this.R={};this.R["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.R["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.R["3"]=new c("7","8","7","10","1.5",0,0);this.R["7"]=new c("15","16","15","9","4.5",0,0);this.R["15"]=new c("31","32","31","2","5.5",0,0);this.R["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.R["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.R["123"]=new c("123","124","123","0","0",1,.207298);this.R["124"]=new c("123","124","123","0","0",1,.49076);this.R["64"]=new c("125","126","125","4","40.5",0,0);this.R["125"]=new c("125","126","125","0","0",1,-.00157835);this.R["126"]=new c("125","126","125","0","0",1,.934205);this.R["32"]=new c("65","66","65","135","5.5",0,0);this.R["65"]=new c("127","128","128","4","1272.5",0,0);this.R["127"]=new c("127","128","128","0","0",1,-.510333);this.R["128"]=new c("127","128","128","0","0",1,.18363);this.R["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.R["129"]=new c("129","130","129","0","0",1,-.0464542);this.R["130"]=new c("129","130","129","0","0",1,.458833);this.R["16"]=new c("33","34","34","10","2.00001",0,0);this.R["33"]=new c("67","68","67","0","29.5",0,0);this.R["67"]=new c("131","132","131","2","39.5",0,0);this.R["131"]=new c("131","132","131","0","0",1,-.37577);this.R["132"]=new c("131","132","131","0","0",1,.512087);this.R["68"]=new c("133","134","134","140","1.5",0,0);this.R["133"]=new c("133","134","134","0","0",1,.321272);this.R["134"]=new c("133","134","134","0","0",1,-.675396);this.R["34"]=new c("69","70","70","2","24.5",0,0);this.R["69"]=new c("135","136","136","9","28.5",0,0);this.R["135"]=new c("135","136","136","0","0",1,-.0573845);this.R["136"]=new c("135","136","136","0","0",1,-.507455);this.R["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.R["137"]=new c("137","138","137","0","0",1,-.503909);this.R["138"]=new c("137","138","137","0","0",1,.450886);this.R["8"]=new c("17","18","17","4","44189.5",0,0);this.R["17"]=new c("35","36","35","2","21.5",0,0);this.R["35"]=new c("71","72","72","0","19.5",0,0);this.R["71"]=new c("139","140","140","9","2.5",0,0);this.R["139"]=new c("139","140","140","0","0",1,.00403497);this.R["140"]=new c("139","140","140","0","0",1,-.312656);this.R["72"]=new c("141","142","141","135","96",0,0);this.R["141"]=new c("141","142","141","0","0",1,-.465786);this.R["142"]=new c("141","142","141","0","0",1,.159633);this.R["36"]=new c("73","74","73","130","89.5",0,0);this.R["73"]=new c("143","144","144","10","4.5",0,0);this.R["143"]=new c("143","144","144","0","0",1,-.76265);this.R["144"]=new c("143","144","144","0","0",1,-.580804);this.R["74"]=new c("145","146","146","10","16.5",0,0);this.R["145"]=new c("145","146","146","0","0",1,.296357);this.R["146"]=new c("145","146","146","0","0",1,-.691659);this.R["18"]=new c("37","38","38","9","1.5",0,0);this.R["37"]=new c("37","38","38","0","0",1,.993951);this.R["38"]=new c("75","76","75","0","19",0,0);this.R["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.R["147"]=new c("147","148","147","0","0",1,-.346535);this.R["148"]=new c("147","148","147","0","0",1,-.995745);this.R["76"]=new c("147","148","147","0","0",1,-.99978);this.R["4"]=new c("9","10","9","5","4.5",0,0);this.R["9"]=new c("19","20","19","2","4.5",0,0);this.R["19"]=new c("39","40","39","140","7.5",0,0);this.R["39"]=new c("77","78","78","134","6.5",0,0);this.R["77"]=new c("149","150","150","7","11.5",0,0);this.R["149"]=new c("149","150","150","0","0",1,.729843);this.R["150"]=new c("149","150","150","0","0",1,.383857);this.R["78"]=new c("151","152","151","133","4.5",0,0);this.R["151"]=new c("151","152","151","0","0",1,.39017);this.R["152"]=new c("151","152","151","0","0",1,.0434342);this.R["40"]=new c("79","80","79","133","3.5",0,0);this.R["79"]=new c("153","154","154","8","4.5",0,0);this.R["153"]=new c("153","154","154","0","0",1,-.99536);this.R["154"]=new c("153","154","154","0","0",1,-.00943396);this.R["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.R["155"]=new c("155","156","155","0","0",1,.266272);this.R["156"]=new c("155","156","155","0","0",1,.959904);this.R["20"]=new c("41","42","42","10","65.5",0,0);this.R["41"]=new c("81","82","82","7","10.5",0,0);this.R["81"]=new c("157","158","158","2","37.5",0,0);this.R["157"]=new c("157","158","158","0","0",1,-.701873);this.R["158"]=new c("157","158","158","0","0",1,.224649);this.R["82"]=new c("159","160","159","133","9.5",0,0);this.R["159"]=new c("159","160","159","0","0",1,.0955181);this.R["160"]=new c("159","160","159","0","0",1,-.58962);this.R["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.R["83"]=new c("161","162","161","135","31",0,0);this.R["161"]=new c("161","162","161","0","0",1,-.229692);this.R["162"]=new c("161","162","161","0","0",1,.88595);this.R["84"]=new c("163","164","164","1","13.5",0,0);this.R["163"]=new c("163","164","164","0","0",1,-.992157);this.R["164"]=new c("163","164","164","0","0",1,.922159);this.R["10"]=new c("21","22","22","4","486",0,0);this.R["21"]=new c("43","44","44","133","4.5",0,0);this.R["43"]=new c("85","86","86","10","4.5",0,0);this.R["85"]=new c("165","166","166","4","158.5",0,0);this.R["165"]=new c("165","166","166","0","0",1,-.127778);this.R["166"]=new c("165","166","166","0","0",1,.955189);this.R["86"]=new c("165","166","166","0","0",1,-.994012);this.R["44"]=new c("87","88","88","1","3.5",0,0);this.R["87"]=new c("167","168","168","135","7",0,0);this.R["167"]=new c("167","168","168","0","0",1,-.997015);this.R["168"]=new c("167","168","168","0","0",1,.400821);this.R["88"]=new c("169","170","169","130","36",0,0);this.R["169"]=new c("169","170","169","0","0",1,-.898638);this.R["170"]=new c("169","170","169","0","0",1,.56129);this.R["22"]=new c("45","46","45","9","2.5",0,0);this.R["45"]=new c("89","90","90","9","1.5",0,0);this.R["89"]=new c("171","172","171","10","10.5",0,0);this.R["171"]=new c("171","172","171","0","0",1,.573986);this.R["172"]=new c("171","172","171","0","0",1,-.627266);this.R["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.R["173"]=new c("173","174","173","0","0",1,.925273);this.R["174"]=new c("173","174","173","0","0",1,-.994805);this.R["46"]=new c("91","92","91","136","5.5",0,0);this.R["91"]=new c("175","176","175","10","10.5",0,0);this.R["175"]=new c("175","176","175","0","0",1,.548352);this.R["176"]=new c("175","176","175","0","0",1,-.879195);this.R["92"]=new c("177","178","178","8","14.5",0,0);this.R["177"]=new c("177","178","178","0","0",1,.457305);this.R["178"]=new c("177","178","178","0","0",1,-.998992);this.R["2"]=new c("5","6","5","10","2.5",0,0);this.R["5"]=new c("11","12","11","9","4.5",0,0);this.R["11"]=new c("23","24","24","10","4.00001",0,0);this.R["23"]=new c("47","48","48","133","5.5",0,0);this.R["47"]=new c("93","94","93","3","13.5",0,0);this.R["93"]=new c("179","180","179","138","15.5",0,0);this.R["179"]=new c("179","180","179","0","0",1,.658398);this.R["180"]=new c("179","180","179","0","0",1,-.927007);this.R["94"]=new c("181","182","182","3","15.5",0,0);this.R["181"]=new c("181","182","182","0","0",1,-.111351);this.R["182"]=new c("181","182","182","0","0",1,-.99827);this.R["48"]=new c("95","96","95","7","167",0,0);this.R["95"]=new c("183","184","183","132","36.5",0,0);this.R["183"]=new c("183","184","183","0","0",1,.895161);this.R["184"]=new c("183","184","183","0","0",1,-.765217);this.R["96"]=new c("185","186","186","137","6.00001",0,0);this.R["185"]=new c("185","186","186","0","0",1,-.851095);this.R["186"]=new c("185","186","186","0","0",1,.674286);this.R["24"]=new c("49","50","49","137","5.5",0,0);this.R["49"]=new c("97","98","97","5","23.5",0,0);this.R["97"]=new c("187","188","187","3","28.5",0,0);this.R["187"]=new c("187","188","187","0","0",1,.951654);this.R["188"]=new c("187","188","187","0","0",1,-.993808);this.R["98"]=new c("187","188","187","0","0",1,-.99705);this.R["50"]=new c("187","188","187","0","0",1,-.997525);this.R["12"]=new c("25","26","25","8","8.5",0,0);this.R["25"]=new c("51","52","52","10","4.00001",0,0);this.R["51"]=new c("99","100","100","133","5.5",0,0);this.R["99"]=new c("189","190","190","7","40.5",0,0);this.R["189"]=new c("189","190","190","0","0",1,.151839);this.R["190"]=new c("189","190","190","0","0",1,-.855517);this.R["100"]=new c("191","192","192","133","14.5",0,0);this.R["191"]=new c("191","192","192","0","0",1,.86223);this.R["192"]=new c("191","192","192","0","0",1,.544394);this.R["52"]=new c("101","102","101","135","47.5",0,0);this.R["101"]=new c("193","194","194","4","24.5",0,0);this.R["193"]=new c("193","194","194","0","0",1,.946185);this.R["194"]=new c("193","194","194","0","0",1,.811859);this.R["102"]=new c("193","194","194","0","0",1,-.991561);this.R["26"]=new c("53","54","54","132","6.5",0,0);this.R["53"]=new c("103","104","103","131","85",0,0);this.R["103"]=new c("195","196","196","134","16.5",0,0);this.R["195"]=new c("195","196","196","0","0",1,.0473538);this.R["196"]=new c("195","196","196","0","0",1,-.999401);this.R["104"]=new c("197","198","198","8","15.5",0,0);this.R["197"]=new c("197","198","198","0","0",1,.816129);this.R["198"]=new c("197","198","198","0","0",1,-.99322);this.R["54"]=new c("105","106","105","133","3.5",0,0);this.R["105"]=new c("105","106","105","0","0",1,-.998783);this.R["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.R["199"]=new c("199","200","199","0","0",1,.528588);this.R["200"]=new c("199","200","199","0","0",1,-.998599);this.R["6"]=new c("13","14","14","10","7.5",0,0);this.R["13"]=new c("27","28","28","133","7.5",0,0);this.R["27"]=new c("55","56","56","10","4.5",0,0);this.R["55"]=new c("107","108","107","3","3.5",0,0);this.R["107"]=new c("201","202","201","4","17.5",0,0);this.R["201"]=new c("201","202","201","0","0",1,-.379512);this.R["202"]=new c("201","202","201","0","0",1,.15165);this.R["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.R["203"]=new c("203","204","203","0","0",1,-.884606);this.R["204"]=new c("203","204","203","0","0",1,.265406);this.R["56"]=new c("109","110","109","136","6.5",0,0);this.R["109"]=new c("205","206","205","4","157.5",0,0);this.R["205"]=new c("205","206","205","0","0",1,-.0142737);this.R["206"]=new c("205","206","205","0","0",1,.691279);this.R["110"]=new c("205","206","205","0","0",1,-.998086);this.R["28"]=new c("57","58","58","138","11.5",0,0);this.R["57"]=new c("111","112","112","2","6.5",0,0);this.R["111"]=new c("207","208","208","7","67.5",0,0);this.R["207"]=new c("207","208","208","0","0",1,.763925);this.R["208"]=new c("207","208","208","0","0",1,-.309645);this.R["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.R["209"]=new c("209","210","209","0","0",1,-.306635);this.R["210"]=new c("209","210","209","0","0",1,.556696);this.R["58"]=new c("113","114","113","138","50.5",0,0);this.R["113"]=new c("211","212","212","8","25.5",0,0);this.R["211"]=new c("211","212","212","0","0",1,.508234);this.R["212"]=new c("211","212","212","0","0",1,.793551);this.R["114"]=new c("211","212","212","0","0",1,-.998438);this.R["14"]=new c("29","30","29","134","27.5",0,0);this.R["29"]=new c("59","60","60","7","17.5",0,0);this.R["59"]=new c("115","116","115","135","5.5",0,0);this.R["115"]=new c("213","214","214","137","5.5",0,0);this.R["213"]=new c("213","214","214","0","0",1,.401747);this.R["214"]=new c("213","214","214","0","0",1,.0367503);this.R["116"]=new c("215","216","216","8","5.5",0,0);this.R["215"]=new c("215","216","216","0","0",1,-.0241984);this.R["216"]=new c("215","216","216","0","0",1,-.999046);this.R["60"]=new c("117","118","117","0","12.5",0,0);this.R["117"]=new c("217","218","218","132","5.5",0,0);this.R["217"]=new c("217","218","218","0","0",1,-.997294);this.R["218"]=new c("217","218","218","0","0",1,.210398);this.R["118"]=new c("219","220","219","137","1.5",0,0);this.R["219"]=new c("219","220","219","0","0",1,-.55763);this.R["220"]=new c("219","220","219","0","0",1,.074493);this.R["30"]=new c("61","62","62","133","42.5",0,0);this.R["61"]=new c("119","120","119","135","5.5",0,0);this.R["119"]=new c("221","222","222","4","473.5",0,0);this.R["221"]=new c("221","222","222","0","0",1,-.920213);this.R["222"]=new c("221","222","222","0","0",1,-.17615);this.R["120"]=new c("223","224","224","5","144",0,0);this.R["223"]=new c("223","224","224","0","0",1,-.954295);this.R["224"]=new c("223","224","224","0","0",1,-.382538);this.R["62"]=new c("121","122","121","133","50",0,0);this.R["121"]=new c("225","226","226","10","18.5",0,0);this.R["225"]=new c("225","226","226","0","0",1,-.0731343);this.R["226"]=new c("225","226","226","0","0",1,.755454);this.R["122"]=new c("227","228","228","0","30",0,0);this.R["227"]=new c("227","228","228","0","0",1,.25);this.R["228"]=new c("227","228","228","0","0",1,-.997101);}function f(d,g,n,h,m,p){this.U$=m;this.b4=p;}b=a(21457);k=a(79809);a={};a.Evb=new (function(){this.wqb=k();this.Qa=0;this.update=function(){this.Qa=k() - this.wqb;};this.type="num";})();a.sRb=new (function(){this.type="cat";})();a.tRb=new (function(){this.type="cat";})();a.vRb=new (function(){this.type="cat";})();a.wRb=new (function(){this.type="cat";})();a.uRb=new (function(){this.type="cat";})();a.xRb=new (function(){this.type="cat";})();a.yRb=new (function(){this.type="cat";})();a.zRb=new (function(){this.type="cat";})();a.ARb=new (function(){this.type="cat";})();a.BRb=new (function(){this.type="cat";})();a.CRb=new (function(){this.type="cat";})();a.DRb=new (function(){this.type="cat";})();a.FRb=new (function(){this.type="cat";})();a.GRb=new (function(){this.type="cat";})();a.HRb=new (function(){this.type="cat";})();a.ERb=new (function(){this.type="cat";})();a.rwb=new (function(){this.update=function(d){for(var g in d.Lb){if("becauseYouAdded" === d.Lb[g].context){this.Qa=Math.max(d.Lb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.swb=new (function(){this.update=function(d){for(var g in d.Lb){if("becauseYouLiked" === d.Lb[g].context){this.Qa=Math.max(d.Lb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.uwb=new (function(){this.update=function(d){for(var g in d.Lb){if("billboard" === d.Lb[g].context){this.Qa=Math.max(d.Lb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.Ozb=new (function(){this.update=function(d){for(var g in d.Lb){if("continueWatching" === d.Lb[g].context){this.Qa=Math.max(d.Lb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.twb=new (function(){this.update=function(d){for(var g in d.Lb){if("bigRow" === d.Lb[g].context){this.Qa=Math.max(d.Lb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.fJb=new (function(){this.update=function(d){for(var g in d.Lb){if("genre" === d.Lb[g].context){this.Qa=Math.max(d.Lb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.QUb=new (function(){this.update=function(d){for(var g in d.Lb){if("netflixOriginals" === d.Lb[g].context){this.Qa=Math.max(d.Lb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.WUb=new (function(){this.update=function(d){for(var g in d.Lb){if("newRelease" === d.Lb[g].context){this.Qa=Math.max(d.Lb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.KYb=new (function(){this.update=function(d){for(var g in d.Lb){if("popularTitles" === d.Lb[g].context){this.Qa=Math.max(d.Lb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.KN=new (function(){this.update=function(d){for(var g in d.Lb){if("queue" === d.Lb[g].context){this.Qa=Math.max(d.Lb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.Q_b=new (function(){this.update=function(d){for(var g in d.Lb){if("recentlyAdded" === d.Lb[g].context){this.Qa=Math.max(d.Lb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.x4b=new (function(){this.update=function(d){for(var g in d.Lb){if("similars" === d.Lb[g].context){this.Qa=Math.max(d.Lb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.s7b=new (function(){this.update=function(d){for(var g in d.Lb){if("trendingNow" === d.Lb[g].context){this.Qa=Math.max(d.Lb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.P7b=new (function(){this.update=function(d){for(var g in d.Lb){if("ultraHD" === d.Lb[g].context){this.Qa=Math.max(d.Lb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.U9b=new (function(){this.update=function(d){for(var g in d.Lb){if("watchAgain" === d.Lb[g].context){this.Qa=Math.max(d.Lb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.f7b=new (function(){this.update=function(d){for(var g in d.Lb){if("topTen" === d.Lb[g].context){this.Qa=Math.max(d.Lb[g].list.length,this.Qa);break;}}};this.type="num";this.Qa=0;})();a.Zzb=new (function(){this.type="cat";})();a.$zb=new (function(){this.type="cat";})();a.aAb=new (function(){this.type="cat";})();a.bAb=new (function(){this.type="cat";})();a.cAb=new (function(){this.type="cat";})();a.dAb=new (function(){this.type="cat";})();a.eAb=new (function(){this.type="cat";})();a.fAb=new (function(){this.type="cat";})();a.gAb=new (function(){this.type="cat";})();a.hAb=new (function(){this.type="cat";})();a.iAb=new (function(){this.type="cat";})();a.jAb=new (function(){this.type="cat";})();a.kAb=new (function(){this.type="cat";})();a.lAb=new (function(){this.type="cat";})();a.mAb=new (function(){this.type="cat";})();a.nAb=new (function(){this.type="cat";})();a.oAb=new (function(){this.type="cat";})();a.pAb=new (function(){this.type="cat";})();a.qAb=new (function(){this.type="cat";})();a.rAb=new (function(){this.type="cat";})();a.sAb=new (function(){this.type="cat";})();a.tAb=new (function(){this.type="cat";})();a.uAb=new (function(){this.type="cat";})();a.vAb=new (function(){this.type="cat";})();a.wAb=new (function(){this.type="cat";})();a.xAb=new (function(){this.type="cat";})();a.yAb=new (function(){this.type="cat";})();a.zAb=new (function(){this.type="cat";})();a.AAb=new (function(){this.type="cat";})();a.BAb=new (function(){this.type="cat";})();a.CAb=new (function(){this.type="cat";})();a.DAb=new (function(){this.type="cat";})();a.EAb=new (function(){this.type="cat";})();a.FAb=new (function(){this.type="cat";})();a.GAb=new (function(){this.type="cat";})();a.HAb=new (function(){this.type="cat";})();a.IAb=new (function(){this.type="cat";})();a.JAb=new (function(){this.type="cat";})();a.KAb=new (function(){this.type="cat";})();a.LAb=new (function(){this.type="cat";})();a.MAb=new (function(){this.type="cat";})();a.NAb=new (function(){this.type="cat";})();a.OAb=new (function(){this.type="cat";})();a.PAb=new (function(){this.type="cat";})();a.QAb=new (function(){this.type="cat";})();a.RAb=new (function(){this.type="cat";})();a.SAb=new (function(){this.type="cat";})();a.TAb=new (function(){this.type="cat";})();a.UAb=new (function(){this.type="cat";})();a.VAb=new (function(){this.type="cat";})();a.WAb=new (function(){this.type="cat";})();a.XAb=new (function(){this.type="cat";})();a.YAb=new (function(){this.type="cat";})();a.ZAb=new (function(){this.type="cat";})();a.$Ab=new (function(){this.type="cat";})();a.aBb=new (function(){this.type="cat";})();a.bBb=new (function(){this.type="cat";})();a.cBb=new (function(){this.type="cat";})();a.dBb=new (function(){this.type="cat";})();a.eBb=new (function(){this.type="cat";})();a.fBb=new (function(){this.type="cat";})();a.gBb=new (function(){this.type="cat";})();a.hBb=new (function(){this.type="cat";})();a.iBb=new (function(){this.type="cat";})();a.jBb=new (function(){this.type="cat";})();a.kBb=new (function(){this.type="cat";})();a.lBb=new (function(){this.type="cat";})();a.mBb=new (function(){this.type="cat";})();a.nBb=new (function(){this.type="cat";})();a.oBb=new (function(){this.type="cat";})();a.pBb=new (function(){this.type="cat";})();a.qBb=new (function(){this.type="cat";})();a.rBb=new (function(){this.type="cat";})();a.sBb=new (function(){this.type="cat";})();a.tBb=new (function(){this.type="cat";})();a.uBb=new (function(){this.type="cat";})();a.vBb=new (function(){this.type="cat";})();a.wBb=new (function(){this.type="cat";})();a.xBb=new (function(){this.type="cat";})();a.T_b=new (function(){this.type="cat";})();a.U_b=new (function(){this.type="cat";})();a.V_b=new (function(){this.type="cat";})();a.W_b=new (function(){this.type="cat";})();a.X_b=new (function(){this.type="cat";})();a.Y_b=new (function(){this.type="cat";})();a.Z_b=new (function(){this.type="cat";})();a.$_b=new (function(){this.type="cat";})();a.a0b=new (function(){this.type="cat";})();a.b0b=new (function(){this.type="cat";})();a.c0b=new (function(){this.type="cat";})();a.d0b=new (function(){this.type="cat";})();a.e0b=new (function(){this.type="cat";})();a.f0b=new (function(){this.type="cat";})();a.g0b=new (function(){this.type="cat";})();a.h0b=new (function(){this.type="cat";})();a.i0b=new (function(){this.type="cat";})();a.j0b=new (function(){this.type="cat";})();a.k0b=new (function(){this.type="cat";})();a.l0b=new (function(){this.type="cat";})();a.m0b=new (function(){this.type="cat";})();a.n0b=new (function(){this.type="cat";})();a.o0b=new (function(){this.type="cat";})();a.W5b=new (function(){this.update=function(d){"down" === d.direction && this.Qa++;};this.type="num";this.Qa=0;})();a.Y5b=new (function(){this.update=function(d){"right" === d.direction && this.Qa++;};this.type="num";this.Qa=0;})();a.X5b=new (function(){this.update=function(d){"left" === d.direction && this.Qa++;};this.type="num";this.Qa=0;})();a.Z5b=new (function(){this.update=function(d){"up" === d.direction && this.Qa++;};this.type="num";this.Qa=0;})();a.BTb=new (function(){this.Qa=0;this.update=function(d){this.Qa=Math.max(this.Qa,d.rowIndex);};this.type="num";})();a.CTb=new (function(){this.Qa=0;this.update=function(d){this.Qa=Math.max(this.Qa,d.cWa);};this.type="num";})();a.HTb=new (function(){this.iE=this.Qa=0;this.update=function(d){this.iE++;this.Qa=1 * (this.Qa + d.rowIndex) / this.iE;};this.type="num";})();a.ITb=new (function(){this.iE=this.Qa=0;this.update=function(d){this.iE++;return this.Qa=1 * (this.Qa + d.cWa) / this.iE;};this.type="num";})();a.qZb=new (function(){this.type="num";})();a.rZb=new (function(){this.type="num";})();l.prototype.QC=function(d){return this.gSa(this.R["0"].$bb(d),d);};l.prototype.gSa=function(d,g){return "string" == typeof d?this.gSa(this.R[d].$bb(g),g):d;};c.prototype.$bb=function(d){switch(this.JQb){case 0:switch(d.features[this.aZ].type){case "cat":return null === d.features[this.aZ].value?this.h8a:"missing" == d.features[this.aZ].value?this.Ty:this.Rhb;case "num":return null === d.features[this.aZ].value?this.Ty:d.features[this.aZ].value < this.split?this.Rhb:this.h8a;default:return this.Ty;}case 1:return this.QC;default:return this.QC;}};b.declare({gW:["modelSelector","modelone"],gzb:["colEpisodeList",5],dOb:["holdDuration",15E3],Mbb:["rowFirst",2],bWa:["colFirst",5],Nbb:["rowScroll",2],dWa:["colScroll",6],R1b:["rowScrollHorizontal",6],p2b:["searchTop",3],IXa:["cwFirst",2],PU:["horizontalItemsFocusedMode",3],KQb:["itemsPerRank",1],nTb:["maxNumberPayloadsStored",10],U6a:["maxNumberTitlesScheduled",5],lgc:["enableDetailedLogging",!0],hjc:["rowStep",20],Afc:["colStep",15],Jic:["pageRows",100],Iic:["pageColumns",75],qsa:["maskParamsList",new (function(){var d,g;this.qsa=[];this.jl={};this.U$=20;this.b4=15;for(d=0;100 > d;d++){for(g=0;75 > g;g++){(Math.floor(d / this.U$) + "_" + Math.floor(g / this.b4) in this.jl) || (this.jl[Math.floor(d / this.U$) + "_" + Math.floor(g / this.b4)]=1,this.qsa.push(new f("grid",10,5,5,Math.floor(d / this.U$),Math.floor(g / this.b4))));}}})().qsa],R:["nodes",new l().R],mapping:["mapping",{CTb:"0",ITb:"1",BTb:"2",HTb:"3",Evb:"4",Z5b:"5",X5b:"6",Y5b:"7",W5b:"8",rZb:"9",qZb:"10",sRb:"11",tRb:"12",vRb:"13",wRb:"14",uRb:"15",xRb:"16",yRb:"17",zRb:"18",ARb:"19",BRb:"20",CRb:"21",DRb:"22",ERb:"23",FRb:"24",GRb:"25",HRb:"26",T_b:"27",U_b:"28",V_b:"29",W_b:"30",X_b:"31",Y_b:"32",Z_b:"33",$_b:"34",a0b:"35",b0b:"36",c0b:"37",d0b:"38",e0b:"39",f0b:"40",g0b:"41",h0b:"42",i0b:"43",j0b:"44",k0b:"45",l0b:"46",m0b:"47",n0b:"48",o0b:"49",Zzb:"50",$zb:"51",aAb:"52",bAb:"53",cAb:"54",dAb:"55",eAb:"56",fAb:"57",gAb:"58",hAb:"59",iAb:"60",jAb:"61",kAb:"62",lAb:"63",mAb:"64",nAb:"65",oAb:"66",pAb:"67",qAb:"68",rAb:"69",sAb:"70",tAb:"71",uAb:"72",vAb:"73",wAb:"74",xAb:"75",yAb:"76",zAb:"77",AAb:"78",BAb:"79",CAb:"80",DAb:"81",EAb:"82",FAb:"83",GAb:"84",HAb:"85",IAb:"86",JAb:"87",KAb:"88",LAb:"89",MAb:"90",NAb:"91",OAb:"92",PAb:"93",QAb:"94",RAb:"95",SAb:"96",TAb:"97",UAb:"98",VAb:"99",WAb:"100",XAb:"101",YAb:"102",ZAb:"103",$Ab:"104",aBb:"105",bBb:"106",cBb:"107",dBb:"108",eBb:"109",fBb:"110",gBb:"111",hBb:"112",iBb:"113",jBb:"114",kBb:"115",lBb:"116",mBb:"117",nBb:"118",oBb:"119",pBb:"120",qBb:"121",rBb:"122",sBb:"123",tBb:"124",uBb:"125",vBb:"126",wBb:"127",xBb:"128",U9b:"129",Q_b:"130",x4b:"131",KN:"132",Ozb:"133",fJb:"134",s7b:"135",f7b:"136",uwb:"137",WUb:"138",P7b:"139",KYb:"140",rwb:"141",twb:"142",swb:"143",QUb:"144"}],features:["features",a],Dec:["_modelName","tree"],xec:["_format","xgboost"],Cec:["_itemsToKeep",5],Bec:["_itemsThreshold",null],kfc:["cacheLimit",20]});r.exports={config:b,Mhc:f,Kfc:c};},45578:function(r){r.exports={Nw:{bga:0,FNa:1,Uh:2,name:["transient","semiTransient","permanent"]},Jw:{qFa:0,ENa:1,i1:2,xQ:3,gx:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},lec:{$dc:0,acc:1,uac:2,gx:100,name:["trailer","montage","content"]},Hu:{JHa:0,jNa:1,mpb:2,nkb:3,gx:100,name:["left","right","up","down"]},aQ:{Ajb:0,i1:1,Lbc:2,gbc:3,U$b:4,Kbc:5,zib:6,gx:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},dJ:{xQ:0,JDa:1,gx:100,name:["playFocused","detailsOpened"]}};},90638:function(r,b,a){var f,k,d,g,n,h,m,p,q,u;function c(t,w){this.Lj=t;this.Kl=w;}function l(t){this.T=t;this.reset();}f=a(79809);k=a(45578);b=a(76122);d=a(94030).config;g=b.VJb;n=b.EJb;h=b.lEb;m=b.NVb;p=b.MVb;q=b.LVb;u=b.m_a;l.prototype.constructor=l;l.prototype.reset=function(){this.JRa=void 0;this.ck=[];this.BRa=this.CRa=!1;};l.prototype.update=function(t,w){var v;this.ck && (this.ck=this.ck.filter(this.j4b,this));if(!1 === this.CRa){v=g(t.Lb).slice(0,d.IXa);0 < v.length && (this.XG(v,k.Nw.Uh),this.CRa=!0,this.ck=this.DI(v.concat(this.ck)));}!1 === this.BRa && (v=n(t.Lb).slice(0,d.IXa),0 < v.length && (this.XG(v,k.Nw.Uh),this.BRa=!0,this.ck=this.DI(v.concat(this.ck))));switch(w){case k.Jw.qFa:w=this.qNb(t);break;case k.Jw.ENa:w=this.ANb(t);break;case k.Jw.i1:w=this.BNb(t);break;case k.Jw.xQ:w=this.vNb(t);break;default:w=this.nNb(t);}this.JRa=t;return w;};l.prototype.qNb=function(t){t=m(t.Lb,d.Mbb,d.bWa);this.XG(t,k.Nw.Uh);return this.ck=this.DI(this.ck.concat(t));};l.prototype.ANb=function(t){var w,v;this.T.log("handleScrollHorizontal");w=t.Lb;t=m(w,d.Nbb,d.dWa);v=h(w,this.JRa.Lb);w=w[v].list.slice(0,d.R1b);w.concat(t);this.XG(w,k.Nw.bga);return this.DI(w.concat(this.ck));};l.prototype.XG=function(t,w){t.forEach(function(v){if(void 0 === v.YA || v.YA < w)v.YA=w;void 0 === v.IO && (v.IO=f());void 0 === v.Vk && (v.Vk=f());});};l.prototype.BNb=function(t){this.T.log("handleSearch");t=p(t.Lb,d.p2b);this.XG(t,k.Nw.FNa);this.ck=t.concat(this.ck);return this.ck=this.DI(this.ck);};l.prototype.vNb=function(t){var w,v,y,x,z;this.T.log("handlePlayFocus: ",d.PU);w=t.direction;v=t.Lb;t=[];y=u(v);if(void 0 !== y.Lj)switch((t.push(y),w)){case k.Hu.jNa:for(w=1;w < d.PU;w++){t.push(new c(y.Lj,y.Kl + w));}t.push(new c(y.Lj - 1,y.Kl));t.push(new c(y.Lj + 1,y.Kl));break;case k.Hu.JHa:for(w=1;w < d.PU;w++){t.push(new c(y.Lj,y.Kl - w));}t.push(new c(y.Lj - 1,y.Kl));t.push(new c(y.Lj + 1,y.Kl));break;case k.Hu.mpb:t.push(new c(y.Lj - 1,y.Kl));for(w=1;w <= d.PU / 2;w++){t.push(new c(y.Lj,y.Kl + w));t.push(new c(y.Lj,y.Kl - w));}break;case k.Hu.nkb:for((t.push(new c(y.Lj + 1,y.Kl)),w=1);w <= d.PU / 2;w++){t.push(new c(y.Lj,y.Kl + w));t.push(new c(y.Lj,y.Kl - w));}}x=[];t.forEach(function(A){z=q(v,A.Lj,A.Kl);void 0 !== z && x.push(z);});this.XG(x,k.Nw.bga);return this.DI(x.concat(this.ck));};l.prototype.nNb=function(t){this.T.log("ModelOne: handleDefaultCase");t=m(t.Lb,d.Nbb,d.dWa);this.XG(t,k.Nw.bga);return this.DI(t.concat(this.ck));};l.prototype.j4b=function(t){return t.YA == k.Nw.Uh | t.YA == k.Nw.FNa & f() - t.IO < d.dOb;};l.prototype.DI=function(t){var w,v,y,x,z,A,B;w=[];v={};x=0;z=t.length;for(y=0;y < z;y++){A=t[y].J;B=t[y];!1 === (A in v)?(w.push(B),v[A]=x,x++):(A=w[v[A]],B.Vk < A.Vk && (A.Vk=B.Vk),B.YA > A.YA && (A.YA=B.YA),B.IO > A.IO && (A.IO=B.IO));}return w;};r.exports=l;},7795:function(r){function b(c,l){var f;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.ig)return (this.ig={},this.ig[c]=[l],!0);f=this.ig[c];return void 0 === f?(this.ig[c]=[l],!0):0 > f.indexOf(l)?(f.push(l),!0):!1;}function a(c,l){c=this.ig?this.ig[c]:void 0;if(!c)return !1;c.forEach(function(f){f(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,l){var f;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.ig)return !1;f=this.ig[c];if(void 0 === f)return !1;l=f.indexOf(l);if(0 > l)return !1;if(1 === f.length)return (delete this.ig[c],!0);f.splice(l,1);return !0;},Wq:a,emit:a,removeAllListeners:function(c){this.ig && (void 0 === c?delete this.ig:delete this.ig[c]);return this;}};},65267:function(r){function b(c,l,f,k){c.trace(":",f,":",k);l(k);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,l,f,k){f=k?f.bind(k):f;k=!1;if(c){this.console && (f=b.bind(null,this.console,f,l));if("function" === typeof c.addEventListener)k=c.addEventListener(l,f);else if("function" === typeof c.addListener)k=c.addListener(l,f);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,f]);}return k;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var f,k;f=l[0];k=l[1];l=l[2];"function" === typeof f.removeEventListener?f.removeEventListener(k,l):"function" === typeof f.removeListener && f.removeListener(k,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},41628:function(r,b,a){r.exports={EventEmitter:a(7795),De:a(65267)};},99886:function(r,b,a){var k,d,g,n,h,m,p;function c(q,u,t,w,v,y){this.P=this.J=q;this.priority=u;this.Ce=t;y && y.Cd && (this.Cd=y.Cd);void 0 !== w && (this.vN=w);this.Vk=v;this.wb=y;}function l(q,u,t,w,v){g(void 0 !== w,"video preparer is null");g(void 0 !== v,"ui preparer is null");this.T=u || console;this.T=u;this.ka=t;this.Ysb=w;this.Osb=v;this.IRa=m.mva;this.fK=[];this.eia=!1;this.jR=0;new p().on(m,"changed",f,this);this.reset();}function f(){this.T.log("config changed");m.mva && (this.IRa=m.mva);m.gW !== this.ZJ && (this.reset(),this.rwa());}k=a(79809);d=a(45578);b=a(76122);g=b.assert;n=b.m_a;h=a(90638);m=a(94030).config;p=a(41628).De;m.declare({mva:["ppmConfig",{oac:{C8a:0,B8a:2,z8a:0,A8a:5,hdb:0},Rdc:{C8a:0,B8a:1,z8a:0,A8a:3,hdb:1E3},wac:{C8a:0,B8a:1,z8a:0,A8a:3,hdb:1E3}}]});l.prototype.constructor=l;l.prototype.reset=function(){this.Yga=!0;this.ZJ=m.gW;this.T.log("create model: " + m.gW,m.Mbb,m.bWa);switch(m.gW){case "modelone":this.ZJ=new h(this.T);break;default:this.ZJ=new h(this.T);}};l.prototype.rwa=function(){var u,t;if(!1 === this.eia){this.eia=!0;for(var q=0;q < this.fK.length;q++){this.T.log("PlayPredictionModel replay: ",JSON.stringify(this.fK[q]));u=this.NWa(this.fK[q]);t=this.$_a(u);this.ZJ.update(u,t);this.Yga=!1;}this.fK=[];}};l.prototype.update=function(q){var u,t,w;this.T.log("PlayPredictionModel update: ",JSON.stringify(q));if(q && q.Lb && q.Lb[0]){!1 === this.eia && this.fK.length < m.nTb && this.fK.push(q);u=this.NWa(q);t=this.$_a(u);this.T.log("actionType",t);u="mlmodel" == m.gW?this.ZJ.update(q,t):this.ZJ.update(u,t);u=this.eJb(u,m.KQb || 1);this.T.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(u));0 === this.jR && (this.jR=k(),this.ka && this.ka.sX && this.ka.sX({jEb:this.jR}));if(this.ka && this.ka.U0b){this.dKb();w=[];u.forEach(function(v){w.push({fkc:v.J});});JSON.stringify(q);JSON.stringify(u);}this.Ysb.qH(u);this.Osb.qH(u);this.Yga=!1;}};l.prototype.dKb=function(){k();};l.prototype.sX=function(){this.jR=k();this.ka && this.ka.sX && this.ka.sX({jEb:this.jR});};l.prototype.NWa=function(q){var u,t,w,v,y;u={};w=q.Lb || [];v=(function(x){var z,A;z={};y=d.aQ.name.indexOf(x.context);z.context=0 <= y?y:d.aQ.gx;z.rowIndex=x.rowIndex;z.requestId=x.requestId;z.list=[];t=x.list || [];t.forEach((function(B){A={J:B.J,Ce:B.Ce,index:B.index,vN:B.vN,m$:B.m$,list:B.list,wb:B.wb};void 0 !== B.property && (y=d.dJ.name.indexOf(B.property),A.property=0 <= y?y:d.dJ.gx);z.list.push(A);}).bind(this));u.Lb.push(z);}).bind(this);if(void 0 !== q.direction){y=d.Hu.name.indexOf(q.direction);u.direction=0 <= y?y:d.Hu.gx;}void 0 !== q.ST && (u.Cgc=q.ST.rowIndex,u.Bgc=q.ST.kzb);u.ST=q.ST;u.Lb=[];w.forEach(v);return u;};l.prototype.$_a=function(q){var u,t,w;u=q.direction || d.Hu.gx;t=q.ST;w=q.Lb || [];!0 === this.Yga?q=d.Jw.qFa:!0 === w.some(this.TNb)?(q=d.Jw.xQ,this.L$(w,u,t)):q=w[0].context === d.aQ.i1?d.Jw.i1:u === d.Hu.jNa || u === d.Hu.JHa?d.Jw.ENa:d.Jw.gx;return q;};l.prototype.TNb=function(q){return (q.list || []).some(function(u){return u.property === d.dJ.xQ || u.property === d.dJ.JDa;});};l.prototype.L$=function(q,u,t){var w,v;this.T.log("reportPlayFocusEvent: ",u,t);w={};v=n(q);this.ka && this.ka.L$ && (w.sgc=k(),w.direction=d.Hu.name[u],t && (w.rowIndex=t.rowIndex,w.cWa=t.kzb),void 0 !== v.Lj && (w.requestId=q[v.Lj].requestId),this.ka.L$ && this.ka.L$(w));};l.prototype.eJb=function(q,u){for(var t=q.length,w=[],v,y,x,z,A=0;A < t;A++){y=q[A];v=Math.floor(A / u) + 1;if(void 0 !== y.list){x=y.list;z=x.length;for(var B=0;B < Math.min(m.gzb,z) && !(x[B].Vk=y.Vk,this.bTa(x[B],v,w),w.length >= m.U6a);B++){;}}else this.bTa(y,v,w);if(w.length >= m.U6a)break;}return w;};l.prototype.bTa=function(q,u,t){var v,y;function w(x){x.Cd && (x.wb || (x.wb={}),x.wb.Cd=x.Cd);return x.wb;}v=q.m$;if(void 0 !== v && v instanceof Array)v.forEach(function(x){void 0 !== x.J && (y=w(x),t.push(new c(x.J,u,x.Ce,x.vN,q.Vk,y)));});else if(void 0 !== v && void 0 !== v.J){v=q.m$;y=w(v);t.push(new c(v.J,u,v.Ce,v.vN,q.Vk,y));}void 0 !== q.J && (y=w(q),t.push(new c(q.J,u,q.Ce,q.vN,q.Vk,y)));};l.prototype.VF=function(q){var u;u=this.IRa;return q?u[q]:u;};r.exports=l;},76122:function(r,b,a){var l;function c(f){for(var k="",d=0;d < f.length;d++){k+=f[d].J + "|";}return k;}l=a(45578);r.exports={assert:function(f,k){if(!f)throw Error("PlayPredictionModel assertion failed" + (k?" : " + k:""));},phc:function(f,k,d){Array.prototype.splice.apply(f,[k,0].concat(d));},VJb:function(f){for(var k=[],d=0;d < f.length;d++){if(f[d].context === l.aQ.Ajb){k=f[d].list;break;}}return k;},EJb:function(f){for(var k=[],d=0;d < f.length;d++){if(f[d].context === l.aQ.zib){k=f[d].list;break;}}return k;},lEb:function(f,k){for(var d=0,g,n,h,m=0,p=f.length - 1;m < p;m++){g=c(f[m].list || []);h=!1;for(var q=0,u=k.length;q < u;q++){if((n=c(k[q].list || []),n == g)){h=!0;break;}}if(!1 === h){d=m;break;}}return d;},NVb:function(f,k,d){for(var g=[],n,h=0;h < Math.min(k,f.length);h++){n=f[h].list || [];g=g.concat(n.slice(0,d));}return g;},MVb:function(f,k){for(var d=[],g,n=0;n < f.length && (g=f[n].list || [],g=g.slice(0,Math.min(g.length,k)),k-=g.length,d=d.concat(g),0 !== k);n++){;}return d;},LVb:function(f,k,d){var g;k < f.length && 0 <= k && (f=f[k].list || [],d < f.length && (g=f[d]));return g;},m_a:function(f){for(var k={},d=f.length,g,n=0;n < d;n++){g=f[n].list || [];for(var h=0;h < g.length;h++){if(g[h].property === l.dJ.xQ || g[h].property === l.dJ.JDa){k.Lj=n;k.Kl=h;break;}}}void 0 === k.Lj && void 0 === k.Kl && (k.Lj=0,k.Kl=0);return k;}};},21457:function(r,b,a){var n,h,m,p,q,u,t,w;function c(v){return v.split(",").reduce(function(y,x){var z;z=x.split("=");x=z[0];z=z.slice(1).join("=");x && x.length && (y[x]=z || !0);return y;},{});}function l(v){return v && "object" === typeof v?JSON.stringify(v):"string" === typeof v?'"' + v + '"':"" + v;}function f(v,y,x){var z;if("string" === typeof v)return f.call(this,c(v),y,x);z=0;Object.keys(v).forEach(function(A){var B,C,D;B=q[A];C=v[A];if(B){if(D=u[A] || w[typeof n[B]])try{C=D(C);}catch(E){x && x.error("Failed to convert value '" + C + "' for config '" + A + "' : " + E.toString());return;}D=p[B];this[B]=C;p[B] !== D && (x && x.debug("Config changed for '" + A + "' from " + l(D) + " (" + typeof D + ") to " + l(C) + " (" + typeof C + ")"),++z);}else y?(B=(B=t[A])?B.filter(function(E){return E[0] !== this;},this):[],B.push([this,C]),t[A]=B):x && x.error("Attempt to change undeclared config option '" + A + "'");},this);z && p.emit("changed");return z;}function k(){return Object.keys(q).reduce(function(v,y){var x,z;x=q[y];z=v[x];z?(z.push(y),v[x]=z.sort(function(A,B){return B.length - A.length;})):v[x]=[y];return v;},{});}function d(v,y){return v.hasOwnProperty(y)?l(v[y]):void 0;}function g(v,y){return "undefined" === typeof v?y:v;}b=a(54);a=a(37911).EventEmitter;n={};h=Object.create(n);m=Object.create(h);p=Object.create(m);q={};u={};t={};p.declare=function(v){Object.keys(v).forEach(function(y){var x,z,A,B;x=v[y];z=x[0];A=x[1];B=x[2];if(n.hasOwnProperty(y))throw Error("The local configuraion key '" + y + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(C){var D;if(q.hasOwnProperty(C))throw Error("The configuration value '" + C + "' has been declared more than once");n.hasOwnProperty(y) || ("function" === typeof A && (A=A()),n[y]=A);q[C]=y;"function" === typeof B && (u[C]=B);if(D=t[C])(D.forEach(function(E){var G,F;G=E[0];F={};F[C]=E[1];f.call(G,F,!1);}),delete t[C]);});});return p;};w={object:function(v){return "object" == typeof v?v:JSON.parse("" + v);},"boolean":function(v){return "boolean" == typeof v?v:!("0" === "" + v || "false" === ("" + v).toLowerCase());},number:function(v){if("number" == typeof v)return v;v=parseFloat("" + v);if(isNaN(v))throw Error("parseFloat returned NaN");return v;}};p.set=f.bind(h);p.GW=f.bind(m);p.dump=function(v,y){var z,A,B,C;function x(){C && v && v.log("===========================================");}z=Object.keys(t).sort();A={};B=k();y=g(y,!0);Object.keys(q).sort().forEach(function(D){var E,G,F;D=q[D];if(!A[D]){A[D]=!0;E=d(h,D);G=d(m,D);if(y || "undefined" !== typeof E || "undefined" !== typeof G){F=B[D].join(",");F+=" = " + l(p[D]) + " (" + typeof p[D] + ") [";F+=g(G,"<unset>") + ",";F+=g(E,"<unset>") + ",";F+=d(n,D) + "]";C || (C=!0,v && v.log("Current config values"),x());v && v.log(F);}}});(y || z.length) && v && v.log("<undeclared> :",z);x();};p.Yn=function(v){var y,x;y={};x={};Object.keys(q).forEach(function(z){z=q[z];x[z] || (x[z]=!0,y[z]=p[z]);});v && f.call(y,v);return y;};p.M9a=function(){var v;v=k();return Object.getOwnPropertyNames(h).reduce(function(y,x){y[v[x][0]]=h[x];return y;},{});};p.reset=function(){Object.keys(h).forEach(function(v){delete h[v];});};p.ig={};b(a,p);r.exports=Object.freeze(p);},76295:function(r){function b(c,l){var f;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.ig)return (this.ig={},this.ig[c]=[l],!0);f=this.ig[c];return void 0 === f?(this.ig[c]=[l],!0):0 > f.indexOf(l)?(f.push(l),!0):!1;}function a(c,l){c=this.ig?this.ig[c]:void 0;if(!c)return !1;c.forEach(function(f){f(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,l){var f;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.ig)return !1;f=this.ig[c];if(void 0 === f)return !1;l=f.indexOf(l);if(0 > l)return !1;if(1 === f.length)return (delete this.ig[c],!0);f.splice(l,1);return !0;},Wq:a,emit:a,removeAllListeners:function(c){this.ig && (void 0 === c?delete this.ig:delete this.ig[c]);return this;}};},92653:function(r){function b(c,l,f,k){c.trace(":",f,":",k);l(k);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,l,f,k){f=k?f.bind(k):f;k=!1;if(c){this.console && (f=b.bind(null,this.console,f,l));if("function" === typeof c.addEventListener)k=c.addEventListener(l,f);else if("function" === typeof c.addListener)k=c.addListener(l,f);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,f]);}return k;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var f,k;f=l[0];k=l[1];l=l[2];"function" === typeof f.removeEventListener?f.removeEventListener(k,l):"function" === typeof f.removeListener && f.removeListener(k,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},37911:function(r,b,a){r.exports={EventEmitter:a(76295),De:a(92653)};},36888:function(r,b,a){var l,f,k,d,g;function c(n,h,m){void 0 === m && (m=0);return n.displayTime - m <= h && h < n.displayTime + n.duration;}Object.defineProperty(b,"__esModule",{value:!0});b.gjb=b.NBa=void 0;l=a(5163);f=a(42866);k=a(93161);d=a(57055);r=(function(n){function h(m,p,q,u,t,w,v,y){var x,z,A;x=this;x=n.call(this) || this;x.Bqb=m;x.pR=p;x.Gqb=q;x.ma=u;x.Mt=t;x.Toa=w;x.W9=v;x.options=y;x.tj=[];x.Mi=[];x.Ki=[];x.Vua=new d.De();x.kxa=new d.De();x.Z3=new d.De();x.oA=new g(function(){return p(m());},x.ma,(null === (z=x.options) || void 0 === z?void 0:z.aa) || !1);x.oA.events.on("bufferingcomplete",function(){var B;x.ma.trace("AseTimer:Received buffering complete from watcher");null === (B=x.Em) || void 0 === B?void 0:B.rf();x.Nta();});x.oA.jva();x.mdb();x.Vua.on(x.W9,"segmentPresenting",function(){x.W8a();});x.Vua.on(x.W9,"taskSchedulerChanged",function(){x.mdb();});null === (A=x.Em) || void 0 === A?void 0:A.Oa();return x;}l.__extends(h,n);Object.defineProperty(h.prototype,"_buffering",{get:function(){return this.oA.JS;},enumerable:!1,configurable:!0});h.prototype.R5b=function(){var m,p,q,u,t,w,v,y,x,z,A,B,C,D;D=this;return l.__generator(this,function(E){switch(E.label){case 0:this.ma.trace("AseTimer:Starting subtitle worker");if(this.Mt())return (this.ma.trace("Paused: exiting"),[2]);m=function(){return D.Ad.sa.currentTime.G;};p=this.Bqb;this.Ki=this.Mi.concat(this.tj);this.Q$a(p(),!0);E.label=1;case 1:if(!this.Ki.length)return [3,3];u=q=p();this.BVa(q);try{for((t=(B=void 0,l.__values(this.Ki)),w=t.next());!w.done;w=t.next()){v=w.value;this.ma.trace(("AseTimer:Checking subtitle ").concat(v.id));q >= v.displayTime + v.duration || (c(v,q,this.options.Mjc)?(this.ma.trace(("AseTimer:Showing subtitle ").concat(v.id)),this.oZb(v),u=Math.max(q,v.displayTime)):(this.ma.trace(("AseTimer:Staging subtitle ").concat(v.id)),this.pya(v)));}}catch(G){B={error:G};}finally{try{w && !w.done && (C=t.return) && C.call(t);}finally{if(B)throw B.error;}}y=this.oxb(u);if(!isFinite(y))return (this.oA.jva(),[3,3]);x=m();z=this.Gqb(y,q);if(void 0 === z)return [3,3];A=Math.max(z,10) + x;this.ma.trace(("AseTimer:Sleeping till PlayerTime ").concat(A));return [4,k.Lg.vu(f.L.Na(A))];case 2:return (E.Wa(),this.Q$a(p()),[3,1]);case 3:return (this.ma.trace(("AseTimer:Checking removed subtitles one more time ").concat(p())),this.BVa(p()),this.ma.trace("AseTimer:Ending subtitle worker"),[2]);}});};h.prototype.Q$a=function(m,p){var q,u,t,w,v;u=this;void 0 === p && (p=!1);t=p || !this.tj.length;t || (t=this.Ki[this.Ki.length - 1].displayTime > m);if(t){this.ma.trace(("AseTimer:Getting subtitles for ").concat(m),{Hfc:this.Ad.sa.currentTime});w=this.pR(m);if(w){this.ma.trace(("AseTimer:Received ").concat(w.length," subtitles"));t=function(A){(0,f.ec)(v.Ki,function(B){return B.id === A.id;}) || m >= A.displayTime + A.duration || (v.ma.trace(("AseTimer:adding ").concat(A.id),{start:A.startTime,$fc:A.displayTime,end:A.endTime,hgc:A.duration}),v.Ki.push(A));};v=this;try{for(var y=l.__values(w),x=y.next();!x.done;x=y.next()){t(x.value);}}catch(A){var z;z={error:A};}finally{try{x && !x.done && (q=y.return) && q.call(y);}finally{if(z)throw z.error;}}p && this.Ki.filter(function(A){return !(0,f.ec)(w,function(B){return B.id === A.id;});}).forEach(function(A){return u.xW(A);});this.Ki.length || this.oA.jva();}else this.rh();}};h.prototype.stop=function(){var m;this.ma.trace("AseTimer:Stop");null === (m=this.Em) || void 0 === m?void 0:m.Oa();this.oA.reset();this.G$();this.Vua.clear();this.kxa.clear();this.Z3.clear();};h.prototype.G$=function(){var m,p,q,u;this.ma.trace("AseTimer:Removing all",this.Mi.length);u=this.Mi;try{for(var t=l.__values(u),w=t.next();!w.done;w=t.next()){this.xW(w.value);}}catch(y){var v;v={error:y};}finally{try{w && !w.done && (m=t.return) && m.call(t);}finally{if(v)throw v.error;}}this.Mi=[];if(null === (p=this.Em) || void 0 === p?0:p.j4a)null === (q=this.Em) || void 0 === q?void 0:q.Oa();};h.prototype.pause=function(){var m;null === (m=this.Em) || void 0 === m?void 0:m.Oa();};h.prototype.Hz=function(){var m,p,q,u;(null === (m=this.Em) || void 0 === m?void 0:m.state) !== k.Kk.complete && (null === (p=this.Em) || void 0 === p?void 0:p.state) !== k.Kk.zF || this.Mt() || (null === (q=this.Em) || void 0 === q?void 0:q.rf());this.Ln && this.oA.check();this.Mt() && (null === (u=this.Em) || void 0 === u?void 0:u.Oa());};h.prototype.mdb=function(){var m;m=this;this.ma.trace("Setting up new task scheduler");(this.Ad=this.Toa())?(this.kxa.clear(),this.kxa.on(this.Ad,"clockChanged",function(){return m.L8a();}),this.Em=this.Ad.$x(function(){return m.R5b();},"subtitleWorker"),this.L8a()):this.ma.warn("AseTimer: no player task scheduler");};h.prototype.oxb=function(m){var p;return null !== (p=this.Ki.map(function(q){return [q.displayTime,q.displayTime + q.duration + 1];}).reduce(function(q,u){return q.concat(u);},[]).filter(function(q){return q > m;}).sort(function(q,u){return q - u;})[0]) && void 0 !== p?p:Infinity;};h.prototype.L8a=function(){var m,p,q;m=this;this.Z3.clear();(null === (p=this.Ad) || void 0 === p?0:p.sa)?(this.ma.trace("onClockChanged: clock listeners registered"),this.Z3.on(this.Ad.sa,"clockAdjusted",function(u){u.reason === k.Uz.bI && m.W8a();}),this.Z3.on(this.Ad.sa,"stopStart",function(){var u;m.Ad.vG || (null === (u=m.Em) || void 0 === u?void 0:u.rf());})):this.ma.trace("onClockChanged: playerTaskScheduler has not been set or clock is undefined");null === (q=this.Em) || void 0 === q?void 0:q.rf();};h.prototype.W8a=function(){var m,p;this.ma.trace("Timeline changed");this.G$();this.Mt()?null === (p=this.Em) || void 0 === p?void 0:p.Oa():null === (m=this.Em) || void 0 === m?void 0:m.rf();};h.prototype.pya=function(m){-1 === this.tj.indexOf(m) && this.KWb(m);};h.prototype.BVa=function(m){var p,q,w;q=this.Mi.concat(this.tj);try{for(var u=l.__values(q),t=u.next();!t.done;t=u.next()){w=t.value;m >= w.displayTime + w.duration && this.xW(w);}}catch(y){var v;v={error:y};}finally{try{t && !t.done && (p=u.return) && p.call(u);}finally{if(v)throw v.error;}}};h.prototype.oZb=function(m){-1 === this.Mi.indexOf(m) && (this.Mi.push(m),-1 !== this.tj.indexOf(m) && (this.tj=this.tj.filter(function(p){return p !== m;})),this.cua(m));};h.prototype.cua=function(m){this.ma.trace("AseTimer:Showing",m.id);this.emit("showsubtitle",m);};h.prototype.KWb=function(m){this.ma.trace("AseTimer:Staging",m.id);this.tj.push(m);this.emit("stagesubtitle",m);};h.prototype.rh=function(){this.ma.trace("AseTimer:onUnderflow",this.Ln);this.Ln || (this.emit("underflow"),this.oA.rh());};h.prototype.xW=function(m){this.ma.trace("AseTimer:Removing",m.id);-1 !== this.tj.indexOf(m) && (this.tj=this.tj.filter(function(p){return p !== m;}));-1 !== this.Mi.indexOf(m) && (this.emit("removesubtitle",m),this.Mi=this.Mi.filter(function(p){return p !== m;}));this.Ki=this.Ki.filter(function(p){return p !== m;});};h.prototype.Nta=function(){var m;this.Ki.length && (this.emit("bufferingComplete"),this.Mt() || (null === (m=this.Em) || void 0 === m?void 0:m.rf()));};return h;})(d.EventEmitter);b.NBa=r;g=(function(){function n(h,m,p){void 0 === p && (p=!1);this.pR=h;this.ma=m;this.pha=p;this.events=new d.EventEmitter();this.Ln=!1;}Object.defineProperty(n.prototype,"buffering",{get:function(){return this.Ln;},enumerable:!1,configurable:!0});n.prototype.jva=function(){var h;h=this;this.ma.trace("AseTimer:Buffering watcher restart");this.Ln=!0;this.Kha && clearInterval(this.Kha);this.Kha=this.pha?setInterval(function(){return h.check();},500):setInterval(function(){return h.check();},2E4);};n.prototype.rh=function(){this.ma.trace("AseTimer:Buffering watcher underflow");this.Ln=!0;this.EVa(1);};n.prototype.reset=function(){this.ma.trace("AseTimer:Buffering watcher reset");clearInterval(this.Kha);clearTimeout(this.Qsb);this.Ln=!1;};n.prototype.EVa=function(h){var m;m=250 * (1 << h);2E3 < m && (m=2E3);this.check();this.Ln && (this.Qsb=setTimeout(this.EVa.bind(this,h + 1),m));};n.prototype.check=function(){var h;h=this.pR();this.ma.trace("AseTimer:Buffering complete check",null === h || void 0 === h?void 0:h.length);null !== h && (this.reset(),this.events.emit("bufferingcomplete",{type:"bufferingcomplete",$C:h}));};return n;})();b.gjb=g;},94536:function(r,b,a){var t,w,v,y,x,z,A,B,C;function c(D,E){var G,F;G=this;F=D.styles || ({});return {startTime:E.startTime,id:E.id,endTime:E.endTime,displayTime:E.displayTime,duration:E.duration,blocks:E.blocks.map(function(J){var M;M=x.vCb(D,J);return {textNodes:J.textNodes.map(u.bind(G,F)),region:M,id:J.id};})};}function l(D){if(!Array.isArray(D))throw Error("last called on non-array: " + D);return D[D.length - 1];}function f(D,E){var G,F,J,M,L,K;G=v.lf(!0);F={};J=[];M=null;L=[];K={};G.onerror=function(P){E(P,null);};G.onend=function(){E(null,F);};G.onclosetag=function(){J.pop();};G.onopentag=function(P){var H,I,N,R;H=P.attributes;I=P.name;N=F.regions;R=F.styles;J.push(P);if("tt" === I)F=m(H);else if("body" === I)"undefined" !== typeof H.style && (F.defaultStyle=H.style,L.push(H.style));else if("initial" === I && q(J,"styling"))(K=p(H,z),F.initialStyle=K);else if("style" === I && q(J,"styling")){N=H["xml:id"];P=K;H=p(H,z);if(Object.keys(P).length)for(var X in P){"undefined" === typeof H[X] && (H[X]=P[X]);}R[N]=H;}else "style" === I && q(J,"region")?(R=Object.keys(H)[0],"string" === typeof R && (N[M][R.slice(4)]=H[R])):"region" === I && q(J,"layout") && (M=H["xml:id"],N[M]=p(H,B));};setTimeout(function(){var P;for(G.write(D);0 < J.length && !G.error;){P=l(J).name;G.write("</" + P + ">");}G.close();},10);}function k(D,E){var G;G=D.filter(function(F){return F.startTime <= E && E <= F.endTime;});D=D.filter(function(F){return F.startTime > E;});return 0 < D.length?G.concat([D[0]]):G;}function d(){}function g(D){var E,G;E=D.Ce;G=D.ma;if(!D.xml && !D.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");w.call(this);this.hg=this.fha=null;this.Pk="number" === typeof E?D.Ce:0;this.LE=D.xml || "";this.ka="object" === typeof G?D.ma:C;this.DE=D.request;this.cf=D.url;this.uf=[];this.ak=this.Pk;this.pd=null;this.zm=this.Pn=!1;this.fE=D.gX || 0;this.JE=D.Jya;}function n(){var D,E,G;D=this;E=D.LE.indexOf("<p");if(-1 < E){G=D.LE.slice(0,E);f(G,function(F,J){null !== F?(F.Z2a=G,D.emit("error",F)):(D.fha=J,D.hg=new y(D.LE,J.tickRate),h.call(D,D.Pk));});}else D.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function h(D){var E,G,F,J,M,L,K,P,H;E=this;G=E.fha;F=0;J=[];M=G.defaultStyle?[G.defaultStyle]:[];L=G.lang?[G.lang]:[];K=E.hg.rha;E.ka.info("parsing the next 5 entries...");P=E.hg.zLb(D);E.ka.debug(P);H=v.lf(!0);H.onerror=function(I){I.xml=P;E.emit("error",I);};H.onend=function(){var I;I=E.uf.reduce(function(N,R){R=R.blocks.reduce(function(X,ha){return X.concat([ha.id]);},[]);return N.concat(R);},[]);J.forEach(function(N){var R;if(-1 === I.indexOf(N.id)){R=N && N.blocks && N.blocks.filter(function(X){return 0 < X.textNodes.length;});R && 0 < R.length && (N.blocks=R,E.uf.push(N));}});E.zm=!1;E.Pn || (E.Pn=!0,E.emit("ready"));};H.ontext=function(I){var N,R,X,ha;if("" !== I.trim() || I.match(/ +/)){N=l(l(J).blocks).textNodes;R=N.push;I=I.match(/ +/) || l(L) && "ja" === l(L).slice(0,2)?I:I.trim();X=l(M);ha=l(L);R.call(N,{text:I,style:X,lang:ha && 0 === ha.indexOf("ja")?"ja":ha,lineBreaks:F});}F=0;};H.onclosetag=function(){var I;I=H.tag;"undefined" !== typeof I.attributes.style && M.pop();"undefined" !== typeof I.attributes["xml:lang"] && L.pop();};H.onopentag=function(I){var N,R,X,ha,ta;N=I.attributes;R=I.name;I=G.tickRate;if("p" === R){F=0;R=N["xml:id"];N.style && M.push(N.style);N["xml:lang"] && L.push(N["xml:lang"]);X=K?Math.floor(parseInt(N.begin) / I * 1E3):Math.floor(t(N.begin));if(0 === J.length || l(J).displayTime !== X){X=J.push;ha={};if(K){ta=parseInt(N.begin) / I * 1E3;I=parseInt(N.end) / I * 1E3;}else (ta=t(N.begin),I=t(N.end));ha.id=R;ha.startTime=Math.floor(ta);ha.endTime=Math.floor(I);ha.style=N.style;ha.region=N.region;ha.displayTime=ha.startTime;ha.duration=ha.endTime - ha.startTime;ha.extent=N["tts:extent"] || null;ha.origin=N["tts:origin"] || null;ha.latestEndSoFar=0 > ha.endTime?0:ha.endTime;ha.blocks=[{textNodes:[],region:ha.region,id:R,extent:ha.extent,origin:ha.origin}];X.call(J,ha);}else l(J).blocks.push({textNodes:[],region:N.region,id:R,extent:N["tts:extent"] || null,origin:N["tts:origin"] || null});}else "span" === R?(M.push(N.style),N["xml:lang"] && L.push(N["xml:lang"]),I=G.styles[N.style],N.style && I && I.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(I.ruby) && l(l(J).blocks).textNodes.push({text:"",style:l(M),lang:l(L),lineBreaks:0})):"br" === R && F++;};H.write("<entries>").write(P).write("</entries>").close();}function m(D){var E;D=p(D,A);if("string" === typeof D.extent){E=D.extent.split(" ").map(function(G){return parseInt(G,10);});D.width=E[0];D.height=E[1];}else (D.width=1280,D.height=720);D.aspectRatio=D.width / D.height;"string" === typeof D.cellResolution?(E=D.cellResolution.split(" ").map(function(G){return parseInt(G,10);}),D.cellResolution={},D.cellResolution.x=E[0],D.cellResolution.y=E[1]):D.cellResolution={x:52,y:19};return D;}function p(D,E){var G;G={};E.forEach(function(F){"undefined" !== typeof D["tts:" + F]?G[F]=D["tts:" + F]:"undefined" !== typeof D["ttp:" + F]?G[F]=D["ttp:" + F]:"undefined" !== typeof D["ebutts:" + F]?G[F]=D["ebutts:" + F]:"undefined" !== typeof D["xml:" + F] && (G[F]=D["xml:" + F]);});G.styles={};G.regions={};return G;}function q(D,E){var G;for(G=D.length - 1;0 <= G;G--){if(D[G].name === E)return !0;}return !1;}function u(D,E){return {lineBreaks:E.lineBreaks,text:E.text,lang:E.lang,style:this.JE.yCb(D[E.style] || ({})),id:E.id};}t=a(42353).Yx;w=a(22699).EventEmitter;v=a(14387);y=a(18559);x=a(64433);a(72157);a(72157);z=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline textCombine multiRowAlign direction ruby rubyAlign rubyPosition rubyReserve textEmphasis shear").split(" ");A=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");B=("backgroundColor displayAlign extent origin position writingMode multiRowAlign textAlign").split(" ");C={info:d,debug:d};b=Object.create(w.prototype);g.prototype=b;b.start=function(){var D;D=this;D.ka.info("incremental text stream created, starting at pts " + D.Pk);D.LE?n.call(D):D.DE({url:D.cf},function(E,G){D.LE=G;n.call(D);});};b.BB=function(D){var E,G,F;E=this;D < E.ak - E.fE && (E.uf=[]);G=E.uf;F=G.length?Math.max(G[G.length - 1].startTime,D):D;E.ak=D;for(!E.pd && 5 > E.uf.length && !E.zm && (E.ka.info("buffer size: " + E.uf.length + "; minimum: 5"),E.zm=!0,E.pd=setTimeout(function(){E.pd=null;h.call(E,F + 1);},10));0 < G.length && G[0].endTime < D;){G.shift();}G=k(G,D).map(c.bind(E,E.fha));D < E.hg.e_a() && 0 === G.length && (G=null);return G;};b.Ul=function(D,E){return this.hg?this.hg.Ul(D,E):0;};b.close=function(){};r.exports={Nda:g,A9a:f,Ud:l,h6:k,L4:c};},14387:function(r){var w,v,y,x,z,A,B,C,D,E,G,F,J,M,L,K,P;function b(){}function a(H,I){if(!(this instanceof a))return new a(H,I);for(var N=0,R=v.length;N < R;N++){this[v[N]]="";}this.q=this.c=this.Um=this.textNode="";this.IUa=w.lea;this.pn=I || ({});this.pn.k6a=this.pn.k6a || this.pn.Hhc;this.Yra=this.pn.k6a?"toLowerCase":"toUpperCase";this.Di=[];this.closed=this.SS=this.fO=!1;this.tag=this.error=null;this.im=!!H;this.s8a=!(!H && !this.pn.s8a);this.state=P.yca;this.Sw=(this.oeb=this.pn.oeb)?Object.create(w.upb):Object.create(w.Sw);this.RA=[];this.pn.tZ && (this.Gj=Object.create(M));if(this.mba=!1 !== this.pn.position)this.position=this.line=this.US=0;this.onready && this.onready(void 0);}function c(H,I){var N;if(!(this instanceof c))return new c(H,I);b.apply(this);this.yx=new a(H,I);this.readable=this.writable=!0;N=this;this.yx.onend=function(){N.emit("end");};this.yx.onerror=function(R){N.emit("error",R);N.yx.error=null;};y.forEach(function(R){Object.defineProperty(N,"on" + R,{get:function(){return N.yx["on" + R];},set:function(X){if(!X)return (N.removeAllListeners(R),N.yx["on" + R]=X);N.on(R,X);},enumerable:!0,configurable:!1});});}function l(H){return H.split("").reduce(function(I,N){I[N]=!0;return I;},{});}function f(H,I){return "[object RegExp]" === Object.prototype.toString.call(H)?!!I.match(H):H[I];}function k(H,I,N){H.textNode && d(H);H[I] && H[I](N);}function d(H){H.textNode=g(H.pn,H.textNode);H.textNode && H.ontext && H.ontext(H.textNode);H.textNode="";}function g(H,I){H.trim && (I=I.trim());H.normalize && (I=I.replace(/\s+/g," "));return I;}function n(H,I){d(H);H.mba && (I+="\nLine: " + H.line + "\nColumn: " + H.US + "\nChar: " + H.c);I=Error(I);H.error=I;H.onerror && H.onerror(I);return H;}function h(H){H.fO && !H.SS && m(H,"Unclosed root tag");H.state !== P.yca && H.state !== P.zca && H.state !== P.Ga && n(H,"Unexpected end");d(H);H.c="";H.closed=!0;H.onend && H.onend(void 0);a.call(H,H.im,H.pn);return H;}function m(H,I){if("object" !== typeof H || !(H instanceof a))throw Error("bad call to strictFail");H.im && n(H,I);}function p(H,I){var N,R;N=0 > H.indexOf(":")?["",H]:H.split(":");R=N[0];N=N[1];I && "xmlns" === H && (R="xmlns",N="");return {prefix:R,local:N};}function q(H){var I,N,R;H.im || (H.Oi=H.Oi[H.Yra]());if(-1 !== H.RA.indexOf(H.Oi) || H.tag.attributes.hasOwnProperty(H.Oi))return H.Oi=H.Qi="";if(H.pn.tZ){I=p(H.Oi,!0);N=I.local;if("xmlns" === I.prefix)if("xml" === N && H.Qi !== F)m(H,"xml: prefix must be bound to " + F + "\nActual: " + H.Qi);else if("xmlns" === N && H.Qi !== J)m(H,"xmlns: prefix must be bound to " + J + "\nActual: " + H.Qi);else {I=H.tag;R=H.Di[H.Di.length - 1] || H;I.Gj === R.Gj && (I.Gj=Object.create(R.Gj));I.Gj[N]=H.Qi;}H.RA.push([H.Oi,H.Qi]);}else (H.tag.attributes[H.Oi]=H.Qi,k(H,"onattribute",{name:H.Oi,value:H.Qi}));H.Oi=H.Qi="";}function u(H,I){var N,R,ha,ta,la,xa,Ba;if(H.pn.tZ){N=H.tag;R=p(H.tagName);N.prefix=R.prefix;N.local=R.local;N.uri=N.Gj[R.prefix] || "";N.prefix && !N.uri && (m(H,"Unbound namespace prefix: " + JSON.stringify(H.tagName)),N.uri=R.prefix);R=H.Di[H.Di.length - 1] || H;N.Gj && R.Gj !== N.Gj && Object.keys(N.Gj).forEach(function(La){k(H,"onopennamespace",{prefix:La,uri:N.Gj[La]});});R=0;for(var X=H.RA.length;R < X;R++){ha=H.RA[R];ta=ha[0];la=ha[1];xa=p(ta,!0);ha=xa.prefix;Ba="" == ha?"":N.Gj[ha] || "";la={name:ta,value:la,prefix:ha,local:xa.local,uri:Ba};ha && "xmlns" != ha && !Ba && (m(H,"Unbound namespace prefix: " + JSON.stringify(ha)),la.uri=ha);H.tag.attributes[ta]=la;k(H,"onattribute",la);}H.RA.length=0;}H.tag.vhc=!!I;H.fO=!0;H.Di.push(H.tag);k(H,"onopentag",H.tag);I || (H.state=H.s8a || "script" !== H.tagName.toLowerCase()?P.Ga:P.yJ,H.tag=null,H.tagName="");H.Oi=H.Qi="";H.RA.length=0;}function t(H){var I,N,X;if(H.tagName){if(H.Qj){if("script" !== H.tagName){H.Qj+="</" + H.tagName + ">";H.tagName="";H.state=P.yJ;return;}k(H,"onscript",H.Qj);H.Qj="";}I=H.Di.length;N=H.tagName;H.im || (N=N[H.Yra]());for(var R=N;I--;){if(H.Di[I].name !== R)m(H,"Unexpected close tag");else break;}if(0 > I)(m(H,"Unmatched closing tag: " + H.tagName),H.textNode+="</" + H.tagName + ">");else {H.tagName=N;for(N=H.Di.length;N-- > I;){X=H.tag=H.Di.pop();H.tagName=H.tag.name;k(H,"onclosetag",H.tagName);for(var ha in X.Gj){;}R=H.Di[H.Di.length - 1] || H;H.pn.tZ && X.Gj !== R.Gj && Object.keys(X.Gj).forEach(function(ta){k(H,"onclosenamespace",{prefix:ta,uri:X.Gj[ta]});});}0 === I && (H.SS=!0);H.tagName=H.Qi=H.Oi="";H.RA.length=0;}}else (m(H,"Weird empty close tag."),H.textNode+="</>");H.state=P.Ga;}w={lf:function(H,I){return new a(H,I);}};w.vdc=a;w.wdc=c;w.pXa=function(H){return new c(H,void 0);};w.lea=65536;v=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");w.Ik=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(H){function I(){this.__proto__=H;}I.prototype=H;return new I();});Object.getPrototypeOf || (Object.getPrototypeOf=function(H){return H.__proto__;});Object.keys || (Object.keys=function(H){var I,N;I=[];for(N in H){H.hasOwnProperty(N) && I.push(N);}return I;});a.prototype={end:function(){h(this);},write:function(H){var X,ha,ta,la,xa,Ba;if(this.closed)return n(this,"Cannot write after close. Assign an onready handler.");if(null === H)return h(this);if(this.error)throw this.error;for(var I=0,N;this.c=N=H.charAt(I++);){switch((this.mba && (this.position++,"\n" === N?(this.line++,this.US=0):this.US++),this.state)){case P.yca:if((this.state=P.zca,"\ufeff" === N))continue;case P.zca:"<" === N?(this.state=P.Gea,this.wya=this.position):f(x,N) || (m(this,"Non-whitespace before first tag."),this.textNode=N,this.state=P.Ga);continue;case P.Ga:if(this.fO && !this.SS){for(var R=I - 1;N && "<" !== N && "&" !== N;){(N=H.charAt(I++)) && this.mba && (this.position++,"\n" === N?(this.line++,this.US=0):this.US++);}this.textNode+=H.substring(R,I - 1);}"<" !== N || this.fO && this.SS && !this.im?(f(x,N) || this.fO && !this.SS || m(this,"Text data outside of root node."),"&" === N?this.state=P.aga:this.textNode+=N):(this.state=P.Gea,this.wya=this.position);continue;case P.yJ:"<" === N?this.state=P.DNa:this.Qj+=N;continue;case P.DNa:"/" === N?this.state=P.Ica:(this.Qj+="<" + N,this.state=P.yJ);continue;case P.Gea:"!" === N?(this.state=P.Lfa,this.Yr=""):f(x,N) || (f(L,N)?(this.state=P.iKa,this.tagName=N):"/" === N?(this.state=P.Ica,this.tagName=""):"?" === N?(this.state=P.IKa,this.p$=this.xH=""):(m(this,"Unencoded <"),this.wya + 1 < this.position && (N=Array(this.position - this.wya).join(" ") + N),this.textNode+="<" + N,this.state=P.Ga));continue;case P.Lfa:(this.Yr + N).toUpperCase() === E?(k(this,"onopencdata"),this.state=P.MZ,this.Jl=this.Yr=""):"--" === this.Yr + N?(this.state=P.UZ,this.Yr=this.Ll=""):(this.Yr + N).toUpperCase() === G?(this.state=P.ZZ,(this.doctype || this.fO) && m(this,"Inappropriately located doctype declaration"),this.Yr=this.doctype=""):">" === N?(k(this,"onsgmldeclaration",this.Yr),this.Yr="",this.state=P.Ga):(f(B,N) && (this.state=P.GNa),this.Yr+=N);continue;case P.GNa:N === this.q && (this.state=P.Lfa,this.q="");this.Yr+=N;continue;case P.ZZ:">" === N?(this.state=P.Ga,k(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=N,"[" === N?this.state=P.Rca:f(B,N) && (this.state=P.NDa,this.q=N));continue;case P.NDa:this.doctype+=N;N === this.q && (this.q="",this.state=P.ZZ);continue;case P.Rca:this.doctype+=N;"]" === N?this.state=P.ZZ:f(B,N) && (this.state=P.MDa,this.q=N);continue;case P.MDa:this.doctype+=N;N === this.q && (this.state=P.Rca,this.q="");continue;case P.UZ:"-" === N?this.state=P.RCa:this.Ll+=N;continue;case P.RCa:"-" === N?(this.state=P.QCa,(this.Ll=g(this.pn,this.Ll)) && k(this,"oncomment",this.Ll),this.Ll=""):(this.Ll+="-" + N,this.state=P.UZ);continue;case P.QCa:">" !== N?(m(this,"Malformed comment"),this.Ll+="--" + N,this.state=P.UZ):this.state=P.Ga;continue;case P.MZ:"]" === N?this.state=P.GCa:this.Jl+=N;continue;case P.GCa:"]" === N?this.state=P.HCa:(this.Jl+="]" + N,this.state=P.MZ);continue;case P.HCa:">" === N?(this.Jl && k(this,"oncdata",this.Jl),k(this,"onclosecdata"),this.Jl="",this.state=P.Ga):"]" === N?this.Jl+="]":(this.Jl+="]]" + N,this.state=P.MZ);continue;case P.IKa:"?" === N?this.state=P.Uea:f(x,N)?this.state=P.Tea:this.p$+=N;continue;case P.Tea:if(!this.xH && f(x,N))continue;else "?" === N?this.state=P.Uea:this.xH+=N;continue;case P.Uea:">" === N?(k(this,"onprocessinginstruction",{name:this.p$,body:this.xH}),this.p$=this.xH="",this.state=P.Ga):(this.xH+="?" + N,this.state=P.Tea);continue;case P.iKa:if(f(K,N))this.tagName+=N;else {this.im || (this.tagName=this.tagName[this.Yra]());R=this.Di[this.Di.length - 1] || this;X=this.tag={name:this.tagName,attributes:{}};this.pn.tZ && (X.Gj=R.Gj);this.RA.length=0;">" === N?u(this):"/" === N?this.state=P.N0:(!f(x,N) && m(this,"Invalid character in tag name"),this.state=P.NI);}continue;case P.N0:">" === N?(u(this,!0),t(this)):(m(this,"Forward-slash in opening tag not followed by >"),this.state=P.NI);continue;case P.NI:if(f(x,N))continue;else ">" === N?u(this):"/" === N?this.state=P.N0:f(L,N)?(this.Oi=N,this.Qi="",this.state=P.zZ):m(this,"Invalid attribute name");continue;case P.zZ:"=" === N?this.state=P.aca:">" === N?(m(this,"Attribute without value"),this.Qi=this.Oi,q(this),u(this)):f(x,N)?this.state=P.AAa:f(K,N)?this.Oi+=N:m(this,"Invalid attribute name");continue;case P.AAa:if("=" === N)this.state=P.aca;else if(f(x,N))continue;else (m(this,"Attribute without value"),this.Qi=this.tag.attributes[this.Oi]="",k(this,"onattribute",{name:this.Oi,value:""}),this.Oi="",">" === N?u(this):f(L,N)?(this.Oi=N,this.state=P.zZ):(m(this,"Invalid attribute name"),this.state=P.NI));continue;case P.aca:if(f(x,N))continue;else f(B,N)?(this.q=N,this.state=P.dca):(m(this,"Unquoted attribute value"),this.state=P.eca,this.Qi=N);continue;case P.dca:if(N !== this.q){"&" === N?this.state=P.bca:this.Qi+=N;continue;}q(this);this.q="";this.state=P.BAa;continue;case P.BAa:f(x,N)?this.state=P.NI:">" === N?u(this):"/" === N?this.state=P.N0:f(L,N)?(m(this,"No whitespace between attributes"),this.Oi=N,this.Qi="",this.state=P.zZ):m(this,"Invalid attribute name");continue;case P.eca:if(!f(D,N)){"&" === N?this.state=P.cca:this.Qi+=N;continue;}q(this);">" === N?u(this):this.state=P.NI;continue;case P.Ica:if(this.tagName)">" === N?t(this):f(K,N)?this.tagName+=N:this.Qj?(this.Qj+="</" + this.tagName,this.tagName="",this.state=P.yJ):(!f(x,N) && m(this,"Invalid tagname in closing tag"),this.state=P.NCa);else if(f(x,N))continue;else f(L,N)?this.tagName=N:this.Qj?(this.Qj+="</" + N,this.state=P.yJ):m(this,"Invalid tagname in closing tag.");continue;case P.NCa:if(f(x,N))continue;">" === N?t(this):m(this,"Invalid characters in closing tag");continue;case P.aga:case P.bca:case P.cca:switch(this.state){case P.aga:(ha=P.Ga,ta="textNode");break;case P.bca:ha=P.dca;ta="attribValue";break;case P.cca:(ha=P.eca,ta="attribValue");}if(";" === N){N=ta;R=this[N];X=this.Um;la=X.toLowerCase();xa="";if(this.Sw[X])X=this.Sw[X];else if(this.Sw[la])X=this.Sw[la];else {X=la;if("#" === X.charAt(0))if("x" === X.charAt(1)){X=X.slice(2);Ba=parseInt(X,16);xa=Ba.toString(16);}else (X=X.slice(1),Ba=parseInt(X,10),xa=Ba.toString(10));X=X.replace(/^0+/,"");X=xa.toLowerCase() !== X?(m(this,"Invalid character entity"),"&" + this.Um + ";"):String.fromCodePoint(Ba);}this[N]=R + X;this.Um="";this.state=ha;}else f(C,N)?this.Um+=N:(m(this,"Invalid character entity"),this[ta]+="&" + this.Um + N,this.Um="",this.state=ha);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.IUa){H=Math.max(w.lea,10);N=I=0;for(ha=v.length;N < ha;N++){ta=this[v[N]].length;if(ta > H)switch(v[N]){case "textNode":d(this);break;case "cdata":k(this,"oncdata",this.Jl);this.Jl="";break;case "script":k(this,"onscript",this.Qj);this.Qj="";break;default:n(this,"Max buffer length exceeded: " + v[N]);}I=Math.max(I,ta);}this.IUa=w.lea - I + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){d(this);"" !== this.Jl && (k(this,"oncdata",this.Jl),this.Jl="");"" !== this.Qj && (k(this,"onscript",this.Qj),this.Qj="");}};y=w.Ik.filter(function(H){return "error" !== H && "end" !== H;});c.prototype=Object.create(b.prototype,{constructor:{value:c}});c.prototype.write=function(H){this.yx.write(H.toString());this.emit("data",H);return !0;};c.prototype.end=function(H){H && H.length && this.write(H);this.yx.end();return !0;};c.prototype.on=function(H,I){var N;N=this;N.yx["on" + H] || -1 === y.indexOf(H) || (N.yx["on" + H]=function(){var R;R=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);R.splice(0,0,H);N.emit.apply(N,R);});return b.prototype.on.call(N,H,I);};x="\r\n\t ";z="0124356789";A="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";B="'\"";C=z + A + "#";D=x + ">";E="[CDATA[";G="DOCTYPE";F="http://www.w3.org/XML/1998/namespace";J="http://www.w3.org/2000/xmlns/";M={xml:F,tZ:J};x=l(x);z=l(z);A=l(A);L=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;K=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;B=l(B);C=l(C);D=l(D);P=0;w.hA={yca:P++,zca:P++,Ga:P++,aga:P++,Gea:P++,Lfa:P++,GNa:P++,ZZ:P++,NDa:P++,Rca:P++,MDa:P++,sac:P++,UZ:P++,RCa:P++,QCa:P++,MZ:P++,GCa:P++,HCa:P++,IKa:P++,Tea:P++,Uea:P++,iKa:P++,N0:P++,NI:P++,zZ:P++,AAa:P++,aca:P++,dca:P++,BAa:P++,eca:P++,bca:P++,cca:P++,Ica:P++,NCa:P++,yJ:P++,DNa:P++};w.upb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};w.Sw={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(w.Sw).forEach(function(H){var I;I=w.Sw[H];I="number" === typeof I?String.fromCharCode(I):I;w.Sw[H]=I;});for(P in w.hA){w.hA[w.hA[P]]=P;}P=w.hA;String.fromCodePoint || (function(){var I,N;function H(){var R,X,ha,la,xa;R=[];X=-1;ha=arguments.length;if(!ha)return "";for(var ta="";++X < ha;){la=Number(arguments[X]);if(!isFinite(la) || 0 > la || 1114111 < la || N(la) != la)throw RangeError("Invalid code point: " + la);if(65535 >= la)R.push(la);else {la-=65536;xa=(la >> 10) + 55296;la=la % 1024 + 56320;R.push(xa,la);}if(X + 1 == ha || 16384 < R.length)(ta+=I.apply(null,R),R.length=0);}return ta;}I=String.fromCharCode;N=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:H,configurable:!0,writable:!0}):String.fromCodePoint=H;})();r.exports=w;},59723:function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},64433:function(r,b,a){var k,d,g,n,h,m,p;function c(q){return "string" !== typeof q?null:d[q];}function l(q){return "string" !== typeof q?null:h[q];}function f(q,u){var t;t=q.split(" ");q=t[0];t=t[1];-1 < q.indexOf("px")?(q=parseFloat(q) / u.width,t=parseFloat(t) / u.height):(q=.01 * parseFloat(q),t=.01 * parseFloat(t));return [q,t];}k=a(59723);r.exports={vCb:function(q,u){var t,w,v,y,x,z,G;t=u.textNodes[0] || ({});w=q.regions;v=q.styles;y=q.aspectRatio;x=q.initialStyle || ({});w=w && w[u.region]?w[u.region]:{};v=v && v[t.style]?v[t.style]:{};t=t.lang;z=f(k(u.extent,w.extent,"80% 80%"),q);if(w.position){for(var A=w.position.split(" "),B=[.5,.5],C=["left","top"],D=0,E=0;E < A.length;E++){G=A[E];(G in p)?(C[D]=G,E + 1 >= A.length && (B[D++]=0)):"center" === G?B[D++]=.5:B[D++]=.01 * parseFloat(G);}-1 < ["top","bottom"].indexOf(C[0]) || -1 < ["left","right"].indexOf(C[1])?(D="bottom" === C[0]?1 - B[0]:B[0],A="right" === C[1]?1 - B[1]:B[1]):(A="right" === C[0]?1 - B[0]:B[0],D="bottom" === C[1]?1 - B[1]:B[1]);B=[(1 - z[0]) * A,(1 - z[1]) * D];}else B=null;u=B?B:f(k(B,u.origin,w.origin,"10% 10%"),q);q=Object;y/=1280 / 720;B=(1 - y) / 2;C=u[0];u=u[1];z=q.create.call(q,{marginLeft:C * y + B,marginTop:u,marginRight:(1 - (C + z[0])) * y + B,marginBottom:1 - (u + z[1])});y=w.writingMode?w.writingMode:"lrtb";z.writingMode="string" !== typeof y?null:m[y];1 < Object.keys(w).length?(y=k(v.displayAlign,w.displayAlign,"before"),"tblr" === w.writingMode || "tbrl" === w.writingMode?(z.horizontalAlignment="string" !== typeof y?null:"tblr" === w.writingMode?g[y]:n[y],z.verticalAlignment=c(k(v.textAlign,w.textAlign,"start"))):z.verticalAlignment=c(y)):z.verticalAlignment=c(k(v.displayAlign,"after"));"horizontal-tb" === z.writingMode && (z.horizontalAlignment=l(k(v.textAlign,w.textAlign,x.textAlign,"center")));z.multiRowAlignment=l(k(v.multiRowAlign,w.multiRowAlign,v.textAlign,w.textAlign,x.textAlign,t && "ja" === t.slice(0,2)?"start":"center"));return z;}};d={before:"top",start:"top",center:"center",after:"bottom",end:"bottom"};g={before:"left",center:"center",after:"right"};n={before:"right",center:"center",after:"left"};h={left:"left",start:"start",center:"center",right:"right",end:"end"};m={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};p={top:"top",bottom:"bottom",left:"left",right:"right"};},72157:function(r,b){var a,c,l,f;Object.defineProperty(b,"__esModule",{value:!0});r={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};a={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};c={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};l={SMALL:.5,"SMALL-MEDIUM":.8,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};f={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};b.I5b={uVa:l,gWa:a,D_a:c,$8a:r,sizeScaleMap:{MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}},sza:f};b.XRb={uVa:l,gWa:a,D_a:c,$8a:r,sizeScaleMap:{},sza:f};},41555:function(r,b,a){var c,l,f,k,d,g,n,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.IOa=void 0;c=a(5163).__importDefault(a(59723));l=("start center end spaceAround spaceBetween withBase").split(" ");f=["before","after","both","outside"];k=["before","after","outside"];d=["filled","open"];g=["circle","dot","sesame"];n=["none","auto"];h=["before","after","outside"];m=("container base baseContainer text textContainer delimiter").split(" ");r=(function(){function p(q,u,t){this.W=q;this.ep=u;this.jp=t;}p.prototype.yCb=function(q){var u,t,w;u=(0,c.default)(this.jp.characterSize,this.ep.characterSize,"MEDIUM");t=(0,c.default)(this.jp.characterStyle,this.nIb(q.fontFamily),this.ep.characterStyle,"PROPORTIONAL_SANS_SERIF");w=this.vXb(q.fontSize);return {characterUnderline:"underline" === q.textDecoration,characterItalic:"italic" === q.fontStyle,characterStyle:t,windowOpacity:this.nua((0,c.default)(this.jp.windowOpacity,this.ep.windowOpacity,"OPAQUE")),characterOpacity:this.nua((0,c.default)(this.jp.characterOpacity,this.ep.characterOpacity,"OPAQUE")),backgroundOpacity:this.nua((0,c.default)(this.jp.backgroundOpacity,q.opacity,this.ep.backgroundOpacity,"OPAQUE")),characterColor:this.TS((0,c.default)(this.jp.characterColor,q.color,this.ep.characterColor,"#ffffff")),backgroundColor:this.TS((0,c.default)(this.jp.backgroundColor,q.backgroundColor,this.ep.backgroundColor,null)),windowColor:this.TS((0,c.default)(this.jp.windowColor,q.windowColor,this.ep.windowColor,null)),characterEdgeAttributes:(0,c.default)(this.jp.characterEdgeAttributes,this.ep.characterEdgeAttributes,null),characterSize:this.jyb(u,t,w),characterTracking:this.kyb(u,t),characterEdgeWidth:(0,c.default)(this.uxb(q.textOutline),0),characterEdgeBlur:(0,c.default)(this.sxb(q.textOutline),0),characterEdgeColor:this.TS((0,c.default)(this.jp.characterEdgeColor,this.txb(q.textOutline),this.ep.characterEdgeColor,"#000000")),direction:(0,c.default)(this.jp.direction,q.direction,this.ep.direction,"ltr"),ruby:(0,c.default)(this.N9(q.ruby,m),null),rubyAlign:(0,c.default)(this.N9(q.rubyAlign,l),null),rubyPosition:(0,c.default)(this.N9(q.rubyPosition,k),null),rubyReserve:(0,c.default)(this.N9(q.rubyReserve,f),null),textEmphasis:this.GXb(q.textEmphasis),shear:q.shear?.01 * parseFloat(q.shear):null,textCombine:q.textCombine?q.textCombine:null};};p.prototype.nua=function(q){return this.W.$8a[q];};p.prototype.TS=function(q){return "string" !== typeof q || "#" === q[0] && 7 === q.length?q:"#" === q[0] && 4 === q.length?"#" + q[1] + q[1] + q[2] + q[2] + q[3] + q[3]:this.W.gWa[q.toLowerCase()];};p.prototype.nIb=function(q){return "string" !== typeof q?null:this.W.D_a[q];};p.prototype.jyb=function(q,u,t){var w;t*=this.W.uVa[q] || 1;w=1;this.W.sizeScaleMap[q] && (w=this.W.sizeScaleMap[q][u] || 1);return 1 / 19 * t * w;};p.prototype.kyb=function(q,u){var t;t=0;this.W.sza[q] && (t=this.W.sza[q][u] || 0);return t;};p.prototype.uxb=function(q){return "string" !== typeof q?null:this.Fua(q).width;};p.prototype.sxb=function(q){return "string" !== typeof q?null:this.Fua(q).blur;};p.prototype.txb=function(q){return "string" !== typeof q?null:this.Fua(q).color;};p.prototype.Fua=function(q){var u,t,w;q=(q || "").split(" ");u=(/^[0-9]/).test(q[0]);t=u?0:1;w=parseInt(q[t]);t=parseInt(q[t + 1]);return {color:u?"#000000":this.TS(q[0]),width:0 < w?w:0,blur:0 < t?t:0};};p.prototype.vXb=function(q){q=(q || "").split(" ")[0] || "";return -1 < q.indexOf("%")?parseInt(q,10) / 100:-1 < q.indexOf("em")?parseFloat(q):1;};p.prototype.N9=function(q,u){if(-1 < u.indexOf(q))return q;};p.prototype.GXb=function(q){var u,t;if(!q)return null;q=q.split(" ");if(0 === q.length)return null;u=this.Y5(q,h);u=u.length?u[0]:"outside";t=this.Y5(q,n);if(t.length)return this.Sxa(t[0],"",u);t=this.Y5(q,d);q=this.Y5(q,g);return q.length || t.length?this.Sxa(q.length?q[0]:"circle",t.length?t[0]:"filled",u):this.Sxa("auto","",u);};p.prototype.Y5=function(q,u){return q.filter(function(t){return -1 !== u.indexOf(t);});};p.prototype.Sxa=function(q,u,t){return {textEmphasisShape:q,textEmphasisFill:u,textEmphasisPosition:t};};return p;})();b.IOa=r;},18559:function(r,b,a){var l;function c(f,k){var d,g,n,h,m,p,q,u;this.rha=!0;d=f.indexOf("<p");g=[];n=d;h=-1;do {m={};m.M4b=n;p=f.indexOf("begin=",n) + 7;q=f.indexOf("end=",n) + 5;u=f.substr(p,12);n === d && -1 !== u.indexOf(":") && (this.rha=!1);this.rha?(p=Math.floor(parseInt(f.substr(p,25),10) / k * 1E3),q=Math.floor(parseInt(f.substr(q,25),10) / k * 1E3)):(p=l(f.substr(p,12)),q=l(f.substr(q,12)));h=q > h?q:h;m.startTime=p;m.endTime=q;m.latestEndSoFar=h;m.CZa=f.indexOf("/p>",n) + 3;n=m.CZa;g.push(m);n=f.indexOf("<p",n);}while(-1 !== n);this.fp=g;this.LE=f;}l=a(42353).Yx;c.prototype.e_a=function(){return this.fp[this.fp.length - 1].endTime;};c.prototype.Ul=function(f,k){return this.fp.filter(function(d){return d.startTime <= k && d.endTime >= f;}).length;};c.prototype.zLb=function(f){for(var k="",d=this.fp.filter(function(n){return n.startTime <= f && f < n.endTime || n.startTime >= f;}),g=4;g + 1 < d.length && d[g + 1].startTime === d[4].startTime;){g++;}d=d.slice(0,g + 1);0 < d.length && (k=this.LE.slice(d[0].M4b,d[d.length - 1].CZa));return k;};r.exports=c;},27057:function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.A0=b.aIa=b.jQ=void 0;c=a(42866);b.jQ=1E4;r=(function(){function f(k){this.xf=[];this.yR=0;this.ka=k;}Object.defineProperty(f.prototype,"endOfStreamSegment",{get:function(){return this.lqb;},enumerable:!1,configurable:!0});f.prototype.gG=function(k){var d;d=(0,c.ec)(this.xf,function(g){return k >= g.kb && k < g.ff;});"undefined" === typeof d && this.ka.warn("Get Segment at pts " + k + " is undefined");return d;};f.prototype.Aia=function(k,d){var n;for(var g=this.xf;0 < g.length && 300 <= k.I - g[0].I;){this.MX();}for(;0 < g.length && 300 <= g[g.length - 1].I - k.I;){this.pxa();}n=new l(k,d);k=g.length;if(0 === k || g[k - 1].I < n.I)this.qxa(n);else {k=(0,c.ec)(g,function(h){return h.I >= n.I;});if((null === k || void 0 === k?void 0:k.I) === n.I)return;this.rxa(g.indexOf(k),n);}n.endOfStream && (this.ka.trace("EOS segment added to segment manager"),this.lqb=n);this.yR=g[g.length - 1].I;};f.prototype.UY=function(k){var d;if("undefined" === typeof k)this.ka.warn("Current segment is undefined.");else for((this.Bl=k,this.ka.trace(("Current segment id is ").concat(k.I)));(null === (d=this.xf[0]) || void 0 === d?void 0:d.ff) < k.ff - b.jQ;){this.MX();}};f.prototype.Noa=function(){if(this.gp){if(this.yR !== this.gp.I)return this.xf[this.xf.indexOf(this.gp) + 1];}else return this.xf[0];};f.prototype.su=function(k){this.gp=this.Dv(k);};f.prototype.Dv=function(k){var d;d=(0,c.ec)(this.xf,function(g){return g.I === k;});"undefined" === typeof d && this.ka.error("Segment with segmentId " + k + " is not in segmentArray");return d;};f.prototype.lU=function(){var k;return (null === (k=this.gp) || void 0 === k?void 0:k.I) || -1;};f.prototype.Sza=function(k,d){k=this.Dv(k);"undefined" !== typeof k && (this.xf[this.xf.indexOf(k)].header=d);};f.prototype.d2a=function(k){return this.Dv(k);};f.prototype.voa=function(k){k=this.Dv(k);return (null === k || void 0 === k?void 0:k.header) || ({});};f.prototype.MX=function(){this.xf.shift();};f.prototype.qxa=function(k){this.xf.push(k);};f.prototype.rxa=function(k,d){this.xf.splice(k,0,d);};f.prototype.pxa=function(){this.xf.pop();};return f;})();b.aIa=r;l=(function(){return function(f,k){this.I=f.I;this.xml=f.xml;this.kb=f.kb;this.ff=f.ff;this.mG=k;this.size=f.size;this.Rr=f.Rr;this.endOfStream=f.endOfStream;};})();b.A0=l;},29602:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.cIa=void 0;c=a(5163);r=(function(l){function f(k,d){d=l.call(this,k,d) || this;d.xml=k.xml;d.size=k.size;return d;}c.__extends(f,l);return f;})(a(27057).A0);b.cIa=r;},47602:function(r,b,a){var c,l,f,k,d,g,n;Object.defineProperty(b,"__esModule",{value:!0});b.dIa=void 0;c=a(5163);r=a(22699);l=a(94536);f=a(14387);k=a(27057);d=a(42353);g=a(42353);n=r.EventEmitter;a=(function(h){function m(p){var q,u,t;q=h.call(this) || this;u=p.Ce;t=p.ma;n.call(q);q.Ex=new d.$da(t);q.Pk="number" === typeof u?p.Ce:0;q.ka="object" === typeof t?p.ma:console;q.uf=[];q.Yh=0;q.ak=q.Pk;q.pd=null;q.Pn=!1;q.zm=!1;q.fE=p.gX || 0;q.od=new k.aIa(q.ka);q.JE=p.Jya;q.ka.trace("LiveTextStream created with options",p);return q;}c.__extends(m,h);m.prototype.start=function(){this.ka.info(("Incremental live text stream created, starting at pts ").concat(this.Pk));"undefined" !== typeof this.od.gG(this.Pk) && this.gH.call(this,this.Pk);};m.prototype.Ova=function(p){var q,u,t,w;q=this;u=p.xml;t=u.indexOf("<p");this.ka.trace("pushNextSegment",p);this.od.Aia(p,-1 !== t?t:0);if(!this.Pn){w=this.od.xf[0];this.od.UY(w);this.Pk=w.kb;}-1 < t?(this.Ex.cTa(u,p.I,p.Rr),this.ka.trace(("Live segment ").concat(p.I," is pushed to segment manager"),{kb:p.kb,ff:p.ff,AEb:p.Rr}),!this.Pn && 4 > this.Yh && (u=0 < this.uf.length?this.uf[this.uf.length - 1].startTime + 1:this.Pk,this.ka.trace("parseNextSegment is called from push new live Segment at " + u),this.gH.call(this,u))):(this.ka.trace(("Live segment ").concat(p.I," is pushed to segment manager, it is an empty segment")),this.Pn || setTimeout(function(){q.su(p.I);},10));};m.prototype.BB=function(p){var q,u,t,w,v,y;q=this;w=this;w.ka.trace(("LiveTextStream:get subtitles at pts ").concat(p));v=w.od.gG(p);if("undefined" === typeof v)return (w.ka.debug(("LiveTextStream: get subtitle at pts ").concat(p," returns empty result with segment not available at this pts")),[]);w.od.UY(v);p < w.ak - w.fE?(w.ka.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(p),(", _lastPts: ").concat(w.ak,", _backupTolerance: ").concat(w.fE)),w.uf=[],w.Yh=0):(w.Yh=0 < w.uf.length?Math.max(w.od.lU() - v.I + 1,0):0,0 === w.Yh && (w.uf=[]));v=w.uf;w.ka.trace(("LiveTextStream: lastBufferedPts calculation ").concat(p),(", buffer.length: ").concat(v.length,", result: ").concat(0 < v.length?null === (u=v[v.length - 1]) || void 0 === u?void 0:u.startTime:p));u=this.od.gp;y=0 < v.length && void 0 !== u?u.kb:p;w.ak=p;w.ka.info("LiveTextStream: timer is " + w.pd + " bufffered segment number is " + w.Yh + " is parsing entry : " + this.zm + " maxBufferedStartPts " + (null === (t=this.od.gp) || void 0 === t?void 0:t.kb));for(!w.pd && 4 > w.Yh && !w.zm && (w.ka.info("LiveTextStream: buffer size: " + w.Yh + "; minimum: 4"),w.zm=!0,w.pd=setTimeout(function(){w.pd=null;q.ka.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (y + 1));q.gH.call(w,y + 1);},10));0 < v.length && v[0].endTime < p;){v.shift();}return (0,l.h6)(v,p).map(function(x){var z;z=w.od.voa(x.segId);return l.L4.call(w,z,x);});};m.prototype.Ul=function(p,q){return this.Ex?this.Ex.Ul(p,q):0;};m.prototype.close=function(){};m.prototype.gH=function(p){var q;q=this.Loa.call(this,p);"undefined" !== typeof q?(this.ka.trace("Next segment to parse at pts " + p + " is segment " + q.I),0 === q.mG?(this.ka.trace("This is an empty segment"),this.su(q.I)):(this.Cua.call(this,q),this.ka.trace("parseNextSegEntries buffer length: " + this.uf.length))):(this.ka.debug("Next segment is undefined at pts " + p),this.zm=!1);};m.prototype.Loa=function(p){var q,u;u=this.Ex.z1a(p);this.ka.trace(("Most recent entry at current pts ").concat(p," is segment id  ").concat(u));-1 === u && (u=(null === (q=this.od.gG(p)) || void 0 === q?void 0:q.I) || -1);return u === this.od.lU()?this.od.Noa():this.od.Dv(u);};m.prototype.Cua=function(p){var q,u,t,w,v;q=this;u=this;t=p.xml.slice(0,p.mG);w=p.xml.slice(p.mG,p.xml.lastIndexOf("/p>") + 3);(0,l.A9a)(t,function(y,x){null !== y?(y.Z2a=t,y.I=p.I,u.emit("error",y)):(v=x,u.od.Sza(p.I,v),q.Aua.call(u,w,v,p));});};m.prototype.Aua=function(p,q,u){var t,w,v,y,x,z,A;t=this;w=this;v=0;y=[];x=q.defaultStyle?[q.defaultStyle]:[];z=q.lang?[q.lang]:[];w.ka.debug(p);A=f.lf(!0);A.onerror=function(B){B.xml=p;w.emit("error",B);};A.onend=function(){var B;B=w.uf.reduce(function(C,D){D=D.blocks.reduce(function(E,G){return E.concat([G.id]);},[]);return C.concat(D);},[]);y.forEach(function(C){var D;if(-1 === B.indexOf(C.id)){D=C && C.blocks && C.blocks.filter(function(E){return 0 < E.textNodes.length;});D && 0 < D.length && (C.blocks=D,w.uf.push(C));}});t.su(u.I);};A.ontext=function(B){("" !== B.trim() || B.match(/ +/)) && (0,l.Ud)((0,l.Ud)(y).blocks).textNodes.push({text:B.match(/ +/)?B:B.trim(),style:(0,l.Ud)(x),lang:(0,l.Ud)(z),lineBreaks:v});v=0;};A.onclosetag=function(){var B;B=A.tag;"undefined" !== typeof B.attributes.style && x.pop();"undefined" !== typeof B.attributes["xml:lang"] && z.pop();};A.onopentag=function(B){var C,D;C=B.attributes;B=B.name;if("p" === B){v=0;B=u.I.toString() + "_" + C["xml:id"];C.style && x.push(C.style);C["xml:lang"] && z.push(C["xml:lang"]);D=(0,g.Yx)(C.begin);0 === y.length || (0,l.Ud)(y).displayTime !== D?(C=t.lla(B,0,C,u.Rr),C.segId=u.I,y.push(C)):(0,l.Ud)(y).blocks.push({textNodes:[],region:C.region,id:B,extent:C["tts:extent"] || null,origin:C["tts:origin"] || null});}else "span" === B?(x.push(C.style),C["xml:lang"] && z.push(C["xml:lang"]),B=q.styles[C.style],C.style && B && B.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(B.ruby) && (0,l.Ud)((0,l.Ud)(y).blocks).textNodes.push({text:"",style:(0,l.Ud)(x),lang:(0,l.Ud)(z),lineBreaks:0})):"br" === B && v++;};A.write("<entries>").write(p).write("</entries>").close();};m.prototype.lla=function(p,q,u,t){var w;w={};w.id=p;w.startTime=(0,g.Yx)(u.begin || "") - t;w.endTime=(0,g.Yx)(u.end || "") - t;w.style=u.style;w.region=u.region;w.displayTime=w.startTime;w.duration=w.endTime - w.startTime;w.extent=u["tts:extent"] || null;w.origin=u["tts:origin"] || null;w.latestEndSoFar=q > w.endTime?q:w.endTime;w.blocks=[{textNodes:[],region:w.region,id:p,extent:w.extent || null,origin:w.origin || null}];return w;};m.prototype.su=function(p){this.od.su(p);this.Yh+=1;this.zm=!1;this.ka.trace("updateMaxParsedSegment " + p);if(!this.Pn && 4 <= this.Yh || this.od.Fma && this.od.d2a(p) === this.od.Fma)(this.od.Fma && this.od.d2a(p) === this.od.Fma && this.ka.trace("Marking stream ready due to EOS"),this.Pn=!0,this.emit("ready"));};return m;})(n);b.dIa=a;},42353:function(r,b,a){var l;function c(f){var k;f=f.split(".");k=f[0].split(":").map(function(d){return parseInt(d,0);});return 1E3 * (3600 * k[0] + 60 * k[1] + k[2]) + parseInt(f[1]);}Object.defineProperty(b,"__esModule",{value:!0});b.Yx=b.$da=void 0;l=a(42866);r=(function(){function f(k){this.fp=[];this.ka=k;}f.prototype.cTa=function(k,d,g){var n,h,m,p,q,u;void 0 === g && (g=0);n=this.fp;h=k.indexOf("<p");m=-1;do {p={};p.I=d;p.Idb=h;q=k.indexOf("begin=",h) + 7;u=k.indexOf("end=",h) + 5;q=c(k.substring(q,q + 12)) - g;u=c(k.substring(u,u + 12)) - g;m=u > m?u:m;p.startTime=q;p.endTime=u;p.latestEndSoFar=m;p.AGb=k.indexOf("/p>",h) + 3;h=p.AGb;if(0 === n.length || p.startTime > n[n.length - 1].startTime)(n.push(p),this.ka.trace("LiveTtmlIndex:  entry is pushed to the end",{startTime:p.startTime,qGb:p.endTime}));else if((u=(0,l.ec)(n,function(t){return t.startTime >= p.startTime;}),u.startTime !== p.startTime || u.Idb !== p.Idb))(u=n.indexOf(u),n.splice(u,0,p),this.ka.trace(("LiveTtmlIndex:  entry is pushed at index number ").concat(u),{startTime:p.startTime,qGb:p.endTime}));h=k.indexOf("<p",h);}while(-1 !== h);};f.prototype.Ul=function(k,d){return this.fp.filter(function(g){return g.startTime <= d && g.endTime >= k;}).length;};f.prototype.Iva=function(k){this.fp=this.fp.filter(function(d){return d.startTime >= k;});};f.prototype.z1a=function(k){var d;d=(0,l.ec)(this.fp,function(g){return g.startTime <= k && k < g.endTime || g.startTime >= k;});return (null === d || void 0 === d?void 0:d.I) || -1;};f.prototype.e_a=function(){return 0 < this.fp.length?this.fp[this.fp.length - 1].endTime:0;};return f;})();b.$da=r;b.Yx=c;},17460:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.A0=b.YJa=b.jQ=void 0;c=a(42866);b.jQ=1E4;r=(function(){function l(f){this.xf=[];this.yR=0;this.ka=f;}l.prototype.gG=function(f){var k;k=(0,c.ec)(this.xf,function(d){return f >= d.kb && f < d.ff;});"undefined" === typeof k && this.ka.warn("Get Segment at pts " + f + " is undefined");return k;};l.prototype.Aia=function(f){var d;for(var k=this.xf;0 < k.length && 300 <= f.I - k[0].I;){this.MX();}for(;0 < k.length && 300 <= k[k.length - 1].I - f.I;){this.pxa();}d=k.length;if(0 === d || k[d - 1].I < f.I)this.qxa(f);else {d=(0,c.ec)(k,function(g){return g.I >= f.I;});if((null === d || void 0 === d?void 0:d.I) === f.I)return;this.rxa(k.indexOf(d),f);}this.yR=k[k.length - 1].I;};l.prototype.UY=function(f){var k;if("undefined" === typeof f)this.ka.warn("Current segment is undefined.");else for((this.Bl=f,this.ka.trace(("Current segment id is ").concat(f.I)));(null === (k=this.xf[0]) || void 0 === k?void 0:k.ff) < f.ff - b.jQ;){this.MX();}};l.prototype.Noa=function(){if(this.gp){if(this.yR !== this.gp.I)return this.xf[this.xf.indexOf(this.gp) + 1];}else return this.xf[0];};l.prototype.su=function(f){this.gp=this.Dv(f);};l.prototype.Dv=function(f){var k;k=(0,c.ec)(this.xf,function(d){return d.I === f;});"undefined" === typeof k && this.ka.error("Segment with segmentId " + f + " is not in segmentArray");return k;};l.prototype.lU=function(){var f;return (null === (f=this.gp) || void 0 === f?void 0:f.I) || -1;};l.prototype.Sza=function(f,k){f=this.Dv(f);"undefined" !== typeof f && (this.xf[this.xf.indexOf(f)].header=k);};l.prototype.voa=function(f){f=this.Dv(f);return (null === f || void 0 === f?void 0:f.header) || ({});};l.prototype.MX=function(){this.xf.shift();};l.prototype.qxa=function(f){this.xf.push(f);};l.prototype.rxa=function(f,k){this.xf.splice(f,0,k);};l.prototype.pxa=function(){this.xf.pop();};return l;})();b.YJa=r;b.A0=(function(){return function(l,f){this.I=l.I;this.xml=l.xml;this.kb=l.kb;this.ff=l.ff;this.mG=f;this.Rr=l.Rr;};})();},53144:function(r,b,a){var c,l,f,k,d,g,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.ZJa=void 0;c=a(5163);r=a(22699);l=a(94536);f=a(42756);k=a(29602);d=a(42353);g=a(17460);n=a(19070);h=r.EventEmitter;a=(function(m){function p(q,u){var t,w,v;void 0 === u && (u=f.KD.Ga);t=m.call(this) || this;w=q.Ce;v=q.ma;h.call(t);t.Ex=new d.$da(v);t.Pk="number" === typeof w?q.Ce:0;t.ka="object" === typeof v?q.ma:console;t.uf=[];t.Yh=0;t.ak=t.Pk;t.pd=null;t.Pn=!1;t.zm=!1;t.fE=q.gX || 0;t.od=new g.YJa(t.ka);t.JE=q.Jya;t.iSa=u;if(u === f.KD.Ga)t.Vha=new n.cOa(t.ka,t.JE);else throw Error("Not implemented yet");t.ka.trace("LiveTextStream created with options",q);return t;}c.__extends(p,m);p.prototype.start=function(){this.ka.info(("Incremental live text stream created, starting at pts ").concat(this.Pk));"undefined" !== typeof this.od.gG(this.Pk) && this.gH.call(this,this.Pk);};p.prototype.Ova=function(q){var u,t,w,v;u=this;t=q.xml;w=t.indexOf("<p");if(this.iSa === f.KD.Ga)v=new k.cIa(q,-1 !== w?w:0);else throw Error("Not yet implemented");this.od.Aia(v);this.Pn || (q=this.od.xf[0],this.od.UY(q),this.Pk=q.kb);-1 < w?(this.Ex.cTa(t,v.I,v.Rr),this.ka.trace(("Live segment ").concat(v.I," is pushed to segment manager"),{kb:v.kb,ff:v.ff,AEb:v.Rr}),!this.Pn && 4 > this.Yh && (t=0 < this.uf.length?this.uf[this.uf.length - 1].startTime + 1:this.Pk,this.ka.trace("parseNextSegment is called from push new live Segment at " + t),this.gH.call(this,t))):(this.ka.trace(("Live segment ").concat(v.I," is pushed to segment manager, it is an empty segment")),this.Pn || setTimeout(function(){u.su(v.I);},10));};p.prototype.BB=function(q){var u,t,w,v,y,x;u=this;v=this;v.ka.trace(("LiveTextStream:get subtitles at pts ").concat(q));y=v.od.gG(q);if("undefined" === typeof y)return (v.ka.debug(("LiveTextStream: get subtitle at pts ").concat(q," returns empty result with segment not available at this pts")),[]);v.od.UY(y);q < v.ak - v.fE?(v.ka.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(q),(", _lastPts: ").concat(v.ak,", _backupTolerance: ").concat(v.fE)),v.uf=[],v.Yh=0):(v.Yh=0 < v.uf.length?Math.max(v.od.lU() - y.I + 1,0):0,0 === v.Yh && (v.uf=[]));y=v.uf;v.ka.trace(("LiveTextStream: lastBufferedPts calculation ").concat(q),(", buffer.length: ").concat(y.length,", result: ").concat(0 < y.length?null === (t=y[y.length - 1]) || void 0 === t?void 0:t.startTime:q));t=this.od.gp;x=0 < y.length && void 0 !== t?t.kb:q;v.ak=q;v.ka.info("LiveTextStream: timer is " + v.pd + " bufffered segment number is " + v.Yh + " is parsing entry : " + this.zm + " maxBufferedStartPts " + (null === (w=this.od.gp) || void 0 === w?void 0:w.kb));for(!v.pd && 4 > v.Yh && !v.zm && (v.ka.info("LiveTextStream: buffer size: " + v.Yh + "; minimum: 4"),v.zm=!0,v.pd=setTimeout(function(){v.pd=null;u.ka.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (x + 1));u.gH.call(v,x + 1);},10));0 < y.length && y[0].endTime < q;){y.shift();}return this.Vha.h6(y,q).map(function(z){var A;A=v.od.voa(z.segId);return u.Vha.L4(A,z);});};p.prototype.Ul=function(q,u){return this.Ex?this.Ex.Ul(q,u):0;};p.prototype.close=function(){};p.prototype.gH=function(q){c.__awaiter(this,void 0,void 0,function(){var u,t;return c.__generator(this,function(w){switch(w.label){case 0:u=this;t=this.Loa.call(u,q);if("undefined" === typeof t)return [3,4];u.ka.trace("Next segment to parse at pts " + q + " is segment " + t.I);if(0 !== t.mG)return [3,1];u.ka.trace("This is an empty segment");this.su(t.I);return [3,3];case 1:return [4,this.Cua.call(u,t)];case 2:(w.Wa(),u.ka.trace("parseNextSegEntries buffer length: " + u.uf.length),w.label=3);case 3:return [3,5];case 4:return (u.ka.debug("Next segment is undefined at pts " + q),this.zm=!1,[2]);case 5:return [2];}});});};p.prototype.Loa=function(q){var u,t;t=this.Ex.z1a(q);this.ka.trace(("Most recent entry at current pts ").concat(q," is segment id  ").concat(t));-1 === t && (t=(null === (u=this.od.gG(q)) || void 0 === u?void 0:u.I) || -1);return t === this.od.lU()?this.od.Noa():this.od.Dv(t);};p.prototype.Cua=function(q){return c.__awaiter(this,void 0,void 0,function(){var u,t,w,v,y,x,z,A,B;return c.__generator(this,function(C){switch(C.label){case 0:(u=this,t=q.xml.slice(0,q.mG),C.label=1);case 1:return (C.Vj.push([1,3,,4]),[4,this.wXb(t)]);case 2:return (w=C.Wa(),[3,4]);case 3:return (v=C.Wa(),this.uma(v),[3,4]);case 4:if(!w)return (y=Error("Parsing header text returned undefined"),this.uma(y),[2]);if(w.error)return (x=w.error,x.Z2a=t,x.I=q.I,this.uma(x),[2]);A=w.head;this.od.Sza(q.I,A);return this.iSa !== f.KD.Ga?[3,6]:[4,this.Vha.Aua(q,A)];case 5:return (z=C.Wa(),[3,7]);case 6:throw Error("Not yet implemented");case 7:return (B=u.uf.reduce(function(D,E){E=E.blocks.reduce(function(G,F){return G.concat([F.id]);},[]);return D.concat(E);},[]),z && (z.forEach(function(D){var E;if(-1 === B.indexOf(D.id)){E=D && D.blocks && D.blocks.filter(function(G){return 0 < G.textNodes.length;});E && 0 < E.length && (D.blocks=E,u.uf.push(D));}}),this.su(q.I)),[2]);}});});};p.prototype.uma=function(q){this.ka.error(q);this.emit("error",q);};p.prototype.su=function(q){this.od.su(q);this.Yh+=1;this.zm=!1;!this.Pn && 4 <= this.Yh && (this.Pn=!0,this.emit("ready"));};p.prototype.wXb=function(q){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){return [2,new Promise(function(u){(0,l.A9a)(q,function(t,w){t?u({error:t}):u({head:w});});})];});});};return p;})(h);b.ZJa=a;},19070:function(r,b,a){var c,l,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.cOa=void 0;c=a(5163);l=a(94536);f=a(14387);k=a(42353);r=(function(){function d(g,n){this.ka=g;this.JE=n;}d.prototype.Aua=function(g,n){return c.__awaiter(this,void 0,void 0,function(){var h,m,p,q,u,t,w,v,y;y=this;return c.__generator(this,function(){h=this;m=0;p=[];q=n.defaultStyle?[n.defaultStyle]:[];u=n.lang?[n.lang]:[];t=g.xml.lastIndexOf("/p>") + 3;w=g.xml.slice(g.mG,t);h.ka.debug(w);v=f.lf(!0);return [2,new Promise(function(x,z){v.onerror=function(A){A.xml=w;z(A);};v.onend=function(){x(p);};v.ontext=function(A){("" !== A.trim() || A.match(/ +/)) && (0,l.Ud)((0,l.Ud)(p).blocks).textNodes.push({text:A.match(/ +/)?A:A.trim(),style:(0,l.Ud)(q),lang:(0,l.Ud)(u),lineBreaks:m});m=0;};v.onclosetag=function(){var A;A=v.tag;"undefined" !== typeof A.attributes.style && q.pop();"undefined" !== typeof A.attributes["xml:lang"] && u.pop();};v.onopentag=function(A){var B,C;B=A.attributes;A=A.name;if("p" === A){m=0;A=g.I.toString() + "_" + B["xml:id"];B.style && q.push(B.style);B["xml:lang"] && u.push(B["xml:lang"]);C=(0,k.Yx)(B.begin);0 === p.length || (0,l.Ud)(p).displayTime !== C?(B=y.lla(A,0,B,g.Rr),B.segId=g.I,p.push(B)):(0,l.Ud)(p).blocks.push({textNodes:[],region:B.region,id:A,extent:B["tts:extent"] || null,origin:B["tts:origin"] || null});}else "span" === A?(q.push(B.style),B["xml:lang"] && u.push(B["xml:lang"]),A=n.styles[B.style],B.style && A && A.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(A.ruby) && (0,l.Ud)((0,l.Ud)(p).blocks).textNodes.push({text:"",style:(0,l.Ud)(q),lang:(0,l.Ud)(u),lineBreaks:0})):"br" === A && m++;};v.write("<entries>").write(w).write("</entries>").close();})];});});};d.prototype.h6=function(g,n){return l.h6.call(this,g,n);};d.prototype.L4=function(g,n){return l.L4.call(this,g,n);};d.prototype.lla=function(g,n,h,m){var p;p={};p.id=g;p.startTime=(0,k.Yx)(h.begin || "") - m;p.endTime=(0,k.Yx)(h.end || "") - m;p.style=h.style;p.region=h.region;p.displayTime=p.startTime;p.duration=p.endTime - p.startTime;p.extent=h["tts:extent"] || null;p.origin=h["tts:origin"] || null;p.latestEndSoFar=n > p.endTime?n:p.endTime;p.blocks=[{textNodes:[],region:p.region,id:g,extent:p.extent || null,origin:p.origin || null}];return p;};return d;})();b.cOa=r;},56485:function(r,b,a){var l,f,k,d,g,n,h,m,p;function c(q){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(q);}Object.defineProperty(b,"__esModule",{value:!0});b.hpb=void 0;l=a(5163);r=a(22699);f=a(94536);k=a(72157);d=a(41555);g=a(47602);n=a(53144);h=a(42756);m=a(5725);p=a(83755);r=(function(q){function u(t,w){var v,y,x,z,A,B,C,D;v=this;v=q.call(this) || this;v.cv=!0;v.rR=[];v.ak=0;v.TRa=!0;B=v;C=t.gf || !1;v.ka=t.ma || console;v.DE=t.request;v.Ns=t.ZLb;v.b2=t.Ugc || (function(E,G){return E - (null !== G && void 0 !== G?G:v.Ns());});v.pd=null;v.cv=!0;v.rR=[];v.HR=w.profile;v.cf=w.url;v.AE=w.Ce;v.ak=v.AE || 0;v.TRa=null !== (y=w.Zic) && void 0 !== y?y:!0;y={url:v.cf,request:v.DE,Ce:null !== (x=v.AE) && void 0 !== x?x:0,ma:v.ka,gf:C,bufferSize:w.bufferSize,gX:w.gX || 0,MUa:w.MUa,aa:null !== (z=w.aa) && void 0 !== z?z:!1};if("nflx-cmisc" === w.profile){D=l.__assign(l.__assign({},y),{offset:w.Rsa,size:w.s7a,Pt:w.Pt,laa:w.laa,aZa:w.aZa});v.Jd=new m(D);}else if((v.jp=w.preferences,v.ep=w.Aj,x=null !== (A=null !== (D=w.Sec) && void 0 !== D?D:w.aa) && void 0 !== A && A?k.XRb:k.I5b,v.JE=new d.IOa(x,v.ep || ({}),v.jp || ({})),D=l.__assign(l.__assign({},y),{profile:w.profile,xml:w.xml,Jya:v.JE}),w.aa && c(v.HR) && void 0 === D.xml))v.Jd=w.tkc?new n.ZJa(D,h.KD.Ga):new g.dIa(D);else if(c(v.HR) && "function" === typeof f.Nda)v.Jd=new f.Nda(D);else throw Error("SubtitleManager: " + v.HR + " is an unsupported profile");v.Jd.on("ready",function(){var G,F,J;function E(){return B.cv;}G=!!w.lUa;B.ka.info("ready event fired by subtitle stream");B.emit("ready");F=B.Jd.BB.bind(B.Jd);if(t.Toa && t.W9){J=a(36888).NBa;B.pd=new J(B.Ns,F,v.b2,B.ka,E,t.Toa,t.W9,w);}else B.pd=new p(B.Ns,F,v.b2,E,B.ka,w);if("dfxp-ls-sdh" === B.HR && "function" === typeof f.Nda)B.pd.on("stagesubtitle",B.pya.bind(B));B.pd.on("showsubtitle",B.eya.bind(B));B.pd.on("removesubtitle",B.lwa.bind(B));B.pd.on("underflow",B.pm.bind(B));B.pd.on("bufferingComplete",B.ek.bind(B));G && (B.ka.info("autostarting subtitles"),setTimeout(function(){B.Hz(B.Ns());},10));});v.Jd.on("error",v.emit.bind(v,"error"));return v;}l.__extends(u,q);u.prototype.start=function(){this.Jd.start();};u.prototype.aab=function(){this.cv || (this.cv=!0,this.uZa(this.ak));};u.prototype.Hz=function(t){this.TRa && !this.cv && 1E4 < Math.abs(t - this.ak) && (this.ka.warn("Detected an unexpected pts jump larger than",1E4,"at",t,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.aab());this.ak=t;this.cv && (this.cv=!1,this.$4b(t));null !== this.pd && (this.q8b(t),this.pd.Hz(t));};u.prototype.stop=function(){var t;this.ka.info("stop called");this.cv || this.pause();this.Jd.removeAllListeners(["ready"]);null !== this.pd && this.pd.stop();t=this.rR.reduce(function(w,v){w.udb+=v.ZX;w.t5+=v.u5 || 0;w.uPb.push(v);return w;},{udb:0,t5:0,uPb:[]});"object" === typeof this.Jd && this.Jd.close();this.ka.debug("metrics: " + JSON.stringify(t));return t;};u.prototype.pause=function(){var t;t=this.Ns();this.cv?this.ka.warn("pause called on subtitle manager, but it was already paused!"):(this.ka.info("pause called at " + t),this.cv=!0,this.uZa(t));null !== this.pd && this.pd.pause();};u.prototype.A6=function(t,w){return "function" === typeof this.Jd.A6?this.Jd.A6(t,w):[];};u.prototype.Ul=function(t,w){return this.Jd.Ul(t,w);};u.prototype.BB=function(t){return this.Jd.BB(t);};u.prototype.TC=function(t){var v;function w(){v.ka.info("bufferingComplete from setStreamStartPosition");v.emit("bufferingComplete");}v=this;"function" === typeof this.Jd.TC?this.Jd.TC(t,w):w();};u.prototype.Rj=function(t,w){"function" === typeof this.Jd.Rj && this.Jd.Rj(t,w);};u.prototype.gj=function(t,w){"function" === typeof this.Jd.gj && this.Jd.gj(t,w);};u.prototype.Nva=function(t){"function" === typeof this.Jd.Ova && this.Jd.Ova(t);};u.prototype.b6=function(){return this.rR[this.rR.length - 1];};u.prototype.eya=function(t){var w,v,y,A;v=0;this.ka.info("show subtitle called at " + this.Ns() + " for displayTime " + t.displayTime);this.emit("showsubtitle",t);y=this.b6();y.ku || (y.ku={});if(c(this.HR))try{for(var x=l.__values(t.blocks),z=x.next();!z.done;z=x.next()){A=z.value;y.ku.hasOwnProperty(A.id) || v++;y.ku[A.id]=t.endTime;}}catch(C){var B;B={error:C};}finally{try{z && !z.done && (w=x.return) && w.call(x);}finally{if(B)throw B.error;}}else (y.ku.hasOwnProperty(t.id) || v++,y.ku[t.id]=t.endTime);this.nzb();y.ZX+=v;};u.prototype.nzb=function(){var t,w,v;t=this.b6();if(null === t || void 0 === t?0:t.ku){w=t.ku;v=Object.keys(t.ku);30 < v.length && (v=v.sort(function(y,x){return w[x] - w[y];}),v.splice(19,Math.max(v.length - 20,0)),t.ku={},v.forEach(function(y){t.ku[y]=w[y];}));}};u.prototype.lwa=function(t){this.ka.info("remove subtitle called at " + this.Ns() + " for remove time " + (t.displayTime + t.duration));this.emit("removesubtitle",t);};u.prototype.pya=function(t){this.ka.info("stage subtitle called at " + this.Ns() + " for displayTime " + t.displayTime);this.emit("stagesubtitle",t);};u.prototype.pm=function(){this.ka.info("underflow fired by the subtitle timer");this.emit("underflow");};u.prototype.ek=function(){this.ka.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};u.prototype.$4b=function(t){this.ka.debug("creating a new subtitle interval at " + t);this.rR.push({kb:t,ZX:0});};u.prototype.q8b=function(t){var w;w=this.b6();w && (w.tra=t);};u.prototype.uZa=function(t){var w;this.ka.debug("ending subtitle interval at " + t);w=this.b6();w && (w.ff=t,w.ff < w.kb && (this.ka.warn("correcting for interval where endPts is smaller than startPts"),w.kb=0 < w.ff?w.ff - 1:0),w.u5=this.Jd.Ul(w.kb,w.ff),delete w.ku,w.u5 > w.ZX && w.tra && 500 > w.ff - w.tra && (w.u5=this.Jd.Ul(w.kb,w.tra)),this.ka.debug("showed " + w.ZX + " during this interval"),this.ka.debug("expected " + w.u5 + " for this interval"));};return u;})(r.EventEmitter);b.hpb=r;b["default"]=r;},42756:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KD=void 0;r=b.KD || (b.KD={});r[r.TEXT=0]="TEXT";r[r.IMAGE=1]="IMAGE";},85981:function(r,b,a){var n,h;function c(m,p,q){var u;u=q.displayTime <= m && m <= q.displayTime + q.duration;return m <= q.displayTime && q.displayTime <= p || u;}function l(m,p,q){return p && (!p.entries.length && m > p.kw || m > p.endTime) && q.entries.length && m < q.endTime;}function f(m,p,q){this.EE=this.Yu=0;this.erb=m.bufferSize || 4194304;this.cp=new g();this.zE;this.pE=m.gf;this.ka=m.ma;this.Mq=p;this.Zh=q;this.Oq=new n(m);this.OE=new d(this.Zh.length,m.aZa);this.JR=new k(m.MUa);}function k(m){this.kR=0 !== m;this.on=!1;this.oj=m || 3E3;this.pd;}function d(m,p){if(this.enabled=p)this.wn=Array.apply(null,Array(m)).map(function(){return "-";});}function g(m,p){this.zk=m;this.index=p;}n=a(86839);h=a(90955);g.prototype.reset=function(){this.index=this.zk=void 0;};d.prototype.ea=function(m){this.enabled && m < this.wn.length && (this.wn[m]="x");};d.prototype.f9a=function(m){this.enabled && m < this.wn.length && (this.wn[m]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.wn.join("") + "|";};k.prototype.start=function(){var m;if(this.kR){m=this;this.on=!0;this.pd=setTimeout(function(){m.on=!1;m.pd=void 0;},this.oj);}};k.prototype.stop=function(){this.on=!1;clearTimeout(this.pd);this.pd=void 0;};Object.defineProperties(f.prototype,{Ala:{get:function(){return this.cp;}},Oxb:{get:function(){return !this.JR.on;}}});f.prototype.xR=function(){this.OE.enabled && this.ka.debug("Buffer: " + this.OE.toString());};f.prototype.ssb=function(m){this.EE+=m;this.ka.debug("Reserved buffer size is",this.Yu + this.EE,"after reserving",m);};f.prototype.Rsb=function(m){this.EE-=m;this.ka.debug("Reserved buffer size is",this.Yu + this.EE,"after unreserving",m);};f.prototype.Opb=function(m){this.Yu+=m;this.ka.debug("Buffer size is",this.Yu,"after claiming",m);};f.prototype.YRa=function(m){this.Yu-=m;this.ka.debug("Buffer size is",this.Yu,"after clearing",m);};f.prototype.A0b=function(m,p){var q;this.YRa(m);q=this;p && this.OE.enabled && (p.forEach(function(u){q.OE.f9a(u.index);}),this.xR());};f.prototype.aya=function(m){var p;p=this.vqb(m);return h.t3a(p) && h.S5b(m,p);};f.prototype.e3b=function(m){var p;p=this.PQa(m);(!p || p.index) !== (!this.cp || this.cp.index) && (this.zE=this.cp.zk,p?(this.pE && this.ka.debug("Current sidx is index",p.index),this.cp=p):(this.pE && this.ka.debug("Current sidx is out of range"),this.cp.reset()));this.zE && "number" === typeof this.zE.index && (m < this.zE.kw - 35E3 || m > this.zE.kq + 35E3) && (this.Fga(this.zE.index),this.zE=void 0,this.xR());};f.prototype.TC=function(m,p){var q,u;q=this.Zh && this.Zh.length;for(p;p < q;p++){(u=this.Zh[p]) && ((u.endTime || u.kq) >= m - 1E4 && (u.endTime || u.kq) < m + 3E5 || this.Fga(p));}this.JR.stop();this.xR();};f.prototype.xub=function(){var m,p;this.ka.debug("executing aggressive cleanup");m=this.Zh && this.Zh.length;for(p=0;p < m;p++){p === this.cp.index && (p+=2);this.Fga(p);}this.JR.stop();this.xR();};f.prototype.sMb=function(m){var p,q,u,t;p=[];q=this.PQa(m);if(!q)return (this.cp.reset(),p);this.cp=q;u=m + 1E4;q=q.index;t=this.Zh[q];q;for(t;q < this.Zh.length && u > t.kw;(q++,t=this.Zh[q])){h.t3a(t) && h.T5b(m,u,t) && p.push(t);}return p;};f.prototype.EYa=function(m,p){var q,u,t,w,v,y;if(!m || !m.length)return (p && p(null),!0);this.Oq.CR && 2 <= Object.keys(this.Oq.CR).length && !this.JR.on && (this.ka.debug("Enabling buffering quiet period"),this.JR.start());q=this;u=m[0];t=m[m.length - 1];if(0 < u.entries.length)(w=u.entries[0].oG,v=u.entries[u.entries.length - 1]);0 < t.entries.length && (h.Xc(w) || (w=t.entries[0].oG),v=t.entries[t.entries.length - 1]);if(w)y=v.oG + v.bqa - w;else return (p && p(null),!0);u=h.ooa(w,y);if(this.Oq.CR[u])(this.ka.debug("The request for",u,"is already pending. Not requesting again"),p && p());else if(this.Jqb(h.hpa(m)))(this.ka.debug("Reserving",y,"bytes for subtitle request",m[0].kw,m[m.length - 1].kq),this.ssb(y),this.Oq.OEb(m,w,y,function(x,z){q.ka.debug("Claiming reserved space.  Expected",y,"received",z);q.OE.enabled && (m.forEach(function(A){q.OE.ea(A.index);}),q.xR());q.Rsb(y);q.Opb(z);p && p(x);}));else return (this.ka.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};f.prototype.lpa=function(m,p){var q,u,t;q=this.Mq;u=this.OQa(m,p,this.Zh);if(!u || 0 === u.length)return [];t=[];p=c.bind(null,m,p);for(var w=0;w < u.length;w++){m=u[w];t=t.concat(m.entries.filter(p));}t=t.map(function(v){return h.qla(v,null,q);});return h.CWa(t);};f.prototype.tMb=function(m,p,q){return this.OQa(m,p.endTime,p.wn,q,!0);};f.prototype.OQa=function(m,p,q,u,t){var w,v,y,x;if(p && m > p || 0 > m)this.ka.error("invalid range startPts: " + m + ", endPts: " + p);else {w=q && q.length || 0;v=[];if(q && 0 !== w){y=q[0].duration;x=q[0].kw;if(h.Xc(y) && 0 < y)y=Math.floor((m - x) / y);else for((this.pE && this.ka.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),y=0);y < w && (x=q[y],!h.IEb(x,m));y++){;}for(;y < w && (!u || v.length < u);){x=q[y];if(!t || !x.images.length && x.endTime > m)v.push(x);else if(v.length)break;if(p && p <= x.kq)break;y++;}return v;}}};f.prototype.vqb=function(m){var p,q,t;p=this.Zh;if(p && 0 !== p.length){q=p[Math.floor(m / 6E4)];if(q && (q.kw > m || m > q.kq))a:{this.nqb || (this.nqb=!0,q=h.XKb(this.Mq.language),this.ka.error("bruteforce search for ",{movieId:this.Mq.P,packageId:this.Mq.tn,lang:q}));q=p.length;for(var u=0;u < q;u++){t=p[u];if(t.kw <= m && m <= t.kq){q=t;break a;}}q=void 0;}return q;}};f.prototype.PQa=function(m){var p,q,u,t,w,v,y,x;p=this.cp;q=p.zk;u=p.index;t=this.Zh;this.Mga(h.Xc(m));if(q)if(q.entries.length){if(0 === u && m <= q.startTime || m >= q.startTime && m <= q.endTime)(w=!0,v=p);else {if(0 < u){y=t[u - 1];l(m,y,q) && (w=!0,v=p);}}}else {y=t[u - 1];x=t[u + 1];l(m,y,q)?(w=!0,v=p):x && x.endTime && m <= x.endTime && (m >= q.endTime || m >= q.kq) && (w=!0,v=new g(x,u + 1));}if(!w)for((p=t.length,q=0);q < p;q++){if((u=t[q],u.entries.length && m <= u.endTime)){v=new g(u,q);break;}}return v;};f.prototype.Jqb=function(m){return this.Yu + this.EE + m <= this.erb;};f.prototype.Fga=function(m){var p,q,u;p=this.Zh[m];q=p && p.images && p.images.length || 0;if(0 < q){u=h.hpa([p]);p.images=[];this.OE.f9a(m);this.YRa(u);this.pE && this.ka.debug("cleaning up space from sidx",{index:m,start:p.startTime,size:u,images:q,zic:this.Yu});}};f.prototype.Mga=function(m){this.pE && h.assert(m,this.ka);};r.exports=f;},5725:function(r,b,a){var l,f,k,d,g,n;function c(h){l.call(this);this.cf=h.url;this.DE=h.request;this.AE=h.Ce || 0;this.ka=h.ma;this.Zh=this.Mq=null;h.Pt?this.Mq=h.Pt:(this.Zb=h.offset,this.eK=h.size);this.Cl;this.Hha=h;}l=a(22699).EventEmitter;f=a(42176);k=a(28323);d=a(1315);g=a(90955);n=c.events={rmb:"midxready",Kob:"sidxready",wob:"ready",Hk:"error"};c.prototype=Object.create(l.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{cp:{get:function(){return this.Cl && this.Cl.Ala;}}});c.prototype.start=function(){this.Mq?(this.ka.warn("midx was prefectched and provided"),this.DQa(this.Mq)):this.hqb(this.Zb,this.eK,this.isb.bind(this));};c.prototype.close=function(){};c.prototype.A6=function(h,m){return this.Cl && this.Cl.lpa(h,m);};c.prototype.Ul=function(h,m){return (h=this.A6(h,m))?h.length:h;};c.prototype.TC=function(h,m){this.ka.debug("setStreamStartPosition: buffering subtitles at pts " + h);this.AE=h;this.Cl?this.Cl.TC(h,m):m && m();};c.prototype.BB=function(h){var m,p,q;if(!this.Cl || h > g.yKb(this.Mq))return [];this.Cl && this.Cl.jma(h);m=this.cp.zk;p=this.cp.index;q=[];p=g.Xc(p) && this.Zh[p + 1];if(!(p && p.entries.length || m && !(h > m.endTime)))return [];m && m.images.length && (q=this.MQa(m,h,[]));2 > q.length && p && p.images.length && (m=this.MQa(p,h,q),q.push.apply(q,m));return this.Cl.aya(h)?null:g.CWa(q);};c.prototype.gj=function(h,m){this.Cl && this.Cl.gj(h,m);};c.prototype.Rj=function(h,m){this.Cl && this.Cl.Rj(h,m);};c.prototype.hqb=function(h,m,p){this.ka.debug("downloading midx...");this.VQa(h,m,"binary",p);};c.prototype.iqb=function(h,m,p){this.ka.debug("downloading sidx...");this.VQa(h,m,void 0,p);};c.prototype.VQa=function(h,m,p,q){this.DE({url:this.cf,offset:h,size:m,responseType:p},q);};c.prototype.isb=function(h,m){if(h)this.emit(n.Hk,g.jU(h,"midxdownloaderror"));else try{this.Mq=new f(m);this.DQa(this.Mq);}catch(p){this.emit(n.Hk,g.jU(p,"midxparseerror"));}};c.prototype.DQa=function(h){var m;m=h.entries.reduce(function(p,q){return p + q.size;},0);m?(this.emit(n.rmb,h),this.iqb(h.startOffset,m,this.ksb.bind(this,h))):this.emit(n.Hk,g.jU({},"nosidxfoundinmidx"));};c.prototype.ksb=function(h,m,p){var q,u,t,w;q=this;if(m)q.emit(n.Hk,g.jU(m,"sidxdownloaderror"));else {u=0;t=0;q.Zh=[];try{w=0;h.entries.forEach(function(v){var y;y=new k(p,u,h.rqa,q.ka,t,t + v.duration,w);q.Zh.push(y);v.v4b=y;t=y.kq;u+=v.size;w++;});}catch(v){q.emit(n.Hk,g.jU(v,"sidxparseerror"));return;}q.emit(n.Kob,q.Zh);this.Cl=new d(q.Hha,h,q.Zh);m=q.AE;q.Hha && q.Hha.laa || (m=Math.max(q.AE - 1E4,0));this.Cl.jma(m,function(v){v && q.ka.error("initial sidx download failed");q.emit(n.wob);});}};c.prototype.MQa=function(h,m,p){var x;for(var q=h.entries,u=0,t=q.length,w=[],v,y=this.Mq;u < t;){v=q[u];if(v.displayTime <= m)v.displayTime + v.duration >= m && w.push(g.qla(v,h.images[u].data,y));else {x=w.length && w[w.length - 1] || p.length && p[p.length - 1];if(x && x.displayTime > m && x.displayTime !== v.displayTime)break;x.oG !== v.oG && w.push(g.qla(v,h.images[u].data,y));}u++;}return w;};r.exports=c;},42176:function(r,b,a){var l,f;function c(k,d){this.duration=k;this.size=d;this.v4b=void 0;}l=a(63844);f=a(90955);r.exports=function(k){var h;k=new l(k);this.identifier=k.Vva(4);f.assert("midx" === this.identifier);this.version=k.lq(4);f.assert(0 === this.version);this.rqa=k.Hj(36);this.creationTime=k.NN();this.tn=k.NN();this.P=k.NN();this.N1b=k.Vg();this.O1b=k.Vg();this.language=k.Hj(16);k.Hj(16);this.startOffset=k.NN();this.rL=k.Vg();for(var d=[],g=0,n=0;n < this.rL;n++){h=new c(k.lq(4),k.Vg());d.push(h);g+=h.duration;}this.entries=d;this.endTime=g;};},86839:function(r,b,a){var l,f;function c(k){this.cf=k.url;this.DE=k.request;this.AE=k.Ce || 0;this.pE=k.gf;this.ka=k.ma;this.CR={};}l=a(63844);f=a(90955);c.prototype.OEb=function(k,d,g,n){this.CR[f.ooa(d,g)]=!0;k && k.forEach(function(h){h.vX=!0;});this.DE({url:this.cf,offset:d,size:g},this.Jrb.bind(this,k,d,g,n));};c.prototype.Jrb=function(k,d,g,n,h,m){var p,q,u,t;p=this;q=f.ooa(d,g);setTimeout(function(){delete p.CR[q];},1E3);if(h)(n && n(h,0),k && k.forEach(function(w){delete w.vX;}));else {u=new l(m);t=0;k && k.forEach(function(w){delete w.vX;w.entries.forEach(function(v,y){u.position=v.oG - d;v={data:u.Hj(v.bqa)};w.images[y]=v;f.n9b(w.images[y].data,p.Mga.bind(p));t+=w.images[y].data.length;});});n && n(null,t);}};c.prototype.Mga=function(k){this.pE && f.assert(k,this.ka);};r.exports=c;},73142:function(r){function b(a,c,l,f){this.ka=f;this.id=a;this.startTime=c && c.ta || 0;this.endTime=c && c.va;this.f8a=c && c.next || [];this.mcb;this.oW=[];this.pM=!1;a=this.startTime;c=this.endTime;for(var k=[],d=0;d < l.length;d++){(f=l[d]) && (!c || c > f.kw) && a < f.kq && (f.OOb(),k.push(f));}this.wn=k;}b.prototype.MVa=function(){this.ka.debug("Cleaning up segment",this.id);for(var a,c=0,l,f=[],k=0;k < this.wn.length;k++){a=this.wn[k];(l=a.uDb()) && f.push(a);a && (c+=l);}this.wn=[];return {size:c,wn:f};};r.exports=b;},1315:function(r,b,a){var k,d;function c(g,n){var m;g=g || 0;if(n)for(var h in n.O){m=n.O[h];if(g >= (m.ta || 0) && (!m.va || g < m.va))return h;}}function l(g,n){return g && n && n.O[g];}function f(g,n,h){var m;this.ka=g.ma;this.Zh=h;this.DA=this.Qpb(g.laa);this.fv=[];m=h && h[h.length - 1];this.ak=m && (m.endTime || m.kq);this.fg=new k(g,n,h);g=c(g.Ce || 0,this.DA);this.Bl=this.hR(g);}k=a(85981);d=a(73142);Object.defineProperties(f.prototype,{Ala:{get:function(){return this.fg.Ala;}}});f.prototype.lpa=function(g,n){return this.fg && this.fg.lpa(g,n);};f.prototype.jma=function(g,n){this.fg.e3b(g);this.ySa(g);if(!this.DA && this.ak && g > this.ak)n && n();else if((g=this.AQa(g,this.Bl,2,n),this.DA && 0 < this.Bl.f8a.length))n && n();else if(this.DA && this.Bl.pM && g){2 > this.fv.length && this.Xpb(this.Bl);n=Math.ceil(2 / (this.fv.length - 1));for(var h=0;h < this.fv.length && g && 3 > h;h++){g=this.fv[h];g=this.AQa(g.startTime,g,n);}}};f.prototype.aya=function(g){return this.fg.aya(g)?(this.fg.xub(),this.jma(g),this.Bl.pM=!1,!0):!1;};f.prototype.TC=function(g,n){var h;this.ySa(g);this.fv.forEach(function(m){m.pM=!1;});h=this.Bl.wn && this.Bl.wn[0];this.fg.TC(g,h && h.index);(g=this.fg.sMb(g)) && g.length?this.fg.EYa(g,n):n && n();};f.prototype.Rj=function(g,n){var h;this.ka.debug("Set next segment to",n,"for segment",g);g=this.GQa(g) || this.hR(g);g.mcb=n;h=this;g.oW=g.oW.filter(function(m){if(m.id === n)return !0;h.Oga(m);return !1;});};f.prototype.gj=function(g,n){var h;h=l(g,this.DA);Object.keys(h.next).forEach(function(m){h.next[m].weight=n[m] || 0;});};f.prototype.Qpb=function(g){var n,m;n={};if(g=(g || ({})).O){n.O={};for(var h in g){m=g[h] || ({});n.O[h]={ta:m.ta,va:m.va,Fb:m.Fb,next:this.Ppb(m.next)};}}return n;};f.prototype.Ppb=function(g){var n,h;n={};for(h in g){n[h]={weight:(g[h] || ({})).weight};}return n;};f.prototype.ySa=function(g){var n,h;if(this.DA && this.Bl.startTime > g || this.Bl.endTime && this.Bl.endTime < g){n=this.Bl;h=c(g,this.DA);h?(this.ka.debug("Switching segments from",this.Bl.id,"to",h,"at pts",g),this.Bl=this.GQa(h) || this.hR(h),this.Oga(n)):this.ka.debug("The pts is outside of the current segment but not in a new one yet");}};f.prototype.hR=function(g){this.ka.debug("SegmentManager: creating segment",g);g=new d(g,l(g,this.DA),this.Zh,this.ka);this.fv.push(g);this.ka.debug("SegmentManager: segment contains",g.wn.length,"sidxes");return g;};f.prototype.Oga=function(g){var n;if(g && g !== this.Bl){this.ka.debug("SegmentManager: deleting segment",g.id);g.oW.forEach(this.Oga.bind(this));this.fv=this.fv.filter(function(h){return h !== g;});n=g.MVa();this.fg.A0b(n && n.size || 0,n && n.wn);}};f.prototype.GQa=function(g){var h;for(var n=0;g && n < this.fv.length;n++){h=this.fv[n];if(g === h.id)return h;}};f.prototype.Xpb=function(g){var n,m;n=g.mcb;if(n && "" !== n)g.oW.push(this.hR(n));else {n=g.f8a;for(var h in n){m=n[h];if(!m || !m.weight)break;g.oW.push(this.hR(h));}}};f.prototype.AQa=function(g,n,h,m){if(!n || n.pM)return (this.ka.debug("Done driving segment",n && n.id),!0);if(!this.fg.Oxb)return (this.ka.debug("Throttling buffering in quiet period"),!1);this.ka.debug("Drive streaming of segment",n.id,"from pts",g);h=(g=this.fg.tMb(g,n,h)) && g.length || 0;if(0 === h)return (this.ka.debug("Segment is fully downloaded",n && n.id),n.pM=!0,m && m(),!0);this.ka.debug("Downloading",h,"sidxes in segment",n.id);return this.fg.EYa(g,function(p,q){p && (n.pM=!1);m && m(p,q);});};r.exports=f;},28323:function(r,b,a){var f,k;function c(d,g,n,h,m,p,q,u){this.displayTime=d;this.duration=g;this.SWb=n;this.TWb=h;this.B4b=m;this.C4b=p;this.oG=q;this.bqa=u;}function l(d,g,n,h,m,p,q){var u;d=new f(d);u=0;d.position=g;this.ka=h;this.identifier=d.Vva(4);k.assert("sidx" === this.identifier,h);this.rqa=d.Hj(36);k.pzb(this.rqa,n,h);this.duration=d.lq(4);this.rL=d.Vg();this.kw=m;this.kq=p;this.index=q || 0;this.entries=[];this.images=[];for(this.Uha=0;u < this.rL;){g=new c(d.lq(4),d.lq(4),d.Vg(),d.Vg(),d.Vg(),d.Vg(),d.NN(),d.lq(4));u++;this.entries.push(g);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}f=a(63844);k=a(90955);l.prototype.OOb=function(){this.Uha++;};l.prototype.uDb=function(){var d;d=0;this.Uha--;1 > this.Uha?this.images && 0 < this.images.length && (d+=k.hpa([this]),this.images=[]):this.ka.debug("Not cleaning up shared sidx with range",this.kw,"-",this.kq);return d;};r.exports=l;},90955:function(r){function b(k,d){return k.some(function(g){return g.id === d;});}function a(k,d){return k.filter(c.bind(null,d)).map(l).reduce(f,0);}function c(k,d){return k.id === d.id && k.displayTime + k.duration === d.displayTime;}function l(k){return k.duration;}function f(k,d){return k + d;}r.exports={pzb:function(k,d,g){for(var n=0;n < k.length;n++){if(k[n] !== d[n])return (g.error("indexId mismatch in sidx",{sIndexId:k,mIndexId:d}),!1);}return !0;},qla:function(k,d,g){var n;n={};n.displayTime=k.displayTime;n.duration=k.duration;n.originX=k.SWb;n.originY=k.TWb;n.sizeX=k.B4b;n.sizeY=k.C4b;n.imageData=d;n.id=k.oG;n.rootContainerExtentX=g.N1b;n.rootContainerExtentY=g.O1b;return n;},ooa:function(k,d){return "o_" + k + "s_" + d;},n9b:function(k,d){d("P" === String.fromCharCode(k[1]));d("N" === String.fromCharCode(k[2]));d("G" === String.fromCharCode(k[3]));},Xc:function(k){return "undefined" !== typeof k;},sjc:b,igc:a,jU:function(k,d){var g,n;g=Object.create({});for(n in k){g[n]=k[n];}k instanceof Error && (g.message=k.message,g.stack=k.stack);g.errorString=d;return g;},assert:function(k,d){if(!k)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},t3a:function(k){return k && 0 < k.entries.length && 0 === k.images.length;},S5b:function(k,d){for(var g=d.entries.length,n,h=0;h < g;h++){if((n=d.entries[h],n.displayTime <= k && n.displayTime + n.duration >= k))return !0;}return !1;},T5b:function(k,d,g){for(var n=g.entries.length,h,m,p=0;p < n;p++){h=g.entries[p];m=h.displayTime;h=m + h.duration;if(d < m)break;if(m <= k && h >= k || m > k && m <= d)return !0;}return !1;},CWa:function(k){return k.map(function(d,g){d.duration+=a(k.slice(g + 1),d);return d;}).reduce(function(d,g){b(d,g.id) || d.push(g);return d;},[]);},hpa:function(k){return k.reduce(function(d,g){return d + g.entries.reduce(function(n,h){return h.bqa + n;},0);},0);},IEb:function(k,d){return k && k.kw <= d && k.kq >= d;},yKb:function(k){if(k)return k.endTime;},XKb:function(k){try{return String.fromCharCode.apply(String,k);}catch(d){}return "";}};},83755:function(r,b,a){var c;c=a(22699).EventEmitter;a(82630)({});b=function m(f,k,d,g,n,h){if(!(this instanceof m))return new m(f,k,d,g,n,h);c.call(this);this.Ns=f;this.pR=k;this.b2=d;this.Vqb=g;this.Mi={};this.tj={};this.ka=n || console;this.Ln=!1;this.pha=h.aa;this.lsb=h && h.gX || 0;};b.prototype=Object.create(c.prototype);b.prototype.stop=function(){clearTimeout(this.pd);this.pd=void 0;this.G$();};b.prototype.G$=function(){var f;f=this;Object.keys(f.Mi).forEach(function(k){f.emit("removesubtitle",f.Mi[k]);});f.Mi={};f.tj={};};b.prototype.pause=function(){this.Ln || (clearTimeout(this.pd),this.pd=void 0);};b.prototype.Hz=function(f,k){var d,g;d=this;g=d.Ns();f=d.pR(g);null !== f && d.Ln && (d.Ln=!1,this.ka.debug("bufferingComplete"),d.emit("bufferingComplete"),this.Vqb())?this.ka.debug("bufferingComplete while paused, no longer scheduling internal pts events"):(k="number" === typeof k?k:0,Object.keys(d.Mi).forEach(function(n){n=d.Mi[n];n.displayTime - d.lsb <= g && g < n.displayTime + n.duration || (delete d.Mi[n.id],d.emit("removesubtitle",n));}),Object.keys(d.tj).forEach(function(n){n=d.tj[n];g >= n.displayTime + n.duration && delete d.tj[n.id];}),null !== f && 0 < f.length?(k=f.length,d.ka.debug("found " + k + " entries for pts " + g),f.forEach(function(n){n.displayTime - 0 <= g && g < n.displayTime + n.duration && !d.Mi[n.id] && (d.emit("showsubtitle",n),d.Mi[n.id]=n,delete d.tj[n.id]);}),k=f[f.length - 1],d.Mi[k.id] || d.tj[k.id] || (d.emit("stagesubtitle",k),d.tj[k.id]=k),k=d.Lsb(g,f),"number" === typeof k && Infinity > k?d.RR(k):d.RR(2E4)):null === f?(f=250 * Math.pow(2,k),2E3 < f && (f=2E3),d.ka.warn("checking buffer again in " + f + "ms"),d.Ln || (d.Ln=!0,d.emit("underflow")),d.RR(f,k + 1)):d.pha?(f=500,d.ka.trace("Live : No entries for " + g + "checking buffer again in " + f + "ms"),d.RR(f)):d.RR(2E4));};b.prototype.RR=function(f,k){var d;d=this;d.ka.debug("Scheduling pts check.",{timeout:f,NO:d.pd});clearTimeout(d.pd);d.pd=setTimeout(function(){d.Hz(d.Ns(),k);},f);};b.prototype.Lsb=function(f,k){k=k.reduce(this.urb.bind(this,f),Infinity);return Infinity > k?this.b2(k,f):k;};b.prototype.urb=function(f,k,d){var g;g=d.displayTime;d=d.displayTime + d.duration;this.ka.debug("next events: start",g,"end",d,"now",f);return g < k && f < g?g:d < k && f < d?d:k;};r.exports=b;},63844:function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},apa:function(){return this.buffer.length - this.position;},fz:function(){return this.buffer[this.position++];},Hj:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},lq:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},Vva:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},Vg:function(){return this.lq(2);},mq:function(){return this.lq(4);},NN:function(){return this.lq(8);},lw:function(a){for(var c,l="";a--;){c=this.fz();l+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return l;},Wva:function(a){for(var c=0,l=0;l < a;l++){c+=this.fz() << (l << 3);}return c;},MN:function(){return this.Wva(4);},qZ:function(a){this.gP(a,2);},Mz:function(a){this.gP(a,4);},Sba:function(a){this.buffer[this.position++]=a;},gP:function(a,c){this.position+=c;for(var l=1;l <= c;l++){this.buffer[this.position - l]=a & 255;a=Math.floor(a / 256);}},Lz:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},pZ:function(a){for(var c=a.length,l=0;l < c;l++){this.buffer[this.position++]=a[l];}},fP:function(a,c){this.pZ(a.Hj(c));}};r.exports=b;},82630:function(r){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}r.exports=function(a){var k,d,g;function c(n,h,m){throw new TypeError(("undefined" !== typeof m.key?"Types: expected " + m.key:"Types: expected argument " + m.index) + (" to be '" + n + "' but found '" + h + "'"));}function l(n,h,m){var p;p=d[n];"undefined" !== typeof p?p(h) || c(n,h,m):n !== typeof h && c(n,h,m);}function f(n,h){var m;m=n.filter(function(p){return "object" !== typeof p && -1 === g.indexOf(p);});m=m.concat(n.filter(function(p){return "object" === typeof p;}).reduce(function(p,q){return p.concat(Object.keys(q).map(function(u){return q[u];}).filter(function(u){return -1 === g.indexOf(u);}));},[]));if(0 < m.length)throw Error(m.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== n.length)throw new TypeError("Types: unexpected number of arguments");n.forEach(function(q,u){var t;t=p[u];if("string" === typeof q)l(q,t,{index:u});else if("object" === typeof q)Object.keys(q).forEach(function(w){l(q[w],t[w],{key:w});});else throw Error("Types: unexpected type in type array");});return h.apply(this,p);};}k=("number boolean string object function symbol").split(" ");d={array:function(n){return Array.isArray(n);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(n){if("undefined" !== typeof d[n] || -1 < k.indexOf(n))throw new TypeError("Types: attempting to override a built in type with " + n);d[n]=a[n];});}g=Object.keys(d).concat(k);return f(["array","function"],f);};},17267:function(r){var b;b={Sb:function(a){return "number" === typeof a;},Lt:function(a){return "object" === typeof a;},tg:function(a){return "string" === typeof a;},kn:function(a){return "undefined" === typeof a;},rhc:function(a){return "boolean" === typeof a;},Vp:function(a){return "function" === typeof a;},vc:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},rXb:function(a){var c,l;l=[];if(!b.Lt(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && l.push([c,a[c]]);}return l;}};b.Hp=b.forEach=function(a,c,l){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var f=0,k=a.length;f < k;f++){c.call(l,a[f],f,a);}else for(f in a){b.has(a,f) && c.call(l,a[f],f,a);}return a;};r.exports=b;},75691:function(r,b,a){var c,l,f,k,d,g,n,h,m,p;if(!Object.keys){c=Object.prototype.hasOwnProperty;l=Object.prototype.toString;f=a(30801);b=Object.prototype.propertyIsEnumerable;k=!b.call({toString:null},"toString");d=b.call(function(){},"prototype");g=("toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor").split(" ");n=function(q){var u;u=q.constructor;return u && u.prototype === q;};h={n$b:!0,o$b:!0,p$b:!0,q$b:!0,r$b:!0,s$b:!0,t$b:!0,u$b:!0,v$b:!0,w$b:!0,x$b:!0,y$b:!0,z$b:!0,A$b:!0,B$b:!0,C$b:!0,D$b:!0,E$b:!0,F$b:!0,G$b:!0,H$b:!0,I$b:!0,J$b:!0};m=(function(){if("undefined" === typeof ob)return !1;for(var q in ob){try{if(!h["$" + q] && c.call(ob,q) && null !== ob[q] && "object" === typeof ob[q])try{n(ob[q]);}catch(u){return !0;}}catch(u){return !0;}}return !1;})();p=function(q){var u,t,w,v,y,z;u=null !== q && "object" === typeof q;t="[object Function]" === l.call(q);w=f(q);v=u && "[object String]" === l.call(q);y=[];if(!u && !t && !w)throw new TypeError("Object.keys called on a non-object");u=d && t;if(v && 0 < q.length && !c.call(q,0))for(v=0;v < q.length;++v){y.push(String(v));}if(w && 0 < q.length)for(w=0;w < q.length;++w){y.push(String(w));}else for(var x in q){u && "prototype" === x || !c.call(q,x) || y.push(String(x));}if(k){if("undefined" !== typeof ob && m)try{z=n(q);}catch(A){z=!1;}else z=n(q);for(w=0;w < g.length;++w){z && "constructor" === g[w] || !c.call(q,g[w]) || y.push(g[w]);}}return y;};}r.exports=p;},33464:function(r,b,a){var c,l,f,k,d;c=Array.prototype.slice;l=a(30801);f=Object.keys;k=f?function(g){return f(g);}:a(75691);d=Object.keys;k.Djc=function(){Object.keys?(function(){var g;g=Object.keys(arguments);return g && g.length === arguments.length;})(1,2) || (Object.keys=function(g){return l(g)?d(c.call(g)):d(g);}):Object.keys=k;return Object.keys || k;};r.exports=k;},30801:function(r){var b;b=Object.prototype.toString;r.exports=function(a){var c,l;c=b.call(a);l="[object Arguments]" === c;l || (l="[object Array]" !== c && null !== a && "object" === typeof a && "number" === typeof a.length && 0 <= a.length && "[object Function]" === b.call(a.callee));return l;};},61247:function(r,b,a){var l,f,k;function c(d,g,n){var h;if(!n)return !1;n=n[g];return "boolean" === typeof n?!0 === n:(null === n || void 0 === n?void 0:n.length) === (null === (h=d[g].Ye) || void 0 === h?void 0:h.length);}Object.defineProperty(b,"__esModule",{value:!0});b.QWa=b.Dq=void 0;l=a(5163);f=a(10506);b.Dq=-1;b.QWa=function(d,g,n,h,m){function p(w){var v,y,x,z,A,B;v=g.ie[w];y=c(g.ie,w,n);x=!!v.Ye;z=!!h && !y && x;A=0 === v.Er;v.Er > u && q.Ge(("").concat(d,"-").concat(w),{J:d,ta:u,va:v.Er,type:"content"});x || q.hub();!z || A && !m || q.Ge(("padstart-").concat(w),{J:b.Dq,ta:0,va:h,type:"padding"});u=v.Er;if(v.Ye && !y){B=null === n || void 0 === n?void 0:n[w];v.Ye.forEach(function(C,D){var E;E=!1;Array.isArray(B) && (E=-1 < B.indexOf(D));E || q.Ge(("ad-").concat(w,"-").concat(D),{J:C.id,ta:C.ta,va:C.va,type:"ad"});});z && q.Ge(("padend-").concat(w),{J:b.Dq,ta:0,va:h,type:"padding"});}}void 0 === h && (h=0);void 0 === m && (m=!1);for(var q=new k(),u=0,t=0;t < g.ie.length;++t){p(t);}q.Ge(("").concat(d,"-").concat(g.ie.length),{J:d,ta:u,va:null,type:"content"});return q.Ng();};k=(function(){function d(){this.ib=new f.Gq();}d.prototype.Ge=function(g,n){var h,m,p;this.MF || (this.MF=g);if(this.EC){m=l.__read(this.EC,2);p=m[0];m=m[1];m.Fb=g;m.next=(h={},h[g]={},h);"content" === m.type && -1 < ["ad","padding"].indexOf(n.type) && (m.fo=!0);"content" === n.type && (-1 < ["ad","padding"].indexOf(m.type) || m.fo) && (n.st=!0);this.ib.Ge(p,m);}this.EC=[g,n];};d.prototype.hub=function(){var g,n;if(this.EC){g=l.__read(this.EC,2);n=g[0];g=g[1];"content" === g.type && (g.fo=!0);this.ib.Ge(n,g);this.EC=[n,g];}};d.prototype.Ng=function(){var g;if(this.EC){g=l.__read(this.EC,2);this.ib.Ge(g[0],g[1]);}this.EC=void 0;this.MF && this.ib.rz(this.MF);return this.ib.Ng();};return d;})();},56916:function(r,b,a){var g;function c(n){return Object.keys(n.segments).some(function(h){return void 0 !== d(n.segments[h]);});}function l(n){return "delayedSeamless" === n?"lazy":n;}function f(n){return Object.keys(n).reduce(function(h,m){var p,q;p=n[m];q=p.weight;p=p.transitionType || p.transitionHint;m=h[m]={};void 0 !== q && (m.weight=q);p && (m.ce=l(p));return h;},{});}function k(n){var h,m;h=Object.keys(n);m=h.length;return m?h.reduce(function(p,q){return p + (n[q].weight || 0);},0) / m:void 0;}function d(n){var h;if(n.ui){h=n.ui.interactionZones;if((null === h || void 0 === h?0:h.length) && h[0].length)return h[0][0] - n.startTimeMs;n=n.ui.interactionZonesV2;if((null === n || void 0 === n?0:n.length) && n[0].length)return n[0][0];}else if(void 0 !== n.earliestSkipRequestOffset)return n.earliestSkipRequestOffset;}Object.defineProperty(b,"__esModule",{value:!0});b.S3=void 0;g=a(10506);b.S3=function(n,h){var m,p,q,u,t,w;m=void 0 === h?{}:h;h=m.Cg;p=m.Be;q=m.O;m=m.config;u=!(!m || -1 === m.Lna.indexOf(n.viewableId));t=c(n)?0:(null === m || void 0 === m?void 0:m.Kna) || 0;m=new g.Gq();w=q || n.segments;m.rz(null !== p && void 0 !== p?p:n.initialSegment).Kxa(h || n.mediaTypes).waa(u?"immediate":l(n.transitionType)).Qxa(Object.keys(w).reduce(function(v,y){var x,z,A,B,C,D;x=w[y];if(null === (z=x.weight) || void 0 === z){z=x.next && (u || (null === (B=x.exitZones) || void 0 === B?0:B.length))?k(x.next):void 0;}B=z;if(z=x.exitZones)C=void 0;else a:{if(u && x.endTimeMs){C=x.endTimeMs - x.startTimeMs;D=d(x);if(D && D < C){C=[[D,C]];break a;}if(t && C > t){C=[[C - t,C]];break a;}}C=void 0;}D=u?C?void 0:x.transitionHint || "lazy":x.transitionHint;B={J:n.viewableId,ta:x.startTimeMs,va:null !== (A=x.endTimeMs) && void 0 !== A?A:Infinity,ce:l(D),fr:z || C,weight:B};x.defaultNext && (B.Fb=x.defaultNext);x.next && (B.next=f(x.next));v[y]=B;return v;},{}));return m.Ng();};},77530:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.KBb=void 0;c=a(10506);b.KBb=function(l){var f,k,d,g,n,h;f=l.Qic;k=l.Ckc;l=l.Hjc;d=new c.Gq();g=l.split(" ");n=/\d+/;h=new Map();k.forEach(function(m){h.set(m,0);});g.forEach(function(m,p){var q,u,t,w,v,y,x,z;y=Number(m.split(".")[0].match(n)[0]);x=Number(m.split(".")[1].match(n)[0]);y=k[y];m=h.get(y);z=("").concat(y,"-").concat(m);h.set(y,m + 1);x={J:y,ta:null !== (t=null === (u=f.get(y)) || void 0 === u?void 0:u[x]) && void 0 !== t?t:0,va:null !== (v=null === (w=f.get(y)) || void 0 === w?void 0:w[x + 1]) && void 0 !== v?v:void 0};g.length > p + 1 && (u=Number(g[p + 1].split(".")[0].match(n)[0]),u=k[u],t=h.get(u),u=("").concat(u,"-").concat(t),x.Fb=u,x.next=(q={},q[u]={},q),h.set(y,m + 1));0 === p && d.rz(z);d.Ge(z,x);});return d.Ng();};},50954:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(5163);r.__exportStar(a(35419),b);r.__exportStar(a(10506),b);r.__exportStar(a(10990),b);r.__exportStar(a(56916),b);r.__exportStar(a(62483),b);r.__exportStar(a(94315),b);r.__exportStar(a(73124),b);r.__exportStar(a(72283),b);r.__exportStar(a(80830),b);r.__exportStar(a(61247),b);r.__exportStar(a(77530),b);},73124:function(r,b,a){var g,n,h;function c(m){for(var p=m.Be,q=[];p;){q.push(p);p=m.O[p].next;if(!p)break;p=Object.keys(p);if(p.length)((0,n.assert)(1 === p.length,"Expected linear playgraph"),p=p[0]);else break;}return q;}function l(m){return (0,n.cja)(Object.keys(m.O).map(function(p){return m.O[p].J;}));}function f(m,p){return Object.keys(p.O).some(function(q){q=p.O[q];return m.J === q.J && m.ta > q.ta && (!q.va || !!m.va && (Infinity === m.va || m.va < q.va));});}function k(m){return null === m || void 0 === m?Infinity:m;}function d(m,p){return null === m || void 0 === m?Infinity === k(p.va):m >= p.ta && m <= k(p.va);}Object.defineProperty(b,"__esModule",{value:!0});b.Msa=void 0;g=a(5163);n=a(42866);h=a(10506);b.Msa=function(m,p){var q,u,t,w,v;q=c(p);u=l(m);t=l(p);u=(0,n.TTa)(u,t);(0,n.assert)(1 === u.length,"Source and content playgraphs should share one viewable");w=u[0];t=Object.keys(m.O).filter(function(y){return m.O[y].J === w;}).map(function(y){var G,F,J,M,L,K;for(var x,z=m.O[y],A=z.ta,B=k(z.va),C=0 === A,D=[],E=0;E < q.length;++E){G=q[E];F=p.O[G];J=f(m.O[y],p);if(F.J !== w)C && D.push({id:("").concat(y,":").concat(G),v:g.__assign(g.__assign({},F),{cc:y})});else if(C){L=Math.max(z.ta,F.ta);M=(K=!Number.isFinite(B) && E === q.length - 1)?B:Math.min(B,k(F.va));M > L && (J=Infinity !== B || !J && !K?Infinity === M?null:M:z.va,D.push({id:("").concat(y,":").concat(G),v:g.__assign(g.__assign({},F),{ta:L,va:J,cc:y})}));if(d(B,F)){if(B === k(F.va))for(E+=1;E < q.length;++E){A=q[E];B=p.O[A];if(B.J === w)break;D.push({id:("").concat(y,":").concat(A),v:g.__assign(g.__assign({},B),{cc:y})});}break;}}else if(d(A,F))if((C=!0,B <= k(F.va)))D.push({id:y,v:z});else {L=z.ta;K=!Number.isFinite(B) && E === q.length - 1;J=K && J?z.va:Math.min(B,k(F.va));D.push({id:("").concat(y,":").concat(G),v:g.__assign(g.__assign({},F),{ta:L,va:J,cc:y})});}}D.length || D.push({id:y,v:g.__assign(g.__assign({},z),{cc:y})});for(E=0;E < D.length - 1;++E){A=D[E + 1].id;D[E].v=g.__assign(g.__assign({},D[E].v),{Fb:A,next:(x={},x[A]={},x)});}x=D[D.length - 1];x.v=g.__assign(g.__assign({},x.v),{Fb:z.Fb,next:z.next});return {id:y,v:z,ueb:D};});v=t.reduce(function(y,x){return (y[x.id]=x.ueb[0].id,y);},{});u=new h.Gq();t=t.reduce(function(y,x){x.ueb.forEach(function(z){return y[z.id]=z.v;});return y;},{});return u.Qxa(t,function(){return !0;},v).hTa(m.O,function(y,x){return !v[x];},v,function(y,x){return g.__assign(g.__assign({},y),{cc:x});}).rz(v[m.Be] || m.Be).Ng();};},72283:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.A5=b.UHb=b.qna=void 0;c=a(42866);b.qna=function(l,f){var k;return Object.keys(l.O).some(function(d){var g;return null === (g=(k=l.O[d]).next) || void 0 === g?void 0:g[f];})?k:void 0;};b.UHb=function(l,f){return (0,c.ec)(Object.keys(l.O),function(k){var d;return null === (d=l.O[k].next) || void 0 === d?void 0:d[f];});};b.A5=function(l,f){return Object.keys(l.O).filter(function(k){var d;return null === (d=l.O[k].next) || void 0 === d?void 0:d[f];});};},35419:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},10506:function(r,b){function a(l){return l && "object" === typeof l?Array.isArray(l)?l.map(a):Object.keys(l).reduce(function(f,k){f[k]=a(l[k]);return f;},{}):l;}function c(l,f){return Object.keys(l).reduce(function(k,d){return (k[f[d] || d]=l[d],k);},{});}Object.defineProperty(b,"__esModule",{value:!0});b.Gq=void 0;r=(function(){function l(f){f && (this.rz(f.Be),this.waa(f.ce),this.Qxa(f.O));}l.prototype.rz=function(f){this.Be=f;return this;};l.prototype.waa=function(f){this.ce=f;return this;};l.prototype.Kxa=function(f){this.Cg=f;return this;};l.prototype.Ge=function(f,k,d){this.O || (this.O={});this.O[f]=a(k);if(d){f=this.O[f];if(k=f.next)f.next=c(k,d);f.Fb && d[f.Fb] && (f.Fb=d[f.Fb]);}return this;};l.prototype.Qxa=function(f,k,d){void 0 === k && (k=function(){return !0;});this.O={};return this.hTa(f,k,d);};l.prototype.hTa=function(f,k,d,g){var n;n=this;void 0 === k && (k=function(){return !0;});Object.keys(f).filter(function(h){return k(f[h],h);}).forEach(function(h){var m;m=f[h];g && (m=g(m,h));n.Ge(h,m,d);});return this;};l.prototype.R2a=function(f){var k;return !(null === (k=this.O) || void 0 === k || !k[f]);};l.prototype.Ng=function(){var f;if(!this.O)throw Error("Invalid playgraph - `segments` is not defined");if(!this.Be)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.O[this.Be])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");f={Be:this.Be,O:this.O};this.ce && (f.ce=this.ce);this.Cg && (f.Cg=this.Cg);return f;};return l;})();b.Gq=r;},10990:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rfa=void 0;b.rfa=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.Be,segments:a.qDb(c.O)},void 0 !== c.ce?{transitionType:c.ce}:{});};a.encode=function(c){return Object.assign({Be:c.initialSegment,O:a.iGb(c.segments)},void 0 !== c.transitionType?{ce:c.transitionType}:{});};a.iGb=function(c){return Object.keys(c).reduce(function(l,f){l[f]=a.hGb(c[f]);return l;},{});};a.hGb=function(c){return Object.assign({J:c.viewableId,ta:c.startTimeMs},c.endTimeMs?{va:c.endTimeMs}:{},c.defaultNext?{Fb:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{ce:c.transitionType}:{},c.next?{next:a.fGb(c.next)}:{},c.exitZones?{fr:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uxSegment?{cc:c.uxSegment}:{},c.type?{type:c.type}:{},void 0 !== c.fadeIn?{st:c.fadeIn}:{},void 0 !== c.fadeOut?{fo:c.fadeOut}:{});};a.fGb=function(c){return Object.keys(c).reduce(function(l,f){l[f]=a.gGb(c[f]);return l;},{});};a.gGb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{ce:c.transitionType}:{});};a.qDb=function(c){return Object.keys(c).reduce(function(l,f){l[f]=a.pDb(c[f]);return l;},{});};a.pDb=function(c){return Object.assign({viewableId:c.J,startTimeMs:c.ta},c.va?{endTimeMs:c.va}:{},c.Fb?{defaultNext:c.Fb}:{},c.weight?{weight:c.weight}:{},c.ce?{transitionType:c.ce}:{},c.next?{next:a.nDb(c.next)}:{},c.fr?{exitZones:c.fr}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.cc?{uxSegment:c.cc}:{},c.type?{type:c.type}:{},void 0 !== c.st?{fadeIn:c.st}:{},void 0 !== c.fo?{fadeOut:c.fo}:{});};a.nDb=function(c){return Object.keys(c).reduce(function(l,f){l[f]=a.oDb(c[f]);return l;},{});};a.oDb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.ce?{transitionType:c.ce}:{});};return a;})();},80830:function(r,b,a){var q,u,t,w;function c(v,y,x,z,A){var B,C,D;B=v.O[y];C=x.O[B.cc];z=z.cc;D=g(B.va) - B.ta;D=void 0 === A?A=0:A + D;return B.J === (null === C || void 0 === C?void 0:C.J)?{$Y:g(B.va),VS:A}:B.cc === z && (y=q.__read(l(v,y),1)[0]) && v.O[y].cc === B.cc?c(v,y,x,B,D):{$Y:C.ta,VS:D};}function l(v,y){return Object.keys(v.O).filter(function(x){return v.O[x].Fb === y;});}function f(v,y,x,z,A){var B,C,D;void 0 === A && (A=0);y=v.O[y];B=x.O[y.cc];z=z.cc;C=x.O[z];D=g(y.va) - y.ta;return y.J === (null === B || void 0 === B?void 0:B.J)?{$Y:y.ta,VS:A}:y.cc === z && y.Fb?f(v,y.Fb,x,y,A + D):{$Y:g(C.va),VS:A};}function k(v,y,x){var z,A,B,C,D,E,G,F,J,M,L,K,P;z=m(v,y,x);if(z)return z;z=v.O[x.v];A=x.offset;B=Object.keys(y.O).filter(function(H){return y.O[H].cc === x.v;});C=[];B.forEach(function(H){var N,R,X;function I(ha){ha=(0,w.A5)(y,ha);null === ha || void 0 === ha?void 0:ha.forEach(function(ta){var la,xa;if(y.O[ta].cc !== x.v){la=y.O[ta];xa=la.va;X={v:ta,offset:xa - la.ta};(la=xa?p(v,y,X):void 0) && C.push({Tx:X,tq:la});la || (X={v:ta,offset:0},(la=p(v,y,{v:ta,offset:0})) && C.push({Tx:X,tq:la}));I(ta);}});}N=y.O[H];R=N.va;X={v:H,offset:R - N.ta};(N=R?p(v,y,X):void 0) && C.push({Tx:X,tq:N});X={v:H,offset:0};(R=p(v,y,X)) && C.push({Tx:X,tq:R});R || N || I(H);});(0,u.assert)(0 < C.length,"No point before the content position that can be directly mapped from combined to ux playgraph founc");D=z.ta + A;G=Infinity;C.forEach(function(H){var I;I=H.tq;I=D - (v.O[I.v].ta + I.offset);0 <= I && I < G && (G=I,E=H);});F=[];B.forEach(function(H){var N,R,X,ha;function I(ta){Object.keys(y.O[ta].next || ({})).forEach(function(la){var xa,Ba,La;if(y.O[la].cc !== x.v){xa=y.O[la];Ba=xa.ta;xa=xa.va;ha={v:la,offset:0};La=p(v,y,ha);La && F.push({Tx:ha,tq:La});La || (ha={v:la,offset:xa - Ba},(Ba=xa?p(v,y,ha):void 0) && F.push({Tx:ha,tq:Ba}));}I(la);});}N=y.O[H];R=N.ta;X=N.va;ha={v:H,offset:0};(N=p(v,y,ha)) && F.push({Tx:ha,tq:N});ha={v:H,offset:X - R};(R=X?p(v,y,ha):void 0) && F.push({Tx:ha,tq:R});N || R || I(H);});(0,u.assert)(0 < F.length,"No point after the content position that can be directly mapped from combined to ux playgraph found");M=Infinity;F.forEach(function(H){var I;I=H.tq;I=v.O[I.v].ta + I.offset - D;if(0 <= I && I < M || I > M && 0 > M || Infinity === M)(M=I,J=H);});(0,u.assert)(E);(0,u.assert)(J);A=E.Tx;(0,u.assert)(A,"Segment not found in the combined playgraph");z=J.Tx;(0,u.assert)(z,"Segment not found in the combined playgraph");L=y.O[A.v];B=y.O[z.v];A.offset === g(L.va) - L.ta && y.O[L.Fb].cc === L.cc && (A.v === z.v && A.offset === z.offset && (z={v:B.Fb,offset:0},B=y.O[z.v]),A={v:L.Fb,offset:0},L=y.O[A.v]);K=v.O[E.tq.v].ta + E.tq.offset;P=v.O[J.tq.v].ta + J.tq.offset - K;K=0 === P?0:(D - K) / P;if(A.v === z.v)return (L=L.ta + A.offset,A=A.v,{v:A,offset:L + K * (B.ta + z.offset - L) - y.O[A].ta});P=d(y,A,z);L=P.path;P=P.BF;B=0 === z.offset?0:g(B.va) - B.ta;return h(y,L,A.offset + K * (P - A.offset - (B - z.offset)));}function d(v,y,x){var z,A;if(y.v !== x.v){for(y=[y.v];y[y.length - 1] !== x.v;){z=v.O[y[y.length - 1]];(0,u.assert)(z.next,"Cannot find path between points in combined playgraph");if(z.next[x.v])break;A=Object.keys(z.next);1 === A.length?y.push(A[0]):((0,u.assert)(z.Fb,"Multiple paths but no default finding paths between points in combined playgrahp"),y.push(z.Fb));}0 !== x.offset && y.push(x.v);return {path:y,BF:n(v,y)};}return {path:[],BF:x.offset - y.offset};}function g(v){return null === v || void 0 === v?Infinity:v;}function n(v,y){return y.reduce(function(x,z){var A;z=v.O[z];A=z.ta;return x + g(z.va) - A;},0);}function h(v,y,x){var A,B,C;for(var z=0;z < y.length;++z){A=y[z];B=v.O[A];C=B.ta;B=g(B.va) - C;if(B > x)return {v:A,offset:x};x-=B;}(0,u.assert)(!1,"Invalid offset given for path");}function m(v,y,x){var z,A,B,C,D,E,G,F,J,M,L;A=v.O[x.v];(0,u.assert)(A,("Graph position ").concat(x.v," does not exist in UX playgraph"));B=x.offset;(0,u.assert)(0 <= B,("Graph position offset ").concat(B," cannot be negative"));(0,u.assert)(!A.va || B <= A.va - A.ta,("Graph position ").concat(B," offset outside segment"));if(y.O[x.v])return x;C=Object.keys(y.O).filter(function(K){return y.O[K].cc === x.v;});(0,u.assert)(0 < C.length,"No segments found in combined playgraph that point back to the ux segment");D={};E=0;C.forEach(function(K){if(void 0 === D[K]){for(var P=0;K;){D[K]=[E,P++];K=y.O[K].Fb;}++E;}});C.sort(function(K,P){return D[K][0] !== D[P][0]?1:D[K][1] - D[P][1];});G=A.ta + B;F=C.filter(function(K){return y.O[K].J === A.J;});J=q.__read(C,1)[0];F=F.map(function(K){return [K,y.O[K]];}).filter(function(K){var P;K=q.__read(K,2);P=K[0];return G >= K[1].ta || P === J;});if(F=(0,u.ec)(F,function(K){var P;K=q.__read(K,2)[1];P=K.Fb?y.O[K.Fb]:void 0;return !K.va || !!K.va && G < K.va || (null === P || void 0 === P?void 0:P.cc) !== x.v && G >= K.ta;})){M=q.__read(F,2);F=M[0];M=M[1];L=(isFinite(G)?G:null !== (z=M.va) && void 0 !== z?z:Infinity) - M.ta;(0,u.assert)(0 <= L,"Content playgrah graph position offset cannot be negative");z=!0;0 === L && (z=(0,t.qna)(y,F),z=!z || z.cc !== M.cc);if(z)return {v:F,offset:L};}C=C.filter(function(K){return y.O[K].J !== A.J;});if(0 === B && (B=(0,t.qna)(v,x.v),!B || B.cc !== x.v) && (B=(0,u.ec)(C,function(K){return 0 === (0,w.A5)(y,K).length;}),void 0 !== B))return {v:B,offset:0};if(A.va && Infinity !== A.va && !(A.va - A.ta !== x.offset || A.Fb && v.O[A.Fb]) && (B=(0,u.ec)(C,function(K){return !y.O[K].next || 0 === Object.keys(y.O[K].next).length;}),void 0 !== B))return (C=y.O[B],v=C.ta,C=C.va,(0,u.assert)(C,"Content playgraph segments from other viewables must have end time"),{v:B,offset:C - v});}function p(v,y,x){var z,A;z=y.O[x.v];(0,u.assert)(z,"Graph position does not exist in combined playgraph");A=x.offset;(0,u.assert)(0 <= A,"Graph position offset cannot be negative");(0,u.assert)(!z.va || A <= z.va - z.ta,"Graph position offset outside segment");if(void 0 === z.cc)return x;v=v.O[z.cc];(0,u.assert)(v,"Referenced ux playgraph segment must exist");if(z.J === v.J)return (A=z.ta + A - v.ta,v=g(v.va) - v.ta,A=Math.max(Math.min(A,v),0),{v:z.cc,offset:A});if(0 === A && (x=(0,w.A5)(y,x.v).filter(function(B){return y.O[B].cc === z.cc;}),0 === A && 0 === x.length))return {v:z.cc,offset:0};A=z.Fb?y.O[z.Fb]:void 0;if((null === A || void 0 === A?void 0:A.cc) !== z.cc)return {v:z.cc,offset:v.va?v.va - v.ta:Infinity};}Object.defineProperty(b,"__esModule",{value:!0});b.y0a=b.Ygb=b.jWa=void 0;q=a(5163);u=a(42866);t=a(72283);w=a(50954);b.jWa=function(v,y,x){var z,A,B,C;z=y.O[x.v];A=p(v,y,x);if(A)return A;(0,u.assert)(z.cc,"Combined playgraph must reference a ux playgraph segment since no direct mapping was possible");B=v.O[z.cc];(0,u.assert)(B,"Referenced ux playgraph segment must exist");(0,u.assert)(z.va,"Content playgraph segments from other viewables must have end time");if(!z.Fb || !y.O[z.Fb])return ((0,u.assert)(B.va,"Must have definite end time to add terminal content playgraph segment"),{v:z.cc,offset:B.va - B.ta});C=c(y,x.v,v,z);A=C.$Y;C=C.VS;if(null === A || void 0 === A)return ((0,u.assert)(B.va,"Experience playgraph segment must have end time"),{v:z.cc,offset:B.va - B.ta});y=f(y,x.v,v,z);v=y.$Y;y=y.VS;null !== v && void 0 !== v && isFinite(v) || (0,u.assert)(v,"Experience playgraph segment must have end time");return {v:z.cc,offset:A + (C + x.offset) / (C + y) * (v - A)};};b.Ygb=k;b.y0a=function(v,y,x){var z,A,B;return q.__generator(this,function(C){switch(C.label){case 0:(z=k(v,y,x),A=y.O[z.v],B=z.v,C.label=1);case 1:return [4,B];case 2:(C.Wa(),B=A.Fb,A=y.O[B],C.label=3);case 3:if((null === A || void 0 === A?void 0:A.cc) === x.v && B !== z.v)return [3,1];C.label=4;case 4:return [2];}});};},62483:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Faa=void 0;c=a(10506);b.Faa=function(l,f,k){var d;d=new c.Gq();d.rz(f).waa("lazy").Kxa(k).Ge(f,{J:l,ta:0,va:Infinity});return d.Ng();};},94315:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.F4b=void 0;c=a(10506);b.F4b=function(l,f,k){var d;d=new c.Gq();d.rz("s0").waa("immediate").Kxa(k).Ge("s0",{J:l,ta:0,va:1E3 * f,weight:.5,next:{s1:{weight:.5}}}).Ge("s1",{J:l,ta:1E3 * f,va:Infinity});return d.Ng();};},61386:function(r,b,a){var d,g,n,h;function c(m){var p,q,u;if("Object" !== n(this))throw new TypeError("receiver is not an Object");p=g(this,h);q=m;u=m;d(m) && (q=f(p,m),u=l(p,m));return this.then(q,u);}function l(m,p){return function(q){var u;u=p();return k(m,u).then(function(){throw q;});};}function f(m,p){return function(q){var u;u=p();return k(m,u).then(function(){return q;});};}function k(m,p){return new m(function(q){q(p);});}a(57897)();d=a(83317);g=a(88251);n=a(18132);h=Promise;Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(c,"name")) && b.configurable && Object.defineProperty(c,"name",{configurable:!0,value:"finally"});r.exports=c;},32887:function(r,b,a){var c,l;c=a(57897);l=a(61386);r.exports=function(){c();return "function" === typeof Promise.prototype["finally"]?Promise.prototype["finally"]:l;};},57897:function(r){r.exports=function(){if("function" !== typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");};},65574:function(r,b,a){var c,l,f;c=a(57897);l=a(32887);f=a(14926);r.exports=function(){var k;c();k=l();f(Promise.prototype,{"finally":k},{"finally":function(){return Promise.prototype["finally"] !== k;}});return k;};},23614:function(r,b,a){var c;c=a(35375);b=a(31187)(function(l,f){return c(l.length,function(){return l.apply(f,arguments);});});r.exports=b;},57301:function(r,b,a){var c,l,f,k,d;b=a(31187);c=a(55446);l=a(89028);f=a(77894);k=a(67758);d=a(75850);a=b(function(g,n){return l(d(f,0,k("length",n)),function(){var h,m;h=arguments;m=this;return g.apply(m,c(function(p){return p.apply(m,h);},n));});});r.exports=a;},89028:function(r,b,a){var c,l,f;c=a(35375);l=a(16805);b=a(31187);f=a(16500);a=b(function(k,d){return 1 === k?l(d):c(k,f(k,[],d));});r.exports=a;},5154:function(r,b,a){var c;c=a(25701);b=a(20239)(function(l,f,k){for(var d=[],g=0,n=f.length;g < n;){c(l,f[g],k) || c(l,f[g],d) || d.push(f[g]);g+=1;}return d;});r.exports=b;},42514:function(r,b,a){var c,l,f,k,d,g;b=a(31187);c=a(8414);l=a(46458);f=a(78678);k=a(18468);d=a(14128);g=a(93358);a=b(c(["filter"],d,function(n,h){return f(h)?k(function(m,p){n(h[p]) && (m[p]=h[p]);return m;},{},g(h)):l(n,h);}));r.exports=a;},56663:function(r,b,a){b=a(31187)(function(c,l){for(var f=[],k=0,d=l.length;k < d;){for(var g=k + 1;g < d && c(l[g - 1],l[g]);){g+=1;}f.push(l.slice(k,g));k=g;}return f;});r.exports=b;},35375:function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,l){return a.apply(this,arguments);};case 3:return function(c,l,f){return a.apply(this,arguments);};case 4:return function(c,l,f,k){return a.apply(this,arguments);};case 5:return function(c,l,f,k,d){return a.apply(this,arguments);};case 6:return function(c,l,f,k,d,g){return a.apply(this,arguments);};case 7:return function(c,l,f,k,d,g,n){return a.apply(this,arguments);};case 8:return function(c,l,f,k,d,g,n,h){return a.apply(this,arguments);};case 9:return function(c,l,f,k,d,g,n,h,m){return a.apply(this,arguments);};case 10:return function(c,l,f,k,d,g,n,h,m,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},48925:function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},86614:function(r){r.exports=function(b,a){var c,l,f,k;b=b || [];a=a || [];l=b.length;f=a.length;k=[];for(c=0;c < l;){k[k.length]=b[c];c+=1;}for(c=0;c < f;){k[k.length]=a[c];c+=1;}return k;};},25701:function(r){r.exports=function(b,a,c){for(var l=0,f=c.length;l < f;){if(b(a,c[l]))return !0;l+=1;}return !1;};},16805:function(r,b,a){var c;c=a(28198);r.exports=function(l){return function d(k){return 0 === arguments.length || c(k)?d:l.apply(this,arguments);};};},31187:function(r,b,a){var c,l;c=a(16805);l=a(28198);r.exports=function(f){return function n(d,g){switch(arguments.length){case 0:return n;case 1:return l(d)?n:c(function(h){return f(d,h);});default:return l(d) && l(g)?n:l(d)?c(function(h){return f(h,g);}):l(g)?c(function(h){return f(d,h);}):f(d,g);}};};},20239:function(r,b,a){var c,l,f;c=a(16805);l=a(31187);f=a(28198);r.exports=function(k){return function m(g,n,h){switch(arguments.length){case 0:return m;case 1:return f(g)?m:l(function(p,q){return k(g,p,q);});case 2:return f(g) && f(n)?m:f(g)?l(function(p,q){return k(p,n,q);}):f(n)?l(function(p,q){return k(g,p,q);}):c(function(p){return k(g,n,p);});default:return f(g) && f(n) && f(h)?m:f(g) && f(n)?l(function(p,q){return k(p,q,h);}):f(g) && f(h)?l(function(p,q){return k(p,n,q);}):f(n) && f(h)?l(function(p,q){return k(g,p,q);}):f(g)?c(function(p){return k(p,n,h);}):f(n)?c(function(p){return k(g,p,h);}):f(h)?c(function(p){return k(g,n,p);}):k(g,n,h);}};};},16500:function(r,b,a){var l,f;function c(k,d,g){return function(){var q;for(var n=[],h=0,m=k,p=0;p < d.length || h < arguments.length;){if(p < d.length && (!f(d[p]) || h >= arguments.length))q=d[p];else (q=arguments[h],h+=1);n[p]=q;f(q) || --m;p+=1;}return 0 >= m?g.apply(this,n):l(m,c(k,n,g));};}l=a(35375);f=a(28198);r.exports=c;},8414:function(r,b,a){var c,l;c=a(84357);l=a(11972);r.exports=function(f,k,d){return function(){var g,n;if(0 === arguments.length)return d();g=Array.prototype.slice.call(arguments,0);n=g.pop();if(!c(n)){for(var h=0;h < f.length;){if("function" === typeof n[f[h]])return n[f[h]].apply(n,g);h+=1;}if(l(n))return k.apply(null,g)(n);}return d.apply(this,arguments);};};},46458:function(r){r.exports=function(b,a){for(var c=0,l=a.length,f=[];c < l;){b(a[c]) && (f[f.length]=a[c]);c+=1;}return f;};},58380:function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},46546:function(r,b,a){var c,l;c=a(58380);l=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === l.call(arguments)?function(f){return "[object Arguments]" === l.call(f);}:function(f){return c("callee",f);};};},84357:function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},33905:function(r,b,a){var c,l;b=a(16805);c=a(84357);l=a(86807);a=b(function(f){return c(f)?!0:!f || "object" !== typeof f || l(f)?!1:1 === f.nodeType?!!f.length:0 === f.length?!0:0 < f.length?f.hasOwnProperty(0) && f.hasOwnProperty(f.length - 1):!1;});r.exports=a;},78678:function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},28198:function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},86807:function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},11972:function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},55446:function(r){r.exports=function(b,a){for(var c=0,l=a.length,f=Array(l);c < l;){f[c]=b(a[c]);c+=1;}return f;};},18468:function(r,b,a){var f,k,d,g;function c(n,h,m){for(var p=m.next();!p.done;){if((h=n["@@transducer/step"](h,p.value)) && h["@@transducer/reduced"]){h=h["@@transducer/value"];break;}p=m.next();}return n["@@transducer/result"](h);}function l(n,h,m,p){return n["@@transducer/result"](m[p](d(n["@@transducer/step"],n),h));}f=a(33905);k=a(33367);d=a(23614);g="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(n,h,m){"function" === typeof n && (n=k(n));if(f(m)){for(var p=0,q=m.length;p < q;){if((h=n["@@transducer/step"](h,m[p])) && h["@@transducer/reduced"]){h=h["@@transducer/value"];break;}p+=1;}return n["@@transducer/result"](h);}if("function" === typeof m["fantasy-land/reduce"])return l(n,h,m,"fantasy-land/reduce");if(null != m[g])return c(n,h,m[g]());if("function" === typeof m.next)return c(n,h,m);if("function" === typeof m.reduce)return l(n,h,m,"reduce");throw new TypeError("reduce: list must be array or iterable");};},18610:function(r){r.exports={Db:function(){return this.rZ["@@transducer/init"]();},result:function(b){return this.rZ["@@transducer/result"](b);}};},14128:function(r,b,a){var c,l;b=a(31187);c=a(18610);l=(function(){function f(k,d){this.rZ=d;this.f=k;}f.prototype["@@transducer/init"]=c.Db;f.prototype["@@transducer/result"]=c.result;f.prototype["@@transducer/step"]=function(k,d){return this.f(d)?this.rZ["@@transducer/step"](k,d):k;};return f;})();a=b(function(f,k){return new l(f,k);});r.exports=a;},94406:function(r,b,a){var c,l;b=a(31187);c=a(18610);l=(function(){function f(k,d){this.rZ=d;this.f=k;}f.prototype["@@transducer/init"]=c.Db;f.prototype["@@transducer/result"]=c.result;f.prototype["@@transducer/step"]=function(k,d){return this.rZ["@@transducer/step"](k,this.f(d));};return f;})();a=b(function(f,k){return new l(f,k);});r.exports=a;},33367:function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,l){return this.f(c,l);};return a;})();r.exports=function(a){return new b(a);};},72849:function(r,b,a){var c;b=a(16805);c=a(57301);a=b(function(l){return c(function(){return Array.prototype.slice.call(arguments,0);},l);});r.exports=a;},93358:function(r,b,a){var c,l,f,k,d;b=a(16805);c=a(58380);l=a(46546);f=!({toString:null}).propertyIsEnumerable("toString");k=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(g){var n,h,m,p;if(Object(g) !== g)return [];n=[];h=d && l(g);for(m in g){!c(m,g) || h && "length" === m || (n[n.length]=m);}if(f)for(h=k.length - 1;0 <= h;){m=k[h];if(p=c(m,g)){a:{for(p=0;p < n.length;){if(n[p] === m){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (n[n.length]=m);--h;}return n;}:function(g){return Object(g) !== g?[]:Object.keys(g);});r.exports=a;},81057:function(r,b,a){var c,l,f,k,d,g;b=a(31187);c=a(8414);l=a(55446);f=a(18468);k=a(94406);d=a(89028);g=a(93358);a=b(c(["fantasy-land/map","map"],k,function(n,h){switch(Object.prototype.toString.call(h)){case "[object Function]":return d(h.length,function(){return n.call(this,h.apply(this,arguments));});case "[object Object]":return f(function(m,p){m[p]=n(h[p]);return m;},{},g(h));default:return l(n,h);}}));r.exports=a;},77894:function(r,b,a){b=a(31187)(function(c,l){return l > c?l:c;});r.exports=b;},29664:function(r,b,a){var c;b=a(20239);c=a(29924);a=b(function(l,f,k){return c(function(d,g,n){return l(g,n);},f,k);});r.exports=a;},29924:function(r,b,a){var c,l;b=a(20239);c=a(78678);l=a(48796);a=b(function n(k,d,g){return l(function(h,m,p){return c(m) && c(p)?n(k,m,p):k(h,m,p);},d,g);});r.exports=a;},48796:function(r,b,a){var c;b=a(20239);c=a(58380);a=b(function(l,f,k){var d,g;d={};for(g in f){c(g,f) && (d[g]=c(g,k)?l(g,f[g],k[g]):f[g]);}for(g in k){c(g,k) && !c(g,d) && (d[g]=k[g]);}return d;});r.exports=a;},31435:function(r,b,a){var c;b=a(42514);c=a(72849);a=a(64580);a=c([b,a]);r.exports=a;},23335:function(r,b,a){b=a(31187)(function(c,l){for(var f=0;f < c.length;){if(null == l)return;l=l[c[f]];f+=1;}return l;});r.exports=b;},67758:function(r,b,a){var c,l;b=a(31187);c=a(81057);l=a(38695);a=b(function(f,k){return c(l(f),k);});r.exports=a;},38695:function(r,b,a){var c;b=a(31187);c=a(23335);a=b(function(l,f){return c([l],f);});r.exports=a;},75850:function(r,b,a){b=a(20239);a=a(18468);a=b(a);r.exports=a;},64580:function(r,b,a){var c,l;c=a(48925);b=a(31187);l=a(42514);a=b(function(f,k){return l(c(f),k);});r.exports=a;},60024:function(r,b,a){var c,l;c=a(86614);b=a(20239);l=a(25228);a=b(function(f,k,d){return l(f,c(k,d));});r.exports=a;},25228:function(r,b,a){var c;c=a(25701);b=a(31187)(function(l,f){for(var k=0,d=f.length,g=[],n;k < d;){n=f[k];c(l,n,g) || (g[g.length]=n);k+=1;}return g;});r.exports=b;},1738:function(r,b,a){var c;(function(l){var E,G,F,J,M,L,K,P,H;function f(I,N,R){var X;X=H.get(I);if(!X){if(!R)return;X=new K();H.set(I,X);}I=X.get(N);if(!I){if(!R)return;I=new K();X.set(N,I);}return I;}function k(I,N,R){if(d(I,N,R))return !0;N=w(N);return null !== N?k(I,N,R):!1;}function d(I,N,R){N=f(N,R,!1);return void 0 !== N && !!N.has(I);}function g(I,N,R){if(d(I,N,R))return n(I,N,R);N=w(N);return null !== N?g(I,N,R):void 0;}function n(I,N,R){N=f(N,R,!1);return void 0 === N?void 0:N.get(I);}function h(I,N){var R,ha;R=m(I,N);I=w(I);if(null === I)return R;N=h(I,N);if(0 >= N.length)return R;if(0 >= R.length)return N;I=new P();for(var X=0;X < R.length;X++){ha=R[X];I.add(ha);}for(R=0;R < N.length;R++){ha=N[R];I.add(ha);}return x(I);}function m(I,N){var R;I=f(I,N,!1);R=[];I && y(I,function(X,ha){return R.push(ha);});return R;}function p(I){return void 0 === I;}function q(I){return Array.isArray?Array.isArray(I):I instanceof Array || "[object Array]" === Object.prototype.toString.call(I);}function u(I){return "object" === typeof I?null !== I:"function" === typeof I;}function t(I){return "symbol" === typeof I?I:String(I);}function w(I){var N,R;N=Object.getPrototypeOf(I);if("function" !== typeof I || I === L || N !== L)return N;R=I.prototype;R=R && Object.getPrototypeOf(R);if(null == R || R === Object.prototype)return N;R=R.constructor;return "function" !== typeof R || R === I?N:R;}function v(I){I=I.next();return I.done?void 0:I;}function y(I,N,R){var X,ha,ta;X=I.entries;if("function" === typeof X){X=X.call(I);try{for(;ha=v(X);){ta=ha.value;N.call(R,ta[1],ta[0],I);}}finally{ha && (I=X["return"]) && I.call(X);}}else (X=I.forEach,"function" === typeof X && X.call(I,N,R));}function x(I){var N;N=[];y(I,function(R,X){N.push(X);});return N;}function z(I,N,R){var X;X=0;return {next:function(){var ha;if((I || N) && X < (I || N).length){ha=X++;switch(R){case "key":return {value:I[ha],done:!1};case "value":return {value:N[ha],done:!1};case "key+value":return {value:[I[ha],N[ha]],done:!1};}}N=I=void 0;return {value:void 0,done:!0};},"throw":function(ha){if(I || N)N=I=void 0;throw ha;},"return":function(ha){if(I || N)N=I=void 0;return {value:ha,done:!0};}};}function A(){var I;I={};return (function(){function N(){this.Te=[];this.yf=[];this.Wu=I;this.Is=-2;}Object.defineProperty(N.prototype,"size",{get:function(){return this.Te.length;},enumerable:!0,configurable:!0});N.prototype.has=function(R){return 0 <= this.ux(R,!1);};N.prototype.get=function(R){R=this.ux(R,!1);return 0 <= R?this.yf[R]:void 0;};N.prototype.set=function(R,X){R=this.ux(R,!0);this.yf[R]=X;return this;};N.prototype.delete=function(R){var X;X=this.ux(R,!1);if(0 <= X){R=this.Te.length;for(X+=1;X < R;X++){this.Te[X - 1]=this.Te[X];this.yf[X - 1]=this.yf[X];}this.Te.length--;this.yf.length--;this.Wu=I;this.Is=-2;return !0;}return !1;};N.prototype.clear=function(){this.Te.length=0;this.yf.length=0;this.Wu=I;this.Is=-2;};N.prototype.keys=function(){return z(this.Te,void 0,"key");};N.prototype.values=function(){return z(void 0,this.yf,"value");};N.prototype.entries=function(){return z(this.Te,this.yf,"key+value");};N.prototype.ux=function(R,X){var ha;if(this.Wu === R)return this.Is;ha=this.Te.indexOf(R);0 > ha && X && (ha=this.Te.length,this.Te.push(R),this.yf.push(void 0));return (this.Wu=R,this.Is=ha);};return N;})();}function B(){return (function(){function I(){this.wf=new K();}Object.defineProperty(I.prototype,"size",{get:function(){return this.wf.size;},enumerable:!0,configurable:!0});I.prototype.has=function(N){return this.wf.has(N);};I.prototype.add=function(N){return (this.wf.set(N,N),this);};I.prototype.delete=function(N){return this.wf.delete(N);};I.prototype.clear=function(){this.wf.clear();};I.prototype.keys=function(){return this.wf.keys();};I.prototype.values=function(){return this.wf.values();};I.prototype.entries=function(){return this.wf.entries();};return I;})();}function C(){var X,ha;function I(ta,la){for(var xa=0;xa < la;++xa){ta[xa]=255 * Math.random() | 0;}return ta;}function N(){var ta,Ba;do {ta="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):I(new Uint8Array(16),16):I(Array(16),16);ta[6]=ta[6] & 79 | 64;ta[8]=ta[8] & 191 | 128;for(var la="",xa=0;16 > xa;++xa){Ba=ta[xa];if(4 === xa || 6 === xa || 8 === xa)la+="-";16 > Ba && (la+="0");la+=Ba.toString(16).toLowerCase();}ta="@@WeakMap@@" + la;}while(M.has(X,ta));X[ta]=!0;return ta;}function R(ta,la){if(!E.call(ta,ha)){if(!la)return;Object.defineProperty(ta,ha,{value:J()});}return ta[ha];}X=J();ha=N();return (function(){function ta(){this.Ps=N();}ta.prototype.has=function(la){la=R(la,!1);return void 0 !== la?M.has(la,this.Ps):!1;};ta.prototype.get=function(la){la=R(la,!1);return void 0 !== la?M.get(la,this.Ps):void 0;};ta.prototype.set=function(la,xa){R(la,!0)[this.Ps]=xa;return this;};ta.prototype.delete=function(la){la=R(la,!1);return void 0 !== la?delete la[this.Ps]:!1;};ta.prototype.clear=function(){this.Ps=N();};return ta;})();}function D(I){I.uec=1;delete I.vec;return I;}E=Object.prototype.hasOwnProperty;G="function" === typeof Object.create;F=(function(){var N;function I(){}N={};I.prototype=N;return new I().__proto__ === N;})();J=G?function(){return D(Object.create(null));}:F?function(){return D({__proto__:null});}:function(){return D({});};(function(I){var N;N=!G && !F;I.has=N?function(R,X){return E.call(R,X);}:function(R,X){return (X in R);};I.get=N?function(R,X){return E.call(R,X)?R[X]:void 0;}:function(R,X){return R[X];};})(M || (M={}));L=Object.getPrototypeOf(Function);K="function" === typeof Map?Map:A();P="function" === typeof Set?Set:B();H=new ("function" === typeof WeakMap?WeakMap:C())();l.hB=function(I,N,R,X){var ta;if(p(X)){if(p(R)){if(!q(I))throw new TypeError();if("function" !== typeof N)throw new TypeError();for(R=I.length - 1;0 <= R;--R){if((X=(0,I[R])(N),!p(X))){if("function" !== typeof X)throw new TypeError();N=X;}}return N;}if(!q(I))throw new TypeError();if(!u(N))throw new TypeError();R=t(R);for(X=I.length - 1;0 <= X;--X){(0,I[X])(N,R);}}else {if(!q(I))throw new TypeError();if(!u(N))throw new TypeError();if(p(R))throw new TypeError();if(!u(X))throw new TypeError();R=t(R);for(var ha=I.length - 1;0 <= ha;--ha){ta=(0,I[ha])(N,R,X);if(!p(ta)){if(!u(ta))throw new TypeError();X=ta;}}return X;}};l.Wd=function(I,N){return function(R,X){if(p(X)){if("function" !== typeof R)throw new TypeError();f(R,void 0,!0).set(I,N);}else {if(!u(R))throw new TypeError();X=t(X);f(R,X,!0).set(I,N);}};};l.G4=function(I,N,R,X){if(!u(R))throw new TypeError();p(X) || (X=t(X));f(R,X,!0).set(I,N);};l.ONb=function(I,N){var R;if(!u(N))throw new TypeError();p(R) || (R=t(R));return k(I,N,R);};l.Jpa=function(I,N){var R;if(!u(N))throw new TypeError();p(R) || (R=t(R));return d(I,N,R);};l.getMetadata=function(I,N,R){if(!u(N))throw new TypeError();p(R) || (R=t(R));return g(I,N,R);};l.G1a=function(I,N,R){if(!u(N))throw new TypeError();p(R) || (R=t(R));return n(I,N,R);};l.Rgc=function(I,N){if(!u(I))throw new TypeError();p(N) || (N=t(N));return h(I,N);};l.Sgc=function(I,N){if(!u(I))throw new TypeError();p(N) || (N=t(N));return m(I,N);};l.Wfc=function(I,N,R){var X;if(!u(N))throw new TypeError();p(R) || (R=t(R));X=f(N,R,!1);if(p(X) || !X.delete(I))return !1;if(0 < X.size)return !0;I=H.get(N);I.delete(R);if(0 < I.size)return !0;H.delete(N);return !0;};(function(I){if("undefined" !== typeof I.Reflect){if(I.Reflect !== l)for(var N in l){E.call(l,N) && (I.Reflect[N]=l[N]);}}else I.Reflect=l;})("undefined" !== typeof ob?ob:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof a.P5?a.P5:Function("return this;")());})(c || (c={}));},63671:function(r,b,a){var c,l,f,k;b=a(62680);c=a(67286);l=a(58786);f=b("RegExp.prototype.exec");k=c("%TypeError%");r.exports=function(d){if(!l(d))throw new k("`regex` must be a RegExp");return function(g){return null !== f(d,g);};};},15913:function(r,b,a){var d;function c(g,n,h){this.$K=!1 === g;this.ao=g || .01;this.Sda=void 0 === n?25:n;this.XCa=void 0 === h?1.1:h;this.wj=new d(l);this.reset();}function l(g,n){return g.Lf > n.Lf?1:g.Lf < n.Lf?-1:0;}function f(g,n){return g.Sv - n.Sv;}function k(g){this.config=g || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?g.ao:!1);this.qEb=this.config.ratio || .9;this.rEb=this.config.akc || 1E3;this.a9=0;}d=a(35558).vob;c.prototype.reset=function(){this.wj.clear();this.xra=this.n=0;};c.prototype.size=function(){return this.wj.size;};c.prototype.Dk=function(g){var n;n=[];g?(this.R1(!0),this.wj.Hp(function(h){n.push(h);})):this.wj.Hp(function(h){n.push({Lf:h.Lf,n:h.n});});return n;};c.prototype.summary=function(){return [(this.$K?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.wi(0),"Q1  = " + this.wi(.25),"Q2  = " + this.wi(.5),"Q3  = " + this.wi(.75),"max = " + this.wi(1)].join("\n");};c.prototype.push=function(g,n){n=n || 1;g=Array.isArray(g)?g:[g];for(var h=0;h < g.length;h++){this.zQa(g[h],n);}};c.prototype.Qva=function(g){g=Array.isArray(g)?g:[g];for(var n=0;n < g.length;n++){this.zQa(g[n].Lf,g[n].n);}};c.prototype.R1=function(g){var n;if(!(this.n === this.xra || !g && this.XCa && this.XCa > this.n / this.xra)){n=0;this.wj.Hp(function(h){h.Sv=n + h.n / 2;n=h.RK=n + h.n;});this.n=this.xra=n;}};c.prototype.ZHb=function(g){var n,h;if(0 === this.size())return null;n=this.wj.lowerBound({Lf:g});h=null === n.data()?n.vH():n.data();return h.Lf === g || this.$K?h:(n=n.vH()) && Math.abs(n.Lf - g) < Math.abs(h.Lf - g)?n:h;};c.prototype.$J=function(g,n,h){this.wj.Ht({Lf:g,n:n,RK:h});this.n+=n;};c.prototype.H1=function(g,n,h){n !== g.Lf && (g.Lf+=h * (n - g.Lf) / (g.n + h));g.RK+=h;g.Sv+=h / 2;g.n+=h;this.n+=h;};c.prototype.zQa=function(g,n){var h,m,p;h=this.wj.min();m=this.wj.max();p=this.ZHb(g);p && p.Lf === g?this.H1(p,g,n):p === h?this.$J(g,n,0):p === m?this.$J(g,n,this.n):this.$K?this.$J(g,n,p.RK):(h=p.Sv / this.n,Math.floor(4 * this.n * this.ao * h * (1 - h)) - p.n >= n?this.H1(p,g,n):this.$J(g,n,p.RK));this.R1(!1);!this.$K && this.Sda && this.size() > this.Sda / this.ao && this.Vx();};c.prototype.Cwb=function(g){var n,h;this.wj.Ks=f;n=this.wj.upperBound({Sv:g});this.wj.Ks=l;h=n.vH();g=h && h.Sv === g?h:n.next();return [h,g];};c.prototype.wi=function(g){var n;n=(Array.isArray(g)?g:[g]).map(this.Yrb,this);return Array.isArray(g)?n:n[0];};c.prototype.Yrb=function(g){var n,h;if(0 !== this.size()){this.R1(!0);this.wj.min();this.wj.max();g*=this.n;n=this.Cwb(g);h=n[0];n=n[1];return n === h || null === h || null === n?(h || n).Lf:this.$K?g <= h.RK?h.Lf:n.Lf:h.Lf + (g - h.Sv) * (n.Lf - h.Lf) / (n.Sv - h.Sv);}};c.prototype.Vx=function(){var g;if(!this.tWa){g=this.Dk();this.reset();for(this.tWa=!0;0 < g.length;){this.Qva(g.splice(Math.floor(Math.random() * g.length),1)[0]);}this.R1(!0);this.tWa=!1;}};k.prototype=Object.create(c.prototype);k.prototype.constructor=k;k.prototype.push=function(g){c.prototype.push.call(this,g);this.Cyb();};k.prototype.$J=function(g,n,h){this.a9+=1;c.prototype.$J.call(this,g,n,h);};k.prototype.H1=function(g,n,h){1 === g.n && --this.a9;c.prototype.H1.call(this,g,n,h);};k.prototype.Cyb=function(){!("auto" !== this.mode || this.size() < this.rEb) && this.a9 / this.size() > this.qEb && (this.mode="cont",this.$K=!1,this.ao=this.config.ao || .01,this.Vx());};r.exports={TDigest:c,Digest:k};},5163:function(r,b,a){var J,M;function c(){c=Object.assign || (function(L){for(var K,P=1,H=arguments.length;P < H;P++){K=arguments[P];for(var I in K){Object.prototype.hasOwnProperty.call(K,I) && (L[I]=K[I]);}}return L;});return c.apply(this,arguments);}function l(L,K){l=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(P,H){P.__proto__=H;}) || (function(P,H){for(var I in H){Object.prototype.hasOwnProperty.call(H,I) && (P[I]=H[I]);}});return l(L,K);}function f(L,K){function P(){this.constructor=L;}if("function" !== typeof K && null !== K)throw new TypeError("Class extends value " + String(K) + " is not a constructor or null");l(L,K);L.prototype=null === K?Object.create(K):(P.prototype=K.prototype,new P());}function k(L,K){var P,H,I;P={};for(H in L){Object.prototype.hasOwnProperty.call(L,H) && 0 > K.indexOf(H) && (P[H]=L[H]);}if(null != L && "function" === typeof Object.getOwnPropertySymbols){I=0;for(H=Object.getOwnPropertySymbols(L);I < H.length;I++){0 > K.indexOf(H[I]) && Object.prototype.propertyIsEnumerable.call(L,H[I]) && (P[H[I]]=L[H[I]]);}}return P;}function d(L,K,P,H){var I,N,R;I=arguments.length;N=3 > I?K:null === H?H=Object.getOwnPropertyDescriptor(K,P):H;if("object" === typeof Reflect && "function" === typeof Reflect.hB)N=Reflect.hB(L,K,P,H);else for(var X=L.length - 1;0 <= X;X--){if(R=L[X])N=(3 > I?R(N):3 < I?R(K,P,N):R(K,P)) || N;}return (3 < I && N && Object.defineProperty(K,P,N),N);}function g(L,K){return function(P,H){K(P,H,L);};}function n(L,K){if("object" === typeof Reflect && "function" === typeof Reflect.Wd)return Reflect.Wd(L,K);}function h(L,K,P,H){function I(N){return N instanceof P?N:new P(function(R){R(N);});}return new (P || (P=Promise))(function(N,R){function X(la){try{ta(H.next(la));}catch(xa){R(xa);}}function ha(la){try{ta(H["throw"](la));}catch(xa){R(xa);}}function ta(la){la.done?N(la.value):I(la.value).then(X,ha);}ta((H=H.apply(L,K || [])).next());});}function m(L,K){var I,N,R,X,ha;function P(ta){return function(la){return H([ta,la]);};}function H(ta){if(N)throw new TypeError("Generator is already executing.");for(;(ha && (ha=0,ta[0] && (I=0)),I);){try{if((N=1,R && (X=ta[0] & 2?R["return"]:ta[0]?R["throw"] || ((X=R["return"]) && X.call(R),0):R.next) && !(X=X.call(R,ta[1])).done))return X;if((R=0,X))ta=[ta[0] & 2,X.value];switch(ta[0]){case 0:case 1:X=ta;break;case 4:return (I.label++,{value:ta[1],done:!1});case 5:I.label++;R=ta[1];ta=[0];continue;case 7:ta=I.eH.pop();I.Vj.pop();continue;default:if(!(X=I.Vj,X=0 < X.length && X[X.length - 1]) && (6 === ta[0] || 2 === ta[0])){I=0;continue;}if(3 === ta[0] && (!X || ta[1] > X[0] && ta[1] < X[3]))I.label=ta[1];else if(6 === ta[0] && I.label < X[1])(I.label=X[1],X=ta);else if(X && I.label < X[2])(I.label=X[2],I.eH.push(ta));else {X[2] && I.eH.pop();I.Vj.pop();continue;}}ta=K.call(L,I);}catch(la){ta=[6,la];R=0;}finally{N=X=0;}}if(ta[0] & 5)throw ta[1];return {value:ta[0]?ta[1]:void 0,done:!0};}I={label:0,Wa:function(){if(X[0] & 1)throw X[1];return X[1];},Vj:[],eH:[]};return (ha={next:P(0),"throw":P(1),"return":P(2)},"function" === typeof Symbol && (ha[Symbol.iterator]=function(){return this;}),ha);}function p(L,K){for(var P in L){"default" === P || Object.prototype.hasOwnProperty.call(K,P) || J(K,L,P);}}function q(L){var K,P,H;K="function" === typeof Symbol && Symbol.iterator;P=K && L[K];H=0;if(P)return P.call(L);if(L && "number" === typeof L.length)return {next:function(){L && H >= L.length && (L=void 0);return {value:L && L[H++],done:!L};}};throw new TypeError(K?"Object is not iterable.":"Symbol.iterator is not defined.");}function u(L,K){var P,H,I;P="function" === typeof Symbol && L[Symbol.iterator];if(!P)return L;L=P.call(L);I=[];try{for(;(void 0 === K || 0 < K--) && !(H=L.next()).done;){I.push(H.value);}}catch(R){var N;N={error:R};}finally{try{H && !H.done && (P=L["return"]) && P.call(L);}finally{if(N)throw N.error;}}return I;}function t(){for(var L=[],K=0;K < arguments.length;K++){L=L.concat(u(arguments[K]));}return L;}function w(){var H;for(var L=0,K=0,P=arguments.length;K < P;K++){L+=arguments[K].length;}L=Array(L);H=0;for(K=0;K < P;K++){for(var I=arguments[K],N=0,R=I.length;N < R;(N++,H++)){L[H]=I[N];}}return L;}function v(L,K,P){if(P || 2 === arguments.length)for(var H=0,I=K.length,N;H < I;H++){!N && (H in K) || (N || (N=Array.prototype.slice.call(K,0,H)),N[H]=K[H]);}return L.concat(N || Array.prototype.slice.call(K));}function y(L){return this instanceof y?(this.Aba=L,this):new y(L);}function x(L,K,P){var ha,ta,la;function H(xa){ha[xa] && (ta[xa]=function(Ba){return new Promise(function(La,Za){1 < la.push([xa,Ba,La,Za]) || I(xa,Ba);});});}function I(xa,Ba){var La;try{La=ha[xa](Ba);La.value instanceof y?Promise.resolve(La.value.Aba).then(N,R):X(la[0][2],La);}catch(Za){X(la[0][3],Za);}}function N(xa){I("next",xa);}function R(xa){I("throw",xa);}function X(xa,Ba){(xa(Ba),la.shift(),la.length) && I(la[0][0],la[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");ha=P.apply(L,K || []);la=[];return (ta={},H("next"),H("throw"),H("return"),ta[Symbol.asyncIterator]=function(){return this;},ta);}function z(L){var P,H;function K(I,N){P[I]=L[I]?function(R){return (H=!H)?{value:y(L[I](R)),done:"return" === I}:N?N(R):R;}:N;}return (P={},K("next"),K("throw",function(I){throw I;}),K("return"),P[Symbol.iterator]=function(){return this;},P);}function A(L){var H,I;function K(N){I[N]=L[N] && (function(R){return new Promise(function(X,ha){R=L[N](R);P(X,ha,R.done,R.value);});});}function P(N,R,X,ha){Promise.resolve(ha).then(function(ta){N({value:ta,done:X});},R);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");H=L[Symbol.asyncIterator];return H?H.call(L):(L="function" === typeof q?q(L):L[Symbol.iterator](),I={},K("next"),K("throw"),K("return"),I[Symbol.asyncIterator]=function(){return this;},I);}function B(L,K){Object.defineProperty?Object.defineProperty(L,"raw",{value:K}):L.raw=K;return L;}function C(L){var K;if(L && L.__esModule)return L;K={};if(null != L)for(var P in L){"default" !== P && Object.prototype.hasOwnProperty.call(L,P) && J(K,L,P);}M(K,L);return K;}function D(L){return L && L.__esModule?L:{default:L};}function E(L,K,P,H){if("a" === P && !H)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof K?L !== K || !H:!K.has(L))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === P?H:"a" === P?H.call(L):H?H.value:K.get(L);}function G(L,K,P,H,I){if("m" === H)throw new TypeError("Private method is not writable");if("a" === H && !I)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof K?L !== K || !I:!K.has(L))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === H?I.call(L,P):I?I.value=P:K.set(L,P),P);}function F(L,K){if(null === K || "object" !== typeof K && "function" !== typeof K)throw new TypeError("Cannot use 'in' operator on non-object");return "function" === typeof L?K === L:L.has(K);}a.r(b);a.d(b,{__assign:function(){return c;},__asyncDelegator:function(){return z;},__asyncGenerator:function(){return x;},__asyncValues:function(){return A;},__await:function(){return y;},__awaiter:function(){return h;},__classPrivateFieldGet:function(){return E;},__classPrivateFieldIn:function(){return F;},__classPrivateFieldSet:function(){return G;},__createBinding:function(){return J;},__decorate:function(){return d;},__exportStar:function(){return p;},__extends:function(){return f;},__generator:function(){return m;},__importDefault:function(){return D;},__importStar:function(){return C;},__makeTemplateObject:function(){return B;},__metadata:function(){return n;},__param:function(){return g;},__read:function(){return u;},__rest:function(){return k;},__spread:function(){return t;},__spreadArray:function(){return v;},__spreadArrays:function(){return w;},__values:function(){return q;}});J=Object.create?function(L,K,P,H){var I;void 0 === H && (H=P);I=Object.getOwnPropertyDescriptor(K,P);if(!I || (("get" in I)?!K.__esModule:I.writable || I.configurable))I={enumerable:!0,get:function(){return K[P];}};Object.defineProperty(L,H,I);}:function(L,K,P,H){void 0 === H && (H=P);L[H]=K[P];};M=Object.create?function(L,K){Object.defineProperty(L,"default",{enumerable:!0,value:K});}:function(L,K){L["default"]=K;};},794:function(r,b,a){var c,l,f,k,d,g,n,h,m,p;c=a(67286)("%TypeError%");l=a(57017);f=a(32249);k=a(70126);d=a(38476);g=a(38733);n=a(80907);h=a(4);m=a(83891);p=a(18132);r.exports=function(q,u,t){if("Object" !== p(q))throw new c("Assertion failed: Type(O) is not Object");if(!n(u))throw new c("Assertion failed: IsPropertyKey(P) is not true");t=l({tPa:p,zHa:g,yHa:d},t)?t:m(t);if(!l({tPa:p,zHa:g,yHa:d},t))throw new c("Assertion failed: Desc is not a valid Property Descriptor");return f(g,h,k,q,u,t);};},70126:function(r,b,a){var c,l,f;c=a(10487);l=a(84902);f=a(18132);r.exports=function(k){"undefined" !== typeof k && c(f,"Property Descriptor","Desc",k);return l(k);};},38476:function(r,b,a){var c,l,f;c=a(23198);l=a(10487);f=a(18132);r.exports=function(k){if("undefined" === typeof k)return !1;l(f,"Property Descriptor","Desc",k);return c(k,"[[Get]]") || c(k,"[[Set]]")?!0:!1;};},83317:function(r,b,a){r.exports=a(9680);},20451:function(r,b,a){var c,l,f;c=a(90982)("%Reflect.construct%",!0);b=a(794);try{b({},"",{"[[Get]]":function(){}});}catch(k){b=null;}if(b && c){l={};f={};b(f,"length",{"[[Get]]":function(){throw l;},"[[Enumerable]]":!0});r.exports=function(k){try{c(k,f);}catch(d){return d === l;}};}else r.exports=function(k){return "function" === typeof k && !!k.prototype;};},38733:function(r,b,a){var c,l,f;c=a(23198);l=a(10487);f=a(18132);r.exports=function(k){if("undefined" === typeof k)return !1;l(f,"Property Descriptor","Desc",k);return c(k,"[[Value]]") || c(k,"[[Writable]]")?!0:!1;};},80907:function(r){r.exports=function(b){return "string" === typeof b || "symbol" === typeof b;};},77850:function(r,b,a){r.exports=a(94566);},4:function(r,b,a){var c;c=a(97911);r.exports=function(l,f){return l === f?0 === l?1 / l === 1 / f:!0:c(l) && c(f);};},99939:function(r,b,a){var c;c=a(97911);r.exports=function(l,f){return l === f || c(l) && c(f);};},88251:function(r,b,a){var c,l,f,k;b=a(67286);c=b("%Symbol.species%",!0);l=b("%TypeError%");f=a(20451);k=a(18132);r.exports=function(d,g){if("Object" !== k(d))throw new l("Assertion failed: Type(O) is not Object");d=d.constructor;if("undefined" === typeof d)return g;if("Object" !== k(d))throw new l("O.constructor is not an Object");d=c?d[c]:void 0;if(null == d)return g;if(f(d))return d;throw new l("no constructor found");};},14463:function(r){r.exports=function(b){return !!b;};},76113:function(r,b,a){var c,l,f,k,d,g;c=a(46382);l=a(26827);f=a(84583);k=a(97911);d=a(51832);g=a(79747);r.exports=function(n){var h;n=f(n);if(k(n) || 0 === n)return 0;if(!d(n))return n;h=l(c(n));return 0 === h?0:g(n) * h;};},69808:function(r,b,a){var c,l;c=a(74339);l=a(76113);r.exports=function(f){f=l(f);return 0 >= f?0:f > c?c:f;};},84583:function(r,b,a){var c,l,f,k,d,g,n,h,m,p,q,u,t,w;c=a(67286);l=c("%TypeError%");f=c("%Number%");b=c("%RegExp%");k=c("%parseInt%");c=a(62680);d=a(63671);g=a(45819);n=c("String.prototype.slice");h=d(/^0b[01]+$/i);m=d(/^0o[0-7]+$/i);p=d(/^[-+]0x[0-9a-f]+$/i);b=new b("[\u0085\u200b\ufffe]","g");q=d(b);u=/(^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+)|([\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+$)/g;t=c("String.prototype.replace");w=a(99197);r.exports=function x(y){var z;y=g(y)?y:w(y,f);if("symbol" === typeof y)throw new l("Cannot convert a Symbol value to a number");if("bigint" === typeof y)throw new l("Conversion from 'BigInt' to 'number' is not allowed.");if("string" === typeof y){if(h(y))return x(k(n(y,2),2));if(m(y))return x(k(n(y,2),8));if(q(y) || p(y))return NaN;z=t(y,u,"");if(z !== y)return x(z);}return f(y);};},48668:function(r,b,a){var c,l;c=a(67286)("%Object%");l=a(77850);r.exports=function(f){l(f);return c(f);};},99197:function(r,b,a){var c;c=a(5885);r.exports=function(l){return 1 < arguments.length?c(l,arguments[1]):c(l);};},83891:function(r,b,a){var c,l,f,k,d;c=a(23198);l=a(67286)("%TypeError%");f=a(18132);k=a(14463);d=a(83317);r.exports=function(g){var n,h;if("Object" !== f(g))throw new l("ToPropertyDescriptor requires an object");n={};c(g,"enumerable") && (n["[[Enumerable]]"]=k(g.enumerable));c(g,"configurable") && (n["[[Configurable]]"]=k(g.configurable));c(g,"value") && (n["[[Value]]"]=g.value);c(g,"writable") && (n["[[Writable]]"]=k(g.writable));if(c(g,"get")){h=g.get;if("undefined" !== typeof h && !d(h))throw new l("getter must be a function");n["[[Get]]"]=h;}if(c(g,"set")){g=g.set;if("undefined" !== typeof g && !d(g))throw new l("setter must be a function");n["[[Set]]"]=g;}if((c(n,"[[Get]]") || c(n,"[[Set]]")) && (c(n,"[[Value]]") || c(n,"[[Writable]]")))throw new l("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return n;};},18132:function(r,b,a){var c;c=a(96222);r.exports=function(l){return "symbol" === typeof l?"Symbol":"bigint" === typeof l?"BigInt":c(l);};},46382:function(r,b,a){var c;c=a(67286)("%Math.abs%");r.exports=function(l){return c(l);};},26827:function(r,b,a){var c,l;c=a(18132);l=Math.floor;r.exports=function(f){return "BigInt" === c(f)?f:l(f);};},94566:function(r,b,a){var c;c=a(67286)("%TypeError%");r.exports=function(l,f){if(null == l)throw new c(f || "Cannot call method on " + l);return l;};},96222:function(r){r.exports=function(b){if(null === b)return "Null";if("undefined" === typeof b)return "Undefined";if("function" === typeof b || "object" === typeof b)return "Object";if("number" === typeof b)return "Number";if("boolean" === typeof b)return "Boolean";if("string" === typeof b)return "String";};},90982:function(r,b,a){r.exports=a(67286);},32249:function(r,b,a){var c,l,f,k,d;b=a(81181);c=a(67286);l=b() && c("%Object.defineProperty%",!0);f=b.GNb();k=f && a(27595);d=a(62680)("Object.prototype.propertyIsEnumerable");r.exports=function(g,n,h,m,p,q){if(!l){if(!g(q) || !q["[[Configurable]]"] || !q["[[Writable]]"] || (p in m) && d(m,p) !== !!q["[[Enumerable]]"])return !1;g=q["[[Value]]"];m[p]=g;return n(m[p],g);}if(f && "length" === p && ("[[Value]]" in q) && k(m) && m.length !== q["[[Value]]"])return (m.length=q["[[Value]]"],m.length === q["[[Value]]"]);l(m,p,h(q));return !0;};},27595:function(r,b,a){var c;b=a(67286)("%Array%");c=!b.isArray && a(62680)("Object.prototype.toString");r.exports=b.isArray || (function(l){return "[object Array]" === c(l);});},10487:function(r,b,a){var c,l,f,k;b=a(67286);c=b("%TypeError%");l=b("%SyntaxError%");f=a(23198);k={"Property Descriptor":function(d){var g,n;g={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(n in d){if(f(d,n) && !g[n])return !1;}g=f(d,"[[Value]]");d=f(d,"[[Get]]") || f(d,"[[Set]]");if(g && d)throw new c("Property Descriptors may not be both accessor and data descriptors");return !0;},"Match Record":a(40508),"Iterator Record":function(d){return f(d,"[[Iterator]]") && f(d,"[[NextMethod]]") && f(d,"[[Done]]");},"PromiseCapability Record":function(d){return d && f(d,"[[Resolve]]") && "function" === typeof d["[[Resolve]]"] && f(d,"[[Reject]]") && "function" === typeof d["[[Reject]]"] && f(d,"[[Promise]]") && d["[[Promise]]"] && "function" === typeof d["[[Promise]]"].then;},"AsyncGeneratorRequest Record":function(d){return d && f(d,"[[Completion]]") && f(d,"[[Capability]]") && k["PromiseCapability Record"](d["[[Capability]]"]);}};r.exports=function(d,g,n,h){var m;m=k[g];if("function" !== typeof m)throw new l("unknown record type: " + g);if("Object" !== d(h) || !m(h))throw new c(n + " must be a " + g);};},84902:function(r){r.exports=function(b){var a;if("undefined" === typeof b)return b;a={};("[[Value]]" in b) && (a.value=b["[[Value]]"]);("[[Writable]]" in b) && (a.writable=!!b["[[Writable]]"]);("[[Get]]" in b) && (a.get=b["[[Get]]"]);("[[Set]]" in b) && (a.set=b["[[Set]]"]);("[[Enumerable]]" in b) && (a.enumerable=!!b["[[Enumerable]]"]);("[[Configurable]]" in b) && (a.configurable=!!b["[[Configurable]]"]);return a;};},51832:function(r,b,a){var c;c=a(97911);r.exports=function(l){return ("number" === typeof l || "bigint" === typeof l) && !c(l) && Infinity !== l && -Infinity !== l;};},40508:function(r,b,a){var c;c=a(23198);r.exports=function(l){return c(l,"[[StartIndex]]") && c(l,"[[EndIndex]]") && 0 <= l["[[StartIndex]]"] && l["[[EndIndex]]"] >= l["[[StartIndex]]"] && String(parseInt(l["[[StartIndex]]"],10)) === String(l["[[StartIndex]]"]) && String(parseInt(l["[[EndIndex]]"],10)) === String(l["[[EndIndex]]"]);};},97911:function(r){r.exports=Number.isNaN || (function(b){return b !== b;});},45819:function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},57017:function(r,b,a){var c,l;b=a(67286);c=a(23198);l=b("%TypeError%");r.exports=function(f,k){var d,g;if("Object" !== f.tPa(k))return !1;d={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(g in k){if(c(k,g) && !d[g])return !1;}if(f.zHa(k) && f.yHa(k))throw new l("Property Descriptors may not be both accessor and data descriptors");return !0;};},74339:function(r,b,a){a=a(67286);b=a("%Math%");a=a("%Number%");r.exports=a.MAX_SAFE_INTEGER || b.pow(2,53) - 1;},79747:function(r){r.exports=function(b){return 0 <= b?1:-1;};}};Pa={};(function(){oa.d=function(r,b){for(var a in b){oa.G8a(b,a) && !oa.G8a(r,a) && Object.defineProperty(r,a,{enumerable:!0,get:b[a]});}};})();(function(){oa.P5=(function(){if("object" === typeof globalThis)return globalThis;try{return this || new Function("return this")();}catch(r){if("object" === typeof ob)return ob;}})();})();(function(){oa.G8a=function(r,b){return Object.prototype.hasOwnProperty.call(r,b);};})();(function(){oa.r=function(r){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});Object.defineProperty(r,"__esModule",{value:!0});};})();oa(1738);oa(30026)();oa(65574)();ob._cad_global={};ob.DEBUG=!1;oa(33096);oa(22365);oa(32687);oa(3887);oa(52569);oa(8825);oa(87051);oa(22894);oa(32219);oa(24066);oa(45146);oa(94886);oa(37509);oa(2734);oa(77705);oa(31298);oa(15208);oa(981);oa(73100);oa(7953);oa(15531);oa(97154);oa(33579);oa(50350);oa(75876);oa(19630);oa(59416);oa(50040);oa(70);oa(29204);oa(99732);oa(52828);oa(1481);oa(61726);oa(24427);oa(62604);oa(78857);oa(74413);oa(84281);oa(991);oa(46493);oa(24674);oa(93114);oa(36792);oa(43422);oa(74098);oa(86258);oa(18128);oa(45526);oa(90762);oa(73056);oa(67263);oa(53754);oa(20318);oa(70632);oa(59032);oa(45706);oa(3390);oa(2898);oa(76563);oa(39480);oa(13044);oa(62439);oa(6305);oa(42654);oa(78719);oa(59405);oa(58343);oa(59219);oa(61524);oa(13777);oa(41325);oa(42433);oa(30689);oa(66093);})();}).call(ob);})(window);}).call(window);